//@ui5-bundle sap/landvisz/library-preload.js
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/ConnectionEntity", ["sap/landvisz/library","sap/landvisz/internal/LinearRowField","sap/ui/core/Control","sap/ui/core/HTML","sap/ui/core/Popup","sap/ui/commons/Image","sap/ui/commons/Label","sap/ui/commons/layout/VerticalLayout","sap/ui/ux3/ToolPopup","./ConnectionEntityRenderer"],function(t,o,e,i,n,s,a,l,p,u){"use strict";var r=n.Dock;var h=t.ConnectionType;var d=t.EntityCSSSize;var c=t.DependencyType;var y=t.ViewType;var g=e.extend("sap.landvisz.ConnectionEntity",{metadata:{library:"sap.landvisz",properties:{connectionId:{type:"string",group:"Data",defaultValue:null},size:{type:"string",group:"Data",defaultValue:null},type:{type:"sap.landvisz.ConnectionType",group:"Identification",defaultValue:null},linkId:{type:"string",group:"Data",defaultValue:null},linkedHeader:{type:"string",group:"Data",defaultValue:null},dependencyTooltip:{type:"string",group:"Data",defaultValue:null},showOverlay:{type:"boolean",group:"Data",defaultValue:true}},aggregations:{connectionData:{type:"sap.landvisz.internal.LinearRowField",multiple:true,singularName:"connectionData"}}}});g.prototype.init=function(){this.viewType;this.top=0;this.left=0;this.width=0;this.height=90;this.innerTop=0;this.innerLeft=0;this.innerWidth=0;this.innerHeight=0;this.holdDisplay=false;this.initializationDone=false};g.prototype.initControls=function(){if(!this.oVLayoutRows)this.oVLayoutRows=new l(this.getId()+"-ConnectionRowVLayout");if(!this.connectionLabel)this.connectionLabel=new a(this.getId()+"-connectionLabel");if(!this.connectionImage)this.connectionImage=new s(this.getId()+"-connectionImage");if(!this.oVLayoutCallout)this.oVLayoutCallout=new l(this.getId()+"-calloutVLayout");if(!this.oVLayoutToolPopup)this.oVLayoutToolPopup=new l(this.getId()+"-toolPopupVLayout");if(!this.calloutLabel)this.calloutLabel=new a(this.getId()+"-calloutLabel");if(!this.toolPopup){this.toolPopup=new p(this.getId()+"toolpopup");this.toolPopup.addContent(this.oVLayoutToolPopup)}if(this.getType()==h.ProductSystem)this.oVLayoutToolPopup.addStyleClass("sapLandviszCalloutPS productSystemPopup");if(this.getType()==h.TechnicalSystem)this.oVLayoutToolPopup.addStyleClass("sapLandviszCalloutPS technicalSystemPopup");if(this.getType()==h.MobileSolution)this.oVLayoutToolPopup.addStyleClass("sapLandviszCalloutPS mobileSolutionPopup");this.toolPopup.addStyleClass("sapLandviszCalloutPS");if(this.getSize()==d.Small)this.oVLayoutToolPopup.addStyleClass("sapLandviszCalloutRowFieldSmall");else this.oVLayoutToolPopup.addStyleClass("sapLandviszCalloutRowField")};g.prototype.onclick=function(t){if(t.target.id==this.getId()+"connectionRow")t.srcControl.holdDisplay=!t.srcControl.holdDisplay;else this.holdDisplay=!this.holdDisplay;if(this.holdDisplay){if(this.viewType==c.NETWORK_VIEW){var o=jQuery(document.getElementById(this.getId()+"connectionRow"));this.toolPopup.setOpener(o);if(!this.toolPopup.isOpen()){this.toolPopup.setPosition(r.CenterBottom,r.CenterTop,o,"-10 0","fit");var e=jQuery(document.getElementById(this.getId()+"toolpopup"));this.toolPopup.open()}}this.fireEvent("connectionMouseover")}};g.prototype.onmouseenter=function(t){if(this.viewType==y.SOLUTION_VIEW)t.stopImmediatePropagation();else if(t.target.id==this.getId()+"connectionRow"){var o=false;var e=false;for(var i=0;i<this.getParent().getConnectionEntities().length;i++){if(this.getParent().getConnectionEntities()[i].holdDisplay==true){if(this.getParent().getConnectionEntities()[i].getId()==this.getId()){o=true;e=true}else{o=true}}}if(!o||e&&o){if(this.viewType==c.NETWORK_VIEW){var n=jQuery(document.getElementById(this.getId()+"connectionRow"));this.toolPopup.setOpener(n);if(!this.toolPopup.isOpen()){this.toolPopup.setPosition(r.CenterBottom,r.CenterTop,n,"-10 0","fit");var s=jQuery(document.getElementById(this.getId()+"toolpopup"));this.toolPopup.open()}}}if(this.getShowOverlay()==true&&this.getLinkId()&&""!=this.getLinkId())this.fireEvent("connectionMouseover")}};g.prototype.onmouseleave=function(t){if(this.viewType==y.SOLUTION_VIEW)t.stopImmediatePropagation();else{if(this.holdDisplay==false&&this.toolPopup.isOpen()){this.toolPopup.close()}if(this.getLinkId()&&""!=this.getLinkId())this.fireEvent("connectionMouseout")}};g.prototype.onAfterRendering=function(){var t=this;jQuery(document.getElementById(this.getId()+"connectionRow")).mouseleave(function(o){t.onmouseleave(o)});jQuery(document.getElementById(this.getId()+"connectionRow")).mouseenter(function(o){t.onmouseenter(o)})};return g});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/ConnectionEntityRenderer", ["sap/landvisz/library","sap/landvisz/internal/LinearRowField"],function(e,t){"use strict";var i=e.ConnectionType;var n=e.DependencyType;var o=e.EntityCSSSize;var a=e.ViewType;var l={};l.render=function(e,l){if(!this.initializationDone){l.initControls();l.initializationDone=true;e.write("<div");e.writeControlData(l);if(l.viewType==n.NETWORK_VIEW)e.addClass("sapLandviszConnection_entity_container");else if(l.viewType==n.BOX_VIEW)e.addClass("sapLandviszConnectionBox");else if(l.viewType==a.SOLUTION_VIEW)e.addClass("sapLandviszSolutionBox");e.writeClasses();if(this.left!=0)e.addStyle("left",l.left+"px");if(this.top!=0)e.addStyle("top",l.top+"px");if(l.width!=0)e.addStyle("width",l.width+"px");if(l.height!=0)e.addStyle("height",l.height+"px");e.addStyle("position","absolute");e.writeStyles();e.write(" >");e.write("<div");e.writeAttributeEscaped("id",l.getId()+"connectionRow");e.addClass("connectionEntity");if(l.getType()==i.ProductSystem)e.addClass("productSystem");if(l.getType()==i.TechnicalSystem)e.addClass("technicalSystem");if(l.getType()==i.MobileSolution&&l.viewType!=a.SOLUTION_VIEW)e.addClass("mobileSolution");e.writeClasses();if(this.left!=0)e.addStyle("left",l.innerLeft+"px");if(this.top!=0)e.addStyle("top",l.innerTop+"px");if(l.width!=0)e.addStyle("width",l.innerWidth+"px");if(l.height!=0)e.addStyle("height",l.innerHeight+"px");e.addStyle("position","absolute");var s=l.getConnectionData();if(s.length>1)e.addStyle("overflow","auto");e.writeStyles();e.write(">");e.write("<div");e.writeAttributeEscaped("id",l.getId()+"connectionRowField");e.addClass("boxRowDisplay");if(s.length<=1){e.addStyle("width","100%")}e.writeStyles();e.addClass("sapLandviszConnectionRowField");e.writeClasses();e.write(">");if(l.viewType==a.SOLUTION_VIEW){for(var d=0;d<s.length;d++){if(s.length>1){s[d].setRenderingSize(o.Medium);s[d].addStyleClass("sapLandviszConnectionDataNotopMargin");e.renderControl(s[d])}else{l.connectionImage.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"48x48"+"/Solution.png")).addStyleClass("solutionImage");l.connectionImage.setTooltip(l.getDependencyTooltip());e.renderControl(l.connectionImage);l.connectionLabel.setText(s[d].getLabel());l.connectionLabel.setTooltip(s[d].getTooltip());l.connectionLabel.addStyleClass("solutionRow");e.renderControl(l.connectionLabel)}}}else{var s=l.getConnectionData();if(s.length>0){for(var d=0;d<s.length;d++){if(l.getSize()==o.Small)s[d].setRenderingSize(o.Small);else s[d].setRenderingSize(o.Medium);s[d].addStyleClass("sapLandviszConnectionDataNotopMargin");e.renderControl(s[d])}}var r;if(s.length>0){l.oVLayoutToolPopup.removeAllContent();l.oVLayoutToolPopup.addStyleClass("sapLandviszConnectionToolPopup");for(var d=0;d<s.length;d++){if(l.getSize()==o.Small)s[d].setRenderingSize(o.Small);else s[d].setRenderingSize(o.Medium);r=new t;r.addStyleClass("overlayRow");r.setLabel(s[d].getLabel());r.setValue(s[d].getValue());r.setRenderingSize(s[d].getRenderingSize());r.setIconType(s[d].getIconType());r.setIconTitle(s[d].getIconTitle());r.setLinkSource(s[d].getLinkSource());r.setRightIconSrc(s[d].getRightIconSrc());l.oVLayoutToolPopup.addContent(r)}}}e.write("</div>");e.write("</div>");e.write("</div>");var p=l.oVLayoutCallout.getContent();for(var d=0;d<p.length;d++){l.addAggregation("connectionData",p[d],false)}}};return l},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/Connector", ["sap/landvisz/library","sap/ui/core/Control","./ConnectorRenderer"],function(e,t,a){"use strict";var r=t.extend("sap.landvisz.Connector",{metadata:{library:"sap.landvisz",properties:{source:{type:"string",group:"Data",defaultValue:null},target:{type:"string",group:"Data",defaultValue:null}}}});r.prototype.init=function(){this.viewType};return r});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/ConnectorRenderer", [],function(){"use strict";var e={};e.render=function(e,n){};return e},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/EntityConstants", ["sap/ui/base/Object"],function(e){"use strict";var t=function(){};t.prototype=Object.create(e.prototype||null);t.internalEvent=false;return t},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/LandscapeEntity", ["sap/landvisz/library","sap/landvisz/EntityConstants","sap/landvisz/internal/EntityAction","sap/landvisz/internal/IdentificationBar","sap/landvisz/internal/ModelingStatus","sap/ui/core/Control","sap/ui/core/Icon","sap/ui/commons/Dialog","sap/ui/commons/Image","sap/ui/commons/Label","sap/ui/commons/layout/HorizontalLayout","sap/ui/commons/layout/VerticalLayout","sap/ui/commons/TabStrip","./LandscapeEntityRenderer"],function(t,e,i,a,s,o,n,r,l,u,h,p,y,d){"use strict";var c=t.EntityCSSSize;var g=t.ModelingStatus;var f=o.extend("sap.landvisz.LandscapeEntity",{metadata:{library:"sap.landvisz",properties:{systemName:{type:"string",group:"Data",defaultValue:null},type:{type:"sap.landvisz.LandscapeObject",group:"Data",defaultValue:null},qualifierText:{type:"string",group:"Data",defaultValue:null},qualifierTooltip:{type:"string",group:"Data",defaultValue:null},qualifierType:{type:"string",group:"Data",defaultValue:null},renderingSize:{type:"sap.landvisz.EntityCSSSize",group:"Dimension",defaultValue:c.Regular},defaultState:{type:"string",group:"Data",defaultValue:null},description:{type:"string",group:"Data",defaultValue:null},actions:{type:"object",group:"Data",defaultValue:null},systemStatus:{type:"sap.landvisz.ModelingStatus",group:"Data",defaultValue:g.NORMAL},statusTooltip:{type:"string",group:"Data",defaultValue:null},explodeViewWidth:{type:"sap.ui.core.CSSSize",group:"Data",defaultValue:null},explodeViewHeight:{type:"sap.ui.core.CSSSize",group:"Data",defaultValue:null},showCustomActions:{type:"boolean",group:"Identification",defaultValue:true},showEntityActions:{type:"boolean",group:"Data",defaultValue:true},systemId:{type:"string",group:"Identification",defaultValue:null},stateIconSrc:{type:"string",group:"Data",defaultValue:null},stateIconTooltip:{type:"string",group:"Data",defaultValue:null},componentType:{type:"sap.landvisz.ComponentType",group:"Identification",defaultValue:null},componentTypeTooltip:{type:"string",group:"Data",defaultValue:null},trackSystemCount:{type:"string",group:"Misc",defaultValue:null}},aggregations:{dataContainers:{type:"sap.landvisz.internal.DataContainer",multiple:true,singularName:"dataContainer"},actionBar:{type:"sap.landvisz.internal.ActionBar",multiple:true,singularName:"actionBar"},entityStatus:{type:"sap.ui.commons.Image",multiple:false}},events:{mouseOverIdenIcon:{},statusSelect:{},trackInfoPress:{}}}});f.prototype.init=function(){this.initializationDone=false;this.top=0;this.explodeViewClosed=true;this.left=0;this.oHLayout=null;this.firstTime=true;var t=sap.ui.getCore().getConfiguration().getTheme();this.internalEvent=false;this.showMax=true;this._imgResourcePath=sap.ui.resource("sap.landvisz","themes/base/img/framework/");this._imgFolderPath="16x16/";this.maxIconSrc=this._imgResourcePath+this._imgFolderPath+"maximize_enable_dark.png";this.restoreIconSrc=this._imgResourcePath+this._imgFolderPath+"restore_enable_dark.png";this.smvIconSrc=this._imgResourcePath+ +this._imgFolderPath+"openshowall_enable_dark.png";this.smvCollapseIconSrc=this._imgResourcePath+ +this._imgFolderPath+"closeshowall_enable_dark.png";this.entityAction;this.entityActionArray=new Array;var e=sap.ui.getCore().getLibraryResourceBundle("sap.landvisz");this.SHOW_ALL_TEXT=e.getText("SHOW_ALL");this.COLLAPSE_TEXT=e.getText("COLLAPSE_EXPLODE_VIEW");this.MAXIMIZE_TEXT=e.getText("MAXIMIZE");this.RESTORE_TEXT=e.getText("RESTORE");this.NEXT=e.getText("NEXT");this.PREVIOUS=e.getText("PREVIOUS");this.createActionButtons(this.SHOW_ALL_TEXT,"showAll",this.smvIconSrc);this.createActionButtons(this.COLLAPSE_TEXT,"collapseAll",this.smvCollapseIconSrc);this.createActionButtons(this.MAXIMIZE_TEXT,"max",this.maxIconSrc);this.createActionButtons(this.RESTORE_TEXT,"restore",this.restoreIconSrc);this.dialogArray=new Array;this.propertyArray=new Array;this.expVisible=false;this.showMiniNavigation=true;this.hasNavigationEvent=false;this.hasEntityEvent=false;this.containerEvent=false;this.maxEnabled=true;this.sViewWidth=0;this.sViewHeight=0;this.viewType="";this.showOverlay=false;this.overlayFilter="";this.oDialog=new r({modal:false});this.previousClicked=false;this.display="block"};f.prototype.exit=function(){this.oHLayout&&this.oHLayout.destroy();this.oVLayout&&this.oVLayout.destroy()};f.prototype.createActionButtons=function(t,e,a){var s=this.getId();this.entityAction=new i(s+e+"EntityAction");this.entityAction.setActionTooltip(t);this.entityActionArray.push(this.entityAction)};f.prototype.initControls=function(){var t=this.getId();var e=sap.ui.getCore().getLibraryResourceBundle("sap.landvisz");if(!this.oVLayout)this.oVLayout=new p(t+"-CLVEntityVLayout");if(!this.oVLayoutContainer)this.oVLayoutContainer=new p(t+"-CLVEntityVLayoutContainer");if(!this.oVLayoutProperties)this.oVLayoutProperties=new p(t+"-CLVEntityVLayoutProperties");if(!this.oHLayout)this.oHLayout=new h(t+"CLVEntityHLayout");if(!this.oIdnBar)this.oIdnBar=new a(t+"-CLVEntityIdnRegion");if(!this.modelStatus)this.modelStatus=new s(t+"-CLVEntityModelingStatus");if(!this.propertyHeaders)this.propertyHeaders=new Array;this.selectedIndex=0;this.dataContainer;this.headerBtn;this.navItem;this.isAggregated;if(!this.oHLayoutMiniNavigation)this.oHLayoutMiniNavigation=new h(t+"CLVEntityMiniNavigationHLayout");if(!this.oHLayoutAction)this.oHLayoutAction=new h(t+"CLVEntityActions");if(!this.oHLayoutAllAction)this.oHLayoutAllAction=new h(t+"CLVEntityAllActions");this.smvContainer;this.containerWidth;this.oToolBarBtn;this.visibleTabCount=0;if(!this.entityHeader)this.entityHeader=new y(t+"-CLVTabStrip");if(!this.oHeadersLayout)this.oHeadersLayout=new h(t+"-CLVHeadersLayout");if(!this.previousIcon)this.nextIcon=new l(t+"-NextImage");if(!this.previousIcon)this.previousIcon=new l(t+"-PreviousImage");if(!this.oSingleHeaderLayout)this.oSingleHeaderLayout=new h(t+"-oSingleHeaderLayout");if(!this.oSingleHeaderLabel)this.oSingleHeaderLabel=new u(t+"-oSingleHeaderLabel");if(!this.oVLayoutOverlay)this.oVLayoutOverlay=new p(t+"-vlayoutOverlay");this.nextEnabled=false;this.previousEnable=false;this.entityMaximized;var i=this;this.infoIcon=new n({src:"sap-icon://hint",press:function(){i.fireTrackInfoPress()}}).addStyleClass("trackInfoIcon")};f.prototype.onclick=function(t){if(t.srcControl.getTooltip()==this.MAXIMIZE_TEXT)this.display="none";else this.display="block"};f.prototype.onAfterRendering=function(){setTimeout(function(){var t=jQuery(document.getElementById("SMV"));var e;if(t&&t.length>0){for(var i=0;i<t[0].children.length;i++){e=jQuery(t[0].children[i]);e.show(700)}}},800);if(this.entityMaximized==true){var t=this.containerWidth-2;this.oHLayoutMiniNavigation.$().css({width:t});var e=this.sViewHeight-32-41;var i=this.sViewWidth-33-100;this.$("CLVEntityVLayoutProperties").css({height:e,width:i,display:this.display})}var a=this.containerWidth;if(this.entityMaximized!=true)a=a*12;var s=this.oHeadersLayout.$();s.css({width:a});var o=this.oHeadersLayout.getContent();var n;var r;if(o&&o.length>1){for(var l=0;l<o.length;l++){n=o[l];r=n.$();if(n.inDisplay==true){r.show()}else r.hide()}}var u=this.getDataContainers();var h;var p;if(u&&u.length>1){for(var l=0;l<u.length;l++){h=u[l];p=h.$();if(h.inDisplay==true){p.show(700)}else p.hide(500)}}this.previousClicked=false};return f});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/LandscapeEntityRenderer", ["sap/landvisz/library","sap/landvisz/internal/DataContainer","sap/landvisz/internal/HeaderList","sap/landvisz/internal/LinearRowField","sap/landvisz/internal/NestedRowField","sap/landvisz/internal/SingleDataContainer","sap/landvisz/internal/TreeField","sap/landvisz/LongTextField","sap/ui/core/Control","sap/ui/commons/Button","sap/ui/commons/Label"],function(e,t,i,a,r,n,o,s,l,d,g){"use strict";var p=e.EntityCSSSize;var y=e.LandscapeObject;var u=e.ViewType;var v={};v.render=function(e,t){var i=t.getRenderingSize();if(!this.initializationDone){t.initControls();t.initializationDone=true;e.write("<div");e.addClass("sapLandviszLandscapeEntity");e.writeClasses();e.writeControlData(t);if(t.expVisible==true){e.addStyle("width","100%");e.addStyle("height","100%")}if(this.left!=0)e.addStyle("left",t.left+"px");if(this.top!=0)e.addStyle("top",t.top+"px");if(t.entityMaximized==true){if(t.sViewWidth!=0)e.addStyle("width",t.sViewWidth+"px");if(t.sViewHeight!=0)e.addStyle("height",t.sViewHeight+"px")}if(t.viewType==u.DEPENDENCY_VIEW||t.viewType==u.SOLUTION_VIEW)e.addStyle("position","absolute");else e.addStyle("position","relative");e.writeStyles();e.write(">");this._renderModelingStatus(e,t);this._renderActionBar(e,t);this._renderSystemEntity(e,t);e.write("</div>");e.write("</div>");e.write("</div>");var a=t.oHeadersLayout.getContent();if(a.length>0){for(var r=0;r<a.length-2;r++)t.addAggregation("dataContainers",a[r],false)}if(t.getDataContainers()&&t.getDataContainers().length>0){var o=t.oVLayoutProperties.getContent();var s=t.propertyHeaders[t.selectedIndex];for(var r=0;r<o.length;r++){s.addAggregation("properties",o[r],false)}}if(t.expVisible==true){this._renderUnselectedHeaderPopup(e,t)}if(t.getDataContainers()&&t.getDataContainers().length>0){var l=t.getDataContainers();var s;var d;for(var r=0;r<l.length;r++){s=l[r];d=false;for(var g=0;g<t.dialogArray.length;g++){if(t.dialogArray[g].getHeader()==s.getHeader()){d=true;break}}if(d==false){t.smvContainer=new n(t.getId()+r+"CLVSMVSection");t.smvContainer.setHeader(s.getHeader());t.dialogArray.push(t.smvContainer)}}}t.firstTime=false;this._renderOverlayContainer(e,t);e.write("</div>");var p=t.oHLayoutAction.getContent();for(var g=p.length-1;g>=0;g--){t.addAggregation("actionBar",p[g],false)}t.containerEvent=false}};v._renderModelingStatus=function(e,t){var i=t.getRenderingSize();e.write("<div");t.modelStatus.entityMaximized=t.entityMaximized;if(t.entityMaximized!=true){if(i==p.Small)e.addClass("sapLandviszStatusSmallSize");else if(i==p.RegularSmall)e.addClass("sapLandviszStatusRegularSmallSize");else if(i==p.Regular)e.addClass("sapLandviszStatusRegularSize");else if(i==p.Medium)e.addClass("sapLandviszStatusMediumSize");else if(i==p.Large)e.addClass("sapLandviszStatusLargeSize")}else{e.addClass("sapLandviszStatusMaximizeSize")}e.writeClasses();e.write(">");t.modelStatus.setStatus(t.getSystemStatus());t.modelStatus.setStatusTooltip(t.getStatusTooltip());t.modelStatus.setStateIconSrc(t.getStateIconSrc());t.modelStatus.setStateIconTooltip(t.getStateIconTooltip());if(t.getEntityStatus())t.modelStatus.statusImage=t.getEntityStatus();t.modelStatus.renderSize=i;if(t.firstTime==true){t.modelStatus.attachEvent("statusSelected",function(e){t.fireStatusSelect()})}e.renderControl(t.modelStatus)};v._renderActionBar=function(e,t){var i=t.getRenderingSize();var a=t.getShowCustomActions();var r=t.getShowEntityActions();e.write("<div");if(t.entityMaximized!=true){e.addClass("sapLandviszActionBarSizeCommon");if(i==p.Small){e.addClass("sapLandviszActionBarSmallSize");t.oVLayoutProperties.addStyleClass("sapLandviszSmallSizesPropertySection");t.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");t._imgFolderPath="16x16/";t.restore=false}else if(i==p.RegularSmall){e.addClass("sapLandviszActionBarRegularSmallSize");t.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySection");t.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");t._imgFolderPath="16x16/";t.restore=false}else if(i==p.Regular){e.addClass("sapLandviszActionBarRegularSize");t.oVLayoutProperties.addStyleClass("sapLandviszRegularSizesPropertySection");t.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");t._imgFolderPath="16x16/";t.restore=false}else if(i==p.Medium){e.addClass("sapLandviszActionBarMediumSize");t.oVLayoutProperties.addStyleClass("sapLandviszMediumSizesPropertySection");t.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");t.restore=false;t._imgFolderPath="16x16/"}else if(i==p.Large){e.addClass("sapLandviszActionBarLargeSize");t.oVLayoutProperties.addStyleClass("sapLandviszLargeSizesPropertySection");t.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");t.restore=true;t._imgFolderPath="24x24/"}if(t.expVisible==true){if(i==p.Regular){t.oVLayoutProperties.addStyleClass("sapLandviszRegularSizesPropertySectionSmv");t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv")}else if(i==p.RegularSmall){t.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv");t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSizesPropertySectionSmv");t.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");if(t.explodeViewClosed==true)t.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySection");else t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSmallSizesPropertySection")}}else{t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSizesPropertySectionSmv")}}if(t.entityMaximized==true){var n=t.sViewWidth-30;e.addStyle("width",n+"px");e.addClass("sapLandviszActionBarMaximizeSize");t.oVLayoutProperties.addStyleClass("sapLandviszMaximizePropertySection");t.oVLayoutProperties.addStyleClass("sapLandviszMaximizePropertySection");if(i==p.Large)t.oVLayoutProperties.removeStyleClass("sapLandviszLargeSizesPropertySection");else if(i==p.Small)t.oVLayoutProperties.removeStyleClass("sapLandviszSmallSizesPropertySection");else if(i==p.RegularSmall)t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSmallSizesPropertySection");else if(i==p.Regular)t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSizesPropertySection");else if(i==p.Medium)t.oVLayoutProperties.removeStyleClass("sapLandviszMediumSizesPropertySection");t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv");t.restore=true;t._imgFolderPath="24x24/"}e.writeStyles();e.writeClasses();e.write(">");if(a==true)this._renderCustomActionRegion(e,t);t.oHLayoutAllAction.addContent(t.oHLayoutAction);if(r==true)this._renderEntityAction(e,t);if(t.entityMaximized==true){t.oHLayoutAllAction.addStyleClass("sapLandviszAllActionLayoutMaximize");t.oHLayoutAllAction.removeStyleClass("sapLandviszAllActionLayout")}else{t.oHLayoutAllAction.addStyleClass("sapLandviszAllActionLayout");t.oHLayoutAllAction.removeStyleClass("sapLandviszAllActionLayoutMaximize")}e.renderControl(t.oHLayoutAllAction)};v._renderSystemEntity=function(e,t){var i=t.getRenderingSize();e.write("<div");if(t.entityMaximized!=true){if(i==p.Small){e.addClass("sapLandviszLandscapeEntitySmallSize");t.containerWidth=21}else if(i==p.RegularSmall){e.addClass("sapLandviszLandscapeEntityRegularSmallSize");t.containerWidth=31.5}else if(i==p.Regular){e.addClass("sapLandviszLandscapeEntityRegularSize");t.containerWidth=36.5}else if(i==p.Medium){e.addClass("sapLandviszLandscapeEntityMediumSize");t.containerWidth=41}else if(i==p.Large){e.addClass("sapLandviszLandscapeEntityLargeSize");t.containerWidth=62}}else if(t.entityMaximized==true){e.addClass("sapLandviszLandscapeEntityMaximizedSize");e.write(" style='");var a;var r;if(t.sViewWidth!=0){a=t.sViewWidth-30;e.write("width:"+a+"px;")}if(t.sViewHeight!=0){r=t.sViewHeight-32;e.write("height:"+r+"px;")}e.write("position:absolute;");e.write("'")}e.writeClasses();e.write(">");if(t.getType()==y.Track){this._renderTrack(e,t)}else{this._renderIdentificationBar(e,t);this._renderDataEntityRegion(e,t)}e.renderControl(t.oHLayout)};v._renderTrack=function(e,t){e.write("<div");e.addClass("trackEntity");e.writeClasses();e.write(">");e.write("<div");e.addClass("trackLogo");e.writeClasses();e.write(">");e.write("</div>");e.write("<div");e.addClass("trackName");e.writeClasses();e.write(">"+t.getSystemName());e.write("</div>");e.write("<div");e.addClass("trackFooter");e.writeClasses();e.write("> "+t.getTrackSystemCount());e.write("</div>");e.renderControl(t.infoIcon);e.write("</div>")};v._renderIdentificationBar=function(e,t){var i=t.getId();if(t.entityMaximized==true){t.oIdnBar.entityMaximized=t.entityMaximized;t.oIdnBar.maxHeight=t.sViewHeight-32}else t.oIdnBar.entityMaximized=false;t.oIdnBar.setText(t.getSystemName());t.oIdnBar.setTooltip(t.getTooltip());t.oIdnBar.setType(t.getType());t.oIdnBar.setQualifierText(t.getQualifierText());t.oIdnBar.setQualifierTooltip(t.getQualifierTooltip());t.oIdnBar.setQualifierType(t.getQualifierType());t.oIdnBar.setRenderingSize(t.getRenderingSize());t.oIdnBar.setDefaultState(t.getDefaultState());t.oIdnBar.setDescription(t.getDescription());t.oIdnBar.setComponentType(t.getComponentType());t.oVLayout.addContent(t.oIdnBar);t.oHLayout.addContent(t.oVLayout)};v._renderDataEntityRegion=function(e,t){t.propertyHeaders=t.getDataContainers();if(t.propertyHeaders.length>0)this._renderTabContainers(e,t);else if(!t.propertyHeaders||t.propertyHeaders.length<1){t.propertyHeaders=t.getDataContainers();if(t.propertyHeaders&&t.propertyHeaders.length>0)this._renderContainerData(e,t);else if(t.propertyHeaders)this._renderSingleContainerData(e,t)}t.oVLayoutContainer.addContent(t.oVLayoutProperties);if(t.display=="block"){t.oVLayoutContainer.addStyleClass("sapLandviszDisplayBlock");t.oVLayoutContainer.removeStyleClass("sapLandviszDisplayNone")}else{t.oVLayoutContainer.addStyleClass("sapLandviszDisplayNone");t.oVLayoutContainer.removeStyleClass("sapLandviszDisplayBlock")}t.oHLayout.addContent(t.oVLayoutContainer)};v._findContainerProperties=function(e,t,i){for(var a=0;a<t.propertyHeaders.length;a++){if(e==t.propertyHeaders[a].header){t.propertyHeaders[a].selected=true;t.selectedIndex=a;this._renderDataContainerProperties(i,t,t.propertyHeaders[a].properties,"")}else t.propertyHeaders[a].selected=false}};v._findContainerAggregationProperties=function(e,t,i){for(var a=0;a<t.propertyHeaders.length;a++){if(e==t.propertyHeaders[a].getHeader()){t.propertyHeaders[a].setSelected(true);t.selectedIndex=a}else t.propertyHeaders[a].setSelected(false)}};v._renderSingleContainerData=function(e,i){var a=i.getDataContainers();var r=i.getId();i.dataContainer=new t(r+"-CLVEntityDataContainer");i.dataContainer.setHeader(a.header);i.dataContainer.setSelected(a.selected);var n=a.properties;this._setPropertiesAggregation(e,i,n,a.header);i.addAggregation("dataContainers",i.dataContainer,false);i.propertyHeaders=i.getDataContainers();this._renderContainerAggregation(e,i)};v._setPropertiesAggregation=function(e,t,i,a){var r;var n=t.getId();if(i&&i.length&&i.length>0){for(var o=0;o<i.length;o++){r=n+o+a+"-CLVRowField";t.dataContainer.addAggregation("properties",i[o],false)}}else if(i instanceof l){r=n+a+"-CLVRowField";t.dataContainer.addAggregation("properties",i,false)}};v._renderContainerData=function(e,i){var a=i.getId();i.isAggregated=false;this._setContainerRenderingSize(i);var r;var n;var o;var s;for(var l=0;l<i.propertyHeaders.length;l++){i.dataContainer=new t(a+l+"-CLVEntityDataContainer");n=i.propertyHeaders[l];i.dataContainer.setHeader(n.header);i.dataContainer.setSelected(n.selected);o=n.properties;this._setPropertiesAggregation(e,i,o,n.header);i.addAggregation("dataContainers",i.dataContainer,false)}i.propertyHeaders=i.getDataContainers();this._renderTabContainers(e,i)};v._makeOtherContainerUnselected=function(e,t){for(var i=0;i<t;i++)e.propertyHeaders[i].setSelected(false)};v._renderTabContainers=function(e,t){var i=t.getId();var a;t.isAggregated=true;var r;this._setContainerRenderingSize(t);for(var n=0;n<t.propertyHeaders.length;n++){t.dataContainer=t.propertyHeaders[n];t.dataContainer.setRenderingSize(t.getRenderingSize());t.dataContainer.setType(t.getType());if(n==0)t.dataContainer.setSelected(true);a=t.dataContainer.getSelected();if(a==true){r=t.dataContainer;t.selectedIndex=n;this._makeOtherContainerUnselected(t,n)}if(t.showMiniNavigation==true&&t.propertyHeaders.length>1){this._createMiniNavigation(e,t,t.dataContainer.getHeader(),t.dataContainer.getSelected());if(n+1==t.propertyHeaders.length){t.oHLayoutMiniNavigation.addStyleClass("sapLandviszMiniNavigationVisible");t.oHLayoutMiniNavigation.removeStyleClass("sapLandviszMiniNavigationHidden")}}else{t.oHLayoutMiniNavigation.addStyleClass("sapLandviszMiniNavigationHidden");t.oHLayoutMiniNavigation.removeStyleClass("sapLandviszMiniNavigationVisible")}t.oVLayoutContainer.addContent(t.oHLayoutMiniNavigation);t.oHeadersLayout.addContent(t.dataContainer);var o=this;if(t.dataContainer.hasChangeEvent==false){t.dataContainer.attachEvent("itemsChanged",function(i){t.oVLayoutProperties.removeAllContent();var a=i.oSource.getHeader();o._findContainerAggregationProperties(a,t,e);o._selectMiniNavigationButton(t,e,a);t.containerEvent=true;t.invalidate()},this)}}t.dataContainer.hasChangeEvent=true;t.oHeadersLayout.addContent(t.previousIcon);t.oHeadersLayout.addContent(t.nextIcon);if(t.containerEvent==false)this._setVisibleTabs(e,t);this._enableNextAndPrevious(e,t,t.selectedIndex);t.oVLayoutContainer.addContent(t.oHeadersLayout);t.oSingleHeaderLabel.setText(r.getHeader());t.oSingleHeaderLabel.setTooltip(r.getHeader());t.oSingleHeaderLabel.addStyleClass("sapLandviszSingleLabelHeaderWidth");t.oSingleHeaderLayout.addContent(t.oSingleHeaderLabel);t.oVLayoutContainer.addContent(t.oSingleHeaderLayout);if(t.expVisible==false&&t.oHeadersLayout.getContent().length>3){t.oHeadersLayout.removeStyleClass("sapLandviszDisplayNone");t.oSingleHeaderLayout.addStyleClass("sapLandviszDisplayNone");t.oSingleHeaderLayout.removeStyleClass("sapLandviszDisplayBlock");t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSizesPropertySectionSmv")}else{if(t.expVisible==true)t.oSingleHeaderLayout.addStyleClass("singleHeaderExplodeView");t.oSingleHeaderLayout.addStyleClass("singleHeader");t.oHeadersLayout.addStyleClass("sapLandviszDisplayNone");t.oHeadersLayout.removeStyleClass("sapLandviszDisplayBlock");t.oSingleHeaderLayout.addStyleClass("sapLandviszDisplayBlock");t.oSingleHeaderLayout.removeStyleClass("sapLandviszDisplayNone");if(t.getRenderingSize()==p.Small)t.oVLayoutProperties.addStyleClass("sapLandviszSmallSizesPropertySectionSmv");else if(t.getRenderingSize()==p.Regular)t.oVLayoutProperties.addStyleClass("sapLandviszRegularSizesPropertySectionSmv");else if(t.getRenderingSize()==p.RegularSmall)t.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv");if(t.getType()==y.TechnicalSystem)t.oSingleHeaderLayout.addStyleClass("sapLandviszTechnicalSystem");else if(t.getType()==y.ProductSystem)t.oSingleHeaderLayout.addStyleClass("sapLandviszProductSystem");else if(t.getType()==y.SapComponent)t.oSingleHeaderLayout.addStyleClass("sapLandviszSapComponent")}if(t.expVisible==false&&t.getRenderingSize()==p.RegularSmall){t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSizesPropertySectionSmv")}if(t.explodeViewClosed==true&&t.getRenderingSize()==p.RegularSmall&&t.oHeadersLayout.getContent().length>3){t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv");t.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySection")}if(t.explodeViewClosed==true&&t.getRenderingSize()==p.Small&&t.oHeadersLayout.getContent().length>3){t.oVLayoutProperties.removeStyleClass("sapLandviszSmallSizesPropertySectionSmv");t.oVLayoutProperties.addStyleClass("sapLandviszSmallSizesPropertySection")}if(t.expVisible==true&&t.getRenderingSize()==p.RegularSmall){t.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv")}var o=this;var s=t.oHLayoutMiniNavigation.getContent();if(s.length>0){var l=t.oHeadersLayout.getContent();for(var n=0;n<l.length-2;n++){if(l[n].inDisplay==true&&l[n].getSelected()==true)s[n].setSelected(true);else if(l[n].inDisplay==true)s[n].inDisplay=true;else s[n].inDisplay=false}s[t.selectedIndex].setSelected(true)}this._renderDataContainerProperties(e,t,r.getProperties(),r.getHeader())};v._setVisibleTabs=function(e,t){var i=t.getRenderingSize();var a=false;if(t.entityMaximized!=true){if(i==p.Small){if(t.propertyHeaders.length>1)t.visibleTabCount=1;else a=true}else if(i==p.RegularSmall){if(t.propertyHeaders.length>2)t.visibleTabCount=2;else a=true}else if(i==p.Regular){if(t.propertyHeaders.length>2)t.visibleTabCount=2;else a=true}else if(i==p.Medium){if(t.propertyHeaders.length>2)t.visibleTabCount=2;else a=true}else if(i==p.Large){if(t.propertyHeaders.length>4)t.visibleTabCount=4;else a=true}}else if(t.entityMaximized==true){var r=Math.floor(t.containerWidth/148);if(t.propertyHeaders.length>r)t.visibleTabCount=r;else a=true}var n=t.oHeadersLayout.getContent();if(a){var o=t.containerWidth/(n.length-2);if(t.entityMaximized!=true)o=o*12;o=Math.round(o)-2;for(var s=0;s<n.length;s++){if(s>n.length-3){n[s].inDisplay=false}else{n[s].width=o+"px";n[s].inDisplay=true}}}else{var l;var d;var o;var g=0;var y;if(t.visibleTabCount<t.propertyHeaders.length){d=t.visibleTabCount;if(t.entityMaximized!=true)o=t.containerWidth*12;else o=t.containerWidth;o=o-46;o=Math.round(o/t.visibleTabCount-2)}else d=t.propertyHeaders.length;if(t.previousClicked==true){for(var s=0;s<n.length;s++){if(s>n.length-3){n[s].inDisplay=true}else{y=n[s].getSelected();if(y==true){g=s-1;l=s}else{n[s].inDisplay=false}n[s].width=o+"px"}}d=t.visibleTabCount;if(g>=0){for(var u=g;u>=0;u--){n[u].inDisplay=true;d--}}for(var v=0;v<d;v++){n[v+l].inDisplay=true}}else{for(var s=0;s<n.length;s++){if(s>n.length-3){n[s].inDisplay=true}else{y=n[s].getSelected();if(y==true){g=n.length-3-s;l=s}else{n[s].inDisplay=false}n[s].width=o+"px"}}if(g>=d){for(var u=0;u<d;u++){n[l+u].inDisplay=true}}else{for(var S=0;S<=g;S++){d--;n[l+S].inDisplay=true}for(var u=0;u<=d;u++){n[l-u].inDisplay=true}}}}};v._enableNextAndPrevious=function(e,t,i){var a="16x16/";var r;var n;var o=t.getRenderingSize();var s=false;if(o==p.Small){if(t.propertyHeaders.length>1)t.visibleTabCount=1;else s=true}else if(o==p.RegularSmall){if(t.propertyHeaders.length>2)t.visibleTabCount=2;else s=true}else if(o==p.Regular){if(t.propertyHeaders.length>2)t.visibleTabCount=2;else s=true}else if(o==p.Medium){if(t.propertyHeaders.length>2)t.visibleTabCount=2;else s=true}else if(o==p.Large){if(t.propertyHeaders.length>4)t.visibleTabCount=4;else s=true}var l=false;var d=t.oHeadersLayout.getContent();if(i>0){for(var g=0;g<i;g++){if(d[g].inDisplay==false){l=true;break}}}if(l==true)r=t._imgResourcePath+a+"leftnav_enable_dark.png";else r=t._imgResourcePath+a+"leftnav_disable.png";var y=false;if(i<t.propertyHeaders.length){for(var g=t.propertyHeaders.length-1;g>i;g--){if(d[g].inDisplay==false){y=true;break}}}if(y==true)n=t._imgResourcePath+a+"rightnav_enable_dark.png";else n=t._imgResourcePath+a+"rightnav_disable.png";t.nextIcon.addStyleClass("sapLandviszLandscapeEntityNavIcon");t.previousIcon.addStyleClass("sapLandviszLandscapeEntityNavIcon");t.nextIcon.setTooltip(t.NEXT);t.previousIcon.setTooltip(t.PREVIOUS);if(o==p.Small){t.previousIcon.setHeight("14px");t.nextIcon.setHeight("14px")}else if(o==p.RegularSmall){t.previousIcon.setHeight("16px");t.nextIcon.setHeight("16px")}else if(o==p.Regular){t.previousIcon.setHeight("16px");t.nextIcon.setHeight("16px")}else if(o==p.Medium){t.previousIcon.setHeight("16px");t.nextIcon.setHeight("16px")}else if(o==p.Large){t.previousIcon.setHeight("26px");t.nextIcon.setHeight("26px")}t.nextIcon.setSrc(n);t.previousIcon.setSrc(r);t.nextEnabled=y;t.previousEnable=l;var u=this;if(t.hasNavigationEvent==false){t.nextIcon.attachPress(function(i){if(t.nextEnabled==true){t.nextClicked=true;var a;for(var r=0;r<d.length-2;r++){if(d[r].inDisplay==true){a=r+t.visibleTabCount;break}}u._findContainerAggregationProperties(d[a].getHeader(),t,e);u._selectMiniNavigationButton(t,e,d[a].getHeader());t.containerEvent=false;t.invalidate()}});t.previousIcon.attachPress(function(i){if(t.previousEnable==true){var a;t.previousClicked=true;for(var r=0;r<d.length-2;r++){if(d[r].inDisplay==true){a=r-1;break}}if(a<0)a=0;u._findContainerAggregationProperties(d[a].getHeader(),t,e);u._selectMiniNavigationButton(t,e,d[a].getHeader());t.containerEvent=false;t.invalidate()}});t.hasNavigationEvent=true}};v._renderContainerAggregation=function(e,t){var i=t.getId();var a;t.isAggregated=true;var r;this._setContainerRenderingSize(t);for(var n=0;n<t.propertyHeaders.length;n++){t.dataContainer=t.propertyHeaders[n];if(n==0)t.dataContainer.setSelected(true);a=t.dataContainer.getSelected();if(a==true){r=t.dataContainer;t.selectedIndex=n}if(t.showMiniNavigation==true){this._createMiniNavigation(e,t,t.dataContainer.getHeader(),t.dataContainer.getSelected());if(n+1==t.propertyHeaders.length){t.oHLayoutMiniNavigation.addStyleClass("sapLandviszMiniNavigationVisible");t.oHLayoutMiniNavigation.removeStyleClass("sapLandviszMiniNavigationHidden")}}else{t.oHLayoutMiniNavigation.addStyleClass("sapLandviszMiniNavigationHidden");t.oHLayoutMiniNavigation.removeStyleClass("sapLandviszMiniNavigationVisible")}t.oVLayoutContainer.addContent(t.oHLayoutMiniNavigation);this._initilizeDataContainer(e,t,n)}var o=this;this._renderDataContainerProperties(e,t,r.getProperties(),r.getHeader())};v._setContainerRenderingSize=function(e){var t=e.getRenderingSize();if(e.entityMaximized==true)e.containerWidth=e.sViewWidth-30-8.4*12;else{if(t==p.Small)e.containerWidth=21-6.1;else if(t==p.RegularSmall)e.containerWidth=31.5-7;else if(t==p.Regular)e.containerWidth=36.5-8.33;else if(t==p.Medium){e.containerWidth=41-8.4}else if(t==p.Large){e.containerWidth=62-8.4}}};v._initilizeDataContainer=function(e,t,i){t.dataContainer.lastItem=false;if(i+1==t.propertyHeaders.length)t.dataContainer.lastItem=true;t.dataContainer.oVLayoutContainer=t.oVLayoutContainer;e.renderControl(t.dataContainer)};v._createMiniNavigation=function(e,t,a,r){var n=t.oHLayoutMiniNavigation.getContent();var o=false;var s=0;if(t.getActionBar()&&t.getActionBar().length>0)s=1;if(n.length>0){for(var l=0;l<n.length-s;l++){if(a==n[l].getHeaderTooltip()){t.headerBtn=n[l];o=true}}}var d=t.getId();if(o==false)t.headerBtn=new i;t.headerBtn.setHeaderTooltip(a);t.headerBtn.setSelected(false);t.headerBtn.setType(t.getType());var g=t.containerWidth/t.propertyHeaders.length;if(t.entityMaximized!=true)g=g*12;t.headerBtn.headerWidth=Math.round(g)-2.5;var p;var y=this;if(o==false)t.headerBtn.attachPress(function(i){p=i.oSource.getHeaderTooltip();y._selectMiniNavigationButton(t,e,p);y._findContainerAggregationProperties(p,t,e);t.containerEvent=false;t.invalidate()});t.headerBtn.removeStyleClass("sapLandviszMiniNavigationSelected");t.headerBtn.removeStyleClass("sapLandviszMiniNavigationInDisplay");t.headerBtn.removeStyleClass("sapLandviszMiniNavigationNormal");t.oHLayoutMiniNavigation.addContent(t.headerBtn)};v._selectMiniNavigationButton=function(e,t,i){this._setContainerRenderingSize(e);var a=e.containerWidth/e.propertyHeaders.length;var r=e.oHLayoutMiniNavigation.getContent();for(var n=0;n<r.length;n++){var o=r[n];if(o.getHeaderTooltip()==i){o.setSelected(true);o.setType(e.getType())}else{o.setSelected(false)}}};v._selectNavigationHeader=function(e,t,i){var a=e.oNavBar.getItems();for(var r=0;r<a.length;r++){if(a[r].getKey()==i){e.oNavBar.setSelectedItem(a[r]);e.oVLayoutProperties.removeAllContent();if(e.isAggregated)this._findContainerAggregationProperties(a[r].getKey(),e,t);else this._findContainerProperties(a[r].getKey(),e,t)}}};v._renderDataContainerProperties=function(e,t,i,a){var r=t.getId();var n;if(i&&i.length&&i.length>0){for(var o=0;o<i.length;o++){this._renderContainerProperty(t,i[o],n)}}else if(i instanceof l){this._renderContainerProperty(t,i,n)}};v._renderContainerProperty=function(e,t,i){if(t instanceof a||t instanceof r||t instanceof o||t instanceof s)t.setRenderingSize(e.getRenderingSize());t.totalWidth=e.containerWidth;t.entityMaximized=e.entityMaximized;e.oVLayoutProperties.addContent(t)};v._renderEntityAction=function(e,t){for(var i=0;i<t.entityActionArray.length;i++){t.entityAction=t.entityActionArray[i];t.entityAction.entityMaximized=t.entityMaximized;if(t.restore==true&&t.entityAction.getActionTooltip()==t.MAXIMIZE_TEXT){t.oHLayoutAllAction.removeContent(t.entityAction);continue}if(t.restore==false&&t.entityAction.getActionTooltip()==t.RESTORE_TEXT){t.oHLayoutAllAction.removeContent(t.entityAction);continue}if(t.expVisible==true&&t.entityAction.getActionTooltip()==t.SHOW_ALL_TEXT){t.oHLayoutAllAction.removeContent(t.entityAction);continue}if(t.expVisible==false&&t.entityAction.getActionTooltip()==t.COLLAPSE_TEXT){t.oHLayoutAllAction.removeContent(t.entityAction);continue}if(t.expVisible==true&&t.entityAction.getActionTooltip()==t.MAXIMIZE_TEXT){t.oHLayoutAllAction.removeContent(t.entityAction);continue}if(t.entityMaximized==true&&t.entityAction.getActionTooltip()==t.SHOW_ALL_TEXT){t.oHLayoutAllAction.removeContent(t.entityAction);continue}if(t.entityAction.getActionTooltip()==t.MAXIMIZE_TEXT)t.entityAction.setIconSrc(t._imgResourcePath+t._imgFolderPath+"maximize_enable_dark.png");if(t.entityAction.getActionTooltip()==t.RESTORE_TEXT)t.entityAction.setIconSrc(t._imgResourcePath+t._imgFolderPath+"restore_enable_dark.png");if(t.entityAction.getActionTooltip()==t.SHOW_ALL_TEXT)t.entityAction.setIconSrc(t._imgResourcePath+t._imgFolderPath+"openshowall_enable_dark.png");if(t.entityAction.getActionTooltip()==t.COLLAPSE_TEXT)t.entityAction.setIconSrc(t._imgResourcePath+t._imgFolderPath+"closeshowall_enable_dark.png");var a=t.getRenderingSize();t.entityAction.setRenderingSize(a);t.oHLayoutAllAction.addContent(t.entityAction);var r=this;if(t.hasEntityEvent==false){t.entityAction.attachPress(function(i){var a=i.oSource;if(a.getActionTooltip()==t.MAXIMIZE_TEXT){t.entityMaximized=true;t.invalidate();t.oHLayoutAllAction.removeContent(a);t.containerEvent=false}if(a.getActionTooltip()==t.RESTORE_TEXT&&t.entityMaximized==true){setTimeout(function(){t.entityMaximized=false;t.invalidate()},1e3)}if(a.getActionTooltip()==t.RESTORE_TEXT){t.entityMaximized=false;t.oHLayoutAllAction.removeContent(a);t.containerEvent=false}if(a.getActionTooltip()==t.SHOW_ALL_TEXT&&t.entityMaximized==true){t.entityMaximized=false;t.expVisible=true;r._renderExplodeView(e,t);t.showMiniNavigation=false;setTimeout(function(){t.entityMaximized=false;t.invalidate()},1e3)}if(a.getActionTooltip()==t.SHOW_ALL_TEXT){t.entityMaximized=false;t.expVisible=true;r._renderExplodeView(e,t);t.showMiniNavigation=false;t.invalidate()}if(a.getActionTooltip()==t.COLLAPSE_TEXT){t.entityMaximized=false;t.expVisible=false;t.showMiniNavigation=true;r._resetHeaderData(e,t);r._resetHeaderNavigation(e,t);t.nextIcon.setVisible(true);t.previousIcon.setVisible(true);jQuery(document.getElementById("SMV")).hide(700);t.invalidate()}});t.hasEntityEvent==true}}};v._renderExplodeView=function(e,t){this.hideUnselectedHeaders(e,t)};v.hideUnselectedHeaders=function(e,t){var i=t.getDataContainers();for(var a=0;a<i.length;a++){if(a!=t.selectedIndex){i[a].visible=false}}t.nextIcon.setVisible(false);t.previousIcon.setVisible(false)};v._renderUnselectedHeaderPopup=function(e,t){var i=new Array;e.write("<div");e.writeAttributeEscaped("id","SMV");var a=t.getRenderingSize();if(a==p.RegularSmall)e.addClass("sapLandviszSMVContainerRegularSmall");else if(a==p.Regular)e.addClass("sapLandviszSMVContainerRegular");else if(a==p.Medium)e.addClass("sapLandviszSMVContainerMedium");e.writeClasses();if(t.sViewWidth!=0)e.addStyle("width",t.sViewWidth-2+"px");else if(t.getExplodeViewWidth()&&t.getExplodeViewWidth()!="")e.addStyle("width",t.getExplodeViewWidth());if(t.sViewHeight!=0)e.addStyle("height","100%");else if(t.getExplodeViewHeight()&&t.getExplodeViewHeight()!="")e.addStyle("height",t.getExplodeViewHeight());e.writeStyles();e.write(">");i=t.getDataContainers();var r;var n;var o;var s;var l=this;var a=t.getRenderingSize();if(i.length>0){for(var d=0;d<i.length;d++){n=i[d];if(d!=t.selectedIndex){r=n.getProperties();t.smvContainer=t.dialogArray[d];t.smvContainer.setRenderingSize(t.getRenderingSize());t.smvContainer.setHeader(n.getHeader());for(var g=0;g<r.length;g++){o=r[g];t.smvContainer.addAggregation("properties",o,false)}t.smvContainer.addStyleClass("sapLandviszDisplayNone");e.renderControl(t.smvContainer);t.smvContainer.attachClosed(function(i){t.expVisible=false;var a=i.oSource;var r=t.getDataContainers();var n;for(var o=0;o<r.length;o++){n=a.getProperties();var s=r[o];if(s.getHeader()==a.getHeader()){if(n.length>0){for(var d=0;d<n.length;d++){s.addAggregation("properties",n[d],false)}}}}if(l._checkAllPopupClosed(t,a)){l._resetHeaderNavigation(e,t);t.showMiniNavigation=true;t.nextIcon.setVisible(true);t.previousIcon.setVisible(true);t.invalidate()}})}}}e.write("</div>")};v._resetHeaderData=function(e,t){var i;var a=t.getDataContainers();var r;for(var n=0;n<t.dialogArray.length;n++){i=t.dialogArray[n];r=i.getProperties();if(r&&r.length&&r.length>0){for(var o=0;o<r.length;o++){a[n].addAggregation("properties",r[o],false)}}}};v._resetHeaderNavigation=function(e,t){var i=t.getDataContainers();for(var a=0;a<i.length;a++){if(a!=t.selectedIndex){i[a].visible=true}}};v._checkAllPopupClosed=function(e,t){var i;for(var a=0;a<e.dialogArray.length;a++){i=e.dialogArray[a];if(i.isOpen()==true&&a!=e.selectedIndex&&t.getHeader()!=i.getHeader()){e.explodeViewClosed=false;return false}}e.explodeViewClosed=true;return true};v._renderCustomActionRegion=function(e,t){var i=t.getId();t.actions=t.getActionBar();for(var a=t.actions.length-1;a>=0;a--){t.action=t.actions[a];t.action.setRenderingSize(t.getRenderingSize());t.action.oActToolBar=t.oBtnToolBar;t.action.systemId=t.getSystemId();t.oHLayoutAction.addContent(t.action)}t.oHLayoutAction.addStyleClass("sapLandviszActionLayout");var r=t.oHLayoutAction.getContent();for(var n=0;n<r.length;n++){r[n].setRenderingSize(t.getRenderingSize())}};v._renderOverlayContainer=function(e,t){t.oVLayoutOverlay.removeAllContent();var i=t.getRenderingSize();e.write("<div");e.writeClasses();e.writeAttributeEscaped("id",t.getId()+"-innerOverlay");e.write(" style='");e.write("top:74px;");if(i==p.RegularSmall){e.write("width:24.5em;");e.write("height:15.88em;");e.write("left:108px;")}if(i==p.Regular){e.write("width:28.1em;");e.write("height:18em;");e.write("left:124px;")}else if(i==p.Medium){e.write("width:32.6em;");e.write("height:21.3em;");e.write("left:124px;")}e.write("position:absolute;");e.write("font-size: 12px;");e.write("border: 1px solid grey;");e.write("z-index:10;");e.write("float:left;");if(t.showOverlay==true)e.write("display:block;");else e.write("display:none;");e.write("'");e.write(">");var n=t.getDataContainers();var o;for(var s=0;s<n.length;s++){if(n[s].getSelected()==true){o=n[s].getProperties();break}}var l;var d;if(o){for(var s=0;s<o.length;s++){if(o[s]instanceof a){l=new a;l.addStyleClass("overlayRow");l.setLabel(o[s].getLabel());l.setValue(o[s].getValue());l.setRenderingSize(o[s].getRenderingSize());l.setIconType(o[s].getIconType());l.setIconTitle(o[s].getIconTitle());if(t.showOverlay==true&&t.overlayFilter=="")l.addStyleClass("sapLandviszDisplayBlock");else if(t.showOverlay==true&&t.overlayFilter==o[s].getLinkSource())l.addStyleClass("sapLandviszDisplayBlock");else l.addStyleClass("sapLandviszDisplayNone");l.setLinkSource(o[s].getLinkSource());l.setRightIconSrc(o[s].getRightIconSrc());t.oVLayoutOverlay.addContent(l)}else if(o[s]instanceof r){d=new r;d.setLabel(o[s].getLabel());d.setRenderingSize(o[s].getRenderingSize());d.setType(o[s].getType());d.setIconTitle(o[s].getIconTitle());d.setLinkSource(o[s].getLinkSource());d.addStyleClass("overlayRow");var g=o[s].getLinearRows();var y=false;for(var u=0;u<g.length;u++){l=new a;l.setLabel(g[u].getLabel());l.setValue(g[u].getValue());l.setRenderingSize(g[u].getRenderingSize());l.setIconType(g[u].getIconType());l.setIconTitle(g[u].getIconTitle());l.setLinkSource(g[u].getLinkSource());if(t.showOverlay==true&&t.overlayFilter==""){l.addStyleClass("sapLandviszDisplayBlock");y=true}else if(t.showOverlay==true&&t.overlayFilter==g[u].getLinkSource()){l.addStyleClass("sapLandviszDisplayBlock");y=true}else l.addStyleClass("sapLandviszDisplayNone");l.setRightIconSrc(g[u].getRightIconSrc());d.addAggregation("linearRows",l,false)}if(y==true)d.addStyleClass("sapLandviszDisplayBlock");else d.addStyleClass("sapLandviszDisplayNone");t.oVLayoutOverlay.addContent(d)}}}t.oVLayoutOverlay.addStyleClass("sapLandviszVlayoutOverLay");e.renderControl(t.oVLayoutOverlay);e.write("</div>");e.write("<div");e.writeClasses();e.writeAttributeEscaped("id",t.getId()+"-overlay");e.write(" style='");e.write("left:0px;");e.write("top:0px;");e.write("width:100%;");e.write("height:100%;");e.write("position:absolute;");e.write("background-color:rgb(229, 229, 229);");e.write("font-size: 12px;");e.write("z-index:8;");e.write("cursor:not-allowed;");e.write("opacity:0.5;");e.write("float:left;");if(t.showOverlay==true)e.write("display:block;");else e.write("display:none;");e.write("'");e.write(">");e.write("</div>")};return v},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/LandscapeViewer", ["sap/landvisz/library","sap/landvisz/ConnectionEntity","sap/landvisz/Connector","sap/landvisz/internal/Connection","sap/landvisz/internal/NestedRowField","sap/landvisz/internal/SingleDataContainer","sap/landvisz/libs/lvsvg","sap/landvisz/Option","sap/ui/commons/Button","sap/ui/commons/Label","sap/ui/commons/layout/HorizontalLayout","sap/ui/commons/Image","./LandscapeViewerRenderer","sap/ui/thirdparty/jquery","sap/ui/thirdparty/jqueryui/jquery-ui-core","sap/ui/thirdparty/jqueryui/jquery-ui-widget","sap/ui/thirdparty/jqueryui/jquery-ui-mouse","sap/ui/thirdparty/jqueryui/jquery-ui-draggable","sap/ui/thirdparty/jqueryui/jquery-ui-droppable"],function(t,e,i,n,o,s,a,r,l,h,d,p,g,jQuery){"use strict";var u=t.ConnectionLine;var c=t.EntityCSSSize;var v=t.DependencyType;var y=t.DependencyVisibility;var w=t.OptionType;var f=t.SelectionViewPosition;var V=t.SolutionType;var m=t.ViewType;var E=sap.landvisz.Option.extend("sap.landvisz.LandscapeViewer",{metadata:{library:"sap.landvisz",properties:{defaultDependencyView:{type:"sap.landvisz.DependencyType",group:"Identification",defaultValue:v.NETWORK_VIEW},height:{type:"int",group:"Dimension",defaultValue:null},width:{type:"int",group:"Dimension",defaultValue:null},title:{type:"string",group:"Data",defaultValue:null},networkDependencyLabel:{type:"string",group:"Data",defaultValue:"Network View"},boxDependencyLabel:{type:"string",group:"Data",defaultValue:"Box View"},boxDependencyLevels:{type:"string[]",group:"Data",defaultValue:null},showDependencyNavigator:{type:"boolean",group:"Identification",defaultValue:true},visibleDependency:{type:"sap.landvisz.DependencyVisibility",group:"Identification",defaultValue:y.BOTH},viewType:{type:"sap.landvisz.ViewType",group:"Identification",defaultValue:null},navigationPath:{type:"string",group:"Data",defaultValue:null},hasParent:{type:"boolean",group:"Misc",defaultValue:true},selectionViewPosition:{type:"sap.landvisz.SelectionViewPosition",group:"Identification",defaultValue:f.CENTER},showClose:{type:"boolean",group:"Identification",defaultValue:true},componentViewLabel:{type:"string",group:"Data",defaultValue:"Component View"},deploymentViewLabel:{type:"string",group:"Data",defaultValue:"Deployment View"},solutionOptionType:{type:"sap.landvisz.OptionType",group:"Identification",defaultValue:null},solutionType:{type:"sap.landvisz.SolutionType",group:"Identification",defaultValue:null},showDeploymentTypeSection:{type:"boolean",group:"Identification",defaultValue:false},deploymentOptionsLabel:{type:"string",group:"Data",defaultValue:"Deployment Options :"},deploymentOptionsTooltip:{type:"string",group:"Data",defaultValue:null},componentViewTooltip:{type:"string",group:"Data",defaultValue:null},deploymentViewTooltip:{type:"string",group:"Data",defaultValue:null},closeButtonTooltip:{type:"string",group:"Data",defaultValue:null},plugContentHeight:{type:"int",group:"Misc",defaultValue:0},connectionLine:{type:"sap.landvisz.ConnectionLine",group:"Misc",defaultValue:u.Line}},aggregations:{systems:{type:"sap.landvisz.LandscapeEntity",multiple:true,singularName:"system"},connectionEntities:{type:"sap.landvisz.ConnectionEntity",multiple:true,singularName:"connectionEntity"},connectors:{type:"sap.landvisz.Connector",multiple:true,singularName:"connector"},solutionOptions:{type:"sap.landvisz.Option",multiple:true,singularName:"solutionOption"},plugContent:{type:"sap.ui.core.Control",multiple:false}},events:{close:{},loadSolutionView:{}}}});E.prototype.init=function(){this.initializationDone=false;this.windowHeight=0;this.windowWidth=0;this.connection=n;this.boxModeHeight=90;this.currentView="";this.firstTime=true;this.boxLeftMargine=0;this.boxTopMargine=0;this.hasBoxThirdLevel=false;this.firstTime=true;this.lindkedEntities=[];var t=sap.ui.getCore().getLibraryResourceBundle("sap.landvisz");this.SHOW_ALL_TEXT=t.getText("SHOW_ALL");this.COLLAPSE_TEXT=t.getText("COLLAPSE_EXPLODE_VIEW");this.MAXIMIZE_TEXT=t.getText("MAXIMIZE");this.RESTORE_TEXT=t.getText("RESTORE");this.CLOSE=t.getText("CLOSE");this.srcEntity="";this.currentViewOptionId="";this.currentSolutionView="";this.selectedOptionEntity=null;var e=jQuery(window);if(this.getHeight()&&""!=this.getHeight()){this.windowHeight=this.getHeight()}else{this.windowHeight=e.height()}if(this.getWidth()){this.windowWidth=this.getWidth()}else{this.windowWidth=e.width()}};E.prototype.onwindowresize=function(t){var e=this.$();if(this.getHasParent()==false){var i=jQuery(window);var n=i.width();var o=i.height();this.windowHeight=o;this.windowWidth=n;this.invalidate()}else if(e&&e[0]&&e[0].parentElement){this.windowWidth=e[0].parentElement.clientWidth;this.windowHeight=e[0].parentElement.clientHeight;this.invalidate()}};E.prototype.onclick=function(t){var e=this.getSystems();var i=e[0];var n=this.$("container");var o=i.$();if(this.getViewType()==m.SELECTION_VIEW&&t.srcControl.getTooltip()==this.MAXIMIZE_TEXT){if(t.srcControl.getTooltip()==this.SHOW_ALL_TEXT)i.expVisible=true;n.css({height:this.entityHeight,width:this.entityWidth});i.$("CLVEntityVLayoutContainer").css({display:"none"});this._animateMaximizeView(i,n);setTimeout(function(){i.$("CLVEntityVLayoutContainer").css({display:"block"});i.$("CLVEntityVLayoutProperties").css({display:"block"})},1e3)}if(this.getViewType()==m.SELECTION_VIEW&&t.srcControl.getTooltip()==this.RESTORE_TEXT){var a=this.windowWidth-40;var r=this.windowHeight;i.sViewWidth=a;i.sViewHeight=r;i.$("CLVEntityVLayoutContainer").css({display:"none"});this._animateRestoreView(i,n);setTimeout(function(){i.$("CLVEntityVLayoutContainer").css({display:"block"})},1e3)}if(t.srcControl.getTooltip()==this.SHOW_ALL_TEXT&&i.entityMaximized!=true)this._animateShowAllView(i,n,o);if(t.srcControl.getTooltip()==this.SHOW_ALL_TEXT&&i.entityMaximized==true){i.sViewWidth=a;i.sViewHeight=r;this._animateSelectionView(n)}else if(t.srcControl.getTooltip()==this.COLLAPSE_TEXT&&this.entityMaximized!=true)this._animateCollapseView(n);else if(t.srcControl instanceof s&&i.explodeViewClosed==true)this._animateCollapseView(n)};E.prototype._animateCollapseView=function(t){var e=this.getSelectionViewPosition();if(e==f.CENTER){var i=(this.windowWidth-this.entityWidth)/2;var n=(this.windowHeight-this.entityHeight)/2}else if(e==f.LEFT){var i=20;var n=20}else if(e==f.RIGHT){var i=this.windowHeight-this.entityHeight-20;var n=20}t.animate({width:this.entityWidth,height:this.entityHeight,left:i,top:n},1e3)};E.prototype._animateSelectionView=function(t){var e;var i;var n=this.getSelectionViewPosition();if(n==f.CENTER){e=(this.windowWidth-this.entityWidth)/2;i=(this.windowHeight-this.entityHeight)/2}else if(n==f.LEFT){e=20;i=20}else if(n==f.RIGHT){e=this.windowWidth-this.entityWidth-20;i=20}t.animate({left:e,top:i},1e3)};E.prototype._animateShowAllView=function(t,e,i){var n=this.windowWidth-12;var o=this.windowHeight;t.sViewWidth=n-this.entityWidth;t.sViewHeight=o;t.left=0;t.top=0;i.css({position:"relative"});e.animate({left:10,top:0,width:n,height:"100%"},1e3);var s=jQuery(document.getElementById("SMV"));setTimeout(function(){s.animate({display:"block"},1e3)},1e3)};E.prototype._animateMaximizeView=function(t,e){var i=this.windowWidth-40;var n=this.windowHeight-66;t.sViewWidth=i;t.sViewHeight=n;e.animate({left:20,top:20,width:i,height:n},1e3)};E.prototype._animateRestoreView=function(t,e){var i=this.windowWidth-40;var n=this.windowHeight;t.sViewWidth=i;t.sViewHeight=n;var o=this.getSelectionViewPosition();var s;var a;if(o==f.CENTER){s=(this.windowWidth-this.entityWidth)/2;a=(this.windowHeight-this.entityHeight)/2}else if(o==f.LEFT){s=20;a=20}else if(o==f.RIGHT){s=this.windowHeight-this.entityHeight-20;a=20}e.animate({left:s,top:a,width:this.entityWidth,height:this.entityHeight},1e3)};E.prototype.resetView=function(t,e){var i=this.$("container");if(t.entityMaximized==true){t.entityMaximized=false;setTimeout(function(){t.invalidate()},1e3);var n=this.windowWidth-40;var o=this.windowHeight;t.sViewWidth=n;t.sViewHeight=o;var s=this.getSelectionViewPosition();var a;var r;if(s==f.CENTER){a=(this.windowWidth-this.entityWidth)/2;r=(this.windowHeight-this.entityHeight)/2}else if(s==f.LEFT){a=20;r=20}else if(s==f.RIGHT){a=this.windowHeight-this.entityHeight-20;r=20}t.$("CLVEntityVLayoutProperties").css({display:"none"});i.animate({left:a,top:r,width:this.entityWidth,height:this.entityHeight},1e3);setTimeout(function(){t.$("CLVEntityVLayoutProperties").css({display:"block"})},1e3);setTimeout(function(){e.$().click()},1e3)}else if(t.expVisible==true){t.entityMaximized=false;t.expVisible=false;t.oHLayoutMiniNavigation.$().css("display","block");t.showMiniNavigation=true;var l;var h=t.getDataContainers();var d;for(var p=0;p<t.dialogArray.length;p++){l=t.dialogArray[p];d=l.getProperties();if(d&&d.length&&d.length>0){for(var g=0;g<d.length;g++){h[p].addAggregation("properties",d[g],false)}}}for(var p=0;p<h.length;p++){if(p!=t.selectedIndex){h[p].visible=true}}t.nextIcon.setVisible(true);t.previousIcon.setVisible(true);jQuery(document.getElementById("SMV")).hide(700);t.invalidate();var a;var r;var s=this.getSelectionViewPosition();if(s==f.CENTER){a=(this.windowWidth-this.entityWidth)/2;r=(this.windowHeight-this.entityHeight)/2}else if(s==f.LEFT){a=20;r=20}else if(s==f.RIGHT){a=this.windowHeight-this.entityHeight-20;r=20}i.animate({left:a,top:r},1e3);setTimeout(function(){e.$().click()},1e3)}else e.$().click()};E.prototype.initControls=function(){var t=this.getId();if(!this.oHLayoutConnectionEntity)this.oHLayoutConnectionEntity=new d(t+"viewerConnectionEntityHLayout");if(!this.oHLayoutOptions)this.oHLayoutOptions=new d(t+"viewerHLayoutOptions");this.entityWidth;this.entityHeight;this.networkViewVisible=false;this.boxViewVisible=false;if(!this.boxViewLabel)this.boxViewLabel=new h(t+"-viewBoxLabel");if(!this.boxViewImg)this.boxViewImg=new p(t+"-viewBoxImg");if(!this.networkViewLabel)this.networkViewLabel=new h(t+"-viewNetworkLabel");if(!this.closeImg)this.closeImg=new p(t+"-closeImg");if(!this.networkViewBtn)this.networkViewBtn=new l(t+"-viewNetworkBtn").addStyleClass("sapLandviszImg");if(!this.boxViewBtn)this.boxViewBtn=new l(t+"-viewBoxBtn").addStyleClass("sapLandviszImg");if(!this.compViewBtn)this.compViewBtn=new l(t+"-viewComponentBtn").addStyleClass("sapLandviszImg");if(!this.depViewBtn)this.depViewBtn=new l(t+"-viewDeployBtn").addStyleClass("sapLandviszImg");if(!this.navigationPathLabel)this.navigationPathLabel=new h(t+"navigationPathLabel");if(!this.deploymentOptionLabel)this.deploymentOptionLabel=new h(t+"deploymentOptionLabel");var e=this.getSystems()[0].getRenderingSize();if(e==c.Small){this.entityWidth=Math.round(22.7*12);this.entityHeight=Math.round(15.8*12)}if(e==c.RegularSmall){this.entityWidth=Math.round(33.7*12);this.entityHeight=Math.round(22.3*12)}if(e==c.Regular){this.entityWidth=Math.round(38.7*12);this.entityHeight=Math.round(24.5*12)}if(e==c.Medium){this.entityWidth=Math.round(43.5*12);this.entityHeight=Math.round(28*12)}if(e==c.Large){this.entityWidth=Math.round(64.5*12);this.entityHeight=Math.round(41.5*12)}this.visibleEntities=[];this.depTypeOptions=new Object};E.prototype.appendNavigationPath=function(t){var e=this.navigationPathLabel.getText()+"--\x3e"+t;this.setNavigationPath(e);this.navigationPathLabel.setText(e)};E.prototype.onAfterRendering=function(){jQuery(window).unbind("resize",jQuery.proxy(this.onwindowresize,this));jQuery(window).bind("resize",jQuery.proxy(this.onwindowresize,this));if(this.getViewType()==m.SOLUTION_VIEW){var t=this.$("solutionInnerContainer");var e;var i;var o;var s;var r=5;this.innerLeftMargine=t[0].offsetLeft;this.innerTopMargine=t[0].offsetTop;var l=this.getSystems();var e;var h;var d;var p;var g;for(var u=0;u<l.length;u++){e=l[u].$();h=l[u].left;d=l[u].top;p=h+this.innerLeftMargine;g=d+this.innerTopMargine;l[u].left=p;l[u].top=g;e.css({left:p,top:g})}var c=this.getConnectionEntities();var y=0;for(var u=0;u<c.length;u++){e=c[u].$();h=c[u].left;d=c[u].top;p=h+this.innerLeftMargine;g=d+this.innerTopMargine;y=c[u].top;c[u].left=p;c[u].top=g;e.css({left:p,top:g});var f=c[u].$("connectionLabel");var E=c[u].width-68;f.css({"max-width":E})}if(this.getSolutionType()==V.DEPLOYMENT_VIEW){var T=this.$("deploymentTypeContainer");var L=t[0].offsetWidth;var b=this.entityHeight+90+10;T.css({left:this.innerLeftMargine,top:b,width:L});if(null!=this.selectedOptionEntity){var C=this.depTypeOptions[this.selectedOptionEntity.getId()];if(this.getShowDeploymentTypeSection()==true&&C.length<=0){var S=t[0].offsetHeight-40;t.css({height:S})}}}if(this.getSolutionOptionType()==w.ENTITY){var H=this.$("optionContainer");var L=t[0].offsetWidth-10;var I=this.entityHeight+90+10+5;if(this.getSolutionType()==V.DEPLOYMENT_VIEW){I=y}if(this.getShowDeploymentTypeSection()==true)I=I+40;H.css({left:this.innerLeftMargine+5,top:I,width:L})}if(this.getSolutionType()==V.COMPONENT_VIEW){this.compViewBtn.addStyleClass("selectedView");this.depViewBtn.removeStyleClass("selectedView")}else if(this.getSolutionType()==V.DEPLOYMENT_VIEW){this.depViewBtn.addStyleClass("selectedView");this.compViewBtn.removeStyleClass("selectedView")}}else if(this.getViewType()==m.SELECTION_VIEW){var O=this.$("container");var l=this.getSystems();var W=l[0];var x=l[0].$();if(l[0].entityMaximized==true)this._animateMaximizeView(W,O);else if(l[0].expVisible==true){var M=this.windowWidth-12;var D=this.windowHeight;W.sViewWidth=M-this.entityWidth;W.sViewHeight=D;x.css({position:"relative"});O.css({left:10,top:0,width:M,height:"100%"});var N=jQuery(document.getElementById("SMV"));setTimeout(function(){N.css({display:"block"},1e3)},1e3)}else this._animateSelectionView(O)}else if(this.getViewType()==m.DEPENDENCY_VIEW&&this.currentView==v.NETWORK_VIEW){var B=this.$("boxViewContainer");this.boxLeftMargine=B[0].offsetLeft;this.boxTopMargine=B[0].offsetTop;B.css("display","none");var _=this.getBoxDependencyLevels();if(_){for(var u=0;u<_.length;u++){var $=this.$("boxViewLabel"+u);$.css("display","none")}}var z=this.$("viewContainer");var k=z[0].scrollWidth-10;var P=z[0].scrollHeight-10;this.svgForConnections=a.getSVG(k,P,this.getId()+"-viewContainer");this.connection=n;this.connection.svgForConnections=this.svgForConnections;this.connection.renderConnections(this.getSystems(),this.getConnectionEntities(),this.getConnectionLine())}else if(this.getViewType()==m.DEPENDENCY_VIEW&&this.currentView==v.BOX_VIEW){var B=this.$("boxViewContainer");var e;var i;var o;var s;var r=5;this.boxLeftMargine=B[0].offsetLeft;this.boxTopMargine=B[0].offsetTop;var R=30;var A=this.entityHeight;var l=this.getSystems();var e;var h;var d;var p;var g;for(var u=0;u<l.length;u++){e=l[u].$();h=l[u].left;d=l[u].top;p=h+this.boxLeftMargine;g=d+this.boxTopMargine;l[u].left=p;l[u].top=g;e.css({left:p,top:g})}var c=this.getConnectionEntities();for(var u=0;u<c.length;u++){e=c[u].$();h=c[u].left;d=c[u].top;p=h+this.boxLeftMargine;g=d+this.boxTopMargine;c[u].left=p;c[u].top=g;e.css({left:p,top:g})}var X=this.boxLeftMargine+r;var j=this.boxModeHeight+r*2+this.boxTopMargine;var _=this.getBoxDependencyLevels();var F="Systems";var q="Systems";var Y=this;if(_){setTimeout(function(){for(var t=0;t<_.length;t++){if(Y.hasBoxThirdLevel==true){var e=Y.$("boxViewLabel"+t);j+=(Y.entityHeight+r)*t;e.css({left:X,top:j,width:R,height:A,display:"block"});var i=Y.$("boxViewLabel"+t+"Level");i.css({width:A,height:A})}}},1e3)}}if(this.getViewType()==m.DEPENDENCY_VIEW&&this.currentView==v.NETWORK_VIEW){this.networkViewBtn.addStyleClass("selectedView");this.boxViewBtn.removeStyleClass("selectedView")}if(this.getViewType()==m.DEPENDENCY_VIEW&&this.currentView==v.BOX_VIEW){this.boxViewBtn.addStyleClass("selectedView");this.networkViewBtn.removeStyleClass("selectedView")}if(this.getViewType()==m.DEPENDENCY_VIEW){var G=jQuery.ui?jQuery.ui.version||"pre 1.6":"jQuery-UI not detected";var O=this.$("viewContainer");var K=this.$("navigation");var Y=this;var O=this.$("viewContainer");var Z=Number(O[0].scrollHeight);var U=Number(O[0].scrollWidth);var Q=Number(O.height());var J=Number(O.width());if(U>J||Z>Q){if(K.css("display")=="none"){K.show(0);Y.getVisibleRegion(0);K.hide(0)}else{Y.getVisibleRegion(0)}}else K.hide(0);var tt=this.$("navigation_navigator");var Y=this;tt.bind("drag",function(t){Y.calculateNavigationMovement(O,tt)});tt.draggable({containment:K});var et=this.$("navigation_header_arrowdown");var it=this.$("navigation_header_arrowup");et.show();et.click(function(t){K.animate({height:"0px"},1e3,"swing",function(t){tt.hide()});et.hide();it.show();t.stopPropagation()});it.click(function(t){K.animate({height:"29%"},1e3,"swing");it.hide();et.show();tt.show();t.stopPropagation()});K.bind("drag");K.draggable({cancel:"div.navigationHeader",containment:O})}};E.prototype.calculateNavigationMovement=function(t,e){var i=t.height()/e.height();var n=t.width()/e.width();t.scrollTop(e.css("top").split("px")[0]*i);t.scrollLeft(e.css("left").split("px")[0]*n);var o=this.getConnectionEntities();for(var s=0;s<o.length;s++){if(this.getVisibleDependency()==y.BOTH&&this.currentView==v.NETWORK_VIEW){if(o[s].toolPopup.isOpen())o[s].toolPopup.close()}}};E.prototype.getVisibleRegion=function(){var t=this.$("viewContainer");var e=this.$("navigation");var i=this.$("navigation_navigator");e.css({height:"29%"});setTimeout(function(){a.convertHtmltoCanvas(t,e)},1e3);e.hide();setTimeout(function(){e.show("slow");e.animate({height:"29%"},100,"swing",function(t){i.show("slow")});var n=Number(t[0].scrollHeight);var o=Number(t[0].scrollWidth);var s=Number(t.height());var a=Number(t.width());var r=s/n;var l=a/o;setTimeout(function(){var t=Number(e[0].scrollHeight);var n=Number(e[0].scrollWidth);i.height(t*r);i.width(n*l);i.show();i.css({left:0,top:0})},1500)},1e3)};E.prototype.onmouseenter=function(t){var i=t.oSource;var n=t.target;var o;var s;var a=false;var r=false;var l=0;for(var h=0;h<this.getConnectionEntities().length;h++){if(this.getConnectionEntities()[h].holdDisplay==true){r=true;l++}}if(!r||l>1){if(i instanceof e){this.lindkedEntities=[];var d=this.getConnectionEntities();for(var h=0;h<d.length;h++){if(i.getId()!=d[h].getId()){jQuery(document.getElementById(d[h].getId()+"connectionRow")).css({"box-shadow":"none"});d[h].holdDisplay=false;d[h].toolPopup.close()}else{jQuery(document.getElementById(d[h].getId()+"connectionRow")).css({"box-shadow":"rgb(0, 0, 0) 0px 0px 20px"})}}o=this.getConnectors();for(var h=0;h<o.length;h++){if(o[h].getSource()==i.getConnectionId())this.lindkedEntities.push(o[h].getTarget());if(o[h].getTarget()==i.getConnectionId())this.lindkedEntities.push(o[h].getSource())}s=this.getSystems();var p;var g;for(var h=0;h<s.length;h++){p=false;for(var u=0;u<this.lindkedEntities.length;u++){if(s[h].getSystemId()==this.lindkedEntities[u]){p=true;if(i.getLinkedHeader()&&""!=i.getLinkedHeader()){a=false;for(var c=0;c<s[h].propertyHeaders.length;c++){g=s[h].propertyHeaders[c];if(i.getLinkedHeader()==g.getHeader()){if(g.getSelected()!=true){g.setSelected(true);s[h].selectedIndex=c;a=true}else{s[h].selectedIndex=c;this.filterOverlay(s[h],i.getLinkId());s[h].$("innerOverlay").css({display:"block"});s[h].$("overlay").css({display:"block"})}}else s[h].propertyHeaders[c].setSelected(false);s[h].showOverlay=false;s[h].overlayFilter=""}if(a==true&&s[h].showOverlay==false){s[h].showOverlay=true;s[h].overlayFilter=i.getLinkId();s[h].invalidate()}}}}if(p==false){if(s[h].showOverlay==true)s[h].invalidate();else{s[h].$("innerOverlay").css({display:"none"});s[h].$("overlay").css({display:"none"})}s[h].showOverlay=false;s[h].overlayFilter=""}}}}};E.prototype.filterOverlay=function(t,e){var i=t.oVLayoutOverlay.getContent();var n;var s;for(var a=0;a<i.length;a++){n=i[a];if(n instanceof o){s=n.getLinearRows();for(var r=0;r<s.length;r++){if(e==s[r].getLinkSource()){n.$().css({display:"block"});s[r].$().css({display:"block"})}else{n.$().css({display:"none"});s[r].$().css({display:"none"})}}}else{if(e==n.getLinkSource()){n.$().css({display:"block"})}else{n.$().css({display:"none"})}}}};E.prototype.showAllOverlay=function(t,e){var i=t.oVLayoutOverlay.getContent();var n;for(var o=0;o<i.length;o++){n=i[o];n.$().css({display:"block"})}};E.prototype.showOverlay=function(t,e){jQuery(document.getElementById(t+"-overlay")).css({display:e});jQuery(document.getElementById(t+"-innerOverlay")).css({display:e})};E.prototype.onmouseleave=function(t){var i=t.oSource;var n=t.target;this.lindkedEntities=[];var o;var s;var a=false;var r=false;var l=0;for(var h=0;h<this.getConnectionEntities().length;h++){if(this.getConnectionEntities()[h].holdDisplay==true){r=true;l++}}if(!(r&&l<2)){if(i instanceof e){if(i.holdDisplay!=true){jQuery(document.getElementById(i.getId()+"connectionRow")).css({"box-shadow":"none"});o=this.getConnectors();for(var h=0;h<o.length;h++){if(o[h].getSource()==i.getConnectionId())this.lindkedEntities.push(o[h].getTarget());if(o[h].getTarget()==i.getConnectionId())this.lindkedEntities.push(o[h].getSource())}s=this.getSystems();for(var h=0;h<s.length;h++){for(var d=0;d<this.lindkedEntities.length;d++){if(s[h].getSystemId()==this.lindkedEntities[d]){s[h].$("innerOverlay").css({display:"none"});s[h].$("overlay").css({display:"none"});s[h].showOverlay=false;s[h].overlayFilter=""}}}}}}};E.prototype.getCurrentSolutionView=function(){return this.currentSolutionView};E.prototype.getCurrentDependencyView=function(){return this.currentView};E.prototype.setEnableLoadSolution=function(t){if(t==false){this.compViewBtn.addStyleClass("sapLandviszBtnDisable");this.depViewBtn.addStyleClass("sapLandviszBtnDisable")}else if(t==true){this.compViewBtn.removeStyleClass("sapLandviszBtnDisable");this.depViewBtn.removeStyleClass("sapLandviszBtnDisable")}this.compViewBtn.setEnabled(t);this.depViewBtn.setEnabled(t)};E.prototype.getSelectedOption=function(){return this.selectedOptionEntity};E.prototype.onfocusout=function(t){this.compViewBtn};E.prototype.fetchSelectedOption=function(){return this.selectedOptionEntity};E.prototype.exit=function(){jQuery(window).unbind("resize",jQuery.proxy(this.onwindowresize,this))};E.prototype.getViewConnectedLayout=function(){var t;var e;var n;var e;var o=this.getConnectors();n=this.oHLayoutOptions.getContent();for(var s=1;s<n.length;s++){if(n[s].getSelected()==true){e=n[s].getOptionSources();break}}var a=o[0].getSource();var r=[];var l;var h;for(var d=0;d<e.length;d++){l=new i;h=e[d].getSource();l.setSource(a);l.setTarget(h);r.push(l)}t=this.connection.getBoxViewConnectedNodesLayout(r);return t};E.prototype.getEntityConnectedLayout=function(){var t;var e;var i=this.getConnectors();var n;var o=[];for(var s=0;s<i.length;s++){n=this.getOptionConnector(i[s]);if(""!==n)o.push(n);else o.push(i[s])}t=this.connection.getBoxViewConnectedNodesLayout(o);return t};E.prototype.getOptionConnector=function(t){var e=this.getSolutionOptions();var n;var o;var s;var a;for(var r=0;r<e.length;r++){if(e[r].getCurrentEntity()==t.getTarget()){n=e[r].getOptionEntities();for(var l=0;l<n.length;l++){a=n[l].getOptionSources()[0].getSource();if(n[l].getSelected()==true&&a!=t.getTarget()){s=new i;s.setSource(t.getSource());n[l].getOptionSources()[0].getSource();s.setTarget(n[l].getOptionSources()[0].getSource());this.srcEntity=a;return s}}}}return""};E.prototype.setHeight=function(t){var e=jQuery(window);if(t&&""!=t)this.windowHeight=t;else this.windowHeight=e.height()};E.prototype.setWidth=function(t){var e=jQuery(window);if(t&&""!=t){this.windowWidth=t}else{this.windowWidth=e.width()}};return E});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/LandscapeViewerRenderer", ["sap/landvisz/library","sap/landvisz/Connector","sap/landvisz/internal/Connection","sap/landvisz/internal/DeploymentType","sap/landvisz/libs/lvsvg","sap/landvisz/OptionEntity","sap/ui/commons/layout/ResponsiveFlowLayout","sap/ui/commons/layout/ResponsiveFlowLayoutData"],function(e,t,i,n,o,r,a,s){"use strict";var d=e.ComponentType;var l=e.ConnectionLine;var w=e.DependencyType;var v=e.DependencyVisibility;var p=e.OptionType;var c=e.SolutionType;var g=e.ViewType;var u={};u.render=function(e,t){if(!this.initializationDone){t.initControls();t.initializationDone=true;e.write("<div");e.writeControlData(t);e.addClass("sapLandviszViewMainContainer");e.writeClasses();e.addStyle("width","100%");e.addStyle("height","100%");e.writeStyles();e.write(">");if(t.getVisibleDependency()==v.BOTH){t.networkViewVisible=true;t.boxViewVisible=true}else if(t.getVisibleDependency()==v.NETWORK){t.networkViewVisible=true;t.boxViewVisible=false}else if(t.getVisibleDependency()==v.BOX){t.networkViewVisible=false;t.boxViewVisible=true}this._renderTitle(e,t);if(t.getViewType()==g.SOLUTION_VIEW){this._renderSolutionView(e,t)}else{e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-viewLables");e.addClass("sapLandviszViews");e.writeClasses();e.write(">");if(t.networkViewVisible==true)this._renderNetworkViewHeader(e,t);if(t.boxViewVisible==true)this._renderBoxViewHeader(e,t);e.write("</div>");if(t.getShowDependencyNavigator()==true)this._renderNavigationPath(e,t);if(t.getShowClose()==true)this._renderCloseButton(e,t);if(t.getViewType()==g.SELECTION_VIEW)this._renderSelectionView(e,t);else if(t.getViewType()==g.DEPENDENCY_VIEW){this._renderDependencyView(e,t)}if(t.getViewType()==g.DEPENDENCY_VIEW)this._renderNavigationPanel(e,t)}e.write("</div>")}if(t.currentView==w.BOX_VIEW){var i=t.oHLayoutConnectionEntity.getContent();for(var n=0;n<i.length;n++){t.addAggregation("connectionEntities",i[n],false)}}var o=t.oHLayoutOptions.getContent();if(o.length>0){for(var n=0;n<o.length;n++)if(o[n]instanceof r)t.getSolutionOptions()[0].addOptionEntity(o[n])}t.firstTime=false};u._renderSolutionView=function(e,t){if(t.getShowDependencyNavigator()==true)this._renderNavigationPath(e,t);if(t.getShowClose()==true)this._renderCloseButton(e,t);e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-solutionViewLables");e.addClass("sapLandviszViews");e.writeClasses();e.write(">");this._renderComponentViewHeader(e,t);this._renderDeploymentViewHeader(e,t);e.write("</div>");if(t.getSolutionType()==c.DEPLOYMENT_VIEW)this._renderOptions(e,t);var i=t.getSystems();for(var n=0;n<i.length;n++)i[n].setShowEntityActions(false);this._renderSolutionViewer(e,t)};u._renderComponentViewHeader=function(e,t){e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-compViewLabel");e.addClass("sapLandviszView");e.writeClasses();e.write(">");t.compViewBtn.setText(t.getComponentViewLabel());t.compViewBtn.setLite(true);t.compViewBtn.addStyleClass("sapLandviszSolution_view_text");t.compViewBtn.setTooltip(t.getComponentViewTooltip());t.compViewBtn.setIcon("sap-icon://tree");var i=this;if(t.firstTime==true){t.compViewBtn.attachPress(function(e){t.currentSolutionView=c.COMPONENT_VIEW;t.compViewBtn.addStyleClass("selectedView");t.depViewBtn.removeStyleClass("selectedView");t.fireLoadSolutionView()})}e.renderControl(t.compViewBtn);e.write("</div>")};u._renderDeploymentViewHeader=function(e,t){e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-deploymentViewLable");e.addClass("sapLandviszView");e.writeClasses();e.write(">");t.depViewBtn.setText(t.getDeploymentViewLabel());t.depViewBtn.setLite(true);t.depViewBtn.addStyleClass("sapLandviszSolution_view_text");t.depViewBtn.setTooltip(t.getDeploymentViewTooltip());t.depViewBtn.setIcon("sap-icon://dimension");var i=this;if(t.firstTime==true){t.depViewBtn.attachPress(function(e){t.currentSolutionView=c.DEPLOYMENT_VIEW;t.depViewBtn.addStyleClass("selectedView");t.compViewBtn.removeStyleClass("selectedView");t.fireLoadSolutionView()})}e.renderControl(t.depViewBtn);e.write("</div>")};u._renderSolutionViewer=function(e,t){if(null!=t.getPlugContent())this._renderPlugContent(e,t);e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-solutionViewContainer");e.addClass("sapLandviszSolutionViewContainer");e.writeClasses();var i=t.windowWidth-2;e.addStyle("width",i+"px");var n;if(t.getSolutionType()==c.DEPLOYMENT_VIEW){n=t.getPlugContentHeight()+90;e.addStyle("position","absolute")}else{n=t.getPlugContentHeight()+35}e.addStyle("height","calc(100% - "+n+"px)");e.addStyle("height","-webkit-calc(100% - "+n+"px)");e.addStyle("height","-moz-calc(100% - "+n+"px)");e.addStyle("height","-o-calc(100% - "+n+"px)");e.addStyle("top",n+"px");e.writeStyles();e.write(">");this._renderSolutionContainer(e,t);this._renderSolution(e,t);if(t.getShowDeploymentTypeSection()==true)this._renderSolutionDeploymentType(e,t);if(t.getSolutionType()==c.COMPONENT_VIEW)this._renderOptions(e,t);e.write("</div>")};u._renderPlugContent=function(e,t){e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-solutionPlugContent");e.addStyle("top","32px");e.addStyle("width","100%");e.addStyle("position","absolute");e.writeStyles();e.write(">");e.renderControl(t.getPlugContent());e.write("</div>")};u._renderSolutionContainer=function(e,t){var i=t.getConnectors();t.connection.init();var n=t.getSolutionOptions();var o;if(n.length>0&&n[0].getType()==p.VIEW)o=t.getViewConnectedLayout();else o=t.connection.getBoxViewConnectedNodesLayout(i);var r=5;var a=Number(t.entityWidth*o.maxColumnCount+(o.maxColumnCount+1)*r);var s=Number(t.boxModeHeight+t.entityHeight+r*3);if(t.getSolutionOptions().length>0&&t.getSolutionType()==c.COMPONENT_VIEW)s=s+50;if(t.getShowDeploymentTypeSection()==true)s=s+40;e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-solutionInnerContainer");e.addClass("sapLandviszBoxViewBorderContainer");e.writeClasses();e.addStyle("width",a+"px");e.addStyle("height",s+"px");e.writeStyles();e.write(">");e.write("</div>")};u._renderSolution=function(e,t){t.connection.init();var i=t.getSolutionOptions();var n;if(i.length>0&&i[0].getType()==p.VIEW)n=t.getViewConnectedLayout();else{n=t.getEntityConnectedLayout()}var o;var r;var a=5;if(n){var s=t.getId()+"-solutionInnerContainer";var d=t.$("solutionInnerContainer");setTimeout(function(){d.css("display","block")},1200);t.visibleEntities=[];var l=t.getSystems();for(var w=0;w<l.length;w++){o=l[w].getSystemId();var v=0;v=30+a;var c=30;if(n[o]){var u=0;if(n.thirdLevelEntitiesCount>0)u=30;var y=0;u+=Number(n[o].col*t.entityWidth+(n[o].col+1)*a);y+=Number((n[o].row-1)*t.entityHeight+(n[o].row+1)*a+t.boxModeHeight);l[w].left=u;l[w].top=y;l[w].viewType=g.SOLUTION_VIEW;t.visibleEntities.push(l[w]);e.renderControl(l[w])}else{l[w].viewType=g.SOLUTION_VIEW;l[w].addStyleClass("sapLandviszDisplayNone");e.renderControl(l[w])}}var h=t.getConnectionEntities();var f=0;for(var w=0;w<h.length;w++){f=0;r=h[w].getConnectionId();if(n[r]){u=Number(n[r].col*(t.entityWidth+10))+a;y=Number(n[r].row*(t.entityHeight+10))+a;f=Number(n[r].colspan*t.entityWidth+(n[r].colspan-1)*a)}h[w].viewType=g.SOLUTION_VIEW;h[w].left=u;h[w].top=y;h[w].width=f;h[w].height=90;h[w].innerLeft=0;h[w].innerTop=0;h[w].innerWidth=f;h[w].innerHeight=90;e.renderControl(h[w]);h[w].addStyleClass("connectionBox")}}var C=t.$("navigation");var V=t.$("navigation_navigator");C.animate({height:"0px"},900,"swing",function(e){C.hide()})};u._renderSolutionDeploymentType=function(e,t){e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-deploymentTypeContainer");e.addClass("sapLandviszDeploymentTypeContainer");e.writeClasses();e.write(">");var i=t.getSolutionOptions();var n;var o;var r;var a;var s;var l;var w=0;var v;var p;var c;var g;o=t.oHLayoutOptions.getContent();for(var u=1;u<o.length;u++){g=new Array;r=o[u].getOptionSources();v=o[u].getSelected();for(var y=0;y<r.length;y++){a=r[y].getSource();s=this._getDesiredSystem(t,r[y].getSource());if(null!=s&&s.getComponentType()==d.notDefined)continue;else if(y+1<r.length){l=this._getDesiredSystem(t,r[y+1].getSource());if(s.getComponentType()==l.getComponentType()){w++}else{c=this._getDesiredSystem(t,r[y-w].getSource());p=this._renderDeploymentType(e,t,w,c.left,s.getComponentType(),s.getComponentTypeTooltip(),v,c.getSystemId());g.push(p);w=0}}else{c=this._getDesiredSystem(t,r[y-w].getSource());p=this._renderDeploymentType(e,t,w,c.left,s.getComponentType(),s.getComponentTypeTooltip(),v,c.getSystemId());g.push(p);w=0}}t.depTypeOptions[o[u].getId()]=g}e.write("</div>")};u._getDesiredSystem=function(e,t){var i=e.getSystems();for(var n=0;n<i.length;n++){if(i[n].getSystemId()==t)return i[n]}return null};u._renderDeploymentType=function(e,t,i,o,r,a,s,d){var l=new n;l.left=o;l.count=i;l.type=r;l.srcEntityId=d;l.setTooltip(a);l.standardWidth=t.entityWidth;if(s==true)l.addStyleClass("sapLandviszDisplayBlock");else l.addStyleClass("sapLandviszDisplayNone");e.renderControl(l);return l};u._renderOptions=function(e,t){var i=t.getSolutionOptions();if(i.length<=0)return;e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-optionContainer");if(t.getSolutionOptionType()==p.VIEW)e.addClass("sapLandviszOptionContainer");else if(t.getSolutionOptionType()==p.ENTITY)e.addClass("sapLandviszEntityOptionContainer");e.writeClasses();if(t.getSolutionOptionType()==p.VIEW){var n=t.windowWidth-2;e.addStyle("width",n+"px");e.writeStyles()}e.write(">");this._createOptions(e,t);e.write("</div>")};u._createOptions=function(e,t){if(t.getSolutionOptionType()==p.VIEW){this._renderViewOptions(e,t,t.getSolutionOptionType())}else if(t.getSolutionOptionType()==p.ENTITY){this._createEntityOptions(e,t)}};u._createEntityOptions=function(e,t){var i=t.getSolutionOptions();var n;var o=t.getSystems();var r;var a;var s=this;for(var d=0;d<i.length;d++){n=i[d].getOptionEntities();if(""==t.srcEntity)t.srcEntity=i[d].getCurrentEntity();for(var l=0;l<n.length;l++){for(var w=0;w<o.length;w++){if(t.srcEntity==o[w].getSystemId()){r=o[w].left;a=o[w].top;break}}r=r+t.entityWidth/2-50+50*l;n[l].left=r;n[l].optionOn=i[d].getType();n[l].optionSrcEntityId=t.srcEntity;n[l].attachEvent("optionSelected",function(o){var r=o.getSource();var a=r.getOptionSources();var d;for(var l=0;l<a.length;l++){d=a[l].getSource()}if(t.srcEntity==d)return;t.selectedOptionEntity=r;for(var l=0;l<i.length;l++){n=i[l].getOptionEntities();for(var w=0;w<n.length;w++){if(t.srcEntity==n[w].optionSrcEntityId&&r.getId()==n[w].getId()){n[w].$().css({"background-color":"#008fd3",color:"#ffffff"})}else{n[w].$().css({"background-color":"transparent",color:"#00669c"});n[w].setSelected(false)}}}s._makeOptionVisible(e,t,o)});e.renderControl(n[l])}}};u._renderViewOptions=function(e,t,i){var n=t.getSolutionOptions();var o=n[0].getOptionEntities();if(o.length>0){var r=t.getDeploymentOptionsLabel();t.deploymentOptionLabel.setText(r);t.deploymentOptionLabel.setTooltip(t.getDeploymentOptionsTooltip());t.deploymentOptionLabel.addStyleClass("sapLandviszOptionLabel");t.oHLayoutOptions.addContent(t.deploymentOptionLabel)}var a=this;for(var s=0;s<o.length;s++){o[s].optionOn=i;if(o[s].getSelected()==true){t.currentViewOptionId=o[s].getId();t.selectedOptionEntity=o[s]}o[s].attachEvent("optionSelected",function(i){var n=i.getSource();if(t.currentViewOptionId==n.getId())return;t.selectedOptionEntity=n;var r;o=t.oHLayoutOptions.getContent();o=t.getSolutionOptions()[0].getOptionEntities();for(var s=0;s<o.length;s++){r=o[s].$();r.css({"background-color":"transparent",color:"#00669c"});if(n.getId()==o[s].getId()){o[s].setSelected(true)}else{o[s].removeStyleClass("optionSelected");o[s].setSelected(false)}}a._makeOptionVisible(e,t,i)});t.oHLayoutOptions.addContent(o[s])}e.renderControl(t.oHLayoutOptions)};u._makeOptionVisible=function(e,t,i){var n=i.getSource();if(n.optionOn==p.VIEW){this._makeViewOptionVisible(e,t,n)}else if(n.optionOn==p.ENTITY){this._makeEntityOptionVisible(e,t,n)}};u._makeViewOptionVisible=function(e,i,n){if(i.currentViewOptionId==n.getId())return;i.currentViewOptionId=n.getId();var o=i.getSystems();var r;for(var a=0;a<o.length;a++){o[a].removeStyleClass("sapLandviszDisplayNone");r=o[a].$();r.hide("600")}var s=i.$("deploymentTypeContainer");var d=i.depTypeOptions[i.selectedOptionEntity.getId()];var l=s.children();var w;for(var v=0;v<l.length;v++){w=jQuery(l[v]);w.css({display:"none"})}var p=n.getOptionSources();var c;var g=i.getConnectors();var u=g[0].getSource();var y=[];var h;for(var a=0;a<p.length;a++){h=new t;c=p[a].getSource();h.setSource(u);h.setTarget(c);y.push(h)}var f;var C;var V=5;var r;var b;i.connection.init();var S=i.connection.getBoxViewConnectedNodesLayout(y);if(S){var m=Number(i.entityWidth*S.maxColumnCount+(S.maxColumnCount+1)*V);var E=Number(i.boxModeHeight+i.entityHeight+V*3);var s=i.$("deploymentTypeContainer");if(d&&d.length>0){E=E+40;s.css({display:"block"})}else{s.css({display:"none"})}var T=i.$("solutionInnerContainer");T.animate({width:m,height:E},400);setTimeout(function(){var e=i.$("solutionInnerContainer");var t=e[0].offsetLeft;var n=e[0].offsetTop;var a=0;var s=i.getConnectionEntities();for(var l=0;l<s.length;l++){C=s[l].getConnectionId();if(S[C]){h=Number(S[C].col*(i.entityWidth+10));E=Number(S[C].row*(i.entityHeight+10));h=Number(S[C].col*(i.entityWidth+10))+V;E=Number(S[C].row*(i.entityHeight+10))+V;s[l].left=h+t;a=s[l].top;s[l].top=h+n;b=Number(S[C].colspan*i.entityWidth+(S[C].colspan-1)*V);var v=s[l].$();v.animate({left:s[l].left,top:s[l].top,width:b,height:90},600,"swing");var p=jQuery(document.getElementById(s[l].getId()+"connectionRow"));p.animate({width:b,height:90},600,"swing");var c=s[l].$("connectionLabel");var g=b-68;c.css({"max-width":g})}}i.visibleEntities=[];for(var l=0;l<o.length;l++){f=o[l].getSystemId();var u=0;u=30+V;var y=30;if(S[f]){var h=0;var E=0;h+=Number(S[f].col*i.entityWidth+(S[f].col+1)*V);E+=Number((S[f].row-1)*i.entityHeight+(S[f].row+1)*V+i.boxModeHeight);o[l].left=h+t;o[l].top=E+n;r=o[l].$();r.css({left:h+t,top:E+n});r.show("700");i.visibleEntities.push(o[l])}}var T=i.$("deploymentTypeContainer");T.css({left:t,width:m});var _;var L;if(d&&d.length>0){for(var x=0;x<d.length;x++){w=d[x];for(var l=0;l<o.length;l++){if(o[l].getSystemId()==w.srcEntityId){L=o[l];break}}_=L.left-t;w.$().css({display:"block",left:_})}}},405)}};u._makeEntityOptionVisible=function(e,t,i){var n=t.getSystems();var o=i.getOptionSources();i.setSelected(true);var r;for(var a=0;a<o.length;a++){r=o[a].getSource()}if(t.srcEntity==r)return;var s;var d;var l;var w=false;for(var v=0;v<n.length;v++){if(t.srcEntity==n[v].getSystemId()){s=n[v].$();d=n[v].left;l=n[v].top;s.hide("800");break}}setTimeout(function(){for(var e=0;e<n.length;e++){if(r==n[e].getSystemId()){s=n[e].$();s.css({left:d,top:l});n[e].left=d;n[e].top=l;n[e].removeStyleClass("sapLandviszDisplayNone");t.srcEntity=n[e].getSystemId();s.show("800");break}}},810)};u._renderNavigationPath=function(e,t){e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-navigationPath");e.addClass("sapLandviszDependencyPath");e.writeClasses();e.write(">");t.navigationPathLabel.setText(t.getNavigationPath());t.navigationPathLabel.setTooltip(t.getNavigationPath());t.navigationPathLabel.addStyleClass("sapLandviszDependencyPathLabel");e.renderControl(t.navigationPathLabel);e.write("</div>")};u._renderSelectionView=function(e,t){var i=t.getSystems();var n=i[0].getActionBar();for(var o=0;o<n.length;o++){n[o].attachEvent("changeView",function(e){t.resetView(i[0],e.oSource)},this)}var r=0;var a=0;var s=0;var d=0;var l=t.windowHeight-28-2;e.write("<div");e.addStyle("width","100%");e.addStyle("height",l+"px");e.addStyle("overflow","auto");e.addStyle("box-sizing","border-box");e.addStyle("top","28px");e.addStyle("position","absolute");e.writeStyles();e.writeAttributeEscaped("id",t.getId()+"-outerContainer");e.writeClasses();e.write(">");e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-container");e.writeClasses();e.addStyle("position","absolute");e.addStyle("box-sizing","border-box");if(i[0].entityMaximized==true){s=t.windowWidth-40;d=t.windowHeight-66;r=20;a=20;i[0].sViewWidth=s;i[0].sViewHeight=d}else if(i[0].expVisible==true){s=t.windowWidth-12;d=t.windowHeight;r=10;e.addStyle("position","relative");i[0].sViewWidth=s-t.entityWidth;i[0].sViewHeight=d}else{i[0].sViewWidth=0;i[0].sViewHeight=0}e.addStyle("left",r+"px");e.addStyle("top",a+"px");if(s!=0)e.addStyle("width",s+"px");else e.addStyle("width",t.entityWidth+"px");if(d!=0)e.addStyle("height",d+"px");else e.addStyle("height",t.entityHeight+"px");e.writeStyles();e.write(">");i[0].viewType=g.SELECTION_VIEW;i[0].display="block";e.renderControl(i[0]);e.write("</div>");e.write("</div>")};u._renderDependencyView=function(e,t){var i=t.getSystems();for(var n=0;n<i.length;n++)i[n].setShowEntityActions(false);e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-viewContainer");e.writeClasses();var o=t.windowWidth-2;var r=t.windowHeight-26;e.addStyle("width",o+"px");e.addStyle("height",r+"px");e.addStyle("position","absolute");e.addStyle("overflow","hidden");e.addStyle("top",26+"px");e.writeStyles();e.write(">");this._renderBoxContainer(e,t);if(t.currentView!=""&&t.currentView==w.NETWORK_VIEW)this._renderNetworkView(e,t);else if(t.currentView!=""&&t.currentView==w.BOX_VIEW)this._renderBoxView(e,t);else if(t.getVisibleDependency()==v.BOTH){if(t.getDefaultDependencyView()==w.NETWORK_VIEW)this._renderNetworkView(e,t);if(t.getDefaultDependencyView()==w.BOX_VIEW)this._renderBoxView(e,t)}else if(t.getVisibleDependency()==v.NETWORK)this._renderNetworkView(e,t);else if(t.getVisibleDependency()==v.BOX)this._renderBoxView(e,t);this._renderBoxViewLabels(e,t);e.write("</div>")};u._renderCloseButton=function(e,t){e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-closeBtn");e.addClass("sapLandviszCloseButton");e.writeClasses();e.write(">");t.closeImg.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/framework/"+"16x16"+"/close_enable_dark.png"));t.closeImg.setTooltip(t.getCloseButtonTooltip());if(t.firstTime==true)t.closeImg.attachPress(function(e){t.fireClose()});e.renderControl(t.closeImg);e.write("</div>")};u._renderNetworkViewHeader=function(e,t){e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-netwrokViewLable");e.addClass("sapLandviszView");e.writeClasses();e.write(">");t.networkViewBtn.setText(t.getNetworkDependencyLabel());t.networkViewBtn.setLite(true);t.networkViewBtn.addStyleClass("sapLandviszView_text");t.networkViewBtn.setTooltip(t.getNetworkDependencyLabel());var i=t.getViewType();t.networkViewBtn.setIcon("sap-icon://overview-chart");if(i==g.SELECTION_VIEW){t.networkViewBtn.setEnabled(false)}else if(i==g.DEPENDENCY_VIEW){t.networkViewBtn.setEnabled(true)}var n=this;if(t.firstTime==true){t.networkViewBtn.attachPress(function(i){t.networkViewBtn.addStyleClass("selectedView");t.boxViewBtn.removeStyleClass("selectedView");n.renderAllEntities(e,t,false)})}e.renderControl(t.networkViewBtn);e.write("</div>")};u._renderBoxViewHeader=function(e,t){e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-boxViewLable");e.addClass("sapLandviszView");e.writeClasses();e.write(">");t.boxViewBtn.setText(t.getBoxDependencyLabel());t.boxViewBtn.setLite(true);t.boxViewBtn.addStyleClass("sapLandviszView_text");t.boxViewBtn.setTooltip(t.getBoxDependencyLabel());var i=t.getViewType();t.boxViewBtn.setIcon("sap-icon://table-view");if(i==g.SELECTION_VIEW){t.boxViewBtn.setEnabled(false)}else if(i==g.DEPENDENCY_VIEW){t.boxViewBtn.setEnabled(true)}var n=this;if(t.firstTime==true){t.boxViewBtn.attachPress(function(i){t.boxViewBtn.addStyleClass("selectedView");t.networkViewBtn.removeStyleClass("selectedView");n.renderAllBoxViewEntities(e,t,false)})}e.renderControl(t.boxViewBtn);e.write("</div>")};u._renderTitle=function(e,t){var i;i=t.getTitle();e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-viewHeaderContainer");e.addClass("sapLandviszViewer_container_header");e.writeClasses();e.writeAttributeEscaped("title",i);e.write(">");e.writeEscaped(i);e.write("</div>")};u._renderNetworkView=function(e,t){this.renderAllEntities(e,t,true)};u.renderAllEntities=function(e,t,n){var r=t.getConnectors();t.currentView=w.NETWORK_VIEW;var a=t.$("boxViewContainer");if(a)a.css("display","none");var s=t.getBoxDependencyLevels();if(s){for(var d=0;d<s.length;d++){var v=t.$("boxViewLabel"+d);if(v)v.css("display","none")}}t.connection.init();var p;if(t.getConnectionLine()==l.Line)p=t.connection.getConnectedNodesLayout(r);else p=t.connection.getConnectedNodesLayoutTrack(r);var c=t.getSystems();var u=t.getConnectionEntities();var y=50;if(u.length>0)y=0;var h;var f;for(var d=0;d<c.length;d++){h=c[d].getSystemId();if(p[h]){var C=0;var V=0;C=Number(p[h].col*(t.entityWidth+10+y));V=Number(p[h].row*(t.entityHeight+10+y))}c[d].left=C;c[d].top=V;c[d].viewType=g.DEPENDENCY_VIEW;if(n==true)e.renderControl(c[d]);else this._moveEntityToPosition(C,V,c[d].getId())}for(var d=0;d<u.length;d++){f=u[d].getConnectionId();if(t.firstTime==true){u[d].attachEvent("connectionMouseover",function(e){t.onmouseenter(e)},this);u[d].attachEvent("connectionMouseout",function(e){t.onmouseleave(e)},this)}if(p[f]){C=Number(p[f].col*(t.entityWidth+10));V=Number(p[f].row*(t.entityHeight+10))}u[d].left=C;u[d].top=V;u[d].width=t.entityWidth;u[d].height=t.entityHeight;u[d].innerLeft=(t.entityWidth-50)/2;u[d].innerTop=(t.entityHeight-50)/2;u[d].innerWidth=50;u[d].innerHeight=50;u[d].viewType=t.currentView;if(n==true){u[d].addStyleClass("sapLandviszConnection_entity_container");e.renderControl(u[d])}else{u[d].addStyleClass("sapLandviszConnection_entity_container");u[d].removeStyleClass("sapLandviszConnectionBox");this._animateConnectionEntityContainer(t.entityWidth,t.entityHeight,u[d])}}if(t.connection.svgForConnections)t.connection.svgForConnections.style("display","block");else if(n==false){var b=t.$("navigation");var S=t.$("navigation_navigator");b.animate({height:"0px"},1e3,"swing",function(e){b.hide()});setTimeout(function(){if(t.svgForConnections){t.connection.svgForConnections=t.svgForConnections;t.connection.svgForConnections.style("display","block")}else{var e=t.$("viewContainer");var n=e[0].scrollWidth-10;var r=e[0].scrollHeight-10;t.svgForConnections=o.getSVG(n,r,t.getId()+"-viewContainer");t.connection=i;t.connection.svgForConnections=t.svgForConnections;t.connection.renderConnections(t.getSystems(),t.getConnectionEntities(),this.getConnectionLine())}var a=t.$("viewContainer");var s=Number(a[0].scrollHeight);var d=Number(a[0].scrollWidth);var l=Number(a.height());var w=Number(a.width());if(d>w||s>l)t.getVisibleRegion()},1500)}};u._renderBoxContainer=function(e,t){var i=t.getConnectors();t.connection.init();var n=t.connection.getBoxViewConnectedNodesLayout(i);var o=5;var r=Number(t.entityWidth*n.maxColumnCount+(n.maxColumnCount+1)*o);if(n.thirdLevelEntitiesCount>0){r+=30+o}var a=Number(t.boxModeHeight+t.entityHeight+o*3);if(n.thirdLevelEntitiesCount>0){a+=Number(t.entityHeight+o)}e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-boxViewContainer");e.addClass("sapLandviszBoxViewBorderContainer");e.writeClasses();e.addStyle("width",r+"px");e.addStyle("height",a+"px");e.addStyle("top",10+"px");e.writeStyles();e.write(">");e.write("</div>")};u._renderBoxViewLabels=function(e,t){var i=30;var n=t.entityHeight;var o=5;var r=t.boxLeftMargine+o;var a=t.boxModeHeight+o*2+t.boxTopMargine;var s=t.getBoxDependencyLevels();var d;if(s){for(var l=0;l<s.length;l++){a+=(t.entityHeight+o)*l;d=t.getId()+"-boxViewLabel"+l;e.write("<div");e.writeAttributeEscaped("id",d);e.writeAttributeEscaped("title",s[l]);e.addClass("sapLandviszBoxContainerLevelHeader");e.writeClasses();e.addStyle("left",r+"px");e.addStyle("top",a+"px");e.addStyle("height",n+"px");e.addStyle("width",i+"px");e.addStyle("display","none");e.writeStyles();e.write(">");e.write("<div");e.addClass("sapLandviszLevelLabel");e.writeClasses();e.writeAttributeEscaped("id",d+"Level");e.writeAttributeEscaped("title",s[l]);e.addStyle("height","100%");e.addStyle("width","100%");e.addStyle("left","3px");e.writeStyles();e.write(">");e.writeEscaped(s[l]);e.write("</div>");e.write("</div>")}}};u._renderNavigationPanel=function(e,t){e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-navigation");e.addClass("sapLandviszClv_container_frame_navigation");e.writeAttributeEscaped("draggable","true");e.addClass("no-draggable");e.addClass("no-resizable");e.addClass("ui-draggable");e.writeClasses();e.addStyle("bottom","0px");e.addStyle("right","0px");e.addStyle("height","28%");e.addStyle("background-size","100%");e.addStyle("display","block");e.writeStyles();e.write(">");e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-navigation_header");e.addClass("navigationHeader");e.writeClasses();e.write(">");e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-navigation_header_arrowup");e.addClass("navigationBarButton");e.addClass("arrowUp");e.writeClasses();e.writeAttributeEscaped("title",t.SHOW_NAV_TEXT);e.write(">");e.write("</div>");e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-navigation_header_arrowdown");e.addClass("navigationBarButton");e.addClass("arrowDown");e.writeClasses();e.writeAttributeEscaped("title",t.HIDE_NAV_TEXT);e.write(">");e.write("</div>");e.write("</div>");e.write("<div");e.writeAttributeEscaped("id",t.getId()+"-navigation_navigator");e.writeAttributeEscaped("draggable","true");e.addClass("navigationNavigator");e.addClass("ui-draggable");e.writeClasses();e.write(">");e.write("</div>");e.write("</div>")};u._renderBoxView=function(e,t){this.renderAllBoxViewEntities(e,t,true)};u.renderAllBoxViewEntities=function(e,t,i){t.currentView=w.BOX_VIEW;if(t.connection.svgForConnections!=null)t.connection.svgForConnections.style("display","none");var n=t.getSystems();var o=t.getConnectionEntities();var r=t.getConnectors();t.connection.init();var a=t.connection.getBoxViewConnectedNodesLayout(r);var s;var d;var l=5;if(a){var p=t.$("boxViewContainer");setTimeout(function(){p.css("display","block")},1200);for(var c=0;c<n.length;c++){s=n[c].getSystemId();var u=0;u=30+l;var y=30;if(a[s]){var h=0;if(a.thirdLevelEntitiesCount>0)h=30;var f=0;h+=Number(a[s].col*t.entityWidth+(a[s].col+1)*l);f+=Number((a[s].row-1)*t.entityHeight+(a[s].row+1)*l+t.boxModeHeight);n[c].left=h;n[c].top=f;n[c].viewType=g.DEPENDENCY_VIEW;if(i==true){n[c].left=h;n[c].top=f;e.renderControl(n[c])}else{n[c].left=h+t.boxLeftMargine;n[c].top=f+t.boxTopMargine;this._moveEntityToPosition(n[c].left,n[c].top,n[c].getId())}}}var C=0;for(var c=0;c<o.length;c++){if(t.firstTime==true){o[c].attachEvent("connectionMouseover",function(e){t.onmouseenter(e)},this);o[c].attachEvent("connectionMouseout",function(e){t.onmouseleave(e)},this)}C=0;d=o[c].getConnectionId();if(a[d]){if(t.currentView==w.BOX_VIEW){h=Number(a[d].col*(t.entityWidth+10))+l;f=Number(a[d].row*(t.entityHeight+10))+l;C=Number(a[d].colspan*t.entityWidth+(a[d].colspan-1)*l)}}o[c].viewType=t.currentView;o[c].left=h;if(a.thirdLevelEntitiesCount>0)o[c].left=h+30;o[c].top=f;o[c].width=C;o[c].height=90;o[c].innerLeft=0;o[c].innerTop=0;o[c].innerWidth=C;o[c].innerHeight=90;if(t.getVisibleDependency()==v.BOTH&&t.getDefaultDependencyView()==w.NETWORK_VIEW){if(o[c].toolPopup.isOpen())o[c].toolPopup.close()}if(i==true){e.renderControl(o[c]);o[c].left=h;if(a.thirdLevelEntitiesCount>0)o[c].left=h+30;o[c].top=f;o[c].viewType=t.currentView;o[c].width=C;o[c].height=0;o[c].addStyleClass("sapLandviszConnectionBox")}else{o[c].left=h+t.boxLeftMargine;if(a.thirdLevelEntitiesCount>0)o[c].left=h+t.boxLeftMargine+30;o[c].top=f+t.boxTopMargine;o[c].addStyleClass("sapLandviszConnectionBox");o[c].removeStyleClass("sapLandviszConnection_entity_container");this._animateConnectionEntityContainer(C,90,o[c])}}}if(a.thirdLevelEntitiesCount>0){t.hasBoxThirdLevel=true;var V=30;var b=t.entityHeight;var S=t.boxLeftMargine+l;var m=t.boxModeHeight+l*2+t.boxTopMargine;var E=t.getBoxDependencyLevels();var T="Systems";var _="Systems";if(i==false){setTimeout(function(){if(E){for(var e=0;e<E.length;e++){var i=t.$("boxViewLabel"+e);m+=(t.entityHeight+l)*e;i.css("display","block");i.css({left:S,top:m,width:V,height:b});var n=t.$("boxViewLabel"+e+"Level");n.css({width:b,height:b})}}},1e3)}}if(i==false){var L=t.$("navigation");var x=t.$("navigation_navigator");L.animate({height:"0px"},900,"swing",function(e){L.hide()});setTimeout(function(){var e=t.$("viewContainer");var i=Number(e[0].scrollHeight);var n=Number(e[0].scrollWidth);var o=Number(e.height());var r=Number(e.width());if(n>r||i>o)t.getVisibleRegion()},1e3)}};u._moveEntityToPosition=function(e,t,i){var n=jQuery(document.getElementById(i));n.animate({left:e,top:t},1e3)};u._animateConnectionEntityContainer=function(e,t,i){var n=i.$();n.animate({left:i.left,top:i.top,width:e,height:t},1e3,"swing");var o=i.getId()+"connectionRow";var r=jQuery(document.getElementById(o));r.animate({left:i.innerLeft,top:i.innerTop,width:i.innerWidth,height:i.innerHeight},1e3,"swing")};return u},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/LongTextField", ["sap/landvisz/library","sap/ui/core/Control","sap/ui/commons/TextView","./LongTextFieldRenderer"],function(e,t,i,n){"use strict";var o=t.extend("sap.landvisz.LongTextField",{metadata:{library:"sap.landvisz",properties:{text:{type:"string",group:"Data",defaultValue:null},renderingSize:{type:"sap.landvisz.EntityCSSSize",group:"Dimension",defaultValue:null}}}});o.prototype.init=function(){};o.prototype.exit=function(){this.oLinearRowFieldLabel&&this.oLinearRowFieldLabel.destroy()};o.prototype.initControls=function(){var e=this.getId();if(!this.oLongText)this.oLongText=new i(e+"-CLVConValue")};return o});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/LongTextFieldRenderer", ["sap/landvisz/library"],function(e){"use strict";var i=e.EntityCSSSize;var a={};a.render=function(e,a){var n=sap.ui.getCore().getLibraryResourceBundle("sap.landvisz");if(!this.initializationDone){a.initControls();a.initializationDone=true;e.write("<div");e.writeControlData(a);e.addClass("sapLandviszLongTextSizeCommon");if(a.getRenderingSize()==i.RegularSmall)e.addClass("sapLandviszLongTextRegularSmallSize");if(a.getRenderingSize()==i.Regular)e.addClass("sapLandviszLongTextRegularSize");if(a.getRenderingSize()==i.Medium)e.addClass("sapLandviszLongTextMediumSize");if(a.getRenderingSize()==i.Large)e.addClass("sapLandviszLongTextLargeSize");e.writeClasses();e.write(">");var t=a.getText();a.oLongText.setWrapping(true);a.oLongText.setText(t);e.renderControl(a.oLongText);e.write("</div>")}};return a},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/Option", ["sap/landvisz/library","sap/ui/core/Control","./OptionRenderer"],function(t,i,n){"use strict";var e=i.extend("sap.landvisz.Option",{metadata:{library:"sap.landvisz",properties:{type:{type:"string",group:"Identification",defaultValue:null},currentEntity:{type:"string",group:"Data",defaultValue:null}},aggregations:{optionEntities:{type:"sap.landvisz.OptionEntity",multiple:true,singularName:"optionEntity"}}}});e.prototype.init=function(){this.viewType};return e});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/OptionEntity", ["sap/landvisz/library","sap/landvisz/OptionSource","sap/ui/commons/RadioButton","sap/ui/commons/TextView","./OptionEntityRenderer"],function(t,e,i,o,n){"use strict";var p=e.extend("sap.landvisz.OptionEntity",{metadata:{library:"sap.landvisz",properties:{label:{type:"string",group:"Data",defaultValue:null},selected:{type:"boolean",group:"Accessibility",defaultValue:false},enable:{type:"boolean",group:"Identification",defaultValue:true},optionTextTooltip:{type:"string",group:"Data",defaultValue:null}},aggregations:{optionSources:{type:"sap.landvisz.OptionSource",multiple:true,singularName:"optionSource"}},events:{selectOption:{}}}});p.prototype.init=function(){this.optionText="1";this.optionSrcEntityId;this.optionRepEntityId;this.optionOn;this.isSelected;this.initializationDone=false;this.left=0;this.top=0};p.prototype.initControls=function(){var t=this.getId();if(!this.optionTextView)this.optionTextView=new o(t+"-optionText");var e=this;if(!this.optionBtn){this.optionBtn=new i(t+"-optionBtn",{groupName:t+"-optionBtn"});this.optionBtn.attachSelect(function(t){e.fireEvent("optionSelected");e.fireSelectOption()})}};p.prototype.onclick=function(t){if(t.srcControl instanceof i)return;if(this.getEnable()==true){this.fireEvent("optionSelected");this.fireSelectOption()}};p.prototype.onAfterRendering=function(){if(this.getSelected()==true){this.optionBtn.setSelected(true)}}});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/OptionEntityRenderer", ["sap/landvisz/library"],function(t){"use strict";var e=t.OptionType;var i={};i.render=function(t,i){if(!this.initializationDone){i.initControls();i.initializationDone=true;t.write("<div");t.writeControlData(i);t.addClass("sapLandviszOptionButton");t.writeClasses();if(i.left!=0)t.addStyle("left",i.left+"px");if(i.top!=0)t.addStyle("top",i.top+"px");if(i.optionOn==e.ENTITY)t.addStyle("position","absolute");if(i.getEnable()==false){t.addStyle("cursor","default");t.addStyle("color","#999999")}else{t.addStyle("cursor","pointer");t.addStyle("color","#00669c")}t.writeStyles();t.write(" >");i.optionBtn.addStyleClass("viewBtn");i.optionBtn.setText("");i.optionBtn.setTooltip(i.getOptionTextTooltip());i.optionBtn.setEnabled(i.getEnable());i.optionBtn.setSelected(i.getSelected());t.renderControl(i.optionBtn);i.optionTextView.addStyleClass("viewText");i.optionTextView.setText(i.getLabel());i.optionTextView.setTooltip(i.getOptionTextTooltip());i.optionTextView.setEnabled(i.getEnable());t.renderControl(i.optionTextView);t.write("</div>")}};return i},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/OptionRenderer", [],function(){"use strict";var e={};e.render=function(e,n){};return e},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/OptionSource", ["sap/landvisz/library","sap/ui/core/Control","./OptionSourceRenderer"],function(e,r,t){"use strict";var i=r.extend("sap.landvisz.OptionSource",{metadata:{library:"sap.landvisz",properties:{source:{type:"string",group:"Data",defaultValue:null}}}});i.prototype.init=function(){this.viewType};return i});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/OptionSourceRenderer", [],function(){"use strict";var e={};e.render=function(e,n){};return e},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/ActionBar", ["sap/landvisz/library","sap/ui/core/Control","sap/ui/core/CustomData","sap/ui/commons/Image","sap/ui/commons/MenuButton","sap/ui/commons/Menu","sap/ui/commons/MenuItem","./ActionBarRenderer"],function(t,e,n,o,i,a,s,u){"use strict";var r=t.ActionType;var l=t.EntityCSSSize;var c=e.extend("sap.landvisz.internal.ActionBar",{metadata:{library:"sap.landvisz",properties:{actionLabel:{type:"string",group:"Data",defaultValue:null},renderingSize:{type:"sap.landvisz.EntityCSSSize",group:"Dimension",defaultValue:l.Regular},iconSrc:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},actionType:{type:"sap.landvisz.ActionType",group:"Data",defaultValue:r.NORMAL},menuData:{type:"object",group:"Data",defaultValue:null},actionTooltip:{type:"string",group:"Data",defaultValue:null},enable:{type:"boolean",group:"Identification",defaultValue:true},changeView:{type:"boolean",group:"Identification",defaultValue:false}},aggregations:{menu:{type:"sap.ui.commons.Menu",multiple:true,singularName:"menu"}},events:{select:{}}}});c.prototype.init=function(){this.initializationDone=false;this.lastButton=false;this.selectedItem;this.systemId=""};c.prototype.exit=function(){this.customAction&&this.customAction.destroy();this.oActToolBar&&this.oActToolBar.destroy();this.oToolBarBtn&&this.oToolBarBtn.destroy()};c.prototype.initControls=function(){var t=this.getId();this.oToolBarBtn;this.oActToolBar;if(!this.customActionIcon&&this.getIconSrc()&&this.getIconSrc()!="")this.customActionIcon=new o(t+"-CLVCustomActionImg");if(!this.menuButton)this.menuButton=new i(t+"-"+"MenuButton")};c.prototype.onclick=function(t){if(this.getEnable()==false)t.preventDefault();else this.fireSelect()};c.prototype.onsapenter=function(t){if(this.getEnable()==false)t.preventDefault();else this.fireSelect()};c.prototype.nsapenter=function(t){if(this.getEnable()==false)t.preventDefault();else this.fireSelect()};c.prototype.getSelectedItem=function(){return this.selectedItem};c.prototype.getSystemId=function(){return this.systemId};c.prototype.setSelectedItemSubAction=function(t){var e=this.getMenuData();var n=this._addSubActions(e,t)};c.prototype._addSubActions=function(t,e){for(var n=0;n<t.length;n++){if(this.selectedItem.getText()==t[n].text){t[n].subActions=e;return}}};c.prototype._createMenu=function(t){var e=null;var o=null;var i=new a;i.addStyleClass("sapLandviszMenuItemBorber");for(var u=0;u<t.length;u++){o=t[u];e=new s({text:o.text,tooltip:o.tooltip});if(o.customdata){var r=new n({key:o.customdata});e.addCustomData(r)}i.addItem(e);if(o.subActions&&o.subActions.length>0){var l=this._createMenu(o.subActions);e.setSubmenu(l)}}return i};return c});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/ActionBarRenderer", ["sap/landvisz/library","sap/ui/core/CustomData","sap/ui/commons/Menu","sap/ui/commons/MenuItem"],function(e,t,i,a){"use strict";var n=e.ActionType;var s=e.EntityCSSSize;var l={};l.render=function(e,t){if(!this.initializationDone){t.initControls();t.initializationDone=true;var i=t.getRenderingSize();var a;var l="sapLandviszActionText";var r="sapLandviszActionIcon";var d="sapLandviszActionAlign";if(i==s.Small){a="sapLandviszActionAlignSmall"}else if(i==s.RegularSmall){a="sapLandviszActionAlignRegularSmall"}else if(i==s.Regular){a="sapLandviszActionAlignRegular"}e.write("<div");e.writeControlData(t);e.addClass(d);e.addClass(a);if(t.getEnable()){e.addClass("enable");e.writeAttributeEscaped("tabIndex","0")}else{e.addClass("disable");e.writeAttributeEscaped("tabIndex","-1")}if(t.getActionType()==n.MENU){e.write(" style='");e.write("border:0px;");e.write("padding : 0px;");e.write("'");e.addClass("sapLandviszActionIndex")}e.writeClasses();e.write(">");if(t.getActionType()==n.NORMAL){e.write("<div style='padding:0 2px'");e.writeAttributeEscaped("id",t.getId()+"Action");e.writeAttributeEscaped("title",t.getActionTooltip());e.write(">");var o=t.getIconSrc();if(o&&o!=""){t.customActionIcon.setSrc(t.getIconSrc());t.customActionIcon.addStyleClass(r);e.renderControl(t.customActionIcon)}e.write("<div");e.writeAttributeEscaped("id",t.getId()+"Action_text");e.addClass(l);e.writeClasses();e.write(">");e.writeEscaped(t.getActionLabel());e.write("</div>");e.write("</div>");if(!t.getEnable()){e.write("<div");e.writeAttributeEscaped("id",t.getId()+"Action_Disable");e.addClass("sapLandviszActionDisable");e.writeClasses();e.write("></div>")}}else if(t.getActionType()==n.MENU){this._renderSubMenu(e,t);if(i==s.Small){t.menuButton.addStyleClass("sapLandviszSmallSizeMenuItem");t.menuButton.removeStyleClass("sapLandviszMenuItem");t.menuButton.setHeight("20px")}else if(i==s.Regular||i==s.Medium||i==s.Large||i==s.RegularSmall){t.menuButton.addStyleClass("sapLandviszMenuItem");t.menuButton.removeStyleClass("sapLandviszSmallSizeMenuItem");t.menuButton.setHeight("28px")}t.menuButton.setEnabled(t.getEnable());t.menuButton.setText(t.getActionLabel());t.menuButton.setTooltip(t.getActionTooltip());e.renderControl(t.menuButton)}e.write("</div>")}};l._renderSubMenu=function(e,n){var s=n.getMenuData();var l=new i;l.attachItemSelect(function(e){n.selectedItem=e.mParameters.item;if(n.getChangeView()==false)n.$().click();else n.fireEvent("changeView")});l.addStyleClass("sapLandviszMenuItem");l.addStyleClass("sapLandviszMenuItemBorber");var r;var d=null;var o=null;if(s&&s.length>0){for(var u=0;u<s.length;u++){d=s[u];o=new a({text:d.text,tooltip:d.tooltip});if(d.customdata){var c=new t({key:d.customdata});o.addCustomData(c)}l.addItem(o);if(d.subActions&&d.subActions.length>0){var r=n._createMenu(d.subActions);o.setSubmenu(r)}}}n.menuButton.setMenu(l)};return l},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/Connection", ["sap/landvisz/library","sap/ui/thirdparty/jquery"],function(t,jQuery){"use strict";var n=t.ConnectionLine;var e=function(){};e.init=function(){this.setting={showLog:true,animationSpeed:10};this.initialized=false;this.initialRow=0;this.initialCol=0;this.allConnections=[];this.clvConnections=[];this.sourceDoneList={};this.targetDoneList={};this.nodeDoneList={};this.sourceConnectionMatrix={};this.targetConnectionMatrix={};this.connectionMatrix={};this.topPostions={};this.connectedNodesLayout={};this.svgForConnections=null;this.isConnectionEntity=false;this.isSystemEntity=false};e.hideConnections=function(){if(this.svgForConnections){jQuery(this.svgForConnections.canvas).hide()}};e.getConnectedNodesLayoutTrack=function(t){if(t.length>0){this.allConnections=t;if(jQuery.isEmptyObject(this.connectedNodesLayout)){for(var n=0;n<this.allConnections.length;n++){this.getAllTargets(this.allConnections[n].getSource());this.getAllSources(this.allConnections[n].getSource())}}var e={};e.row=this.initialRow;e.col=this.initialCol;var i;var o;var s=true;for(var r in this.sourceConnectionMatrix){this.connectionMatrix[r]=[];this.connectionMatrix[r].sources=this.sourceConnectionMatrix[r];this.connectionMatrix[r].targets=this.targetConnectionMatrix[r];if(!this.connectedNodesLayout[r]&&s==true){this.connectedNodesLayout[r]=e;i=this.connectionMatrix[r];o=r;s=false}}this.assignIndexToConnectedNodes(i,o)}return this.connectedNodesLayout};e.assignIndexToConnectedNodes=function(t,n){if(t.targets.length>0)this.assignTargetIndex(n);if(t.sources.length>0)this.assignSourceIndex(n)};e.assignTargetIndex=function(t){var n=this.connectionMatrix[t];var e=this.connectedNodesLayout[t].row;var i=this.connectedNodesLayout[t].col;var o;for(var s=0;s<n.targets.length;s++){o=this.connectionMatrix[n.targets[s]];if(s==0)i++;else{e++;if(o&&o.targets.length>0)i=i+o.targets.length-1}var r={};r.row=e;r.col=i;if(!this.connectedNodesLayout[n.targets[s]])this.connectedNodesLayout[n.targets[s]]=r;if(o)this.assignIndexToConnectedNodes(o,n.targets[s])}};e.assignSourceIndex=function(t){var n=this.connectionMatrix[t];var e=this.connectedNodesLayout[t].row;var i=this.connectedNodesLayout[t].col;for(var o=0;o<n.sources.length;o++){if(!this.connectedNodesLayout[n.sources[o]]){i--;e++;var s={};s.row=e;s.col=i;this.connectedNodesLayout[n.sources[o]]=s;if(this.connectionMatrix[n.targets[o]])this.assignIndexToConnectedNodes(this.connectionMatrix[n.targets[o]],n.targets[o])}}};e.getAllTargets=function(t){var n=[];if(!this.sourceDoneList[t]){this.sourceDoneList[t]=true;for(var e=0;e<this.allConnections.length;e++){if(t==this.allConnections[e].getSource()){n.push(this.allConnections[e].getTarget())}}this.targetConnectionMatrix[t]=n}};e.getAllSources=function(t){var n=[];if(!this.targetDoneList[t]){this.targetDoneList[t]=true;for(var e=0;e<this.allConnections.length;e++){if(t==this.allConnections[e].getTarget()){n.push(this.allConnections[e].getSource())}}this.sourceConnectionMatrix[t]=n}};e.getConnectedNodesLayout=function(t){if(t.length>0){this.allConnections=t;if(jQuery.isEmptyObject(this.connectedNodesLayout)){for(var n=0;n<this.allConnections.length;n++){this.getSourceTargetConnections(this.allConnections[n].getSource());this.getTargetSourceConnections(this.allConnections[n].getTarget())}for(var e in this.sourceConnectionMatrix){this.connectionMatrix[e]=jQuery.merge(jQuery.merge([],this.sourceConnectionMatrix[e]),this.targetConnectionMatrix[e])}var i={};i.row=this.initialRow;i.col=this.initialCol;for(var e in this.connectionMatrix){if(this.connectionMatrix[e].length==1){this.connectedNodesLayout[e]=i;this.nodeDoneList[e]=true;if(!this.topPostions[this.initialRow]){this.topPostions[this.initialRow]=[]}this.topPostions[this.initialRow].push(this.initialCol);this.findConnectedNodes(e);break}}}}return this.connectedNodesLayout};e.getAllConnections=function(){if(this.allConnections.length==0){jQuery(this.connectionsData).find("CONNECTION").each(function(){var t=this.parseSingleConnection(jQuery(this));this.allConnections.push(t)})}return this.allConnections};e.parseSingleConnection=function(t){var n={};jQuery(t).children("DATA").each(function(){var t=jQuery(this).attr("property");var e=typeof jQuery(this).attr("value")==="string"?jQuery(this).attr("value").trim():jQuery(this).attr("value")!=null?String(jQuery(this).attr("value")).trim():"";switch(t.toUpperCase()){case"CONNECTION-UUID":n.uuid=e;break;case"CONNECTION-TYPE":n.type=e;break;case"TEXT":n.text=e;break;case"SOURCE-ENTITY-UUID":n.source=e;break;case"TARGET-ENTITY-UUID":n.target=e;break}});return n};e.getSourceTargetConnections=function(t){var n=[];if(!this.sourceDoneList[t]){this.sourceDoneList[t]=true;for(var e=0;e<this.allConnections.length;e++){if(t==this.allConnections[e].getSource()){n.push(this.allConnections[e].getTarget());this.getSourceTargetConnections(this.allConnections[e].getTarget())}}this.sourceConnectionMatrix[t]=n}};e.getTargetSourceConnections=function(t){var n=[];if(!this.targetDoneList[t]){this.targetDoneList[t]=true;for(var e=0;e<this.allConnections.length;e++){if(t==this.allConnections[e].getTarget()){n.push(this.allConnections[e].getSource());this.getTargetSourceConnections(this.allConnections[e].getSource())}}this.targetConnectionMatrix[t]=n}};e.findConnectedNodes=function(t){var n=this.connectionMatrix[t];var e=0;var i=this.connectedNodesLayout[t].row;var o=this.connectedNodesLayout[t].col;var s=[];for(var r=0;r<n.length;r++){if(!this.nodeDoneList[n[r]]){s[e]=n[r];e++}}e=n.length-s.length;for(var r=0;r<s.length;r++){e++;if(e==1){o++}else{if(e==2){if(i!=0){var a=o;var c=i-1;if(n.length>2&&!this.inTopPosition(c,a)){i--}}o++}else if(e>=3){i++}}var l={};l.row=i;l.col=o;this.connectedNodesLayout[s[r]]=l;this.nodeDoneList[s[r]]=true;if(!this.topPostions[i]){this.topPostions[i]=[]}this.topPostions[i].push(o);var h=this.findConnectedNodes(s[r]);i=h}return i};e.inTopPosition=function(t,n){if(this.topPostions[t]){for(var e=0;e<this.topPostions[t].length;e++){if(this.topPostions[t][e]==n){return true}}}return false};e.renderConnections=function(t,n,e){for(var i=0;i<this.allConnections.length;i++){var o=this.allConnections[i];o.sourceEntity=this.getEntity(t,n,this.allConnections[i].getSource());o.targetEntity=this.getEntity(t,n,this.allConnections[i].getTarget());this.clvConnections.push(o)}if(this.clvConnections.length==0)return;var s=this.svgForConnections.append("marker").attr("id","endMarker").attr("viewBox","0 0 10 10").attr("markerWidth",10).attr("markerHeight",3).attr("refX",7).attr("refY",4).attr("orient","auto").attr("markerUnits","strokeWidth");s.append("path").attr("d","M0,0 L10,4 L0,8 z");for(var i=0;i<this.clvConnections.length;i++){this.drawConnection(this.clvConnections[i],e)}};e.getEntity=function(t,n,e){var i;this.isConnectionEntity=false;this.isSystemEntity=false;for(var o=0;o<n.length;o++){i=n[o].getConnectionId();if(e==i)return n[o].$()}for(var o=0;o<t.length;o++){i=t[o].getSystemId();if(e==i)return t[o].$()}};e.drawConnection=function(t,e){var i=t.sourceEntity;var o=t.targetEntity;var s=this.getX(i);var r=this.getY(i);var a=this.getX(o);var c=this.getY(o);var l=t.getSource();var h=t.getTarget();var u=this.connectedNodesLayout[l];var g=this.connectedNodesLayout[h];var d=null;if(g.row==u.row){d=this.svgForConnections.append("line");if(e==n.Arrow){s=s+122;a=a-122;d.attr("marker-end","url(#endMarker)")}d.attr("x1",s);d.attr("y1",r);d.attr("x2",a);d.attr("y2",c);d.attr("stroke","#999");d.attr("stroke-width",2);d.transition().duration(1500).delay(1e3)}else if(g.col==u.col){d=this.svgForConnections.append("line");if(e==n.Arrow){r=r+95;c=c-95;d.attr("marker-end","url(#endMarker)")}d.attr("x1",s);d.attr("y1",r);d.attr("x2",a);d.attr("y2",c);d.attr("stroke","#999");d.attr("stroke-width",2);d.transition().duration(1500).delay(1e3)}else if(g.col>u.col){if(g.row<u.row){d=this.svgForConnections.append("line");if(e==n.Arrow){s=s+95;d.attr("marker-end","url(#endMarker)")}d.attr("x1",s);d.attr("y1",r);d.attr("x2",a);d.attr("y2",r);d.attr("stroke","#999");d.attr("stroke-width",2);d.transition().duration(1500).delay(1e3);d=this.svgForConnections.append("line");if(e==n.Arrow){c=c+95;d.attr("marker-end","url(#endMarker)")}d.attr("x1",a);d.attr("y1",r);d.attr("x2",a);d.attr("y2",c);d.attr("stroke","#999");d.attr("stroke-width",2);d.transition().duration(1500).delay(1e3)}else{d=this.svgForConnections.append("line");if(e==n.Arrow){r=r+95;d.attr("marker-end","url(#endMarker)")}d.attr("x1",s);d.attr("y1",r);d.attr("x2",s);d.attr("y2",c);d.attr("stroke","#999");d.attr("stroke-width",2);d.transition().duration(1500).delay(1e3);d=this.svgForConnections.append("line");if(e==n.Arrow){a=a-122;d.attr("marker-end","url(#endMarker)")}d.attr("x1",s);d.attr("y1",c);d.attr("x2",a);d.attr("y2",c);d.attr("stroke","#999");d.attr("stroke-width",2);d.transition().duration(1500).delay(1e3)}}else{d=this.svgForConnections.append("line");d.transition();d.attr("x1",s);d.attr("y1",r);d.attr("x2",a);d.attr("y2",r);d.attr("marker-end","url(#endMarker)");d.attr("stroke","#999");d.attr("stroke-width",2);d.transition().duration(1500).delay(1e3);d.attr("x1",s);d=this.svgForConnections.append("line");d.transition();d.attr("x1",a);d.attr("y1",r);d.attr("x2",a);d.attr("y2",c);d.attr("marker-end","url(#endMarker)");d.attr("stroke","#999");d.attr("stroke-width",2);d.transition().duration(1500).delay(1e3)}};e.getX=function(t){var n=parseInt(t.css("left"));var e=t[0].clientWidth;return n+e/2};e.getY=function(t){var n=parseInt(t.css("top"));var e=t[0].clientHeight;return n+e/2};e.getTargetXMiddle=function(t){var n=parseInt(t.css("left"));var e=t.outerWidth();if(t.hasClass("clv_entity_container")){return n+26+(e-26)/2}else if(t.hasClass("networkConnectionEntity")){var i=parseInt(t.parent().css("left"));return i+n+e/2}else{return null}};e.getTargetYCenter=function(t){var n=parseInt(t.css("top"));var e=t.outerHeight();if(t.hasClass("clv_entity_container")){return n+32+(e-32)/2}else if(t.hasClass("networkConnectionEntity")){var i=parseInt(t.parent().css("top"));return i+n+e/2}else{return null}};e.showConnections=function(){if(this.svgForConnections){jQuery(this.svgForConnections.canvas).show()}};e.destroyConnections=function(){if(this.svgForConnections){this.svgForConnections.canvas.remove();this.svgForConnections=null}};e.getConnectedNodes=function(t){var n=[];for(var e=0;e<this.allConnections.length;e++){if(t==this.allConnections[e].source){n.push(this.allConnections[e].target)}else if(t==this.allConnections[e].target){n.push(this.allConnections[e].source)}}return n};e.deinitialize=function(){if(this.initialized){if(this.svgForConnections){this.svgForConnections.canvas.remove();this.svgForConnections=null}this.allConnections=[];this.clvConnections=[];this.sourceDoneList={};this.targetDoneList={};this.nodeDoneList={};this.sourceConnectionMatrix={};this.targetConnectionMatrix={};this.connectionMatrix={};this.topPostions={};this.connectedNodesLayout={};this.initialized=false}};e.getBoxViewConnectedNodesLayout=function(t){var n={};var e=[];var i={};if(t.length>0){this.allConnections=t;for(var o=0;o<this.allConnections.length;o++){var s=false;for(var r in n){if(this.allConnections[o].getSource()==r){s=true;break}}if(!s){n[this.allConnections[o].getSource()]={}}}for(var r in n){var a=[];for(var c=0;c<this.allConnections.length;c++){if(r==this.allConnections[c].getSource()){var l=[];for(var h=0;h<this.allConnections.length;h++){if(this.allConnections[c].getTarget()==this.allConnections[h].getTarget())l.push(this.allConnections[h].getSource())}var u={};if(l.length>1){if(e.length>0){var g=false;for(var o=0;o<e.length;o++){for(var d in e[o]){if(this.allConnections[c].getTarget()==d){g=true}}if(g){break}}if(!g){u[this.allConnections[c].getTarget()]=l;e.push(u)}}else{u[this.allConnections[c].getTarget()]=l;e.push(u)}}else{u[this.allConnections[c].getTarget()]={};a.push(u)}}}n[r].secondLevelEntities=a}i.maxColumnCount=0;for(var r in n){var a=n[r].secondLevelEntities;i[r]={};i[r].row=this.initialRow;i[r].col=this.initialCol;i[r].colspan=a.length>0?a.length:1;for(var o=0;o<a.length;o++){for(var d in a[o]){i[d]={};i[d].row=this.initialRow+1;i[d].col=this.initialCol+o}}this.initialCol+=i[r].colspan}i.thirdLevelEntitiesCount=e.length;for(var o=0;o<e.length;o++){for(var r in e[o]){i[r]={};i[r].row=this.initialRow+2;i[r].col=0;if(e[o][r].length==2){var f=i[e[o][r][0]].col;var C=i[e[o][r][0]].col+i[e[o][r][0]].colspan-1;var v=i[e[o][r][1]].col;var p=i[e[o][r][1]].col+i[e[o][r][1]].colspan-1;if(f<v){i[r].col=(C+v)/2}else{i[r].col=(p+f)/2}}else{for(var c=0;c<e[o][r].length;c++){var y=i[e[o][r][c]].col+i[e[o][r][c]].colspan-1;if(i[r].col<y)i[r].col=y}i[r].col=i[r].col/2}}}i.maxColumnCount=this.initialCol}return i};return e},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/DataContainer", ["sap/landvisz/library","sap/ui/core/Control","sap/ui/commons/layout/VerticalLayout","sap/ui/ux3/NavigationItem","./DataContainerRenderer"],function(t,e,i,a,n){"use strict";var s=t.EntityCSSSize;var o=e.extend("sap.landvisz.internal.DataContainer",{metadata:{library:"sap.landvisz",properties:{header:{type:"string",group:"Data",defaultValue:null},selected:{type:"boolean",group:"Identification",defaultValue:true},renderingSize:{type:"sap.landvisz.EntityCSSSize",group:"Dimension",defaultValue:s.Regular},type:{type:"sap.landvisz.LandscapeObject",group:"Identification",defaultValue:null}},aggregations:{properties:{type:"sap.ui.core.Control",multiple:true,singularName:"property"}},events:{select:{}}}});o.prototype.init=function(){this.initializationDone=false;this.firstItem=false;this.lastItem=true;this.width;this.hasChangeEvent=false;this.visible=true;this.inDisplay=true};o.prototype.exit=function(){this.navItem&&this.navItem.destroy();this.oNavBar&&this.navItem.destroy()};o.prototype.initControls=function(){var t=this.getId();if(!this.oVLayoutContainer)this.oVLayoutContainer=new i(t+"-CLVEntityVLayoutContainer");this.navItem&&this.navItem.destroy();this.navItem=new a(t+"-CLVItemHeader")};o.prototype.select=function(t){alert("selected")};o.prototype.onclick=function(t){this.fireEvent("itemsChanged")};o.prototype.onsapenter=function(t){this.fireEvent("itemsChanged")};return o});
/*!
 *  SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/DataContainerRenderer", ["sap/landvisz/library","sap/landvisz/internal/LinearRowField"],function(e,a){"use strict";var t=e.EntityCSSSize;var i=e.LandscapeObject;var n={};n.render=function(e,a){if(!this.initializationDone){a.initControls();a.initializationDone=true;e.write("<div tabIndex='0' ");e.writeControlData(a);e.addClass("sapLandviszDataContainerSize");if(a.getRenderingSize()==t.Small)e.addClass("sapLandviszDataContainerSmallSize");if(a.getRenderingSize()==t.RegularSmall)e.addClass("sapLandviszDataContainerRegularSmallSize");if(a.getRenderingSize()==t.Regular)e.addClass("sapLandviszDataContainerRegularSize");if(a.getRenderingSize()==t.Medium)e.addClass("sapLandviszDataContainerMediumSize");if(a.getRenderingSize()==t.Large)e.addClass("sapLandviszDataContainerLargeSize");if(a.getSelected()){if(a.getType()==i.TechnicalSystem)e.addClass("sapLandviszSelectedTechnicalSystem");else if(a.getType()==i.ProductSystem)e.addClass("sapLandviszSelectedProductSystem");else if(a.getType()==i.SapComponent)e.addClass("sapLandviszSelectedSapComponent");e.writeClasses()}else e.addClass("sapLandviszUnselected");if(a.width&&a.width!="")e.addStyle("width",a.width);e.writeStyles();e.writeClasses();e.writeAttributeEscaped("title",a.getHeader());e.write(">");e.writeEscaped(a.getHeader());e.write("</div>")}};n._renderDataContainerProperties=function(e,t){var i=t.getId();var n=t.getValues();var s;if(n.length){for(var d=0;d<n.length;d++){s=new a(i+d+t.getHeader()+"-CLVDatacontainerRowField");s.setLabel(n[d].label);s.setValue(n[d].value);s.placeAt("CLVEntityHLayout")}}else{s=new a(i+t.getHeader()+"-CLVDatacontainerRowField");s.setLabel(n.label);s.setValue(n.value);s.placeAt("CLVEntityHLayout")}};return n},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/DeploymentType", ["sap/landvisz/library","sap/ui/core/Control","sap/ui/commons/Image","./DeploymentTypeRenderer"],function(t,i,e,n){"use strict";var o=i.extend("sap.landvisz.internal.DeploymentType",{metadata:{library:"sap.landvisz",properties:{type:{type:"string",group:"Data",defaultValue:null}}}});o.prototype.init=function(){this.left=0;this.top=0;this.initializationDone=false;this.entityId="";this.count=0;this.type="";this.standardWidth=0;this.srcEntityId=""};o.prototype.initControls=function(){var t=this.getId();this.iconType&&this.iconType.destroy();this.iconType=new e(t+"-solutionCategoryImg");this.iconLeft&&this.iconLeft.destroy();this.iconLeft=new e(t+"-solutionCategoryLeftImg");this.iconRight&&this.iconRight.destroy();this.iconRight=new e(t+"-solutionCategoryRightImg")};return o});
/*!
 *  @copyright 2012-2014 SAP SE. All rights reserved@
 */
sap.ui.predefine("sap/landvisz/internal/DeploymentTypeRenderer", ["sap/landvisz/library"],function(e){"use strict";var t=e.ComponentType;var i={};i.render=function(e,i){if(!this.initializationDone){i.initControls();i.initializationDone=true;var a;var d=5;if(i.count+1==1)a=i.standardWidth;else a=i.standardWidth*(i.count+1)+d*i.count;e.write("<div");e.addStyle("left",i.left+"px");e.addStyle("position","absolute");e.addStyle("height","40px");e.addStyle("width",a+"px");e.writeStyles();e.writeClasses();e.writeControlData(i);e.write(">");this._drawLeftLine(e,i,a);e.write("<div");e.addStyle("left",a/2-40+"px");e.addStyle("position","absolute");e.addStyle("margin-top","5px");e.addStyle("width","80px");e.addStyle("text-align","center");e.writeStyles();e.write(">");if(i.type==t.onDemand)i.iconType.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/framework/"+"32x32"+"/sap_on_demand.png"));else if(i.type==t.onPremise)i.iconType.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/framework/"+"32x32"+"/sap_on_premise.png"));i.iconType.setTooltip(i.getTooltip());i.iconType.addStyleClass("sapLandviszIconBorder");e.renderControl(i.iconType);e.write("</div>");this._drawRightLine(e,i,a);e.write("</div>")}};i._drawLeftLine=function(e,t,i){var a=i/2-40-9;e.write("<div");e.addStyle("position","absolute");e.addStyle("margin-top","11px");e.writeStyles();e.write(">");t.iconLeft.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/framework/"+"16x16"+"/leftnav_enable_dark.png"));e.renderControl(t.iconLeft);e.write("</div>");e.write("<h2 ");e.addStyle("left","9px");e.addStyle("position","absolute");e.addStyle("width",a+"px");e.addStyle("margin","18px 0px");e.addStyle("line-height",".1em");e.addStyle("border-bottom","2px solid black");e.addStyle("text-align","center");e.writeStyles();e.write(">");e.write(" </h2>")};i._drawRightLine=function(e,t,i){var a=i/2-40-9;var d=i/2+40;e.write("<h2 ");e.addStyle("left",d+"px");e.addStyle("position","absolute");e.addStyle("width",a+"px");e.addStyle("margin","18px 0px");e.addStyle("line-height",".1em");e.addStyle("border-bottom","2px solid black");e.addStyle("text-align","center");e.writeStyles();e.write(">");e.write(" </h2>");e.write("<div");e.addStyle("position","absolute");e.addStyle("margin-top","11px");e.addStyle("left",i-18+"px");e.writeStyles();e.write(">");t.iconRight.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/framework/"+"16x16"+"/rightnav_enable_dark.png"));e.renderControl(t.iconRight);e.write("</div>")};return i},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/EntityAction", ["sap/landvisz/library","sap/ui/core/Control","sap/ui/commons/Image","./EntityActionRenderer"],function(t,i,n,e){"use strict";var o=i.extend("sap.landvisz.internal.EntityAction",{metadata:{library:"sap.landvisz",properties:{actionTooltip:{type:"string",group:"Data",defaultValue:null},iconSrc:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},renderingSize:{type:"string",group:"Dimension",defaultValue:null}},events:{press:{}}}});o.prototype.init=function(){this.initializationDone=false};o.prototype.exit=function(){this.entityActionIcon&&this.entityActionIcon.destroy();this.style="";this.entityMaximized};o.prototype.initControls=function(){var t=this.getId();this.entityActionIcon&&this.entityActionIcon.destroy();this.entityActionIcon=new n(t+"-CLVEntityActionImg")};o.prototype.press=function(t){this.fireSelect()};o.prototype.onclick=function(t){this.firePress()};return o});
/*!
 *  SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/EntityActionRenderer", ["sap/landvisz/library"],function(t){"use strict";var i=t.EntityCSSSize;var n={};n.render=function(t,n){if(!this.initializationDone){n.initControls();n.initializationDone=true;t.write("<div tabIndex='0' ");t.writeControlData(n);var e=n.getRenderingSize();if(n.entityMaximized!=true){if(e==i.Small||e==i.RegularSmall||e==i.Regular||e==i.Medium){t.addClass("sapLandviszIcon_buttonSmall")}else t.addClass("sapLandviszIcon_button")}else if(n.entityMaximized==true){t.addClass("sapLandviszIcon_button");n.entityActionIcon.setWidth("16px");n.entityActionIcon.setHeight("16px")}t.writeClasses();t.write(">");n.setTooltip(n.getActionTooltip());n.entityActionIcon.setSrc(n.getIconSrc());n.entityActionIcon.setTooltip(n.getActionTooltip());t.renderControl(n.entityActionIcon);t.write("</div>")}};return n},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/EntityCustomAction", ["sap/landvisz/library","sap/ui/core/Control","./EntityCustomActionRenderer"],function(t,i,e){"use strict";var n=t.EntityCSSSize;var o=i.extend("sap.landvisz.internal.EntityCustomAction",{metadata:{library:"sap.landvisz",properties:{customAction:{type:"string",group:"Data",defaultValue:null},renderingSize:{type:"sap.landvisz.EntityCSSSize",group:"Dimension",defaultValue:n.Regular}},events:{select:{}}}});o.prototype.init=function(){this.initializationDone=false;this.lastButton=false};o.prototype.exit=function(){this.customAction&&this.customAction.destroy()};o.prototype.initControls=function(){var t=this.getId()};o.prototype.select=function(t){this.fireSelect()};o.prototype.onclick=function(t){this.fireSelect()};return o});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/EntityCustomActionRenderer", [],function(){"use strict";var i={};i.render=function(i,t){if(!this.initializationDone){t.initControls();t.initializationDone=true;i.write("<div");i.writeControlData(t);i.addClass("sapLandviszAction");i.writeClasses();i.write('id="');i.write(t.getId()+"Action");i.write('" title ="');i.writeEscaped(t.getCustomAction());i.write('">');i.writeEscaped(t.getCustomAction());i.write("</div>")}};return i},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/EntityUtils", [],function(){"use strict";var t=function(){};t._getStatusFilters=function(t){};return t},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/HeaderList", ["sap/landvisz/library","sap/ui/core/Control","./HeaderListRenderer"],function(t,e,i){"use strict";var o=e.extend("sap.landvisz.internal.HeaderList",{metadata:{library:"sap.landvisz",properties:{headerTooltip:{type:"string",group:"Data",defaultValue:null},entitySize:{type:"string",group:"Dimension",defaultValue:null},selected:{type:"boolean",group:"Identification",defaultValue:false},type:{type:"sap.landvisz.LandscapeObject",group:"Identification",defaultValue:null}},events:{press:{}}}});o.prototype.init=function(){this.initializationDone=false;this.lastBtn=true;this.onFocus=true;this.inDisplay=false};o.prototype.exit=function(){this.customAction&&this.customAction.destroy();this.oToolBarBtn&&this.oToolBarBtn.destroy();this.oActToolBar&&this.oActToolBar.destroy()};o.prototype.initControls=function(){this.oToolBarBtn;this.oActToolBar;this.oHLayoutBtn;this.parentContainer;this.headerWidth;this.btnEventController};o.prototype.press=function(t){this.firePress()};o.prototype.onclick=function(t){this.firePress()};o.prototype.onsapenter=function(t){this.firePress()};return o});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/HeaderListRenderer", ["sap/landvisz/library"],function(e){"use strict";var i=e.LandscapeObject;var a={};a.render=function(e,a){if(!this.initializationDone){a.initControls();a.initializationDone=true;e.write("<div tabIndex='0' ");e.writeControlData(a);if(a.getSelected()){e.addClass("sapLandviszMiniNavigationSelected");if(a.getType()==i.TechnicalSystem)e.addClass("sapLandviszTechnicalSystem");else if(a.getType()==i.ProductSystem)e.addClass("sapLandviszProductSystem");else if(a.getType()==i.SapComponent)e.addClass("sapLandviszSapComponent");e.writeClasses()}else if(a.inDisplay==true)e.addClass("sapLandviszMiniNavigationInDisplay");else e.addClass("sapLandviszMiniNavigationNormal");e.writeClasses();e.writeAttributeEscaped("id",a.getId()+"MiniHeader");e.writeAttributeEscaped("title",a.getHeaderTooltip());e.addStyle("width",a.headerWidth+"px");e.writeStyles();e.write(">");e.write("</div>")}};return a},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/IdentificationBar", ["sap/landvisz/library","sap/landvisz/EntityConstants","sap/ui/core/Control","sap/ui/core/library","sap/ui/commons/Image","sap/ui/commons/TextView","./IdentificationBarRenderer"],function(t,e,i,n,s,o,r){"use strict";var a=n.AccessibleRole;var l=t.EntityCSSSize;var u=i.extend("sap.landvisz.internal.IdentificationBar",{metadata:{library:"sap.landvisz",properties:{text:{type:"string",group:"Data",defaultValue:null},type:{type:"string",group:"Data",defaultValue:null},qualifierText:{type:"string",group:"Data",defaultValue:null},qualifierTooltip:{type:"string",group:"Data",defaultValue:null},qualifierType:{type:"string",group:"Data",defaultValue:null},renderingSize:{type:"sap.landvisz.EntityCSSSize",group:"Dimension",defaultValue:l.Regular},defaultState:{type:"string",group:"Misc",defaultValue:null},description:{type:"string",group:"Data",defaultValue:null},componentType:{type:"sap.landvisz.ComponentType",group:"Identification",defaultValue:null}},events:{select:{}}}});u.prototype.init=function(){this.initializationDone=false};u.prototype.exit=function(){this.oIdentifierIcon&&this.oIdentifierIcon.destroy();this.oQualifierIcon&&this.oQualifierIcon.destroy();this.oDescriptionText&&this.oDescriptionText.destroy();this.oIdentifierText&&this.oIdentifierText.destroy();this.oQualifierText&&this.oQualifierText.destroy()};u.prototype.initControls=function(){var t=this.getId();this._oBundle=sap.ui.getCore().getLibraryResourceBundle("sap.landvisz");this.OnDemandText=this._oBundle.getText("On_Demand");this.OnPremiseText=this._oBundle.getText("On_Premise");this.oIdentifierIcon&&this.oIdentifierIcon.destroy();this.oIdentifierIcon=new s(t+"-CLVIdnImg");this.oIdentifierIcon.setParent(this);this.oIdentifierText&&this.oIdentifierText.destroy();this.oIdentifierText=new o(t+"-CLVIdnTxt");this.oIdentifierText.setAccessibleRole(a.Heading);this.oIdentifierText.setParent(this);this.oQualifierIcon&&this.oQualifierIcon.destroy();this.oQualifierIcon=new s(t+"-CLVQuaImg").addStyleClass("sapLandviszCursor");this.oQualifierIcon.setParent(this);this.oDescriptionText&&this.oDescriptionText.destroy();this.oDescriptionText=new o(t+"-CLVDesTxt");this.oDescriptionText.setParent(this);this.oQualifierText&&this.oQualifierText.destroy();this.oQualifierText=new o(t+"-CLVQuaTxt");this.oIdentifierTextIcon&&this.oIdentifierTextIcon.destroy();this.oIdentifierTextIcon=new s(t+"-CLVIdnSIDImg");this.oQualifierText.setAccessibleRole(a.Heading);this.oQualifierText.setParent(this);this.oButton;this.oCallout;this.maxHeight;this.entityMaximized};u.prototype.select=function(t){this.fireSelect()};sap.landvisz.LandscapeEntity.prototype.select=function(t){this.fireSelect()};u.prototype.onclick=function(t){e.internalEvent=true;this.fireSelect()};return u});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/IdentificationBarRenderer", ["sap/landvisz/library","sap/landvisz/EntityConstants","sap/ui/commons/Button","sap/ui/commons/Callout","sap/ui/commons/library"],function(e,i,t,a,s){"use strict";var n=s.TextViewDesign;var r=e.ComponentType;var c=e.EntityCSSSize;var o=e.LandscapeObject;var l=e.TechnicalSystemType;var d={};d.render=function(e,i){this.tSize=null;this.sEntityIconSizePath="32x32",this.tSIDTextSize=n.H4;this.squalifierTextSize=null;this.sQualifierIconSizePath=null;var t=sap.ui.getCore().getLibraryResourceBundle("sap.landvisz");var a=i.getId();var s=i.getRenderingSize();if(!this.initializationDone){i.initControls();i.initializationDone=true;e.write("<div");e.writeControlData(i);this._renderObjectType(e,i);var r=i._oBundle.getText(i.getType());e.writeAttributeEscaped("title",r);if(i.entityMaximized!=true){e.addClass("sapLandVisIdentificationBarSize");if(s==c.Small){e.addClass("sapLandVisIdentificationBarSmallSize");this.sEntityIconSizePath="32x32"}else if(s==c.RegularSmall){e.addClass("sapLandVisIdentificationBarRegularSmallSize");this.sEntityIconSizePath="48x48"}else if(s==c.Regular){e.addClass("sapLandVisIdentificationBarRegularSize");this.sEntityIconSizePath="48x48"}else if(s==c.Medium){e.addClass("sapLandVisIdentificationBarMediumSize");this.sEntityIconSizePath="48x48"}if(s==c.Large){e.addClass("sapLandVisIdentificationBarLargeSize");this.sEntityIconSizePath="48x48"}}else if(i.entityMaximized==true){e.addClass("sapLandVisIdentificationBarSize");e.addClass("sapLandVisIdentificationBarMaximizeSize");if(i.maxHeight&&i.maxHeight!=0)e.addStyle("height",i.maxHeight+"px");this.sEntityIconSizePath="48x48"}e.writeStyles();e.writeClasses();e.write(">");this._renderIdentificationProperties(e,i);if(i.getType()==o.TechnicalSystem||i.getType()==o.SapComponent)this._renderQualifierProperties(e,i);this._renderDescriptionCallOut(e,i);e.write("</div>")}};d._renderObjectType=function(e,i){var t=i.getType();switch(t){case o.TechnicalSystem:e.addStyle("background-color","rgb(0, 143, 211)");break;case o.ProductSystem:e.addStyle("background-color","rgb(243, 155, 2)");break;case o.Database:e.addStyle("background-color","rgb(0, 0, 0)");break;case o.Product:e.addStyle("background-color","rgb(137, 124, 98)");break;case o.ProductVersion:e.addStyle("background-color","rgb(137, 124, 98)");break;case o.SapComponent:e.addStyle("background-color","rgb(102, 102, 102)");break}};d._renderIdentificationProperties=function(e,t){if(t){var a=t.getType();t.oIdentifierText.setText(t.getText());t.oIdentifierText.setTooltip(t.getTooltip());t.oIdentifierText.addStyleClass("IdentificationText");t.oIdentifierText.attachBrowserEvent("mouseclick",function(e){i.internalEvent=true});var s=this._renderIdentifireIcon(t,"enable");t.oIdentifierIcon.setSrc(s).addStyleClass("img");t.oIdentifierIcon.attachPress(function(e){i.internalEvent=true});t.oIdentifierIcon.setAlt("landscape Entity Image");var n=t._oBundle.getText(t.getType());var c=t.getComponentType();if(t.getType()==o.SapComponent&&c==r.onDemand)n=n+"-"+t.OnDemandText;else if(t.getType()==o.SapComponent&&c==r.onPremise)n=n+"-"+t.OnPremiseText;t.oIdentifierIcon.setTooltip(n);e.write("<div");e.addClass("entityIcon");e.writeClasses();e.write(">");var l=this;t.oIdentifierIcon.attachBrowserEvent("mouseenter",function(e){e.currentTarget.src=l._renderIdentifireIcon(t,"hover")});t.oIdentifierIcon.attachBrowserEvent("mouseleave",function(e){e.currentTarget.src=l._renderIdentifireIcon(t,"enable")});e.renderControl(t.oIdentifierIcon);e.write("</div>");e.write("<div");var d=0;if(t.maxHeight!=0)d=t.maxHeight-175;if(t.entityMaximized==true){if(d!=0)e.addStyle("height",d+"px")}else e.addStyle("height","auto");e.addStyle("text-align","center");e.writeStyles();e.write(">");e.renderControl(t.oIdentifierText);e.write("</div>")}};d._renderIdentifireIcon=function(e,i){var t=sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/");if(e.getRenderingSize()==c.Small)t=t+"32x32";else t=t+"48x48";var a=e.getType();var s=e.getComponentType();switch(a){case o.TechnicalSystem:t=t+"/TechnicalSystem_"+i+".png";break;case o.ProductSystem:t=t+"/ProductSystem_"+i+".png";break;case o.Database:t=t+"/Database_"+i+".png";break;case o.Product:t=t+"/Product_"+i+".png";break;case o.ProductVersion:t=t+"/ProductVersion_"+i+".png";break;case o.SapComponent:if(s==r.onDemand)t=t+"/sap_on_demand.png";else if(s==r.onPremise)t=t+"/sap_on_premise.png";break}return t};d._renderQualifierProperties=function(e,t){if(t){t.oQualifierText.setText(t.getQualifierText());t.oIdentifierText.setTooltip(t.getQualifierTooltip());var a=t._oBundle.getText(t.getQualifierText());t.oQualifierText.addStyleClass("qualifierText");t.oQualifierText.setTooltip(a);t.oQualifierText.attachBrowserEvent("mouseclick",function(e){i.internalEvent=true});this._setQualifierIconSrc(e,t);t.oQualifierIcon.setTooltip(a);t.oQualifierIcon.attachPress(function(e){i.internalEvent=true});e.write("<div");e.addClass("qualifierIcon");e.writeClasses();e.write(">");e.renderControl(t.oQualifierIcon);e.write("</div>");e.write("<div");e.addClass("");e.writeClasses();e.write(">");e.renderControl(t.oQualifierText);e.write("</div>")}};d._setQualifierIconSrc=function(e,i){var t=i.getQualifierType();switch(t){case l.ABAP:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/ABAPApplicationServer.png"));break;case l.JAVA:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/ApplicationServerJava.png"));break;case l.HANADB:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/HanaDatabase.png"));break;case l.SBOP:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/BusinessObjectsCluster.png"));break;case l.DUAL:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/DualStackSystem.png"));break;case l.SUP:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/SybaseUnwiredPlatform.png"));break;case l.GENERIC:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/GenaricApplications.png"));break;case l.INTROSCOPEMGR:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/IntroscopeManagerCluster.png"));break;case l.INTROSCOPESTD:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/IntroscopeManagerStandalone.png"));break;case l.LIVECACHESAP:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/LiveCache.png"));break;case l.MDM:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/MasterDataManagement.png"));break;case l.TREX:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/TREX.png"));break;case l.UNSP3TIER:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/Unspecific3LayerSystem.png"));break;case l.UNSPCLUSTER:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/UnspecificCluster.png"));break;case l.UNSPAPP:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/UnspecificStandaloneApplication.png"));break;case l.MSNET:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/VendorSpecificServer.png"));break;case l.APACHESERVER:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/VendorSpecificServer.png"));break;case l.WEBSPHERE:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/VendorSpecificServer.png"));break;case l.MSIISINST:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/VendorSpecificServer.png"));break;case l.WEBDISP:i.oQualifierIcon.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/technicaltypes/"+this.sEntityIconSizePath+"/WebDispatcher.png"));break}};d._renderDescriptionCallOut=function(e,i){if(i){if(i.getDescription()){function s(e){i.oButton=new t({text:e,lite:true});i.oCallout=new a({content:i.oButton});return i.oCallout}i.oIdentifierIcon.setTooltip(s(i.getDescription()))}}};return d},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/LinearRowField", ["sap/landvisz/library","sap/ui/core/Control","sap/ui/commons/Image","sap/ui/commons/Label","sap/ui/commons/TextView","./LinearRowFieldRenderer"],function(e,t,i,a,o,n){"use strict";var l=e.EntityCSSSize;var r=t.extend("sap.landvisz.internal.LinearRowField",{metadata:{library:"sap.landvisz",properties:{label:{type:"string",group:"Data",defaultValue:null},value:{type:"string",group:"Data",defaultValue:null},renderingSize:{type:"sap.landvisz.EntityCSSSize",group:"Dimension",defaultValue:l.Regular},iconType:{type:"string",group:"Data",defaultValue:null},iconTitle:{type:"string",group:"Data",defaultValue:null},rightIconSrc:{type:"string",group:"Data",defaultValue:null},linkSource:{type:"string",group:"Data",defaultValue:null},rightIconTooltip:{type:"string",group:"Data",defaultValue:null},invalidName:{type:"boolean",group:"Identification",defaultValue:null}}}});r.prototype.init=function(){this.initializationDone=false;this.iconType&&this.iconType.destroy();this.totalWidth=0};r.prototype.exit=function(){this.oLinearRowFieldLabel&&this.oLinearRowFieldLabel.destroy();this.oLinearRowFieldValue&&this.oLinearRowFieldValue.destroy();this.seperatorLbl&&this.seperatorLbl.destroy()};r.prototype.initControls=function(){var e=this.getId();if(!this.oLinearRowFieldLabel)this.oLinearRowFieldLabel=new a(e+"-CLVConLabel");if(!this.oLinearRowFieldValue)this.oLinearRowFieldValue=new o(e+"-CLVConValue");if(!this.seperatorLbl)this.seperatorLbl=new o(e+"-CLVConSeperator");this.iconType&&this.iconType.destroy();this.iconType=new i(e+"-CLVDataTypeImg");if(!this.rightIcon)this.rightIcon=new i(e+"-rightImg");this.entityMaximized};r.prototype.onmouseenter=function(e){e.stopImmediatePropagation()};r.prototype.onmouseleave=function(e){e.stopImmediatePropagation()};return r});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/LinearRowFieldRenderer", ["sap/landvisz/library"],function(e){"use strict";var a=e.EntityCSSSize;var i={};i.render=function(e,i){var s=sap.ui.getCore().getLibraryResourceBundle("sap.landvisz");if(!this.initializationDone){i.initControls();i.initializationDone=true;e.write("<div");e.writeControlData(i);e.addClass("sapLandviszLinearRowFieldSize");if(i.getRenderingSize()==a.Small)e.addClass("sapLandviszLinearRowFieldSmallSize");if(i.getRenderingSize()==a.RegularSmall)e.addClass("sapLandviszLinearRowFieldRegularSmallSize");if(i.getRenderingSize()==a.Regular)e.addClass("sapLandviszLinearRowFieldRegularSize");if(i.getRenderingSize()==a.Medium)e.addClass("sapLandviszLinearRowFieldMediumSize");if(i.getRenderingSize()==a.Large)e.addClass("sapLandviszLinearRowFieldLargeSize");e.addClass("sapLandviszLinearRowField");e.writeClasses();e.write(">");var l=i.getLabel();var t=i.getValue();var n=false;var o=false;var r;if(i.getIconType()){this._assignIconSrc(e,i);i.iconType.setTooltip(i.getIconTitle());e.renderControl(i.iconType)}if(l&&""!=l){if(!t||""==t){r=i.getRightIconSrc();if(r&&""!=(typeof r==="string"?r.trim():r!=null?String(r).trim():"")){i.oLinearRowFieldLabel.addStyleClass("sapLandviszLinearRowFieldDataCommon");i.oLinearRowFieldLabel.addStyleClass("fullDataLabelwithRightIcon")}else{i.oLinearRowFieldLabel.addStyleClass("sapLandviszLinearRowFieldDataCommon");i.oLinearRowFieldLabel.addStyleClass("fullDataLabel")}o=false}else{i.oLinearRowFieldLabel.addStyleClass("sapLandviszLinearRowFieldDataCommon");i.oLinearRowFieldLabel.addStyleClass("dataLabel")}o=true;i.oLinearRowFieldLabel.setText(l);i.oLinearRowFieldLabel.setTooltip(l);e.renderControl(i.oLinearRowFieldLabel)}if(t&&""!=t){if(!l||""==l){r=i.getRightIconSrc();if(r&&""!=(typeof r==="string"?r.trim():r!=null?String(r).trim():"")){i.oLinearRowFieldValue.addStyleClass("sapLandviszLinearRowFieldDataCommon");i.oLinearRowFieldValue.addStyleClass("fullDataValuewithRightIcon")}else{i.oLinearRowFieldValue.addStyleClass("sapLandviszLinearRowFieldDataCommon");i.oLinearRowFieldValue.addStyleClass("fullDataValue");n=false}}else{i.oLinearRowFieldValue.addStyleClass("sapLandviszLinearRowFieldDataCommon");i.oLinearRowFieldValue.addStyleClass("dataValue");n=true}if(n==true&&o==true){i.seperatorLbl.addStyleClass("dataSeperator");i.seperatorLbl.setText(":");e.renderControl(i.seperatorLbl)}i.oLinearRowFieldValue.setWrapping(false);i.oLinearRowFieldValue.setTooltip(i.getTooltip());i.oLinearRowFieldValue.setText(t);if(i.getInvalidName()==true)i.oLinearRowFieldValue.addStyleClass("sapLandviszWarningBG");e.renderControl(i.oLinearRowFieldValue)}r=i.getRightIconSrc();if(r&&""!=(typeof r==="string"?r.trim():r!=null?String(r).trim():"")){var d=i.getRightIconSrc();i.rightIcon.setSrc(d);i.rightIcon.setTooltip(i.getRightIconTooltip());i.rightIcon.addStyleClass("sapLandviszRightIcon");e.renderControl(i.rightIcon)}e.write("</div>")}};i._assignIconSrc=function(e,a){if(a.getIconType()=="p")a.iconType.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"24x24"+"/Product_enable.png")).addStyleClass("img");else if(a.getIconType()=="pv")a.iconType.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"24x24"+"/ProductVersion_enable.png")).addStyleClass("img");if(a.getIconType()=="pi")a.iconType.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"24x24"+"/ProductInstance_enable.png")).addStyleClass("img");if(a.getIconType()=="ps")a.iconType.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"24x24"+"/ProductSystem_enable.png")).addStyleClass("img");if(a.getIconType()=="scv")a.iconType.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"24x24"+"/SoftwareComponentVersion_enable.png")).addStyleClass("img");if(a.getIconType()=="ts")a.iconType.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"24x24"+"/TechnicalSystem_enable.png")).addStyleClass("img");if(a.getIconType()=="MOB")a.iconType.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"24x24"+"/Solution.png")).addStyleClass("img")};return i},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/ModelingStatus", ["sap/landvisz/library","sap/ui/core/Control","sap/ui/commons/Image","./ModelingStatusRenderer"],function(t,a,e,s){"use strict";var i=a.extend("sap.landvisz.internal.ModelingStatus",{metadata:{library:"sap.landvisz",properties:{status:{type:"string",group:"Data",defaultValue:null},statusTooltip:{type:"string",group:"Data",defaultValue:null},stateIconSrc:{type:"string",group:"Data",defaultValue:null},stateIconTooltip:{type:"any",group:"Data",defaultValue:null}}}});i.prototype.init=function(){this.initializationDone=false;this._imgResourcePath=sap.ui.resource("sap.landvisz","themes/base/img/status/");this._imgFolderPath;this.renderSize;if(!this.statusImage)this.statusImage=new e(this.getId()+"-CLVEntityStatusImage")};i.prototype.exit=function(){this.statusImage&&this.statusImage.destroy()};i.prototype.initControls=function(){var t=this.getId();if(!this.statusImage)this.statusImage=new e(t+"-CLVEntityStatusImage");if(!this.stateImage)this.stateImage=new e(t+"-EntityStateImage");this.entityMaximized};return i});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/ModelingStatusRenderer", ["sap/landvisz/library"],function(t){"use strict";var e=t.EntityCSSSize;var a=t.ModelingStatus;var i={};i.render=function(t,i){var s=sap.ui.getCore().getLibraryResourceBundle("sap.landvisz");if(!this.initializationDone){i.initControls();t.write("<div");t.writeControlData(i);if(i.entityMaximized!=true){if(i.renderSize==e.Small){i._imgFolderPath="16x16/";t.addClass("sapLandviszStatusSectionSmallSize")}else if(i.renderSize==e.RegularSmall||i.renderSize==e.Regular||i.renderSize==e.Medium||i.renderSize==e.Large){i._imgFolderPath="24x24/";t.addClass("sapLandviszStatusSectionAllSize")}}else if(i.entityMaximized==true){i._imgFolderPath="24x24/";t.addClass("sapLandviszStatusSectionAllSize")}t.writeClasses();if(i.getStatus()==a.ERROR||i.getStatus()==a.WARNING)t.addStyle("border","1px solid #999999");t.writeStyles();t.writeAttributeEscaped("title",i.getStatusTooltip());t.write(">");if(i.initializationDone==false){i.statusImage.attachPress(function(t){i.fireEvent("statusSelected")})}this._assignIconSrc(t,i);if(i.getStatus()==a.ERROR||i.getStatus()==a.WARNING)t.renderControl(i.statusImage);if(i.getStateIconSrc()&&""!=i.getStateIconSrc()){i.stateImage.setSrc(i.getStateIconSrc());i.stateImage.setTooltip(i.getStateIconTooltip());i.stateImage.addStyleClass("stateIconClass");t.renderControl(i.stateImage)}i.initializationDone=true;t.write("</div>")}};i._assignIconSrc=function(t,e){if(e.getStatus()==a.ERROR)e.statusImage.setSrc(e._imgResourcePath+e._imgFolderPath+"error.png");else if(e.getStatus()==a.WARNING)e.statusImage.setSrc(e._imgResourcePath+e._imgFolderPath+"warning.png");else if(e.getStatus()==a.WARNING)e.statusImage.setSrc(e._imgResourcePath+e._imgFolderPath+"success.png")};return i},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/NestedRowField", ["sap/landvisz/library","sap/ui/core/Control","sap/ui/commons/Image","sap/ui/commons/Label","sap/ui/commons/TextView","./NestedRowFieldRenderer"],function(e,t,i,a,l,n){"use strict";var o=e.EntityCSSSize;var s=t.extend("sap.landvisz.internal.NestedRowField",{metadata:{library:"sap.landvisz",properties:{label:{type:"string",group:"Data",defaultValue:null},values:{type:"string[]",group:"Data",defaultValue:null},renderingSize:{type:"sap.landvisz.EntityCSSSize",group:"Dimension",defaultValue:o.Regular},iconTitle:{type:"string",group:"Data",defaultValue:null},type:{type:"string",group:"Identification",defaultValue:null},valueType:{type:"string",group:"Identification",defaultValue:null},rightIconSrc:{type:"string",group:"Data",defaultValue:null},linkSource:{type:"string",group:"Data",defaultValue:null}},aggregations:{linearRows:{type:"sap.landvisz.internal.LinearRowField",multiple:true,singularName:"linearRow"}}}});s.prototype.init=function(){this.initializationDone=false};s.prototype.exit=function(){this.oNestedRowFieldLabel&&this.oNestedRowFieldLabel.destroy();this.oNestedRowFieldValue&&this.oNestedRowFieldValue.destroy();this.iconType&&this.iconType.destroy();this.iconValue&&this.iconValue.destroy()};s.prototype.initControls=function(){var e=this.getId();if(!this.oNestedRowFieldLabel)this.oNestedRowFieldLabel=new a(e+"-CLVConNestedLabel");if(!this.oNestedRowFieldValue)this.oNestedRowFieldValue=new l(e+"-CLVConNestedValue");if(!this.iconLabel)this.iconLabel=new i(e+"-CLVDataLabelImg");if(!this.iconValue)this.iconValue=new i(e+"-CLVDataValueImg")};return s});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/NestedRowFieldRenderer", ["sap/landvisz/library"],function(e){"use strict";var i=e.EntityCSSSize;var a={};a.render=function(e,a){if(!this.initializationDone){a.initControls();a.initializationDone=true;e.write("<div");e.writeControlData(a);if(a.getRenderingSize()==i.Small)e.addClass("sapLandviszNestedRowFieldSmallSize");if(a.getRenderingSize()==i.RegularSmall)e.addClass("sapLandviszNestedRowFieldRegularSmallSize");if(a.getRenderingSize()==i.Regular)e.addClass("sapLandviszNestedRowFieldRegularSize");if(a.getRenderingSize()==i.Medium)e.addClass("sapLandviszNestedRowFieldMediumSize");if(a.getRenderingSize()==i.Large)e.addClass("sapLandviszNestedRowFieldLargeSize");e.writeClasses();e.write(" >");e.write("<div");e.write(" >");a.oNestedRowFieldLabel.setText(a.getLabel());a.oNestedRowFieldLabel.setTooltip(a.getLabel());a.oNestedRowFieldLabel.addStyleClass("sapLandviszNestedRowFieldCommon");a.oNestedRowFieldLabel.addStyleClass("dataLabel");if(a.getType()){this._assignIconSrc(a.getType(),a.iconLabel);a.iconLabel.addStyleClass("sapLandviszDataLabelIcon");a.iconLabel.setTooltip(a.getIconTitle());e.renderControl(a.iconLabel)}e.renderControl(a.oNestedRowFieldLabel);e.write("</div>");var s=a.getLinearRows();var t;for(var d=0;d<s.length;d++){t=s[d];t.setRenderingSize(a.getRenderingSize());t.addStyleClass("rowFieldinNestedRow");e.renderControl(t)}e.write("</div>")}};a._assignIconSrc=function(e,i){if(e=="p")i.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"24x24"+"/Product_enable.png")).addStyleClass("img");else if(e=="pv")i.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"24x24"+"/ProductVersion_enable.png")).addStyleClass("img");if(e=="pi")i.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"24x24"+"/ProductInstance_enable.png")).addStyleClass("img");if(e=="ps")i.setSrc(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"24x24"+"/ProductSystem_enable.png")).addStyleClass("img")};return a},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/SingleDataContainer", ["sap/landvisz/library","sap/ui/core/Control","sap/ui/commons/Image","sap/ui/commons/Label","./SingleDataContainerRenderer"],function(e,t,i,n,o){"use strict";var a=t.extend("sap.landvisz.internal.SingleDataContainer",{metadata:{library:"sap.landvisz",properties:{header:{type:"string",group:"Data",defaultValue:null},renderingSize:{type:"string",group:"Dimension",defaultValue:null}},aggregations:{properties:{type:"sap.ui.core.Control",multiple:true,singularName:"property"}},events:{closed:{}}}});a.prototype.init=function(){this.initializationDone=false;this.isModelOpen=false};a.prototype.exit=function(){};a.prototype.initControls=function(){var e=this.getId();if(!this.headerLabel)this.headerLabel=new n(e+"-CLVHeaderLabel");if(!this.closeIcon)this.closeIcon=new i(e+"-CLVSMVClose")};a.prototype.isOpen=function(){return this.isModelOpen};a.prototype.onclick=function(e){if(e.target.id=="closeVM"){jQuery(e.currentTarget).hide("slow");this.isModelOpen=false;this.fireClosed()}else{e.stopImmediatePropagation()}};return a});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/SingleDataContainerRenderer", [],function(){"use strict";var e={};e.render=function(e,i){if(!this.initializationDone){i.initControls();i.initializationDone=true;e.write("<div");e.writeControlData(i);e.addClass("sapLandviszSMVContainerAllSizes");e.addClass("svmContainer");e.writeClasses();e.write(">");e.write("<div");e.writeControlData(i);e.addClass("sapLandviszSvmHeader");e.writeClasses();e.write(">");i.headerLabel.setText(i.getHeader());i.headerLabel.setTooltip(i.getHeader());i.headerLabel.addStyleClass("sapLandviszSvmHeaderLabel");e.renderControl(i.headerLabel);e.write("<div");e.writeAttributeEscaped("id","closeVM");e.addClass("sapLandviszSvmSectorCloseBtn");e.writeClasses();var t=sap.ui.getCore().getLibraryResourceBundle("sap.landvisz");var r=t.getText("CLOSE");e.writeAttributeEscaped("title",r);e.write("></div>");e.write("</div>");e.write("<div");e.addClass("sapLandviszSvmDataContainer");e.writeClasses();e.write(">");var a=i.getProperties();var s;for(var d=0;d<a.length;d++){s=a[d];if(s.getRenderingSize())s.setRenderingSize(i.getRenderingSize());e.renderControl(s)}e.write("</div>");e.write("</div>");i.isModelOpen=true}};return e},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/TreeField", ["sap/landvisz/library","sap/ui/core/Control","sap/ui/commons/Tree","sap/ui/commons/TreeNode","sap/ui/model/json/JSONModel","./TreeFieldRenderer"],function(e,t,i,o,r,n){"use strict";var s=t.extend("sap.landvisz.internal.TreeField",{metadata:{library:"sap.landvisz",properties:{treeModel:{type:"object",group:"Data",defaultValue:null},bindingName:{type:"string",group:"Data",defaultValue:null},renderingSize:{type:"sap.landvisz.EntityCSSSize",group:"Dimension",defaultValue:null}},aggregations:{treeNode:{type:"sap.ui.commons.TreeNode",multiple:true,singularName:"treeNode"}}}});s.prototype.init=function(){this.initializationDone=false};s.prototype.exit=function(){this.tree&&this.tree.destroy();this.oTreeNodeTemplate&&this.oTreeNodeTemplate.destroy();this.jsonModel&&this.jsonModel.destroy()};s.prototype.initControls=function(){var e=this.getId();if(!this.tree)this.tree=new i(e+"CLVTree");if(!this.jsonModel)this.jsonModel=new r;if(!this.oTreeNodeTemplate)this.oTreeNodeTemplate=new o(e+"CLVTreeNode")};return s});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/internal/TreeFieldRenderer", ["sap/landvisz/library","sap/ui/core/CustomData","sap/ui/commons/Tree"],function(landviszLibrary,CustomData,Tree){"use strict";var EntityCSSSize=landviszLibrary.EntityCSSSize;var TreeFieldRenderer={};TreeFieldRenderer.render=function(oRm,oControl){var rb=sap.ui.getCore().getLibraryResourceBundle("sap.landvisz");if(!this.initializationDone){oControl.initControls();oControl.initializationDone=true;oRm.write("<div");oRm.writeControlData(oControl);if(oControl.getRenderingSize()==EntityCSSSize.Small)oRm.addClass("sapLandVisTreeFieldSmallSize");if(oControl.getRenderingSize()==EntityCSSSize.RegularSmall)oRm.addClass("sapLandVisTreeFieldRegularSmallSize");if(oControl.getRenderingSize()==EntityCSSSize.Regular)oRm.addClass("sapLandVisTreeFieldRegularSize");if(oControl.getRenderingSize()==EntityCSSSize.Medium)oRm.addClass("sapLandVisTreeFieldMediumSize");if(oControl.getRenderingSize()==EntityCSSSize.Large)oRm.addClass("sapLandVisTreeFieldLargeSize");oRm.writeClasses();oRm.write(">");var modelData=oControl.getTreeModel();var array=eval(oControl.getTreeModel());oControl.jsonModel.setData(modelData);oControl.tree.setShowHeader(false);oControl.tree.addStyleClass("landscapetree");oControl.tree.setModel(oControl.jsonModel);oControl.tree.setHeight("100%");oControl.oTreeNodeTemplate.bindProperty("text","name");var customDataTemplate=new CustomData({key:"type",value:"{type}"});oControl.oTreeNodeTemplate.addCustomData(customDataTemplate);oControl.oTreeNodeTemplate.setExpanded(true);oControl.oTreeNodeTemplate.setSelectable(false);oControl.oTreeNodeTemplate;oControl.tree.bindAggregation("nodes","/"+oControl.getBindingName(),oControl.oTreeNodeTemplate);this._assignIconSrc(oControl.tree.getNodes());oRm.renderControl(oControl.tree);oRm.write("</div>")}};TreeFieldRenderer._assignIconSrc=function(e){var o;var t;if(typeof e=="object"){for(var a=0;a<e.length;a++){o=e[a];if(o.getNodes().length&&o.getNodes().length>0){t=o.getCustomData()[0].getValue();this._setIcon(o,t);this._assignIconSrc(o.getNodes())}else{t=o.getCustomData()[0].getValue();this._setIcon(o,t)}}}};TreeFieldRenderer._setIcon=function(e,o){if(o=="p")e.setIcon(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"24x24"+"/Product_enable.png"));else if(o=="pv")e.setIcon(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"24x24"+"/ProductVersion_enable.png"));if(o=="pi")e.setIcon(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"24x24"+"/ProductInstance_enable.png"));if(o=="ps")e.setIcon(sap.ui.resource("sap.landvisz","themes/base/img/landscapeobjects/"+"24x24"+"/ProductSystem_enable.png"))};return TreeFieldRenderer},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/library", ["sap/ui/core/Core","sap/ui/core/library"],function(n,e){"use strict";sap.ui.getCore().initLibrary({name:"sap.landvisz",dependencies:["sap.ui.core"],types:["sap.landvisz.ActionType","sap.landvisz.ComponentType","sap.landvisz.ConnectionLine","sap.landvisz.ConnectionType","sap.landvisz.DependencyType","sap.landvisz.DependencyVisibility","sap.landvisz.EntityCSSSize","sap.landvisz.LandscapeObject","sap.landvisz.ModelingStatus","sap.landvisz.OptionType","sap.landvisz.SelectionViewPosition","sap.landvisz.SolutionType","sap.landvisz.TechnicalSystemType","sap.landvisz.ViewType","sap.landvisz.internal.ContainerType"],interfaces:[],controls:["sap.landvisz.ConnectionEntity","sap.landvisz.Connector","sap.landvisz.LandscapeEntity","sap.landvisz.LandscapeViewer","sap.landvisz.LongTextField","sap.landvisz.Option","sap.landvisz.OptionEntity","sap.landvisz.OptionSource","sap.landvisz.internal.ActionBar","sap.landvisz.internal.DataContainer","sap.landvisz.internal.DeploymentType","sap.landvisz.internal.EntityAction","sap.landvisz.internal.EntityCustomAction","sap.landvisz.internal.HeaderList","sap.landvisz.internal.IdentificationBar","sap.landvisz.internal.LinearRowField","sap.landvisz.internal.ModelingStatus","sap.landvisz.internal.NestedRowField","sap.landvisz.internal.SingleDataContainer","sap.landvisz.internal.TreeField"],elements:[],version:"1.108.0"});var a=sap.landvisz;a.ActionType={NORMAL:"NORMAL",MENU:"MENU"};a.ComponentType={onDemand:"onDemand",onPremise:"onPremise",notDefined:"notDefined"};a.ConnectionLine={Line:"Line",Arrow:"Arrow"};a.ConnectionType={ProductSystem:"ProductSystem",TechnicalSystem:"TechnicalSystem",MobileSolution:"MobileSolution"};a.DependencyType={NETWORK_VIEW:"NETWORK_VIEW",BOX_VIEW:"BOX_VIEW"};a.DependencyVisibility={NETWORK:"NETWORK",BOX:"BOX",BOTH:"BOTH"};a.EntityCSSSize={Regular:"Regular",Medium:"Medium",Large:"Large",Small:"Small",Smallest:"Smallest",Smaller:"Smaller",Largest:"Largest",RegularSmall:"RegularSmall"};a.LandscapeObject={TechnicalSystem:"TechnicalSystem",ProductSystem:"ProductSystem",Database:"Database",Product:"Product",ProductVersion:"ProductVersion",SapComponent:"SapComponent",Track:"Track"};a.ModelingStatus={ERROR:"ERROR",WARNING:"WARNING",NORMAL:"NORMAL"};a.OptionType={ENTITY:"ENTITY",VIEW:"VIEW"};a.SelectionViewPosition={LEFT:"LEFT",RIGHT:"RIGHT",CENTER:"CENTER"};a.SolutionType={COMPONENT_VIEW:"COMPONENT_VIEW",DEPLOYMENT_VIEW:"DEPLOYMENT_VIEW"};a.TechnicalSystemType={ABAP:"ABAP",JAVA:"JAVA",HANADB:"HANADB",DUAL:"DUAL",SBOP:"SBOP",SUP:"SUP",GENERIC:"GENERIC",INTROSCOPEMGR:"INTROSCOPEMGR",INTROSCOPESTD:"INTROSCOPESTD",LIVECACHESAP:"LIVECACHESAP",MDM:"MDM",TREX:"TREX",UNSP3TIER:"UNSP3TIER",UNSPCLUSTER:"UNSPCLUSTER",UNSPAPP:"UNSPAPP",MSNET:"MSNET",APACHESERVER:"APACHESERVER",WEBSPHERE:"WEBSPHERE",MSIISINST:"MSIISINST",WEBDISP:"WEBDISP"};a.ViewType={DEPENDENCY_VIEW:"DEPENDENCY_VIEW",SELECTION_VIEW:"SELECTION_VIEW",SOLUTION_VIEW:"SOLUTION_VIEW"};a.internal.ContainerType={Product:"Product",ProductVersion:"ProductVersion",ProductInstances:"ProductInstances",SoftwareComponents:"SoftwareComponents"};return a});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/landvisz/libs/lvsvg", ["sap/ui/thirdparty/d3"],function(t){"use strict";var n=function(){};n.getSVG=function(n,e,a){var r=t.select("#"+a).append("svg").attr("width",n).attr("height",e);return r};n.convertHtmltoCanvas=function(t,n){html2canvas(t,{allowTaint:true,useCORS:true,onrendered:function(t){n.show(1e3);n.css({"background-image":"url("+t.toDataURL("image/png")+")","background-size":"100% 100%"})}})};return n},true);
sap.ui.require.preload({
	"sap/landvisz/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.landvisz","type":"library","embeds":[],"applicationVersion":{"version":"1.108.0"},"title":"sap.landvisz library for UI developments","description":"sap.landvisz library for UI developments","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_bluecrystal","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.108","libs":{"sap.ui.core":{"minVersion":"1.108.0"},"sap.ui.commons":{"minVersion":"1.108.0","lazy":true},"sap.ui.ux3":{"minVersion":"1.108.0","lazy":true}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":["sap.landvisz.ConnectionEntity","sap.landvisz.Connector","sap.landvisz.LandscapeEntity","sap.landvisz.LandscapeViewer","sap.landvisz.LongTextField","sap.landvisz.Option","sap.landvisz.OptionEntity","sap.landvisz.OptionSource","sap.landvisz.internal.ActionBar","sap.landvisz.internal.DataContainer","sap.landvisz.internal.DeploymentType","sap.landvisz.internal.EntityAction","sap.landvisz.internal.EntityCustomAction","sap.landvisz.internal.HeaderList","sap.landvisz.internal.IdentificationBar","sap.landvisz.internal.LinearRowField","sap.landvisz.internal.ModelingStatus","sap.landvisz.internal.NestedRowField","sap.landvisz.internal.SingleDataContainer","sap.landvisz.internal.TreeField"],"elements":[],"types":["sap.landvisz.ActionType","sap.landvisz.ComponentType","sap.landvisz.ConnectionLine","sap.landvisz.ConnectionType","sap.landvisz.DependencyType","sap.landvisz.DependencyVisibility","sap.landvisz.EntityCSSSize","sap.landvisz.LandscapeObject","sap.landvisz.ModelingStatus","sap.landvisz.OptionType","sap.landvisz.SelectionViewPosition","sap.landvisz.SolutionType","sap.landvisz.TechnicalSystemType","sap.landvisz.ViewType","sap.landvisz.internal.ContainerType"],"interfaces":[]}}}}'
});
//# sourceMappingURL=library-preload.js.map
