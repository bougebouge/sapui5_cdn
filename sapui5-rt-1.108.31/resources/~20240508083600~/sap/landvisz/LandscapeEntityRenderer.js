/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.define(["sap/landvisz/library","sap/landvisz/internal/DataContainer","sap/landvisz/internal/HeaderList","sap/landvisz/internal/LinearRowField","sap/landvisz/internal/NestedRowField","sap/landvisz/internal/SingleDataContainer","sap/landvisz/internal/TreeField","sap/landvisz/LongTextField","sap/ui/core/Control","sap/ui/commons/Button","sap/ui/commons/Label"],function(e,t,i,a,r,n,o,s,l,d,g){"use strict";var p=e.EntityCSSSize;var y=e.LandscapeObject;var u=e.ViewType;var v={};v.render=function(e,t){var i=t.getRenderingSize();if(!this.initializationDone){t.initControls();t.initializationDone=true;e.write("<div");e.addClass("sapLandviszLandscapeEntity");e.writeClasses();e.writeControlData(t);if(t.expVisible==true){e.addStyle("width","100%");e.addStyle("height","100%")}if(this.left!=0)e.addStyle("left",t.left+"px");if(this.top!=0)e.addStyle("top",t.top+"px");if(t.entityMaximized==true){if(t.sViewWidth!=0)e.addStyle("width",t.sViewWidth+"px");if(t.sViewHeight!=0)e.addStyle("height",t.sViewHeight+"px")}if(t.viewType==u.DEPENDENCY_VIEW||t.viewType==u.SOLUTION_VIEW)e.addStyle("position","absolute");else e.addStyle("position","relative");e.writeStyles();e.write(">");this._renderModelingStatus(e,t);this._renderActionBar(e,t);this._renderSystemEntity(e,t);e.write("</div>");e.write("</div>");e.write("</div>");var a=t.oHeadersLayout.getContent();if(a.length>0){for(var r=0;r<a.length-2;r++)t.addAggregation("dataContainers",a[r],false)}if(t.getDataContainers()&&t.getDataContainers().length>0){var o=t.oVLayoutProperties.getContent();var s=t.propertyHeaders[t.selectedIndex];for(var r=0;r<o.length;r++){s.addAggregation("properties",o[r],false)}}if(t.expVisible==true){this._renderUnselectedHeaderPopup(e,t)}if(t.getDataContainers()&&t.getDataContainers().length>0){var l=t.getDataContainers();var s;var d;for(var r=0;r<l.length;r++){s=l[r];d=false;for(var g=0;g<t.dialogArray.length;g++){if(t.dialogArray[g].getHeader()==s.getHeader()){d=true;break}}if(d==false){t.smvContainer=new n(t.getId()+r+"CLVSMVSection");t.smvContainer.setHeader(s.getHeader());t.dialogArray.push(t.smvContainer)}}}t.firstTime=false;this._renderOverlayContainer(e,t);e.write("</div>");var p=t.oHLayoutAction.getContent();for(var g=p.length-1;g>=0;g--){t.addAggregation("actionBar",p[g],false)}t.containerEvent=false}};v._renderModelingStatus=function(e,t){var i=t.getRenderingSize();e.write("<div");t.modelStatus.entityMaximized=t.entityMaximized;if(t.entityMaximized!=true){if(i==p.Small)e.addClass("sapLandviszStatusSmallSize");else if(i==p.RegularSmall)e.addClass("sapLandviszStatusRegularSmallSize");else if(i==p.Regular)e.addClass("sapLandviszStatusRegularSize");else if(i==p.Medium)e.addClass("sapLandviszStatusMediumSize");else if(i==p.Large)e.addClass("sapLandviszStatusLargeSize")}else{e.addClass("sapLandviszStatusMaximizeSize")}e.writeClasses();e.write(">");t.modelStatus.setStatus(t.getSystemStatus());t.modelStatus.setStatusTooltip(t.getStatusTooltip());t.modelStatus.setStateIconSrc(t.getStateIconSrc());t.modelStatus.setStateIconTooltip(t.getStateIconTooltip());if(t.getEntityStatus())t.modelStatus.statusImage=t.getEntityStatus();t.modelStatus.renderSize=i;if(t.firstTime==true){t.modelStatus.attachEvent("statusSelected",function(e){t.fireStatusSelect()})}e.renderControl(t.modelStatus)};v._renderActionBar=function(e,t){var i=t.getRenderingSize();var a=t.getShowCustomActions();var r=t.getShowEntityActions();e.write("<div");if(t.entityMaximized!=true){e.addClass("sapLandviszActionBarSizeCommon");if(i==p.Small){e.addClass("sapLandviszActionBarSmallSize");t.oVLayoutProperties.addStyleClass("sapLandviszSmallSizesPropertySection");t.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");t._imgFolderPath="16x16/";t.restore=false}else if(i==p.RegularSmall){e.addClass("sapLandviszActionBarRegularSmallSize");t.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySection");t.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");t._imgFolderPath="16x16/";t.restore=false}else if(i==p.Regular){e.addClass("sapLandviszActionBarRegularSize");t.oVLayoutProperties.addStyleClass("sapLandviszRegularSizesPropertySection");t.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");t._imgFolderPath="16x16/";t.restore=false}else if(i==p.Medium){e.addClass("sapLandviszActionBarMediumSize");t.oVLayoutProperties.addStyleClass("sapLandviszMediumSizesPropertySection");t.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");t.restore=false;t._imgFolderPath="16x16/"}else if(i==p.Large){e.addClass("sapLandviszActionBarLargeSize");t.oVLayoutProperties.addStyleClass("sapLandviszLargeSizesPropertySection");t.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");t.restore=true;t._imgFolderPath="24x24/"}if(t.expVisible==true){if(i==p.Regular){t.oVLayoutProperties.addStyleClass("sapLandviszRegularSizesPropertySectionSmv");t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv")}else if(i==p.RegularSmall){t.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv");t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSizesPropertySectionSmv");t.oVLayoutProperties.removeStyleClass("sapLandviszMaximizePropertySection");if(t.explodeViewClosed==true)t.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySection");else t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSmallSizesPropertySection")}}else{t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSizesPropertySectionSmv")}}if(t.entityMaximized==true){var n=t.sViewWidth-30;e.addStyle("width",n+"px");e.addClass("sapLandviszActionBarMaximizeSize");t.oVLayoutProperties.addStyleClass("sapLandviszMaximizePropertySection");t.oVLayoutProperties.addStyleClass("sapLandviszMaximizePropertySection");if(i==p.Large)t.oVLayoutProperties.removeStyleClass("sapLandviszLargeSizesPropertySection");else if(i==p.Small)t.oVLayoutProperties.removeStyleClass("sapLandviszSmallSizesPropertySection");else if(i==p.RegularSmall)t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSmallSizesPropertySection");else if(i==p.Regular)t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSizesPropertySection");else if(i==p.Medium)t.oVLayoutProperties.removeStyleClass("sapLandviszMediumSizesPropertySection");t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv");t.restore=true;t._imgFolderPath="24x24/"}e.writeStyles();e.writeClasses();e.write(">");if(a==true)this._renderCustomActionRegion(e,t);t.oHLayoutAllAction.addContent(t.oHLayoutAction);if(r==true)this._renderEntityAction(e,t);if(t.entityMaximized==true){t.oHLayoutAllAction.addStyleClass("sapLandviszAllActionLayoutMaximize");t.oHLayoutAllAction.removeStyleClass("sapLandviszAllActionLayout")}else{t.oHLayoutAllAction.addStyleClass("sapLandviszAllActionLayout");t.oHLayoutAllAction.removeStyleClass("sapLandviszAllActionLayoutMaximize")}e.renderControl(t.oHLayoutAllAction)};v._renderSystemEntity=function(e,t){var i=t.getRenderingSize();e.write("<div");if(t.entityMaximized!=true){if(i==p.Small){e.addClass("sapLandviszLandscapeEntitySmallSize");t.containerWidth=21}else if(i==p.RegularSmall){e.addClass("sapLandviszLandscapeEntityRegularSmallSize");t.containerWidth=31.5}else if(i==p.Regular){e.addClass("sapLandviszLandscapeEntityRegularSize");t.containerWidth=36.5}else if(i==p.Medium){e.addClass("sapLandviszLandscapeEntityMediumSize");t.containerWidth=41}else if(i==p.Large){e.addClass("sapLandviszLandscapeEntityLargeSize");t.containerWidth=62}}else if(t.entityMaximized==true){e.addClass("sapLandviszLandscapeEntityMaximizedSize");e.write(" style='");var a;var r;if(t.sViewWidth!=0){a=t.sViewWidth-30;e.write("width:"+a+"px;")}if(t.sViewHeight!=0){r=t.sViewHeight-32;e.write("height:"+r+"px;")}e.write("position:absolute;");e.write("'")}e.writeClasses();e.write(">");if(t.getType()==y.Track){this._renderTrack(e,t)}else{this._renderIdentificationBar(e,t);this._renderDataEntityRegion(e,t)}e.renderControl(t.oHLayout)};v._renderTrack=function(e,t){e.write("<div");e.addClass("trackEntity");e.writeClasses();e.write(">");e.write("<div");e.addClass("trackLogo");e.writeClasses();e.write(">");e.write("</div>");e.write("<div");e.addClass("trackName");e.writeClasses();e.write(">"+t.getSystemName());e.write("</div>");e.write("<div");e.addClass("trackFooter");e.writeClasses();e.write("> "+t.getTrackSystemCount());e.write("</div>");e.renderControl(t.infoIcon);e.write("</div>")};v._renderIdentificationBar=function(e,t){var i=t.getId();if(t.entityMaximized==true){t.oIdnBar.entityMaximized=t.entityMaximized;t.oIdnBar.maxHeight=t.sViewHeight-32}else t.oIdnBar.entityMaximized=false;t.oIdnBar.setText(t.getSystemName());t.oIdnBar.setTooltip(t.getTooltip());t.oIdnBar.setType(t.getType());t.oIdnBar.setQualifierText(t.getQualifierText());t.oIdnBar.setQualifierTooltip(t.getQualifierTooltip());t.oIdnBar.setQualifierType(t.getQualifierType());t.oIdnBar.setRenderingSize(t.getRenderingSize());t.oIdnBar.setDefaultState(t.getDefaultState());t.oIdnBar.setDescription(t.getDescription());t.oIdnBar.setComponentType(t.getComponentType());t.oVLayout.addContent(t.oIdnBar);t.oHLayout.addContent(t.oVLayout)};v._renderDataEntityRegion=function(e,t){t.propertyHeaders=t.getDataContainers();if(t.propertyHeaders.length>0)this._renderTabContainers(e,t);else if(!t.propertyHeaders||t.propertyHeaders.length<1){t.propertyHeaders=t.getDataContainers();if(t.propertyHeaders&&t.propertyHeaders.length>0)this._renderContainerData(e,t);else if(t.propertyHeaders)this._renderSingleContainerData(e,t)}t.oVLayoutContainer.addContent(t.oVLayoutProperties);if(t.display=="block"){t.oVLayoutContainer.addStyleClass("sapLandviszDisplayBlock");t.oVLayoutContainer.removeStyleClass("sapLandviszDisplayNone")}else{t.oVLayoutContainer.addStyleClass("sapLandviszDisplayNone");t.oVLayoutContainer.removeStyleClass("sapLandviszDisplayBlock")}t.oHLayout.addContent(t.oVLayoutContainer)};v._findContainerProperties=function(e,t,i){for(var a=0;a<t.propertyHeaders.length;a++){if(e==t.propertyHeaders[a].header){t.propertyHeaders[a].selected=true;t.selectedIndex=a;this._renderDataContainerProperties(i,t,t.propertyHeaders[a].properties,"")}else t.propertyHeaders[a].selected=false}};v._findContainerAggregationProperties=function(e,t,i){for(var a=0;a<t.propertyHeaders.length;a++){if(e==t.propertyHeaders[a].getHeader()){t.propertyHeaders[a].setSelected(true);t.selectedIndex=a}else t.propertyHeaders[a].setSelected(false)}};v._renderSingleContainerData=function(e,i){var a=i.getDataContainers();var r=i.getId();i.dataContainer=new t(r+"-CLVEntityDataContainer");i.dataContainer.setHeader(a.header);i.dataContainer.setSelected(a.selected);var n=a.properties;this._setPropertiesAggregation(e,i,n,a.header);i.addAggregation("dataContainers",i.dataContainer,false);i.propertyHeaders=i.getDataContainers();this._renderContainerAggregation(e,i)};v._setPropertiesAggregation=function(e,t,i,a){var r;var n=t.getId();if(i&&i.length&&i.length>0){for(var o=0;o<i.length;o++){r=n+o+a+"-CLVRowField";t.dataContainer.addAggregation("properties",i[o],false)}}else if(i instanceof l){r=n+a+"-CLVRowField";t.dataContainer.addAggregation("properties",i,false)}};v._renderContainerData=function(e,i){var a=i.getId();i.isAggregated=false;this._setContainerRenderingSize(i);var r;var n;var o;var s;for(var l=0;l<i.propertyHeaders.length;l++){i.dataContainer=new t(a+l+"-CLVEntityDataContainer");n=i.propertyHeaders[l];i.dataContainer.setHeader(n.header);i.dataContainer.setSelected(n.selected);o=n.properties;this._setPropertiesAggregation(e,i,o,n.header);i.addAggregation("dataContainers",i.dataContainer,false)}i.propertyHeaders=i.getDataContainers();this._renderTabContainers(e,i)};v._makeOtherContainerUnselected=function(e,t){for(var i=0;i<t;i++)e.propertyHeaders[i].setSelected(false)};v._renderTabContainers=function(e,t){var i=t.getId();var a;t.isAggregated=true;var r;this._setContainerRenderingSize(t);for(var n=0;n<t.propertyHeaders.length;n++){t.dataContainer=t.propertyHeaders[n];t.dataContainer.setRenderingSize(t.getRenderingSize());t.dataContainer.setType(t.getType());if(n==0)t.dataContainer.setSelected(true);a=t.dataContainer.getSelected();if(a==true){r=t.dataContainer;t.selectedIndex=n;this._makeOtherContainerUnselected(t,n)}if(t.showMiniNavigation==true&&t.propertyHeaders.length>1){this._createMiniNavigation(e,t,t.dataContainer.getHeader(),t.dataContainer.getSelected());if(n+1==t.propertyHeaders.length){t.oHLayoutMiniNavigation.addStyleClass("sapLandviszMiniNavigationVisible");t.oHLayoutMiniNavigation.removeStyleClass("sapLandviszMiniNavigationHidden")}}else{t.oHLayoutMiniNavigation.addStyleClass("sapLandviszMiniNavigationHidden");t.oHLayoutMiniNavigation.removeStyleClass("sapLandviszMiniNavigationVisible")}t.oVLayoutContainer.addContent(t.oHLayoutMiniNavigation);t.oHeadersLayout.addContent(t.dataContainer);var o=this;if(t.dataContainer.hasChangeEvent==false){t.dataContainer.attachEvent("itemsChanged",function(i){t.oVLayoutProperties.removeAllContent();var a=i.oSource.getHeader();o._findContainerAggregationProperties(a,t,e);o._selectMiniNavigationButton(t,e,a);t.containerEvent=true;t.invalidate()},this)}}t.dataContainer.hasChangeEvent=true;t.oHeadersLayout.addContent(t.previousIcon);t.oHeadersLayout.addContent(t.nextIcon);if(t.containerEvent==false)this._setVisibleTabs(e,t);this._enableNextAndPrevious(e,t,t.selectedIndex);t.oVLayoutContainer.addContent(t.oHeadersLayout);t.oSingleHeaderLabel.setText(r.getHeader());t.oSingleHeaderLabel.setTooltip(r.getHeader());t.oSingleHeaderLabel.addStyleClass("sapLandviszSingleLabelHeaderWidth");t.oSingleHeaderLayout.addContent(t.oSingleHeaderLabel);t.oVLayoutContainer.addContent(t.oSingleHeaderLayout);if(t.expVisible==false&&t.oHeadersLayout.getContent().length>3){t.oHeadersLayout.removeStyleClass("sapLandviszDisplayNone");t.oSingleHeaderLayout.addStyleClass("sapLandviszDisplayNone");t.oSingleHeaderLayout.removeStyleClass("sapLandviszDisplayBlock");t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSizesPropertySectionSmv")}else{if(t.expVisible==true)t.oSingleHeaderLayout.addStyleClass("singleHeaderExplodeView");t.oSingleHeaderLayout.addStyleClass("singleHeader");t.oHeadersLayout.addStyleClass("sapLandviszDisplayNone");t.oHeadersLayout.removeStyleClass("sapLandviszDisplayBlock");t.oSingleHeaderLayout.addStyleClass("sapLandviszDisplayBlock");t.oSingleHeaderLayout.removeStyleClass("sapLandviszDisplayNone");if(t.getRenderingSize()==p.Small)t.oVLayoutProperties.addStyleClass("sapLandviszSmallSizesPropertySectionSmv");else if(t.getRenderingSize()==p.Regular)t.oVLayoutProperties.addStyleClass("sapLandviszRegularSizesPropertySectionSmv");else if(t.getRenderingSize()==p.RegularSmall)t.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv");if(t.getType()==y.TechnicalSystem)t.oSingleHeaderLayout.addStyleClass("sapLandviszTechnicalSystem");else if(t.getType()==y.ProductSystem)t.oSingleHeaderLayout.addStyleClass("sapLandviszProductSystem");else if(t.getType()==y.SapComponent)t.oSingleHeaderLayout.addStyleClass("sapLandviszSapComponent")}if(t.expVisible==false&&t.getRenderingSize()==p.RegularSmall){t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSizesPropertySectionSmv")}if(t.explodeViewClosed==true&&t.getRenderingSize()==p.RegularSmall&&t.oHeadersLayout.getContent().length>3){t.oVLayoutProperties.removeStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv");t.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySection")}if(t.explodeViewClosed==true&&t.getRenderingSize()==p.Small&&t.oHeadersLayout.getContent().length>3){t.oVLayoutProperties.removeStyleClass("sapLandviszSmallSizesPropertySectionSmv");t.oVLayoutProperties.addStyleClass("sapLandviszSmallSizesPropertySection")}if(t.expVisible==true&&t.getRenderingSize()==p.RegularSmall){t.oVLayoutProperties.addStyleClass("sapLandviszRegularSmallSizesPropertySectionSmv")}var o=this;var s=t.oHLayoutMiniNavigation.getContent();if(s.length>0){var l=t.oHeadersLayout.getContent();for(var n=0;n<l.length-2;n++){if(l[n].inDisplay==true&&l[n].getSelected()==true)s[n].setSelected(true);else if(l[n].inDisplay==true)s[n].inDisplay=true;else s[n].inDisplay=false}s[t.selectedIndex].setSelected(true)}this._renderDataContainerProperties(e,t,r.getProperties(),r.getHeader())};v._setVisibleTabs=function(e,t){var i=t.getRenderingSize();var a=false;if(t.entityMaximized!=true){if(i==p.Small){if(t.propertyHeaders.length>1)t.visibleTabCount=1;else a=true}else if(i==p.RegularSmall){if(t.propertyHeaders.length>2)t.visibleTabCount=2;else a=true}else if(i==p.Regular){if(t.propertyHeaders.length>2)t.visibleTabCount=2;else a=true}else if(i==p.Medium){if(t.propertyHeaders.length>2)t.visibleTabCount=2;else a=true}else if(i==p.Large){if(t.propertyHeaders.length>4)t.visibleTabCount=4;else a=true}}else if(t.entityMaximized==true){var r=Math.floor(t.containerWidth/148);if(t.propertyHeaders.length>r)t.visibleTabCount=r;else a=true}var n=t.oHeadersLayout.getContent();if(a){var o=t.containerWidth/(n.length-2);if(t.entityMaximized!=true)o=o*12;o=Math.round(o)-2;for(var s=0;s<n.length;s++){if(s>n.length-3){n[s].inDisplay=false}else{n[s].width=o+"px";n[s].inDisplay=true}}}else{var l;var d;var o;var g=0;var y;if(t.visibleTabCount<t.propertyHeaders.length){d=t.visibleTabCount;if(t.entityMaximized!=true)o=t.containerWidth*12;else o=t.containerWidth;o=o-46;o=Math.round(o/t.visibleTabCount-2)}else d=t.propertyHeaders.length;if(t.previousClicked==true){for(var s=0;s<n.length;s++){if(s>n.length-3){n[s].inDisplay=true}else{y=n[s].getSelected();if(y==true){g=s-1;l=s}else{n[s].inDisplay=false}n[s].width=o+"px"}}d=t.visibleTabCount;if(g>=0){for(var u=g;u>=0;u--){n[u].inDisplay=true;d--}}for(var v=0;v<d;v++){n[v+l].inDisplay=true}}else{for(var s=0;s<n.length;s++){if(s>n.length-3){n[s].inDisplay=true}else{y=n[s].getSelected();if(y==true){g=n.length-3-s;l=s}else{n[s].inDisplay=false}n[s].width=o+"px"}}if(g>=d){for(var u=0;u<d;u++){n[l+u].inDisplay=true}}else{for(var S=0;S<=g;S++){d--;n[l+S].inDisplay=true}for(var u=0;u<=d;u++){n[l-u].inDisplay=true}}}}};v._enableNextAndPrevious=function(e,t,i){var a="16x16/";var r;var n;var o=t.getRenderingSize();var s=false;if(o==p.Small){if(t.propertyHeaders.length>1)t.visibleTabCount=1;else s=true}else if(o==p.RegularSmall){if(t.propertyHeaders.length>2)t.visibleTabCount=2;else s=true}else if(o==p.Regular){if(t.propertyHeaders.length>2)t.visibleTabCount=2;else s=true}else if(o==p.Medium){if(t.propertyHeaders.length>2)t.visibleTabCount=2;else s=true}else if(o==p.Large){if(t.propertyHeaders.length>4)t.visibleTabCount=4;else s=true}var l=false;var d=t.oHeadersLayout.getContent();if(i>0){for(var g=0;g<i;g++){if(d[g].inDisplay==false){l=true;break}}}if(l==true)r=t._imgResourcePath+a+"leftnav_enable_dark.png";else r=t._imgResourcePath+a+"leftnav_disable.png";var y=false;if(i<t.propertyHeaders.length){for(var g=t.propertyHeaders.length-1;g>i;g--){if(d[g].inDisplay==false){y=true;break}}}if(y==true)n=t._imgResourcePath+a+"rightnav_enable_dark.png";else n=t._imgResourcePath+a+"rightnav_disable.png";t.nextIcon.addStyleClass("sapLandviszLandscapeEntityNavIcon");t.previousIcon.addStyleClass("sapLandviszLandscapeEntityNavIcon");t.nextIcon.setTooltip(t.NEXT);t.previousIcon.setTooltip(t.PREVIOUS);if(o==p.Small){t.previousIcon.setHeight("14px");t.nextIcon.setHeight("14px")}else if(o==p.RegularSmall){t.previousIcon.setHeight("16px");t.nextIcon.setHeight("16px")}else if(o==p.Regular){t.previousIcon.setHeight("16px");t.nextIcon.setHeight("16px")}else if(o==p.Medium){t.previousIcon.setHeight("16px");t.nextIcon.setHeight("16px")}else if(o==p.Large){t.previousIcon.setHeight("26px");t.nextIcon.setHeight("26px")}t.nextIcon.setSrc(n);t.previousIcon.setSrc(r);t.nextEnabled=y;t.previousEnable=l;var u=this;if(t.hasNavigationEvent==false){t.nextIcon.attachPress(function(i){if(t.nextEnabled==true){t.nextClicked=true;var a;for(var r=0;r<d.length-2;r++){if(d[r].inDisplay==true){a=r+t.visibleTabCount;break}}u._findContainerAggregationProperties(d[a].getHeader(),t,e);u._selectMiniNavigationButton(t,e,d[a].getHeader());t.containerEvent=false;t.invalidate()}});t.previousIcon.attachPress(function(i){if(t.previousEnable==true){var a;t.previousClicked=true;for(var r=0;r<d.length-2;r++){if(d[r].inDisplay==true){a=r-1;break}}if(a<0)a=0;u._findContainerAggregationProperties(d[a].getHeader(),t,e);u._selectMiniNavigationButton(t,e,d[a].getHeader());t.containerEvent=false;t.invalidate()}});t.hasNavigationEvent=true}};v._renderContainerAggregation=function(e,t){var i=t.getId();var a;t.isAggregated=true;var r;this._setContainerRenderingSize(t);for(var n=0;n<t.propertyHeaders.length;n++){t.dataContainer=t.propertyHeaders[n];if(n==0)t.dataContainer.setSelected(true);a=t.dataContainer.getSelected();if(a==true){r=t.dataContainer;t.selectedIndex=n}if(t.showMiniNavigation==true){this._createMiniNavigation(e,t,t.dataContainer.getHeader(),t.dataContainer.getSelected());if(n+1==t.propertyHeaders.length){t.oHLayoutMiniNavigation.addStyleClass("sapLandviszMiniNavigationVisible");t.oHLayoutMiniNavigation.removeStyleClass("sapLandviszMiniNavigationHidden")}}else{t.oHLayoutMiniNavigation.addStyleClass("sapLandviszMiniNavigationHidden");t.oHLayoutMiniNavigation.removeStyleClass("sapLandviszMiniNavigationVisible")}t.oVLayoutContainer.addContent(t.oHLayoutMiniNavigation);this._initilizeDataContainer(e,t,n)}var o=this;this._renderDataContainerProperties(e,t,r.getProperties(),r.getHeader())};v._setContainerRenderingSize=function(e){var t=e.getRenderingSize();if(e.entityMaximized==true)e.containerWidth=e.sViewWidth-30-8.4*12;else{if(t==p.Small)e.containerWidth=21-6.1;else if(t==p.RegularSmall)e.containerWidth=31.5-7;else if(t==p.Regular)e.containerWidth=36.5-8.33;else if(t==p.Medium){e.containerWidth=41-8.4}else if(t==p.Large){e.containerWidth=62-8.4}}};v._initilizeDataContainer=function(e,t,i){t.dataContainer.lastItem=false;if(i+1==t.propertyHeaders.length)t.dataContainer.lastItem=true;t.dataContainer.oVLayoutContainer=t.oVLayoutContainer;e.renderControl(t.dataContainer)};v._createMiniNavigation=function(e,t,a,r){var n=t.oHLayoutMiniNavigation.getContent();var o=false;var s=0;if(t.getActionBar()&&t.getActionBar().length>0)s=1;if(n.length>0){for(var l=0;l<n.length-s;l++){if(a==n[l].getHeaderTooltip()){t.headerBtn=n[l];o=true}}}var d=t.getId();if(o==false)t.headerBtn=new i;t.headerBtn.setHeaderTooltip(a);t.headerBtn.setSelected(false);t.headerBtn.setType(t.getType());var g=t.containerWidth/t.propertyHeaders.length;if(t.entityMaximized!=true)g=g*12;t.headerBtn.headerWidth=Math.round(g)-2.5;var p;var y=this;if(o==false)t.headerBtn.attachPress(function(i){p=i.oSource.getHeaderTooltip();y._selectMiniNavigationButton(t,e,p);y._findContainerAggregationProperties(p,t,e);t.containerEvent=false;t.invalidate()});t.headerBtn.removeStyleClass("sapLandviszMiniNavigationSelected");t.headerBtn.removeStyleClass("sapLandviszMiniNavigationInDisplay");t.headerBtn.removeStyleClass("sapLandviszMiniNavigationNormal");t.oHLayoutMiniNavigation.addContent(t.headerBtn)};v._selectMiniNavigationButton=function(e,t,i){this._setContainerRenderingSize(e);var a=e.containerWidth/e.propertyHeaders.length;var r=e.oHLayoutMiniNavigation.getContent();for(var n=0;n<r.length;n++){var o=r[n];if(o.getHeaderTooltip()==i){o.setSelected(true);o.setType(e.getType())}else{o.setSelected(false)}}};v._selectNavigationHeader=function(e,t,i){var a=e.oNavBar.getItems();for(var r=0;r<a.length;r++){if(a[r].getKey()==i){e.oNavBar.setSelectedItem(a[r]);e.oVLayoutProperties.removeAllContent();if(e.isAggregated)this._findContainerAggregationProperties(a[r].getKey(),e,t);else this._findContainerProperties(a[r].getKey(),e,t)}}};v._renderDataContainerProperties=function(e,t,i,a){var r=t.getId();var n;if(i&&i.length&&i.length>0){for(var o=0;o<i.length;o++){this._renderContainerProperty(t,i[o],n)}}else if(i instanceof l){this._renderContainerProperty(t,i,n)}};v._renderContainerProperty=function(e,t,i){if(t instanceof a||t instanceof r||t instanceof o||t instanceof s)t.setRenderingSize(e.getRenderingSize());t.totalWidth=e.containerWidth;t.entityMaximized=e.entityMaximized;e.oVLayoutProperties.addContent(t)};v._renderEntityAction=function(e,t){for(var i=0;i<t.entityActionArray.length;i++){t.entityAction=t.entityActionArray[i];t.entityAction.entityMaximized=t.entityMaximized;if(t.restore==true&&t.entityAction.getActionTooltip()==t.MAXIMIZE_TEXT){t.oHLayoutAllAction.removeContent(t.entityAction);continue}if(t.restore==false&&t.entityAction.getActionTooltip()==t.RESTORE_TEXT){t.oHLayoutAllAction.removeContent(t.entityAction);continue}if(t.expVisible==true&&t.entityAction.getActionTooltip()==t.SHOW_ALL_TEXT){t.oHLayoutAllAction.removeContent(t.entityAction);continue}if(t.expVisible==false&&t.entityAction.getActionTooltip()==t.COLLAPSE_TEXT){t.oHLayoutAllAction.removeContent(t.entityAction);continue}if(t.expVisible==true&&t.entityAction.getActionTooltip()==t.MAXIMIZE_TEXT){t.oHLayoutAllAction.removeContent(t.entityAction);continue}if(t.entityMaximized==true&&t.entityAction.getActionTooltip()==t.SHOW_ALL_TEXT){t.oHLayoutAllAction.removeContent(t.entityAction);continue}if(t.entityAction.getActionTooltip()==t.MAXIMIZE_TEXT)t.entityAction.setIconSrc(t._imgResourcePath+t._imgFolderPath+"maximize_enable_dark.png");if(t.entityAction.getActionTooltip()==t.RESTORE_TEXT)t.entityAction.setIconSrc(t._imgResourcePath+t._imgFolderPath+"restore_enable_dark.png");if(t.entityAction.getActionTooltip()==t.SHOW_ALL_TEXT)t.entityAction.setIconSrc(t._imgResourcePath+t._imgFolderPath+"openshowall_enable_dark.png");if(t.entityAction.getActionTooltip()==t.COLLAPSE_TEXT)t.entityAction.setIconSrc(t._imgResourcePath+t._imgFolderPath+"closeshowall_enable_dark.png");var a=t.getRenderingSize();t.entityAction.setRenderingSize(a);t.oHLayoutAllAction.addContent(t.entityAction);var r=this;if(t.hasEntityEvent==false){t.entityAction.attachPress(function(i){var a=i.oSource;if(a.getActionTooltip()==t.MAXIMIZE_TEXT){t.entityMaximized=true;t.invalidate();t.oHLayoutAllAction.removeContent(a);t.containerEvent=false}if(a.getActionTooltip()==t.RESTORE_TEXT&&t.entityMaximized==true){setTimeout(function(){t.entityMaximized=false;t.invalidate()},1e3)}if(a.getActionTooltip()==t.RESTORE_TEXT){t.entityMaximized=false;t.oHLayoutAllAction.removeContent(a);t.containerEvent=false}if(a.getActionTooltip()==t.SHOW_ALL_TEXT&&t.entityMaximized==true){t.entityMaximized=false;t.expVisible=true;r._renderExplodeView(e,t);t.showMiniNavigation=false;setTimeout(function(){t.entityMaximized=false;t.invalidate()},1e3)}if(a.getActionTooltip()==t.SHOW_ALL_TEXT){t.entityMaximized=false;t.expVisible=true;r._renderExplodeView(e,t);t.showMiniNavigation=false;t.invalidate()}if(a.getActionTooltip()==t.COLLAPSE_TEXT){t.entityMaximized=false;t.expVisible=false;t.showMiniNavigation=true;r._resetHeaderData(e,t);r._resetHeaderNavigation(e,t);t.nextIcon.setVisible(true);t.previousIcon.setVisible(true);jQuery(document.getElementById("SMV")).hide(700);t.invalidate()}});t.hasEntityEvent==true}}};v._renderExplodeView=function(e,t){this.hideUnselectedHeaders(e,t)};v.hideUnselectedHeaders=function(e,t){var i=t.getDataContainers();for(var a=0;a<i.length;a++){if(a!=t.selectedIndex){i[a].visible=false}}t.nextIcon.setVisible(false);t.previousIcon.setVisible(false)};v._renderUnselectedHeaderPopup=function(e,t){var i=new Array;e.write("<div");e.writeAttributeEscaped("id","SMV");var a=t.getRenderingSize();if(a==p.RegularSmall)e.addClass("sapLandviszSMVContainerRegularSmall");else if(a==p.Regular)e.addClass("sapLandviszSMVContainerRegular");else if(a==p.Medium)e.addClass("sapLandviszSMVContainerMedium");e.writeClasses();if(t.sViewWidth!=0)e.addStyle("width",t.sViewWidth-2+"px");else if(t.getExplodeViewWidth()&&t.getExplodeViewWidth()!="")e.addStyle("width",t.getExplodeViewWidth());if(t.sViewHeight!=0)e.addStyle("height","100%");else if(t.getExplodeViewHeight()&&t.getExplodeViewHeight()!="")e.addStyle("height",t.getExplodeViewHeight());e.writeStyles();e.write(">");i=t.getDataContainers();var r;var n;var o;var s;var l=this;var a=t.getRenderingSize();if(i.length>0){for(var d=0;d<i.length;d++){n=i[d];if(d!=t.selectedIndex){r=n.getProperties();t.smvContainer=t.dialogArray[d];t.smvContainer.setRenderingSize(t.getRenderingSize());t.smvContainer.setHeader(n.getHeader());for(var g=0;g<r.length;g++){o=r[g];t.smvContainer.addAggregation("properties",o,false)}t.smvContainer.addStyleClass("sapLandviszDisplayNone");e.renderControl(t.smvContainer);t.smvContainer.attachClosed(function(i){t.expVisible=false;var a=i.oSource;var r=t.getDataContainers();var n;for(var o=0;o<r.length;o++){n=a.getProperties();var s=r[o];if(s.getHeader()==a.getHeader()){if(n.length>0){for(var d=0;d<n.length;d++){s.addAggregation("properties",n[d],false)}}}}if(l._checkAllPopupClosed(t,a)){l._resetHeaderNavigation(e,t);t.showMiniNavigation=true;t.nextIcon.setVisible(true);t.previousIcon.setVisible(true);t.invalidate()}})}}}e.write("</div>")};v._resetHeaderData=function(e,t){var i;var a=t.getDataContainers();var r;for(var n=0;n<t.dialogArray.length;n++){i=t.dialogArray[n];r=i.getProperties();if(r&&r.length&&r.length>0){for(var o=0;o<r.length;o++){a[n].addAggregation("properties",r[o],false)}}}};v._resetHeaderNavigation=function(e,t){var i=t.getDataContainers();for(var a=0;a<i.length;a++){if(a!=t.selectedIndex){i[a].visible=true}}};v._checkAllPopupClosed=function(e,t){var i;for(var a=0;a<e.dialogArray.length;a++){i=e.dialogArray[a];if(i.isOpen()==true&&a!=e.selectedIndex&&t.getHeader()!=i.getHeader()){e.explodeViewClosed=false;return false}}e.explodeViewClosed=true;return true};v._renderCustomActionRegion=function(e,t){var i=t.getId();t.actions=t.getActionBar();for(var a=t.actions.length-1;a>=0;a--){t.action=t.actions[a];t.action.setRenderingSize(t.getRenderingSize());t.action.oActToolBar=t.oBtnToolBar;t.action.systemId=t.getSystemId();t.oHLayoutAction.addContent(t.action)}t.oHLayoutAction.addStyleClass("sapLandviszActionLayout");var r=t.oHLayoutAction.getContent();for(var n=0;n<r.length;n++){r[n].setRenderingSize(t.getRenderingSize())}};v._renderOverlayContainer=function(e,t){t.oVLayoutOverlay.removeAllContent();var i=t.getRenderingSize();e.write("<div");e.writeClasses();e.writeAttributeEscaped("id",t.getId()+"-innerOverlay");e.write(" style='");e.write("top:74px;");if(i==p.RegularSmall){e.write("width:24.5em;");e.write("height:15.88em;");e.write("left:108px;")}if(i==p.Regular){e.write("width:28.1em;");e.write("height:18em;");e.write("left:124px;")}else if(i==p.Medium){e.write("width:32.6em;");e.write("height:21.3em;");e.write("left:124px;")}e.write("position:absolute;");e.write("font-size: 12px;");e.write("border: 1px solid grey;");e.write("z-index:10;");e.write("float:left;");if(t.showOverlay==true)e.write("display:block;");else e.write("display:none;");e.write("'");e.write(">");var n=t.getDataContainers();var o;for(var s=0;s<n.length;s++){if(n[s].getSelected()==true){o=n[s].getProperties();break}}var l;var d;if(o){for(var s=0;s<o.length;s++){if(o[s]instanceof a){l=new a;l.addStyleClass("overlayRow");l.setLabel(o[s].getLabel());l.setValue(o[s].getValue());l.setRenderingSize(o[s].getRenderingSize());l.setIconType(o[s].getIconType());l.setIconTitle(o[s].getIconTitle());if(t.showOverlay==true&&t.overlayFilter=="")l.addStyleClass("sapLandviszDisplayBlock");else if(t.showOverlay==true&&t.overlayFilter==o[s].getLinkSource())l.addStyleClass("sapLandviszDisplayBlock");else l.addStyleClass("sapLandviszDisplayNone");l.setLinkSource(o[s].getLinkSource());l.setRightIconSrc(o[s].getRightIconSrc());t.oVLayoutOverlay.addContent(l)}else if(o[s]instanceof r){d=new r;d.setLabel(o[s].getLabel());d.setRenderingSize(o[s].getRenderingSize());d.setType(o[s].getType());d.setIconTitle(o[s].getIconTitle());d.setLinkSource(o[s].getLinkSource());d.addStyleClass("overlayRow");var g=o[s].getLinearRows();var y=false;for(var u=0;u<g.length;u++){l=new a;l.setLabel(g[u].getLabel());l.setValue(g[u].getValue());l.setRenderingSize(g[u].getRenderingSize());l.setIconType(g[u].getIconType());l.setIconTitle(g[u].getIconTitle());l.setLinkSource(g[u].getLinkSource());if(t.showOverlay==true&&t.overlayFilter==""){l.addStyleClass("sapLandviszDisplayBlock");y=true}else if(t.showOverlay==true&&t.overlayFilter==g[u].getLinkSource()){l.addStyleClass("sapLandviszDisplayBlock");y=true}else l.addStyleClass("sapLandviszDisplayNone");l.setRightIconSrc(g[u].getRightIconSrc());d.addAggregation("linearRows",l,false)}if(y==true)d.addStyleClass("sapLandviszDisplayBlock");else d.addStyleClass("sapLandviszDisplayNone");t.oVLayoutOverlay.addContent(d)}}}t.oVLayoutOverlay.addStyleClass("sapLandviszVlayoutOverLay");e.renderControl(t.oVLayoutOverlay);e.write("</div>");e.write("<div");e.writeClasses();e.writeAttributeEscaped("id",t.getId()+"-overlay");e.write(" style='");e.write("left:0px;");e.write("top:0px;");e.write("width:100%;");e.write("height:100%;");e.write("position:absolute;");e.write("background-color:rgb(229, 229, 229);");e.write("font-size: 12px;");e.write("z-index:8;");e.write("cursor:not-allowed;");e.write("opacity:0.5;");e.write("float:left;");if(t.showOverlay==true)e.write("display:block;");else e.write("display:none;");e.write("'");e.write(">");e.write("</div>")};return v},true);
//# sourceMappingURL=LandscapeEntityRenderer.js.map