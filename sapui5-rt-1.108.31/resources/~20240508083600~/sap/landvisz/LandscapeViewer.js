/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.define(["sap/landvisz/library","sap/landvisz/ConnectionEntity","sap/landvisz/Connector","sap/landvisz/internal/Connection","sap/landvisz/internal/NestedRowField","sap/landvisz/internal/SingleDataContainer","sap/landvisz/libs/lvsvg","sap/landvisz/Option","sap/ui/commons/Button","sap/ui/commons/Label","sap/ui/commons/layout/HorizontalLayout","sap/ui/commons/Image","./LandscapeViewerRenderer","sap/ui/thirdparty/jquery","sap/ui/thirdparty/jqueryui/jquery-ui-core","sap/ui/thirdparty/jqueryui/jquery-ui-widget","sap/ui/thirdparty/jqueryui/jquery-ui-mouse","sap/ui/thirdparty/jqueryui/jquery-ui-draggable","sap/ui/thirdparty/jqueryui/jquery-ui-droppable"],function(t,e,i,n,o,s,a,r,l,h,d,p,g,jQuery){"use strict";var u=t.ConnectionLine;var c=t.EntityCSSSize;var v=t.DependencyType;var y=t.DependencyVisibility;var w=t.OptionType;var f=t.SelectionViewPosition;var V=t.SolutionType;var m=t.ViewType;var E=sap.landvisz.Option.extend("sap.landvisz.LandscapeViewer",{metadata:{library:"sap.landvisz",properties:{defaultDependencyView:{type:"sap.landvisz.DependencyType",group:"Identification",defaultValue:v.NETWORK_VIEW},height:{type:"int",group:"Dimension",defaultValue:null},width:{type:"int",group:"Dimension",defaultValue:null},title:{type:"string",group:"Data",defaultValue:null},networkDependencyLabel:{type:"string",group:"Data",defaultValue:"Network View"},boxDependencyLabel:{type:"string",group:"Data",defaultValue:"Box View"},boxDependencyLevels:{type:"string[]",group:"Data",defaultValue:null},showDependencyNavigator:{type:"boolean",group:"Identification",defaultValue:true},visibleDependency:{type:"sap.landvisz.DependencyVisibility",group:"Identification",defaultValue:y.BOTH},viewType:{type:"sap.landvisz.ViewType",group:"Identification",defaultValue:null},navigationPath:{type:"string",group:"Data",defaultValue:null},hasParent:{type:"boolean",group:"Misc",defaultValue:true},selectionViewPosition:{type:"sap.landvisz.SelectionViewPosition",group:"Identification",defaultValue:f.CENTER},showClose:{type:"boolean",group:"Identification",defaultValue:true},componentViewLabel:{type:"string",group:"Data",defaultValue:"Component View"},deploymentViewLabel:{type:"string",group:"Data",defaultValue:"Deployment View"},solutionOptionType:{type:"sap.landvisz.OptionType",group:"Identification",defaultValue:null},solutionType:{type:"sap.landvisz.SolutionType",group:"Identification",defaultValue:null},showDeploymentTypeSection:{type:"boolean",group:"Identification",defaultValue:false},deploymentOptionsLabel:{type:"string",group:"Data",defaultValue:"Deployment Options :"},deploymentOptionsTooltip:{type:"string",group:"Data",defaultValue:null},componentViewTooltip:{type:"string",group:"Data",defaultValue:null},deploymentViewTooltip:{type:"string",group:"Data",defaultValue:null},closeButtonTooltip:{type:"string",group:"Data",defaultValue:null},plugContentHeight:{type:"int",group:"Misc",defaultValue:0},connectionLine:{type:"sap.landvisz.ConnectionLine",group:"Misc",defaultValue:u.Line}},aggregations:{systems:{type:"sap.landvisz.LandscapeEntity",multiple:true,singularName:"system"},connectionEntities:{type:"sap.landvisz.ConnectionEntity",multiple:true,singularName:"connectionEntity"},connectors:{type:"sap.landvisz.Connector",multiple:true,singularName:"connector"},solutionOptions:{type:"sap.landvisz.Option",multiple:true,singularName:"solutionOption"},plugContent:{type:"sap.ui.core.Control",multiple:false}},events:{close:{},loadSolutionView:{}}}});E.prototype.init=function(){this.initializationDone=false;this.windowHeight=0;this.windowWidth=0;this.connection=n;this.boxModeHeight=90;this.currentView="";this.firstTime=true;this.boxLeftMargine=0;this.boxTopMargine=0;this.hasBoxThirdLevel=false;this.firstTime=true;this.lindkedEntities=[];var t=sap.ui.getCore().getLibraryResourceBundle("sap.landvisz");this.SHOW_ALL_TEXT=t.getText("SHOW_ALL");this.COLLAPSE_TEXT=t.getText("COLLAPSE_EXPLODE_VIEW");this.MAXIMIZE_TEXT=t.getText("MAXIMIZE");this.RESTORE_TEXT=t.getText("RESTORE");this.CLOSE=t.getText("CLOSE");this.srcEntity="";this.currentViewOptionId="";this.currentSolutionView="";this.selectedOptionEntity=null;var e=jQuery(window);if(this.getHeight()&&""!=this.getHeight()){this.windowHeight=this.getHeight()}else{this.windowHeight=e.height()}if(this.getWidth()){this.windowWidth=this.getWidth()}else{this.windowWidth=e.width()}};E.prototype.onwindowresize=function(t){var e=this.$();if(this.getHasParent()==false){var i=jQuery(window);var n=i.width();var o=i.height();this.windowHeight=o;this.windowWidth=n;this.invalidate()}else if(e&&e[0]&&e[0].parentElement){this.windowWidth=e[0].parentElement.clientWidth;this.windowHeight=e[0].parentElement.clientHeight;this.invalidate()}};E.prototype.onclick=function(t){var e=this.getSystems();var i=e[0];var n=this.$("container");var o=i.$();if(this.getViewType()==m.SELECTION_VIEW&&t.srcControl.getTooltip()==this.MAXIMIZE_TEXT){if(t.srcControl.getTooltip()==this.SHOW_ALL_TEXT)i.expVisible=true;n.css({height:this.entityHeight,width:this.entityWidth});i.$("CLVEntityVLayoutContainer").css({display:"none"});this._animateMaximizeView(i,n);setTimeout(function(){i.$("CLVEntityVLayoutContainer").css({display:"block"});i.$("CLVEntityVLayoutProperties").css({display:"block"})},1e3)}if(this.getViewType()==m.SELECTION_VIEW&&t.srcControl.getTooltip()==this.RESTORE_TEXT){var a=this.windowWidth-40;var r=this.windowHeight;i.sViewWidth=a;i.sViewHeight=r;i.$("CLVEntityVLayoutContainer").css({display:"none"});this._animateRestoreView(i,n);setTimeout(function(){i.$("CLVEntityVLayoutContainer").css({display:"block"})},1e3)}if(t.srcControl.getTooltip()==this.SHOW_ALL_TEXT&&i.entityMaximized!=true)this._animateShowAllView(i,n,o);if(t.srcControl.getTooltip()==this.SHOW_ALL_TEXT&&i.entityMaximized==true){i.sViewWidth=a;i.sViewHeight=r;this._animateSelectionView(n)}else if(t.srcControl.getTooltip()==this.COLLAPSE_TEXT&&this.entityMaximized!=true)this._animateCollapseView(n);else if(t.srcControl instanceof s&&i.explodeViewClosed==true)this._animateCollapseView(n)};E.prototype._animateCollapseView=function(t){var e=this.getSelectionViewPosition();if(e==f.CENTER){var i=(this.windowWidth-this.entityWidth)/2;var n=(this.windowHeight-this.entityHeight)/2}else if(e==f.LEFT){var i=20;var n=20}else if(e==f.RIGHT){var i=this.windowHeight-this.entityHeight-20;var n=20}t.animate({width:this.entityWidth,height:this.entityHeight,left:i,top:n},1e3)};E.prototype._animateSelectionView=function(t){var e;var i;var n=this.getSelectionViewPosition();if(n==f.CENTER){e=(this.windowWidth-this.entityWidth)/2;i=(this.windowHeight-this.entityHeight)/2}else if(n==f.LEFT){e=20;i=20}else if(n==f.RIGHT){e=this.windowWidth-this.entityWidth-20;i=20}t.animate({left:e,top:i},1e3)};E.prototype._animateShowAllView=function(t,e,i){var n=this.windowWidth-12;var o=this.windowHeight;t.sViewWidth=n-this.entityWidth;t.sViewHeight=o;t.left=0;t.top=0;i.css({position:"relative"});e.animate({left:10,top:0,width:n,height:"100%"},1e3);var s=jQuery(document.getElementById("SMV"));setTimeout(function(){s.animate({display:"block"},1e3)},1e3)};E.prototype._animateMaximizeView=function(t,e){var i=this.windowWidth-40;var n=this.windowHeight-66;t.sViewWidth=i;t.sViewHeight=n;e.animate({left:20,top:20,width:i,height:n},1e3)};E.prototype._animateRestoreView=function(t,e){var i=this.windowWidth-40;var n=this.windowHeight;t.sViewWidth=i;t.sViewHeight=n;var o=this.getSelectionViewPosition();var s;var a;if(o==f.CENTER){s=(this.windowWidth-this.entityWidth)/2;a=(this.windowHeight-this.entityHeight)/2}else if(o==f.LEFT){s=20;a=20}else if(o==f.RIGHT){s=this.windowHeight-this.entityHeight-20;a=20}e.animate({left:s,top:a,width:this.entityWidth,height:this.entityHeight},1e3)};E.prototype.resetView=function(t,e){var i=this.$("container");if(t.entityMaximized==true){t.entityMaximized=false;setTimeout(function(){t.invalidate()},1e3);var n=this.windowWidth-40;var o=this.windowHeight;t.sViewWidth=n;t.sViewHeight=o;var s=this.getSelectionViewPosition();var a;var r;if(s==f.CENTER){a=(this.windowWidth-this.entityWidth)/2;r=(this.windowHeight-this.entityHeight)/2}else if(s==f.LEFT){a=20;r=20}else if(s==f.RIGHT){a=this.windowHeight-this.entityHeight-20;r=20}t.$("CLVEntityVLayoutProperties").css({display:"none"});i.animate({left:a,top:r,width:this.entityWidth,height:this.entityHeight},1e3);setTimeout(function(){t.$("CLVEntityVLayoutProperties").css({display:"block"})},1e3);setTimeout(function(){e.$().click()},1e3)}else if(t.expVisible==true){t.entityMaximized=false;t.expVisible=false;t.oHLayoutMiniNavigation.$().css("display","block");t.showMiniNavigation=true;var l;var h=t.getDataContainers();var d;for(var p=0;p<t.dialogArray.length;p++){l=t.dialogArray[p];d=l.getProperties();if(d&&d.length&&d.length>0){for(var g=0;g<d.length;g++){h[p].addAggregation("properties",d[g],false)}}}for(var p=0;p<h.length;p++){if(p!=t.selectedIndex){h[p].visible=true}}t.nextIcon.setVisible(true);t.previousIcon.setVisible(true);jQuery(document.getElementById("SMV")).hide(700);t.invalidate();var a;var r;var s=this.getSelectionViewPosition();if(s==f.CENTER){a=(this.windowWidth-this.entityWidth)/2;r=(this.windowHeight-this.entityHeight)/2}else if(s==f.LEFT){a=20;r=20}else if(s==f.RIGHT){a=this.windowHeight-this.entityHeight-20;r=20}i.animate({left:a,top:r},1e3);setTimeout(function(){e.$().click()},1e3)}else e.$().click()};E.prototype.initControls=function(){var t=this.getId();if(!this.oHLayoutConnectionEntity)this.oHLayoutConnectionEntity=new d(t+"viewerConnectionEntityHLayout");if(!this.oHLayoutOptions)this.oHLayoutOptions=new d(t+"viewerHLayoutOptions");this.entityWidth;this.entityHeight;this.networkViewVisible=false;this.boxViewVisible=false;if(!this.boxViewLabel)this.boxViewLabel=new h(t+"-viewBoxLabel");if(!this.boxViewImg)this.boxViewImg=new p(t+"-viewBoxImg");if(!this.networkViewLabel)this.networkViewLabel=new h(t+"-viewNetworkLabel");if(!this.closeImg)this.closeImg=new p(t+"-closeImg");if(!this.networkViewBtn)this.networkViewBtn=new l(t+"-viewNetworkBtn").addStyleClass("sapLandviszImg");if(!this.boxViewBtn)this.boxViewBtn=new l(t+"-viewBoxBtn").addStyleClass("sapLandviszImg");if(!this.compViewBtn)this.compViewBtn=new l(t+"-viewComponentBtn").addStyleClass("sapLandviszImg");if(!this.depViewBtn)this.depViewBtn=new l(t+"-viewDeployBtn").addStyleClass("sapLandviszImg");if(!this.navigationPathLabel)this.navigationPathLabel=new h(t+"navigationPathLabel");if(!this.deploymentOptionLabel)this.deploymentOptionLabel=new h(t+"deploymentOptionLabel");var e=this.getSystems()[0].getRenderingSize();if(e==c.Small){this.entityWidth=Math.round(22.7*12);this.entityHeight=Math.round(15.8*12)}if(e==c.RegularSmall){this.entityWidth=Math.round(33.7*12);this.entityHeight=Math.round(22.3*12)}if(e==c.Regular){this.entityWidth=Math.round(38.7*12);this.entityHeight=Math.round(24.5*12)}if(e==c.Medium){this.entityWidth=Math.round(43.5*12);this.entityHeight=Math.round(28*12)}if(e==c.Large){this.entityWidth=Math.round(64.5*12);this.entityHeight=Math.round(41.5*12)}this.visibleEntities=[];this.depTypeOptions=new Object};E.prototype.appendNavigationPath=function(t){var e=this.navigationPathLabel.getText()+"--\x3e"+t;this.setNavigationPath(e);this.navigationPathLabel.setText(e)};E.prototype.onAfterRendering=function(){jQuery(window).unbind("resize",jQuery.proxy(this.onwindowresize,this));jQuery(window).bind("resize",jQuery.proxy(this.onwindowresize,this));if(this.getViewType()==m.SOLUTION_VIEW){var t=this.$("solutionInnerContainer");var e;var i;var o;var s;var r=5;this.innerLeftMargine=t[0].offsetLeft;this.innerTopMargine=t[0].offsetTop;var l=this.getSystems();var e;var h;var d;var p;var g;for(var u=0;u<l.length;u++){e=l[u].$();h=l[u].left;d=l[u].top;p=h+this.innerLeftMargine;g=d+this.innerTopMargine;l[u].left=p;l[u].top=g;e.css({left:p,top:g})}var c=this.getConnectionEntities();var y=0;for(var u=0;u<c.length;u++){e=c[u].$();h=c[u].left;d=c[u].top;p=h+this.innerLeftMargine;g=d+this.innerTopMargine;y=c[u].top;c[u].left=p;c[u].top=g;e.css({left:p,top:g});var f=c[u].$("connectionLabel");var E=c[u].width-68;f.css({"max-width":E})}if(this.getSolutionType()==V.DEPLOYMENT_VIEW){var T=this.$("deploymentTypeContainer");var L=t[0].offsetWidth;var b=this.entityHeight+90+10;T.css({left:this.innerLeftMargine,top:b,width:L});if(null!=this.selectedOptionEntity){var C=this.depTypeOptions[this.selectedOptionEntity.getId()];if(this.getShowDeploymentTypeSection()==true&&C.length<=0){var S=t[0].offsetHeight-40;t.css({height:S})}}}if(this.getSolutionOptionType()==w.ENTITY){var H=this.$("optionContainer");var L=t[0].offsetWidth-10;var I=this.entityHeight+90+10+5;if(this.getSolutionType()==V.DEPLOYMENT_VIEW){I=y}if(this.getShowDeploymentTypeSection()==true)I=I+40;H.css({left:this.innerLeftMargine+5,top:I,width:L})}if(this.getSolutionType()==V.COMPONENT_VIEW){this.compViewBtn.addStyleClass("selectedView");this.depViewBtn.removeStyleClass("selectedView")}else if(this.getSolutionType()==V.DEPLOYMENT_VIEW){this.depViewBtn.addStyleClass("selectedView");this.compViewBtn.removeStyleClass("selectedView")}}else if(this.getViewType()==m.SELECTION_VIEW){var O=this.$("container");var l=this.getSystems();var W=l[0];var x=l[0].$();if(l[0].entityMaximized==true)this._animateMaximizeView(W,O);else if(l[0].expVisible==true){var M=this.windowWidth-12;var D=this.windowHeight;W.sViewWidth=M-this.entityWidth;W.sViewHeight=D;x.css({position:"relative"});O.css({left:10,top:0,width:M,height:"100%"});var N=jQuery(document.getElementById("SMV"));setTimeout(function(){N.css({display:"block"},1e3)},1e3)}else this._animateSelectionView(O)}else if(this.getViewType()==m.DEPENDENCY_VIEW&&this.currentView==v.NETWORK_VIEW){var B=this.$("boxViewContainer");this.boxLeftMargine=B[0].offsetLeft;this.boxTopMargine=B[0].offsetTop;B.css("display","none");var _=this.getBoxDependencyLevels();if(_){for(var u=0;u<_.length;u++){var $=this.$("boxViewLabel"+u);$.css("display","none")}}var z=this.$("viewContainer");var k=z[0].scrollWidth-10;var P=z[0].scrollHeight-10;this.svgForConnections=a.getSVG(k,P,this.getId()+"-viewContainer");this.connection=n;this.connection.svgForConnections=this.svgForConnections;this.connection.renderConnections(this.getSystems(),this.getConnectionEntities(),this.getConnectionLine())}else if(this.getViewType()==m.DEPENDENCY_VIEW&&this.currentView==v.BOX_VIEW){var B=this.$("boxViewContainer");var e;var i;var o;var s;var r=5;this.boxLeftMargine=B[0].offsetLeft;this.boxTopMargine=B[0].offsetTop;var R=30;var A=this.entityHeight;var l=this.getSystems();var e;var h;var d;var p;var g;for(var u=0;u<l.length;u++){e=l[u].$();h=l[u].left;d=l[u].top;p=h+this.boxLeftMargine;g=d+this.boxTopMargine;l[u].left=p;l[u].top=g;e.css({left:p,top:g})}var c=this.getConnectionEntities();for(var u=0;u<c.length;u++){e=c[u].$();h=c[u].left;d=c[u].top;p=h+this.boxLeftMargine;g=d+this.boxTopMargine;c[u].left=p;c[u].top=g;e.css({left:p,top:g})}var X=this.boxLeftMargine+r;var j=this.boxModeHeight+r*2+this.boxTopMargine;var _=this.getBoxDependencyLevels();var F="Systems";var q="Systems";var Y=this;if(_){setTimeout(function(){for(var t=0;t<_.length;t++){if(Y.hasBoxThirdLevel==true){var e=Y.$("boxViewLabel"+t);j+=(Y.entityHeight+r)*t;e.css({left:X,top:j,width:R,height:A,display:"block"});var i=Y.$("boxViewLabel"+t+"Level");i.css({width:A,height:A})}}},1e3)}}if(this.getViewType()==m.DEPENDENCY_VIEW&&this.currentView==v.NETWORK_VIEW){this.networkViewBtn.addStyleClass("selectedView");this.boxViewBtn.removeStyleClass("selectedView")}if(this.getViewType()==m.DEPENDENCY_VIEW&&this.currentView==v.BOX_VIEW){this.boxViewBtn.addStyleClass("selectedView");this.networkViewBtn.removeStyleClass("selectedView")}if(this.getViewType()==m.DEPENDENCY_VIEW){var G=jQuery.ui?jQuery.ui.version||"pre 1.6":"jQuery-UI not detected";var O=this.$("viewContainer");var K=this.$("navigation");var Y=this;var O=this.$("viewContainer");var Z=Number(O[0].scrollHeight);var U=Number(O[0].scrollWidth);var Q=Number(O.height());var J=Number(O.width());if(U>J||Z>Q){if(K.css("display")=="none"){K.show(0);Y.getVisibleRegion(0);K.hide(0)}else{Y.getVisibleRegion(0)}}else K.hide(0);var tt=this.$("navigation_navigator");var Y=this;tt.bind("drag",function(t){Y.calculateNavigationMovement(O,tt)});tt.draggable({containment:K});var et=this.$("navigation_header_arrowdown");var it=this.$("navigation_header_arrowup");et.show();et.click(function(t){K.animate({height:"0px"},1e3,"swing",function(t){tt.hide()});et.hide();it.show();t.stopPropagation()});it.click(function(t){K.animate({height:"29%"},1e3,"swing");it.hide();et.show();tt.show();t.stopPropagation()});K.bind("drag");K.draggable({cancel:"div.navigationHeader",containment:O})}};E.prototype.calculateNavigationMovement=function(t,e){var i=t.height()/e.height();var n=t.width()/e.width();t.scrollTop(e.css("top").split("px")[0]*i);t.scrollLeft(e.css("left").split("px")[0]*n);var o=this.getConnectionEntities();for(var s=0;s<o.length;s++){if(this.getVisibleDependency()==y.BOTH&&this.currentView==v.NETWORK_VIEW){if(o[s].toolPopup.isOpen())o[s].toolPopup.close()}}};E.prototype.getVisibleRegion=function(){var t=this.$("viewContainer");var e=this.$("navigation");var i=this.$("navigation_navigator");e.css({height:"29%"});setTimeout(function(){a.convertHtmltoCanvas(t,e)},1e3);e.hide();setTimeout(function(){e.show("slow");e.animate({height:"29%"},100,"swing",function(t){i.show("slow")});var n=Number(t[0].scrollHeight);var o=Number(t[0].scrollWidth);var s=Number(t.height());var a=Number(t.width());var r=s/n;var l=a/o;setTimeout(function(){var t=Number(e[0].scrollHeight);var n=Number(e[0].scrollWidth);i.height(t*r);i.width(n*l);i.show();i.css({left:0,top:0})},1500)},1e3)};E.prototype.onmouseenter=function(t){var i=t.oSource;var n=t.target;var o;var s;var a=false;var r=false;var l=0;for(var h=0;h<this.getConnectionEntities().length;h++){if(this.getConnectionEntities()[h].holdDisplay==true){r=true;l++}}if(!r||l>1){if(i instanceof e){this.lindkedEntities=[];var d=this.getConnectionEntities();for(var h=0;h<d.length;h++){if(i.getId()!=d[h].getId()){jQuery(document.getElementById(d[h].getId()+"connectionRow")).css({"box-shadow":"none"});d[h].holdDisplay=false;d[h].toolPopup.close()}else{jQuery(document.getElementById(d[h].getId()+"connectionRow")).css({"box-shadow":"rgb(0, 0, 0) 0px 0px 20px"})}}o=this.getConnectors();for(var h=0;h<o.length;h++){if(o[h].getSource()==i.getConnectionId())this.lindkedEntities.push(o[h].getTarget());if(o[h].getTarget()==i.getConnectionId())this.lindkedEntities.push(o[h].getSource())}s=this.getSystems();var p;var g;for(var h=0;h<s.length;h++){p=false;for(var u=0;u<this.lindkedEntities.length;u++){if(s[h].getSystemId()==this.lindkedEntities[u]){p=true;if(i.getLinkedHeader()&&""!=i.getLinkedHeader()){a=false;for(var c=0;c<s[h].propertyHeaders.length;c++){g=s[h].propertyHeaders[c];if(i.getLinkedHeader()==g.getHeader()){if(g.getSelected()!=true){g.setSelected(true);s[h].selectedIndex=c;a=true}else{s[h].selectedIndex=c;this.filterOverlay(s[h],i.getLinkId());s[h].$("innerOverlay").css({display:"block"});s[h].$("overlay").css({display:"block"})}}else s[h].propertyHeaders[c].setSelected(false);s[h].showOverlay=false;s[h].overlayFilter=""}if(a==true&&s[h].showOverlay==false){s[h].showOverlay=true;s[h].overlayFilter=i.getLinkId();s[h].invalidate()}}}}if(p==false){if(s[h].showOverlay==true)s[h].invalidate();else{s[h].$("innerOverlay").css({display:"none"});s[h].$("overlay").css({display:"none"})}s[h].showOverlay=false;s[h].overlayFilter=""}}}}};E.prototype.filterOverlay=function(t,e){var i=t.oVLayoutOverlay.getContent();var n;var s;for(var a=0;a<i.length;a++){n=i[a];if(n instanceof o){s=n.getLinearRows();for(var r=0;r<s.length;r++){if(e==s[r].getLinkSource()){n.$().css({display:"block"});s[r].$().css({display:"block"})}else{n.$().css({display:"none"});s[r].$().css({display:"none"})}}}else{if(e==n.getLinkSource()){n.$().css({display:"block"})}else{n.$().css({display:"none"})}}}};E.prototype.showAllOverlay=function(t,e){var i=t.oVLayoutOverlay.getContent();var n;for(var o=0;o<i.length;o++){n=i[o];n.$().css({display:"block"})}};E.prototype.showOverlay=function(t,e){jQuery(document.getElementById(t+"-overlay")).css({display:e});jQuery(document.getElementById(t+"-innerOverlay")).css({display:e})};E.prototype.onmouseleave=function(t){var i=t.oSource;var n=t.target;this.lindkedEntities=[];var o;var s;var a=false;var r=false;var l=0;for(var h=0;h<this.getConnectionEntities().length;h++){if(this.getConnectionEntities()[h].holdDisplay==true){r=true;l++}}if(!(r&&l<2)){if(i instanceof e){if(i.holdDisplay!=true){jQuery(document.getElementById(i.getId()+"connectionRow")).css({"box-shadow":"none"});o=this.getConnectors();for(var h=0;h<o.length;h++){if(o[h].getSource()==i.getConnectionId())this.lindkedEntities.push(o[h].getTarget());if(o[h].getTarget()==i.getConnectionId())this.lindkedEntities.push(o[h].getSource())}s=this.getSystems();for(var h=0;h<s.length;h++){for(var d=0;d<this.lindkedEntities.length;d++){if(s[h].getSystemId()==this.lindkedEntities[d]){s[h].$("innerOverlay").css({display:"none"});s[h].$("overlay").css({display:"none"});s[h].showOverlay=false;s[h].overlayFilter=""}}}}}}};E.prototype.getCurrentSolutionView=function(){return this.currentSolutionView};E.prototype.getCurrentDependencyView=function(){return this.currentView};E.prototype.setEnableLoadSolution=function(t){if(t==false){this.compViewBtn.addStyleClass("sapLandviszBtnDisable");this.depViewBtn.addStyleClass("sapLandviszBtnDisable")}else if(t==true){this.compViewBtn.removeStyleClass("sapLandviszBtnDisable");this.depViewBtn.removeStyleClass("sapLandviszBtnDisable")}this.compViewBtn.setEnabled(t);this.depViewBtn.setEnabled(t)};E.prototype.getSelectedOption=function(){return this.selectedOptionEntity};E.prototype.onfocusout=function(t){this.compViewBtn};E.prototype.fetchSelectedOption=function(){return this.selectedOptionEntity};E.prototype.exit=function(){jQuery(window).unbind("resize",jQuery.proxy(this.onwindowresize,this))};E.prototype.getViewConnectedLayout=function(){var t;var e;var n;var e;var o=this.getConnectors();n=this.oHLayoutOptions.getContent();for(var s=1;s<n.length;s++){if(n[s].getSelected()==true){e=n[s].getOptionSources();break}}var a=o[0].getSource();var r=[];var l;var h;for(var d=0;d<e.length;d++){l=new i;h=e[d].getSource();l.setSource(a);l.setTarget(h);r.push(l)}t=this.connection.getBoxViewConnectedNodesLayout(r);return t};E.prototype.getEntityConnectedLayout=function(){var t;var e;var i=this.getConnectors();var n;var o=[];for(var s=0;s<i.length;s++){n=this.getOptionConnector(i[s]);if(""!==n)o.push(n);else o.push(i[s])}t=this.connection.getBoxViewConnectedNodesLayout(o);return t};E.prototype.getOptionConnector=function(t){var e=this.getSolutionOptions();var n;var o;var s;var a;for(var r=0;r<e.length;r++){if(e[r].getCurrentEntity()==t.getTarget()){n=e[r].getOptionEntities();for(var l=0;l<n.length;l++){a=n[l].getOptionSources()[0].getSource();if(n[l].getSelected()==true&&a!=t.getTarget()){s=new i;s.setSource(t.getSource());n[l].getOptionSources()[0].getSource();s.setTarget(n[l].getOptionSources()[0].getSource());this.srcEntity=a;return s}}}}return""};E.prototype.setHeight=function(t){var e=jQuery(window);if(t&&""!=t)this.windowHeight=t;else this.windowHeight=e.height()};E.prototype.setWidth=function(t){var e=jQuery(window);if(t&&""!=t){this.windowWidth=t}else{this.windowWidth=e.width()}};return E});
//# sourceMappingURL=LandscapeViewer.js.map