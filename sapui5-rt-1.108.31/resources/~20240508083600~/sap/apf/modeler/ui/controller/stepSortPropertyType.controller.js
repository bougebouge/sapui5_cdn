/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.define(["sap/apf/modeler/ui/controller/sortPropertyType","sap/ui/thirdparty/jquery"],function(e,jQuery){"use strict";var t=sap.apf.modeler.ui.controller.sortPropertyType.extend("sap.apf.modeler.ui.controller.stepSortPropertyType",{onBeforeRendering:function(){var e=this;e.byId("idGridSortLabel").setSpan("L4 M4 S4");e.byId("idGridSortProperty").setSpan("L2 M2 S2");e.byId("idGridSortDirectionLabel").setSpan("L2 M2 S2");e.byId("idGridSortDirection").setSpan("L2 M2 S2");e.byId("idGridIconLayout").setSpan("L2 M2 S2")},updateOfConfigurationObjectOfSubclass:function(e){var t=this;t.oParentObject.setTopNSortProperties(e)},getAllPropertiesAsPromise:function(){var e=this,t,r,o;var i=sap.apf.modeler.ui.utils.textManipulator;var n=jQuery.Deferred();e.oParentObject.getConsumablePropertiesForTopN().done(function(a){t=a.consumable;r=e.getSelectedSortProperty();if(r!==undefined){o=t.indexOf(r)!==-1?t:t.concat(r);t=a.available.indexOf(r)!==-1?o:t.concat(i.addPrefixText([r],e.oTextReader));r=a.available.indexOf(r)!==-1?r:i.addPrefixText([r],e.oTextReader)[0]}n.resolve({aAllProperties:t,sSelectedKey:r})});return n.promise()},getOrderBy:function(){var e=this;return e.oParentObject.getTopN().orderby},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObject();e.byId("idSortDirection").setSelectedKey("true")},removePropertyFromParentObject:function(){var e=this;e.updateOfConfigurationObject()},addPropertyAsPromise:function(){var e=this;var t=jQuery.Deferred();var r=sap.apf.modeler.ui.utils.CONSTANTS.events;e.oParentObject.getConsumablePropertiesForTopN().done(function(o){e.getView().fireEvent(r.ADDPROPERTY,{oSourceView:e.getView(),sProperty:o.consumable[0],sContext:e.getView().getViewData().oPropertyTypeData.sContext});e.oConfigurationEditor.setIsUnsaved();t.resolve()});return t.promise()}});return t},true);
//# sourceMappingURL=stepSortPropertyType.controller.js.map