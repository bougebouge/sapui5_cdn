/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.apf.modeler.ui.utils.navigationHandler");sap.apf.modeler.ui.utils.navigationHandler=function(){"use strict";var a,i={};var o=function(a){a.close()};var n=function(){var a=this.configListInstance;var n=this.callback;var t=function(i){a.configEditor.save(function(o,n,t){a.configId=o;a.configurationHandler.memorizeConfiguration(o);if(t===undefined){if(typeof i==="function"){i()}var e=a.oCoreApi.createMessageObject({code:"11513"});a.oCoreApi.putMessage(e)}else{var e=a.oCoreApi.createMessageObject({code:"11514"});a.oCoreApi.putMessage(e)}})};o(i.oConfirmNavigationDialog);if(typeof n.yes==="function"){n.yes(t)}};var t=function(){var a=this.configListInstance;var n=this.callback;o(i.oConfirmNavigationDialog);a.configurationHandler.resetConfiguration(a.configId);if(typeof n.no==="function"){n.no()}};var e=function(){var a=this.isValidationCheck;var n=this.callback;if(!a){o(i.oConfirmNavigationDialog)}else{o(i.oConfirmValidationDialog)}if(typeof n.cancel==="function"){n.cancel()}else if(typeof n.no==="function"&&a){n.no()}};var r=function(a,i){if(i==="naviagtionDialog"){sap.ui.core.Fragment.byId("idMessageDialogFragment","idMessageDialog").setTitle(a.getText("warning"));sap.ui.core.Fragment.byId("idMessageDialogFragment","idYesButton").setText(a.getText("yes"));sap.ui.core.Fragment.byId("idMessageDialogFragment","idNoButton").setText(a.getText("no"));sap.ui.core.Fragment.byId("idMessageDialogFragment","idCancelButton").setText(a.getText("cancel"))}else if(i==="validationDialog"){sap.ui.core.Fragment.byId("idMandatoryValidationDialogFragement","idMandatoryValidationDialog").setTitle(a.getText("warning"));sap.ui.core.Fragment.byId("idMandatoryValidationDialogFragement","idYesButton").setText(a.getText("yes"));sap.ui.core.Fragment.byId("idMandatoryValidationDialogFragement","idNoButton").setText(a.getText("no"))}};var g=function(a,o,g){var l=a.oCoreApi;var s=l.getText("unsavedConfiguration");var d=Object.keys(o)[0];var f={handleNavigationWithSave:n,handleNavigationWithoutSave:t,handlePreventNavigation:e,configListInstance:a,callback:g};f[d]=o[d];i.oConfirmNavigationDialog=sap.ui.xmlfragment("idMessageDialogFragment","sap.apf.modeler.ui.fragment.unsavedDataConfirmationDialog",f);a.getView().addDependent(i.oConfirmNavigationDialog);r(l,"naviagtionDialog");var c=new sap.m.Text;c.setText(s);i.oConfirmNavigationDialog.removeAllContent();i.oConfirmNavigationDialog.addContent(c);i.oConfirmNavigationDialog.attachAfterClose(function(){i.oConfirmNavigationDialog.destroy()});i.oConfirmNavigationDialog.open()};var l=function(a,i){g(a,{isSwitchConfiguration:true},i)};var s=function(){var a=this.callback;o(i.oConfirmValidationDialog);if(typeof a.yes==="function"){a.yes()}};var d=function(a,o,n){var t=a.oCoreApi;var g=t.getText("mandatoryField");var l=Object.keys(o)[0];var d={handleValidationNavigation:s,handlePreventNavigation:e,configListInstance:a,callback:n};d[l]=o[l];i.oConfirmValidationDialog=sap.ui.xmlfragment("idMandatoryValidationDialogFragement","sap.apf.modeler.ui.fragment.mandatoryDialog",d);a.getView().addDependent(i.oConfirmValidationDialog);r(t,"validationDialog");var f=new sap.m.Text;f.setText(g);i.oConfirmValidationDialog.removeAllContent();i.oConfirmValidationDialog.addContent(f);i.oConfirmValidationDialog.attachAfterClose(function(){i.oConfirmValidationDialog.destroy()});i.oConfirmValidationDialog.open()};var f=function(a,i){d(a,{isValidationCheck:true},i)};var c=function(){return{throwLossOfDataPopup:l,throwMandatoryPopup:f}};return{getInstance:function(){return a||(a=c())}}}();
//# sourceMappingURL=navigationHandler.js.map