{"version":3,"file":"request.js","names":["sap","ui","define","utils","Filter","FilterTerm","filterSimplify","Request","oInject","oConfig","oMessageHandler","instances","messageHandler","oCoreApi","coreApi","sServiceRootPath","service","selectProperties","oUriGenerator","getUriGenerator","oMessageObject","undefined","createMessageObject","code","aParameters","id","putMessage","metadataPromise","getMetadata","this","type","sendGetInBatch","oFilter","fnCallback","oRequestOptions","oSelectionValidationRequest","done","oMetadata","getXsrfToken","xsrfToken","oUriComponents","getUriComponents","entityType","sEntitySet","snavigationProperty","entitySet","navigationProperty","check","oFilterApplicableForRequest","filterReduction","checkFilterForRequiredProperties","getProperties","restrictToProperties","getFilterableProperties","getStartParameterFacade","isFilterReductionActive","FilterReduction","reduceFilter","checkRequestOptionsConsistency","oPaging","paging","oSortingFields","orderby","dataRequestUri","buildUri","formatValue","batchRequests","requestUri","method","headers","getCore","getConfiguration","getLanguage","addSelectionValidationRequest","getAbsolutePath","oRequest","serviceMetadata","getODataModel","getServiceMetadata","data","__batchRequests","fnSuccess","response","oResponse","getEntityTypeMetadata","entityTypeMetadata","messageText","sUrl","__batchResponses","results","metadata","__count","count","parseInt","selectionValidation","message","sMessage","sErrorDetails","body","extractOdataErrorResponse","sHttpStatusCode","statusCode","error","window","console","trace","isOwnException","fnError","messageObject","statusText","odataRequest","OData","batchHandler","requiredFilterProperties","selectionFilter","filterForRequest","copy","addAnd","selectionValidationRequestUri","push","sProperty","value","strDelimiter","oEntityMetadata","getPropertyMetadata","dataType","escapeOdata","aPropertyNames","i","Object","getOwnPropertyNames","length","aFilterableProperties","sRequiredFilterProperty","oEntityTypeMetadata","getEntityTypeAnnotations","oMessageObject2","requiresFilter","requiredProperties","jQuery","inArray","aPropertiesInFilter","apf","core"],"sources":["request-dbg.js"],"mappings":";;;;;AAMAA,IAAIC,GAAGC,OAAO,CACb,sBACA,4BACA,gCACA,qCACE,SAASC,EAAOC,EAAQC,EAAYC,GACtC,aAYA,IAAIC,EAAU,SAASC,EAASC,GAC/B,IAAIC,EAAkBF,EAAQG,UAAUC,eACxC,IAAIC,EAAWL,EAAQG,UAAUG,QACjC,IAAIC,EAAmBN,EAAQO,QAC/B,IAAIC,EAAmBR,EAAQQ,iBAC/B,IAAIC,EAAgBL,EAASM,kBAC7B,IAAIC,EACJ,GAAIL,IAAqBM,UAAW,CACnCD,EAAiBV,EAAgBY,oBAAoB,CACpDC,KAAO,OACPC,YAAc,CAAEf,EAAQgB,MAEzBf,EAAgBgB,WAAWN,EAC5B,CACA,IAAIO,EAAkBd,EAASe,YAAYb,GAC3Cc,KAAKC,KAAOrB,EAAQqB,KAWpBD,KAAKE,eAAiB,SAASC,EAASC,EAAYC,EAAiBC,GACpER,EAAgBS,KAAK,SAASC,GAC7BxB,EAASyB,aAAavB,GAAkBqB,KAAK,SAASG,GACrD,IAAIC,EAAiBH,EAAUI,iBAAiBhC,EAAQiC,YACxD,IAAIC,EAAYC,EAChB,GAAIJ,EAAgB,CACnBG,EAAaH,EAAeK,UAC5BD,EAAsBJ,EAAeM,kBACtC,CACApC,EAAgBqC,MAAMJ,IAAetB,UAAW,gFAAkFZ,EAAQiC,YAC1IhC,EAAgBqC,MAAMH,IAAwBvB,UAAW,qFAAuFZ,EAAQiC,YAExJ,IAAIM,EACJ,IAAIC,EACJC,EAAiClB,GACjC,GAAIA,GAAWA,EAAQmB,cAAe,CACrCH,EAA8BhB,EAAQoB,qBAAqBf,EAAUgB,wBAAwBV,IAE7F,GAAI9B,EAASyC,0BAA0BC,0BAA2B,CACjEN,EAAkB,IAAI3C,EAAekD,gBACrCR,EAA8BC,EAAgBQ,aAAa/C,EAAiBsC,EAC7E,CACD,CACAU,EAA+BxB,GAC/B,IAAIyB,EAAUzB,GAAmBA,EAAgB0B,OACjD,IAAIC,EAAiB3B,GAAmBA,EAAgB4B,QACxD,IAAIC,EAAiB7C,EAAc8C,SAAStD,EAAiBiC,EAAY1B,EAAkB+B,EAA6BhB,EAAS6B,EAAgBF,EAAStC,UAAW4C,EAAarB,EAAqBP,GAEvM,IAAI6B,EAAgB,CAAE,CACrBC,WAAaJ,EACbK,OAAS,MACTC,QAAU,CACT,kBAAoBrE,IAAIC,GAAGqE,UAAUC,mBAAmBC,cACxD,eAAiBjC,KAGnBkC,IACA,IAAIN,EAAajD,EAAcwD,gBAAgB3D,GAC/CoD,EAAaA,EAAa,SAC1B,IAAIQ,EAAW,CACbP,OAAS,OACTC,QAAU,CACT,eAAiB9B,GAElB4B,WAAaA,EACbS,gBAAiBvC,EAAUwC,gBAAgBC,qBAC3CC,KAAO,CACNC,gBAAkBd,IAGrB,IAAIe,EAAY,SAASF,EAAMG,GAE9B,IAAIC,EAAY,CAAC,EACjBtE,EAASuE,sBAAsB3E,EAAQO,QAASP,EAAQiC,YAAYN,KAAK,SAASiD,GACjF,IAAIC,EACJ,IAGC,IAAIC,EAAO,GACX,GAAIR,GAAQA,EAAKS,kBAAoBT,EAAKS,iBAAiB,GAAGT,KAAM,CACnEI,EAAUJ,KAAOA,EAAKS,iBAAiB,GAAGT,KAAKU,QAC/CN,EAAUO,SAAWL,EACrB,GAAIN,EAAKS,iBAAiB,GAAGT,KAAKY,QAAS,CAC1CR,EAAUS,MAAQC,SAASd,EAAKS,iBAAiB,GAAGT,KAAKY,QAAS,GACnE,CAEA,GAAGZ,EAAKS,iBAAiB,IAAMT,EAAKS,iBAAiB,GAAGT,KAAK,CAC5DI,EAAUW,oBAAsBf,EAAKS,iBAAiB,GAAGT,KAAKU,OAC/D,CACAxD,EAAWkD,EAAW,KACvB,MAAO,GAAIJ,GAAQA,EAAKS,iBAAiB,IAAMT,EAAKS,iBAAiB,GAAGN,UAAYH,EAAKS,iBAAiB,GAAGO,QAAS,CACrHR,EAAOL,EAASf,WAChB,IAAI6B,EAAWjB,EAAKS,iBAAiB,GAAGO,QACxC,IAAIE,EAAgBlB,EAAKS,iBAAiB,GAAGN,SAASgB,KACtDZ,EAAcnF,EAAMgG,0BAA0BF,GAC9C,IAAIG,EAAkBrB,EAAKS,iBAAiB,GAAGN,SAASmB,WACxDlB,EAAYzE,EAAgBY,oBAAoB,CAC/CC,KAAO,OACPC,YAAc,CAAE4E,EAAiBJ,EAAUV,EAAaC,KAEzD7E,EAAgBgB,WAAWyD,EAC5B,KAAO,CACNI,EAAOL,EAASf,YAAcJ,EAC9BoB,EAAYzE,EAAgBY,oBAAoB,CAC/CC,KAAO,OACPC,YAAc,CAAE,UAAW,gBAAiB,gBAAiB+D,KAE9D7E,EAAgBgB,WAAWyD,EAC5B,CAUD,CATE,MAAMmB,GACPhB,EAAcgB,GAASA,EAAMP,SAAW,GACxCQ,OAAOC,QAAQC,MAAM,yCAA2CnB,GAChE,IAAK5E,EAAgBgG,eAAeJ,GAAQ,CAC3C5F,EAAgBgB,WAAWhB,EAAgBY,oBAAoB,CAC9DC,KAAO,OACPC,YAAc,CAAE8D,KAElB,CACD,CACD,EACD,EACA,IAAIqB,EAAU,SAASL,GACtB,IAAIN,EAAW,gBACf,IAAIY,EACJ,IAAIX,EAAgB,gBACpB,IAAIV,EAAOxB,EACX,GAAIuC,EAAMP,UAAY1E,UAAW,CAChC2E,EAAWM,EAAMP,OAClB,CACA,IAAIK,EAAkB,UACtB,GAAIE,EAAMpB,UAAYoB,EAAMpB,SAASmB,WAAY,CAChDD,EAAkBE,EAAMpB,SAASmB,WACjCJ,EAAgBK,EAAMpB,SAAS2B,YAAc,GAC7CtB,EAAOe,EAAMpB,SAASf,YAAcJ,CACrC,CACA,GAAIuC,EAAMM,eAAiBN,EAAMM,cAAc9E,OAAS,gBAAiB,CACxEpB,EAAgBgB,WAAW4E,EAAMM,eACjC3E,EAAWqE,EAAMM,cAClB,KAAO,CACNA,EAAgBlG,EAAgBY,oBAAoB,CACnDC,KAAO,OACPC,YAAc,CAAE4E,EAAiBJ,EAAUC,EAAeV,KAE3D7E,EAAgBgB,WAAWkF,GAC3B3E,EAAW2E,EACZ,CACD,EACA/F,EAASiG,aAAanC,EAAUM,EAAW0B,EAASI,MAAMC,cAE1D,SAASvC,IACR,GAAGtC,GAA+BA,EAA4B8E,0BAA4B9E,EAA4B+E,gBAAgB,CACrI,IAAIC,EAAmBnE,EAA4BoE,OACnDD,EAAiBE,OAAOlF,EAA4B+E,iBAEpD,GAAIrG,EAASyC,0BAA0BC,0BAA2B,CACjE4D,EAAmBlE,EAAgBQ,aAAa/C,EAAiByG,EAClE,CAEA,IAAIG,EAAgCpG,EAAc8C,SAAStD,EAAiBiC,EAAYR,EAA4B8E,yBAA0BE,EAAkBnF,EAASX,UAAWA,UAAWA,UAAW4C,EAAarB,EAAqBP,GAC5O6B,EAAcqD,KAAK,CAClBpD,WAAamD,EACblD,OAAS,MACTC,QAAU,CACT,kBAAoBrE,IAAIC,GAAGqE,UAAUC,mBAAmBC,cACxD,eAAiBjC,IAGpB,CACD,CACA,SAAS0B,EAAYuD,EAAWC,GAC/B,IAAIC,EAAe,IACnB,IAAIC,EAAkBtF,EAAUuF,oBAAoBjF,EAAY6E,GAChE,GAAIG,GAAmBA,EAAgBE,SAAU,CAChD,OAAO1H,EAAM8D,YAAYwD,EAAOE,EACjC,CACA,UAAWF,IAAU,SAAU,CAC9B,OAAOA,CACR,CACA,OAAOC,EAAevH,EAAM2H,YAAYL,GAASC,CAClD,CACA,SAAShE,EAA+BxB,GACvC,IAAI6F,EAAgBC,EACpB,IAAK9F,EAAiB,CACrB,MACD,CACA6F,EAAiBE,OAAOC,oBAAoBhG,GAC5C,IAAI8F,EAAI,EAAGA,EAAID,EAAeI,OAAQH,IAAK,CAC1C,GAAID,EAAeC,KAAO,WAAaD,EAAeC,KAAO,SAAU,CACtEtH,EAAgBgB,WAAWhB,EAAgBY,oBAAoB,CAC9DC,KAAO,OACPC,YAAc,CAAEmB,EAAYoF,EAAeC,MAE7C,CACD,CACD,CACA,SAAS9E,EAAiClB,GACzC,IAAIoG,EAAwB/F,EAAUgB,wBAAwBV,GAC9D,IAAI0F,EAA0B,GAC9B,IAAIC,EAAsBjG,EAAUkG,yBAAyB5F,GAC7D,IAAI6F,EACJ,GAAIF,EAAoBG,iBAAmBpH,WAAaiH,EAAoBG,iBAAmB,OAAQ,CACtG,GAAIH,EAAoBI,qBAAuBrH,UAAW,CACzDgH,EAA0BC,EAAoBI,kBAC/C,CACD,CACA,GAAIL,IAA4B,GAAI,CACnC,MACD,CACA,GAAIM,OAAOC,QAAQP,EAAyBD,MAA4B,EAAG,CAC1EI,EAAkB9H,EAAgBY,oBAAoB,CACrDC,KAAO,OACPC,YAAc,CAAEmB,EAAY0F,KAE7B3H,EAAgBgB,WAAW8G,EAC5B,CACA,IAAIK,EAAsB7G,EAAQmB,gBAElC,GAAIwF,OAAOC,QAAQP,EAAyBQ,MAA0B,EAAG,CACxEL,EAAkB9H,EAAgBY,oBAAoB,CACrDC,KAAO,OACPC,YAAc,CAAEmB,EAAY0F,KAE7B3H,EAAgBgB,WAAW8G,EAC5B,CACD,CACD,EACD,EACD,CACD,EACAxI,IAAI8I,IAAIC,KAAKxI,QAAUA,EACvB,OAAOA,CACR,EAAG"}