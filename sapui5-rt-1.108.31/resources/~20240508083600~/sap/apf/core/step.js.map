{"version":3,"file":"step.js","names":["sap","ui","define","trace","filter","areRequestOptionsEqual","utils","utilsFilter","executeFilterMapping","constants","metadataProperty","jQuery","Step","oMessageHandler","oStepConfig","oFactory","sRepresentationId","oCoreApi","check","undefined","binding","id","apf","core","message","code","errorCheckConfiguration","oLabelDisplayOptions","representationMetadata","labelDisplayOptions","that","this","oBinding","oRequest","oCachedFilter","oCachedRequestOptions","filterMappingCache","responseData","oAdditionalConfigurationProperties","extend","type","title","longTitle","thumbnail","categories","destroy","getRequestConfiguration","getConfigurationById","request","getAdditionalConfigurationProperties","update","oFilterForRequest","callbackAfterRequest","selectionValidationRequest","selectionValidationRequestFilter","getFilter","bFilterChanged","isEqual","oCurrentRequestOptions","getRequestOptions","bRequestOptionsChanged","requestConfig","logCall","getMetadata","service","then","metadata","log","isEmpty","topNSettings","getSelectedRepresentation","requiredFilter","getProperties","requiredFilterProperties","requiredFilterTextProperty","getPropertyMetadata","entityType","push","selectionFilter","sendGetInBatch","logReturn","determineFilter","oCumulatedFilter","callbackFromStepFilterProcessing","newCumulativeFilter","oMergedFilter","adjustCumulativeFilter","mappingRequired","toUrlParam","oRequestConfig","filterMapping","requestForMappedFilter","selectProperties","target","slice","targetPropertyDisplayOption","TEXT","KEY_AND_TEXT","done","propertyMetadata","text","call","bind","oMappingRequest","createRequest","addAnd","copy","mergedFilter","mappedFilter","localCallback","oMappedFilter","oMessageObject","keepSource","getBinding","getContextInfo","oRequestConfiguration","oContextInfo","setData","oDataResponse","oFilterThatHasBeenUsedToRetrieveData","getRepresentationInfo","getSelectedRepresentationInfo","setSelectedRepresentation","getFilterInformation","activeStep","index","filterInformationDeferred","Deferred","key","getTextNotHtmlEncoded","when","getSelectionInformation","getFilterMappingInformation","selectionInformation","filterMappingInformation","resolve","filterMappingDeferred","mappedPropertyLabel","targetPropertyLabelKey","mappedProperty","mappingRequest","getFilterMappingValues","filterMappingValues","resolveInformationPromise","deferred","filterMappingMetadata","textProperty","mappedPropertyMetadata","MetadataProperty","mappedFilterValues","displayOption","conversionToExternalFormatIsRequired","forEach","data","convertToExternalFormat","sortByProperty","value","selectionDeferred","selectableProperty","selectablePropertyLabel","bindingConfig","requiredFilters","length","requiredFilterOptions","fieldDesc","getSortedSelections","resolveDeferred","filterValues","isFilterMapping","metadataPromise","activeStepMetadataPromise","activeStepMetadata","warningIcon","warningText","activeStepEntitySet","filterableProperties","getFilterableProperties","concat","getParameterEntitySetKeyProperties","indexOf","infoIcon","infoText","stepIndex","serialize","stepId","deserialize","oSerializableStep","getAssignedNavigationTargets","navigationTargets","initialize","createBinding","Array","putMessage","createMessageObject","constructor"],"sources":["step-dbg.js"],"mappings":"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"}