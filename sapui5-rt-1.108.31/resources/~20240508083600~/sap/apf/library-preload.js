//@ui5-bundle sap/apf/library-preload.js
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/Component", ["sap/ui/core/UIComponent","sap/apf/api"],function(t,i){"use strict";var o=sap.ui.core.UIComponent.extend("sap.apf.Component",{oApi:null,metadata:{config:{fullWidth:true},name:"CoreComponent",version:"0.0.1",publicMethods:["getApi"],dependencies:{libs:["sap.m","sap.ui.layout","sap.viz","sap.ui.comp","sap.suite.ui.commons"]}},init:function(){if(!this.oApi){this.oApi=new sap.apf.Api(this)}var t=this.oApi.getStartParameterFacade().getApplicationConfigurationPath();if(t){this.oApi.loadApplicationConfig(t)}sap.ui.core.UIComponent.prototype.init.apply(this,arguments)},createContent:function(){sap.ui.core.UIComponent.prototype.createContent.apply(this,arguments);return this.oApi.startApf()},exit:function(){try{this.oApi.destroy()}catch(t){}},getApi:function(){return this.oApi}});return o},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5). (c) Copyright 2009-2021 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/apf/abap/LrepConnector", ["sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/base/util/UriParameters","sap/base/util/merge"],function(jQuery,e,t,s){"use strict";var n=function(e){this._initClientParam();this._initLanguageParam();if(e){this._sXsrfToken=e.XsrfToken}this._sLrepUrl="/sap/bc/lrep"};n.DEFAULT_CONTENT_TYPE="application/json; charset=utf-8";n.ROUTES={CONTENT:"/content/",CSRF:"/actions/getcsrftoken/",DATA:"/flex/data/"};n.createConnector=function(e){return new n(e)};n.prototype._initClientParam=function(){var e=a("sap-client");if(e){this._sClient=e}};function a(e){return t.fromQuery(window.location.search).get(e)}n.prototype._initLanguageParam=function(){var e;e=a("sap-language")||a("sap-ui-language");if(e){this._sLanguage=e}};n.prototype._resolveUrl=function(t){if(!t.startsWith("/")){t="/"+t}var s=e(t).absoluteTo("");return s.toString()};n.prototype._getDefaultHeader=function(){return{headers:{"X-CSRF-Token":this._sXsrfToken||"fetch"}}};n.prototype._getDefaultOptions=function(e,t,a){var r;if(!t){t=n.DEFAULT_CONTENT_TYPE}else if(t.indexOf("charset")===-1){t+="; charset=utf-8"}r=s(this._getDefaultHeader(),{type:e,async:true,contentType:t,processData:false,headers:{"Content-Type":t}});if(a&&r.contentType.indexOf("application/json")===0){r.dataType="json";if(typeof a==="object"){r.data=JSON.stringify(a)}else{r.data=a}}else if(a){r.data=a}if(e==="DELETE"){delete r.data;delete r.contentType}return r};n.prototype.send=function(e,t,n,a){t=t||"GET";t=t.toUpperCase();a=a||{};e=this._resolveUrl(e);a=s(this._getDefaultOptions(t,a.contentType,n),a);return this._sendAjaxRequest(e,a)};n.prototype.deleteFile=function(e,t,s,n,a){return this._fileAction("DELETE",e,t,s,n,null,null,a)};n.prototype.upsert=function(e,t,s,n,a,r,i){var o=this;return Promise.resolve(o._fileAction("PUT",e,t,s,n,a,r,i))};n.prototype.listContent=function(e,t){var s=this._sLrepUrl+n.ROUTES.CONTENT;s+=e;var a=[];if(t){a.push({name:"layer",value:t})}s+=this._buildParams(a);return this.send(s,"GET",null,null)};n.prototype._fileAction=function(e,t,s,a,r,i,o,u){var l=this._sLrepUrl+n.ROUTES.CONTENT;l+=t+"/"+s+"."+a;var f=[];f.push({name:"layer",value:r});if(u){f.push({name:"changelist",value:u})}l+=this._buildParams(f);var p={contentType:o||n.DEFAULT_CONTENT_TYPE};return this.send(l,e.toUpperCase(),i,p)};n.prototype._getMessagesFromXHR=function(e){var t;var s;var n;var a;s=[];try{t=JSON.parse(e.responseText);if(t&&t.messages&&t.messages.length>0){n=t.messages.length;for(a=0;a<n;a++){s.push({severity:t.messages[a].severity,text:t.messages[a].text})}}}catch(e){}return s};n.prototype._sendAjaxRequest=function(e,t){var s=this._sLrepUrl;if(!s){return Promise.reject({status:"warning",messages:[{severity:"warning",text:"Flexibility Services requests were not sent. The UI5 bootstrap is configured to not send any requests."}]})}var a=s+n.ROUTES.CSRF;var r={headers:{"X-CSRF-Token":"fetch"},type:"HEAD"};if(this._sClient){r.headers["sap-client"]=this._sClient}return new Promise(function(s,n){function i(e,t,n){var a=n.getResponseHeader("X-CSRF-Token");this._sXsrfToken=a||this._sXsrfToken;var r=n.getResponseHeader("etag");var i={status:t,etag:r,response:e};s(i);jQuery.each(this._aSentRequestListeners,function(e,t){t(i)})}function o(e,t,s,n){var a=new Error(n);a.status=s;a.code=t.statusCode().status;a.messages=this._getMessagesFromXHR(t);if(!a.stack){try{throw a}catch(t){e(t)}}else{e(a)}}function u(s,a,r){this._sXsrfToken=r.getResponseHeader("X-CSRF-Token");t.headers=t.headers||{};t.headers["X-CSRF-Token"]=this._sXsrfToken;jQuery.ajax(e,t).done(i).fail(o.bind(this,n))}function l(e,s,n,i,l){if(n.status===403){jQuery.ajax(a,r).done(u.bind(this)).fail(function(){s({status:"error"})})}else if(t&&t.type==="DELETE"&&n.status===404){e()}else{o.call(this,s,n,i,l)}}var f=true;if(t&&t.type){if(t.type==="GET"||t.type==="HEAD"){f=false}else if(this._sXsrfToken&&this._sXsrfToken!=="fetch"){f=false}}if(f){jQuery.ajax(a,r).done(u.bind(this)).fail(o.bind(this,n))}else{jQuery.ajax(e,t).done(i.bind(this)).fail(l.bind(this,s,n))}}.bind(this))};n.prototype._buildParams=function(e){if(!e){e=[]}if(this._sClient){e.push({name:"sap-client",value:this._sClient})}if(this._sLanguage){e.push({name:"sap-language",value:this._sLanguage})}var t="";var s=e.length;for(var n=0;n<s;n++){if(n===0){t+="?"}else if(n>0&&n<s){t+="&"}t+=e[n].name+"="+e[n].value}return t};n.prototype.getStaticResource=function(e,t,s,a){var r=this._sLrepUrl+n.ROUTES.CONTENT;r+=e+"/"+t+"."+s;var i=[];if(!a){i.push({name:"dt",value:"true"})}r+=this._buildParams(i);return this.send(r,"GET",null,null)};n.prototype.getFileAttributes=function(e,t,s,a){var r=this._sLrepUrl+n.ROUTES.CONTENT;r+=e+"/"+t+"."+s;var i=[];i.push({name:"metadata",value:"true"});if(a){i.push({name:"layer",value:a})}r+=this._buildParams(i);return this.send(r,"GET",null,null)};return n},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/api", ["sap/apf/ui/instance","sap/apf/core/instance","sap/apf/core/messageHandler","sap/apf/core/messageDefinition","sap/apf/core/constants","sap/apf/core/utils/filterSimplify","sap/ui/thirdparty/datajs","sap/apf/utils/utils","sap/apf/utils/filter","sap/apf/utils/externalContext","sap/apf/utils/startFilterHandler","sap/apf/utils/startFilter","sap/apf/utils/filterIdHandler","sap/apf/utils/serializationMediator","sap/apf/utils/navigationHandler","sap/apf/utils/startParameter","sap/apf/messageCallbackForStartup","sap/apf/ui/representations/RepresentationInterfaceProxy","sap/base/Log","sap/ui/thirdparty/jquery"],function(t,e,r,n,a,i,s,o,c,u,f,p,l,d,g,h,m,v,C,jQuery){"use strict";function F(s,c,v){var F;var P;var A;var S;var y;var H;var x;var R;var b;var T;var M;var k;var E;var w=true;var q=jQuery.Deferred();var I=new jQuery.Deferred;var j;var L;this.type="api";this.constants={};this.constants.eventTypes=a.eventTypes;this.destroy=function(){F.activateOnErrorHandling(false);F.setMessageCallback(undefined);F.setLifeTimePhaseShutdown();if(k&&k.destroy){k.destroy()}if(P){P.destroy()}k=undefined;P=undefined;F=undefined;A=undefined;S=undefined};this.activateOnErrorHandling=function(t){return P.activateOnErrorHandling(t)};this.getStartParameterFacade=function(){return P.getStartParameterFacade()};this.getLogMessages=function(){return P.getLogMessages()};this.createStep=function(t,e,r){return P.createStep(t,e,r)};this.getActiveStep=function(){return P.getActiveStep()};this.getCategories=function(){return P.getCategories()};this.getSteps=function(){return P.getSteps()};this.getStepTemplates=function(){return P.getStepTemplates()};this.getFacetFilterConfigurations=function(){return P.getFacetFilterConfigurations()};this.getApplicationConfigProperties=function(){return P.getApplicationConfigProperties()};this.moveStepToPosition=function(t,e,r){return P.moveStepToPosition(t,e,r)};this.removeStep=function(t,e){return P.removeStep(t,e)};this.resetPath=function(){return P.resetPath()};this.setActiveStep=function(t){return P.setActiveStep(t)};this.stepIsActive=function(t){return P.stepIsActive(t)};this.updatePath=function(t){return P.updatePath(t)};this.getApfLocation=function(){return P.getUriGenerator().getApfLocation()};this.readPaths=function(t){return P.readPaths(t)};this.savePath=function(t,e,r){P.savePath(t,e,r)};this.openPath=function(t,e,r){return P.openPath(t,e,r)};this.deletePath=function(t,e){return P.deletePath(t,e)};this.addFacetFilter=function(t){k.getLayoutView().getController().addFacetFilter(t)};this.getEventCallback=function(t){return k.getEventCallback(t)};this.putMessage=function(t){return P.putMessage(t)};this.createMessageObject=function(t){return P.createMessageObject(t)};this.getTextHtmlEncoded=function(t,e){return P.getTextHtmlEncoded(t,e)};this.getTextNotHtmlEncoded=function(t,e){return P.getTextNotHtmlEncoded(t,e)};if(!v){this.loadApplicationConfig=function(t){P.loadApplicationConfig(t)}}else{this.loadApplicationConfig=function(t){}}this.createFilter=function(){return P.createFilter()};this.addPathFilter=function(t){return x.add(t)};this.updatePathFilter=function(t,e){x.update(t,e)};this.getPathFilter=function(t){return x.get(t)};this.createReadRequest=function(t){return P.createReadRequest(t)};this.createReadRequestByRequiredFilter=function(t){return P.createReadRequestByRequiredFilter(t)};this.selectionChanged=function(t){k.selectionChanged(t)};this.createApplicationLayout=function(){if(!j){j=(new sap.m.App).addStyleClass("sapApf")}return j};this.startApf=function(){var t;var e=this;var r=this.createApplicationLayout();I.done(function(){try{if(this.fnBeforeApfStartupCallback&&typeof this.fnBeforeApfStartupCallback==="function"){this.fnBeforeApfStartupCallback.apply(s,[this])}q.resolve();k.createApplicationLayout(r).then(function(){t=S.checkMode();var r=k.handleStartup(t);r.done(function(){if(e.fnAfterApfStartupCallback&&typeof e.fnAfterApfStartupCallback==="function"){e.fnAfterApfStartupCallback.apply(s,[e])}F.setLifeTimePhaseRunning()})})}catch(t){w=false}}.bind(this));return r};this.addMasterFooterContent=function(t){return k.addMasterFooterContentRight(t)};this.setEventCallback=function(t,e){switch(t){case a.eventTypes.contextChanged:k.setEventCallback(t,e);return true;case a.eventTypes.printTriggered:k.setEventCallback(t,e);return true;case a.eventTypes.format:this.customFormat(e);return true;default:return false}};this.customFormat=function(t){k.setCustomFormatExit(t)};this.setCallbackBeforeApfStartup=function(t){this.fnBeforeApfStartupCallback=t};this.setCallbackAfterApfStartup=function(t){this.fnAfterApfStartupCallback=t};this.getPropertyValuesOfExternalContext=function(t){var e=jQuery.Deferred();H.getCombinedContext().then(function(r){var n=r.getFilterTermsForProperty(t);var a=[];n.forEach(function(t){var e={Low:t.getValue(),Option:t.getOp(),High:t.getHighValue()};a.push(e)});e.resolve(a)});return e.promise()};this.startupSucceeded=function(){return w};if(s&&s.getInjections instanceof Function){if(!c){c={}}jQuery.extend(c,c,s.getInjections())}A=new(c&&c.constructors&&c.constructors.StartParameter||h)(s,v);F=new(c&&c.constructors&&c.constructors.MessageHandler||r);F.activateOnErrorHandling(true);F.setLifeTimePhaseStartup();F.loadConfig(n,true);E=c&&c.functions&&c.functions.messageCallbackForStartup||m;F.setMessageCallback(E);if(c&&c.functions&&c.functions.isUsingCloudFoundryProxy){L=c.functions.isUsingCloudFoundryProxy}else{L=function(){return false}}try{P=new(c&&c.constructors&&c.constructors.CoreInstance||e.constructor)({functions:{isUsingCloudFoundryProxy:L,getCumulativeFilter:function(){return y.getCumulativeFilter()},getCombinedContext:function(){return H.getCombinedContext()},ajax:c&&c.functions&&c.functions.ajax,serializeApfState:function(t,e){return M.serialize(t,e)},deserializeApfState:function(t){return M.deserialize(t)},odataRequest:c&&c.functions&&c.functions.odataRequest,getComponentName:function(){if(v&&v.manifest&&v.manifest["sap.app"]){return v.manifest["sap.app"].id}return s.getMetadata().getComponentName()}},instances:{messageHandler:F,startParameter:A,datajs:c&&c.instances&&c.instances.datajs||OData,component:s},constructors:{Request:c&&c.constructors&&c.constructors.Request,Metadata:c&&c.constructors&&c.constructors.Metadata,MetadataFactory:c&&c.constructors&&c.constructors.MetadataFactory,ResourcePathHandler:c&&c.constructors&&c.constructors.ResourcePathHandler,TextResourceHandler:c&&c.constructors&&c.constructors.TextResourceHandler,SessionHandler:c&&c.constructors&&c.constructors.SessionHandler,Persistence:c&&c.constructors&&c.constructors.Persistence},manifests:v,exits:c&&c.exits,coreProbe:c&&c.coreProbe,corePromise:I});b={instances:{startParameter:A,component:s,messageHandler:F},functions:{getConfigurationProperties:P.getApplicationConfigProperties,ajax:P.ajax}};H=new(c&&c.constructors&&c.constructors.ExternalContext||u)(b);R={functions:{getFacetFilterConfigurations:this.getFacetFilterConfigurations,getReducedCombinedContext:P.getReducedCombinedContext,createRequest:P.getFunctionCreateRequest()},instances:{messageHandler:F,onBeforeApfStartupPromise:q.promise()},constructors:{StartFilter:p}};y=new(c&&c.constructors&&c.constructors.StartFilterHandler||f)(R);T={functions:{setRestrictionByProperty:y.setRestrictionByProperty,getRestrictionByProperty:y.getRestrictionByProperty},instances:{messageHandler:F}};x=new(c&&c.constructors&&c.constructors.FilterIdHandler||l)(T);M=new(c&&c.constructors&&c.constructors.SerializationMediator||d)({instances:{coreApi:P,filterIdHandler:x,startFilterHandler:y,messageHandler:F}});var B={constructors:{FilterReduction:i.FilterReduction},functions:{getCumulativeFilterUpToActiveStep:P.getCumulativeFilterUpToActiveStep,getNavigationTargets:P.getNavigationTargets,getActiveStep:P.getActiveStep,createRequest:P.getFunctionCreateRequest(),getXappStateId:P.getStartParameterFacade().getXappStateId,isFilterReductionActive:P.getStartParameterFacade().isFilterReductionActive,getAllParameterEntitySetKeyProperties:P.getMetadataFacade().getAllParameterEntitySetKeyProperties},instances:{messageHandler:F,component:s,serializationMediator:M}};S=new(c&&c.constructors&&c.constructors.NavigationHandler||g)(B);k=new(c&&c.constructors&&c.constructors.UiInstance||t)({oCoreApi:P,oFilterIdHandler:x,oSerializationMediator:M,oNavigationHandler:S,oComponent:s,oStartParameter:A,oStartFilterHandler:y,functions:c&&c.functions||{},exits:c&&c.exits||{}})}catch(t){w=false;this.startApf=function(){return new sap.m.Text({text:""})};this.loadApplicationConfig=function(){return""};C.error("Caught exception during creation of APF API")}if(P){P.createRepresentation=function(t,e){var r=t.replaceAll(".","/");sap.ui.require([r],function(t){return t});var n=new sap.apf.ui.representations.RepresentationInterfaceProxy(P,k);var a=o.extractFunctionFromModulePathString(t);return new a(n,e)}}if(c&&c.probe&&typeof c.probe==="function"){c.probe({apfApi:this,coreApi:P,component:s,uiApi:k,messageHandler:F,serializationMediator:M,navigationHandler:S,startParameter:A,injectedFunctionsNavigationHandler:B&&B.functions,startFilterHandler:y,externalContext:H,filterIdHandler:x,corePromise:I})}}sap.apf.Api=F;return F},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2015 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/base/Component", ["sap/ui/core/UIComponent","sap/apf/api","sap/apf/cloudFoundry/uiHandler","sap/ui/thirdparty/jquery"],function(t,e,i,jQuery){"use strict";var n=sap.ui.core.UIComponent.extend("sap.apf.base.Component",{metadata:{manifest:"json",library:"sap.apf",publicMethods:["getApi"]},oApi:null,init:function(){var t;var e;var i;if(!this.oApi){t=n.prototype.getMetadata().getManifest();e=jQuery.extend({},true,this.getMetadata().getManifest());if(this.getMetadata().getAllProperties().injectedApfApi){i=this.getMetadata().getAllProperties().injectedApfApi.appData.Constructor}else{i=sap.apf.Api}this.oApi=new i(this,undefined,{manifest:e,baseManifest:t});if(this.oApi.startupSucceeded()){sap.ui.core.UIComponent.prototype.init.apply(this,arguments)}}else{return}if(this.getInjections()&&this.getInjections().functions&&this.getInjections().functions.isUsingCloudFoundryProxy&&typeof this.getInjections().functions.isUsingCloudFoundryProxy==="function"&&this.getInjections().functions.isUsingCloudFoundryProxy()===true){sap.apf.cloudFoundry.uiHandler.initRuntime(this)}},createContent:function(){sap.ui.core.UIComponent.prototype.createContent.apply(this,arguments);return this.oApi.startApf()},exit:function(){this.oApi.destroy()},getApi:function(){return this.oApi},getInjections:function(){return{exits:{},instances:{},functions:{},constructors:{},probe:function(){}}}});return n},true);
sap.ui.predefine("sap/apf/cloudFoundry/ajaxHandler", [],function(){"use strict";var e=function(e){var s=e.functions.coreAjax;var t=e.instances.messageHandler;var n;this.send=function(e){if(e.type==="POST"||e.type==="PUT"||e.type==="DELETE"||e.method==="POST"||e.method==="PUT"||e.method==="DELETE"){e.headers=e.headers||{};e.headers["X-CSRF-Token"]=n;if(e.data&&!e.headers["Content-Type"]){e.headers["Content-Type"]="application/json;charset=utf-8"}s(e)}else if(n===undefined){var r=e.success;var a=e.error;e.beforeSend=function(e){e.setRequestHeader("x-csrf-token","Fetch")};e.success=function(e,s,t){n=t.getResponseHeader("x-csrf-token");r(e,s,t)};e.error=function(e,s,r){n="";var o=t.createMessageObject({code:5105});t.putMessage(o);a(e,s,r)};s(e)}else{s(e)}}};sap.apf.cloudFoundry.AjaxHandler=e;return e},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/cloudFoundry/analysisPathProxy", ["sap/apf/cloudFoundry/utils"],function(a){"use strict";var s=function(s){var t=s.instances.messageHandler;var e=s.instances.coreApi;var n=s.manifests.manifest;var i=n["sap.app"].dataSources;var r=i&&i["apf.runtime.analysisPaths"]&&i["apf.runtime.analysisPaths"].uri;var u={"Content-Type":"application/json; charset=utf-8"};var c=a.resolveUri.bind(this,s.instances.coreApi);this.openPath=function(a,s){var e=c(r+"/"+a+"?$select=AnalysisPathName,SerializedAnalysisPath");y({method:"GET",url:e,dataType:"json",success:function(a){var t={AnalysisPathName:a.analysisPath.analysisPathName,SerializedAnalysisPath:JSON.parse(a.analysisPath.serializedAnalysisPath)};s({path:t,status:"successful"},d())},error:function(s,e,n,i){var r=f(s,"5252",[a],i,t);t.putMessage(r)},headers:u})};this.createPath=function(a,s,e){var n=o();if(n===undefined){s({status:"failed"},undefined,t.createMessageObject({code:5075}));return}var i=h(e);var f={analysisPathName:a,analyticalConfiguration:n,structuredAnalysisPath:JSON.stringify(i),serializedAnalysisPath:JSON.stringify(e)};y({method:"POST",url:c(r),data:JSON.stringify(f),dataType:"json",success:function(a){s({AnalysisPath:a.analysisPath,status:"successful"},d())},error:function(a,e,n,i){var r=l(a,i,t);s({status:"failed"},undefined,r)},headers:u})};this.modifyPath=function(a,s,e,n){var i=h(n);var f={analysisPathName:s,structuredAnalysisPath:JSON.stringify(i),serializedAnalysisPath:JSON.stringify(n)};y({method:"PUT",url:c(r+"/"+a),data:JSON.stringify(f),dataType:"json",success:function(){e({AnalysisPath:a,status:"successful"},d())},error:function(a,s,n,i){var r=l(a,i,t);e({status:"failed"},undefined,r)},headers:u})};this.deletePath=function(a,s){y({method:"DELETE",url:c(r+"/"+a),success:function(){s({status:"successful"},d())},error:function(a,e,n,i){var r=l(a,i,t);s({status:"failed"},undefined,r)}})};this.readPaths=function(a){function s(a){var s=[];if(a.analysisPaths!==null){a.analysisPaths.forEach(function(a){s.push({AnalysisPath:a.analysisPath,AnalysisPathName:a.analysisPathName,LastChangeUTCDateTime:a.lastChangeUtcDateTime,StructuredAnalysisPath:JSON.parse(a.structuredAnalysisPath)})})}return s}var e=o();if(e===undefined){a({status:"failed"},undefined,t.createMessageObject({code:5075}));return}var n=c(r+"?$select=AnalysisPath,AnalysisPathName,LastChangeUtcDateTime,StructuredAnalysisPath&$filter=(AnalyticalConfiguration%20eq%20'"+e+"')");y({url:n,dataType:"json",success:function(t){var e=s(t);a({paths:e,status:"successful"},d())},error:function(s,e,n,i){var r=l(s,i,t);a({status:"failed"},undefined,r)},headers:u})};function d(){return undefined}function f(a,s,t,e,n){var i=n.createMessageObject({code:s,aParameters:t});var r=l(a,e,n);i.setPrevious(r);return i}function l(a,s,t){var e=t.createMessageObject({code:"5214",aParameters:[a.status,a.statusText]});if(s){e.setPrevious(s)}return e}function o(){var a=e.getStartParameterFacade().getAnalyticalConfigurationId();return a&&a.configurationId}function h(a){var s=[];var t=a.path.steps;t.forEach(function(a){s.push({stepId:a.stepId,selectedRepresentationId:a.binding.selectedRepresentationId})});return{steps:s,indexOfActiveStep:a.path.indicesOfActiveSteps[0]}}function y(a){s.instances.ajaxHandler.send(a)}};sap.apf=sap.apf||{};sap.apf.cloudFoundry=sap.apf.cloudFoundry||{};sap.apf.cloudFoundry.AnalysisPathProxy=s;return s},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/cloudFoundry/modelerProxy", ["sap/apf/utils/proxyTextHandlerForLocalTexts","sap/apf/cloudFoundry/utils"],function(e,i){"use strict";function n(e,n){var a=n.instances.messageHandler;var t=n.manifests.manifest;var r=t["sap.app"].dataSources;var o=r&&r["apf.designTime.customer.applications"]&&r["apf.designTime.customer.applications"].uri;var l=r&&r["apf.designTime.customer.analyticalConfigurations"]&&r["apf.designTime.customer.analyticalConfigurations"].uri;var c=r&&r["apf.designTime.customer.applicationAndAnalyticalConfiguration"]&&r["apf.designTime.customer.applicationAndAnalyticalConfiguration"].uri;var u=r&&r["apf.designTime.textFileAndAnalyticalConfigurations"]&&r["apf.designTime.textFileAndAnalyticalConfigurations"].uri;var s=r&&r["apf.designTime.textFiles"]&&r["apf.designTime.textFiles"].uri;var f=r&&r["apf.designTime.vendor.importToCustomerLayer"]&&r["apf.designTime.vendor.importToCustomerLayer"].uri;var d=r&&r["apf.designTime.vendor.analyticalConfigurations"]&&r["apf.designTime.vendor.analyticalConfigurations"].uri;var p=n.instances.proxyTextHandlerForLocalTexts;var y=i.resolveUri.bind(this,n.instances.coreApi);function g(){return{}}function v(e){var i=JSON.parse(e.SerializedAnalyticalConfiguration);delete e.SerializedAnalyticalConfiguration;i.configHeader=e;e.SerializedAnalyticalConfiguration=JSON.stringify(i);return e}this.create=function(e,i,n){if(e==="application"){m(i,n)}else if(e==="configuration"&&i.CreationUTCDateTime&&i.LastChangeUTCDateTime){i=v(i);var t=i.AnalyticalConfiguration;z({type:"HEAD",url:y(l+"/"+t),success:function(){var e=a.createMessageObject({code:"5238",aParams:[t]});n(undefined,undefined,e)},error:function(e,t,r,o){if(e.status===404){S(i,function(e,a){n(i,e,a)})}else{var l=L(e,o,a);n(undefined,undefined,l)}}})}else if(e==="configuration"){i=v(i);T(i,n)}else if(e==="texts"){C(i,n)}else{a.check(false,"The create operation on entity set "+e+" is currently not supported by the modeler proxy.")}};function m(e,n){var t={applicationName:e.ApplicationName,textFile:{inDevelopmentLanguage:""}};var r="POST";var l=y(o);if(e.Application){r="PUT";l=l+"/"+e.Application}z({type:r,url:l,data:JSON.stringify(t),dataType:"json",success:function(t,o,l){if(r==="POST"&&t&&!jQuery.isEmptyObject(t)){var c={ApplicationName:e.ApplicationName,Application:t.application};n(c,g(),undefined)}else if(r==="PUT"){var c={ApplicationName:e.ApplicationName,Application:e.Application};n(c,g(),undefined)}else{var u=i.buildErrorMessage(l,"5227",[],undefined,a);n(undefined,g(),u)}},error:function(e,t,r,o){var l=i.buildErrorMessage(e,"5227",[],o,a);n(undefined,g(),l)},async:true})}function T(e,n){var t=e.Application;var r={analyticalConfigurationName:e.AnalyticalConfigurationName,application:t,serializedAnalyticalConfiguration:e.SerializedAnalyticalConfiguration,textFile:{inDevelopmentLanguage:p.createTextFileOfApplication(t)}};z({type:"POST",url:y(l),data:JSON.stringify(r),dataType:"json",success:function(e,o,l){if(e&&!jQuery.isEmptyObject(e)){var c={AnalyticalConfiguration:e.analyticalConfiguration,AnalyticalConfigurationName:r.analyticalConfigurationName};n(c,g(),undefined)}else{var u=i.buildErrorMessage(l,"5226",[t],undefined,a);n(undefined,g(),u)}},error:function(e,r,o,l){var c=i.buildErrorMessage(e,"5226",[t],l,a);n(undefined,g(),c)},async:true})}function C(e,i){var n=p.addText(e);e.TextElement=n;i(e,g())}this.readCollection=function(e,i,n,t,r){if(e==="application"){A(i)}else if(e==="configuration"){h(i,r)}else if(e==="texts"){i([],undefined)}else{a.check(false,"The read collection operation on entity set "+e+" is currently not supported by the modeler proxy.")}};function A(e){var n=y(o+"?$select=Application,ApplicationName");z({type:"GET",url:n,success:function(n,t,r){if(n&&!jQuery.isEmptyObject(n)){var o=[];if(n.applications!==null){n.applications.forEach(function(e){o.push({Application:e.application,ApplicationName:e.applicationName,SemanticObject:""})})}e(o,g(),undefined)}else{var l=i.buildErrorMessage(r,"5229",[],undefined,a);e(undefined,g(),l)}},error:function(n,t,r,o){var l=i.buildErrorMessage(n,"5229",[],o,a);e(undefined,g(),l)},async:true})}function h(e,n){var t=n.getFilterTermsForProperty("Application");var r=t[0].getValue();var o=y(u+"?$select=AnalyticalConfiguration,AnalyticalConfigurationName,SerializedAnalyticalConfiguration&$filter="+n.toUrlParam());z({type:"GET",url:o,success:function(n,t,o){if(n&&!jQuery.isEmptyObject(n)){var l=[];if(n.analyticalConfigurations!==null){n.analyticalConfigurations.forEach(function(e){l.push({AnalyticalConfiguration:e.analyticalConfiguration,Application:r,AnalyticalConfigurationName:e.analyticalConfigurationName,SerializedAnalyticalConfiguration:e.serializedAnalyticalConfiguration})})}p.initApplicationTexts(r,n.textFile.inDevelopmentLanguage);e(l,g(),undefined)}else{var c=i.buildErrorMessage(o,"5223",[r],undefined,a);e(undefined,g(),c)}},error:function(n,t,o,l){var c=i.buildErrorMessage(n,"5223",[r],l,a);e(undefined,g(),c)},async:true})}this.readEntity=function(e,i,n,t,r){if(e==="configuration"){var o=n[0].value;if(t&&t.length===2&&jQuery.inArray("CreationUTCDateTime",t)>-1&&jQuery.inArray("LastChangeUTCDateTime",t)>-1){x(o,r,i)}else{E(o,r,i)}}else{a.check(false,"The read single entity operation on entity set "+e+" is currently not supported by the modeler proxy.")}};function x(e,n,t){var r=y(l+"/"+e+"?$select=Application,CreationUtcDateTime,LastChangeUtcDateTime,ServiceInstance");z({type:"GET",url:r,success:function(r,o,l){if(r&&!jQuery.isEmptyObject(r)){var c={CreationUTCDateTime:r.analyticalConfiguration.creationUtcDateTime,LastChangeUTCDateTime:r.analyticalConfiguration.lastChangeUtcDateTime};t(c,g())}else{var u=i.buildErrorMessage(l,"5221",[n,e],undefined,a);t(undefined,g(),u)}},error:function(r,o,l,c){var u=i.buildErrorMessage(r,"5221",[n,e],c,a);t(undefined,g(),u)},async:true})}function E(e,n,t){var r=y(l+"/"+e+"?$select=AnalyticalConfigurationName,SerializedAnalyticalConfiguration");z({type:"GET",url:r,success:function(r,o,l){if(r&&!jQuery.isEmptyObject(r)){var c={Application:n,SerializedAnalyticalConfiguration:r.analyticalConfiguration.serializedAnalyticalConfiguration,AnalyticalConfiguration:e};t(c,g(),undefined)}else{var u=i.buildErrorMessage(l,"5221",[n,e],undefined,a);t(undefined,g(),u)}},error:function(r,o,l,c){var u=i.buildErrorMessage(r,"5221",[n,e],c,a);t(undefined,g(),u)},async:true})}this.update=function(e,i,n,t){if(e==="application"){var r=t[0].value;N(i,r,n)}else if(e==="configuration"&&i.CreationUTCDateTime&&i.LastChangeUTCDateTime){i=v(i);S(i,n)}else if(e==="configuration"){i=v(i);b(i,n)}else{a.check(false,"The update operation on entity set "+e+" is currently not supported by the modeler proxy.")}};function N(e,n,t){var r={applicationName:e.ApplicationName};var l=y(o+"/"+n);z({type:"PUT",url:l,data:JSON.stringify(r),dataType:"json",success:function(e,i,n){t(g(),undefined)},error:function(e,r,o,l){var c=i.buildErrorMessage(e,"5228",[n],l,a);t(g(),c)},async:true})}function b(e,n){var t=JSON.parse(e.SerializedAnalyticalConfiguration);var r=e.AnalyticalConfiguration;var o=y(l+"/"+r);var c=e.Application;t.configHeader={Application:c,AnalyticalConfiguration:r,AnalyticalConfigurationName:e.AnalyticalConfigurationName,CreationUTCDateTime:e.CreationUTCDateTime,LastChangeUTCDateTime:e.LastChangeUTCDateTime};var u={analyticalConfigurationName:e.AnalyticalConfigurationName,serializedAnalyticalConfiguration:JSON.stringify(t),textFile:{inDevelopmentLanguage:p.createTextFileOfApplication(c)}};z({type:"PUT",url:o,data:JSON.stringify(u),dataType:"json",success:function(e,i,a){n(g(),undefined)},error:function(e,t,o,l){var u=i.buildErrorMessage(e,"5233",[c,r],l,a);n(g(),u)},async:true})}function S(e,n){var t=JSON.parse(e.SerializedAnalyticalConfiguration);var r=t.configHeader.AnalyticalConfiguration;var o=y(c+"/"+r);var l=e.Application;var u={analyticalConfigurationName:e.AnalyticalConfigurationName,application:l,serializedAnalyticalConfiguration:e.SerializedAnalyticalConfiguration};z({type:"PUT",url:o,data:JSON.stringify(u),dataType:"json",success:function(e,i,a){n(g(),undefined)},error:function(e,t,o,c){var u=i.buildErrorMessage(e,"5233",[l,r],c,a);n(g(),u)},async:true})}this.remove=function(e,i,n,t,r,o){if(e==="application"){var l=i[0].value;O(l,n)}else if(e==="configuration"){var c=i[0].value;F(c,r,n)}else{a.check(false,"The delete operation on entity set "+e+" is currently not supported by the modeler proxy.")}};function O(e,n){var t=y(o+"/"+e);z({type:"DELETE",url:t,success:function(e,i,a){n(g(),undefined)},error:function(t,r,o,l){var c=i.buildErrorMessage(t,"5237",[e],l,a);n(g(),c)},async:true})}function F(e,n,t){var r=y(l+"/"+e);z({type:"DELETE",url:r,success:function(e,i,n){t(g(),undefined)},error:function(r,o,l,c){var u=i.buildErrorMessage(r,"5225",[n,e],c,a);t(g(),u)},async:true})}this.doChangeOperationsInBatch=function(e,i,n,t){e.forEach(function(e){if(e.entitySetName!=="texts"){a.check(false,"The create/update/delete operation in batch on entity set "+e.entitySetName+" is not supported by the modeler proxy.")}e.application=n});this._readConfigurationListAndTextFile(n).then(function(a){var r=a.textFile.inDevelopmentLanguage;this._initText(n,r);this._applyChangesOnTextFile(e);var o=this._createTextFileOfApplication(n);this._updateRemoteTextFile(n,"DEV",o,t).then(function(){i(undefined)},function(e){i(e)})}.bind(this),function(e){i(e)})};this._readConfigurationListAndTextFile=function(e){var n="'";var t=new Promise(function(t,r){var o=y(u+"?$select=AnalyticalConfiguration,AnalyticalConfigurationName,SerializedAnalyticalConfiguration"+"&$filter=(Application%20eq%20"+n+e+n+")");z({type:"GET",url:o,success:function(e,i,n){var a=[];if(e.analyticalConfigurations!==null){e.analyticalConfigurations.forEach(function(e){a.push({analyticalConfiguration:e.analyticalConfiguration,analyticalConfigurationName:e.analyticalConfigurationName,serializedAnalyticalConfiguration:e.serializedAnalyticalConfiguration})})}var r={analyticalConfigurations:a,textFile:{inDevelopmentLanguage:e.textFile.inDevelopmentLanguage}};t(r)},error:function(n,t,o,l){var c=i.buildErrorMessage(n,"5222",[e],l,a);r(c)},async:true})});return t};this._initText=function(e,i){p.initApplicationTexts(e,i)};this._applyChangesOnTextFile=function(e){e.forEach(function(e){if(e.entitySetName==="texts"){switch(e.method){case"POST":var i=e.data;this._createOrUpdateLocalText(i);break;case"PUT":var n=e.data;this._createOrUpdateLocalText(n);break;case"DELETE":var t=e.application;var r=e.inputParameters[0].value;this._deleteLocalText(t,r);break;default:a.check(false,"The method "+e.method+" is not supported during text processing in batch mode by the modeler proxy.");break}}else{a.check(false,"The create/update/delete operation on entity set "+e.entitySetName+" is not supported by the modeler proxy.")}}.bind(this))};this._createTextFileOfApplication=function(e){return p.createTextFileOfApplication(e)};this._createOrUpdateLocalText=function(e){p.addText(e)};this._deleteLocalText=function(e,i){var n={application:e,inputParameters:[{value:i}]};p.removeText(n)};this._updateRemoteTextFile=function(e,n,t,r){var o=new Promise(function(o,l){var c;if(r===true){c=y(s+"/"+e)}else{c=y(s+"/"+e+"/"+n)}var u={serializedTextFile:t};z({type:"PUT",data:JSON.stringify(u),url:c,success:function(e,i,n){o()},error:function(n,t,r,o){var c=i.buildErrorMessage(n,"5230",[e],o,a);l(c)},async:true})});return o};this.readCollectionsInBatch=function(e,i){var n=e[0];a.check(n.entitySetName==="configuration","wrong usage, only 'configuration' is allowed");var t=n.filter.getFilterTermsForProperty("Application");var r=t[0].getValue();function o(){function e(e,n,a){if(a){i(undefined,a)}else{var t=[];t.push(e);t.push(p.getTextElements(r));i(t)}}return e}this.readCollection(n.entitySetName,o(),n.inputParameters,n.selectList,n.filter)};function L(e,i,n){var a=n.createMessageObject({code:"5214",aParameters:[e.status,e.statusText]});if(i){a.setPrevious(i)}return a}this.importVendorContent=function(e,i,n,a,t){this.readAllConfigurationsFromVendorLayer().done(function(r){D(e,i,n,a,t,r)}).fail(function(e){a(undefined,undefined,e)})};function D(e,i,n,t,r,o){var c;var u,s;var f=e+"."+i;for(c=0;c<o.length;c++){if(o[c].value===f){s=o[c].configurationText;u=o[c].applicationText;break}}z({type:"HEAD",url:y(l+"/"+i),success:function(){n(g,v,s)},error:function(e,n,r,o){if(e.status===404){j(i,p)}else{var l=L(e,o,a);t(undefined,undefined,l)}}});function p(i,n,a){if(!a){r(e,u)}t(i,n,a)}function g(){j(i,t)}function v(n){var r=y(d+"/"+i+"?$select=SerializedAnalyticalConfiguration");z({type:"GET",url:r,success:function(i){U(e,n,i.serializedAnalyticalConfiguration,t)},error:function(e,i,n,r){var o=L(e,r,a);t(undefined,undefined,o)}})}}function U(e,i,n,t){var r=y(l);var o={analyticalConfigurationName:i,application:e,serializedAnalyticalConfiguration:n};z({type:"POST",url:r,dataType:"json",data:JSON.stringify(o),success:function(e){t(e.analyticalConfiguration)},error:function(e,i,n,r){var o=L(e,r,a);t(undefined,undefined,o)}})}function j(e,i){z({type:"PUT",url:y(f+"/"+e),contentType:"application/x-www-form-urlencoded",success:function(){i(e)},error:function(e,n,t,r){var o=L(e,r,a);i(undefined,undefined,o)}})}var P;this.readAllConfigurationsFromVendorLayer=function(){var e=jQuery.Deferred();if(P){e.resolve(P)}else{z({url:y(d+"?$select=Application,ApplicationName,AnalyticalConfiguration,AnalyticalConfigurationName"),success:function(i){var n=[];if(i!==null){i.forEach(function(e){n.push({configurationText:e.analyticalConfigurationName,applicationText:e.applicationName,value:e.application+"."+e.analyticalConfiguration})})}P=n;e.resolve(n)},error:function(i,n,t,r){var o=L(i,r,a);var l=a.createMessageObject({code:"5231"});l.setPrevious(o);e.reject(l)}})}return e.promise()};function z(e){return n.instances.ajaxHandler.send(e)}}var a={ModelerProxy:n};return a},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/cloudFoundry/runtimeProxy", ["sap/apf/cloudFoundry/utils"],function(a){"use strict";function e(e,i){var t=i.instances.messageHandler;var n=i.instances.coreApi;var r=i.manifests.manifest;var s=r["sap.app"].dataSources;var o=sap.ui.getCore().getConfiguration().getLanguage();var c={"Content-Type":"application/json; charset=utf-8","Accept-Language":o};var u=s&&s["apf.runtime.analyticalConfigurationAndTextFiles"]&&s["apf.runtime.analyticalConfigurationAndTextFiles"].uri;if(!u){t.putMessage(t.createMessageObject({code:"5236",aParameters:["apf.runtime.analyticalConfigurationAndTextFiles"]}))}var l=a.resolveUri.bind(this,i.instances.coreApi);function f(){return{}}this.readEntity=function(a,e,i){t.check(a==="configuration");var r=i[0].value;var s=this;this.textFiles=undefined;var o=l(u+"/"+r);n.ajax({url:o,success:function(a){var i=JSON.parse(a.analyticalConfiguration.serializedAnalyticalConfiguration);var t=i.configHeader&&i.configHeader.Application;var n={SerializedAnalyticalConfiguration:a.analyticalConfiguration.serializedAnalyticalConfiguration,AnalyticalConfiguration:r,Application:t,AnalyticalConfigurationName:a.analyticalConfiguration.analyticalConfigurationName};s.textFiles=a.textFiles;e(n,f())},error:function(a,i,n,r){var s=t.createMessageObject({code:"5057",aParameters:[o]});if(r){s.setPrevious(r)}e(undefined,f(),s)},headers:c})};this.readCollection=function(e,i,n,r,s){t.check(e==="texts");var o=s.getFilterTermsForProperty("Application");var c=o[0].getValue();if(!this.textFiles){i(undefined,f(),t.createMessageObject({code:"5222",aParameters:[c]}));return}var u=a.mergeReceivedTexts(this.textFiles,t);i(u.texts,f(),u.messageObject)}}sap.apf.cloudFoundry.RuntimeProxy=e;return e},true);
sap.ui.predefine("sap/apf/cloudFoundry/ui/bookmarkconfirmation/showBookmarkConfirmation", ["sap/apf/cloudFoundry/ui/utils/LaunchPageUtils","sap/m/MessageBox","sap/ui/core/routing/HashChanger"],function(e,t,a){"use strict";function o(o,n){var r=new a;var i=n.getAnalyticalConfigurationId().configurationId;var u=n.getParameter(e.BOOKMARK_LINK_PARAMETERS.HEADER);var g=n.getParameter(e.BOOKMARK_LINK_PARAMETERS.SUBHEADER);var c=n.getParameter(e.BOOKMARK_LINK_PARAMETERS.ICON)||"";var m=n.getParameter(e.BOOKMARK_LINK_PARAMETERS.GROUP)||"";o.getApplicationConfigProperties().then(function(a){u=u||o.getTextNotHtmlEncoded(a.appTitle);g=g||o.getTextNotHtmlEncoded("bookmarkSubheaderDefault");t.confirm(o.getTextNotHtmlEncoded("bookmarkConfirmation",[u]),{title:o.getTextNotHtmlEncoded("bookmarkConfirmationTitle"),onClose:function(a){if(a==t.Action.OK){var o=e.generateRuntimeLink(i);e.setBookmarkTile(o,u,g,c,m)}r.replaceHash(e.generateRuntimeHash(i))}})})}return{show:o}});
sap.ui.predefine("sap/apf/cloudFoundry/ui/sharedialog/controller/ShareDialog.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/library","sap/m/MessageBox","sap/apf/cloudFoundry/ui/utils/LaunchPageUtils","sap/ui/core/Fragment","sap/ui/core/IconPool","sap/ui/core/ValueState"],function(e,t,i,o,r,a,n,s){"use strict";var l="sap.apf.cloudFoundry.ui.sharedialog";return e.extend(l+".controller.ShareDialog",{onInit:function(){var e=this.getOwnerComponent();this.oCoreApi=e.oCoreApi;var t=this.getView();var i=t.getViewData();if(i.oController.configEditor.isSaved()){this.initializeDialog()}else{o.warning(this.translate("unsavedStateWarning"),{onClose:function(){t.destroy();this.destroy()}.bind(this)})}},initializeDialog:function(){var e=this.getDialog();var i=this.getView();var o=i.getViewData();this.config=o.oController._getNodeData({},"configuration").data;this.runtimeLink=r.generateRuntimeLink(this.config.AnalyticalConfiguration);this.ui=new t({TileHeader:this.config.name,TileHeaderDefault:this.config.name,TileSubheader:this.translate("bookmarkSubheaderDefault"),TileIcon:"",TileIconValueState:s.None,TileGroup:""});i.setModel(this.ui,"ui");this.updateTileTooltip();var a=i.byId("tilePreview");a.addDelegate({onAfterRendering:function(){var e=a.getDomRef().id;jQuery("#"+e).attr("tabindex",-1)}});e.open()},updateTileTooltip:function(){var e="";e+=this.translate("bookmarkTooltipHeader",this.ui.getProperty("/TileHeader"));e+="\n"+this.translate("bookmarkTooltipSubheader",this.ui.getProperty("/TileSubheader"));var t=this.ui.getProperty("/TileIcon");if(t!==""){e+="\n"+this.translate("bookmarkTooltipIcon",t)}var i=this.ui.getProperty("/TileGroup");if(i!==""){e+="\n"+this.translate("bookmarkTooltipGroup",i)}this.ui.setProperty("/TileTooltip",e)},selectText:function(e,t,i){var o=document.getElementById(e.getIdForLabel());o.select();o.setSelectionRange(t,i)},showLinkDialog:function(e){var t=this;var i=this.getView();a.load({id:i.getId(),name:l+".fragment.ShowLinkDialog",controller:{getView:function(){return i.byId("showLinkDialog")},translate:t.translate.bind(t),onBeforeOpen:function(){var t=i.byId("textAreaLink");t.setValue(e)},onAfterOpen:function(){var o=i.byId("textAreaLink");if(e!==undefined){t.selectText(o,0,e.length)}},onAfterClose:function(){this.getView().destroy();i.removeDependent(this.getView())},onButtonClosePress:function(){this.getView().close()}}}).then(function(e){i.addDependent(e);e.open()})},getBookmarkLink:function(){var e=this.getView();var t=e.byId("inputHeader").getValue();var i=e.byId("inputSubheader").getValue();var o=e.byId("inputIcon").getValue();var a=e.byId("inputGroup").getValue();var s=n.getIconInfo(o);if(s){o=s.uri}else{o=""}var l=this.runtimeLink;return new Promise(function(e){setTimeout(function(){e()},2e3)}).then(function(){return r.buildBookmarkLink(l,t,i,o,a)})},onShowLink:function(){var e=this.getBookmarkLink();this.showLinkDialog(e)},onSendEmail:function(){var e=this.ui.getProperty("/TileHeader");var t=this.getBookmarkLink();var o=this.translate("helpLink");var r=this.translate("emailTemplateSubject",e);var a=this.translate("emailTemplateText",e,t,o);i.URLHelper.triggerEmail("",r,a)},onMarkFavorite:function(){var e=this.ui.getProperty("/TileHeader");var t=this.ui.getProperty("/TileSubheader");var i=this.ui.getProperty("/TileIcon");var o=this.ui.getProperty("/TileGroup");r.setBookmarkTile(this.runtimeLink,e,t,i,o)},onHeaderChange:function(e){var t=e.getParameters().value;if(t==""){t=this.config.name}this.ui.setProperty("/TileHeader",t);this.updateTileTooltip()},onSubheaderChange:function(e){var t=e.getParameters().value;if(t==""){t=this.translate("bookmarkSubheaderDefault")}this.ui.setProperty("/TileSubheader",t);this.updateTileTooltip()},onIconChange:function(e){var t=e.getParameters().value;var i=n.getIconInfo(t);if(t===""){this.ui.setProperty("/TileIcon","");this.ui.setProperty("/TileIconValueState",s.None)}else if(i){this.ui.setProperty("/TileIcon",i.uri);this.ui.setProperty("/TileIconValueState",s.None)}else{this.ui.setProperty("/TileIcon","");this.ui.setProperty("/TileIconValueState",s.Error)}this.updateTileTooltip()},onGroupChange:function(e){var t=e.getParameters().value;this.ui.setProperty("/TileGroup",t);this.updateTileTooltip()},onClose:function(){this.getDialog().close();this.getDialog().destroy();this.getView().destroy();this.destroy()},getDialog:function(){var e=this.getView();var t=e.byId("shareDialog");if(!t){t=sap.ui.xmlfragment(e.getId(),l+".fragment.ShareDialog",this);e.addDependent(t)}return t},translate:function(e){return this.oCoreApi.getText(e,Array.prototype.slice.call(arguments,1))}})});
sap.ui.predefine("sap/apf/cloudFoundry/ui/sharedialog/showShareDialog", ["sap/apf/cloudFoundry/ui/utils/ComponentCorrector","sap/ui/core/library"],function(e,o){"use strict";var r="sap.apf.cloudFoundry.ui.sharedialog";var i=o.mvc.ViewType;function a(o,a){e.createView(o.getComponent(),{viewName:r+".view.ShareDialog",type:i.XML,viewData:{oCoreApi:o,oController:a}})}return{show:a}});
sap.ui.predefine("sap/apf/cloudFoundry/ui/utils/ComponentCorrector", ["sap/ui/base/Object","sap/ui/core/Component","sap/ui/core/mvc/View"],function(n,t,e){"use strict";var o="sap.apf.cloudFoundry.ui.utils";var r=n.extend(o+".ComponentCorrector",{constructor:function(n){if(!(this instanceof r)){throw Error('Cannot instantiate object: "new" is missing!')}if(n instanceof t){this.oComponent=n}else{throw Error('Cannot instantiate object: "oComponent" is not a Component!')}},runAsComponent:function(n){return this.oComponent.runAsOwner(n)},createView:function(n){var t=this.oComponent;return this.runAsComponent(function(){return e.create(n).then(function(n){if(!n.bIsDestroyed){Object.keys(t.oModels).forEach(function(e){if(!n.getModel(e)){n.setModel(t.getModel(e),e)}});n.setParent(t);return n}return null})})}});r.createView=function(n,t){return new r(n).createView(t)};return r},true);
sap.ui.predefine("sap/apf/cloudFoundry/ui/utils/LaunchPageUtils", ["sap/base/security/encodeURLParameters","sap/ushell/services/Container"],function(e){"use strict";var i={BOOKMARK:"bookmark",HEADER:"tile-header",SUBHEADER:"tile-subheader",ICON:"tile-icon",GROUP:"tile-group"};function n(e){return sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(i){var n=i.hrefForExternalAsync({target:{semanticObject:"FioriApplication",action:"executeAPFConfiguration"},params:{"sap-apf-configuration-id":e}})||"";return n})}function t(e){var i=jQuery(location).attr("href").split("#")[0].split("?")[0];var t=n(e);return t.then(function(e){return i+e})}function r(n,t,r,a,o){if(!n.includes("#")){return null}var u={};u[i.BOOKMARK]=true;if(t){u[i.HEADER]=t}if(r){u[i.SUBHEADER]=r}if(a){u[i.ICON]=a}if(o){u[i.GROUP]=o}var s=n.split("#");var c=s[s.length-1];var l=e(u);var f=n;f+=c.includes("?")?"&":"?";f+=l;return f}function a(e,i,n,t,r){sap.ushell.Container.getService("LaunchPage").getGroups().then(function(a){var o;if(r){a.forEach(function(e){if(e.identification.id===r){o=e}});if(o===undefined){throw"group not found"}}var u={title:i,subtitle:n,url:e,icon:t};var s=sap.ushell.Container.getService("Bookmark");s.deleteBookmarks(e);s.addBookmark(u,o)})}return{BOOKMARK_LINK_PARAMETERS:i,generateRuntimeHash:n,generateRuntimeLink:t,buildBookmarkLink:r,setBookmarkTile:a}},true);
sap.ui.predefine("sap/apf/cloudFoundry/ui/utils/ODataServiceUtils", ["sap/ui/model/odata/v2/ODataModel"],function(e){"use strict";var t="/destination/";var n="/sap/opu/odata/iwfnd/catalogservice;v=2/";var r="/$metadata";var a="/odata/v2/";var i={CATALOG:"CATALOG",SERVICE:"SERVICE",OTHER:"OTHER"};var u={PENDING:"PENDING",ANALYTICAL_SERVICE:"ANALYTICAL_SERVICE",NOT_ANALYTICAL_SERVICE:"NOT_ANALYTICAL_SERVICE",WRONG_ODATA_VERSION:"WRONG_ODATA_VERSION",NOT_ACCESSIBLE:"NOT_ACCESSIBLE"};function o(e){return t+e+n}function s(e){var t=(e||"").match(new RegExp("https?:\\/\\/[^\\/]+\\/(.+)"));return t?"/"+t[1]:""}function f(e,t){if(!e||typeof e!=="string"||!t||typeof t!=="string"){return undefined}else if(!t.includes("://")){return undefined}var n;if(e.startsWith(t)){n=e.slice(t.length)}else if(e.includes("://")){return undefined}else{n=e}if(n.startsWith("/")){return n}return"/"+n}function c(e,n){return t+e+n}function E(e){var a=function(e,a){jQuery.ajax(t+e.name+r).then(function(){a(i.SERVICE)}).fail(function(){if(e.proxyType=="OnPremise"){jQuery.ajax(t+e.name+n).then(function(){a(i.CATALOG)}).fail(function(){a(i.OTHER)})}else{a(i.OTHER)}})};return e.map(function(e){return new Promise(function(t){a(e,t)})}).reduce(function(t,n,r){t[e[r].name]=n;return t},{})}function A(t,n){return new Promise(function(r,a){var i=c(t,n);var o=new e(i);o.attachMetadataFailed(function(e){var t=e.getParameter("response");if(t&&t.headers["odata-version"]&&!t.headers["odata-version"].startsWith("2")){a(u.WRONG_ODATA_VERSION)}else{a(u.NOT_ACCESSIBLE)}});var s=o.getMetaModel();s.loaded().then(function(){var e=s.getODataEntityContainer().entitySet.some(function(e){return s.getODataEntityType(e.entityType).property.some(function(e){return e["sap:aggregation-role"]==="measure"})});r(e?u.ANALYTICAL_SERVICE:u.NOT_ANALYTICAL_SERVICE)})})}function d(e){return new Promise(function(n,r){jQuery.ajax(t+e+a).done(function(e,t,a){if(a.status===200&&jQuery(e).filter("h1").text().trim()==="OData endpoints:"){var i=jQuery(e).filter("a").map(function(e,t){return{Url:s(t.href)}}).toArray();n(i)}else{r()}}).fail(function(){r()})})}return{DESTINATION_TYPE:i,SERVICE_STATUS:u,getCatalogURL:o,getRelativeServiceURL:s,getFullServiceURL:c,getRelativeURL:f,pingDestinations:E,isAnalyticalService:A,discoverServices:d}},true);
sap.ui.predefine("sap/apf/cloudFoundry/ui/valuehelp/controller/CatalogBrowser.controller", ["sap/ui/core/mvc/Controller","sap/ui/core/IconPool","sap/ui/core/library","sap/ui/core/ValueState","sap/ui/core/Item","sap/ui/model/json/JSONModel","sap/ui/model/odata/v2/ODataModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter","sap/m/MessageToast","sap/apf/cloudFoundry/ui/utils/ODataServiceUtils"],function(e,t,a,r,i,n,s,o,l,c,u,S){"use strict";r=a.ValueState;var d="sap.apf.cloudFoundry.ui.valuehelp";var v={BACK:-1,DESTINATIONS:0,CATALOG:1,URL:2,OVERVIEW:3,OVERVIEW_REDUCED:4,OVERVIEW_SERVICEONLY:5};function h(e,t){return e.getManifestObject().resolveUri(t).toString()}return e.extend(d+".controller.CatalogBrowser",{onInit:function(){var e=this.getOwnerComponent();var t=h(e,e.getManifestEntry("/sap.app/dataSources/apf.destinationCatalog.destinations").uri);this.sDestination=undefined;this.sService=undefined;this.oCoreApi=e.oCoreApi;var a=this.getDialog();var i=this.getView();a.removeStyleClass("sapUiPopupWithPadding");a.addStyleClass("sapMSelectDialog");var s=new n({Title:this.translate("selectDestination"),Destination:"",Service:"",ServiceUrlValueState:r.None,SearchEnabled:true,ButtonOkEnabled:false,ButtonSelectEnabled:false,ButtonBackEnabled:false});i.setModel(s,"ui");var o=new n(t);i.setModel(o,"destinations");o.attachRequestCompleted(function(){this.oDestinationStatusPromises=S.pingDestinations(o.getData().destinations)}.bind(this));this.addCustomEventDelegates();a.open()},addCustomEventDelegates:function(){var e=this.getView();e.byId("urlInput").addEventDelegate({onkeypress:function(e){if(e.key==="Enter"){this.onSelectServiceUrl()}}.bind(this)})},onSelectDestination:function(e){this.destinationPath=e.getSource().getBindingContext("destinations").getPath();var t=this.getView();var a=t.getModel("destinations");var r=a.getObject(this.destinationPath);this.destinationSearch=t.byId("searchField").getValue();t.byId("searchField").setValue("");this.oDestinationStatusPromises[r.name].then(function(e){switch(e){case S.DESTINATION_TYPE.SERVICE:this.navigate(v.OVERVIEW_SERVICEONLY,{destination:r.name});this.setIsAnalyticalService();t.byId("serviceOnlyOverview").bindElement({path:this.destinationPath,model:"destinations"});break;case S.DESTINATION_TYPE.CATALOG:this.navigate(v.CATALOG,{destination:r.name});this.attachCatalogModel(r.name);break;default:var a=t.byId("urlInput");a.setValue("");a.removeAllItems();a.setShowButton(false);this.navigate(v.URL,{destination:r.name});S.discoverServices(r.name).then(function(e){if(e.length>0){e.forEach(function(e){a.addItem(new i({text:e.Url}))});a.setShowButton(true)}}).catch(function(){});break}}.bind(this))},attachCatalogModel:function(e){var t=this.getView();var a=t.byId("navContainer").getCurrentPage().getContent()[0];a.bindItems({path:"catalog>/ServiceCollection",sorter:new c("TechnicalServiceName",false),parameters:{custom:{search:""}},template:a.getBindingInfo("items").template});var r=new s(S.getCatalogURL(e));t.setModel(r,"catalog");var i=t.byId("selectService");i.setBusy(true);r.attachMetadataLoaded(function(){i.setBusy(false)});r.attachMetadataFailed(function(e){this.onBack();u.show(this.translate("destinationError",e.getParameter("responseText")));i.setBusy(false)}.bind(this))},onSelectService:function(e){var t=this.getView();var a=e.getSource().getBindingContext("catalog");var r=S.getRelativeServiceURL(a.getProperty("ServiceUrl"));this.navigate(v.OVERVIEW,{service:r});this.setIsAnalyticalService();var i=a.getPath();t.byId("destinationOverview").bindElement({path:this.destinationPath,model:"destinations"});t.byId("serviceOverview").bindElement({path:i,model:"catalog"})},onSelectServiceUrl:function(){var e=this.getView();var t=e.getModel("ui");var a=e.byId("urlInput").getValue();if(!a.startsWith("/")){t.setProperty("/ServiceUrlValueState",r.Error);return}t.setProperty("/ServiceUrlValueState",r.None);this.navigate(v.OVERVIEW_REDUCED,{service:a});this.setIsAnalyticalService();e.byId("reducedDestinationOverview").bindElement({path:this.destinationPath,model:"destinations"})},onCancel:function(){this.getDialog().close();this.getDialog().destroy();this.getView().destroy();this.destroy()},onBack:function(){var e=this.getView();var t=this.navigate(v.BACK);switch(t){case v.DESTINATIONS:e.byId("searchField").setValue(this.destinationSearch);break;default:break}},onOk:function(){var e=this.getView();var t=e.getModel("ui");var a=S.getFullServiceURL(t.getProperty("/Destination"),t.getProperty("/Service"));var r=this.getView().getViewData();r.parentControl.fireEvent("selectService",{sSelectedService:a});this.getDialog().close();this.getDialog().destroy();this.getView().destroy();this.destroy()},onLiveChangeSearch:function(e){var t=e.getParameter("newValue");var a=t?300:0;var r=this;clearTimeout(this.iLiveChangeTimer);if(a){this.iLiveChangeTimer=setTimeout(function(){r.executeSearch(t)},a)}else{this.executeSearch(t)}},onSearch:function(e){this.executeSearch(e.getSource().getValue())},executeSearch:function(e){var t=this.getView();var a=t.byId("navContainer").getCurrentPage().getContent()[0];var r=t.getModel("ui").getProperty("/Destination")!=="";if(r){a.bindItems({path:"catalog>/ServiceCollection",sorter:new c("TechnicalServiceName",false),parameters:{custom:{search:e}},template:a.getBindingInfo("items").template})}else{a.getBinding("items").filter(new o({filters:[new o({path:"name",operator:l.Contains,value1:e}),new o({path:"description",operator:l.Contains,value1:e})],and:false}))}},setIsAnalyticalService:function(){var e=this.getView().getModel("ui");var t=e.getProperty("/Destination");var a=e.getProperty("/Service");e.setProperty("/ServiceStatus",S.SERVICE_STATUS.PENDING);return S.isAnalyticalService(t,a).then(function(t){e.setProperty("/ServiceStatus",t)}).catch(function(t){e.setProperty("/ServiceStatus",t)})},serviceStatusIcon:function(e){switch(e){case S.SERVICE_STATUS.ANALYTICAL_SERVICE:return t.getIconURI("status-positive");case S.SERVICE_STATUS.NOT_ANALYTICAL_SERVICE:return t.getIconURI("status-critical");case S.SERVICE_STATUS.WRONG_ODATA_VERSION:return t.getIconURI("status-error");case S.SERVICE_STATUS.NOT_ACCESSIBLE:return t.getIconURI("status-error");default:return t.getIconURI("status-inactive")}},serviceStatusState:function(e){switch(e){case S.SERVICE_STATUS.ANALYTICAL_SERVICE:return r.Success;case S.SERVICE_STATUS.NOT_ANALYTICAL_SERVICE:return r.Warning;case S.SERVICE_STATUS.WRONG_ODATA_VERSION:return r.Error;case S.SERVICE_STATUS.NOT_ACCESSIBLE:return r.Error;default:return r.None}},serviceStatusText:function(e){switch(e){case S.SERVICE_STATUS.ANALYTICAL_SERVICE:return this.translate("analyticalService");case S.SERVICE_STATUS.NOT_ANALYTICAL_SERVICE:return this.translate("nonAnalyticalService");case S.SERVICE_STATUS.WRONG_ODATA_VERSION:return this.translate("wrongOdataVersion");case S.SERVICE_STATUS.NOT_ACCESSIBLE:return this.translate("serviceNotAccessible");default:return this.translate("pending")}},proxyTypeIcon:function(e){switch(e){case"OnPremise":return t.getIconURI("it-host");default:return t.getIconURI("cloud")}},proxyTypeText:function(e){switch(e){case"OnPremise":return this.translate("onPremise");default:return this.translate("cloud")}},translate:function(e){return this.oCoreApi.getText(e,Array.prototype.slice.call(arguments,1))},getRelativeServiceURL:S.getRelativeServiceURL,navigate:function(e,t){var a=this.getView();var i=a.getModel("ui");var n=a.byId("navContainer");t=t||{};t.destination=t.destination||i.getProperty("/Destination");t.service=t.service||i.getProperty("/Service");var s;if(e<0){var o=n.getPreviousPage();s=n.indexOfPage(o)}else{s=e}switch(s){case v.DESTINATIONS:i.setProperty("/Title",this.translate("selectDestination"));i.setProperty("/Destination","");i.setProperty("/Service","");i.setProperty("/ServiceUrlValueState",r.None);i.setProperty("/SearchEnabled",true);i.setProperty("/ButtonOkEnabled",false);i.setProperty("/ButtonSelectEnabled",false);i.setProperty("/ButtonBackEnabled",false);break;case v.CATALOG:i.setProperty("/Title",this.translate("selectService",t.destination));i.setProperty("/Destination",t.destination);i.setProperty("/Service","");i.setProperty("/ServiceUrlValueState",r.None);i.setProperty("/SearchEnabled",true);i.setProperty("/ButtonOkEnabled",false);i.setProperty("/ButtonSelectEnabled",false);i.setProperty("/ButtonBackEnabled",true);break;case v.URL:i.setProperty("/Title",this.translate("enterService",t.destination));i.setProperty("/Destination",t.destination);i.setProperty("/Service","");i.setProperty("/ServiceUrlValueState",r.None);i.setProperty("/SearchEnabled",false);i.setProperty("/ButtonOkEnabled",false);i.setProperty("/ButtonSelectEnabled",true);i.setProperty("/ButtonBackEnabled",true);break;case v.OVERVIEW:i.setProperty("/Title",this.translate("overview"));i.setProperty("/Destination",t.destination);i.setProperty("/Service",t.service);i.setProperty("/ServiceUrlValueState",r.None);i.setProperty("/SearchEnabled",false);i.setProperty("/ButtonOkEnabled",true);i.setProperty("/ButtonSelectEnabled",false);i.setProperty("/ButtonBackEnabled",true);break;case v.OVERVIEW_REDUCED:i.setProperty("/Title",this.translate("overview"));i.setProperty("/Destination",t.destination);i.setProperty("/Service",t.service);i.setProperty("/ServiceUrlValueState",r.None);i.setProperty("/SearchEnabled",false);i.setProperty("/ButtonOkEnabled",true);i.setProperty("/ButtonSelectEnabled",false);i.setProperty("/ButtonBackEnabled",true);break;case v.OVERVIEW_SERVICEONLY:i.setProperty("/Title",this.translate("overview"));i.setProperty("/Destination",t.destination);i.setProperty("/Service","");i.setProperty("/ServiceUrlValueState",r.None);i.setProperty("/SearchEnabled",false);i.setProperty("/ButtonOkEnabled",true);i.setProperty("/ButtonSelectEnabled",false);i.setProperty("/ButtonBackEnabled",true);break;default:i.setProperty("/Title",this.translate("selectDestination"));i.setProperty("/Destination","");i.setProperty("/Service","");i.setProperty("/ServiceUrlValueState",r.None);i.setProperty("/SearchEnabled",true);i.setProperty("/ButtonOkEnabled",false);i.setProperty("/ButtonSelectEnabled",false);i.setProperty("/ButtonBackEnabled",false);s=v.DESTINATIONS;break}if(e<0){n.back()}else{var l=n.getPages()[s];n.to(l)}return s},getDialog:function(){var e=this.getView().byId("catalogBrowser");var t=this.getView();if(!e){e=sap.ui.xmlfragment(t.getId(),d+".fragment.CatalogBrowser",this);t.addDependent(e)}return e}})});
sap.ui.predefine("sap/apf/cloudFoundry/ui/valuehelp/showValueHelp", ["sap/apf/cloudFoundry/ui/utils/ComponentCorrector","sap/ui/core/library"],function(e,a){"use strict";var o="sap.apf.cloudFoundry.ui.valuehelp";var r=a.mvc.ViewType;function i(a,i){e.createView(i.getComponent(),{viewName:o+".view.CatalogBrowser",type:r.XML,viewData:a})}return{show:i}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/cloudFoundry/uiHandler", ["sap/apf/cloudFoundry/ui/sharedialog/showShareDialog","sap/apf/cloudFoundry/ui/valuehelp/showValueHelp","sap/apf/cloudFoundry/ui/bookmarkconfirmation/showBookmarkConfirmation","sap/apf/cloudFoundry/ui/utils/LaunchPageUtils"],function(a,o,i,r){"use strict";function u(a){var o=a.getApi();var u=o.getStartParameterFacade();var e=u.getAnalyticalConfigurationId().configurationId;var t=u.getParameter(r.BOOKMARK_LINK_PARAMETERS.BOOKMARK);if(e&&t=="true"){i.show(o,u)}}return{showShareDialog:a.show,showValueHelp:o.show,initRuntime:u}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/cloudFoundry/utils", ["sap/apf/core/messageObject","sap/apf/utils/hashtable","sap/apf/utils/parseTextPropertyFile"],function(e,t,a){"use strict";t=t||sap.apf.utils.Hashtable;a=a||sap.apf.utils.parseTextPropertyFile;function r(){return["inRequestedLanguage","inAlternateLanguage","inEnglish","inDevelopmentLanguage"]}var s={createErrorMessageObject:function(t,a){var r=new e(t);var s="";if(a){a.forEach(function(e){s=s+e+" "});r.setPrevious(new e({code:"5220",aParameters:[s]}))}return r},buildErrorMessage:function(e,t,a,r,s){var n=s.createMessageObject({code:"5214",aParameters:[e.status,e.statusText]});var u=s.createMessageObject({code:t,aParameters:a});if(r){u.setPrevious(r);r.setPrevious(n)}else{u.setPrevious(n)}return u},mergeReceivedTexts:function(s,n){var u=undefined;var i=new t(n);var o=r();o.forEach(function(t){var r=s[t];if(!r||r==="null"){return}var o=a(r,{instances:{messageHandler:n}});var c;if(o.Messages.length>0){u=u||new e({code:"5416"});c=u;o.Messages.forEach(function(e){c.setPrevious(e);c=e})}o.TextElements.forEach(function(e){if(e.TextElement&&!i.hasItem(e.TextElement)){i.setItem(e.TextElement,e)}})});var c=[];i.getKeys().forEach(function(e){c.push(i.getItem(e))});return{texts:c,messageObject:u}},resolveUri:function e(t,a){if(t&&t.getComponent&&t.getComponent()){return t.getComponent().getManifestObject().resolveUri(a)}return a}};sap.apf.cloudFoundry=sap.apf.cloudFoundry||{};return s});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/ajax", ["sap/apf/core/utils/checkForTimeout","sap/ui/model/odata/ODataUtils"],function(e,s){"use strict";function n(n){var a=n.instances&&n.instances.messageHandler;var t=jQuery.extend(true,{},n);if(t.functions&&t.functions.ajax){delete t.functions.ajax}if(t.functions&&t.functions.getSapSystem){delete t.functions.getSapSystem}if(t.instances&&t.instances.messageHandler){delete t.instances.messageHandler}if(t.suppressSapSystem){delete t.suppressSapSystem}var r=t.beforeSend;var i=t.success;var c=t.error;var u;var f;var o=n.functions&&n.functions.ajax||jQuery.ajax;t.beforeSend=function(e,s){if(r){r(e,s)}};if(n.functions&&n.functions.getSapSystem&&n.functions.getSapSystem()&&!n.suppressSapSystem){t.url=s.setOrigin(t.url,{force:true,alias:n.functions.getSapSystem()})}var p=function(s,n,a){var t;try{t=e(a);if(t){c(s,"error",undefined,t)}else{i(s,n,a)}}catch(e){l(e)}};var d=function(s,n,a){var t;try{t=e(s);if(t){c(s,n,a,t)}else{c(s,n,a)}}catch(e){l(e)}};if(t.async!==undefined&&t.async===false){t.success=p;t.error=d;f=o(t);if(a&&a.isOwnException(u)){throw new Error(u&&u.message||"")}}else{delete t.success;delete t.error;f=o(t).done(function(e,s,n){p(e,s,n)}).fail(function(e,s,n){d(e,s,n)})}return f;function l(e){var s;var n;u=e;if(!a.isOwnException(e)){s=e&&e.message||"";n=a.createMessageObject({code:"5042",aParameters:[s]});a.putMessage(n)}}}sap.apf.core.ajax=n;return n},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/binding", ["sap/apf/core/constants","sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/ui/thirdparty/jquery"],function(e,t,n,jQuery){"use strict";sap.apf.core.Binding=function(e,t,n,r){var i=this;this.type="binding";var a=0;var s=[];var o=[];var d=[];var c;this.oTitle=t.oTitle;this.oLongTitle=t.oLongTitle;var l=t.requiredFilters;var p=t.requiredFilterOptions;this.destroy=function(){s.forEach(function(e){if(e&&e.destroy){e.destroy()}});s=[];o=[];d=[];c=undefined};function u(n,r){if(e.exits&&e.exits.binding&&e.exits.binding.afterGetFilter){return e.exits.binding.afterGetFilter(n,i.getSelectedRepresentation(),e.instances.coreApi,t,r)}return n}this.getFilter=function(t){var n=this.getSelectedRepresentation();var r=sap.apf.core.constants.filterMethodTypes;var i=[];var a;if(n.getFilterMethodType()===r.filter){var s=n.getFilter().getInternalFilter();return u(s,t)}if(n.getSelectionAsArray){i=n.getSelectionAsArray()}else{return u(new sap.apf.core.utils.Filter(e.instances.messageHandler),t)}if(i===undefined){a=sap.apf.core.utils.Filter.createEmptyFilter(e.instances.messageHandler,l);return u(a,t)}if(i.length===d.length||i.length===0){return u(new sap.apf.core.utils.Filter(e.instances.messageHandler),t)}a=sap.apf.core.utils.Filter.createFromArray(e.instances.messageHandler,l,d,i);return u(a,t)};this.getRequiredFilters=function(){return l};this.getRequiredFilterOptions=function(){return p};this.getRequestOptions=function(e){if(jQuery.isFunction(this.getSelectedRepresentation().getRequestOptions)){return this.getSelectedRepresentation().getRequestOptions(e)}return{}};this.setFilterValues=function(e){var t=this.getSelectedRepresentation();t.setFilterValues(e)};this.setData=function(t){e.instances.messageHandler.check(t!==undefined,"aDataResponse is undefined (binding function setData)");d=t.data;c=t.metadata;this.getSelectedRepresentation().setData(t.data,t.metadata,t.count,t.selectionValidation)};this.updateTreetable=function(e,t,n,r){this.getSelectedRepresentation().updateTreetable(e,t,n,r)};this.getSortedSelections=function(){return this.getSelectedRepresentation().getSortedSelections()};this.getRepresentationInfo=function(){var e=jQuery.extend(true,[],o);for(var t=0;t<e.length;t++){delete e[t].id;delete e[t].type;delete e[t].constructor}return e};this.getSelectedRepresentationInfo=function(){e.instances.messageHandler.check(a>=0&&a<o.length,"index in array boundaries");var t=jQuery.extend(true,{},o[a]);delete t.id;delete t.type;delete t.constructor;return t};this.getSelectedRepresentation=function(){e.instances.messageHandler.check(a>=0&&a<s.length,"selectedRepresentation in array boundaries");return s[a]};this.setSelectedRepresentation=function(r){e.instances.messageHandler.check(typeof r==="string","setSelectedRepresentation() - sRepresentationId missing");var i=this;var o=this.getSelectedRepresentation();var l=u(r,t.representations);var p=f(l);a=l.index;if(d!==undefined&&c!==undefined){p.setData(d,c)}if(p.adoptSelection){p.adoptSelection(o)}if(o&&o.onChartSwitch){o.onChartSwitch()}function u(t,r){for(var i=0;i<r.length;i++){if(t===r[i].id){return{config:r[i],constructor:n.getConfigurationById(r[i].representationTypeId).constructor,index:i}}}e.instances.messageHandler.check(false,"Representation config not found")}function f(r){var a;if(s[r.index]===undefined){if(r.config.parameter&&r.config.parameter.alternateRepresentationTypeId){r.config.parameter.alternateRepresentationType=n.getConfigurationById(r.config.parameter.alternateRepresentationTypeId)}r.config.parameter.requiredFilters=t.requiredFilters;r.config.parameter.requiredFilterOptions=t.requiredFilterOptions;a=i.convertSortToOrderBy(r.config.parameter);s[r.index]=e.instances.coreApi.createRepresentation(r.constructor,a);return s[r.index]}return s[r.index]}};this.serialize=function(){return{selectedRepresentation:i.getSelectedRepresentation().serialize(),selectedRepresentationId:i.getSelectedRepresentationInfo().representationId}};this.deserialize=function(e){i.setSelectedRepresentation(e.selectedRepresentationId);i.getSelectedRepresentation().deserialize(e.selectedRepresentation);return i};this.convertSortToOrderBy=function(e){var t;if(e.sort&&!e.orderby){t=jQuery.extend(true,{},e);if(e.alternateRepresentationType){t.alternateRepresentationType=e.alternateRepresentationType}t.orderby=[{property:e.sort.sortField,ascending:!e.sort.descending}];delete t.sort;return t}t=e;return t};s[0]=undefined;var f=false;t.representations.forEach(function(e,t){var i=e.representationTypeId;o[t]=jQuery.extend(true,{},n.getConfigurationById(i));o[t].representationId=e.id;if(r===o[t].representationId){f=true}o[t].representationLabel=e.label;o[t].thumbnail=e.thumbnail;o[t].parameter=jQuery.extend(true,{},e.parameter)});if(f){this.setSelectedRepresentation(r)}else if(o.length>0){this.setSelectedRepresentation(o[0].representationId)}if(!f&&r){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5037",aParameters:[r]}))}}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/configurationFactory", ["sap/apf/core/step","sap/apf/core/hierarchicalStep","sap/apf/core/request","sap/apf/utils/hashtable","sap/apf/core/binding","sap/apf/core/representationTypes","sap/apf/core/constants","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,t,n,a,s,r,i,o,jQuery){"use strict";sap.apf.core.ConfigurationFactory=function(e){var t=this;var n;var a=false;var s=jQuery.Deferred();var r=new sap.apf.utils.Hashtable(e.instances.messageHandler);var i=function(t){e.instances.messageHandler.check(t!==undefined&&t.hasOwnProperty("id")!==false,"oItem is undefined or property 'id' is missing",sap.apf.core.constants.message.code.errorCheckConfiguration);if(!r){r=new sap.apf.utils.Hashtable(e.instances.messageHandler)}var n=r.setItem(t.id,t);e.instances.messageHandler.check(n===undefined,"Configuration includes duplicated identifiers (IDs): "+t.id+"",sap.apf.core.constants.message.code.errorCheckConfigurationWarning)};var o=function(t){var n=[];if(!a&&s.state()==="pending"){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5020"}))}if(r.getNumberOfItems()!==0){r.each(function(e,a){if(a.type===t){n.push(a)}});return n}return n};function c(t){if(!sap.apf.core.constants.configurationObjectTypes.hasOwnProperty(t.type)){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5033",aParams:[t.type]}))}if(t.type===sap.apf.core.constants.configurationObjectTypes.facetFilter&&!t.property){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5034"}))}r.setItem(t.id,t)}function f(e){if(e.type===undefined){e.type="step"}i(e)}function p(t){e.instances.messageHandler.check(t!==undefined&&t instanceof Array!==false,"aSteps is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);t.forEach(function(e){f(e)})}function u(e){if(e.type===undefined){e.type="request"}if(e.entitySet){e.entityType=e.entitySet;delete e.entitySet}i(e)}function d(e){if(e.type===undefined){e.type="navigationTarget"}i(e)}function l(t){e.instances.messageHandler.check(t!==undefined&&t instanceof Array!==false,"aRequests is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);t.forEach(function(e){u(e)})}function g(t){function n(){var n=new sap.apf.utils.Hashtable(e.instances.messageHandler);t.representations.forEach(function(a){if(!(a.id&&typeof a.id==="string")){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5028",aParameters:[t.id]}))}if(n.setItem(a.id,a.id)){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5029",aParameters:[t.id]}))}})}if(t.type===undefined){t.type="binding"}e.instances.messageHandler.check(t.id!==undefined,"binding has no id");e.instances.messageHandler.check(t.representations!==undefined&&t.representations instanceof Array!==false,"representations for binding "+t.id+" not defined",sap.apf.core.constants.message.code.errorCheckConfiguration);n();i(t)}function h(t){e.instances.messageHandler.check(t!==undefined&&t instanceof Array!==false,"aBindings is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);t.forEach(function(e){g(e)})}function y(t){e.instances.messageHandler.check(t!==undefined&&t instanceof Array!==false,"navigationTarget is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);t.forEach(function(e){d(e)})}function m(e){r.setItem("configHeader",e)}function v(e){if(e.type===undefined){e.type="category"}i(e)}function H(n){e.instances.messageHandler.check(n!==undefined&&n instanceof Array!==false,"aCategories is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);n.forEach(function(n){var a=n.steps;e.instances.messageHandler.check(a!==undefined&&a instanceof Array!==false,"steps for category "+n.id+" are missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);a.forEach(function(a){e.instances.messageHandler.check(a.type&&(a.type==="step"||a.type==="hierarchicalStep")&&a.id,"step with wrong format assigned to category '"+n.id+"'");e.instances.messageHandler.check(t.existsConfiguration(a.id),"step with id '"+a.id+"' which is assigned to category '"+n.id+"' does not exist")});v(n)})}function b(e){var t=false;var n=sap.apf.core.representationTypes();n.forEach(function(n){if(e===n.id){t=true}});return t}function C(t){var n;if(t.type===undefined){t.type="representationType"}if(!b(t.id)){n=sap.apf.utils.extractFunctionFromModulePathString(t.constructor);if(!jQuery.isFunction(n)){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5030",parameters:[t.id]}))}}i(t)}function k(t){e.instances.messageHandler.check(t!==undefined&&t instanceof Array!==false,"aRepresentationInfo is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);t.forEach(function(e){C(e)})}function T(e){if(e.type===undefined){e.type="smartFilterBar"}c(e)}function F(e){if(e.type===undefined){e.type="facetFilter"}c(e)}function I(t){e.instances.messageHandler.check(t!==undefined&&t instanceof Array!==false,"Facet filter configuration is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);if(t.length===0){r.setItem(sap.apf.core.constants.existsEmptyFacetFilterArray,true);return}t.forEach(F)}function S(t,s,i,o){var c,f,p;function u(e){return e.alias||e.property}function d(e){var t=e.preselectionDefaults&&e.preselectionDefaults.length>0;var n=e.valueList&&e.valueList.length>0;return t||n}function l(e,t,n,a,s){e.metadataProperty=t;F(e);S(n,a,i,s)}function g(e,t){if(sap.apf.utils.isPropertyTypeWithDateSemantics(t)){e.preselectionDefaults=sap.apf.utils.convertDateListToInternalFormat(e.preselectionDefaults,t);e.valueList=sap.apf.utils.convertDateListToInternalFormat(e.valueList,t)}}if(s===t.length){i.resolve();a=false;return}f=t[s];s++;p=u(f);n=n||e.instances.coreApi.getMetadataFacade();var h=o&&Array.prototype.indexOf.call(o,p)>-1;if(h&&d(f)){if(f.valueHelpRequest||f.filterResolutionRequest){if(f.valueHelpRequest){c=r.getItem(f.valueHelpRequest)}else if(f.filterResolutionRequest){c=r.getItem(f.filterResolutionRequest)}n.getPropertyMetadataByEntitySet(c.service,c.entityType,p).done(function(e){g(f,e);l(f,e,t,s,o)})}else{n.getProperty(p).done(function(e){g(f,e);l(f,e,t,s,o)})}}else if(h){if(f.valueHelpRequest||f.filterResolutionRequest){if(f.valueHelpRequest){c=r.getItem(f.valueHelpRequest)}else if(f.filterResolutionRequest){c=r.getItem(f.filterResolutionRequest)}n.getPropertyMetadataByEntitySet(c.service,c.entityType,p).done(function(e){l(f,e,t,s,o)})}else{n.getProperty(p).done(function(e){l(f,e,t,s,o)})}}else{l(f,{},t,s,o)}}function A(t){var s=jQuery.Deferred();n=n||e.instances.coreApi.getMetadataFacade();e.instances.messageHandler.check(t!==undefined&&t instanceof Array!==false,"Facet filter configuration is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);if(t.length===0){r.setItem(sap.apf.core.constants.existsEmptyFacetFilterArray,true);s.resolve();return s.promise()}a=true;n.getAllProperties(function(e){S(t,0,s,e)});return s.promise()}function w(e){k(e)}function R(t,n){function a(t,n){var a=n.getConfigurationById(t.binding).representations;if(a){return a}e.instances.messageHandler.check(false,'Binding of step with ID "'+t.id+'" does not contain any representations.',sap.apf.core.constants.message.code.errorCheckConfigurationWarning)}function s(t,n){var s;var r=[];if(t.binding){s=a(t,n);s.forEach(function(e){var t=jQuery.extend(true,{},n.getConfigurationById(e.representationTypeId));t.representationId=e.id;t.representationLabel=e.label;t.parameter=jQuery.extend(true,{},e.parameter);r.push(t)});return r}e.instances.messageHandler.check(false,'Step with ID "'+t.id+'" does not contain any binding references.',sap.apf.core.constants.message.code.errorCheckConfigurationWarning)}var r=jQuery.extend(true,{},t);var i=s(t,n);delete r.request;delete r.binding;delete r.thumbnail;delete r.longTitle;r.type="stepTemplate";r.getRepresentationInfo=function(){var e=jQuery.extend(true,[],i);e.forEach(function(e){delete e.id;delete e.type;delete e.constructor});return e};return r}var q=function(e,t){var n=this;this.type=e.type;this.id=e.id;this.label=e.label;this.stepTemplates=[];e.steps.forEach(function(e){var a=t.getConfigurationById(e.id);n.stepTemplates.push(new R(a,t))});return this};var M=function(e,t){this.type="thumbnail";if(e===undefined){return this}this.leftUpper=t.createLabel(e.leftUpper);this.rightUpper=t.createLabel(e.rightUpper);this.leftLower=t.createLabel(e.leftLower);this.rightLower=t.createLabel(e.rightLower);this.altTitle=t.createLabel(e.altTitle);return this};this.createThumbnail=function(e){return new M(e,this)};function E(e){this.type="label";this.kind=e.kind;if(this.kind==="text"){this.file=e.file;this.key=e.key}else if(this.kind==="property"){this.property=e.property}else if(this.kind==="sapLabel"){this.labelOf=e.labelOf}}this.createLabel=function(e){return new E(e,this)};this.loadConfig=function(t,n){r=new sap.apf.utils.Hashtable(e.instances.messageHandler);if(t.applicationTitle){r.setItem("applicationTitle",t.applicationTitle)}var a={constructors:{Hashtable:sap.apf.utils.Hashtable},instances:{messageHandler:e.instances.messageHandler}};sap.apf.utils.migrateConfigToCategoryStepAssignment(t,a);var i=sap.apf.core.representationTypes();w(i);p(t.steps);H(t.categories);l(t.requests);h(t.bindings);if(t.representationTypes){k(t.representationTypes)}if(t.smartFilterBar){T(t.smartFilterBar)}if(t.facetFilters){if(n){I(t.facetFilters);s.resolve()}else{A(t.facetFilters).done(function(){s.resolve()})}}else{s.resolve()}if(t.navigationTargets){y(t.navigationTargets)}if(t.configHeader){m(t.configHeader)}return s};this.getConfigurationById=function(e){return r.getItem(e)};this.existsConfiguration=function(e){return r.hasItem(e)};this.getServiceDocuments=function(){var t=o("request");var n=[];t.forEach(function(e){n.push(e.service)});return sap.apf.utils.eliminateDuplicatesInArray(e.instances.messageHandler,n)};this.getNavigationTargets=function(){var e=o("navigationTarget");return jQuery.extend(true,[],e)};this.getStepTemplates=function(){var e=[];var n=o("step");n=jQuery.merge(n,o("hierarchicalStep"));n.forEach(function(n,a){e[a]=new R(n,t)});return e};this.getSmartFilterBarConfiguration=function(){var e=jQuery.Deferred();var t;s.done(function(){t=o("smartFilterBar")[0];if(typeof t==="object"&&t.service&&(t.entityType||t.entitySet)){e.resolve(jQuery.extend(true,{},t))}else{e.resolve()}});return e.promise()};this.getFacetFilterConfigurations=function(){var t=o("facetFilter");var n,a,s;var r=jQuery.extend(true,[],t);for(s=0;s<r.length;s++){a=r[s];if(t[s].metadataProperty&&t[s].metadataProperty.clone){a.metadataProperty=t[s].metadataProperty.clone()}if(a.preselectionFunction){n=sap.apf.utils.extractFunctionFromModulePathString(a.preselectionFunction);if(!jQuery.isFunction(n)){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5035",parameters:[a.id]}));a.preselectionFunction=undefined}else{a.preselectionFunction=n}}}return r};this.getCategories=function(){var e=o("category");var n=[];e.forEach(function(e,a){n[a]=new q(e,t)});return n};this.getConfigHeader=function(){return r.getItem("configHeader")};this.createStep=function(t,n){var a=this.getConfigurationById(t);e.instances.messageHandler.check(a!==undefined&&(a.type==="step"||a.type==="hierarchicalStep"),"Error - referenced object is undefined or has not type step",sap.apf.core.constants.message.code.errorCheckConfiguration);e.instances.messageHandler.check(sap.apf.core.Step!==undefined,"Step must be defined ",sap.apf.core.constants.message.code.errorCheckConfiguration);e.instances.messageHandler.check(typeof sap.apf.core.Step==="function","Step must be constructor function");if(a.type==="hierarchicalStep"){e.instances.messageHandler.check(typeof sap.apf.core.HierarchicalStep==="function","HierarchicalStep must be constructor function");return new sap.apf.core.HierarchicalStep(e.instances.messageHandler,a,this,n,e.instances.coreApi)}return new sap.apf.core.Step(e.instances.messageHandler,a,this,n,e.instances.coreApi)};this.createBinding=function(t,n,a,s){var r=this.getConfigurationById(t);e.instances.messageHandler.check(r!==undefined&&r.type==="binding","Error - oBindingConfig is undefined or has not type binding",sap.apf.core.constants.message.code.errorCheckConfiguration);r.oTitle=n;r.oLongTitle=a;return new sap.apf.core.Binding(e,r,this,s)};this.createRequest=function(n){if(n.entitySet){n.entityType=n.entitySet;delete n.entitySet}var a;var s;if(typeof n==="string"){s=t.getConfigurationById(n);if(!(s!==undefined&&s.type==="request")){a=e.instances.messageHandler.createMessageObject({code:"5004",aParameters:[n]});e.instances.messageHandler.putMessage(a);return undefined}}else{s=n;e.instances.messageHandler.check(s.type&&s.type==="request"&&s.service&&s.entityType,"Wrong request configuration when creating a new request");if(!s.id){a=e.instances.messageHandler.createMessageObject({code:"5004",aParameters:[n]});e.instances.messageHandler.putMessage(a);return undefined}}return new(e&&e.constructors&&e.constructors.Request||sap.apf.core.Request)(e,s)};if(e.constructors&&e.constructors.RegistryProbe){this.getRegistry=function(){return new e.constructors.RegistryProbe(r)}}}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/constants", ["sap/ui/model/FilterOperator"],function(e){"use strict";var t={};t.filterMethodTypes={selectionAsArray:"saa",filter:"f"};t.FilterOperators=e;t.BooleFilterOperators={AND:"and",OR:"or",NOT:"not"};t.aSelectOpt=[t.FilterOperators.EQ,t.FilterOperators.NE,t.FilterOperators.GT,t.FilterOperators.LT,t.FilterOperators.GE,t.FilterOperators.LE,t.FilterOperators.BT,t.FilterOperators.StartsWith,t.FilterOperators.Contains,t.FilterOperators.EndsWith];t.resourceLocation={applicationMessageDefinitionLocation:"applicationMessageDefinitionLocation",applicationMessageTextBundle:"applicationMessageTextBundle",apfUiTextBundle:"apfUiTextBundle",applicationUiTextBundle:"applicationUiTextBundle",analyticalConfigurationLocation:"analyticalConfigurationLocation"};t.message={};t.message.severity={fatal:"fatal",warning:"warning",error:"error",technError:"technError",information:"information",success:"success"};t.message.code={suppressFurtherException:"APFapf1972",errorCheck:"5100",errorCheckWarning:"5101",errorCheckConfiguration:"5102",errorCheckConfigurationWarning:"5103",errorUnknown:"9000",errorExitTriggered:"9001",errorInMessageDefinition:"9003"};t.eventTypes={contextChanged:"contextChanged",printTriggered:"printTriggered",format:"format"};t.configurationObjectTypes={facetFilter:"facetFilter",smartFilterBar:"smartFilterBar"};t.existsEmptyFacetFilterArray="__existsEmptyFacetFilterArray__";t.entitySets={application:"ApplicationQueryResults",configuration:"AnalyticalConfigurationQueryResults",texts:"TextElementQueryResults",logicalSystem:"SAPClientQuery",analysisPath:"AnalysisPathQueryResults",smartBusiness:"EVALUATIONS"};t.modelerPersistenceServiceRoot="/sap/hba/r/apf/core/odata/modeler/AnalyticalConfiguration.xsodata";t.developmentLanguage="";t.textKeyForInitialText="00000000000000000000000000000000";t.representationMetadata={kind:{XAXIS:"xAxis",XAXIS2:"xAxis2",YAXIS:"yAxis",YAXIS2:"yAxis2",BUBBLEWIDTH:"bubbleWidth",SECTORSIZE:"sectorSize",LEGEND:"legend",SECTORCOLOR:"sectorColor",REGIONCOLOR:"regionColor",REGIONSHAPE:"regionShape",COLUMN:"column",HIERARCHIALCOLUMN:"hierarchicalColumn"},labelDisplayOptions:{KEY:"key",TEXT:"text",KEY_AND_TEXT:"keyAndText"},measureDisplayOptions:{BAR:"bar",LINE:"line"}};t.vizFrame={feedItemTypes:{CATEGORYAXIS:"categoryAxis",CATEGORYAXIS2:"categoryAxis2",COLOR:"color",VALUEAXIS:"valueAxis",VALUEAXIS2:"valueAxis2",BUBBLEWIDTH:"bubbleWidth",SIZE:"size",SHAPE:"shape",TIMEAXIS:"timeAxis"}};t.applicationConfiguration={applicationConfigPath:"config/applicationConfiguration.json"};return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/entityTypeMetadata", [],function(){"use strict";sap.apf.core.EntityTypeMetadata=function(t,e,a){this.type="entityTypeMetadata";this.getPropertyMetadata=function(t){var n;n=a.getPropertyMetadata(e,t);if(!n){n={dataType:{}}}return n};this.getEntityTypeMetadata=function(){return a.getEntityTypeAnnotations(e)};function n(){t.check(e&&typeof e==="string","sap.apf.core.entityTypeMetadata: incorrect value for parameter sEntityType");t.check(a&&a.type&&a.type==="metadata","sap.apf.core.entityTypeMetadata: incorrect value for parameter oMetadata")}n()}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/hierarchicalStep", ["sap/apf/core/step","sap/apf/core/utils/uriGenerator","sap/ui/model/odata/v2/ODataModel","sap/ui/model/Sorter","sap/ui/thirdparty/jquery"],function(e,t,r,i,jQuery){"use strict";sap.apf.core.HierarchicalStep=function(e,t,i,a,o){sap.apf.core.Step.call(this,e,t,i,a,o);var n;var s;var p;this.type="hierarchicalStep";var u=i.getConfigurationById(t.request).service;var c=i.getConfigurationById(t.request).entityType;var d=o.getAnnotationsForService(u);var l=t.hierarchyProperty;var g=jQuery.Deferred();var f=i.getConfigurationById(t.binding).requiredFilters;var h=o.getStartParameterFacade().getSapSystem();if(h){u=sap.ui.model.odata.ODataUtils.setOrigin(u,{force:true,alias:h})}jQuery.when(o.getMetadata(u),o.getEntityTypeMetadata(u,c)).then(function(t,r){var a=t.getHierarchyAnnotationsForProperty(c,l);if(a.type==="messageObject"){e.putMessage(a)}else{s=m(l,a)}n=i.createRequest({service:u,entityType:c,selectProperties:y(f[0],t,a),type:"request",id:"SelectionValidationRequest"});g.resolve(t,a,r)});var v=new r(u,{annotationURI:d});function y(e,t,r){var i=[e];var a=t.getPropertyMetadata(c,e)["sap:text"];if(a){i.push(a)}if(r.hierarchyNodeExternalKeyFor){i.push(r.hierarchyNodeExternalKeyFor)}return i}function m(e,r){var a=[e];for(var o in r){a.push(r[o])}a=a.concat(i.getConfigurationById(t.request).selectProperties);return sap.apf.core.utils.uriGenerator.getSelectString(a)}this.update=function(t,r){g.done(function(i,a,o){var u=t.restrictToProperties(i.getFilterablePropertiesAndParameters(c));var d=!u.isEqual(p);p=u.copy();var l="/"+sap.apf.core.utils.uriGenerator.generateOdataPath(e,i,c,t,i.getUriComponents(c).navigationProperty);var g={};g.path=l;var h=t.restrictToProperties(i.getFilterableProperties(c));if(!h.isEmpty()){g.filters=[h.mapToSapUI5FilterExpression()]}g.parameters={select:s,operationMode:sap.ui.model.odata.OperationMode.Server,useServerSideApplicationFilters:true,treeAnnotationProperties:a};g.sorter=this.getSorter();this.getBinding().updateTreetable(g,v,o,d);if(!this.getFilter().isEmpty()&&d){var y=h.removeTermsByProperty(f[0]);n.sendGetInBatch(y.addAnd(this.getFilter()),function(e){var t=e.data;var i=this.getFilter().getFilterTerms();var a=[];i.forEach(function(e){t.forEach(function(t){if(t[f[0]]===e.getValue()){a.push(t)}})});this.getBinding().setFilterValues(a);r({},true)}.bind(this))}else{r({},d)}}.bind(this))};this.getSorter=function(){var e=[];var t=this.getBinding().getRequestOptions();if(t&&t.orderby&&t.orderby.length>0){t.orderby.forEach(function(t){e.push(new sap.ui.model.Sorter(t.property,!t.ascending))})}if(e.length===0){return}return e};this.setData=function(){};this.adjustCumulativeFilter=function(e){if(f[0]&&!this.getFilter().isEmpty()){return e.removeTermsByProperty(f[0])}return e}}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/instance", ["sap/apf/utils/utils","sap/apf/utils/filter","sap/apf/utils/hashtable","sap/apf/core/utils/checkForTimeout","sap/apf/core/utils/uriGenerator","sap/apf/core/utils/fileExists","sap/apf/core/utils/annotationHandler","sap/apf/core/utils/filter","sap/apf/core/messageHandler","sap/apf/core/path","sap/apf/core/persistence","sap/apf/core/metadataFactory","sap/apf/core/textResourceHandler","sap/apf/core/configurationFactory","sap/apf/core/sessionHandler","sap/apf/core/resourcePathHandler","sap/apf/core/constants","sap/apf/cloudFoundry/analysisPathProxy","sap/apf/cloudFoundry/ajaxHandler","sap/ui/comp/smartfilterbar/ControlConfiguration","sap/apf/core/metadataProperty","sap/apf/core/metadataFacade","sap/apf/core/metadata","sap/apf/core/readRequestByRequiredFilter","sap/apf/core/ajax","sap/apf/core/odataRequest","sap/apf/core/entityTypeMetadata","sap/apf/core/readRequest","sap/ui/thirdparty/jquery"],function(t,e,a,n,r,s,i,o,c,u,f,p,l,g,d,h,m,y,v,F,P,S,x,C,A,H,T,M,jQuery){"use strict";p=p||sap.apf.core.MetadataFactory;l=l||sap.apf.core.TextResourceHandler;g=g||sap.apf.core.ConfigurationFactory;d=d||sap.apf.core.SessionHandler;h=h||sap.apf.core.ResourcePathHandler;function R(c){var p=this;var l;var g,d,h;var y=c.instances.messageHandler;var v=c.instances.startParameter;c.constructors=c.constructors||{};var F=c.functions&&c.functions.checkForTimeout||n;var A={instances:{messageHandler:y,coreApi:this},constructors:{Request:c.constructors.Request},exits:{binding:{afterGetFilter:c.exits&&c.exits.binding&&c.exits.binding.afterGetFilter},path:{beforeAddingToCumulatedFilter:c.exits&&c.exits.path&&c.exits.path.beforeAddingToCumulatedFilter}},functions:c.functions};var H;var T;var M;var R;var b;var j;var E;var w;var B;var D;var k=c&&c.instances&&c.instances.datajs||OData;this.destroy=function(){b.destroy()};this.ajax=function(t){var e=jQuery.extend(true,{},t);e.functions=e.functions||{};e.functions.getSapSystem=v.getSapSystem;if(c.functions&&c.functions.ajax){e.functions.ajax=c.functions.ajax}e.instances=e.instances||{};e.instances.messageHandler=y;return sap.apf.core.ajax(e)};this.odataRequest=function(t,e,a,n){var r={instances:{datajs:k},functions:{getSapSystem:v.getSapSystem}};var s=c&&c.functions&&c.functions.odataRequest||sap.apf.core.odataRequestWrapper;s(r,t,e,a,n)};this.getStartParameterFacade=function(){return v};this.getMessageHandler=function(){return y};this.putMessage=function(t){return y.putMessage(t)};this.check=function(t,e,a){return y.check(t,e,a)};this.createMessageObject=function(t){return y.createMessageObject(t)};this.activateOnErrorHandling=function(t){y.activateOnErrorHandling(t)};this.setCallbackForMessageHandling=function(t){y.setMessageCallback(t)};this.getLogMessages=function(){return y.getLogMessages()};this.checkForTimeout=function(t){var e=F(t);if(e){y.putMessage(e)}return e};this.getUriGenerator=function(){return r};this.getMetadata=function(t){return T.getMetadata(t)};this.getMetadataFacade=function(){return T.getMetadataFacade()};this.getEntityTypeMetadata=function(t,e){return T.getEntityTypeMetadata(t,e)};this.loadApplicationConfig=function(t){H.loadConfigFromFilePath(t)};this.loadTextElements=function(t){M.loadTextElements(t)};this.registerTextWithKey=function(t,e){M.registerTextWithKey(t,e)};this.getApplicationConfigProperties=function(){return H.getConfigurationProperties()};this.getResourceLocation=function(t){return H.getResourceLocation(t)};this.getPersistenceConfiguration=function(){return H.getPersistenceConfiguration()};this.getCategories=function(){return R.getCategories()};this.existsConfiguration=function(t){return R.existsConfiguration(t)};this.getStepTemplates=function(){return R.getStepTemplates()};this.getConfigurationObjectById=function(t){return R.getConfigurationById(t)};this.registerSmartFilterBarInstance=function(t){if(!D){D=jQuery.Deferred()}D.resolve(t)};this.getSmartFilterBarAsPromise=function(){if(!D){D=jQuery.Deferred()}this.getSmartFilterBarConfigurationAsPromise().done(function(t){if(!t){D.resolve(null)}});return D};this.getSmartFilterBarConfigurationAsPromise=function(){return R.getSmartFilterBarConfiguration()};this.getSmartFilterBarPersistenceKey=function(t){return"APF"+R.getConfigHeader().AnalyticalConfiguration+t};this.getSmartFilterbarDefaultFilterValues=function(){var t=jQuery.Deferred();var e=[];c.functions.getCombinedContext().done(function(n){n.getProperties().forEach(function(t){var r={key:t,visibleInAdvancedArea:true,defaultFilterValues:a(n,t)};e.push(new sap.ui.comp.smartfilterbar.ControlConfiguration(r))});t.resolve(e)});return t;function a(t,e){var a=t.getFilterTermsForProperty(e);var n=[];a.forEach(function(t){var e=new sap.ui.comp.smartfilterbar.SelectOption({low:t.getValue(),operator:t.getOp(),high:t.getHighValue(),sign:"I"});n.push(e)});return n}};this.getReducedCombinedContext=function(){var t=jQuery.Deferred();c.functions.getCombinedContext().done(function(e){var a=p.getSmartFilterBarAsPromise();a.done(function(a){if(!a){t.resolve(e);return}var n=new o(c.instances.messageHandler);var r=a.getFilters();r.forEach(function(t){n.addAnd(o.transformUI5FilterToInternal(c.instances.messageHandler,t))});t.resolve(e.removeTermsByProperty(n.getProperties()))})});return t};this.getFacetFilterConfigurations=function(){return R.getFacetFilterConfigurations()};this.getNavigationTargets=function(){return R.getNavigationTargets()};this.createStep=function(t,e,a){var n;y.check(t!==undefined&&typeof t==="string"&&t.length!==0,"sStepID is  unknown or undefined");n=R.createStep(t,a);b.addStep(n,e);return n};this.getSteps=function(){return b.getSteps()};this.moveStepToPosition=function(t,e,a){b.moveStepToPosition(t,e,a)};this.updatePath=function(t,e){b.update(t,e)};this.removeStep=function(t,e){b.removeStep(t,e)};this.resetPath=function(){if(b){b.destroy()}b=new u.constructor(A)};this.stepIsActive=function(t){return b.stepIsActive(t)};this.isApfStateAvailable=function(){return j.isApfStateAvailable()};this.storeApfState=function(){j.storeApfState()};this.restoreApfState=function(){return j.restoreApfState()};this.serialize=function(){var t=b.serialize();p.getSmartFilterBarAsPromise().done(function(e){if(e){t.smartFilterBar=e.fetchVariant()}});return t};this.deserialize=function(t){if(t.smartFilterBar){if(!D){D=jQuery.Deferred()}D.done(function(e){e._apfOpenPath=true;e.applyVariant(t.smartFilterBar);e.clearVariantSelection();e.fireFilterChange()})}b.deserialize(t)};this.getTextNotHtmlEncoded=function(t,e){return M.getTextNotHtmlEncoded(t,e)};this.getTextHtmlEncoded=function(t,e){return M.getTextHtmlEncoded(t,e)};this.isInitialTextKey=function(t){return t===m.textKeyForInitialText};this.getMessageText=function(t,e){return M.getMessageText(t,e)};this.getXsrfToken=function(t){return j.getXsrfToken(t)};this.setDirtyState=function(t){j.setDirtyState(t)};this.isDirty=function(){return j.isDirty()};this.setPathName=function(t){j.setPathName(t)};this.getPathName=function(){return j.getPathName()};this.getCumulativeFilter=function(){return c.functions.getCumulativeFilter()};this.createReadRequest=function(t){var e=R.createRequest(t);var a;if(typeof t==="string"){a=R.getConfigurationById(t)}else{a=t}return new sap.apf.core.ReadRequest(A,e,a.service,a.entityType)};this.createReadRequestByRequiredFilter=function(t){var e=R.createRequest(t);var a;if(typeof t==="string"){a=R.getConfigurationById(t)}else{a=t}return new C(A,e,a.service,a.entityType)};this.loadMessageConfiguration=function(t,e){y.loadConfig(t,e)};this.loadAnalyticalConfiguration=function(t){R.loadConfig(t)};this.savePath=function(t,e,a,n){var r;var s;var i;var o;if(typeof t==="string"&&typeof e==="string"&&typeof a==="function"){r=t;s=e;i=a;o=n;this.setPathName(s);E.modifyPath(r,s,i,o)}else if(typeof t==="string"&&typeof e==="function"){s=t;i=e;o=a;this.setPathName(s);E.createPath(s,i,o)}else{y.putMessage(y.createMessageObject({code:"5027",aParameters:[t,e,a]}))}};this.readPaths=function(t){E.readPaths(t)};this.openPath=function(t,e){function a(t,a,n){if(!n){p.setPathName(t.path.AnalysisPathName)}e(t,a,n)}return E.openPath(t,a)};this.deletePath=function(t,e){E.deletePath(t,e)};this.createFilter=function(t){return new e(y,t)};this.getActiveStep=function(){return b.getActiveSteps()[0]};this.getCumulativeFilterUpToActiveStep=function(){return b.getCumulativeFilterUpToActiveStep()};this.setActiveStep=function(t){b.makeStepActive(t);var e=b.getActiveSteps();var a;for(a=0;a<e.length;++a){b.makeStepInactive(e[a])}return b.makeStepActive(t)};this.createFirstStep=function(t,e,a){var n=false;var r;r=p.getStepTemplates();r.forEach(function(e){n=e.id===t?true:n});if(!n){y.putMessage(y.createMessageObject({code:"5036",aParameters:[t]}))}else{p.createStep(t,a,e)}};this.getFunctionCreateRequest=function(){return R.createRequest};this.getAnnotationsForService=function(t){return w.getAnnotationsForService(t)};this.checkAddStep=function(t){return b.checkAddStep(t)};this.getPathFilterInformation=function(){return b.getFilterInformation()};this.getGenericExit=function(t){if(c&&c.exits&&c.exits[t]&&typeof c.exits[t]==="function"){return c.exits[t]}return undefined};this.getComponent=function(){return c&&c.instances&&c.instances.component};M=new(c.constructors.TextResourceHandler||sap.apf.core.TextResourceHandler)(A);y.setTextResourceHandler(M);if(c.manifests){A.manifests=c.manifests}B=new(c.constructors.FileExists||s)({functions:{ajax:p.ajax,getSapSystem:v.getSapSystem}});var q={manifests:c.manifests,functions:{getSapSystem:v.getSapSystem,getComponentNameFromManifest:t.getComponentNameFromManifest,getODataPath:r.getODataPath,getBaseURLOfComponent:r.getBaseURLOfComponent,addRelativeToAbsoluteURL:r.addRelativeToAbsoluteURL},instances:{fileExists:B}};w=new(c.constructors.AnnotationHandler||i.constructor)(q);R=new(c.constructors.ConfigurationFactory||sap.apf.core.ConfigurationFactory)(A);var I={constructors:{EntityTypeMetadata:sap.apf.core.EntityTypeMetadata,Hashtable:c.constructors.Hashtable||a,Metadata:c.constructors.Metadata||x,MetadataFacade:c.constructors.MetadataFacade||S,MetadataProperty:c.constructors.MetadataProperty||P,ODataModel:c.constructors.ODataModel||sap.ui.model.odata.v2.ODataModel},instances:{messageHandler:A.instances.messageHandler,coreApi:p,annotationHandler:w},functions:{getServiceDocuments:R.getServiceDocuments,getSapSystem:v.getSapSystem}};T=new(c.constructors.MetadataFactory||sap.apf.core.MetadataFactory)(I);b=new(c.constructors.Path||u.constructor)(A);j=new(c.constructors.SessionHandler||sap.apf.core.SessionHandler)(A);if(c.functions&&c.functions.isUsingCloudFoundryProxy){l=c.functions.isUsingCloudFoundryProxy}else{l=function(){return false}}if(l()){g={instances:{messageHandler:y},functions:{coreAjax:this.ajax}};d=c.constructors.AjaxHandler||sap.apf.cloudFoundry.AjaxHandler;h=new d(g)}var O={instances:{messageHandler:y,coreApi:this},functions:{getComponentName:c.functions&&c.functions.getComponentName},manifests:c.manifests};if(c.constructors.Persistence){O.instances.ajaxHandler=h;E=new c.constructors.Persistence(O)}else if(l()){O.instances.ajaxHandler=h;E=new sap.apf.cloudFoundry.AnalysisPathProxy(O)}else{E=new f.constructor(O)}var N={instances:{coreApi:p,messageHandler:A.instances.messageHandler,fileExists:B},functions:{checkForTimeout:F,initTextResourceHandlerAsPromise:M.loadResourceModelAsPromise,isUsingCloudFoundryProxy:l},corePromise:c.corePromise,manifests:c.manifests};if(c.constructors&&c.constructors.ProxyForAnalyticalConfiguration){N.constructors={ProxyForAnalyticalConfiguration:c.constructors.ProxyForAnalyticalConfiguration}}H=new(c.constructors.ResourcePathHandler||sap.apf.core.ResourcePathHandler)(N);if(c&&c.coreProbe){c.coreProbe({coreApi:this,startParameter:v,resourcePathHandler:H,textResourceHandler:M,configurationFactory:R,path:b,sessionHandler:j,persistence:E,fileExists:B,corePromise:c.corePromise})}}sap.apf=sap.apf||{};sap.apf.core=sap.apf.core||{};sap.apf.core.Instance=R;return{constructor:R}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/core/layeredRepositoryProxy", ["sap/apf/utils/utils","sap/apf/core/constants","sap/apf/utils/hashtable","sap/apf/abap/LrepConnector","sap/apf/utils/parseTextPropertyFile","sap/ui/thirdparty/jquery"],function(e,a,n,t,i,jQuery){"use strict";sap.apf.core.LayeredRepositoryProxy=function(e,a){var n=a.instances.coreApi;var t;var i=a.instances.messageHandler;var r="sap/apf/dt";var o="text.properties";var s=new sap.apf.utils.Hashtable(a.instances.messageHandler);var c=new sap.apf.utils.Hashtable(a.instances.messageHandler);var f;var u=false;this.getConnector=function(){return t};this.readEntity=function(e,a,n,r,o,s,c){var f=n[0].value;var u=T(o);var p=[];var l=false;var d=1;var m=0;var A;var S;var O;var b;var E;var P;var x;var N;var j=h(s);var I;i.check(e==="configuration","layered repository proxy - only read entity of configuration supported");if(c&&c.noMetadata){t.getStaticResource(u,f,"apfconfiguration").then(function(e){O={Application:o};N=e.response;if(typeof N==="string"){O.SerializedAnalyticalConfiguration=N}else{O.SerializedAnalyticalConfiguration=JSON.stringify(N)}O.AnalyticalConfiguration=f;a(O,C())},function(e){a(undefined,C(),y({code:"5221",aParameters:[o,f]},e&&e.messages))});return}if(r===undefined||r.indexOf("SerializedAnalyticalConfiguration")>=0){l=true;if(j==="VENDOR"){var U={contentType:"application/json"};var D=[];D.push({name:"layer",value:j});D.push({name:"dt",value:"true"});var H="/sap/bc/lrep/content/"+u+"/"+f+".apfconfiguration";H+=t._buildParams(D);I=t.send(H,"GET",undefined,U)}else{I=t.getStaticResource(u,f,"apfconfiguration")}p.push(I)}else{d=0}A=v(o,f);if(A===undefined){var M=t.getFileAttributes(u,f,"apfconfiguration",j);p.push(M)}S=Promise.all(p);S.then(function(e){A=v(o,f);if(A===undefined){A=e[d].response}g(o,f,A);O=F(o,A);if(l){N=e[m].response;if(typeof N==="string"){O.SerializedAnalyticalConfiguration=N}else{O.SerializedAnalyticalConfiguration=JSON.stringify(N)}}O.AnalyticalConfiguration=f;if(r&&r.length!==0){E=r.length;P={};for(b=0;b<E;b++){x=r[b];P[x]=O[x]}O=P}a(O,C())},function(e){a(undefined,C(),y({code:"5221",aParameters:[o,f]},e&&e.messages))})};this.doChangeOperationsInBatch=function(e,a,n){function t(e,n){a(n)}var i,r;function o(){}O(n).then(function(){for(i=0;i<e.length;i++){r=e[i];r.application=n;if(r.method==="DELETE"&&r.entitySetName==="texts"){A(r,o)}else if(r.method==="POST"&&sap.apf.utils.isValidPseudoGuid(r.data.TextElement)){b(r.data,o)}else{b(r.data,o)}}E(n,t,true)}).fail(function(e){a(e)})};this.readCollectionsInBatch=function(e,a){var n=e.length;var t=[];var i=0;function r(e){function r(r,o,s){if(s){a(undefined,s)}else{i++;t[e]=r;if(i===n){a(t)}}}return r}for(var o=0;o<n;o++){var s=e[o];this.readCollection(s.entitySetName,r(o),s.inputParameters,s.selectList,s.filter)}};this.readCollection=function(e,a,n,t,r,o){var c,f;var u;var p;if(o&&o.layer){p=o.layer}else{p="CUSTOMER"}var l=function(e,n){if(n&&(n==="error"||n==="timeout"||n==="abort"||n==="parsererror")){a(undefined,C(),y({code:"5222",aParameters:[f]},[n]));return}var t=new sap.apf.utils.Hashtable(i);var r=[];var o=e&&e.response||e&&e.responseText||"";var c=sap.apf.utils.parseTextPropertyFile(o,{instances:{messageHandler:i}});var u,p;if(c.Messages.length>0){u=i.createMessageObject({code:"5416"});p=u;c.Messages.forEach(function(e){p.setPrevious(e);p=e})}t=new sap.apf.utils.Hashtable(i);c.TextElements.forEach(function(e){if(e.TextElement){t.setItem(e.TextElement,e);r.push(e)}});s.setItem(f,t);a(r,C(),u)};if(e==="application"){i.check(!n&&!t&&!r,"unsupported parameters when calling readCollection for application");L(a,p)}else if(e==="texts"){c=r.getFilterTermsForProperty("Application");f=c[0].getValue();u=S(f,o);u.then(function(e){l(e)},function(e){a(undefined,C(),y({code:"5222",aParameters:[f]},e&&e.messages))})}else if(e==="configuration"){c=r.getFilterTermsForProperty("Application");f=c[0].getValue();P(f,a,t)}};this.remove=function(e,a,n,t,r,o){if(!o){o="CUSTOMER"}if(e==="application"){M(a,n,o)}else if(e==="configuration"){U(a,n,r,o)}else{i.check(false,"the remove operation on entity set "+e+" is currently not supported by the lrep proxy")}};this.create=function(e,a,n,t){if(e==="application"){D(a,n,t)}else if(e==="configuration"){I(a,n,t)}else if(e==="texts"){b(a,n)}else{i.check(false,"the create operation on entity set "+e+" is currently not supported by the lrep proxy")}};this.update=function(e,a,n){if(e==="configuration"){j(a,n)}else if(e==="application"){H(a,n)}else{i.check(false,"the update operation on entity set "+e+" is currently not supported by the lrep proxy")}};function p(e,a){var n={async:true,contentType:"application/json"};var i=[];i.push({name:"layer",value:e});i.push({name:"deep-read",value:true});i.push({name:"metadata",value:true});i.push({name:"type",value:a});var o="/sap/bc/lrep/content/"+r+"/";o+=t._buildParams(i);return t.send(o,"GET",undefined,n)}function l(e){var a=e.ns.split("/");return a[a.length-2]}function d(e,a){var n=undefined;e.metadata.forEach(function(e){if(e.name===a){n=e.value}});return n}this.readAllConfigurationsFromVendorLayer=function(){var e=jQuery.Deferred();var a=[];p("VENDOR","apf*").then(function(n){var t={};n.response.forEach(function(e){if(e.fileType&&e.fileType==="apfapplication"){t[l(e)]=d(e,"apfdt-applname")}});n.response.forEach(function(e){var n;var i;var r;if(e.fileType&&e.fileType==="apfconfiguration"){n=l(e);i=e.name;if(!(sap.apf.utils.isValidPseudoGuid(n)&&sap.apf.utils.isValidPseudoGuid(i))){return}r=d(e,"apfdt-configname");a.push({configurationText:r,applicationText:t[n],value:n+"."+i})}});e.resolve(a)},function(a){e.reject(y({code:"5231"},a&&a.messages))});return e.promise()};m();function m(){if(a.constructors&&a.constructors.LrepConnector){t=a.constructors.LrepConnector.createConnector()}else{t=sap.apf.abap.LrepConnector.createConnector()}if(!t._sClient){t._sClient=n.getStartParameterFacade().getSapClient()}}function v(e,a){var n=c.getItem(e);if(n===undefined){return undefined}a=n.getItem(a);return a}function g(e,a,n){var t=c.getItem(e);if(t===undefined){t=new sap.apf.utils.Hashtable(i)}t.setItem(a,n);c.setItem(e,t)}function h(e){var a=e&&e.layer||"CUSTOMER";if(a==="ALL"){return undefined}return a}function y(e,a){var n=i.createMessageObject(e);var t="";if(a){a.forEach(function(e){t=t+e+" "});n.setPrevious(i.createMessageObject({code:5220,aParameters:[t]}))}return n}function C(){return{}}function T(e){return r+"/"+e}function A(e,a){var n=e.application;var t=e.inputParameters[0].value;var i;O(n).done(function(){i=s.getItem(n);i.removeItem(t);a(e,C())}).fail(function(e){a(undefined,C(),e)})}function S(e,a){var n;var i=[];var s="/sap/bc/lrep/content/";var c=h(a);s+=r+"/"+e+"/"+o;if(c){i.push({name:"layer",value:c})}n={contentType:"text/plain"};s+=t._buildParams(i);return t.send(s,"GET",undefined,n)}function O(e){var a=jQuery.Deferred();var n;var t=s.getItem(e);var r=function(n){var r=n&&n.response||n&&n.responseText||"";var o=sap.apf.utils.parseTextPropertyFile(r,{instances:{messageHandler:i}});t=new sap.apf.utils.Hashtable(i);o.TextElements.forEach(function(e){if(e.TextElement){t.setItem(e.TextElement,e)}});s.setItem(e,t);a.resolve({})};if(t===undefined){n=S(e);n.then(function(e){r(e)},function(n){a.reject(y({code:"5222",aParameters:[e]},n&&n.messages))})}else{a.resolve({})}return a.promise()}function b(e,a){var n=e.Application;if(e.TextElement===undefined||!sap.apf.utils.isValidGuid(e.TextElement)){e.TextElement=sap.apf.utils.createPseudoGuid()}O(n).done(function(){var t=s.getItem(n);t.setItem(e.TextElement,e);a(e,C())}).fail(function(e){a(undefined,C(),e)})}function E(e,a,n){var r=T(e);var o;function c(){var n=sap.apf.utils.renderHeaderOfTextPropertyFile(e,i);n=n+sap.apf.utils.renderTextEntries(o,i);var s=t.upsert(r,"text","properties","CUSTOMER",n,"text/plain");s.then(function(){a(C())},function(n){a(C(),y({code:"5230",aParameters:[e]},n&&n.messages))})}o=s.getItem(e);if(!o){a(C());return}if(n){c()}else{var f=S(e);f.then(function(e){var a=e&&e.response||"";var n=sap.apf.utils.parseTextPropertyFile(a,{instances:{messageHandler:i}});n.TextElements.forEach(function(e){if(e.TextElement){o.setItem(e.TextElement,e)}});c()},function(n){a(C(),y({code:"5222",aParameters:[e]},n&&n.messages))})}}function P(e,a,n){var i=[];var r=T(e);var o=t._buildParams([{name:"layer",value:"CUSTOMER"},{name:"metadata",value:"true"},{name:"type",value:"apfconfiguration"}]);var s=t.send("/sap/bc/lrep/content/"+r+o);s.then(function(o){var s=o.response;s.forEach(function(a){if(a.fileType==="apfconfiguration"){a.metadata.forEach(function(n){if(n.name==="apfdt-configname"){i.push({AnalyticalConfiguration:a.name,Application:e,AnalyticalConfigurationName:n.value})}})}});if(n&&n.indexOf("SerializedAnalyticalConfiguration")>=0){var c=[];i.forEach(function(e){var a=jQuery.Deferred();c.push(a);t.getStaticResource(r,e.AnalyticalConfiguration,"apfconfiguration").then(function(n){if(n.response){e.SerializedAnalyticalConfiguration=JSON.stringify(n.response);a.resolve()}else{a.reject()}},function(e){a.reject(e)})});jQuery.when.apply(jQuery,c).then(function(){a(i,C())},function(n){a([],C(),y({code:"5223",aParameters:[e]},n&&n.messages))})}else{a(i,C())}},function(n){a([],C(),y({code:"5223",aParameters:[e]},n&&n.messages))})}function x(){var e=jQuery.Deferred();var a=[];if(u){e.resolve(f)}else{a.push({name:"dt",value:false});var n="/sap/bc/lrep/content/sap/ui/fl/settings/main.flsettings";n+=t._buildParams(a);var i=t.send(n,"GET",undefined);i.then(function(a){var n=a&&a.response||{};u=true;if(n.isAtoEnabled===true){f="ATO_NOTIFICATION"}e.resolve(f)},function(a){e.reject(a)})}return e.promise()}function N(e,a,n,i){var r=i||"CUSTOMER";var o=T(e);var s=t.getFileAttributes(o,a,"apfconfiguration",r);s.then(function(t){var i=t.response;if(r==="CUSTOMER"){g(e,a,i);E(e,n)}else{n(C())}},function(t){n(C(),y({code:"5232",aParameters:[e,a]},t&&t.messages))})}function j(e,a,n){if(!n){n="CUSTOMER"}var i=e.Application;var r=e.AnalyticalConfiguration;var o=JSON.parse(e.SerializedAnalyticalConfiguration);var s=T(i);var c=x();c.then(function(c){var f=t.getStaticResource(s,"metadata","apfapplication");f.then(function(a){var f={Application:i,ApplicationName:a.response.ApplicationName,SemanticObject:a.response.SemanticObject,AnalyticalConfiguration:r,AnalyticalConfigurationName:e.AnalyticalConfigurationName,CreationUTCDateTime:e.CreationUTCDateTime,LastChangeUTCDateTime:e.LastChangeUTCDateTime};o=jQuery.extend(true,o,{configHeader:f});o=JSON.stringify(o);var u=t.upsert(s,r,"apfconfiguration",n,o,"application/json",c);return u},function(e){a(C(),y({code:"5233",aParameters:[i,r]},e&&e.messages))}).then(function(){N(i,r,a,n)},function(e){a(C(),y({code:"5233",aParameters:[i,r]},e&&e.messages))})},function(e){a(C(),y({code:"5224"},e&&e.messages))})}function I(e,a,n){var i=h(n);var r=e.Application;var o=e.AnalyticalConfiguration;if(o===undefined||!sap.apf.utils.isValidGuid(o)){o=sap.apf.utils.createPseudoGuid(32)}var s=JSON.parse(e.SerializedAnalyticalConfiguration);var c=T(r);var f=t.getStaticResource(c,"metadata","apfapplication");f.then(function(n){var t={Application:r,ApplicationName:n.response.ApplicationName,SemanticObject:n.response.SemanticObject,AnalyticalConfiguration:o,AnalyticalConfigurationName:s.analyticalConfigurationName,CreationUTCDateTime:e.CreationUTCDateTime,LastChangeUTCDateTime:e.LastChangeUTCDateTime};s=jQuery.extend(true,s,{configHeader:t});s=JSON.stringify(s);u(r,o,e.AnalyticalConfigurationName,s,a)},function(e){a(undefined,C(),y({code:"5223",aParameters:[r]},e&&e.messages))});function u(a,n,r,o,s){var c=T(a);var f=x();f.then(function(r){var f=t.upsert(c,n,"apfconfiguration",i,o,"application/json",r);f.then(function(){N(a,n,function(a,t){if(!t){s({AnalyticalConfiguration:n,AnalyticalConfigurationName:e.AnalyticalConfigurationName},C())}else{s(undefined,C(),t)}},i)},function(e){s(undefined,C(),y({code:"5226",aParameters:[a,n]},e&&e.messages))})},function(e){s(undefined,C(),y({code:"5224"},e&&e.messages))})}}function U(e,a,n,r){var o=e[0].value;i.check(o!==undefined,"configuration may not be undefined");i.check(n!==undefined,"application of configuration not found");var s=T(n);x().then(function(e){var i=t.deleteFile(s,o,"apfconfiguration",r,e);i.then(function(){a(C())},function(e){a(C(),y({code:"5225",aParameters:[n,o]},e&&e.messages))})},function(e){a(C(),y({code:"5224"},e&&e.messages))})}function F(e,a){var n;var t={Application:e};var i,r;for(n=0;n<a.length;n++){i=a[n].name;r=a[n].value;if(i==="apfdt-applname"){i="ApplicationName"}else if(i==="createdAt"){i="CreationUTCDateTime"}else if(i==="createdBy"){i="CreatedByUser"}else if(i==="lastChangedAt"){i="LastChangeUTCDateTime"}else if(i==="lastChangedBy"){i="LastChangedByUser"}else if(i==="apfdt-configname"){i="AnalyticalConfigurationName"}else if(i==="size"||i==="layer"){continue}t[i]=r}return t}function D(e,a,n){i.check(e.ApplicationName!==undefined&&e.ApplicationName!=="","Valid application name is required");var r=e.Application;if(r===undefined||!sap.apf.utils.isValidGuid(r)){r=sap.apf.utils.createPseudoGuid(32)}var o=JSON.stringify({ApplicationName:e.ApplicationName,SemanticObject:e.SemanticObject,Application:r});var c=sap.apf.utils.renderHeaderOfTextPropertyFile(r,i);var f=h(n);function u(e){a(undefined,C(),y({code:"5227"},e&&e.messages))}var p=T(r);var l=t.upsert(p,"metadata","apfapplication",f,o,"application/json");l.then(function(){var n=t.upsert(p,"text","properties",f,c,"text/plain");n.then(function(){s.setItem(r,new sap.apf.utils.Hashtable(i));a({Application:r,ApplicationName:e.ApplicationName,SemanticObject:e.SemanticObject},C())},u)},u)}function H(e,a){i.check(e.ApplicationName!==undefined&&e.ApplicationName!=="","Valid application name is required");var n=e.Application;var r=JSON.stringify({ApplicationName:e.ApplicationName,SemanticObject:e.SemanticObject,Application:n});function o(e){a(undefined,y({code:"5228",aParameters:[n]},e&&e.messages))}var s=T(n);var c=t.upsert(s,"metadata","apfapplication","CUSTOMER",r,"application/json");c.then(function(){a({Application:n,ApplicationName:e.ApplicationName,SemanticObject:e.SemanticObject})},o)}function M(e,a,n){var i=e[0].value;function r(e){var n=R(e);a(C(),n)}var o=T(i);var s=t.listContent(o,n);s.then(function(e){var n=e.response;var i=[];n.forEach(function(e){if(e.fileType==="apfconfiguration"){x().then(function(a){i.push(t.deleteFile(o,e.name,e.fileType,e.layer,a))},function(e){a(C(),y({code:"5224"},e&&e.messages))})}else{i.push(t.deleteFile(o,e.name,e.fileType,e.layer))}});var r=Promise.all(i);return r},r).then(function(){a(C())},r)}function R(e){var a;if(e&&e.messageObject&&e.messageObject.getCode){a=e.messageObject}else if(e&&e.response&&e.response.statusCode&&e.response.statusCode>=400){a=i.createMessageObject({code:"11005",aParameters:[e.response.statusCode.toString(),e.response.statusText]})}else{a=i.createMessageObject({code:"5201",aParameters:e&&e.messages||[]})}return a}function L(e,a){var n=[];p(a,"apfapplication").then(function(a){var t=a.response;t.forEach(function(e){var a;var t;if(e.fileType&&e.fileType==="apfapplication"){a=l(e);if(!sap.apf.utils.isValidPseudoGuid(a)){return}var i="";t=d(e,"apfdt-applname");n.push({Application:a,ApplicationName:t,SemanticObject:i})}});e(n,C())},t);function t(a){e(undefined,C(),y({code:"5229"},a&&a.messages))}}}});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/messageDefinition", function(){var e=[{code:"3001",severity:"technError",text:"Text is not available for the following key: {0}"},{code:"5001",severity:"fatal",text:"Request {3} to server failed with http status code {0}, http error message {1}, and server response {2}.",key:"5001"},{code:"5002",severity:"error",description:"Error in OData request; update of analysis step {0} failed.",key:"5002"},{code:"5004",severity:"fatal",description:"Request with ID {0} does not exist in the analytical content configuration.",key:"5004"},{code:"5005",severity:"technError",text:"Required property {1} is missing in the filter of the OData request for entity type {0}."},{code:"5006",severity:"technError",text:"Inconsistency in data model; non-filterable property {1} is set as required filter for entity type {0}."},{code:"5015",severity:"fatal",description:"Service for request {0} is not defined in the analytical content configuration.",key:"5015"},{code:"5016",severity:"technError",text:"Mandatory parameter key property {0} is missing in filter."},{code:"5018",severity:"fatal",description:"Metadata request {0} failed.",key:"5018"},{code:"5019",severity:"technError",text:"System query option $orderby for property {1} removed from OData request for entity type {0}."},{code:"5020",severity:"fatal",description:"Analytical content configuration is not available.",key:"5020"},{code:"5021",severity:"error",description:"Error during server request; session timeout occurred.",key:"5021"},{code:"5022",severity:"fatal",description:"Analytical configuration with ID {0} is not available.",key:"5022"},{code:"5023",severity:"fatal",description:"Texts could not be loaded for Analytical configuration with ID {0}.",key:"5023"},{code:"5024",severity:"fatal",description:"URL Parameter for Analytical Configuration ID must contain the ID of the application and the ID of the Analytical configuration seperated by a dot.",key:"5024"},{code:"5025",severity:"fatal",description:"Value for SAP client has not been provided at startup of the application.",key:"5025"},{code:"5026",severity:"fatal",description:"Logical system cannot be determined for SAP client {0}. ",key:"5026"},{code:"5027",severity:"technError",text:"Inconsistent parameters; analysis path cannot be saved. Path ID: {0}, path name: {1}, callback function {2}"},{code:"5028",severity:"technError",text:"Binding with ID {0} contains a representation without ID."},{code:"5029",severity:"technError",text:"Binding with ID {0} contains a duplicated representation ID."},{code:"5030",severity:"technError",text:"Constructor property of representation type ID {0} does not contain a module path to a valid function."},{code:"5031",severity:"technError",text:"Argument for method 'setApplicationMessageCallback' is not a function."},{code:"5032",severity:"technError",text:"System query option {1} unknown in request for entity type {0}."},{code:"5033",severity:"technError",text:"Unsupported type {0} in configuration object provided."},{code:"5034",severity:"technError",text:"Facet filter configuration attribute 'property' missing."},{code:"5035",severity:"technError",text:"Function module path contained in property preselectionFuntion of facet filter ID {0} does not contain a valid function."},{code:"5036",severity:"technError",text:"Start parameter step id {0} is not existing."},{code:"5037",severity:"technError",text:"Start parameter representation id {0} is not existing."},{code:"5038",severity:"technError",text:"Environment for sap.ushell.Container is not existing."},{code:"5039",severity:"technError",text:"Error while pushing content to the ushell container"},{code:"5040",severity:"technError",text:"Error while fetching content from the ushell container"},{code:"5041",severity:"error",description:"Metadata document {0} is inconsistent. It contains no entity sets.",key:"5041"},{code:"5042",severity:"error",description:"Exception occurred: {0}",key:"5042"},{code:"5043",severity:"fatal",description:"Server error {1} occurred when trying to read the Smart Business Evaluation Id {0}.",key:"5043"},{code:"5044",severity:"fatal",description:"Smart Business Evaluation Id {0} could not be evaluated, because the entry for DataSource SmartBusiness is missing in the manifest of the component.",key:"5044"},{code:"5045",severity:"fatal",description:"There occurred an error when trying to resolve the X-AppState with ID {0}. See log in console.",key:"5045"},{code:"5046",severity:"fatal",description:"The selection variant in X-AppState with ID {0} contains invalid parameter object. The parameter name is missing.",key:"5046"},{code:"5047",severity:"fatal",description:"The selection variant in X-AppState with ID {0} contains invalid parameter object with name {1}. The parameter value is missing.",key:"5047"},{code:"5048",severity:"fatal",description:"The selection variant in X-AppState with ID {0} contains invalid selection. The property name is missing.",key:"5048"},{code:"5049",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid selection. The range definition is invalid.",key:"5049"},{code:"5050",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid range. The sign must be I.",key:"5050"},{code:"5051",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid range. The option BT requires a high value.",key:"5051"},{code:"5052",severity:"fatal",description:"Service {0} for SmartFilterBar not available.",key:"5052"},{code:"5053",severity:"fatal",description:"Initialization of SmartFilterBar failed, for example, because the entity type {0} doesn't exist in service {1} .",key:"5053"},{code:"5054",severity:"fatal",description:"Server problem occurred when loading application configuration file from {0}."},{code:"5055",severity:"fatal",description:"The application configuration from url path {0} has no valid format."},{code:"5056",severity:"fatal",description:"The text resource locations are missing in the application configuration from {0}."},{code:"5057",severity:"fatal",description:"Error when loading the analytical configuration from {0}."},{code:"5058",severity:"fatal",description:"Server error {0} when loading the application message configuration from url path {2}: {1}."},{code:"5059",severity:"fatal",description:"The url path {0} for the resource location {1} is not valid."},{code:"5060",severity:"fatal",description:"No analytical configuration defined either in the application configuration or the data source AnalyticalConfigurationLocation is missing in the manifest."},{code:"5061",severity:"fatal",description:"EntityType of the smart business service definition is missing in the application configuration file."},{code:"5062",severity:"fatal",description:"The type in Smart Business configuration is either missing or not smartBusinessRequest."},{code:"5063",severity:"fatal",description:"The service in the Smart Business service configuration is missing."},{code:"5064",severity:"fatal",description:"The data source definition for path persistence, that has to be declared  with name PathPersistenceServiceRoot, is missing in the manifest."},{code:"5065",severity:"fatal",description:"The data source definition for analytical configuration, that has to be declared  with name PathPersistenceServiceRoot, is either missing in the manifest or incomplete."},{code:"5066",severity:"fatal",description:"The persistence path configuration is missing in the application configuration."},{code:"5067",severity:"fatal",description:"The service of the persistence path configuration is missing in the application configuration."},{code:"5068",severity:"fatal",description:"Server problem {1} occurred when loading application configuration file from {0}: {2}"},{code:"5069",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid option. The option CP may not contain more than two wildcards.",key:"5069"},{code:"5070",severity:"error",description:"Javascript exception was caught: {0}",key:"5070"},{code:"5071",severity:"error",description:"Exception happened during processing of error by message callback function: {0}",key:"5071"},{code:"5072",severity:"fatal",description:"Entity set {0} for hierarchical service {1} not available",key:"5072"},{code:"5073",severity:"fatal",description:"Hierarchical property {2} in entity set {0} for hierarchical service {1} has no hierarchical annotations",key:"5073"},{code:"5074",severity:"technError",text:"UShell service for navigation targets does not exist in the current runtime, so no navigation to other applications is possible"},{code:"5075",severity:"error",description:"URL Parameter for Analytical Configuration ID must be supplied when reading, loading or storing analysis paths.",key:"5075"},{code:"5100",severity:"fatal",description:"Unexpected internal error: {0}. Contact SAP.",key:"5100"},{code:"5101",severity:"technError",text:"Unexpected internal error: {0}. Contact SAP."},{code:"5102",severity:"fatal",description:"Wrong definition in analytical content configuration: {0}",key:"5102"},{code:"5103",severity:"technError",text:"Wrong definition in analytical content configuration: {0}"},{code:"5104",severity:"technError",text:"Wrong filter mapping definition in analytical content configuration"},{code:"5105",severity:"technError",text:"XSRF Token could not be fetched from the application router"},{code:"5200",severity:"technError",text:"Server error during processing of path: {0} {1}"},{code:"5201",severity:"error",description:"Unknown server error.",key:"5201"},{code:"5202",severity:"technError",text:"Persistence service call returned '405 - Method not allowed'."},{code:"5203",severity:"technError",text:"Bad request; data is structured incorrectly."},{code:"5204",severity:"error",description:"Error during server request; maximum number of analysis steps exceeded.",key:"5204"},{code:"5205",severity:"error",description:"Error during server request; maximum number of analysis paths exceeded.",key:"5205"},{code:"5206",severity:"error",description:"Access forbidden; insufficient privileges",key:"5206"},{code:"5207",severity:"error",description:"Inserted value too large; probably maximum length of analysis path name exceeded",key:"5207"},{code:"5208",severity:"error",description:"Error during path persistence; request to server can not be proceed due to invalid ID.",key:"5208"},{code:"5210",severity:"fatal",description:"Error during opening of analysis path; see log.",key:"5210"},{code:"5211",severity:"error",description:"Server response contains undefined path objects.",key:"5211"},{code:"5212",severity:"error",description:"Metadata file of application {0} could not be accessed.",key:"5212"},{code:"5213",severity:"error",description:"Text file of application {0} could not be accessed.",key:"5213"},{code:"5214",severity:"error",description:'Request to the server failed with http status code {0} and http error message "{1}".',key:"5214"},{code:"5220",severity:"error",description:"Error Message from Server: {0}",key:"5220"},{code:"5221",severity:"error",description:"Server Error - Analytical Configuration could not be read. Technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5221"},{code:"5222",severity:"error",description:"Server Error - Texts of Application could not be read. The technical key of the application is {0}.",key:"5222"},{code:"5223",severity:"error",description:"Server Error - Analytical Configurations could not be read. The technical key of the application is {0}.",key:"5223"},{code:"5224",severity:"error",description:"Server Error - Settings of the Layered Repository could not be read.",key:"5224"},{code:"5225",severity:"error",description:"Server Error - Analytical Configuration could not be deleted. Technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5225"},{code:"5226",severity:"error",description:"Server Error - Analytical Configuration could not be created. Technical key of application is {0}.",key:"5226"},{code:"5227",severity:"error",description:"Server Error - Application could not be created.",key:"5227"},{code:"5228",severity:"error",description:"Server Error - Application could not be updated. The technical key of the application is {0}.",key:"5228"},{code:"5229",severity:"error",description:"Server Error - Applications could not be read.",key:"5229"},{code:"5230",severity:"error",description:"Server Error - Text property file of Application could not be updated. The technical key of the application is {0}.",key:"5230"},{code:"5231",severity:"error",description:"Server Error - Analytical Configurations could not be read from the Vendor Layer during Import",key:"5231"},{code:"5232",severity:"error",description:"Server Error - Metadata of the Analytical Configurations could not be updated. The technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5232"},{code:"5233",severity:"error",description:"Server Error - Analytical configuration could not be updated. The technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5233"},{code:"5234",severity:"information",description:"In this hierarchical step you can make selections in the hierarchy {0}. You have already added analysis step {1}, in which you can also make selections in the hierarchy {0}. For technical reasons, you cannot add more than one hierarchical step with the same selection option.",key:"5234"},{code:"5235",severity:"technError",text:"The filter, that is provided to the called application during navigation could not be reduced properly. So the original filter is supplied."},{code:"5236",severity:"fatal",description:"Please configure the data source {0} in the manifest of the component.",key:"5236"},{code:"5237",severity:"error",text:"Server Error - The application could not be deleted. Technical key of the application is {0}.",key:"5237"},{code:"5238",severity:"error",text:"The analytical configuration with key {0} already exists under another application and cannot be created again",key:"5238"},{code:"5252",severity:"fatal",description:"Server Error - Analysis Path could not be opened.",key:"5252"},{code:"5301",severity:"warning",description:"Add or update path filter API method called with unsupported filter; See sap.apf.api documentation",key:"5301"},{code:"5408",severity:"error",description:"Format information is missing at least for text element {0} - please edit the exported text property file manually",key:"5408"},{code:"5409",severity:"error",description:"Application id {0} cannot be used as translation uuid in text property file - please edit the exported text property file manually",key:"5409"},{code:"5410",severity:"error",description:"Imported text property file does not contain the APF application id - expected an entry like #ApfApplicationId=543EC63F05550175E10000000A445B6D.",key:"5410"},{code:"5411",severity:"error",description:"Expected a valid text entry <key>=<value> in line {0}, but could not find - key must be in valid guid format.",key:"5411"},{code:"5412",severity:"error",description:"No valid text entry <key>=<value> in line {0}, key is not in valid guid format like 543EC63F05550175E10000000A445B6D.",key:"5412"},{code:"5415",severity:"error",description:"Date in line {0} has invalid format.",key:"5415"},{code:"6001",severity:"fatal",description:"Missing {0} in the configuration; contact your administrator.",key:"6001"},{code:"6000",severity:"error",description:"Data is not available for the {0} step.",key:"6000"},{code:"6002",severity:"error",description:"Missing {0} for {1} in the configuration; contact your administrator.",key:"6002"},{code:"6003",severity:"error",description:"Missing {0} in the configuration; contact your administrator.",key:"6001"},{code:"6004",severity:"technError",text:"Metadata not available for step {0}."},{code:"6005",severity:"error",description:"Server request failed. Unable to read paths.",key:"6005"},{code:"6006",severity:"error",description:"Server request failed. Unable to save path {0}.",key:"6006"},{code:"6007",severity:"error",description:"Server request failed. Unable to update path {0}.",key:"6007"},{code:"6008",severity:"error",description:"Server request failed. Unable to open path {0}.",key:"6008"},{code:"6009",severity:"error",description:"Server request failed. Unable to delete path {0}.",key:"6009"},{code:"6010",severity:"technError",description:"Data is not available for filter {0}",key:"6010"},{code:"6011",severity:"fatal",description:"Smart Business service failed.Please try later",key:"6011"},{code:"6012",severity:"information",description:"Add at least one step to the path before saving",key:"6012"},{code:"6013",severity:"information",description:"This table uses the top n function to limit the number of data records. Therefore, the table is already sorted to determine the top n records and you cannot sort it by any other sorting criteria.",key:"6013"},{code:"6014",severity:"information",description:"Maximum number of analysis paths exceeded",key:"6014"},{code:"6015",severity:"information",description:"Maximum number of analysis steps exceeded; delete a step",key:"6015"},{code:"6016",severity:"success",description:"Path {0} updated",key:"6016"},{code:"6017",severity:"success",description:"Path {0} updated",key:"6017"},{code:"7000",severity:"error",description:"Missing {0} in the configuration; contact your administrator.",key:"6001"},{code:"9001",severity:"fatal",description:"The app has stopped working due to a technical error.",key:"9001"}];return e},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/messageHandler", ["sap/apf/core/constants","sap/apf/utils/utils","sap/apf/core/messageObject","sap/apf/utils/hashtable","sap/base/Log","sap/apf/core/messageDefinition"],function(e,r,s,t,i){"use strict";function n(n){var a={initial:0,startup:1,running:2,shutdown:3};var o=this;var f;var g=[];var u=0;var d;var c;var v;var l=false;var p=false;var h=false;var m=false;var y=false;var w="";var M={code:e.message.code.errorUnknown,severity:e.message.severity.error,rawText:"Unknown Error occurred"};var C=a.initial;var E=[];this.setLifeTimePhaseStartup=function(e){C=a.startup};this.setLifeTimePhaseRunning=function(){C=a.running};this.setLifeTimePhaseShutdown=function(){C=a.shutdown};this.fatalErrorOccurredAtStartup=function(){var r;if(C!==a.startup){return false}for(r=0;r<E.length;r++){if(E[r].getSeverity()===e.message.severity.fatal){return true}}return false};this.createMessageObject=function(r){var t=new s(r);if(n){if(t.getCode()===undefined){t.setCode(e.message.code.errorUnknown)}S.bind(this)(t);I(t,1)}else if(r.enrichInfoInMessageObject===true){S.bind(this)(t)}return t};this.activateOnErrorHandling=function(e){l=e;if(l===true){jQuery(window).on("error",D)}else{jQuery(window).off("error")}};this.setTextResourceHandler=function(e){f=e};this.loadConfig=function(e,r){if(d===undefined||r){d=new t(o)}for(var s=0;s<e.length;s++){j(e[s])}};this.setMessageCallback=function(e){if(e!==undefined&&typeof e==="function"){c=e}else{c=undefined}};this.setCallbackForTriggeringFatal=function(e){if(e!==undefined&&typeof e==="function"){v=e}else{v=undefined}};this.putMessage=function(r){var s;var t=0;var i;if(r.getCode()===undefined){r.setCode(e.message.code.errorUnknown)}S.bind(this)(r);if(r.getSeverity()===e.message.severity.fatal){i=o.createMessageObject({code:e.message.code.errorExitTriggered});S.bind(this)(i);i.setSeverity(e.message.severity.fatal);if(i.getMessage()===""){i.setMessage("The app has stopped working due to a technical error.")}}s=r.getPrevious();while(s!==undefined&&s.type&&s.type==="messageObject"&&t<10){if(s.getCode()===undefined){s.setCode(e.message.code.errorUnknown)}S.bind(this)(s);s=s.getPrevious();t++}if(i!==undefined){i.setPrevious(r);r=i}if(!n){I(r,10)}E.push(r);if(p){return}if(r.getSeverity()===e.message.severity.technError){return}if(c!==undefined){if(C===a.shutdown||C===a.startup&&r.getSeverity()!==e.message.severity.fatal){return}p=true;c(r);p=false}if(v!==undefined&&h===false){h=true;v(r);h=false}if(r.getSeverity()===e.message.severity.fatal&&C!==a.shutdown){if(sap.ui.Device.browser.firefox){y=true}throw new Error(w)}};this.check=function(r,s,t){var i=t||e.message.code.errorCheck;if(!r){var n=this.createMessageObject({code:i,aParameters:[s]});o.putMessage(n)}};this.getConfigurationByCode=function(e){if(d===undefined){return undefined}return d.getItem(e)};this.getLogMessages=function(){return jQuery.extend(true,[],g)};this.reset=function(){d=undefined;c=undefined;g=[];E=[]};this.isOwnException=function(e){return e&&e.message&&e.message.search(w)>-1};function b(e){if(sap.ui.Device.browser.firefox){return y}return e.originalEvent&&e.originalEvent.message&&e.originalEvent.message.search(w)>-1}function x(r){return r.originalEvent&&r.originalEvent.message&&r.originalEvent.message.search(w)===-1&&r.originalEvent.message.search(e.message.code.suppressFurtherException)>-1}function k(){var s=r.createPseudoGuid(32);return e.message.code.suppressFurtherException+s}function P(r){var s=parseInt(r,10);return s==e.message.code.errorExitTriggered||s==e.message.code.errorUnknown||s==e.message.code.errorInMessageDefinition}function T(r){var s=parseInt(r,10);return s==e.message.code.errorExitTriggered||s==e.message.code.errorInMessageDefinition}function S(r){function s(e,r){var s=0;while(e.indexOf("{"+s+"}")>-1){if(typeof r[s]==="string"){e=e.replace("{"+s+"}",r[s])}else{e=e.replace("{"+s+"}","undefined")}s++}return e}var t=r.getCode();var i=o.getConfigurationByCode(t);if(i===undefined){i=jQuery.extend(true,{},M);if(P(t)){if(r.hasRawText()){i.rawText=r.getRawText()}i.rawText+=" "+r.getParameters();if(T(t)){i.severity=e.message.severity.fatal}}else{i.rawText="Message "+t+"  "+r.getParameters()+" (Message Code has no Configuration)"}if(!P(t)){r.setCode(i.code)}}if(i.severity!==undefined){r.setSeverity(i.severity)}else{r.setSeverity(e.message.severity.technError)}if(i.rawText){r.setMessage(i.rawText)}else{var n=r.getParameters();if(r.getSeverity()===e.message.severity.technError){var a=o.getConfigurationByCode(i.code).text;if(!a){a=o.getConfigurationByCode(i.code).description}r.setMessage(s(a,n))}else{try{if(f&&i.key){r.setMessage(f.getMessageText(i.key,r.getParameters()))}else if(i.description){r.setMessage(s(i.description,n))}else{r.setMessage("Message Code: "+t+" "+n.toString())}}catch(e){if(i.description){r.setMessage(s(i.description,n))}else{r.setMessage("Message Code: "+t+" "+n.toString())}}}}}function I(r,s){var t="APF message ";var n="";var a=s-1;if(s===0){return}var o=r.getPrevious();if(o!==undefined){I(o,a);n=" - (see previous message for more information)"}u++;var f=t+"("+u+"): "+r.getCode()+" - "+r.getMessage()+n;if(m){alert("Fatal Error during Log Writing "+f);return}m=true;if(r.getSeverity()===e.message.severity.fatal){if(g.length<2){g.unshift(f)}}switch(r.getSeverity()){case e.message.severity.warning:i.warning(f);break;case e.message.severity.error:i.error(f);break;case e.message.severity.fatal:i.error(f);break;case e.message.severity.technError:i.error(f);break;default:i.info(f)}m=false}function O(r){o.check(r!==undefined&&r.hasOwnProperty("code")!==false,"MessageHandler setItem: oItem is undefined or property 'code' is missing",e.message.code.errorInMessageDefinition);var s=d.setItem(r.code,r);o.check(s===undefined,"MessageHandler setItem: Configuration includes duplicated codes",e.message.code.errorInMessageDefinition)}function j(e){if(e.type===undefined){e.type="message"}O(e)}function D(e){var r;var t="";var i="";var n="";var a="";var o=true;if(sap.ui.Device.browser.firefox){o=false}if(o&&e&&e.originalEvent){t=e.originalEvent.message;n=e.originalEvent.filename;i=e.originalEvent.lineno}if(b(e)){e.stopImmediatePropagation();e.preventDefault()}else if(x(e)){return}else if(p){a="";if(o){a=t+" (source: "+n+":"+i+")"}r=new s({code:"5070",aParameters:[a]});S.bind(this)(r);I(r,1)}else{a="";if(o){a=t+" (source: "+n+":"+i+")"}r=new s({code:"5070",aParameters:[a]});S.bind(this)(r);I(r,1)}}function F(){w=k()}F()}sap.apf=sap.apf||{};sap.apf.core=sap.apf.core||{};sap.apf.core.MessageHandler=n;return n});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/messageObject", [],function(){"use strict";function t(t){var e=t.code;var r=t.aParameters||[];var n=t.oCallingObject;var i="";var s="";var a;var u=new Date;var o=t.rawText;this.type="messageObject";this.getCode=function(){return e};this.setCode=function(t){e=t};this.hasRawText=function(){return o!==undefined};this.getRawText=function(){return o};this.getMessage=function(){return i};this.setMessage=function(t){i=t};this.setSeverity=function(t){s=t};this.getSeverity=function(){return s};this.setPrevious=function(t){a=t};this.getPrevious=function(){return a};this.getCallingObject=function(){return n};this.getParameters=function(){return r};this.getStack=function(){if(this.stack){return this.stack}return""};this.getTimestamp=function(){return u.getTime()};this.getTimestampAsdateObject=function(){return u};this.getJQueryVersion=function(){return jQuery().jquery};this.getSapUi5Version=function(){return sap.ui.version}}sap.apf=sap.apf||{};sap.apf.core=sap.apf.core||{};sap.apf.core.MessageObject=t;t.prototype=new Error;t.prototype.constructor=sap.apf.core.MessageObject;return t},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/metadata", ["sap/apf/utils/utils","sap/apf/utils/hashtable","sap/ui/model/odata/v2/ODataModel","sap/ui/model/odata/ODataUtils"],function(e,t,r,a){"use strict";var n=function(t,r){this.type="metadata";var a=this;var n=jQuery.Deferred();var i=[];var s=t&&t.constructors&&t.constructors.Hashtable||s;var o=new s(t.instances.messageHandler);var f=new s(t.instances.messageHandler);var c=new s(t.instances.messageHandler);var u=new s(t.instances.messageHandler);var l=new s(t.instances.messageHandler);var y=new s(t.instances.messageHandler);var h=new s(t.instances.messageHandler);var p=new s(t.instances.messageHandler);var d=new s(t.instances.messageHandler);var v=new s(t.instances.messageHandler);var g=new s(t.instances.messageHandler);var m=new s(t.instances.messageHandler);var E=t.constructors.ODataModel||sap.ui.model.odata.v2.ODataModel;var P=false;if(t.deactivateFatalError){P=true}var I;var S;var O;var H;var b=M(r);function M(e){var r=t.functions.getSapSystem();if(r){return sap.ui.model.odata.ODataUtils.setOrigin(e,{force:true,alias:r})}return e}function D(e){var t;function r(e){if(!t.dataType){t.dataType={}}t.dataType[e]=t[e]}function a(e,r){if(jQuery.isArray(t[r])===true){t[r].forEach(function(e){t[e.name]=e.value})}else if(r!=="dataType"&&typeof t[r]==="object"){if(Object.keys(t[r]).length===0){t[e]="true"}if(r!==e){jQuery.each(t[r],function(r,a){t[e]=a})}}else{t[e]=t[r]}}if(e===null){return{}}t=jQuery.extend(true,{},e);jQuery.each(t,function(e){switch(e){case"type":r(e);break;case"maxLength":r(e);break;case"precision":r(e);break;default:var t=e.split(".").pop();if(t.search("ISO")===0){a(t,e)}else{a(t.replace(/^./,t[0].toLowerCase()),e)}break}});return t}function k(e,t){if(u.hasItem(e)!==true){var r;var a={};var n={allParameters:[],keyParameters:[]};if(C(e)){r=R(e);if(r.key&&r.key.propertyRef){r.key.propertyRef.forEach(function(e){a[e.name]=null})}r.property.forEach(function(e){var t=D(e);t.isKey=a.hasOwnProperty(t.name);n.allParameters.push(t);if(t.isKey){n.keyParameters.push(t)}})}u.setItem(e,n)}if(!t){return u.getItem(e).allParameters}return u.getItem(e).keyParameters}function A(e){var t=[];var r;if(C(e)){e=x(e)}r=R(e);r.property.forEach(function(e){t.push(e.name)});return t}function w(e){var t;if(c.hasItem(e)===true){return c.getItem(e)}var r;var a=[];var n=[];var i=x(e);if(i&&U(i)){var s=R(i);s.property.forEach(function(e){a.push(e.name)})}var o=k(e,false);for(t=0;t<o.length;t++){n.push(o[t].name)}r=a.concat(n);c.setItem(e,r);return r}function T(e){return y.getItem(e)}function j(e){var t=T(e);t=t||T(e+"Results");if(!t&&R(e)){t=e}return t}function F(e){if(f.hasItem(e)===false){var t=[];var r=R(e);r.property.forEach(function(e){if(!(e["sap:filterable"]==="false"||e.filterable&&e.filterable==="true")){t.push(e.name)}});f.setItem(e,t)}return f.getItem(e)}function C(e){return N(e)==="parameters"}function U(e){return N(e)==="aggregate"}function N(e){if(!p.hasItem(e)){var t=R(e);var r=t&&t["sap:semantics"]||"undefined";p.setItem(e,r)}return p.getItem(e)}function q(e,t){if(o.hasItem(e+t)===false){var r=C(e);var a=R(e);var n=I.getODataProperty(a,t);if(!n&&r){var i=x(e);a=R(i);n=I.getODataProperty(a,t)}o.setItem(e+t,D(n))}return o.getItem(e+t)}function x(e){var t=v.getItem(e);if(t){return T(t.toAggregateEntitySet)}return e}function R(e){if(!e){return undefined}if(!m.hasItem(e)){var t=I.getODataEntityType(O+e);if(!t){return t}m.setItem(e,t)}return m.getItem(e)}function K(){var e;S=u();S.attachMetadataLoaded(function(){I=S.getMetaModel();I.loaded().then(function(){if(!S.getServiceMetadata()){e="5018";if(P){e="11013"}t.instances.messageHandler.putMessage(t.instances.messageHandler.createMessageObject({code:e,aParameters:[r],oCallingObject:a}));n.reject();return}s();o();f(S);c();n.resolve(this)}.bind(this))}.bind(this));S.attachMetadataFailed(function(){e="5018";if(P){e="11013"}t.instances.messageHandler.putMessage(t.instances.messageHandler.createMessageObject({code:e,aParameters:[r],oCallingObject:a}));n.reject();return});function s(){var e={};var n=I.getODataEntityContainer()&&I.getODataEntityContainer().entitySet;if(!n){t.instances.messageHandler.putMessage(t.instances.messageHandler.createMessageObject({code:"5041",aParameters:[r],oCallingObject:a}));return}n.forEach(function(t){var r=t.entityType.split(/[. ]+/).pop();y.setItem(t.name,r);h.setItem(r,t.name);if(!e.hasOwnProperty(r)){e[r]=true;i.push(r)}})}function o(){var e=I.getODataEntityContainer()&&I.getODataEntityContainer().entitySet;if(!e){return}var t=e[0].entityType.split(".");t.pop();O=t.join(".")+"."}function f(e){var t=e&&e.getServiceAnnotations();if(t&&t.aliasDefinitions&&t.aliasDefinitions.Capabilities){H=t.aliasDefinitions.Capabilities+"."}}function c(){var e=I.getODataEntityContainer();if(!e||!e.associationSet){return}e.associationSet.forEach(function(e){var t=e.end[0].entitySet,r=e.end[1].entitySet,a,n;if(C(T(t))){a=t}else if(U(T(t))){n=t}if(C(T(r))){a=r}else if(U(T(r))){n=r}if(!a||!n){return}var i;var s=R(T(a));var o;s.navigationProperty.forEach(function(t){if(!o&&t.relationship===e.association){i=t.name;o=true}});if(!i){return}var f={navigationProperty:i,fromParameterEntitySet:a,toAggregateEntitySet:n,fromIsUnique:undefined,toIsUnique:undefined};if(d.hasItem(a)){f.fromIsUnique=false;d.getItem(a).fromIsUnique=false}else{f.fromIsUnique=true;d.setItem(a,f);v.setItem(T(a),f)}if(g.hasItem(n)){g.getItem(n).toIsUnique=false}else{f.toIsUnique=true;g.setItem(n,f)}})}function u(){var e=t.instances.annotationHandler.getAnnotationsForService(r);var a={annotationURI:e,json:true};return new E(b,a)}}this.getEntityTypes=function(){return i};this.getPropertyMetadata=function(e,r){t.instances.messageHandler.check(e!==undefined&&typeof e==="string","sap.apf.core.Metadata:getPropertyMetadata incorrect EntityType name or type");t.instances.messageHandler.check(r!==undefined&&typeof r==="string","sap.apf.core.Metadata:getPropertyMetadata incorrect sPropertyName name or type");var a=j(e);if(!a){return{}}return q(a,r)};this.getUriComponents=function(e){if(!T(e)){if(T(e+"Results")){return{entitySet:e+"Results",navigationProperty:""}}return null}var r;switch(N(T(e))){case"undefined":return{entitySet:e,navigationProperty:""};case"parameters":r=d.getItem(e);if(!r||r.fromIsUnique===false){return{entitySet:e,navigationProperty:undefined}}return{entitySet:e,navigationProperty:r.navigationProperty};case"aggregate":r=g.getItem(e);if(!r){return{entitySet:e,navigationProperty:""}}if(r.toIsUnique===false){return{entitySet:undefined,navigationProperty:undefined}}return{entitySet:r.fromParameterEntitySet,navigationProperty:r.navigationProperty};default:t.instances.messageHandler.check(false,"metadata : getUriComponents - not handled return value for sap semantics")}};this.getFilterableProperties=function(e){t.instances.messageHandler.check(e!==undefined&&typeof e==="string","sap.apf.core.Metadata:getFilterableProperties incorrect EntityType name or type");var r=j(e);if(!r){return[]}r=x(r);return F(r)};this.getAllPropertiesOfEntitySet=function(e){t.instances.messageHandler.check(e!==undefined&&typeof e==="string","sap.apf.core.Metadata:getAllPropertiesOfEntitySet incorrect EntitySet name or type");var r=j(e);if(!r){return[]}return A(r)};this.getAllProperties=function(){var r=[];var a;this.getEntityTypes().forEach(function(e){a=w(e);if(a.length===0){a=A(e)}r=r.concat(a)});r=e.eliminateDuplicatesInArray(t.instances.messageHandler,r);return r};this.getFilterablePropertiesAndParameters=function(){var r=[];var a;var n=this.getEntityTypes();n.forEach(function(e){var t=R(e);t.property.forEach(function(e){if(!(e["sap:filterable"]==="false")&&e["sap:aggregation-role"]==="dimension"){r.push(e.name)}});a=k(e,false);a.forEach(function(e){r.push(e.name)})});return e.eliminateDuplicatesInArray(t.instances.messageHandler,r)};this.getParameterEntitySetKeyPropertiesForService=function(){var r=[];this.getEntityTypes().forEach(function(e){k(e,true).forEach(function(e){r.push(e.name)})});r=e.eliminateDuplicatesInArray(t.instances.messageHandler,r);return r};this.getAllKeys=function(){var r=[];var a=[];this.getEntityTypes().forEach(function(e){var t=R(e);a=[];if(t.key&&t.key.propertyRef){t.key.propertyRef.forEach(function(e){a.push(e.name)})}r=r.concat(a)});r=e.eliminateDuplicatesInArray(t.instances.messageHandler,r);return r};this.getAttributes=function(e){var t=false;var r={};this.getEntityTypes().forEach(function(a){if(!t){r=q(a,e);if(r.name){t=true}}});return r};this.getParameterEntitySetKeyProperties=function(e){t.instances.messageHandler.check(e!==undefined&&typeof e==="string","sap.apf.core.Metadata:getParameterEntitySetKeyProperties incorrect EntityType name or type");var r=j(e);if(!r){return[]}return k(r,true)};this.getEntityTypeAnnotations=function(e){var r=j(e);t.instances.messageHandler.check(e!==undefined&&typeof e==="string","sap.apf.core.Metadata:getEntityTypeAnnotations incorrect EntityType name or type");if(l.hasItem(r)===true){return l.getItem(r)}var a={};i(r,a);var n=x(r);if(n!==r){i(n,a)}l.setItem(r,a);return l.getItem(r);function i(e,t){var r;var a;var n;var i=R(e);for(r in i){if(i.hasOwnProperty(r)){if(r.indexOf(H)!==0){continue}a=r.split(".").pop();a=a.replace(/^./,a[0].toLowerCase());for(n in i[r]){if(i[r].hasOwnProperty(n)){t[a]=i[r][n]}}}}}};this.getEntitySets=function(){var e={};var t=[];var r=I.getODataEntityContainer();if(!r){return[]}if(r.associationSet){r.associationSet.forEach(function(t){var r,a,n;r=j(t.end[0].entitySet);if(!C(r)){return}n=t.end[1].entitySet;a=j(n);if(!C(a)){e[n]=true}})}if(r.entitySet){r.entitySet.forEach(function(r){if(!e[r.name]){t.push(r.name)}})}return t};this.getAllEntitySetsExceptParameterEntitySets=function(){var e=I.getODataEntityContainer();var t=[];if(!e){return[]}if(e.entitySet){e.entitySet.forEach(function(e){var r=T(e.name);if(!C(r)){t.push(e.name)}})}return t};this.getEntitySetByEntityType=function(e){return h.getItem(e)};this.getHierarchyAnnotationsForProperty=function(e,a){var n={};var i=this.getAllPropertiesOfEntitySet(e);if(i.length===0){return t.instances.messageHandler.createMessageObject({code:5072,aParameters:[e,r]})}var s=T(e);var o=x(s);i.forEach(function(e){var t=q(o,e);if(t["hierarchy-node-for"]===a){n.hierarchyNodeFor=e}});if(!n.hierarchyNodeFor){return t.instances.messageHandler.createMessageObject({code:5073,aParameters:[e,r,a]})}i.forEach(function(e){var t=q(o,e);if(t["hierarchy-level-for"]===n.hierarchyNodeFor){n.hierarchyLevelFor=e}else if(t["hierarchy-parent-node-for"]===n.hierarchyNodeFor){n.hierarchyParentNodeFor=e}else if(t["hierarchy-drill-state-for"]===n.hierarchyNodeFor){n.hierarchyDrillStateFor=e}else if(t["hierarchy-node-external-key-for"]===n.hierarchyNodeFor){n.hierarchyNodeExternalKeyFor=e}});return n};this.getHierarchicalEntitySets=function(){var e=[];var t=this.getEntitySets();t.forEach(function(t){var r=L.call(this,t);if(r.entitySet){e.push(r.entitySet)}}.bind(this));return e};this.getHierarchicalPropertiesOfEntitySet=function(e){return L.call(this,e).hierarchyProperties};function L(e){var t={};t.hierarchyProperties=[];var r=T(e);if(!r){return t}var a=x(r);var n=this.getAllPropertiesOfEntitySet(e);n.forEach(function(r){var i=q(a,r);var s=false;var o=false;var f=false;if(i["hierarchy-node-for"]!==undefined){var c=i["hierarchy-node-for"];var u=r;n.forEach(function(e){var t=q(a,e);if(t["hierarchy-level-for"]===u){s=true}else if(t["hierarchy-parent-node-for"]===u){o=true}else if(t["hierarchy-drill-state-for"]===u){f=true}});if(s&&o&&f){t.entitySet=e;t.hierarchyProperties.push(c)}}});return t}this.getNonHierarchicalPropertiesOfEntitySet=function(e){var t=[];var r=T(e);if(!r){return t}var a=x(r);var n=this.getAllPropertiesOfEntitySet(e);var i=L.call(this,e).hierarchyProperties;n.forEach(function(e){var r=q(a,e);if(r["hierarchy-node-for"]===undefined&&r["hierarchy-node-external-key-for"]===undefined&&r["hierarchy-parent-node-for"]===undefined&&r["hierarchy-level-for"]===undefined&&r["hierarchy-drill-state-for"]===undefined&&r["hierarchy-node-descendant-count-for"]===undefined&&i.indexOf(e)===-1){var n=r.name;t.push(n)}});return t};this.getODataModel=function(){return S};this.isInitialized=function(){return n.promise()};K.call(this)};sap.apf.core.Metadata=n;return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/metadataFacade", ["sap/apf/utils/utils","sap/apf/core/metadataProperty"],function(e,t){"use strict";var r=function(r,a){this.type="metadataFacade";var i=r.instances.messageHandler;var n=r.instances.metadataFactory;var o;var s;var f={};this.getAllProperties=function(t){var r;var a;var s=0;var f;var u=[];if(o){t(o)}else{r=c();a=r.length;for(f=0;f<a;f++){n.getMetadata(r[f]).done(v)}}function v(r){s++;u=u.concat(r.getAllProperties());if(a==s){o=e.eliminateDuplicatesInArray(i,u);t(o)}}};this.getAllParameterEntitySetKeyProperties=function(e){var t;var r;var a=0;var o;var f=[];if(s){e(s)}else{t=c();r=t.length;for(o=0;o<r;o++){n.getMetadata(t[o]).done(u)}}function u(t){a++;f=f.concat(t.getParameterEntitySetKeyPropertiesForService());if(r==a){s=sap.apf.utils.eliminateDuplicatesInArray(i,f);e(s)}}};this.getPropertyMetadataByEntitySet=function(e,r,a){var i=jQuery.Deferred();n.getMetadata(e).done(function(e){var n=e.getPropertyMetadata(r,a);i.resolve(new t.constructor(n))});return i.promise()};this.getProperty=function(e){var r;var a;var i;var o=jQuery.Deferred();if(f[e]){o.resolve(f[e])}else{r=c();i=r.length;for(var s=0;s<i;s++){n.getMetadata(r[s]).done(function(r){a=r.getAttributes(e);if(a.name){if(r.getParameterEntitySetKeyPropertiesForService().indexOf(e)>-1){a.isParameterEntitySetKeyProperty=true}if(r.getAllKeys().indexOf(e)>-1){a.isKey=true}for(var i in a){if(i==="dataType"){for(var n in a.dataType){a[n]=a.dataType[n]}}}f[e]=new t.constructor(a);o.resolve(f[e])}})}}return o.promise()};function c(){if(typeof a==="string"){return[a]}return n.getServiceDocuments()}};sap.apf.core.MetadataFacade=r;return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/metadataFactory", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";sap.apf.core.MetadataFactory=function(t){this.type="metadataFactory";var e=t.instances.messageHandler;var a=t.constructors.Hashtable;var n=t.constructors.Metadata;var r=t.constructors.EntityTypeMetadata;var s=t.constructors.MetadataFacade;delete t.constructors.Metadata;delete t.constructors.EntityTypeMetadata;delete t.constructors.MetadataFacade;delete t.instances.configurationFactory;var i=new a(e);this.getMetadata=function(e){if(i.hasItem(e)===false){i.setItem(e,{metadataPromise:new n(t,e).isInitialized()})}return i.getItem(e).metadataPromise};this.getEntityTypeMetadata=function(t,n){var s;var o;var c=this.getMetadata(t);s=i.getItem(t).entityTypes;if(!s){s=new a(e);i.getItem(t).entityTypes=s}if(!s.getItem(n)){o=jQuery.Deferred();s.setItem(n,o.promise());c.then(function(t){o.resolve(new r(e,n,t))},function(){o.resolve(undefined)})}return s.getItem(n)};this.getMetadataFacade=function(a){return new s({constructors:{MetadataProperty:t.constructors.MetadataProperty},instances:{messageHandler:e,metadataFactory:this}},a)};this.getServiceDocuments=function(){return t.functions.getServiceDocuments()};this.getEntitySets=function(t){var e=jQuery.Deferred();this.getMetadata(t).done(function(t){e.resolve(t.getEntitySets())}).fail(function(){e.resolve([])});return e.promise()};this.getAllEntitySetsExceptParameterEntitySets=function(t){var e=jQuery.Deferred();this.getMetadata(t).done(function(t){e.resolve(t.getAllEntitySetsExceptParameterEntitySets())}).fail(function(){e.resolve([])});return e.promise()};this.getEntityTypes=function(t){var e=jQuery.Deferred();this.getMetadata(t).done(function(t){e.resolve(t.getEntityTypes())}).fail(function(){e.resolve([])});return e.promise()}}});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/metadataProperty", [],function(){"use strict";function t(e){var r=this;var i=false;var n=false;this.isKey=function(){return i};this.isParameterEntitySetKeyProperty=function(){return n};this.getAttribute=function(t){if(typeof this[t]!=="function"){return this[t]}};this.clone=function(){return new t(e)};function a(t,e){switch(t){case"isKey":if(e===true){i=true}break;case"isParameterEntitySetKeyProperty":if(e===true){n=true}break;default:if(typeof r[t]!=="function"){r[t]=e}}return r}function u(){for(var t in e){switch(t){case"dataType":for(var r in e.dataType){a(r,e.dataType[r])}break;default:a(t,e[t])}}}u()}sap.apf.core.MetadataProperty=t;return{constructor:t}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/core/odataProxy", ["sap/ui/thirdparty/datajs","sap/apf/utils/utils","sap/apf/core/constants","sap/ui/thirdparty/jquery"],function(e,t,a,jQuery){"use strict";sap.apf.core.OdataProxy=function(e,t){var a=t.instances.coreApi;var s=t.instances.messageHandler;var n=e.serviceRoot;function r(e,t){return a.getEntityTypeMetadata(e,t)}function o(e){var t,a,s;if(!e){return""}a=e.length;if(a===1){return"('"+e[0].value+"')"}s="(";for(t=0;t<a;t++){if(t>0){s=s+","}s=s+e[t].name+"='"+e[t].value+"'"}return s+")"}function i(e){var t;if(e.messageObject&&e.messageObject.getCode){t=e.messageObject}else if(e.response&&e.response.statusCode&&e.response.statusCode>=400){t=s.createMessageObject({code:"11005",aParameters:[e.response.statusCode.toString(),e.response.statusText]})}else{t=s.createMessageObject({code:"5201"})}s.putMessage(t);return t}function c(e,t){var a=i(e);t(undefined,undefined,a)}function u(e,t,a,n){var o;var i;if(e&&e.results){o=e.results}else if(e){o=e}else{i=s.createMessageObject({code:"5201"})}r(t,a).done(function(e){n(o,e,i)})}function f(e){var t=JSON.parse(e.SerializedAnalyticalConfiguration);delete e.SerializedAnalyticalConfiguration;t.configHeader=e;e.SerializedAnalyticalConfiguration=JSON.stringify(t);return e}this.readEntity=function(e,t,s,r,i){var f=sap.apf.core.constants.entitySets[e];a.getXsrfToken(n).done(function(e){var i=n+"/"+f;i=i+o(s);if(r&&r.length>0){i=i+"?$select="+r.join()}var d={requestUri:i,async:true,method:"GET",headers:{"x-csrf-token":e}};a.odataRequest(d,function(e){u(e,n,f,t)},function(e){c(e,t)})})};function d(e,t,a){var s="'";if(a&&a.dataType){return sap.apf.utils.formatValue(t,a.dataType.type)}if(typeof t==="number"){return t}return s+sap.apf.utils.escapeOdata(t)+s}function p(e){var t=jQuery.Deferred();a.getXsrfToken(n).done(function(a){var s=[];var i,c=e.length;var u;var f=0;for(i=0;i<c;i++){u=sap.apf.core.constants.entitySets[e[f].entitySetName];r(n,u).done(function(n){var r,i,u;var p=false;r=sap.apf.core.constants.entitySets[e[f].entitySetName];r=r+o(e[f].inputParameters);if(e[f].selectList&&e[f].selectList.length>0){r=r+"?$select="+e[f].selectList.join();p=true}if(e[f].filter){if(p){r=r+"&"}else{r=r+"?"}r=r+"$filter="+e[f].filter.toUrlParam({formatValue:function(e,t){return d(e,t,n)}})}i=e[f].method||"GET";u={requestUri:r,method:i,headers:{"Accept-Language":sap.ui.getCore().getConfiguration().getLanguage(),"x-csrf-token":a}};if(i!=="GET"){u.data=e[f].data}s.push(u);f++;if(f===c){t.resolve(s)}})}});return t}function g(e,t,a,s){var i=jQuery.Deferred();var c="";var u=e+o(t);if(a&&a.length>0){c="$select="+a.join()}r(n,e).done(function(t){if(s){if(c){c=c+"&"}c=c+"$filter="+s.toUrlParam({formatValue:function(e,a){return d(e,a,t)}})}if(e===sap.apf.core.constants.entitySets.application){if(c){c=c+"&"}c=c+"$orderby=ApplicationName"}if(c){u=u+"?"+c}i.resolve(u)});return i}function h(e,t){var a="unknown error";var n="unknown error";var r="";if(e.message!==undefined){a=e.message}var o="unknown";if(e.response&&e.response.statusCode){o=e.response.statusCode;n=e.response.statusText||"";r=e.response.requestUri}if(e.messageObject&&e.messageObject.type==="messageObject"){t([],e.messageObject)}else{t([],s.createMessageObject({code:"5001",aParameters:[o,a,n,r]}))}}this.doChangeOperationsInBatch=function(e,t){a.getXsrfToken(n).done(function(r){p(e).done(function(e){var o={requestUri:n+"/"+"$batch",method:"POST",headers:{"x-csrf-token":r},data:{__batchRequests:[{__changeRequests:e}]}};var i=function(e,a){var n;var r;var o,i,c;var u="";var f,d;if(e&&e.__batchResponses){for(f=0;f<e.__batchResponses.length;f++){if(e.__batchResponses[f].message){o=e.__batchResponses[f].message;i="";u=a.requestUri;n=s.createMessageObject({code:"5001",aParameters:[i,o,"",u]});break}for(d=0;d<e.__batchResponses[f].__changeResponses.length;d++){r=e.__batchResponses[f].__changeResponses[d];if(r.message){o=r.message;c=r.data;i=r.statusCode;u=a.requestUri;n=s.createMessageObject({code:"5001",aParameters:[i,o,c,u]});break}}}t(n)}};var c=function(e){h(e,t)};a.odataRequest(o,i,c,OData.batchHandler)})})};this.readCollectionsInBatch=function(e,t){a.getXsrfToken(n).done(function(r){p(e).done(function(e){var o={requestUri:n+"/"+"$batch",async:true,method:"POST",headers:{"x-csrf-token":r},data:{__batchRequests:e}};var i=function(e){var a=[];var n,r,o,i,c;var u;if(e&&e.__batchResponses){for(u=0;u<e.__batchResponses.length;u++){if(e.__batchResponses[u].data&&e.__batchResponses[u].data.results){a.push(e.__batchResponses[u].data.results)}else if(e.__batchResponses[u].message){r=e.__batchResponses[u].message;o=e.__batchResponses[u].response.body;i=e.__batchResponses[u].response.statusCode;c=a.requestUri;n=s.createMessageObject({code:"5001",aParameters:[i,r,o,c]});break}else{c=a.requestUri;n=s.createMessageObject({code:"5001",aParameters:["unknown","unknown error","unknown error",c]});break}}t(a,n)}};var c=function(e){h(e,t)};a.odataRequest(o,i,c,OData.batchHandler)})})};this.readCollection=function(e,t,a,s,n){l(e,t,a,s,n)};function l(e,t,o,i,u){var f=sap.apf.core.constants.entitySets[e];var d=function(e,a){var o;var i;var c="";if(e&&e.__batchResponses){if(e.__batchResponses[0].data&&e.__batchResponses[0].data.results){o=e.__batchResponses[0].data.results}else if(e.__batchResponses[0].message){var u=e.__batchResponses[0].message;var d=e.__batchResponses[0].response.body;var p=e.__batchResponses[0].response.statusCode;c=a.requestUri;i=s.createMessageObject({code:"5001",aParameters:[p,u,d,c]})}else{c=a.requestUri;i=s.createMessageObject({code:"5001",aParameters:["unknown","unknown error","unknown error",c]})}r(n,f).done(function(e){t(o,e,i)})}};a.getXsrfToken(n).done(function(e){g(f,o,i,u).done(function(s){var r={requestUri:n+"/"+"$batch",async:true,method:"POST",headers:{"x-csrf-token":e},data:{__batchRequests:[{requestUri:s,method:"GET",headers:{"x-csrf-token":e,"Accept-Language":sap.ui.getCore().getConfiguration().getLanguage()}}]}};a.odataRequest(r,d,function(e){c(e,t)},OData.batchHandler)})})}this.create=function(e,t,o){if(e==="configuration"){t=f(t)}var c=sap.apf.core.constants.entitySets[e];a.getXsrfToken(n).done(function(e){var u=n+"/"+c;var f={requestUri:u,async:true,method:"POST",headers:{"x-csrf-token":e},data:t};function d(e,t){var a;var i;if(e&&t.statusCode===201){a=e}else{i=s.createMessageObject({code:"5201"})}r(n,c).done(function(e){o(a,e,i)})}function p(e){var t=i(e);o(undefined,undefined,t)}a.odataRequest(f,d,p)})};this.update=function(e,t,c,u){if(e==="configuration"){t=f(t)}var d=sap.apf.core.constants.entitySets[e];a.getXsrfToken(n).done(function(e){var f=n+"/"+d+o(u);var p={requestUri:f,method:"PUT",headers:{"x-csrf-token":e},data:t};function g(e,t){var a;if(t.statusCode!==204){a=s.createMessageObject({code:"5201"})}r(n,d).done(function(e){c(e,a)})}function h(e){var t=i(e);c(undefined,t)}a.odataRequest(p,g,h)})};this.remove=function(e,t,c,u){var f=sap.apf.core.constants.entitySets[e];a.getXsrfToken(n).done(function(e){var p=n+"/"+f+o(t);r(n,f).done(function(t){if(u){p=p+"$filter="+u.toUrlParam({formatValue:function(e,a){return d(e,a,t)}})}var s={requestUri:p,method:"DELETE",headers:{"x-csrf-token":e}};a.odataRequest(s,g,h)});function g(e,t){if(t.statusCode===204){r(n,f).done(function(e){c(e,undefined)})}else{var a=s.createMessageObject({code:"5201"});c(undefined,a)}}function h(e){var t=i(e);c(undefined,t)}})}}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/odataRequest", ["sap/apf/core/utils/checkForTimeout","sap/ui/model/odata/ODataUtils"],function(e,t){"use strict";sap.apf.core.odataRequestWrapper=function(e,t,a,r,s){var i=e.instances.datajs;function u(e,t){var s=sap.apf.core.utils.checkForTimeout(t);var i={};if(s){i.messageObject=s;r(i)}else{a(e,t)}}function c(e){var t=sap.apf.core.utils.checkForTimeout(e);if(t){e.messageObject=t}r(e)}var o=t.serviceMetadata;var n=e.functions.getSapSystem();if(n&&!t.isSemanticObjectRequest){var f=/(\/[^\/]+)$/g;if(t.requestUri&&t.requestUri[t.requestUri.length-1]==="/"){t.requestUri=t.requestUri.substring(0,t.requestUri.length-1)}var p=t.requestUri.match(f)[0];var l=t.requestUri.split(p);var q=sap.ui.model.odata.ODataUtils.setOrigin(l[0],{force:true,alias:n});t.requestUri=q+p}i.request(t,u,c,s,undefined,o)}});
/*!
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/path", ["sap/apf/utils/trace"],function(e){"use strict";function t(t){this.type="path";var r=t.instances.messageHandler;var a=t.instances.coreApi;var i=[];var n=[];var s=0;this.destroy=function(){n=[];i.forEach(function(e){e.destroy()});i=[]};this.getFilterInformation=function(){var e=false;var t=[];var r=n[0];i.forEach(function(a,i){if(!e){if(this.stepIsActive(a)){e=true}else{t.push(a.getFilterInformation(r,i))}}}.bind(this));return Promise.all(t).then(function(e){return[].concat.apply([],e)})};this.getSteps=function(){return jQuery.extend(true,[],i)};this.addStep=function(t,r){e.logCall("Path.addStep");i.push(t);this.update(r);e.logReturn("addStep")};this.makeStepActive=function(t){var a=this.stepIsInPath(t);e.log("makeStepActive",", bStepIsInPath",a);r.check(a,"An unknown step can't be an active step.",sap.apf.core.constants.message.code.errorCheckWarning);if(a){if(this.stepIsActive(t)===false){n.push(t)}}};this.makeStepInactive=function(t){var a=this.stepIsActive(t);e.log("makeStepInactive",", bStepIsActive",a);r.check(a,"Only an active step can be removed from the active steps.",sap.apf.core.constants.message.code.errorCheckWarning);if(a){var i=jQuery.inArray(t,n);n.splice(i,1)}};this.stepIsActive=function(e){var t=jQuery.inArray(e,n);return t>=0};this.stepIsInPath=function(e){var t=jQuery.inArray(e,i);return t>=0};this.getActiveSteps=function(){return jQuery.extend(true,[],n)};this.getCumulativeFilterUpToActiveStep=function(){var e=jQuery.Deferred();var t=this;l().done(function(t){if(i.length===0){e.resolve(t)}else{r(0,t,function(t){e.resolve(t)})}});return e.promise();function r(e,a,n){i[e].determineFilter(a.copy(),function(s,o){if(o){a=o}a.addAnd(s);if(t.stepIsActive(i[e])||!i[e+1]){n(a);return}r(++e,a,n)})}};this.moveStepToPosition=function(e,t,a){var n=jQuery.inArray(e,i);var s=t;r.check(typeof t==="number"&&t>=0&&t<i.length,"Path: moveStepToPosition invalid argument for nPosition");r.check(n>=0&&n<i.length,"Path: moveStepToPosition invalid step");if(n===t){return}i.splice(n,1);i.splice(s,0,e);this.update(a)};this.removeStep=function(t,a){e.logCall("Path.removeStep");var n=this.stepIsInPath(t);var s=this.stepIsActive(t);var o=jQuery.inArray(t,i);r.check(n,"Path: remove step - invalid step");i.splice(o,1);if(s){this.makeStepInactive(t)}this.update(a);t.destroy();e.logReturn("removeStep")};this.update=function(t,n){e.logCall("Path.update");if(!i[0]){if(n){e.log("update - fnUpdatePathFinished <<< ");n()}e.logReturn("update");return}var o;var u=i[0];l().done(function(c){e.log("update - @ getContextFilter().done(oContextFilter)");s++;o=s;u.update(c,f);function f(a,n){var f=jQuery.inArray(u,i);e.logCall("Path.update.callbackAfterRequest"," nIndexOfCurrentStep=",f,", nCurrentUpdateCount="+o);var p;if(o===s){if(a instanceof Error){var d=f+1;p=r.createMessageObject({code:"5002",aParameters:[d],callingObject:u});p.setPrevious(a);r.putMessage(p);u.setData({data:[],metadata:undefined},c);t(u,true);f++;u=i[f];while(u){u.setData({data:[],metadata:undefined},c);t(u,true);f++;u=i[f]}e.logReturn("update-callbackAfterRequest");return}if(n){u.setData(a,c)}e.log("update - before fnStepProcessedCallback");t(u,n);if(o!==s){e.logReturn("update-callbackAfterRequest");return}u.determineFilter(c.copy(),l)}e.logReturn("update-callbackAfterRequest")}function l(e,t){if(t){c=t}c=p(c,e,u.getContextInfo());var r=jQuery.inArray(u,i);c.addAnd(e);u=i[r+1];if(u){u.update(c,f)}else{a.storeApfState();c=undefined;if(n){n()}}}});e.logReturn("update")};this.serialize=function(){return{path:{steps:u(),indicesOfActiveSteps:o()}}};this.deserialize=function(e){c(e.path.steps,this);f(e.path.indicesOfActiveSteps,this)};function o(){var e=[];for(var t=0;t<i.length;t++){for(var r=0;r<n.length;r++){if(i[t]===n[r]){e.push(t)}}}return e}function u(){var e=[];for(var t=0;t<i.length;t++){e.push(i[t].serialize())}return e}function c(e,t){var r=t.update;t.update=function(){};var n;for(n=0;n<e.length;n++){a.createStep(e[n].stepId)}for(n=0;n<i.length;n++){i[n].deserialize(e[n])}t.update=r}function f(e,t){for(var r=0;r<e.length;r++){var a=e[r];t.makeStepActive(i[a])}}this.checkAddStep=function(e){var t=jQuery.Deferred();var n=a.getConfigurationObjectById(e);var s=a.getConfigurationObjectById(n.binding).requiredFilters;if(n.type==="hierarchicalStep"&&s&&s.length===1){var o=a.getConfigurationObjectById(n.request);a.getMetadata(o.service).done(function(e){var u=e.getPropertyMetadata(o.entityType,s[0]);if(u["hierarchy-node-for"]===n.hierarchyProperty){i.forEach(function(e){if(e.type==="hierarchicalStep"){var i=e.getBinding().getRequiredFilters();if(i.length===1&&i[0]===s[0]){t.resolve(false,r.createMessageObject({code:5234,aParameters:[n.hierarchyProperty,a.getTextNotHtmlEncoded(e.getAdditionalConfigurationProperties().title.key)],enrichInfoInMessageObject:true}))}}})}if(t.state()==="pending"){t.resolve(true)}})}else{t.resolve(true)}return t.promise()};function l(){var e=jQuery.Deferred();jQuery.when(a.getCumulativeFilter(),a.getSmartFilterBarAsPromise()).done(function(t,a){var i,n,s;var o=t.copy();if(a){i=a.getFilters();i.forEach(function(e){o.addAnd(sap.apf.core.utils.Filter.transformUI5FilterToInternal(r,e))});s=a.getAnalyticalParameters();if(s&&s.length>0){for(n=0;n<s.length;n++){var u=s[n].fieldName;var c=s[n].fieldNameOData;var f=a.getFilters([u]);var l=undefined;if(f&&f.length){if(f[0].oValue1!==undefined){l=f[0].oValue1}else{l=f[0].aFilters[0].oValue1}o.addAnd(new sap.apf.core.utils.Filter(r,c,"EQ",l))}}}}e.resolve(o)});return e}function p(e,r,a){if(t.exits&&t.exits.path&&t.exits.path.beforeAddingToCumulatedFilter){return t.exits.path.beforeAddingToCumulatedFilter(e,r,a)}return e}}sap.apf.core.Path=t;return{constructor:t}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/persistence", ["sap/apf/core/constants"],function(e){"use strict";function t(t){var a;this.createPath=function(e,a,n){var i;var c=r(n);u().then(function(a){i={data:{AnalysisPath:"",AnalysisPathName:e,LogicalSystem:a,ApplicationConfigurationURL:t.functions.getComponentName(),SerializedAnalysisPath:JSON.stringify(n),StructuredAnalysisPath:JSON.stringify(c)},method:"POST"};if(t.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId()){i.data.AnalyticalConfiguration=t.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId().configurationId}s(i,o)},function(e){a({oResponse:undefined,status:"failed"},{},e)});function o(e,s,n){if(n){a({oResponse:e,status:"failed"},s,n)}else{t.instances.messageHandler.check(e&&e.data&&e.statusCode===201,"Persistence create Path - proper response");a({AnalysisPath:e.data.AnalysisPath,status:"successful"},s,n)}}};this.readPaths=function(e){var a={method:"GET"};s(a,n.bind(this));function n(a,s,n){if(!n&&a&&a.data&&a.data.results){for(var i in a.data.results){a.data.results[i].StructuredAnalysisPath=JSON.parse(a.data.results[i].StructuredAnalysisPath)}}else if(!n||a.statusCode!==200){n=t.instances.messageHandler.createMessageObject({code:"5211"})}if(n){e({oResponse:a,status:"failed"},s,n)}else{e({paths:a.data.results,status:"successful"},s,n)}}};this.deletePath=function(e,a){var n={method:"DELETE"};s(n,i.bind(this),e);function i(e,s,n){if(e.statusCode!==204&&!n){n=t.instances.messageHandler.createMessageObject({code:5201});n.setPrevious(t.instances.messageHandler.createMessageObject({code:5200,aParameters:[e.statusCode,e.statusText]}))}if(n){a({oResponse:e,status:"failed"},s,n)}else{a({status:"successful"},s,n)}}};this.modifyPath=function(e,a,n,i){var c=r(i);u().then(function(n){var r={data:{AnalysisPath:e,AnalysisPathName:a,LogicalSystem:n,ApplicationConfigurationURL:t.functions.getComponentName(),SerializedAnalysisPath:JSON.stringify(i),StructuredAnalysisPath:JSON.stringify(c)},method:"PUT"};if(t.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId()){r.data.AnalyticalConfiguration=t.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId().configurationId}s(r,o.bind(this),e)},function(e){n({oResponse:undefined,status:"failed"},{},e)});function o(a,s,i){if(a.statusCode!==204&&!i){i=t.instances.messageHandler.createMessageObject({code:5201});i.setPrevious(t.instances.messageHandler.createMessageObject({code:5200,aParameters:[a.statusCode,a.statusText]}))}if(i){n({oResponse:a,status:"failed"},s,i)}else{n({AnalysisPath:e,status:"successful"},s,i)}}};this.openPath=function(e,a){var n={method:"GET"};s(n,i,e);function i(e,s,n){var i;if(!n&&e&&e.statusCode===200&&e.data&&e.data.SerializedAnalysisPath){e.data.SerializedAnalysisPath=JSON.parse(e.data.SerializedAnalysisPath)}if(n){i=t.instances.messageHandler.createMessageObject({code:"5210"});i.setPrevious(n);t.instances.messageHandler.putMessage(i)}a({path:e.data,status:"successful"},s)}};function s(e,a,s){var r=function(e,t){c().done(function(e){a(t,e,undefined)})};var o=function(e){var s;if(e.messageObject&&e.messageObject.getCode&&e.messageObject.getCode()===5021){c().done(function(t){a(e,t,e.messageObject)});return}var n=i(e.response.body);if(n!==undefined){s=t.instances.messageHandler.createMessageObject({code:n})}if(e.response.body.match("274")){s=t.instances.messageHandler.createMessageObject({code:"5207"})}if(e.response.statusCode===400){s=t.instances.messageHandler.createMessageObject({code:"5203"})}if(e.response.statusCode===403){s=t.instances.messageHandler.createMessageObject({code:"5206"})}if(e.response.statusCode===405){s=t.instances.messageHandler.createMessageObject({code:"5202"})}if(e.response.statusCode===404){s=t.instances.messageHandler.createMessageObject({code:"5208"})}if(!s&&e.response.statusCode===500){s=t.instances.messageHandler.createMessageObject({code:"5200",aParameters:[e.response.statusCode,e.response.statusText]})}if(!s){s=t.instances.messageHandler.createMessageObject({code:"5201"})}t.instances.messageHandler.putMessage(s);c().done(function(t){a(e,t,s)})};t.instances.coreApi.getPersistenceConfiguration().done(function(i){var d=i.path.service+"/"+i.path.entitySet;t.instances.coreApi.getXsrfToken(i.path.service).done(function(i){e.headers={"x-csrf-token":i};switch(e.method){case"GET":if(!e.data&&s){e.requestUri=d+"('"+s+"')";t.instances.coreApi.odataRequest(e,r,o)}else if(!e.data&&!s){n().then(function(a){e.requestUri=d+a;t.instances.coreApi.odataRequest(e,r,o)},function(e){c().done(function(t){a({},t,e)})})}break;case"POST":if(e.data&&!s){e.requestUri=d}t.instances.coreApi.odataRequest(e,r,o);break;case"DELETE":if(!e.data&&s){e.requestUri=d+"('"+s+"')"}t.instances.coreApi.odataRequest(e,r,o);break;case"PUT":if(e.data&&s){e.requestUri=d+"('"+s+"')"}t.instances.coreApi.odataRequest(e,r,o);break;default:t.instances.coreApi.odataRequest(e,r,o);break}})})}function n(){var e=jQuery.Deferred();u().then(function(a){var s="";if(t.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId()){s="AnalyticalConfiguration%20eq%20'"+t.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId().configurationId+"'%20and%20"}var n="?$select=AnalysisPath,AnalysisPathName,StructuredAnalysisPath,CreationUTCDateTime,LastChangeUTCDateTime&$filter=("+s+"LogicalSystem%20eq%20'"+a+"'%20and%20"+"ApplicationConfigurationURL%20eq%20'"+t.functions.getComponentName()+"')"+"&$orderby=LastChangeUTCDateTime%20desc";e.resolve(n)},function(t){e.fail(t)});return e.promise()}function i(e){var t=e.match("52[0-9]{2}");if(t){return t[0]}return undefined}function r(e){var t=[];var a=e.path.steps;var s;for(var n in a){t.push({stepId:a[n].stepId,selectedRepresentationId:a[n].binding.selectedRepresentationId})}s={steps:t,indexOfActiveStep:e.path.indicesOfActiveSteps[0]};return s}function c(){var e=jQuery.Deferred();t.instances.coreApi.getPersistenceConfiguration().done(function(a){t.instances.coreApi.getEntityTypeMetadata(a.path.service,a.path.entitySet).done(function(t){e.resolve(t)})});return e}function o(e){var t=e&&e.getFilterTermsForProperty("SAPClient");if(t===undefined||t.length!==1){return undefined}return t[0].getValue()}function d(s,n){t.instances.coreApi.getPersistenceConfiguration().done(function(i){var r=t.instances.messageHandler;var c=i.logicalSystem;if(!c){a=n;s.resolve(n);return s.promise()}var o=c.service;var d=c.entitySet||c.entityType;if(o===null){a=n;s.resolve(n);return s.promise()}if(d===undefined){d=e.entitySets.logicalSystem}t.instances.coreApi.getMetadata(o).done(function(e){t.instances.coreApi.getXsrfToken(o).done(function(i){var c=new sap.apf.core.utils.Filter(r,"SAPClient","eq",n);var u=t.instances.coreApi.getUriGenerator().getAbsolutePath(o);u=u+t.instances.coreApi.getUriGenerator().buildUri(r,d,["LogicalSystem"],c,undefined,undefined,undefined,undefined,undefined,"Results",e);var f={requestUri:u,method:"GET",headers:{"x-csrf-token":i}};var l=function(e){var t;if(e&&e.results&&e.results instanceof Array&&e.results.length===1&&e.results[0].LogicalSystem){a=e.results[0].LogicalSystem;s.resolve(a)}else{t=r.createMessageObject({code:"5026",aParameters:[n]});s.fail(t)}};var g=function(e){var t=r.createMessageObject({code:"5026",aParameters:[n]});if(e.messageObject!==undefined&&e.messageObject.type==="messageObject"){t.setPrevious(e.messageObject)}s.fail(t)};t.instances.coreApi.odataRequest(f,l,g)})})})}function u(){var e=jQuery.Deferred();if(a){e.resolve(a);return e.promise()}var s=t.instances.coreApi.getStartParameterFacade().getSapClient();if(s){d(e,s);return e.promise()}t.instances.coreApi.getCumulativeFilter().done(function(t){s=o(t);if(!s){e.resolve("")}else{d(e,s)}});return e.promise()}}sap.apf.core.Persistence=t;return{constructor:t}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/readRequest", ["sap/apf/core/request"],function(e){"use strict";sap.apf.core.ReadRequest=function(e,t,a,s){var n=e.instances.coreApi;var i=e.instances.messageHandler;this.type="readRequest";this.send=function(e,a,s){var n;var r=function(e,t){var s;var n;var r=[];if(e&&e.type&&e.type==="messageObject"){i.putMessage(e);s=e}else{r=e.data;n=e.metadata}a(r,n,s)};if(e){n=e.getInternalFilter()}else{n=new sap.apf.core.utils.Filter(i)}t.sendGetInBatch(n,r,s)};this.getMetadata=function(){return n.getEntityTypeMetadata(a,s)};this.getMetadataFacade=function(){return n.getMetadataFacade(a)}}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/readRequestByRequiredFilter", ["sap/apf/core/request"],function(e){"use strict";var t=function(e,t,r,a){var i=e.instances.coreApi;var n=e.instances.messageHandler;this.type="readRequestByRequiredFilter";this.send=function(e,s,u){var d;var o;var c=function(e,t){var r;var a;var i=[];if(e&&e.type&&e.type==="messageObject"){n.putMessage(e);r=e}else{i=e.data;a=e.metadata}s(i,a,r)};i.getMetadata(r).done(function(r){var n=r.getParameterEntitySetKeyProperties(a);var s="";var f=r.getEntityTypeAnnotations(a);if(f.requiresFilter!==undefined&&f.requiresFilter==="true"){if(f.requiredProperties!==undefined){s=f.requiredProperties}}var p=s.split(",");n.forEach(function(e){p.push(e.name)});i.getCumulativeFilter().done(function(r){o=r.restrictToProperties(p);if(e){d=e.getInternalFilter();d.addAnd(o)}else{d=o}t.sendGetInBatch(d,c,u)})})};this.getMetadataFacade=function(){return i.getMetadataFacade(r)}};sap.apf.core.readRequestByRequiredFilter=t;return t},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/representationTypes", ["sap/apf/core/constants"],function(t){"use strict";var e=function(){return[{type:"representationType",id:"ColumnChart",constructor:"sap.apf.ui.representations.columnChart",picture:"sap-icon://bar-chart",label:{type:"label",kind:"text",key:"ColumnChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"BarChart",constructor:"sap.apf.ui.representations.barChart",picture:"sap-icon://horizontal-bar-chart",label:{type:"label",kind:"text",key:"BarChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"LineChart",constructor:"sap.apf.ui.representations.lineChart",picture:"sap-icon://line-chart",label:{type:"label",kind:"text",key:"LineChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"LineChartWithTwoVerticalAxes",constructor:"sap.apf.ui.representations.lineChartWithTwoVerticalAxes",picture:"sap-icon://line-chart-dual-axis",label:{type:"label",kind:"text",key:"LineChartWithTwoVerticalAxes"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.YAXIS2,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"LineChartWithTimeAxis",constructor:"sap.apf.ui.representations.lineChartWithTimeAxis",picture:"sap-icon://line-chart-time-axis",label:{type:"label",kind:"text",key:"LineChartWithTimeAxis"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"1",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"PieChart",constructor:"sap.apf.ui.representations.pieChart",picture:"sap-icon://pie-chart",label:{type:"label",kind:"text",key:"PieChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.SECTORCOLOR,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.SECTORSIZE,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"DonutChart",constructor:"sap.apf.ui.representations.donutChart",picture:"sap-icon://donut-chart",label:{type:"label",kind:"text",key:"DonutChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.SECTORCOLOR,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.SECTORSIZE,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"ScatterPlotChart",constructor:"sap.apf.ui.representations.scatterPlotChart",picture:"sap-icon://scatter-chart",label:{type:"label",kind:"text",key:"ScatterPlotChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.REGIONCOLOR,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.REGIONSHAPE,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"1",min:"1"},{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"1",min:"1"}]}}},{type:"representationType",id:"BubbleChart",constructor:"sap.apf.ui.representations.bubbleChart",picture:"sap-icon://bubble-chart",label:{type:"label",kind:"text",key:"BubbleChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.REGIONCOLOR,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.REGIONSHAPE,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"1",min:"1"},{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"1",min:"1"},{kind:t.representationMetadata.kind.BUBBLEWIDTH,defaultCount:1,max:"1",min:"1"}]}}},{type:"representationType",id:"StackedColumnChart",constructor:"sap.apf.ui.representations.stackedColumnChart",picture:"sap-icon://vertical-stacked-chart",label:{type:"label",kind:"text",key:"StackedColumnChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"StackedBarChart",constructor:"sap.apf.ui.representations.stackedBarChart",picture:"sap-icon://horizontal-stacked-chart",label:{type:"label",kind:"text",key:"StackedBarChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"PercentageStackedColumnChart",constructor:"sap.apf.ui.representations.percentageStackedColumnChart",picture:"sap-icon://full-stacked-column-chart",label:{type:"label",kind:"text",key:"PercentageStackedColumnChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"PercentageStackedBarChart",constructor:"sap.apf.ui.representations.percentageStackedBarChart",picture:"sap-icon://full-stacked-chart",label:{type:"label",kind:"text",key:"PercentageStackedBarChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",isCombinationChart:true,id:"CombinationChart",constructor:"sap.apf.ui.representations.combinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"CombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:2,max:"*",min:"2"}]}}},{type:"representationType",isCombinationChart:true,id:"StackedCombinationChart",constructor:"sap.apf.ui.representations.stackedCombinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"StackedCombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:2,max:"*",min:"2"}]}}},{type:"representationType",isCombinationChart:true,id:"DualCombinationChart",constructor:"sap.apf.ui.representations.dualCombinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"DualCombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.YAXIS2,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",isCombinationChart:true,id:"DualStackedCombinationChart",constructor:"sap.apf.ui.representations.dualStackedCombinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"DualStackedCombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.YAXIS2,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"HeatmapChart",constructor:"sap.apf.ui.representations.heatmapChart",picture:"sap-icon://heatmap-chart",label:{type:"label",kind:"text",key:"HeatmapChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.XAXIS2,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.SECTORCOLOR,defaultCount:1,max:"1",min:"1"}]}}},{type:"representationType",id:"TableRepresentation",constructor:"sap.apf.ui.representations.table",picture:"sap-icon://table-chart",label:{type:"label",kind:"text",key:"tableView"},metadata:{properties:{supportedKinds:[{kind:t.representationMetadata.kind.COLUMN,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"TreeTableRepresentation",constructor:"sap.apf.ui.representations.treeTable",picture:"sap-icon://tree",label:{type:"label",kind:"text",key:"treeTable"},metadata:{hierarchicalColumn:{supportedKinds:[{kind:t.representationMetadata.kind.HIERARCHIALCOLUMN,defaultCount:1,max:"1",min:"0"}]},properties:{supportedKinds:[{kind:t.representationMetadata.kind.COLUMN,defaultCount:0,max:"*",min:"0"}]}}},{type:"representationType",id:"ColumnChartSorted",constructor:"sap.apf.ui.representations.columnChart",picture:"sap-icon://vertical-bar-chart",label:{type:"label",kind:"text",key:"ColumnChartSorted"}},{type:"representationType",id:"ColumnChartClustered",constructor:"sap.apf.ui.representations.columnChart",picture:"sap-icon://bar-chart",label:{type:"label",kind:"text",key:"ColumnChartClustered"}},{type:"representationType",id:"ColumnChartClusteredSorted",constructor:"sap.apf.ui.representations.columnChart",picture:"sap-icon://vertical-bar-chart-2",label:{type:"label",kind:"text",key:"ColumnChartClusteredSorted"}},{type:"representationType",id:"StackedColumnSorted",constructor:"sap.apf.ui.representations.stackedColumnChart",picture:"sap-icon://upstacked-chart",label:{type:"label",kind:"text",key:"StackedColumnSorted"}}]};return e},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/request", ["sap/apf/utils/utils","sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/apf/core/utils/filterSimplify"],function(e,t,a,r){"use strict";var s=function(t,a){var s=t.instances.messageHandler;var n=t.instances.coreApi;var i=a.service;var o=a.selectProperties;var c=n.getUriGenerator();var u;if(i===undefined){u=s.createMessageObject({code:"5015",aParameters:[a.id]});s.putMessage(u)}var d=n.getMetadata(i);this.type=a.type;this.sendGetInBatch=function(t,u,p,g){d.done(function(d){n.getXsrfToken(i).done(function(f){var v=d.getUriComponents(a.entityType);var l,b;if(v){l=v.entitySet;b=v.navigationProperty}s.check(l!==undefined,"Invalid request configuration: An entityset does not exist under the service "+a.entityType);s.check(b!==undefined,"Invalid request configuration: A usable navigation does not exist for the service "+a.entityType);var h;var _;A(t);if(t&&t.getProperties){h=t.restrictToProperties(d.getFilterableProperties(l));if(n.getStartParameterFacade().isFilterReductionActive()){_=new r.FilterReduction;h=_.reduceFilter(s,h)}}k(p);var y=p&&p.paging;var m=p&&p.orderby;var P=c.buildUri(s,l,o,h,t,m,y,undefined,T,b,d);var M=[{requestUri:P,method:"GET",headers:{"Accept-Language":sap.ui.getCore().getConfiguration().getLanguage(),"x-csrf-token":f}}];F();var O=c.getAbsolutePath(i);O=O+"$batch";var R={method:"POST",headers:{"x-csrf-token":f},requestUri:O,serviceMetadata:d.getODataModel().getServiceMetadata(),data:{__batchRequests:M}};var q=function(t,r){var i={};n.getEntityTypeMetadata(a.service,a.entityType).done(function(a){var n;try{var o="";if(t&&t.__batchResponses&&t.__batchResponses[0].data){i.data=t.__batchResponses[0].data.results;i.metadata=a;if(t.__batchResponses[0].data.__count){i.count=parseInt(t.__batchResponses[0].data.__count,10)}if(t.__batchResponses[1]&&t.__batchResponses[1].data){i.selectionValidation=t.__batchResponses[1].data.results}u(i,true)}else if(t&&t.__batchResponses[0]&&t.__batchResponses[0].response&&t.__batchResponses[0].message){o=r.requestUri;var c=t.__batchResponses[0].message;var d=t.__batchResponses[0].response.body;n=e.extractOdataErrorResponse(d);var p=t.__batchResponses[0].response.statusCode;i=s.createMessageObject({code:"5001",aParameters:[p,c,n,o]});s.putMessage(i)}else{o=r.requestUri||P;i=s.createMessageObject({code:"5001",aParameters:["unknown","unknown error","unknown error",o]});s.putMessage(i)}}catch(e){n=e&&e.message||"";window.console.trace("sap.apf.core.request catch exception: "+n);if(!s.isOwnException(e)){s.putMessage(s.createMessageObject({code:"5042",aParameters:[n]}))}}})};var j=function(e){var t="unknown error";var a;var r="unknown error";var n=P;if(e.message!==undefined){t=e.message}var i="unknown";if(e.response&&e.response.statusCode){i=e.response.statusCode;r=e.response.statusText||"";n=e.response.requestUri||P}if(e.messageObject&&e.messageObject.type==="messageObject"){s.putMessage(e.messageObject);u(e.messageObject)}else{a=s.createMessageObject({code:"5001",aParameters:[i,t,r,n]});s.putMessage(a);u(a)}};n.odataRequest(R,q,j,OData.batchHandler);function F(){if(g&&g.requiredFilterProperties&&g.selectionFilter){var e=h.copy();e.addAnd(g.selectionFilter);if(n.getStartParameterFacade().isFilterReductionActive()){e=_.reduceFilter(s,e)}var a=c.buildUri(s,l,g.requiredFilterProperties,e,t,undefined,undefined,undefined,T,b,d);M.push({requestUri:a,method:"GET",headers:{"Accept-Language":sap.ui.getCore().getConfiguration().getLanguage(),"x-csrf-token":f}})}}function T(t,a){var r="'";var s=d.getPropertyMetadata(l,t);if(s&&s.dataType){return e.formatValue(a,s)}if(typeof a==="number"){return a}return r+e.escapeOdata(a)+r}function k(e){var t,a;if(!e){return}t=Object.getOwnPropertyNames(e);for(a=0;a<t.length;a++){if(t[a]!=="orderby"&&t[a]!=="paging"){s.putMessage(s.createMessageObject({code:"5032",aParameters:[l,t[a]]}))}}}function A(e){var t=d.getFilterableProperties(l);var a="";var r=d.getEntityTypeAnnotations(l);var n;if(r.requiresFilter!==undefined&&r.requiresFilter==="true"){if(r.requiredProperties!==undefined){a=r.requiredProperties}}if(a===""){return}if(jQuery.inArray(a,t)===-1){n=s.createMessageObject({code:"5006",aParameters:[l,a]});s.putMessage(n)}var i=e.getProperties();if(jQuery.inArray(a,i)===-1){n=s.createMessageObject({code:"5005",aParameters:[l,a]});s.putMessage(n)}}})})}};sap.apf.core.Request=s;return s},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/resourcePathHandler", ["sap/apf/core/utils/filter","sap/apf/utils/hashtable","sap/apf/core/messageHandler","sap/apf/core/messageDefinition","sap/apf/core/odataProxy","sap/apf/core/layeredRepositoryProxy","sap/apf/cloudFoundry/runtimeProxy","sap/apf/core/constants","sap/apf/utils/startParameter","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,a,t,i,s,o,n,r,c,p,jQuery){"use strict";sap.apf.core.ResourcePathHandler=function(e){var a=this;var t=e.instances.coreApi;var i=e.instances.messageHandler;var s=new sap.apf.utils.Hashtable(i);var o;var n;var r=null;var c=jQuery.Deferred();var p=false;var u;this.loadConfigFromFilePath=function(a){if(p){return}p=true;var s=t.getStartParameterFacade().getAnalyticalConfigurationId();var o=a;t.ajax({url:o,dataType:"json",success:n,error:function(e,a,t){var s=i.createMessageObject({code:"5068",aParameters:[o,a,t]});x(s)},async:true,suppressSapSystem:true});function n(t,o,n){var r=e.functions.checkForTimeout(n);var c;if(r){c=i.createMessageObject({code:"5054",aParameters:[a]});c.setPrevious(r);x(c)}if(!t||!t.applicationConfiguration){x(i.createMessageObject({code:"5055",aParameters:[a]}))}if(t.applicationConfiguration.textResourceLocations===undefined){x(i.createMessageObject({code:"5056",aParameters:[a]}));return}S(t,s);v().done(function(){if(s){l(s)}else{g()}})}};function f(){return t.getStartParameterFacade().isLrepActive()}function l(a){var s=a.applicationId;var r=a.configurationId;if(f()&&!s){x(i.createMessageObject({code:"5024"}))}var p=new u({serviceRoot:n&&n.path&&n.path.service,entityTypes:{configuration:sap.apf.core.constants.entitySets.configuration,texts:sap.apf.core.constants.entitySets.texts}},{instances:{coreApi:t,messageHandler:i},manifests:e.manifests});if(f()){var l=[];var g=jQuery.Deferred();l.push(g);l.push(d(s,p))}p.readEntity("configuration",function(e,a,n){if(n){x(i.createMessageObject({code:"5022",aParameters:[r]}));c.resolve()}else{var u=JSON.parse(e.SerializedAnalyticalConfiguration);t.loadAnalyticalConfiguration(u);if(u.applicationTitle){o.appName=u.applicationTitle.key;o.appTitle=u.applicationTitle.key}if(f()){g.resolve()}else{s=s||e.Application;d(s,p).then(function(){c.resolve()})}}},[{name:"AnalyticalConfiguration",value:r}],undefined,s,{layer:"ALL"},{noMetadata:true});if(f()){jQuery.when.apply(jQuery,l).then(function(){c.resolve()})}}function d(e,a){var s=jQuery.Deferred();var o=new sap.apf.core.utils.Filter(i,"Application","eq",e);var n=new sap.apf.core.utils.Filter(i,"Language","eq",sap.apf.core.constants.developmentLanguage);n.addAnd(o);var r=["TextElement","TextElementDescription"];a.readCollection("texts",function(e,a,o){if(o){x(i.createMessageObject({code:"5023",aParameters:[t.getStartParameterFacade().getAnalyticalConfigurationId()]}))}else{t.loadTextElements(e)}s.resolve()},undefined,r,n,{layer:"ALL"});return s.promise()}function g(){var e=a.getResourceLocation(sap.apf.core.constants.resourceLocation.analyticalConfigurationLocation);var s;if(e!==""){t.ajax({url:e,dataType:"json",success:function(a,n,r){if(a){t.loadAnalyticalConfiguration(a);if(a.applicationTitle){o.appName=a.applicationTitle.key;o.appTitle=a.applicationTitle.key}c.resolve()}else{s=i.createMessageObject({code:"5057",aParameters:[e]});x(s)}},error:function(a,t,o,n){s=i.createMessageObject({code:"5057",aParameters:[e]});if(n){s.setPrevious(n)}x(s)},async:true,suppressSapSystem:true})}else{s=i.createMessageObject({code:"5060"});x(s)}}function v(){t.loadMessageConfiguration(sap.apf.core.messageDefinition,true);return m(sap.apf.core.constants.resourceLocation.applicationMessageDefinitionLocation,false)}function m(s,o){var n=jQuery.Deferred();var r=a.getResourceLocation(s);if(r!==""){t.ajax({url:r,dataType:"json",success:c,error:function(e,a,t,s){var o=i.createMessageObject({code:"5058",aParameters:[a,t,r]});if(s){o.setPrevious(s)}x(o)},async:true,suppressSapSystem:true})}else{n.resolve()}return n.promise();function c(a,s,r){var c;var p=e.functions.checkForTimeout(r);if(!p){if(a.messageConfiguration){t.loadMessageConfiguration(a.messageConfiguration.definitions,o)}}else{c=i.createMessageObject({code:"5067"});c.setPrevious(p);x(c)}n.resolve()}}function y(e){var a;if(!e||!e.path){a=i.createMessageObject({code:"5066"});x(a)}if(!e.path.service){a=i.createMessageObject({code:"5067"});x(a)}if(e.analyticalConfiguration){if(!e.analyticalConfiguration.service){a=i.createMessageObject({code:sap.apf.core.constants.message.code.errorInAnalyticalConfig,rawText:"service or entity set are missing in analytical configuration in the application configuration"});x(a)}}}function L(e){var a;if(e.evaluations&&!e.evaluations.service){a=i.createMessageObject({code:"5063"});x(a)}if(e.evaluations&&(!e.evaluations.type||e.evaluations.type!=="smartBusinessRequest")){a=i.createMessageObject({code:"5062",rawText:"type in Smart Business configuration is not smartBusinessRequest"});x(a)}if(e.evaluations&&!e.evaluations.entityType){a=i.createMessageObject({code:"5061"});x(a)}}this.getResourceLocation=function(e){return s.getItem(e)};this.getPersistenceConfiguration=function(){var e=jQuery.Deferred();c.done(function(){e.resolve(n)});return e};this.getConfigurationProperties=function(){var a=jQuery.Deferred();e.corePromise.done(function(){a.resolve(o)});return a};function P(){var a=sap.apf.core.utils.uriGenerator;var s,o,n;var r=e.manifests.manifest;var p=e.manifests.baseManifest;var u;if(c.state()==="resolved"){return}var f=a.getBaseURLOfComponent(sap.apf.utils.getComponentNameFromManifest(e.manifests.baseManifest));var d=a.getBaseURLOfComponent(sap.apf.utils.getComponentNameFromManifest(e.manifests.manifest));if(r["sap.app"].dataSources&&r["sap.app"].dataSources.PathPersistenceServiceRoot){n=r["sap.app"].dataSources.PathPersistenceServiceRoot.uri}else if(e.functions.isUsingCloudFoundryProxy()){n=""}else{u=i.createMessageObject({code:"5064"});x(u)}var m=p["sap.app"].i18n;if(typeof m==="string"){m=a.addRelativeToAbsoluteURL(f,m)}else if(typeof m==="object"){m=a.addRelativeToAbsoluteURL(f,m.bundleUrl)}var y=r["sap.app"].i18n;if(typeof y==="string"){y=a.addRelativeToAbsoluteURL(d,y)}else if(typeof y==="object"){y=a.addRelativeToAbsoluteURL(d,y.bundleUrl)}var L=r["sap.app"].title;var P=sap.apf.utils.createPseudoGuid();t.registerTextWithKey(P,L);var C=t.getStartParameterFacade().getAnalyticalConfigurationId();var T="";if(r["sap.app"].dataSources&&r["sap.app"].dataSources.AnalyticalConfigurationLocation&&r["sap.app"].dataSources.AnalyticalConfigurationLocation.uri){T=r["sap.app"].dataSources.AnalyticalConfigurationLocation.uri;T=a.addRelativeToAbsoluteURL(d,T)}if(!C&&!T){u=i.createMessageObject({code:"5065"});x(u)}var b={appName:P,appTitle:P,analyticalConfigurationLocation:T,textResourceLocations:{apfUiTextBundle:m,applicationUiTextBundle:y},persistence:{path:{service:n}}};if(r["sap.apf"]&&r["sap.apf"].appSpecificParameters){for(s in r["sap.apf"].appSpecificParameters){b[s]=r["sap.apf"].appSpecificParameters[s]}}if(r["sap.app"].dataSources&&r["sap.app"].dataSources.SmartBusiness){o=r["sap.app"].dataSources.SmartBusiness.uri;b.smartBusiness={runtime:{service:o}}}if(r["sap.app"].dataSources&&r["sap.app"].dataSources.LogicalSystem){b.persistence.logicalSystem={service:r["sap.app"].dataSources.LogicalSystem.uri}}S({applicationConfiguration:b},C);v().done(function(){if(C){l(C)}else{g()}})}function C(){var e=t.getUriGenerator().getApfLocation();s.setItem(sap.apf.core.constants.resourceLocation.apfUiTextBundle,e+"resources/i18n/apfUi.properties");s.setItem(sap.apf.core.constants.resourceLocation.applicationMessageDefinitionLocation,"");s.setItem(sap.apf.core.constants.resourceLocation.applicationMessageTextBundle,"");s.setItem(sap.apf.core.constants.resourceLocation.applicationUiTextBundle,"");s.setItem(sap.apf.core.constants.resourceLocation.analyticalConfigurationLocation,"")}function S(a,t){function c(e){o=jQuery.extend(true,{},e);delete o.type;delete o.analyticalConfigurationLocation;delete o.applicationMessageDefinitionLocation;delete o.textResourceLocations;delete o.persistence}var p=a.applicationConfiguration;c(p);var u=a.applicationConfiguration.textResourceLocations;n=a.applicationConfiguration.persistence;if(!e.functions.isUsingCloudFoundryProxy()){y(n);if(!n.path.entitySet){n.path.entitySet=sap.apf.core.constants.entitySets.analysisPath}}if(a.applicationConfiguration.smartBusiness){r=a.applicationConfiguration.smartBusiness;L(r)}var f;var l;var d;for(d in sap.apf.core.constants.resourceLocation){if(!sap.apf.core.constants.resourceLocation.hasOwnProperty(d)){continue}if(d===sap.apf.core.constants.resourceLocation.analyticalConfigurationLocation&&t){continue}if(p[d]!==undefined){l=p[d]}else if(u[d]!==undefined){l=u[d]}else{continue}if(e.manifests){s.setItem(d,l)}else if(d===sap.apf.core.constants.resourceLocation.apfUiTextBundle||e.instances.fileExists.check(l,true)){s.setItem(d,l)}else if(!t){f=i.createMessageObject({code:"5059",aParameters:[l,d]});x(f)}}}function x(e){i.putMessage(e)}function T(){var t;var i;var s;jQuery.when(c).done(function(){t=a.getResourceLocation(sap.apf.core.constants.resourceLocation.apfUiTextBundle);i=a.getResourceLocation(sap.apf.core.constants.resourceLocation.applicationUiTextBundle);s=a.getResourceLocation(sap.apf.core.constants.resourceLocation.applicationMessageTextBundle);e.functions.initTextResourceHandlerAsPromise(t,i,s).done(function(){e.corePromise.resolve()})})}C();if(e.constructors&&e.constructors.ProxyForAnalyticalConfiguration){u=e.constructors.ProxyForAnalyticalConfiguration}else if(e.functions.isUsingCloudFoundryProxy()){u=sap.apf.cloudFoundry.RuntimeProxy}else if(f()){u=sap.apf.core.LayeredRepositoryProxy}else{u=sap.apf.core.OdataProxy}if(e.manifests&&e.manifests.manifest){P()}if(e.corePromise){T()}}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/sessionHandler", ["sap/apf/core/ajax","sap/apf/utils/filter","sap/apf/core/constants","sap/ui/model/odata/ODataUtils","sap/ui/thirdparty/jquery"],function(e,t,s,a,jQuery){"use strict";sap.apf.core.SessionHandler=function(e){var t=null;var s=false;var a=false;var n=false;var i="";var r="";var f=new sap.apf.utils.Hashtable(e.instances.messageHandler);var o=e.instances.coreApi;var u=e.instances.messageHandler;if(e&&e.functions&&e.functions.serializeApfState&&typeof e.functions.serializeApfState=="function"){s=e.functions.serializeApfState}if(e&&e.functions&&e.functions.deserializeApfState&&typeof e.functions.deserializeApfState=="function"){a=e.functions.deserializeApfState}this.type="sessionHandler";this.ajax=function(e){sap.apf.core.ajax(e)};this.getXsrfToken=function(e){var t=jQuery.Deferred();e=c(e);var s=f.getItem(e);if(s!==undefined&&s!==false){return t.resolve(s)}this.fetchXcsrfToken(e).done(function(s){f.setItem(e,s);t.resolve(s)});return t.promise()};function c(e){var t=o.getStartParameterFacade().getSapSystem();if(t){return sap.ui.model.odata.ODataUtils.setOrigin(e,{force:true,alias:t})}return e}this.fetchXcsrfToken=function(e){var t=jQuery.Deferred();var s="HEAD";if(f.getItem(e)===false){s="GET"}this.ajax({url:o.getUriGenerator().getAbsolutePath(e),type:s,beforeSend:function(e){e.setRequestHeader("x-csrf-token","Fetch")},success:a.bind(this),error:n.bind(this),async:true});function a(e,s,a){r=a.getResponseHeader("x-csrf-token");if(r!==undefined&&r!==null){t.resolve(r)}if(r===null){r="";t.resolve(r)}}function n(s,a,n){if(s.status===405&&f.getItem(e)!==false){f.setItem(e,false);this.fetchXcsrfToken(e).done(function(e){t.resolve(e)})}else{r="";var i=u.createMessageObject({code:5101,aParameters:[]});u.putMessage(i);t.resolve(r)}}return t.promise()};this.setDirtyState=function(e){n=e};this.isDirty=function(){return n};this.setPathName=function(e){if(typeof e!="string"){i="";return}i=e};this.getPathName=function(){return i};this.isApfStateAvailable=function(){if(t===null){return false}return true};this.storeApfState=function(){var e=true;if(s){s(undefined,e).done(function(e){t=e})}};this.restoreApfState=function(){if(this.isApfStateAvailable()&&a){o.resetPath();return a(t)}}}});
sap.ui.predefine("sap/apf/core/step", ["sap/apf/utils/trace","sap/apf/core/utils/filter","sap/apf/core/utils/areRequestOptionsEqual","sap/apf/utils/utils","sap/apf/utils/filter","sap/apf/utils/executeFilterMapping","sap/apf/core/constants","sap/apf/core/metadataProperty","sap/ui/thirdparty/jquery"],function(e,t,i,r,n,a,s,o,jQuery){"use strict";function l(t,i,r,n,a){t.check(i!==undefined,"Step: step configuration is missing");t.check(i.binding!==undefined,"No binding assigned to step "+i.id+" in analytical configuration",sap.apf.core.constants.message.code.errorCheckConfiguration);var s=sap.apf.core.constants.representationMetadata.labelDisplayOptions;var o=this;var l,p,u,f;var d={responseData:[]};var g=jQuery.extend(true,{},i);this.type="step";this.title=jQuery.extend(true,{},i.title);this.longTitle=undefined;if(i.longTitle){this.longTitle=jQuery.extend(true,{},i.longTitle)}this.thumbnail=jQuery.extend(true,{},i.thumbnail);this.categories=i.categories;this.destroy=function(){if(l){l.destroy()}p=undefined;u=undefined;f=undefined;l=undefined;o=undefined};this.getRequestConfiguration=function(){return r.getConfigurationById(i.request)};this.getAdditionalConfigurationProperties=function(){return g};this.update=function(t,n){var s;var o=this.getFilter();var d=!t.isEqual(u);var g=l.getRequestOptions(d);var c=!sap.apf.core.utils.areRequestOptionsEqual(f,g);var h=r.getConfigurationById(i.request);e.logCall("Step.update",", bFilterChanged",d,", bRequestOptionsChanged",c);a.getMetadata(h.service).then(function(r){e.log("update  -  in oCoreApi.getMetadata().then()");if(!o.isEmpty()&&!i.topNSettings&&l.getSelectedRepresentation().type==="TableRepresentation"){var a=o.getProperties()[0];var u=[a];var f=r.getPropertyMetadata(h.entityType,a)["sap:text"];if(f){u.push(f)}s={selectionFilter:o,requiredFilterProperties:u}}if(p&&(d||c)){e.log("update() - before sendGetInBatch");p.sendGetInBatch(t,n,g,s)}else{e.log("update() - no request, before callbackAfterRequest");n({},false)}},function(){e.log("update - then.reject() - before callbackAfterRequest");n({},false)});e.logReturn("update")};this.determineFilter=function(e,n){var l;var p;if(this.adjustCumulativeFilter){l=this.adjustCumulativeFilter(e)}if(h()&&this.getFilter().toUrlParam()){var u=r.getConfigurationById(i.filterMapping.requestForMappedFilter);u.selectProperties=i.filterMapping.target.slice();if(i.filterMapping.targetPropertyDisplayOption===s.TEXT||i.filterMapping.targetPropertyDisplayOption===s.KEY_AND_TEXT){a.getMetadata(u.service).done(function(e){var t=e.getPropertyMetadata(u.entityType,u.selectProperties[0]);if(t.text){u.selectProperties.push(t.text)}f.call(this,u)}.bind(this))}else{f.call(this,u)}}else{d.responseData=[];n(this.getFilter(),l)}function f(a){var s=r.createRequest(a);p=e.addAnd(this.getFilter());if(l){p=l.copy().addAnd(this.getFilter())}if(p.isEqual(d.mergedFilter)){n(d.mappedFilter,l)}else{sap.apf.utils.executeFilterMapping(p,s,i.filterMapping.target,g,t)}}function g(e,t,r){if(!t){if(i.filterMapping.keepSource==="true"){e=o.getFilter().addAnd(e)}d.mergedFilter=p;d.mappedFilter=e;d.responseData=r;n(e,l)}}};this.getBinding=function(){return l};this.getFilter=function(){return l.getFilter(this.getContextInfo())};this.getContextInfo=function(){var e=r.getConfigurationById(i.request);var t={entityType:e.entityType,service:e.service};return t};this.setData=function(e,t){var i=!t.isEqual(u);u=t.copy();f=jQuery.extend({},l.getRequestOptions(i));l.setData(e)};this.getRepresentationInfo=function(){return l.getRepresentationInfo()};this.getSelectedRepresentationInfo=function(){return l.getSelectedRepresentationInfo()};this.getSelectedRepresentation=function(){return l.getSelectedRepresentation()};this.setSelectedRepresentation=function(e){l.setSelectedRepresentation(e)};this.getFilterInformation=function(e,t){var n=jQuery.Deferred();var o;if(i.longTitle&&i.longTitle.key){o=a.getTextNotHtmlEncoded(i.longTitle.key)}else{o=a.getTextNotHtmlEncoded(i.title.key)}if(h()&&i.filterMapping.keepSource==="true"){jQuery.when(f(e,o),p(e,o)).then(function(e,t){n.resolve([e,t])})}else if(h()){jQuery.when(p(e,o)).then(function(e){n.resolve([e])})}else{jQuery.when(f(e,o)).then(function(e){n.resolve([e])})}return n;function p(){var e=jQuery.Deferred();var t;if(i.filterMapping.targetPropertyLabelKey){t=a.getTextNotHtmlEncoded(i.filterMapping.targetPropertyLabelKey)}var n=i.filterMapping.target[0];var s=r.getConfigurationById(i.filterMapping.requestForMappedFilter);u(n,s).done(function(i){g(e,n,i,t,s,true)});return e}function u(e,t){var r=jQuery.Deferred();a.getMetadata(t.service).done(function(n){var o;var l=new sap.apf.core.MetadataProperty(n.getPropertyMetadata(t.entityType,e));if(l.text){o=l.text}var p=[];var u=i.filterMapping.targetPropertyDisplayOption;var f=false;d.responseData.forEach(function(t){if(u===s.TEXT&&o){p.push({text:t[o]})}else if(u===s.KEY_AND_TEXT&&o){p.push({text:a.getTextNotHtmlEncoded("keyAndTextSelection",[t[o],sap.apf.utils.convertToExternalFormat(t[e],l)])})}else{p.push({text:t[e]});f=true}});p=sap.apf.utils.sortByProperty(p,"text",l);if(f===true){p.forEach(function(e){e.text=sap.apf.utils.convertToExternalFormat(e.text,l)})}r.resolve(p)});return r}function f(){var e=jQuery.Deferred();var t;var n;var s=r.getConfigurationById(i.binding);var o=r.getConfigurationById(i.request);if(s.requiredFilters&&s.requiredFilters.length===1){t=s.requiredFilters[0];if(s.requiredFilterOptions&&s.requiredFilterOptions.fieldDesc){n=a.getTextNotHtmlEncoded(s.requiredFilterOptions.fieldDesc.key)}}g(e,t,l.getSortedSelections(),n,o,false);return e}function g(i,r,n,s,l,p){var u;var f;if(!s){u=a.getMetadata(l.service)}if(r){f=a.getMetadata(e.getRequestConfiguration().service)}jQuery.when(u,f).then(function(u,f){var d=false;var g;var c=e.getRequestConfiguration().entityType;var h;if(f){h=f.getFilterableProperties(c).concat(f.getParameterEntitySetKeyProperties(c))}if(!s&&u&&r){s=u.getPropertyMetadata(l.entityType,r)["sap:label"]}if(!r){d=true;g=a.getTextNotHtmlEncoded("noSelectionPossible")}else if(h.indexOf(r)===-1){d=true;g=a.getTextNotHtmlEncoded("filterNotApplicable")}else if(n.length===0){d=true;g=a.getTextNotHtmlEncoded("nothingSelected")}i.resolve({text:o,selectablePropertyLabel:s||r,filterValues:n,infoIcon:p,infoText:p?a.getTextNotHtmlEncoded("infoIconfilterMapping"):undefined,warningIcon:d,warningText:g,stepIndex:t})})}};this.serialize=function(){return{stepId:i.id,binding:l.serialize()}};this.deserialize=function(e){l.deserialize(e.binding);t.check(i.id,e.stepId,"sap.apf.core.step.deserialize inconsistent serialization data - id "+e.stepId);return this};this.getAssignedNavigationTargets=function(){return i.navigationTargets};c();function c(){l=r.createBinding(i.binding,undefined,undefined,n);delete g.binding;if(i.request!==undefined&&i.request!==""){p=r.createRequest(i.request);delete g.request}}function h(){if(i.filterMapping){if(i.filterMapping.requestForMappedFilter&&i.filterMapping.target instanceof Array&&i.filterMapping.keepSource){return true}t.putMessage(t.createMessageObject({code:"5104"}))}return false}}sap.apf.core.Step=l;return{constructor:l}},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/textResourceHandler", ["sap/apf/utils/hashtable","sap/ui/thirdparty/jquery","sap/base/security/encodeXML","sap/base/strings/formatMessage"],function(e,jQuery,t,n){"use strict";sap.apf.core.TextResourceHandler=function(e){var r=e.instances.messageHandler;var s;var a=new sap.apf.utils.Hashtable(r);var i=new sap.apf.utils.Hashtable(r);var u=new sap.apf.utils.Hashtable(r);var o={};var l=e.constructors&&e.constructors.ResourceModel||sap.ui.model.resource.ResourceModel;var c;this.getTextNotHtmlEncoded=function(e,t){var n;var s;var i;if(typeof e==="string"){s=e}else{r.check(e!==undefined&&e.kind!==undefined&&e.kind==="text"&&e.key!==undefined,"Error - oLabel is not compatible");s=e.key}i=JSON.stringify({textKey:s,parameters:t});if(a.hasItem(i)){return a.getItem(i)}n=d(s,t);a.setItem(i,n);return n};this.getTextHtmlEncoded=function(e,n){return t(this.getTextNotHtmlEncoded(e,n))};this.getMessageText=function(e,t){return f(e,t,false)};this.loadTextElements=function(e){var t,n;n=e.length;for(t=0;t<n;t++){i.setItem(e[t].TextElement,e[t].TextElementDescription)}};this.registerTextWithKey=function(e,t){o[e]=t};this.loadResourceModelAsPromise=function(e,t,n){var r=jQuery.Deferred();c=new l({bundleUrl:e,async:true});if(t!==undefined&&t!==""){c.enhance({bundleUrl:t,async:true}).then(function(){if(n!==undefined&&n!==""){c.enhance({bundleUrl:n,async:true}).then(function(){c.getResourceBundle().then(function(e){s=e;r.resolve()})})}else{c.getResourceBundle().then(function(e){s=e;r.resolve()})}})}else if(n!==undefined&&n!==""){c.enhance({bundleUrl:n,async:true}).then(function(){c.getResourceBundle().then(function(e){s=e;r.resolve()})})}else{c.getResourceBundle().then(function(e){s=e;r.resolve()})}return r.promise()};function f(e,t,n){if(t&&t.length===0){return s.getText(e,undefined,n)}return s.getText(e,t,n)}function d(e,t){var s;if(e===sap.apf.core.constants.textKeyForInitialText){return""}else if(o[e]){if(t&&t.length>0){return n(o[e],t)}return o[e]}else if(i.hasItem(e)){s=f(e,t,true);if(typeof s!=="string"||s===e){return i.getItem(e)}return s}else if(u.hasItem(e)){return u.getItem(e)}s=f(e,t,true);if(typeof s==="string"){return s}r.putMessage(r.createMessageObject({code:"3001",aParameters:[e],oCallingObject:this}));var a="# text not available: "+e;u.setItem(e,a);return a}}});
sap.ui.predefine("sap/apf/core/utils/annotationHandler", ["sap/ui/model/odata/ODataUtils"],function(n){"use strict";var t=function(t){var e=t.manifests&&t.manifests.manifest;var i=e&&e["sap.app"].dataSources;var s=t.functions.getSapSystem();var a=e&&e["sap.ui5"]&&e["sap.ui5"].dependencies&&e["sap.ui5"].dependencies.libs&&e["sap.ui5"].dependencies.libs["sap.apf"]&&e["sap.ui5"].dependencies.libs["sap.apf"].minVersion;this.getAnnotationsForService=function(n){if(!i){return r(n)}return o(n)};function r(e){if(!(typeof a==="string")||a<"1.44.0"){var i=t.functions.getODataPath(e)+"annotation.xml";if(s){i=n.setOrigin(i,{force:true,alias:s})}if(t.instances.fileExists.check(i)){return[i]}}return[]}function u(n){if(n&&n[n.length-1]==="/"){n=n.substring(0,n.length-1)}var t;if(!n){return n}var e=n.split(";");var i=e[0];for(t=1;t<e.length;t++){if(e[t].search("o=")===-1){i=i+";"+e[t]}}return i}function f(n,t){var e=u(n);var i=u(t);return e===i}function o(e){var a=[];var u;for(u in i){if(f(i[u].uri,e)){var o=i[u].settings&&i[u].settings.annotations;if(o){o.forEach(c)}else{return r(e)}return a}}return r(e);function c(e){var r=i[e]&&i[e].uri;var u=i[e]&&i[e].settings&&i[e].settings.localUri;var f;if(r){if(s){r=n.setOrigin(r,{force:true,alias:s})}a.push(r)}if(u&&u[0]!=="/"){var o=t.functions.getComponentNameFromManifest(t.manifests.manifest);f=t.functions.getBaseURLOfComponent(o);a.push(t.functions.addRelativeToAbsoluteURL(f,u))}else if(u&&u[0]==="/"){a.push(u)}}}};sap.apf.core.utils.AnnotationHandler=t;return{constructor:t}},true);
sap.ui.predefine("sap/apf/core/utils/areRequestOptionsEqual", function(){"use strict";var r=function(r,e){function n(r,e){if(r.skip){var n=e&&e.skip||0;if(r.skip!==n){return false}}if(r.top){var i=e&&e.top||0;if(r.top!==i){return false}}if(r.inlineCount){var f=e&&e.inlineCount||false;if(r.inlineCount!==f){return false}}return true}function i(r,e){var n=0;var f=0;var t;for(t in r){n++}for(t in e){f++}if(n!==f){return false}for(t in r){if(!r.hasOwnProperty(t)){continue}if(typeof r[t]==="object"){if(!i(r[t],e[t])){return false}}else if(r[t]!==e[t]){return false}}return true}function f(r,e){var f;r=r||{};e=e||{};var t=Object.keys(r);for(f=0;f<t.length;f++){if(t[f]==="paging"){if(!n(r.paging,e.paging)){return false}}if(t[f]==="orderby"){if(!i(r.orderby,e.orderby)){return false}}}return true}if(f(r,e)){return f(e,r)}return false};return r},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/utils/checkForTimeout", ["sap/apf/core/messageObject"],function(e){"use strict";var s=function(s){var a;var r;var t=false;if(s&&s.headers&&s.headers["x-sap-login-page"]){t=true}if(s&&s.getResponseHeader&&s.getResponseHeader("x-sap-login-page")!==null){t=true}if(s&&s.status){a=s.status}if(s&&s.response&&s.response.statusCode){a=s.response.statusCode}if(a===303||a===401||a===403||t){r=new e({code:"5021"})}return r};return s},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/utils/fileExists", ["sap/apf/core/utils/checkForTimeout","sap/ui/model/odata/ODataUtils"],function(e,t){"use strict";var s=function(s){var a={};var i=s&&s.functions&&s.functions.ajax;var n=s&&s.functions&&s.functions.getSapSystem&&s.functions.getSapSystem();this.check=function(s,r){if(n&&!r){s=t.setOrigin(s,{force:true,alias:n})}if(a[s]!==undefined){return a[s]}var u=false;var f={url:s,type:"HEAD",success:function(t,s,a){var i=e(a);if(i===undefined){u=true}else{u=false}},error:function(){u=false},async:false};if(i){i(f)}else{jQuery.ajax(f)}a[s]=u;return u}};sap.apf.core.utils.FileExists=s;return s},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/utils/filter", ["sap/apf/core/utils/filterTerm","sap/apf/core/constants","sap/ui/model/Filter","sap/apf/utils/utils"],function(e,r,t,i){"use strict";var s="%20and%20";var n="%20or%20";var o=function(r,t,i,s,n){this.type="internalFilter";this.messageHandler=r;if(t&&(t instanceof e||t instanceof o)){this.leftExpr=t}else if(t!==undefined&&i!==undefined&&s!==undefined){this.leftExpr=new e(r,t,i,s,n)}else if(t!==undefined||i!==undefined||s!==undefined){r.check(false,"wrong arguments in construction of sap.apf.core.utils.Filter")}this.restExpr=[]};o.prototype.getProperties=function(){var r;var t=[];var s=[];var n="";if(this.leftExpr===undefined){return t}if(this.leftExpr instanceof e){n=this.leftExpr.getProperty();t.push(n)}else if(this.leftExpr instanceof o){t=this.leftExpr.getProperties()}for(r=0;r<this.restExpr.length;r++){if(this.restExpr[r]instanceof e){t.push(this.restExpr[r].getProperty())}else{s=this.restExpr[r].getProperties();t=t.concat(s)}}return i.eliminateDuplicatesInArray(this.messageHandler,t)};o.prototype.copy=function(){var e;var t;if(this.leftExpr===undefined){return new o(this.messageHandler)}e=new o(this.messageHandler,this.leftExpr);if(this.levelOperator===undefined){return e}for(t=0;t<this.restExpr.length;t++){if(this.levelOperator===r.BooleFilterOperators.AND){e.addAnd(this.restExpr[t].copy())}else{e.addOr(this.restExpr[t].copy())}}return e};o.prototype.isEmpty=function(){if(this.leftExpr===undefined){return true}if(this.leftExpr instanceof e){return false}if(!this.leftExpr.isEmpty()){return false}if(this.restExpr.length===0){return true}var r;for(r=0;r<this.restExpr.length;++r){if(!this.restExpr[r].isEmpty()){return false}}return true};o.prototype.isOr=function(){if(this.levelOperator===r.BooleFilterOperators.OR){return true}else if(this.levelOperator===r.BooleFilterOperators.AND){return false}if(this.leftExpr){if(this.leftExpr instanceof o){return this.leftExpr.isOr()}}return false};o.prototype.isEqual=function(e){if(this===e){return true}if(e===undefined){return false}return this.getHash()===e.getHash()};o.prototype.getHash=function(e){var t=e||1;var i=0;if(this.restExpr.length===0){i=t}else{i=t+1}if(this.leftExpr===undefined){return 0}var s=this.leftExpr.getHash(i);var n;if(this.levelOperator===undefined){return s}if(this.levelOperator===r.BooleFilterOperators.AND){s=s+Math.pow(2,t)}else if(this.levelOperator===r.BooleFilterOperators.OR){s=s+Math.pow(3,t)}for(n=0;n<this.restExpr.length;n++){s=s+this.restExpr[n].getHash(i)}return s};o.prototype.getFilterTermsForProperty=function(r){var t=[];var i;if(this.leftExpr===undefined){return t}if(this.leftExpr instanceof o){t=this.leftExpr.getFilterTermsForProperty(r)}else if(r===this.leftExpr.getProperty()){t.push(this.leftExpr)}for(i=0;i<this.restExpr.length;i++){if(this.restExpr[i]instanceof e){if(r===this.restExpr[i].getProperty()){t.push(this.restExpr[i])}}else{t=t.concat(this.restExpr[i].getFilterTermsForProperty(r))}}return t};o.prototype.getFilterTerms=function(){var r=[];var t;if(this.leftExpr===undefined){return r}if(this.leftExpr instanceof o){r=this.leftExpr.getFilterTerms()}else{r.push(this.leftExpr)}for(t=0;t<this.restExpr.length;t++){if(this.restExpr[t]instanceof e){r.push(this.restExpr[t])}else{r=r.concat(this.restExpr[t].getFilterTerms())}}return r};o.prototype.isConsistentWithFilter=function(t,i){var s;var n=false;if(this.leftExpr===undefined){return true}if(this.levelOperator===undefined){return this.leftExpr.isConsistentWithFilter(t,i)}if(this.levelOperator===r.BooleFilterOperators.AND){if(!this.leftExpr.isConsistentWithFilter(t,i)){return false}for(s=0;s<this.restExpr.length;s++){if(!this.restExpr[s].isConsistentWithFilter(t,i)){return false}}return true}if(this.levelOperator===r.BooleFilterOperators.OR){if(o(this.leftExpr,t)){n=true;if(this.leftExpr.isConsistentWithFilter(t,i)){return true}}for(s=0;s<this.restExpr.length;s++){if(o(this.restExpr[s],t)){n=true;if(this.restExpr[s].isConsistentWithFilter(t,i)){return true}}}return!n}function o(r,t){if(r instanceof e){return r.getProperty()===t}return r.getProperties().indexOf(t)>=0}};o.prototype.removeTermsByProperty=function(e){var r=this.internalRemoveTermsByProperty(e);if(r===undefined){return new o(this.messageHandler)}return r};o.prototype.internalRemoveTermsByProperty=function(t){var i,s,n;if(this.leftExpr===undefined){return this.copy()}s=this.leftExpr.internalRemoveTermsByProperty(t);if(s instanceof e){s=new o(this.messageHandler,s.getProperty(),s.getOp(),s.getValue(),s.getHighValue())}if(this.levelOperator===undefined){return s}for(i=0;i<this.restExpr.length;i++){n=this.restExpr[i].internalRemoveTermsByProperty(t);if(s===undefined){if(n instanceof e){s=new o(this.messageHandler,n)}else{s=n}}else if(n!==undefined){if(this.levelOperator===r.BooleFilterOperators.AND){s.addAnd(n)}else{s.addOr(n)}}}if(s){return new o(this.messageHandler,s)}};o.prototype.removeTerms=function(t,i,s){var n;if(this.leftExpr===undefined){return this.copy()}var a=this.leftExpr.removeTerms(t,i,s);var l;if(a instanceof e){a=new o(this.messageHandler,a.getProperty(),a.getOp(),a.getValue(),a.getHighValue())}if(this.levelOperator===undefined){return a}for(n=0;n<this.restExpr.length;n++){l=this.restExpr[n].removeTerms(t,i,s);if(a===undefined){if(l instanceof e){a=new o(this.messageHandler,l)}else{a=l}}else if(l!==undefined){if(this.levelOperator===r.BooleFilterOperators.AND){a.addAnd(l)}else{a.addOr(l)}}}return a};o.prototype.addOr=function(t,i,s,n){var a;if(t instanceof o||t instanceof e){a=t}else if(t!==undefined&&i!==undefined&&s!==undefined){a=new e(this.messageHandler,t,i,s,n)}else{this.messageHandler.check(false,"sap.apf.core.utils.Filter.addOr: wrong arguments in construction of  Filter")}if(this.leftExpr===undefined){this.leftExpr=a;return this}if(this.levelOperator===undefined){this.levelOperator=r.BooleFilterOperators.OR}this.restExpr.push(a);this.messageHandler.check(this.levelOperator===r.BooleFilterOperators.OR,"sap.apf.core.utils.Filter - addOr wrong operation");return this};o.prototype.addAnd=function(t,i,s,n){var a;if(t instanceof o||t instanceof e){a=t}else if(t!==undefined&&i!==undefined&&s!==undefined){a=new e(this.messageHandler,t,i,s,n)}else{this.messageHandler.check(false,"sap.apf.core.utils.Filter.addAnd: wrong arguments in construction of  Filter")}if(this.leftExpr===undefined){this.leftExpr=a;return this}if(this.levelOperator===undefined){this.levelOperator=r.BooleFilterOperators.AND}this.messageHandler.check(this.levelOperator===r.BooleFilterOperators.AND,"sap.apf.core.utils.Filter - addAnd wrong operation");this.restExpr.push(a);return this};o.prototype.toUrlParam=function(e){var t="";if(this.leftExpr===undefined){return""}t=this.leftExpr.toUrlParam(e);var i=0;var o=this.restExpr.length;var a="";if(o===0){return t}if(this.levelOperator===r.BooleFilterOperators.AND){a=s}else{a=n}var l="";for(i=0;i<o;i++){l=this.restExpr[i].toUrlParam(e);if(t===""){t=l}else if(l!==""){t=t+a+l}}if(t===""){return""}return"("+t+")"};o.prototype.mapToSapUI5FilterExpression=function(){var e,i,s=[];if(this.leftExpr===undefined){return new t({filters:[],and:undefined})}if(this.restExpr.length===0){return this.leftExpr.mapToSapUI5FilterExpression()}if(!(this.leftExpr.type==="internalFilter"&&this.leftExpr.isEmpty())){s.push(this.leftExpr.mapToSapUI5FilterExpression())}for(e=0;e<this.restExpr.length;e++){if(!(this.restExpr[e].type==="internalFilter"&&this.restExpr[e].isEmpty())){s.push(this.restExpr[e].mapToSapUI5FilterExpression())}}i={aFilters:s,bAnd:this.levelOperator===r.BooleFilterOperators.AND};var n=new t({filters:i.aFilters,and:i.bAnd});n.bAnd=i.bAnd;return n};o.prototype.overwriteWith=function(e){var r=e.getProperties();var t;if(r.length!==0){t=this.removeTermsByProperty(r);if(t===undefined){return e.copy()}t.addAnd(e);return t}return this.copy()};o.prototype.restrictToProperties=function(e){var r=t(this.getProperties(),e);return this.copy().removeTermsByProperty(r)||new o(this.messageHandler);function t(e,r){var t;var i=[];var s={};var n=e?e.length:0;var o=r?r.length:0;for(t=0;t<o;t++){s[r[t]]=undefined}for(t=0;t<n;t++){if(!(e[t]in s)){i.push(e[t])}}return i}};o.prototype.isFilterTerm=function(){if(this.restExpr.length>0){return false}if(!this.leftExpr){return false}if(this.leftExpr instanceof e){return true}return this.leftExpr.isFilterTerm()};o.prototype.getSingleValueTerms=function(){var e=[];var t=this;var i=this.getProperties();i.forEach(function(i){var s=t.getFilterTermsForProperty(i);if(s.length===1&&s[0].getOp()===r.FilterOperators.EQ){e.push({property:s[0].getProperty(),value:s[0].getValue()})}});return e};o.prototype.traverse=function(t){if(!this.leftExpr){return t.processEmptyFilter()}if(this.leftExpr&&this.restExpr.length===0){if(this.leftExpr instanceof e){return t.processTerm(this.leftExpr)}return this.leftExpr.traverse(t)}if(this.levelOperator===r.BooleFilterOperators.AND){return t.processAnd(this.leftExpr,this.restExpr,this)}if(this.levelOperator===r.BooleFilterOperators.OR){return t.processOr(this.leftExpr,this.restExpr,this)}this.messageHandler.check(false,"undefined case in traverse()");return false};o.prototype.isDisjunctionOverEqualities=function(){var e=true;if(this.levelOperator===r.BooleFilterOperators.AND){return false}if(this.getProperties().length>1){return false}if(this.leftExpr instanceof o){if(this.leftExpr.getFilterTerms().length>1&&!this.leftExpr.isOr()){return false}}this.getFilterTerms().forEach(function(t){if(t.getOp()!==r.FilterOperators.EQ){e=false}});this.restExpr.forEach(function(r){if(r instanceof o){if(r.getFilterTerms().length>1){e=false}}});return e};o.prototype.mapToSelectOptions=function(e){var r=jQuery.Deferred();var t;var i=this;e(s);function s(e){t=e;var s=new n;s.process(i);r.resolve(s.getSelectionVariant())}function n(){var e={};e.SelectOptions=[];e.Parameters=[];function r(r){var t;e.SelectOptions.forEach(function(e){if(e.PropertyName===r){t=e}});if(!t){t={PropertyName:r,Ranges:[]};e.SelectOptions.push(t)}return t.Ranges}function i(e){var t,i;var s=r(e.getProperty());if(e.getHighValue()!==undefined&&e.getHighValue()!==null){s.push({Sign:"I",Option:e.getOp(),Low:e.getValue(),High:e.getHighValue()})}else{t=e.getOp();i=e.getValue();if(t==="StartsWith"){t="CP";i=i+"*"}else if(t==="EndsWith"){t="CP";i="*"+i}else if(t==="Contains"){t="CP";i="*"+i+"*"}s.push({Sign:"I",Option:t,Low:i})}}function s(r){e.Parameters.push({PropertyName:r.getProperty(),PropertyValue:r.getValue()})}this.getSelectionVariant=function(){if(e.SelectOptions.length>0||e.Parameters.length>0){return e}return{}};this.processEmptyFilter=function(){return};this.processTerm=function(e){if(jQuery.inArray(e.getProperty(),t)===-1){i(e)}else{s(e)}};this.processAnd=function(e,r){this.process(e);r.forEach(function(e){this.process(e)}.bind(this))};this.processOr=function(e,r){this.process(e);r.forEach(function(e){this.process(e)}.bind(this))};this.process=function(e){e.traverse(this)}}return r.promise()};o.createFromArray=function(e,t,i,s){var n=t.length;var a;var l;var f;var p;var h;var u;e.check(t instanceof Array&&t.length>0,"sap.apf.core.utils.Filter.createFromArray incorrect argument aProperties");e.check(i instanceof Array,"sap.apf.core.utils.Filter.createFromArray incorrect argument aData");if(s.length>0){for(a=0;a<s.length;++a){h=undefined;l=s[a];if(!i[l]){continue}for(f=0;f<n;f++){u=new o(e,t[f],r.FilterOperators.EQ,i[l][t[f]]);if(h===undefined){h=new o(e,u)}else{h.addAnd(u)}}if(p===undefined){p=new o(e,h)}else{p.addOr(h)}}return p}return new o(e)};o.createEmptyFilter=function(e,t){e.check(jQuery.isArray(t)&&t.length>0,"sap.apf.core.utils.Filter.createEmptyFilter - array with property names expected");return new o(e,t[0],r.FilterOperators.EQ,"").addAnd(t[0],r.FilterOperators.NE,"")};o.transformUI5FilterToInternal=function(e,r){return t(r,r.bAnd);function t(r,i){var s=new o(e);var n;if(r.aFilters){r.aFilters.forEach(function(e){if(e.aFilters){n=t(e,e.bAnd);if(i){s.addAnd(n)}else{s.addOr(n)}}else if(e.sPath){if(i){s.addAnd(e.sPath,e.sOperator,e.oValue1,e.oValue2)}else{s.addOr(e.sPath,e.sOperator,e.oValue1,e.oValue2)}}})}else{s=new o(e,r.sPath,r.sOperator,r.oValue1,r.oValue2)}return s}};sap.apf.core.utils.Filter=o;return o},true);
/*
 * Copyright(c) 2015 SAP SE
 */
sap.ui.predefine("sap/apf/core/utils/filterSimplify", ["sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/apf/core/constants","sap/apf/core/messageHandler"],function(r,t,e,i){"use strict";var s={};s.FilterReduction=function(){var i=this;var n=false;this.transformFilter=function(e){var i=[];var n;var o;if(e){e.forEach(function(e){if(e instanceof t){i.push({property:e.getProperty(),values:[e.getValue()]})}else if(e instanceof r){n=e.getProperties();o=new s.CollectPropertiesAndValuesVisitor;o.process(e);i.push({property:n[0],values:o.getValues()})}})}return i};this.intersection=function(r,t){var e={};var i=r.values;var s=t.values;var n=[];var o={};var u,c=i.length;var a,f=s.length;for(u=0;u<c;u++){o[i[u]]=i[u]}for(a=0;a<f;a++){if(o[s[a]]!==undefined&&n.indexOf(s[a])<0){n.push(s[a])}}e.property=r.property;e.values=n;return e};function o(t){this.reducers=[];this.disjunctions=[];this.processTerm=function(i){var s=new r(t,i);if(i.getOp()===e.FilterOperators.EQ){this.disjunctions.push(s)}else{this.reducers.push(s)}};this.processOr=function(r,t,e){var i=new s.CollectPropertiesAndValuesVisitor;i.process(e);if(i.isWellFormed()){this.disjunctions.push(e)}else{this.reducers.push(e)}};this.processAnd=function(r,e,s){var n=i.filterSeparation(s,t);this.disjunctions=this.disjunctions.concat(n.disjunctions);this.reducers=this.reducers.concat(n.reducers)};this.processEmptyFilter=function(){};this.process=function(r){r.traverse(this)}}this.filterSeparation=function(r,t){var e=new s.CollectChildrenOfAndNodeVisitor;var i=e.process(r);var n;if(!i){return{reducers:[],disjunctions:[]}}n=new o(t);i.forEach(function(r){r.traverse(n)});return{reducers:n.reducers,disjunctions:n.disjunctions}};this.simplifyTransforms=function(r){var t=[];var e;var s=[];var n=r.length;var o;r.forEach(function(u,c){var a;o=u.property;if(s.indexOf(o)===-1){s.push(o);e=u;for(a=c+1;a<n;++a){if(o===r[a].property){e=i.intersection(e,r[a])}}t.push(e)}});return t};this.applyStartFilter=function(r,t){var e=[];var i=r.getProperties();t.forEach(function(t){var s=[];var n;var o=t.values.length;var u;if(i.indexOf(t.property)>-1){for(n=0;n<o;n++){u=t.values[n];if(r.isConsistentWithFilter(t.property,u)){s.push(u)}}e.push({property:t.property,values:s})}else{e.push(t)}});return e};this.simplifyInStartFilter=function(r,t){var e=r;t.forEach(function(r){if(e){e=e.removeTermsByProperty(r.property)}});if(e.isEmpty()){return undefined}return e};this.containsContradiction=function(r,t){var e=false;t.forEach(function(r){if(r.values.length===0){e=true}});if(e){return e}return e};this.rebuildDisjunction=function(i,s){var n=new r(i);var o=s.property;var u=s.values;u.forEach(function(r){var s=new t(i,o,e.FilterOperators.EQ,r);n.addOr(s)});return n};this.reduceFilter=function(t,e){var s=this;function o(r){var e=[];r.forEach(function(r){e.push(i.rebuildDisjunction(t,r))});return e}function u(r,t){t.forEach(function(t){r.addAnd(t)})}function c(r,i){var n;var o=i;var u=[];var c;for(n=0;n<r.length;++n){o=s.applyStartFilter(r[n],i);if(s.containsContradiction(t,o)){return{contradiction:e}}c=s.simplifyInStartFilter(r[n],i);if(c){u.push(c)}}return{reducedTransforms:o,simplifiedReducers:u}}var a;var f;var p;var h;var l;var v;if(e.isFilterTerm()||e.isOr()||e.isEmpty()){return e}a=this.filterSeparation(e,t);f=a.disjunctions;p=this.transformFilter(f);h=this.simplifyTransforms(p);if(this.containsContradiction(t,h)){n=true;return e}v=c(a.reducers,h);if(v.contradiction){n=true;return v.contradiction}l=new r(t);u(l,v.simplifiedReducers);u(l,o(v.reducedTransforms));return l};this.isContradicted=function(){return n}};s.CollectPropertiesAndValuesVisitor=function(){var r=this;var i=[];var s=[];var n=true;var o=true;var u=0;var c=0;var a=0;var f=0;function p(r){var t,e=i.length;for(t=0;t<e;t++){if(i[t]===r){return}}i.push(r)}this.getProperties=function(){return i.slice(0)};this.getValues=function(){return s.slice(0)};this.isWellFormed=function(){return n&&o&&i.length<=1};this.isEmptyFilter=function(){return u===0&&c===0&&a>0&&f===0};this.processEmptyFilter=function(){a++};this.processAnd=function(r,t){u++;o=false;this.process(r);this.processAndArray(t)};this.processAndArray=function(t){t.forEach(function(t){r.process(t)})};this.processOr=function(r,t){c++;this.process(r);this.processOrArray(t)};this.processOrArray=function(t){t.forEach(function(t){r.process(t)})};this.processTerm=function(r){f++;var t=r.getProperty();p(t);switch(r.getOp()){case e.FilterOperators.EQ:s.push(r.getValue());return;default:n=false;return}};this.process=function(r){if(r instanceof t){this.processTerm(r)}else{r.traverse(this)}}};s.CollectChildrenOfAndNodeVisitor=function(){this.processEmptyFilter=function(){return null};this.processTerm=function(r){return[r]};this.processAnd=function(r,t){var e=[];e.push(r);t.forEach(function(r){e.push(r)});return e};this.processOr=function(){return null};this.process=function(r){if(r instanceof t){this.processTerm(r)}else{return r.traverse(this)}}};sap.apf.core.utils.FilterReduction=s.FilterReduction;return s},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2015 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/core/utils/filterTerm", ["sap/apf/core/constants","sap/apf/utils/utils","sap/ui/model/Filter","sap/base/security/encodeURL"],function(e,t,r,a){"use strict";var i=function(t,r,a,i,s){this.type="filterTerm";this.propertyName=r;this.operator=a;this.value=i;this.highValue=s;this.messageHandler=t;if(this.operator.length==2){this.operator=this.operator.toUpperCase()}t.check(this.operator!==undefined,"sap.apf.utils.FilterTerm.constructor operator undefined");t.check(jQuery.inArray(this.operator,e.aSelectOpt)>-1,"sap.apf.core.utils.FilterTerm operator "+this.operator+" not supported");t.check(this.propertyName!==undefined,"sap.apf.utils.core.FilterTerm propertyName undefined");t.check(this.value!==undefined,"sap.apf.utils.FilterTerm value undefined")};i.prototype.isConsistentWithFilter=function(t,r){var a;var i;if(t!==this.propertyName){return true}if(this.operator===e.FilterOperators.EQ){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()===r.valueOf()}return this.value===r}else if(this.operator===e.FilterOperators.LT){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()>r.valueOf()}return this.value>r}else if(this.operator===e.FilterOperators.LE){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()>=r.valueOf()}return this.value>=r}else if(this.operator===e.FilterOperators.GT){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()<r.valueOf()}return this.value<r}else if(this.operator===e.FilterOperators.BT){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()<=r.valueOf()&&r.valueOf()<=this.highValue.valueOf()}return this.value<=r&&r<=this.highValue}else if(this.operator===e.FilterOperators.GE){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()<=r.valueOf()}return this.value<=r}else if(this.operator===e.FilterOperators.NE){if(this.value instanceof Date&&r instanceof Date){return!(this.value.valueOf()===r.valueOf())}return!(this.value===r)}else if(this.operator===e.FilterOperators.StartsWith){if(this.value.length>r.length){return false}a=r.slice(0,this.value.length);return a===this.value}else if(this.operator===e.FilterOperators.EndsWith){if(this.value.length>r.length){return false}a=r.slice(-this.value.length);return a===this.value}else if(this.operator===e.FilterOperators.Contains){i=r.indexOf(this.value);return i>-1}};i.prototype.toUrlParam=function(r){var i="'";var s=" ";var o="";var h,p;if(r&&r.formatValue){h=r.formatValue(this.propertyName,this.value);if(this.highValue){p=r.formatValue(this.propertyName,this.highValue)}}else{if(typeof this.value==="number"){h=this.value}else{h=i+t.escapeOdata(this.value)+i}if(this.highValue){if(typeof this.value==="number"){p=this.highValue}else{p=i+t.escapeOdata(this.highValue)+i}}}if(this.operator===e.FilterOperators.StartsWith){o="startswith("+t.escapeOdata(this.propertyName)+","+h+")";o=a(o)}else if(this.operator===e.FilterOperators.EndsWith){o="endswith("+t.escapeOdata(this.propertyName)+","+h+")";o=a(o)}else if(this.operator===e.FilterOperators.Contains){o="substringof("+h+","+t.escapeOdata(this.propertyName)+")";o=a(o)}else if(this.operator===e.FilterOperators.BT){o="(("+a(t.escapeOdata(this.propertyName)+s+"ge"+s+h)+")"+a(s+"and"+s)+"("+a(t.escapeOdata(this.propertyName)+s+"le"+s+p)+"))"}else{o="("+a(t.escapeOdata(this.propertyName)+s+this.operator.toLowerCase()+s+h)+")"}return o};i.prototype.getProperty=function(){return this.propertyName};i.prototype.getOp=function(){return this.operator};i.prototype.getValue=function(){return this.value};i.prototype.getHighValue=function(){return this.highValue};i.prototype.getHash=function(){var e=this.propertyName+this.operator+this.value;if(this.highValue){e+=this.highValue}return t.hashCode(e)};i.prototype.copy=function(){return new i(this.messageHandler,this.propertyName,this.operator,this.value,this.highValue)};i.prototype.removeTermsByProperty=function(e){return this.internalRemoveTermsByProperty(e)};i.prototype.internalRemoveTermsByProperty=function(e){var t=0;var r=0;if(e instanceof Array){r=e.length;for(t=0;t<r;t++){if(this.propertyName===e[t]){return undefined}}return this.copy()}if(this.propertyName===e){return undefined}return this.copy()};i.prototype.removeTerms=function(e,t,r){var a=0;var i=0;if(e instanceof Array){i=e.length;for(a=0;a<i;a++){if(this.propertyName===e[a]&&this.operator===t&&this.value===r){return undefined}}return this.copy()}if(this.propertyName===e&&this.operator===t&&this.value===r){return undefined}return this.copy()};i.prototype.mapToSapUI5FilterExpression=function(){if(this.operator===e.FilterOperators.BT){return new r({path:this.propertyName,operator:this.operator,value1:this.value,value2:this.highValue})}return new r({path:this.propertyName,operator:this.operator,value1:this.value})};i.prototype.traverse=function(e){return e.processTerm(this)};sap.apf.core.utils.FilterTerm=i;return i},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/utils/uriGenerator", ["sap/apf/core/messageObject","sap/base/security/encodeURL"],function(e,t){"use strict";var r={};r.getAbsolutePath=function(e){if(e.slice(-1)==="/"){return e}return e+"/"};r.getODataPath=function(e){var t=e.split("/");var r;var a=[];for(r=0;r<t.length;r++){if(t[r]!==""){a.push(t[r])}}var n="";var i=a.length-1;for(r=0;r<i;r++){n=n+"/"+a[r]}return n+"/"};r.addRelativeToAbsoluteURL=function(e,t){var r=e.split("/");var a=t.split("/");a.forEach(function(e){if(e===".."){r.pop()}else if(e!="."){r.push(e)}});return r.join("/")};r.getBaseURLOfComponent=function(e){var t=e.split(".");t.pop();var r=t.join(".");return jQuery.sap.getModulePath(r)};r.getApfLocation=function(){return jQuery.sap.getModulePath("sap.apf")+"/"};r.generateOdataPath=function(e,r,a,n,i){var s=p(r,n);var f=a;var u=false;var o;for(o in s){if(!u){f+="(";u=true}else{f+=","}f+=o.toString()+"="+s[o]}if(u){f+=")/"}f+=i||"";return f;function p(){var i={};var s;var f;var u;var o;var p;s=r.getParameterEntitySetKeyProperties(a);if(s!==undefined){f=s.length}else{f=0}if(f>0){for(o=0;o<f;o++){if(n&&n instanceof sap.apf.core.utils.Filter){u=n.getFilterTermsForProperty(s[o].name);p=u[u.length-1]}if(p instanceof sap.apf.core.utils.FilterTerm){l(o,p.getValue())}else if(s[o].defaultValue){l(o,s[o].defaultValue)}else if(s[o].parameter!=="optional"){e.putMessage(e.createMessageObject({code:"5016",aParameters:[s[o].name]}))}}}return i;function l(e,r){var a;if(s[e].dataType.type==="Edm.String"){a=sap.apf.utils.formatValue(r,s[e]);i[s[e].name]=t(a)}else if(s[e].dataType.type){a=sap.apf.utils.formatValue(r,s[e]);if(typeof a==="string"){i[s[e].name]=t(a)}else{i[s[e].name]=a}}else if(typeof r==="string"){i[s[e].name]=t(sap.apf.utils.escapeOdata(r))}else{i[s[e].name]=r}}}};r.getSelectString=function(e){var r="";e.forEach(function(a,n){r+=t(sap.apf.utils.escapeOdata(a));if(n<e.length-1){r+=","}});return r};r.buildUri=function(e,a,n,i,s,f,u,o,p,l,c){var g="";g+=r.generateOdataPath(e,c,a,s,l);g=g+"?";g+=v(n);g+=d(i,p);g+=y(f,n);g+=m(u);g+=h(o);return g;function v(e){if(!e[0]){return""}var t="$select=";t+=r.getSelectString(e);return t}function d(e,t){if(!(e&&e instanceof sap.apf.core.utils.Filter)||e.isEmpty()){return""}var r=e.toUrlParam({formatValue:t});if(r===""||r==="()"){return""}return"&$filter="+r}function y(r,n){var i="";var s="";var f;if(!r){return""}switch(true){case jQuery.isArray(r):for(f=0;f<r.length;f++){s=u(r[f],n);if(i.length>0&&s.length>0){i+=","}i+=s}break;case jQuery.isPlainObject(r):i+=u(r,n);break;case typeof r==="string":i+=u({property:r},n);break;default:i="";break}if(i.length>0){return"&$orderby="+i}return"";function u(r,n){var i="";if(jQuery.inArray(r.property,n)>-1){i+=r.property;if(r.ascending===false){i+=" desc"}else{i+=" asc"}}else{e.putMessage(e.createMessageObject({code:"5019",aParameters:[a,r.property]}))}return t(i)}}function m(t){function r(t){var r,n;r=Object.getOwnPropertyNames(t);for(n=0;n<r.length;n++){if(r[n]!=="top"&&r[n]!=="skip"&&r[n]!=="inlineCount"){e.putMessage(e.createMessageObject({code:"5032",aParameters:[a,r[n]]}))}}}var n="";if(!t){return n}r(t);if(t.top){n+="&$top="+t.top}if(t.skip){n+="&$skip="+t.skip}if(t.inlineCount===true){n+="&$inlinecount=allpages"}return n}function h(e){if(!e){e="json"}return"&$format="+e}};return r},true);
sap.ui.predefine("sap/apf/demokit/configuration/demokit", [],function(){"use strict";return{analyticalConfigurationName:"APF Standard Demo",applicationTitle:{type:"label",kind:"text",key:"57FCA4E2C3D350DEE10000000A442AF5"},steps:[{type:"step",description:"Revenue by Customer",request:"request-for-Step-4",binding:"binding-for-Step-4",id:"Step-4",title:{type:"label",kind:"text",key:"57FCA515C3D350DEE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"}}},{type:"step",description:"Revenue by Customer and Month",request:"request-for-Step-5",binding:"binding-for-Step-5",id:"Step-5",title:{type:"label",kind:"text",key:"57FCA590C3D350DEE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{type:"step",description:"Revenue by Customer over Time",request:"request-for-Step-6",binding:"binding-for-Step-6",id:"Step-6",title:{type:"label",kind:"text",key:"57FCA52FC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue and Discount - Detailed",request:"request-for-Step-7",binding:"binding-for-Step-7",id:"Step-7",title:{type:"label",kind:"text",key:"57FCA621C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Detailed Data",request:"request-for-Step-9",binding:"binding-for-Step-9",id:"Step-9",title:{type:"label",kind:"text",key:"57FCA5F7C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue, Discount, and Shipping Costs by Month",request:"request-for-Step-10",binding:"binding-for-Step-10",id:"Step-10",title:{type:"label",kind:"text",key:"15102377857028838103150312430278"},navigationTargets:[]},{type:"step",description:"Revenue and Shipping Costs - Detailed",request:"request-for-Step-13",binding:"binding-for-Step-13",id:"Step-13",title:{type:"label",kind:"text",key:"57FCA68AC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount and Shipping Costs - Detailed",request:"request-for-Step-14",binding:"binding-for-Step-14",id:"Step-14",title:{type:"label",kind:"text",key:"57FCA696C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue by Country and Month",request:"request-for-Step-16",binding:"binding-for-Step-16",id:"Step-16",title:{type:"label",kind:"text",key:"582CF0DE286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue over Time",request:"request-for-Step-17",binding:"binding-for-Step-17",id:"Step-17",title:{type:"label",kind:"text",key:"57FCA37CC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue by Country",request:"request-for-Step-18",binding:"binding-for-Step-18",id:"Step-18",title:{type:"label",kind:"text",key:"582CF190286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount by Country",request:"request-for-Step-19",binding:"binding-for-Step-19",id:"Step-19",title:{type:"label",kind:"text",key:"582CF1AA286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Shipping Costs by Country",request:"request-for-Step-20",binding:"binding-for-Step-20",id:"Step-20",title:{type:"label",kind:"text",key:"582CF1B7286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue, Discount, and Shipping Costs by Country",request:"request-for-Step-21",binding:"binding-for-Step-21",id:"Step-21",title:{type:"label",kind:"text",key:"15102377963651508758254158996844"},navigationTargets:[]},{type:"step",description:"Discount and Shipping Costs by Customer",request:"request-for-Step-22",binding:"binding-for-Step-22",id:"Step-22",title:{type:"label",kind:"text",key:"582CF1F5286D6BFFE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"}}},{type:"step",description:"Discount by Customer and Month",request:"request-for-Step-23",binding:"binding-for-Step-23",id:"Step-23",title:{type:"label",kind:"text",key:"582CF243286D6BFFE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{type:"step",description:"Revenue by Country and Month",request:"request-for-Step-26",binding:"binding-for-Step-26",id:"Step-26",title:{type:"label",kind:"text",key:"582CF0DE286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount by Customer",request:"request-for-Step-29",binding:"binding-for-Step-29",id:"Step-29",title:{type:"label",kind:"text",key:"15102370883951657475286461234693"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"}}}],requests:[{type:"request",id:"request-for-Step-4",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Customer","CustomerName","Currency"]},{type:"request",id:"request-for-Step-5",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName"]},{type:"request",id:"request-for-Step-6",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Revenue","Currency","Customer","CustomerName","CustomerGroupName","CustomerGroup"]},{type:"request",id:"request-for-Step-7",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Revenue","Currency","CompanyCode","Product","Discount"]},{type:"request",id:"request-for-Step-9",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Product","ProductName","Country","CountryName","CustomerGroup","CustomerGroupName","CompanyCode","CompanyCodeName","Currency","CurrencyName","YearMonth","Revenue","ShippingCosts","Discount","Date","Month","Year"]},{type:"request",id:"request-for-Step-10",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["YearMonth","Currency","Revenue","ShippingCosts","Discount","Year","Month"]},{type:"request",id:"request-for-Step-13",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Currency","CompanyCode","Product","Revenue","ShippingCosts"]},{type:"request",id:"request-for-Step-14",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Currency","CompanyCode","Product","ShippingCosts","Discount"]},{type:"request",id:"request-for-Step-16",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Country","CountryName","Year","Month","YearMonth","Revenue","Currency"]},{type:"request",id:"request-for-Step-17",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Revenue","Currency"]},{type:"request",id:"request-for-Step-18",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Currency","Country","CountryName"]},{type:"request",id:"request-for-Step-19",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","Discount"]},{type:"request",id:"request-for-Step-20",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","ShippingCosts"]},{type:"request",id:"request-for-Step-21",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","ShippingCosts","Discount","Revenue"]},{type:"request",id:"request-for-Step-22",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Currency","Discount","ShippingCosts","CustomerGroup","CustomerGroupName"]},{type:"request",id:"request-for-Step-23",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName","Discount"]},{type:"request",id:"request-for-Step-26",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Country","CountryName","Year","Month","YearMonth","Revenue","Currency"]},{type:"request",id:"request-for-Step-29",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Currency","Discount"]},{type:"request",id:"FilterResolution-request-for-FacetFilter-3",service:"/tmp/demokit/demokit.xsodata",entitySet:"Country",selectProperties:["Country","CountryName"]},{type:"request",id:"FilterResolution-request-for-FacetFilter-4",service:"/tmp/demokit/demokit.xsodata",entitySet:"CustomerGroup",selectProperties:["CustomerGroup","CustomerGroupName"]},{type:"request",id:"FilterResolution-request-for-FacetFilter-5",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName"]}],bindings:[{type:"binding",id:"binding-for-Step-4",stepDescription:"Revenue by Customer",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-4-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:false}]}},{id:"Step-4-Representation-2",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]}},{id:"Step-4-Representation-3",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:true}]}},{id:"Step-4-Representation-4",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]}}]},{type:"binding",id:"binding-for-Step-5",stepDescription:"Revenue by Customer and Month",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-5-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-3",representationTypeId:"PercentageStackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-4",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-5",representationTypeId:"PercentageStackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-6",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerGroupName",ascending:false},{property:"CustomerName",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-7",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CustomerName",ascending:true}]}}]},{type:"binding",id:"binding-for-Step-6",stepDescription:"Revenue by Customer over Time",requiredFilters:["Date"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049951111233616299921121549"}},representations:[{id:"Step-6-Representation-1",representationTypeId:"LineChartWithTimeAxis",parameter:{dimensions:[{fieldName:"Date",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerGroupName",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-7",stepDescription:"Revenue and Discount - Detailed",requiredFilters:[],representations:[{id:"Step-7-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-9",stepDescription:"Detailed Data",requiredFilters:[],representations:[{id:"Step-9-Representation-1",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CompanyCode",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"}},{fieldName:"CompanyCodeName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654653622077363120109737296"}},{fieldName:"Country",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"}},{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Product",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"}},{fieldName:"ProductName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654973841803358061607117468"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Date",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}},{fieldName:"CurrencyName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998655205561312561637116321044"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CompanyCode",ascending:true},{property:"Country",ascending:true},{property:"CustomerGroup",ascending:true},{property:"Customer",ascending:"true"},{property:"Product",ascending:true},{property:"Date",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"15102377426421018326751208039995"}}}]},{type:"binding",id:"binding-for-Step-10",stepDescription:"Revenue, Discount, and Shipping Costs by Month",requiredFilters:["YearMonth"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049976392117373455981353248"}},representations:[{id:"Step-10-Representation-1",representationTypeId:"LineChartWithTwoVerticalAxes",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"yAxis2",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis2",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"00000000000000000000000000000000"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-10-Representation-2",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-10-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-13",stepDescription:"Revenue and Shipping Costs - Detailed",requiredFilters:[],representations:[{id:"Step-13-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-14",stepDescription:"Discount and Shipping Costs - Detailed",requiredFilters:[],representations:[{id:"Step-14-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-16",stepDescription:"Revenue by Country and Month",requiredFilters:["YearMonth"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049976392117373455981353248"}},representations:[{id:"Step-16-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-16-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-16-Representation-3",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}},{id:"Step-16-Representation-4",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Country",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true},{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-17",stepDescription:"Revenue over Time",requiredFilters:["Date"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049951111233616299921121549"}},representations:[{id:"Step-17-Representation-1",representationTypeId:"LineChartWithTimeAxis",parameter:{dimensions:[{fieldName:"Date",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Date",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-18",stepDescription:"Revenue by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-18-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-19",stepDescription:"Discount by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-19-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-20",stepDescription:"Shipping Costs by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-20-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"ShippingCosts",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-21",stepDescription:"Revenue, Discount, and Shipping Costs by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-21-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-21-Representation-2",representationTypeId:"BubbleChart",parameter:{dimensions:[{fieldName:"Country",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"Revenue",kind:"bubbleWidth",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},leftLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-22",stepDescription:"Discount and Shipping Costs by Customer",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},representations:[{id:"Step-22-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-2",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"ShippingCosts",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"CustomerGroup",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerGroupName",ascending:true},{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-5",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-23",stepDescription:"Discount by Customer and Month",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},representations:[{id:"Step-23-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-3",representationTypeId:"PercentageStackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-4",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-5",representationTypeId:"PercentageStackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-6",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerGroupName",ascending:false},{property:"CustomerName",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-7",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Discount",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-26",stepDescription:"Revenue by Country and Month",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text"},representations:[{id:"Step-26-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-26-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true},{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-26-Representation-3",representationTypeId:"PercentageStackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true},{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-26-Representation-4",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Country",kind:"xAxis2",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorColor"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true},{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-29",stepDescription:"Discount by Customer",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-29-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-29-Representation-2",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-29-Representation-3",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-29-Representation-4",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]}],representationTypes:[],categories:[{type:"category",description:"All Steps",id:"Category-9",label:{type:"label",kind:"text",key:"582CF273286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-18"},{type:"step",id:"Step-26"},{type:"step",id:"Step-16"},{type:"step",id:"Step-4"},{type:"step",id:"Step-5"},{type:"step",id:"Step-6"},{type:"step",id:"Step-17"},{type:"step",id:"Step-19"},{type:"step",id:"Step-29"},{type:"step",id:"Step-23"},{type:"step",id:"Step-20"},{type:"step",id:"Step-7"},{type:"step",id:"Step-22"},{type:"step",id:"Step-21"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"},{type:"step",id:"Step-10"},{type:"step",id:"Step-9"}]},{type:"category",description:"Time",id:"Category-3",label:{type:"label",kind:"text",key:"57FCA587C3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-17"},{type:"step",id:"Step-16"},{type:"step",id:"Step-5"},{type:"step",id:"Step-6"},{type:"step",id:"Step-23"},{type:"step",id:"Step-10"}]},{type:"category",description:"Country",id:"Category-5",label:{type:"label",kind:"text",key:"582CF189286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-18"},{type:"step",id:"Step-19"},{type:"step",id:"Step-20"},{type:"step",id:"Step-21"},{type:"step",id:"Step-26"}]},{type:"category",description:"Customer",id:"Category-2",label:{type:"label",kind:"text",key:"57FCA50FC3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-4"},{type:"step",id:"Step-5"},{type:"step",id:"Step-22"},{type:"step",id:"Step-29"},{type:"step",id:"Step-23"}]},{type:"category",description:"Revenue",id:"Category-6",label:{type:"label",kind:"text",key:"582CF257286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-18"},{type:"step",id:"Step-16"},{type:"step",id:"Step-4"},{type:"step",id:"Step-5"},{type:"step",id:"Step-6"},{type:"step",id:"Step-17"},{type:"step",id:"Step-7"},{type:"step",id:"Step-13"},{type:"step",id:"Step-10"},{type:"step",id:"Step-21"}]},{type:"category",description:"Discount",id:"Category-7",label:{type:"label",kind:"text",key:"582CF25B286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-19"},{type:"step",id:"Step-29"},{type:"step",id:"Step-23"},{type:"step",id:"Step-10"},{type:"step",id:"Step-22"},{type:"step",id:"Step-14"},{type:"step",id:"Step-21"}]},{type:"category",description:"Shipping Costs",id:"Category-8",label:{type:"label",kind:"text",key:"582CF25F286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-20"},{type:"step",id:"Step-22"},{type:"step",id:"Step-10"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"},{type:"step",id:"Step-21"}]},{type:"category",description:"Detailed Data",id:"Category-4",label:{type:"label",kind:"text",key:"57FCA5E9C3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-9"},{type:"step",id:"Step-7"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"}]}],navigationTargets:[{type:"navigationTarget",id:"NavigationTarget-1",semanticObject:"FioriApplication",action:"executeAPFConfiguration",isStepSpecific:false,useDynamicParameters:true,parameters:[{key:"sap-apf-configuration-id",value:"57FCA36EC3D350DEE10000000A442AF4"}],title:{key:"15181818661221038491819157748774",type:"label",kind:"text"}}],facetFilters:[{type:"facetFilter",description:"Currency",id:"FacetFilter-1",property:"P_Currency",multiSelection:"false",preselectionDefaults:[],valueList:["USD","EUR"],label:{type:"label",kind:"text",key:"57FCA395C3D350DEE10000000A442AF5"},invisible:false,hasAutomaticSelection:"true",useSameRequestForValueHelpAndFilterResolution:"false"},{type:"facetFilter",description:"Company Code",id:"FacetFilter-2",property:"CompanyCode",multiSelection:"true",preselectionDefaults:["CA01","CH01","DE01","IN01","US01"],label:{type:"label",kind:"text",key:"57FCA4EBC3D350DEE10000000A442AF5"},invisible:true,hasAutomaticSelection:"false",useSameRequestForValueHelpAndFilterResolution:"false"},{type:"facetFilter",description:"Country",id:"FacetFilter-3",property:"Country",multiSelection:"true",preselectionDefaults:null,label:{type:"label",kind:"text",key:"57FCA4F1C3D350DEE10000000A442AF5"},invisible:false,filterResolutionRequest:"FilterResolution-request-for-FacetFilter-3",valueHelpRequest:"FilterResolution-request-for-FacetFilter-3",hasAutomaticSelection:"false",useSameRequestForValueHelpAndFilterResolution:"true"},{type:"facetFilter",description:"Customer Group",id:"FacetFilter-4",property:"CustomerGroup",multiSelection:"true",preselectionDefaults:null,label:{type:"label",kind:"text",key:"57FCA4F5C3D350DEE10000000A442AF5"},invisible:false,filterResolutionRequest:"FilterResolution-request-for-FacetFilter-4",valueHelpRequest:"FilterResolution-request-for-FacetFilter-4",hasAutomaticSelection:"false",useSameRequestForValueHelpAndFilterResolution:"true"},{type:"facetFilter",description:"Customer",id:"FacetFilter-5",property:"Customer",multiSelection:"true",preselectionDefaults:null,label:{type:"label",kind:"text",key:"57FCA4FBC3D350DEE10000000A442AF5"},invisible:false,filterResolutionRequest:"FilterResolution-request-for-FacetFilter-5",valueHelpRequest:"FilterResolution-request-for-FacetFilter-5",hasAutomaticSelection:"false",useSameRequestForValueHelpAndFilterResolution:"true"}],configHeader:{Application:"57FCA36EC3D350DEE10000000A442AF5",ApplicationName:"APF Demo Kit Application",SemanticObject:"FioriApplication",AnalyticalConfiguration:"57FCA36EC3D350DEE10000000A442AF4",AnalyticalConfigurationName:"APF Standard Demo",UI5Version:"1.55.0-SNAPSHOT",CreationUTCDateTime:null,LastChangeUTCDateTime:null}}});
sap.ui.predefine("sap/apf/demokit/configuration/demokitHierarchy", [],function(){"use strict";return{analyticalConfigurationName:"APF Hierarchy Demo",applicationTitle:{type:"label",kind:"text",key:"14822380843323382109646873064048"},steps:[{type:"step",description:"Revenue by Country (with Hierarchy Service)",request:"request-for-Step-2",binding:"binding-for-Step-2",id:"Step-2",title:{type:"label",kind:"text",key:"14822374389411352084979829313687"},navigationTargets:[]},{type:"step",description:"Revenue by Country (with normal Service)",request:"request-for-Step-3",binding:"binding-for-Step-3",id:"Step-3",title:{type:"label",kind:"text",key:"14822374366121819634218359677717"},navigationTargets:[]},{type:"hierarchicalStep",description:"Revenue by Customer",request:"request-for-Step-1",binding:"binding-for-Step-1",id:"Step-1",title:{type:"label",kind:"text",key:"57FCA515C3D350DEE10000000A442AF5"},navigationTargets:[],hierarchyProperty:"Customer"}],requests:[{type:"request",id:"request-for-Step-2",service:"/tmp/demokit/hierarchy.xsodata",entitySet:"RevenueHryQuery",selectProperties:["Country","CountryName","Revenue","Currency"]},{type:"request",id:"request-for-Step-3",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Country","CountryName","Revenue","Currency"]},{type:"request",id:"request-for-Step-1",service:"/tmp/demokit/hierarchy.xsodata",entitySet:"RevenueHryQuery",selectProperties:["Currency","Customer_NodeText","Revenue"]},{type:"request",id:"ValueHelp-request-for-FacetFilter-2",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Country","CountryName"]}],bindings:[{type:"binding",id:"binding-for-Step-2",stepDescription:"Revenue by Country (with Hierarchy Service)",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-2-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}}}]},{type:"binding",id:"binding-for-Step-3",stepDescription:"Revenue by Country (with normal Service)",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-3-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}}}]},{type:"binding",id:"binding-for-Step-1",stepDescription:"Revenue by Customer",requiredFilters:["Customer_NodeID"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-1-Representation-1",representationTypeId:"TreeTableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],hierarchicalProperty:[{fieldName:"Customer",kind:"hierarchicalColumn",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"text"}],width:{}}}]}],representationTypes:[],categories:[{type:"category",description:"All Steps",id:"Category-1",label:{type:"label",kind:"text",key:"582CF273286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-1"},{type:"step",id:"Step-2"},{type:"step",id:"Step-3"}]}],navigationTargets:[],facetFilters:[{type:"facetFilter",description:"Currency",id:"FacetFilter-1",property:"P_Currency",multiSelection:"false",preselectionDefaults:["USD"],valueList:["EUR","USD"],label:{type:"label",kind:"text",key:"57FCA395C3D350DEE10000000A442AF5"},invisible:false,hasAutomaticSelection:"false",useSameRequestForValueHelpAndFilterResolution:"false"},{type:"facetFilter",description:"Country",id:"FacetFilter-2",alias:"Country",property:"Country",multiSelection:"true",preselectionDefaults:[],label:{type:"label",kind:"text",key:"57FCA4F1C3D350DEE10000000A442AF5"},invisible:false,valueHelpRequest:"ValueHelp-request-for-FacetFilter-2",hasAutomaticSelection:"true",useSameRequestForValueHelpAndFilterResolution:"false"}],configHeader:{Application:"57FCA36EC3D350DEE10000000A442AF5",ApplicationName:"APF Demo Kit Application",SemanticObject:"FioriApplication",AnalyticalConfiguration:"57FCA36EC3D350DEE10000000A442AF6",AnalyticalConfigurationName:"APF Hierarchy Demo",UI5Version:"1.51.0-SNAPSHOT",CreationUTCDateTime:null,LastChangeUTCDateTime:null}}});
sap.ui.predefine("sap/apf/demokit/configuration/demokitSFB", [],function(){"use strict";return{analyticalConfigurationName:"APF Smart Filter Bar Demo",applicationTitle:{type:"label",kind:"text",key:"14858784650039751216561611030127"},steps:[{type:"step",description:"Revenue by Customer",request:"request-for-Step-4",binding:"binding-for-Step-4",id:"Step-4",title:{type:"label",kind:"text",key:"57FCA515C3D350DEE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"}}},{type:"step",description:"Revenue by Customer and Month",request:"request-for-Step-5",binding:"binding-for-Step-5",id:"Step-5",title:{type:"label",kind:"text",key:"57FCA590C3D350DEE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{type:"step",description:"Revenue by Customer over Time",request:"request-for-Step-6",binding:"binding-for-Step-6",id:"Step-6",title:{type:"label",kind:"text",key:"57FCA52FC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue and Discount - Detailed",request:"request-for-Step-7",binding:"binding-for-Step-7",id:"Step-7",title:{type:"label",kind:"text",key:"57FCA621C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Detailed Data",request:"request-for-Step-9",binding:"binding-for-Step-9",id:"Step-9",title:{type:"label",kind:"text",key:"57FCA5F7C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue, Discount, and Shipping Costs by Month",request:"request-for-Step-10",binding:"binding-for-Step-10",id:"Step-10",title:{type:"label",kind:"text",key:"57FCA63CC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue and Shipping Costs - Detailed",request:"request-for-Step-13",binding:"binding-for-Step-13",id:"Step-13",title:{type:"label",kind:"text",key:"57FCA68AC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount and Shipping Costs - Detailed",request:"request-for-Step-14",binding:"binding-for-Step-14",id:"Step-14",title:{type:"label",kind:"text",key:"57FCA696C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue by Country and Month",request:"request-for-Step-16",binding:"binding-for-Step-16",id:"Step-16",title:{type:"label",kind:"text",key:"582CF0DE286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue over Time",request:"request-for-Step-17",binding:"binding-for-Step-17",id:"Step-17",title:{type:"label",kind:"text",key:"57FCA37CC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue by Country",request:"request-for-Step-18",binding:"binding-for-Step-18",id:"Step-18",title:{type:"label",kind:"text",key:"582CF190286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount by Country",request:"request-for-Step-19",binding:"binding-for-Step-19",id:"Step-19",title:{type:"label",kind:"text",key:"582CF1AA286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Shipping Costs by Country",request:"request-for-Step-20",binding:"binding-for-Step-20",id:"Step-20",title:{type:"label",kind:"text",key:"582CF1B7286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue, Discount, and Shipping Costs by Country",request:"request-for-Step-21",binding:"binding-for-Step-21",id:"Step-21",title:{type:"label",kind:"text",key:"582CF1C1286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount and Shipping Costs by Customer",request:"request-for-Step-22",binding:"binding-for-Step-22",id:"Step-22",title:{type:"label",kind:"text",key:"582CF1F5286D6BFFE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"}}},{type:"step",description:"Discount by Customer and Month",request:"request-for-Step-23",binding:"binding-for-Step-23",id:"Step-23",title:{type:"label",kind:"text",key:"582CF243286D6BFFE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}],requests:[{type:"request",id:"request-for-Step-4",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Customer","CustomerName","Currency"]},{type:"request",id:"request-for-Step-5",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName"]},{type:"request",id:"request-for-Step-6",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Revenue","Currency","Customer","CustomerName","CustomerGroupName","CustomerGroup"]},{type:"request",id:"request-for-Step-7",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Revenue","Currency","CompanyCode","Product","Discount"]},{type:"request",id:"request-for-Step-9",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Product","ProductName","Country","CountryName","CustomerGroup","CustomerGroupName","CompanyCode","CompanyCodeName","Currency","CurrencyName","YearMonth","Revenue","ShippingCosts","Discount","Date"]},{type:"request",id:"request-for-Step-10",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["YearMonth","Currency","Revenue","ShippingCosts","Discount","Year","Month"]},{type:"request",id:"request-for-Step-13",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Currency","CompanyCode","Product","Revenue","ShippingCosts"]},{type:"request",id:"request-for-Step-14",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Currency","CompanyCode","Product","ShippingCosts","Discount"]},{type:"request",id:"request-for-Step-16",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Country","CountryName","Year","Month","YearMonth","Revenue","Currency"]},{type:"request",id:"request-for-Step-17",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Revenue","Currency"]},{type:"request",id:"request-for-Step-18",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Currency","Country","CountryName"]},{type:"request",id:"request-for-Step-19",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","Discount"]},{type:"request",id:"request-for-Step-20",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","ShippingCosts"]},{type:"request",id:"request-for-Step-21",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","ShippingCosts","Discount","Revenue"]},{type:"request",id:"request-for-Step-22",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Currency","Discount","ShippingCosts","CustomerGroup","CustomerGroupName"]},{type:"request",id:"request-for-Step-23",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName","Discount"]}],bindings:[{type:"binding",id:"binding-for-Step-4",stepDescription:"Revenue by Customer",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-4-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:false}]}},{id:"Step-4-Representation-2",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]}},{id:"Step-4-Representation-3",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:true}]}},{id:"Step-4-Representation-4",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]}}]},{type:"binding",id:"binding-for-Step-5",stepDescription:"Revenue by Customer and Month",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-5-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-3",representationTypeId:"PercentageStackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-4",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-5",representationTypeId:"PercentageStackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-6",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerGroupName",ascending:false},{property:"CustomerName",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-7",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-8",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"Revenue",ascending:false}]}}]},{type:"binding",id:"binding-for-Step-6",stepDescription:"Revenue by Customer over Time",requiredFilters:["Date"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049951111233616299921121549"}},representations:[{id:"Step-6-Representation-1",representationTypeId:"LineChartWithTimeAxis",parameter:{dimensions:[{fieldName:"Date",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerGroupName",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-7",stepDescription:"Revenue and Discount - Detailed",requiredFilters:[],representations:[{id:"Step-7-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-9",stepDescription:"Detailed Data",requiredFilters:[],representations:[{id:"Step-9-Representation-1",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CompanyCode",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"}},{fieldName:"CompanyCodeName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654653622077363120109737296"}},{fieldName:"Country",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"}},{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Product",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"}},{fieldName:"ProductName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654973841803358061607117468"}},{fieldName:"YearMonth",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998655078505897926830178603327"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}},{fieldName:"CurrencyName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998655205561312561637116321044"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CompanyCode",ascending:true},{property:"Country",ascending:true},{property:"CustomerGroup",ascending:true},{property:"Customer",ascending:"true"},{property:"Product",ascending:true}]}}]},{type:"binding",id:"binding-for-Step-10",stepDescription:"Revenue, Discount, and Shipping Costs by Month",requiredFilters:["YearMonth"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049976392117373455981353248"}},representations:[{id:"Step-10-Representation-1",representationTypeId:"LineChartWithTwoVerticalAxes",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"yAxis2",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis2",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-10-Representation-2",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-10-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-13",stepDescription:"Revenue and Shipping Costs - Detailed",requiredFilters:[],representations:[{id:"Step-13-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-14",stepDescription:"Discount and Shipping Costs - Detailed",requiredFilters:[],representations:[{id:"Step-14-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-16",stepDescription:"Revenue by Country and Month",requiredFilters:["YearMonth"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049976392117373455981353248"}},representations:[{id:"Step-16-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-16-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-16-Representation-3",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-17",stepDescription:"Revenue over Time",requiredFilters:["Date"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049951111233616299921121549"}},representations:[{id:"Step-17-Representation-1",representationTypeId:"LineChartWithTimeAxis",parameter:{dimensions:[{fieldName:"Date",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Date",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-18",stepDescription:"Revenue by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-18-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-19",stepDescription:"Discount by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-19-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-20",stepDescription:"Shipping Costs by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-20-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-21",stepDescription:"Revenue, Discount, and Shipping Costs by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-21-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-21-Representation-2",representationTypeId:"BubbleChart",parameter:{dimensions:[{fieldName:"Country",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"Revenue",kind:"bubbleWidth",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},leftLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-22",stepDescription:"Discount and Shipping Costs by Customer",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},representations:[{id:"Step-22-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-2",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"ShippingCosts",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"CustomerGroup",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerGroupName",ascending:true},{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-5",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-23",stepDescription:"Discount by Customer and Month",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},representations:[{id:"Step-23-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-3",representationTypeId:"PercentageStackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-4",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-5",representationTypeId:"PercentageStackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-6",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerGroupName",ascending:false},{property:"CustomerName",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-7",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Discount",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-8",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Discount",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]}],representationTypes:[],categories:[{type:"category",description:"All Steps",id:"Category-9",label:{type:"label",kind:"text",key:"582CF273286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-5"},{type:"step",id:"Step-4"},{type:"step",id:"Step-6"},{type:"step",id:"Step-7"},{type:"step",id:"Step-9"},{type:"step",id:"Step-10"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"},{type:"step",id:"Step-16"},{type:"step",id:"Step-17"},{type:"step",id:"Step-18"},{type:"step",id:"Step-19"},{type:"step",id:"Step-20"},{type:"step",id:"Step-21"},{type:"step",id:"Step-22"},{type:"step",id:"Step-23"}]},{type:"category",description:"Time",id:"Category-3",label:{type:"label",kind:"text",key:"57FCA587C3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-17"},{type:"step",id:"Step-10"},{type:"step",id:"Step-16"},{type:"step",id:"Step-5"},{type:"step",id:"Step-6"},{type:"step",id:"Step-23"}]},{type:"category",description:"Country",id:"Category-5",label:{type:"label",kind:"text",key:"582CF189286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-18"},{type:"step",id:"Step-19"},{type:"step",id:"Step-20"},{type:"step",id:"Step-21"}]},{type:"category",description:"Customer",id:"Category-2",label:{type:"label",kind:"text",key:"57FCA50FC3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-4"},{type:"step",id:"Step-5"},{type:"step",id:"Step-22"},{type:"step",id:"Step-23"}]},{type:"category",description:"Revenue",id:"Category-6",label:{type:"label",kind:"text",key:"582CF257286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-18"},{type:"step",id:"Step-16"},{type:"step",id:"Step-4"},{type:"step",id:"Step-5"},{type:"step",id:"Step-6"},{type:"step",id:"Step-7"},{type:"step",id:"Step-13"},{type:"step",id:"Step-17"},{type:"step",id:"Step-10"},{type:"step",id:"Step-21"}]},{type:"category",description:"Discount",id:"Category-7",label:{type:"label",kind:"text",key:"582CF25B286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-19"},{type:"step",id:"Step-23"},{type:"step",id:"Step-10"},{type:"step",id:"Step-22"},{type:"step",id:"Step-14"},{type:"step",id:"Step-21"}]},{type:"category",description:"Shipping Costs",id:"Category-8",label:{type:"label",kind:"text",key:"582CF25F286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-20"},{type:"step",id:"Step-22"},{type:"step",id:"Step-10"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"},{type:"step",id:"Step-21"}]},{type:"category",description:"Detailed Data",id:"Category-4",label:{type:"label",kind:"text",key:"57FCA5E9C3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-9"},{type:"step",id:"Step-7"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"}]}],navigationTargets:[{type:"navigationTarget",id:"NavigationTarget-1",semanticObject:"FioriApplication",action:"executeAPFConfiguration",isStepSpecific:false,useDynamicParameters:true,parameters:[{key:"sap-apf-configuration-id",value:"57FCA36EC3D350DEE10000000A442AF7"}],title:{key:"15181892007378544392570341801336",type:"label",kind:"text"}}],smartFilterBar:{id:"SmartFilterBar-1",type:"smartFilterBar",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQueryResults"},configHeader:{Application:"57FCA36EC3D350DEE10000000A442AF5",ApplicationName:"APF Demo Kit Application",SemanticObject:"FioriApplication",AnalyticalConfiguration:"57FCA36EC3D350DEE10000000A442AF7",AnalyticalConfigurationName:"APF Smart Filter Bar Demo",UI5Version:"1.55.0-SNAPSHOT",CreationUTCDateTime:null,LastChangeUTCDateTime:null}}});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5). (c) Copyright 2009-2021 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/apf/library", ["sap/ui/core/Core","sap/ui/core/library","sap/suite/ui/commons/library","sap/m/library","sap/ui/layout/library","sap/ushell/library","sap/viz/library","sap/ui/comp/library","sap/ui/export/library","sap/ui/table/library"],function(){return sap.ui.getCore().initLibrary({name:"sap.apf",dependencies:["sap.ui.core","sap.suite.ui.commons","sap.m","sap.ui.layout","sap.ushell","sap.viz","sap.ui.comp","sap.ui.export","sap.ui.table"],types:[],interfaces:[],controls:[],elements:[],noLibraryCSS:true,version:"1.108.2"})});
sap.ui.predefine("sap/apf/messageCallbackForStartup", ["sap/apf/core/constants","sap/base/security/encodeXML","sap/m/MessageBox"],function(e,t){"use strict";function s(s){function n(){window.history.go(-1)}function a(e){var t=e.getMessage();while(e.getPrevious()){e=e.getPrevious();t=t+"\n"+e.getMessage()}return t}function o(){var e=new sap.m.Dialog({title:"Error",type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:new sap.ui.core.HTML({content:["<div><p> "+t(a(s))+"</p></div>"].join(""),sanitizeContent:true}),beginButton:new sap.m.Button({text:"Close",press:function(){e.close()}}),afterClose:function(){e.destroy()}});e.setInitialFocus(e);e.open()}var i=new sap.m.Dialog({title:"Error",type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:[new sap.m.Text({text:s.getMessage()}),new sap.m.VBox({alignItems:sap.m.FlexAlignItems.End,items:[new sap.m.Link({text:"Show Details",press:function(){o()}})]})],beginButton:new sap.m.Button({text:"Close",press:function(){if(s.getSeverity()===e.message.severity.fatal){n()}}}),afterClose:function(){i.destroy()}});i.setInitialFocus(i);i.open()}sap.apf.messageCallbackForStartup=s;return s},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/Component", ["sap/ui/core/UIComponent","sap/apf/modeler/core/instance","sap/m/routing/RouteMatchedHandler","sap/apf/modeler/ui/utils/APFRouter","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/APFTree","sap/apf/core/layeredRepositoryProxy","sap/apf/core/constants","sap/ui/thirdparty/jquery","sap/ui/dom/includeStylesheet"],function(e,a,t,i,o,n,s,r,jQuery,p){"use strict";var c=sap.ui.core.UIComponent.extend("sap.apf.modeler.Component",{oCoreApi:null,metadata:{manifest:"json",library:"sap.apf"},init:function(){var e,a;var t;if(this.initHasAlreadyBeenCalled){return}this.initHasAlreadyBeenCalled=true;var i=jQuery.extend({},true,this.getMetadata().getManifest());var o=c.prototype.getMetadata().getManifest();if(i["sap.app"].crossNavigation&&i["sap.app"].crossNavigation.outbounds&&i["sap.app"].crossNavigation.outbounds.navigateToGenericRuntime){t=i["sap.app"].crossNavigation.outbounds.navigateToGenericRuntime}if(i["sap.app"].dataSources&&i["sap.app"].dataSources.AnalyticalConfigurationServiceRoot){e=i["sap.app"].dataSources.AnalyticalConfigurationServiceRoot.uri}else{e=sap.apf.core.constants.modelerPersistenceServiceRoot}var n={serviceRoot:e};var s=this.getInjections();s.instances=s.instances||{};s.instances.component=this;s.functions=s.functions||{};if(t){s.functions.getNavigationTargetForGenericRuntime=function(){return t}}else{s.functions.getNavigationTargetForGenericRuntime=function(){if(i["sap.app"]&&i["sap.app"].id==="fnd.apf.dts1"){return{semanticObject:"FioriApplication",action:"executeAPFConfigurationS4HANA"}}return{semanticObject:"FioriApplication",action:"executeAPFConfiguration"}}}if(i["sap.app"].dataSources&&i["sap.app"].dataSources.GatewayCatalogService){a=i["sap.app"].dataSources.GatewayCatalogService.uri}else if(o["sap.app"].dataSources&&o["sap.app"].dataSources.GatewayCatalogService){a=o["sap.app"].dataSources.GatewayCatalogService.uri}s.functions.getCatalogServiceUri=function(){return a};this.oCoreApi=new sap.apf.modeler.core.Instance(n,s);var r=this.oCoreApi.getUriGenerator().getApfLocation();p(r+"modeler/resources/css/configModeler.css","configModelerCss");sap.ui.core.UIComponent.prototype.init.apply(this,arguments);this.getRouter().initialize();var u=sap.ui.view({viewName:"sap.apf.modeler.ui.view.messageHandler",type:sap.ui.core.mvc.ViewType.XML,viewData:this.oCoreApi});var l=u.getController().showMessage;this.oCoreApi.setCallbackForMessageHandling(l.bind(u.getController()))},createContent:function(){var e=sap.ui.view({viewName:"sap.apf.modeler.ui.view.applicationList",type:sap.ui.core.mvc.ViewType.XML,viewData:this.oCoreApi});this.oCoreApi.getUriGenerator().getApfLocation();return e},getInjections:function(){return{instances:{},exits:{}}}});return c},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/configurationEditor", ["sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,jQuery){"use strict";sap.apf.modeler.core.ConfigurationEditor=function(e,t,r,n){var i=this;var a;var o;var s=t.instances.configurationHandler;var f=t.instances.persistenceProxy;var l=t.instances.messageHandler;var c=t.instances.metadataFactory;var u=true;var g,v,d,m,h,p;var y;var E=new t.constructors.ConfigurationObjects(t);var C=new t.constructors.ConfigurationFactory({instances:{messageHandler:l},constructors:{RegistryProbe:t.constructors.RegistryProbe}});if(!n){g=new t.constructors.ElementContainer("Step",t.constructors.Step,t);v=new t.constructors.ElementContainer("Category",undefined,t);d=new t.constructors.ElementContainer("FacetFilter",t.constructors.FacetFilter,t);m=new t.constructors.ElementContainer("NavigationTarget",t.constructors.NavigationTarget,t);h=new t.constructors.ElementContainer("CategoryStepAssignment",t.constructors.ElementContainer,t);p=[];a={smartFilterBar:true}}else{g=n.stepContainer;v=n.categoryContainer;y=n.smartFilterBar;d=n.facetFilterContainer;m=n.navigationTargetContainer;h=n.categoryStepAssignmentContainer;p=n.serviceList;o=n.applicationTitle;a=n.filterOption}this.registerServiceAsPromise=function(e){var t=jQuery.Deferred();var r;if(p.indexOf(e)===-1){r=c.getMetadata(e);r.done(function(){if(p.indexOf(e)===-1){p.push(e)}t.resolve(true)});r.fail(function(){t.resolve(false)})}else{t.resolve(true)}return t.promise()};this.getAllServices=function(){return p};this.getAllEntitySetsOfServiceAsPromise=function(e){return c.getEntitySets(e)};this.getAllHierarchicalEntitySetsOfServiceAsPromise=function(e){var t=jQuery.Deferred();c.getMetadata(e).done(function(e){if(e){t.resolve(e.getHierarchicalEntitySets())}t.resolve([])}).fail(function(){t.resolve([])});return t.promise()};this.checkIfHierarchicalEntitySetIsAvailableAsPromise=function(e){var t=jQuery.Deferred();this.getAllHierarchicalEntitySetsOfServiceAsPromise(e).done(function(e){if(e.length>0){t.resolve(true)}else{t.resolve(false)}});return t};this.getHierarchicalPropertiesOfEntitySetAsPromise=function(e,t){var r=jQuery.Deferred();c.getMetadata(e).done(function(e){if(e){r.resolve(e.getHierarchicalPropertiesOfEntitySet(t))}else{r.resolve([])}}).fail(function(){r.resolve([])});return r};this.getHierarchyNodeIdAsPromise=function(e,t,r){var n;var i=jQuery.Deferred();c.getMetadata(e).done(function(e){if(e){n=e.getHierarchyAnnotationsForProperty(t,r);if(n&&n.hierarchyNodeFor){i.resolve(n.hierarchyNodeFor)}else{i.resolve(null)}}else{i.resolve(null)}}).fail(function(){i.resolve(null)});return i};this.getNonHierarchicalPropertiesOfEntitySet=function(e,t){var r;var n=jQuery.Deferred();c.getMetadata(e).then(function(e){r=e.getNonHierarchicalPropertiesOfEntitySet(t);n.resolve(r)},function(){n.resolve([])});return n};this.getAllEntitySetsExceptParameterEntitySets=function(e){return c.getAllEntitySetsExceptParameterEntitySets(e)};this.getAllEntitySetsOfServiceWithGivenPropertiesAsPromise=function(e,t){var r=[];var n=jQuery.Deferred();this.getAllEntitySetsOfServiceAsPromise(e).done(function(i){if(!t||t.length===0){n.resolve(i);return}c.getMetadata(e).done(function(e){i.forEach(function(n){var i=e.getFilterableProperties(n);var a=true;for(var o=0;o<t.length;o++){if(i.indexOf(t[o])<=-1){a=false;break}}if(a){r.push(n)}});n.resolve(r)})});return n.promise()};this.getAllPropertiesOfEntitySetAsPromise=function(e,t){var r=jQuery.Deferred();c.getMetadata(e).done(function(e){r.resolve(e.getAllPropertiesOfEntitySet(t))}).fail(function(){r.resolve([])});return r.promise()};this.getAllKnownPropertiesAsPromise=function(){var e=jQuery.Deferred();var t=[];var r=p.length;p.forEach(function(n){c.getMetadata(n).done(function(n){t=t.concat(n.getAllProperties());r--;if(r===0){t=sap.apf.utils.eliminateDuplicatesInArray(l,t);e.resolve(t)}})});return e.promise()};this.getFilterablePropertiesAndParametersAsPromise=function(){var e=jQuery.Deferred();var t=[];var r=p.length;p.forEach(function(n){c.getMetadata(n).done(function(n){t=t.concat(n.getFilterablePropertiesAndParameters());if(--r===0){e.resolve(sap.apf.utils.eliminateDuplicatesInArray(l,t))}})});if(r===0){e.resolve([])}return e.promise()};this.setApplicationTitle=function(e){u=false;o=e};this.getApplicationTitle=function(){return o};this.getConfigurationName=function(){return s.getConfiguration(e.id||e).AnalyticalConfigurationName};this.getCategoryStepAssignments=function(e){var t=[];if(!this.getCategory(e)){return false}var r=h.getElement(e);if(r){r.getElements().forEach(function(e){t.push(e.stepId)})}return t};this.addCategoryStepAssignment=function(e,t){if(!this.getCategory(e)||!this.getStep(t)){return false}var r=h.getElement(e);if(!r){h.createElementWithProposedId({},e);r=h.getElement(e)}if(!r.getElement(t)){r.createElementWithProposedId({stepId:t},t);return true}return false};this.removeCategoryStepAssignment=function(e,t){var r;if(!t){var n=this.getCategoryStepAssignments(e);r=h.removeElement(e);if(r){S(n)}return!!r}var i=h.getElement(e);if(!i){return false}r=i.removeElement(t);if(i.getElements().length===0){h.removeElement(e)}if(r){S([t])}return!!r};function S(e){if(!e){return}e.forEach(function(e){if(i.getCategoriesForStep(e).length===0){g.removeElement(e)}})}this.moveCategoryStepAssignmentBefore=function(e,t,r){var n=h.getElement(e);if(!n){return null}return n.moveBefore(t,r)};this.moveCategoryStepAssignmentToEnd=function(e,t){var r=h.getElement(e);if(!r){return null}return r.moveToEnd(t)};this.moveCategoryStepAssignmentUpOrDown=function(e,t,r){var n=h.getElement(e);if(!n){return null}return n.moveUpOrDown(t,r)};this.getCategory=v.getElement;this.setCategory=function(e,t){u=false;return v.setElement(e,t)};this.createCategoryWithId=function(e,t){u=false;return v.createElementWithProposedId(e,t).getId()};this.removeCategory=function(e){var t=i.getCategoryStepAssignments(e);if(t){t.forEach(function(e){var t=i.getCategoriesForStep(e);if(!t||t.length<2){g.removeElement(e)}})}v.removeElement(e)};this.getCategories=v.getElements;this.copyCategory=function(e){var t=v.copyElement(e);if(!t){return}i.getCategoryStepAssignments(e).forEach(function(e){A(e,t)});return t};this.moveCategoryBefore=function(e,t){return v.moveBefore(e,t)};this.moveCategoryToEnd=function(e){return v.moveToEnd(e)};this.moveCategoryUpOrDown=function(e,t){return v.moveUpOrDown(e,t)};this.serialize=function(){return E.serializeConfiguration(i)};this.isSaved=function(){return u};this.setIsUnsaved=function(){u=false};this.save=function(t){var r;function n(n,i,a){if(!a){u=true;s.replaceConfigurationId(e.id||e,n.AnalyticalConfiguration);s.updateConfigurationName(e.id||e,r);e=n.AnalyticalConfiguration}t(e,i,a)}function i(n,i){if(!i){u=true}s.updateConfigurationName(e.id||e,r);t(e.id||e,n,i)}r=s.getConfiguration(e.id||e).AnalyticalConfigurationName;var a={AnalyticalConfiguration:"",AnalyticalConfigurationName:r,Application:s.getApplicationId(),SerializedAnalyticalConfiguration:JSON.stringify(this.serialize()),CreatedByUser:"",CreationUTCDateTime:null,LastChangeUTCDateTime:null,LastChangedByUser:""};if(typeof e==="string"){if(e.indexOf("apf1972-")===0){f.create("configuration",a,n)}else{a.AnalyticalConfiguration=e;f.update("configuration",a,i,[{name:"AnalyticalConfiguration",value:e}])}}else{if(e.id.indexOf("apf1972-")===0){a.AnalyticalConfiguration="";a.CreationUTCDateTime=null;a.LastChangeUTCDateTime=null}else{a.AnalyticalConfiguration=e.id;a.CreationUTCDateTime=e.creationDate;a.LastChangeUTCDateTime=e.lastChangeDate}if(e.updateExisting){f.update("configuration",a,i,[{name:"AnalyticalConfiguration",value:e.id}])}else{f.create("configuration",a,n)}}};this.getFilterOption=function(){return Object.assign({},a)};this.setFilterOption=function(e){if(e.none===true){y=null;t.call(this);r()}if(e.smartFilterBar===true){t.call(this);n()}if(e.facetFilter===true){y=null;i()}function t(){this.getFacetFilters().forEach(function(e){this.removeFacetFilter(e.getId())}.bind(this))}function r(){delete a.smartFilterBar;delete a.facetFilter;a.none=true}function n(){a.smartFilterBar=true;delete a.facetFilter;delete a.none}function i(){delete a.smartFilterBar;a.facetFilter=true;delete a.none}};this.isDataLostByFilterOptionChange=function(){if(a.smartFilterBar===true){if(y&&(y.getService()||y.getEntitySet())){return true}}if(a.facetFilter===true){if(d.getElements().length>0){return true}}return false};this.getSmartFilterBar=function(){if(a.smartFilterBar===true){if(!y){y=new t.constructors.SmartFilterBar("SmartFilterBar-1")}return y}return null};this.createFacetFilterWithId=function(e){if(a.facetFilter===true){return d.createElementWithProposedId(undefined,e).getId()}return null};this.createFacetFilter=function(){if(a.facetFilter===true){return d.createElement().getId()}return null};this.removeFacetFilter=d.removeElement;this.getFacetFilter=d.getElement;this.getFacetFilters=d.getElements;this.copyFacetFilter=d.copyElement;this.moveFacetFilterBefore=function(e,t){return d.moveBefore(e,t)};this.moveFacetFilterToEnd=function(e){return d.moveToEnd(e)};this.moveFacetFilterUpOrDown=function(e,t){return d.moveUpOrDown(e,t)};this.createNavigationTargetWithId=function(e){return m.createElementWithProposedId(undefined,e).getId()};this.createNavigationTarget=function(){return m.createElement().getId()};this.removeNavigationTarget=function(e){var t=m.getElement(e);if(!t){return}m.removeElement(e);if(t.isStepSpecific()){var r=this.getStepsAssignedToNavigationTarget(e);var n,i;for(n=0;n<r.length;n++){i=this.getStep(r[n]);i.removeNavigationTarget(e)}}};this.getNavigationTarget=m.getElement;this.getNavigationTargets=m.getElements;this.copyNavigationTarget=function(e){var t=m.copyElement(e);var r=m.getElement(t);if(r.isStepSpecific()){var n=this.getStepsAssignedToNavigationTarget(e);var i,a;for(i=0;i<n.length;i++){a=this.getStep(n[i]);a.addNavigationTarget(t)}}return t};this.moveNavigationTargetBefore=function(e,t){return m.moveBefore(e,t)};this.moveNavigationTargetToEnd=function(e){return m.moveToEnd(e)};this.moveNavigationTargetUpOrDown=function(e,t){return m.moveUpOrDown(e,t)};this.createStepWithId=function(e){return g.createElementWithProposedId(undefined,e).getId()};this.createStep=function(e){if(!this.getCategory(e)){return}var t=g.createElement().getId();this.addCategoryStepAssignment(e,t);return t};this.createHierarchicalStepWithId=function(e){return g.createElementWithProposedId(undefined,e,t.constructors.HierarchicalStep).getId()};this.createHierarchicalStep=function(e){if(!this.getCategory(e)){return}var r=g.createElement(undefined,t.constructors.HierarchicalStep).getId();this.addCategoryStepAssignment(e,r);return r};this.getStep=g.getElement;this.getSteps=g.getElements;this.getStepsNotAssignedToCategory=function(e){var t=this.getCategoryStepAssignments(e);var r=[];i.getSteps().forEach(function(e){var n=e.getId();if(t.indexOf(n)===-1){r.push(n)}});return r};this.copyStep=function(e){var t=A(e);var r=this.getCategoriesForStep(e);if(!t){return false}if(r){r.forEach(function(e){i.addCategoryStepAssignment(e,t)})}return t};function A(e,t){if(t&&!i.getCategory(t)){return false}var r=g.copyElement(e);if(!r){return false}if(t){i.addCategoryStepAssignment(t,r)}return r}this.getCategoriesForStep=function e(t){var r=[];var n=i.getCategories();if(n){n.forEach(function(e){var n=e.getId();var a=i.getCategoryStepAssignments(n);if(a&&a.indexOf(t)>-1){r.push(n)}})}return r};this.getAssignableStepsForNavigationTarget=function(e){var t=[];i.getSteps().forEach(function(r){var n=false;r.getNavigationTargets().forEach(function(t){if(e===t){n=true}});if(!n){t.push(r.getId())}});return t};this.getStepsAssignedToNavigationTarget=function(e){var t=[];i.getSteps().forEach(function(r){var n=false;r.getNavigationTargets().forEach(function(t){if(e===t){n=true}});if(n){t.push(r.getId())}});return t};this.copy=function(e){var r={stepContainer:g,categoryContainer:v,facetFilterContainer:d,navigationTargetContainer:m,categoryStepAssignmentContainer:h,applicationTitle:o,serviceList:p,filterOption:a};var n=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(r);if(a.smartFilterBar===true&&y){n.smartFilterBar=i()}return new sap.apf.modeler.core.ConfigurationEditor(e,t,undefined,n);function i(){var e=new t.constructors.SmartFilterBar(y.getId());e.setService(y.getService());e.setEntitySet(y.getEntitySet(),!y.isEntityTypeConverted());return e}};if(typeof e==="string"){if(e.indexOf("apf1972-")===0){u=false;if(r){r(i,undefined)}}else if(!n){F(e,f,function(e,t){if(!t){var n=JSON.parse(e.SerializedAnalyticalConfiguration);i.setApplicationTitle(n.applicationTitle);C.loadConfig(n,true);E.mapToDesignTimeAsPromise(C.getRegistry(),i).then(function(){u=true;r(i,undefined)})}else{r(undefined,t)}})}}else{C.loadConfig(e.content,true);E.mapToDesignTimeAsPromise(C.getRegistry(),this).then(function(){if(r){r(i,undefined)}})}function F(e,t,r){t.readEntity("configuration",function(e,t,n){r(e,n)},[{name:"AnalyticalConfiguration",value:e}],undefined,s.getApplicationId())}}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/configurationHandler", ["sap/apf/modeler/core/configurationEditor","sap/apf/utils/hashtable","sap/apf/utils/utils","sap/apf/modeler/core/configurationObjects"],function(t,e,n,i){"use strict";sap.apf.modeler.core.ConfigurationHandler=function(t){var e=this;var n=t.instances.messageHandler;var i=t.instances.persistenceProxy;var a=t.constructors.ConfigurationEditor;var o=t.constructors.Hashtable;var r=t.constructors.LazyLoader;var s=new o(n);var c=new o(n);var u=new o(n);var f=new o(n);var l,g;var m={constructors:{Hashtable:o},instances:{messageHandler:n}};this.exportTexts=function(t){var e=this.getConfiguration(t).AnalyticalConfigurationName;return g.exportTexts(e)};this.getTextPool=function(){return g};this.setApplicationIdAndContext=function(t,e,i){g=i||g;s=new o(n);var a,r=e.length;for(a=0;a<r;a++){s.setItem(e[a].AnalyticalConfiguration,e[a]);c.setItem(e[a].AnalyticalConfiguration,e[a].AnalyticalConfigurationName)}l=t};this.getApplicationId=function(){return l};this.setConfiguration=function(t,e){t.AnalyticalConfiguration=e||p();t.Application=l;s.setItem(t.AnalyticalConfiguration,t);return t.AnalyticalConfiguration};this.getList=function(){var t=[];var e=function(e,n){t.push(n)};s.each(e);return t};this.getConfiguration=function(t){return s.getItem(t)};this.loadConfiguration=function(s,c){var f,l=s.id||s;if(!s.updateExisting){f=u.getItem(l)}if(!f){f=new r(m,C);u.setItem(l,f)}f.asyncGetInstance(l,p);function p(t,e,n){c(t,e)}function C(r,c,u){var f={instances:{coreApi:t.instances.coreApi,messageHandler:n,configurationHandler:e,persistenceProxy:i,textPool:g,metadataFactory:t.instances.metadataFactory},constructors:{Hashtable:o,Step:t.constructors.Step,HierarchicalStep:t.constructors.HierarchicalStep,SmartFilterBar:t.constructors.SmartFilterBar,FacetFilter:t.constructors.FacetFilter,NavigationTarget:t.constructors.NavigationTarget,Representation:t.constructors.Representation,ConfigurationObjects:t.constructors.ConfigurationObjects,ElementContainer:t.constructors.ElementContainer,ConfigurationFactory:t.constructors.ConfigurationFactory,RegistryProbe:t.constructors.RegistryProbe}};new a(s,f,function(t,e){c(r,t,e)})}};this.resetConfiguration=function(t){var e;if(u.hasItem(t)){e=s.getItem(t);e.AnalyticalConfigurationName=c.getItem(t);u.removeItem(t);return t}};this.updateConfigurationName=function(t,e){c.setItem(t,e)};this.copyConfiguration=function(t,n){var i=this.getConfiguration(t);if(!i){n(null);return}e.loadConfiguration(t,a);function a(t){var a,o,s,c;c=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(i);a=p();c.AnalyticalConfiguration=a;e.setConfiguration(c,a);o=t.copy(a);s=new r(m,undefined,{id:a,instance:o});u.setItem(a,s);n(a)}};this.replaceConfigurationId=function(t,e){if(t.indexOf("apf1972-")===0){var n=s.getItem(t);var i=u.getItem(t).getInstance();var a=new r(m,undefined,{id:e,instance:i});n.AnalyticalConfiguration=e;s.setItem(e,n);c.setItem(e,n.AnalyticalConfigurationName);s.removeItem(t);u.setItem(e,a);u.removeItem(t)}};this.exportConfiguration=function(a,o){var r;this.loadConfiguration(a,s);function s(s){if(!s.isSaved()){n.putMessage(n.createMessageObject({code:"11007",aParameters:[a]}));o(null)}else{var c=t.functions.getApplication(l);var u=e.getConfiguration(a).AnalyticalConfigurationName;r=s.serialize();r.configHeader={Application:l,ApplicationName:c.ApplicationName,SemanticObject:c.SemanticObject,AnalyticalConfiguration:a,AnalyticalConfigurationName:u,UI5Version:sap.ui.version};i.readEntity("configuration",function(t,e,i){if(i){n.putMessage(n.createMessageObject({code:"5022",aParameters:[a]}));o(null)}else{r.configHeader.CreationUTCDateTime=t.CreationUTCDateTime;r.configHeader.LastChangeUTCDateTime=t.LastChangeUTCDateTime;r=JSON.stringify(r,null,"\t");o(r,u)}},[{name:"AnalyticalConfiguration",value:a}],["CreationUTCDateTime","LastChangeUTCDateTime"],l)}}};this.memorizeConfiguration=function(t){var e,n;n=u.getItem(t);if(!n){return null}e=n.getInstance();if(e){f.setItem(t,e.copy(t));return t}return null};this.restoreMemorizedConfiguration=function(t){var e,n;n=f.removeItem(t);if(n){e=new r(m,undefined,{id:t,instance:n});u.setItem(t,e);return n}return null};this.removeConfiguration=function(t,e){function n(n,i){if(!i){s.removeItem(t);u.removeItem(t)}e(t,n,i)}if(t.indexOf("apf1972-")!==0){i.remove("configuration",[{name:"AnalyticalConfiguration",value:t}],n,undefined,l)}else{s.removeItem(t);u.removeItem(t);e(t,undefined,undefined)}};this.removeAllConfigurations=function(){s=new o(n)};function p(){return"apf1972-"+sap.apf.utils.createPseudoGuid(32)}}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/elementContainer", function(){"use strict";var e=function(e,n,t,r){var a,i,s=new RegExp("^"+e+"-([123456789]\\d*)$"),o=new RegExp("^"+e);var c=this;t.instances.messageHandler.check(e!==undefined,"ElementContainer: Element has been created without name");if(!r){a=new t.constructors.Hashtable(t.instances.messageHandler);i=0}else{a=r.elements;i=r.elementCounter}this.generateId=function(){return e+"-"+ ++i};this.createElement=function(e,n){var t;t=c.generateId();return u(e,t,n)};this.createElementWithProposedId=function(e,n,t){function r(e){var n=s.exec(e);if(n){var t=parseInt(n[1],10);if(t>i){i=t}}}var o;var d=a.getItem(n);if(d){return c.createElement(e,t)}o=u(e,n,t);r(n);return o};this.removeElement=function(e){return a.removeItem(e)};this.getElement=function(e){return a.getItem(e)};this.updateElement=function(e,n){t.instances.messageHandler.check(e!==undefined,"ElementContainer: Element has been updated with undefined elementId");if(!n.getId||n.getId()!==e){n.getId=function(){return e}}a.setItem(e,n);return e};this.setElement=function(e,n){var r;if(n){if(!a.getItem(n)){t.instances.messageHandler.putMessage(t.instances.messageHandler.createMessageObject({code:"11006",aParameters:[n]}));return undefined}c.updateElement(n,e);return n}r=c.createElement(e);return r.getId()};this.getElements=function(){var e=[];a.forEachOrdered(function(n,t){e.push(t)});return e};this.moveUpOrDown=function(e,n){return a.moveUpOrDown(e,n)};this.moveBefore=function(e,n){return a.moveBefore(e,n)};this.moveToEnd=function(e){return a.moveToEnd(e)};this.copyElement=function(e){var n,t,r;n=a.getItem(e);if(!n){return}r=c.generateId();if(n.copy&&typeof n.copy==="function"){t=n.copy(r)}else{t=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(n)}t.getId=function(){return r};a.setItem(r,t);return r};this.copy=function(r){var s={elements:new t.constructors.Hashtable(t.instances.messageHandler),elementCounter:i};var c;var u;a.getKeysOrdered().forEach(function(n){c=a.getItem(n);u=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(c);if(r&&n.indexOf(e)===0){n=n.replace(o,r)}t.instances.messageHandler.check(n!==undefined,"ElementContainer: Element has been created without name in copy - 1");if(typeof u==="object"&&u.getId&&typeof u.getId==="function"){u.getId=function(){return n}}s.elements.setItem(n,u)});t.instances.messageHandler.check(e!==undefined||r!==undefined,"ElementContainer: Element has been created without name in copy 2");return new sap.apf.modeler.core.ElementContainer(r||e,n,t,s)};function u(e,r,i){var s;t.instances.messageHandler.check(r!==undefined,"ElementContainer: Element has been created with undefined id");if(typeof i==="function"){s=new i(r,t)}else if(typeof n==="function"){if(n!==sap.apf.modeler.core.ElementContainer){s=new n(r,t)}else{s=new n(r,undefined,t)}}else{s={}}s.getId=function(){return r};if(e){s=jQuery.extend(s,e)}a.setItem(r,s);return s}};sap.apf.modeler.core.ElementContainer=e;return e},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/hierarchicalStep", ["sap/apf/modeler/core/step","sap/ui/thirdparty/jquery"],function(e,jQuery){"use strict";sap.apf.modeler.core.HierarchicalStep=function(e,t,r){sap.apf.modeler.core.Step.call(this,e,t,r);var a;var i=this.createRepresentation;if(r){a=r.hierarchyProperty}this.getType=function(){return"hierarchicalStep"};this.getHierarchyProperty=function(){return a};this.setHierarchyProperty=function(e){a=e;this.getRepresentationContainer().getElements().forEach(function(e){e.setHierarchyProperty(a)})};this.createRepresentation=function(e){var t=i(e);if(a){t.setHierarchyProperty(a)}return t};this.getConsumableSortPropertiesForRepresentation=function(e){var r=this;var a=jQuery.Deferred();this.getAvailableProperties().done(function(i){t.instances.metadataFactory.getMetadata(r.getService()).then(function(t){var o=[];i.forEach(function(e){var a=t.getPropertyMetadata(r.getEntitySet(),e);if(a["aggregation-role"]==="measure"){o.push(e)}});a.resolve({available:o,consumable:r.getConsumableProperties(o,r.getSortPropertiesFromRepresentation(e))})},function(){a.resolve({available:[],consumable:[]})})});return a.promise()};this.copy=function(e){var r=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(this.getDataForCopy());r.hierarchyProperty=a;r.representationContainer=this.getRepresentationContainer().copy((e||this.getId())+"-Representation");return new sap.apf.modeler.core.HierarchicalStep(e||this.getId(),t,r)}}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/instance", ["sap/ui/thirdparty/datajs","sap/apf/utils/hashtable","sap/apf/core/constants","sap/apf/core/messageHandler","sap/apf/core/sessionHandler","sap/apf/core/representationTypes","sap/apf/core/entityTypeMetadata","sap/apf/core/configurationFactory","sap/apf/core/utils/uriGenerator","sap/apf/core/metadata","sap/apf/core/metadataFacade","sap/apf/core/metadataProperty","sap/apf/core/messageDefinition","sap/apf/core/metadataFactory","sap/apf/core/odataProxy","sap/apf/cloudFoundry/modelerProxy","sap/apf/cloudFoundry/ajaxHandler","sap/apf/utils/proxyTextHandlerForLocalTexts","sap/apf/core/ajax","sap/apf/core/odataRequest","sap/apf/modeler/core/messageDefinition","sap/apf/modeler/core/textHandler","sap/apf/modeler/core/textPool","sap/apf/modeler/core/applicationHandler","sap/apf/modeler/core/configurationHandler","sap/apf/modeler/core/configurationEditor","sap/apf/modeler/core/step","sap/apf/modeler/core/hierarchicalStep","sap/apf/modeler/core/smartFilterBar","sap/apf/modeler/core/facetFilter","sap/apf/modeler/core/navigationTarget","sap/apf/modeler/core/elementContainer","sap/apf/modeler/core/representation","sap/apf/modeler/core/configurationObjects","sap/apf/utils/parseTextPropertyFile","sap/apf/modeler/core/lazyLoader","sap/apf/modeler/core/registryWrapper","sap/apf/utils/startParameter","sap/apf/core/utils/fileExists","sap/apf/core/utils/annotationHandler","sap/ui/thirdparty/jquery"],function(e,t,a,n,r,o,i,s,c,u,f,p,l,d,g,m,y,v,h,C,x,A,H,F,T,S,M,b,P,j,O,E,L,R,w,N,U,D,I,G,jQuery){"use strict";sap.apf.modeler.core.Instance=function(e,t){var a=this;var n,r,o,i,s,c,u,f,p,l,d,g,m,y,v,h,C,x,A,H,F,T,S,M,b,P,j,O,E,L,R,w,N,U,D,I,G,q,V,k,B,z;var W=[];var K;var J;n=t&&t.constructors&&t.constructors.ApplicationHandler||sap.apf.modeler.core.ApplicationHandler;o=t&&t.constructors&&t.constructors.ConfigurationHandler||sap.apf.modeler.core.ConfigurationHandler;i=t&&t.constructors&&t.constructors.ConfigurationEditor||sap.apf.modeler.core.ConfigurationEditor;s=t&&t.constructors&&t.constructors.ConfigurationObjects||sap.apf.modeler.core.ConfigurationObjects;c=t&&t.constructors&&t.constructors.ConfigurationFactory||sap.apf.core.ConfigurationFactory;m=t&&t.constructors&&t.constructors.ElementContainer||sap.apf.modeler.core.ElementContainer;u=t&&t.constructors&&t.constructors.Step||sap.apf.modeler.core.Step;f=t&&t.constructors&&t.constructors.HierarchicalStep||sap.apf.modeler.core.HierarchicalStep;p=t&&t.constructors&&t.constructors.SmartFilterBar||sap.apf.modeler.core.SmartFilterBar;l=t&&t.constructors&&t.constructors.FacetFilter||sap.apf.modeler.core.FacetFilter;d=t&&t.constructors&&t.constructors.NavigationTarget||sap.apf.modeler.core.NavigationTarget;g=t&&t.constructors&&t.constructors.Representation||sap.apf.modeler.core.Representation;v=t&&t.constructors&&t.constructors.Hashtable||sap.apf.utils.Hashtable;h=t&&t.constructors&&t.constructors.RegistryProbe||sap.apf.modeler.core.RegistryWrapper;T=t&&t.constructors&&t.constructors.LazyLoader||sap.apf.modeler.core.LazyLoader;C=t&&t.constructors&&t.constructors.Metadata||sap.apf.core.Metadata;x=t&&t.constructors&&t.constructors.EntityTypeMetadata||sap.apf.core.EntityTypeMetadata;A=t&&t.constructors&&t.constructors.MetadataFacade||sap.apf.core.MetadataFacade;H=t&&t.constructors&&t.constructors.MetadataProperty||sap.apf.core.MetadataProperty;F=t&&t.constructors&&t.constructors.MetadataFactory||sap.apf.core.MetadataFactory;S=t&&t.constructors&&t.constructors.StartParameter||sap.apf.utils.StartParameter;M=t&&t.constructors&&t.constructors.AnnotationHandler||sap.apf.core.utils.AnnotationHandler;y=t&&t.constructors&&t.constructors.FileExists||sap.apf.core.utils.FileExists;b=t&&t.constructors&&t.constructors.ProxyTextHandlerForLocalTexts||sap.apf.utils.ProxyTextHandlerForLocalTexts;r=t&&t.constructors&&t.constructors.AjaxHandler||sap.apf.cloudFoundry.AjaxHandler;J=t&&t.instances&&t.instances.datajs||OData;if(t&&t.constructors&&t.constructors.TextHandler){P=new t.constructors.TextHandler}else{P=new sap.apf.modeler.core.TextHandler}if(t&&t.constructors&&t.constructors.MessageHandler){j=new t.constructors.MessageHandler(true)}else{j=new sap.apf.core.MessageHandler(true)}j.activateOnErrorHandling(true);j.loadConfig(sap.apf.core.messageDefinition);j.loadConfig(sap.apf.modeler.core.messageDefinition);j.setTextResourceHandler(P);if(t&&t.instances&&t.instances.component){z={};z.baseManifest=Object.getPrototypeOf(t.instances.component).getMetadata().getManifest();z.manifest=jQuery.extend({},true,t.instances.component.getMetadata().getManifest())}E=new S(t&&t.instances&&t.instances.component,z);this.getStartParameterFacade=function(){return E};this.ajax=function(e){var a=jQuery.extend(true,{},e);a.functions=a.functions||{};a.functions.getSapSystem=E.getSapSystem;if(t&&t.functions&&t.functions.ajax){a.functions.ajax=t.functions.ajax}a.instances={messageHandler:j};return sap.apf.core.ajax(a)};var X=new b({instances:{messageHandler:j}});w={manifests:z,instances:{messageHandler:j,coreApi:this,proxyTextHandlerForLocalTexts:X}};var $=t&&t.functions&&t.functions.isUsingCloudFoundryProxy&&t.functions.isUsingCloudFoundryProxy();if($){U={instances:{messageHandler:j},functions:{coreAjax:this.ajax}};w.instances.ajaxHandler=new r(U)}if(t&&t.constructors&&t.constructors.PersistenceProxy){L=new t.constructors.PersistenceProxy(e,w)}else{if($){L=new sap.apf.cloudFoundry.modelerProxy.ModelerProxy(e,w)}else if(z&&z.manifest["sap.apf"]&&z.manifest["sap.apf"].activateLrep){L=new sap.apf.core.LayeredRepositoryProxy(e,w)}else{L=new sap.apf.core.OdataProxy(e,w)}}if(t&&t.constructors&&t.constructors.SessionHandler){O=new t.constructors.SessionHandler(w)}else{O=new sap.apf.core.SessionHandler(w)}var Q={functions:{getSapSystem:E.getSapSystem,getComponentNameFromManifest:sap.apf.utils.getComponentNameFromManifest,getODataPath:sap.apf.core.utils.uriGenerator.getODataPath,getBaseURLOfComponent:sap.apf.core.utils.uriGenerator.getBaseURLOfComponent,addRelativeToAbsoluteURL:sap.apf.core.utils.uriGenerator.addRelativeToAbsoluteURL},instances:{fileExists:new y({functions:{ajax:this.ajax,getSapSystem:E.getSapSystem}})}};var Y=new M(Q);N={constructors:{EntityTypeMetadata:x,Hashtable:v,Metadata:C,MetadataFacade:A,MetadataProperty:H},functions:{getServiceDocuments:function(){return[e.serviceRoot]},getSapSystem:E.getSapSystem},instances:{messageHandler:j,coreApi:a,annotationHandler:Y},deactivateFatalError:true};R=new F(N);D={constructors:{Hashtable:v},instances:{messageHandler:j}};this.getCatalogServiceUri=t&&t.functions&&t.functions.getCatalogServiceUri;I=t&&t.functions&&t.functions.odataRequestWrapper||sap.apf.core.odataRequestWrapper;this.odataRequest=function(e,t,a,n){var r={instances:{datajs:J},functions:{getSapSystem:E.getSapSystem}};I(r,e,t,a,n)};this.checkForTimeout=function(e){var t=sap.apf.core.utils.checkForTimeout(e);if(t){j.putMessage(t)}return t};this.getEntityTypeMetadataAsPromise=function(e,t){return R.getEntityTypeMetadata(e,t)};this.getEntityTypeMetadata=this.getEntityTypeMetadataAsPromise;this.getXsrfToken=function(e){return O.getXsrfToken(e)};this.getUriGenerator=function(){return sap.apf.core.utils.uriGenerator};this.getText=function(e,t){return P.getText(e,t)};this.putMessage=function(e){return j.putMessage(e)};this.check=function(e,t,a){return j.check(e,t,a)};this.createMessageObject=function(e){return j.createMessageObject(e)};this.setCallbackForMessageHandling=function(e){j.setMessageCallback(e)};this.isUsingCloudFoundryProxy=function(){return $||false};this.isVendorContentAvailable=function(){if(E.isLrepActive()||$&&this.getGenericExit("hasVendorContent")&&this.getGenericExit("hasVendorContent")()){return true}return false};this.importConfigurationFromVendorLayer=function(e,t,a,n){if($){this.getApplicationHandler(function(r,o){if(o){n(undefined,undefined,o);return}L.importVendorContent(e,t,a,n,r.registerApplicationCreatedOnServer)})}else{Z(e,t,a,n)}};function Z(e,t,n,r){var o;L.readAllConfigurationsFromVendorLayer().then(function(n){var r=e+"."+t;var s;for(s=0;s<n.length;s++){if(n[s].value===r){o=n[s].applicationText;break}}a.getApplicationHandler(i)});function i(t,a){if(a){r(undefined,undefined,a);return}var n=false;var i=t.getApplication(e);if(!i){n=true}var c={ApplicationName:o};t.setAndSave(c,s,e,n)}function s(e,a,n){if(n){r(t,undefined,n);return}c()}function c(){var t=new sap.apf.core.utils.Filter(j,"Language","eq",sap.apf.core.constants.developmentLanguage);var a=new sap.apf.core.utils.Filter(j,"Application","eq",e);a.addAnd(t);L.readCollection("texts",u,undefined,undefined,a,{layer:"VENDOR"})}function u(a,n,o){if(o){r(t,undefined,o);return}_(a,e,f)}function f(a){if(a){r(t,undefined,a);return}L.readEntity("configuration",p,[{value:t}],undefined,e,{layer:"VENDOR"})}function p(e,t,a){if(a){r(undefined,t,a);return}var o=JSON.parse(e.SerializedAnalyticalConfiguration);ee(o,n,r)}}function _(e,t,n){a.getApplicationHandler(o);function r(a,r,o){var i;var s;if(o){n(o)}else{i={instances:{messageHandler:j,persistenceProxy:L},constructors:{Hashtable:v},isUsingCloudFoundryProxy:$};s=new sap.apf.modeler.core.TextPool(i,t,a);s.addTextsAndSave(e,n,t)}}function o(a,o){if(o){n(o);return}var i;var s=a.getApplication(t);if(!s){i=j.createMessageObject({code:11021});n(i);return}if(V&&V.getId()===t){V.getInstance().getTextPool().addTextsAndSave(e,n,t)}else{var c=new sap.apf.core.utils.Filter(j,"Application","eq",t);var u=new sap.apf.core.utils.Filter(j,"Language","eq",sap.apf.core.constants.developmentLanguage);u.addAnd(c);L.readCollection("texts",r,undefined,undefined,u)}}}this.importTexts=function(e,t){var a;var n;var r;var o=sap.apf.utils.parseTextPropertyFile(e,{instances:{messageHandler:j}});if(o.Messages.length>0){a=j.createMessageObject({code:11020});n=o.Messages.length;for(r=0;r<n-1;r++){o.Messages[r+1].setPrevious(o.Messages[r])}a.setPrevious(o.Messages[n-1]);t(a)}else{_(o.TextElements,o.Application,t)}};function ee(e,t,n){var r=e.configHeader;a.getApplicationHandler(o);function o(e,t){if(t){n(undefined,undefined,t);return}var o=false;var c=e.getList();c.forEach(function(e){if(e.Application===r.Application){o=true}});if(o){a.getConfigurationHandler(r.Application,s)}else{var u={ApplicationName:r.ApplicationName,SemanticObject:r.SemanticObject};e.setAndSave(u,i,r.Application,true)}}function i(e,t,o){if(o){n(undefined,undefined,o);return}a.getConfigurationHandler(r.Application,s)}function s(a,o){if(o){n(undefined,undefined,o);return}var i=jQuery.extend({},e,true);delete i.configHeader;var s=false;var u=a.getList();u.forEach(function(e){if(e.AnalyticalConfiguration===r.AnalyticalConfiguration){s=true}});if(s){t(p,l,r.AnalyticalConfigurationName)}else{a.setConfiguration({AnalyticalConfigurationName:r.AnalyticalConfigurationName},r.AnalyticalConfiguration);var f={id:r.AnalyticalConfiguration,creationDate:r.CreationUTCDateTime,lastChangeDate:r.LastChangeUTCDateTime,content:i};a.loadConfiguration(f,c)}function p(){a.setConfiguration({AnalyticalConfigurationName:r.AnalyticalConfigurationName},r.AnalyticalConfiguration);var e={updateExisting:true,id:r.AnalyticalConfiguration,creationDate:r.CreationUTCDateTime,lastChangeDate:r.LastChangeUTCDateTime,content:i};a.loadConfiguration(e,c)}function l(e){if(e&&e!==""){r.AnalyticalConfigurationName=e}var t=a.setConfiguration({AnalyticalConfigurationName:r.AnalyticalConfigurationName});var n={id:t,content:i};a.loadConfiguration(n,c)}}function c(e,t){if(t){n(undefined,undefined,t);return}e.save(n)}}this.importConfiguration=function(e,t,a){var n=JSON.parse(e);if(!r(n,a)){return}ee(n,t,a);function r(t,a){var n=[],r=true,o;if(!sap.apf.utils.isValidGuid(t.configHeader.Application)){n.push(j.createMessageObject({code:11037,aParameters:[t.configHeader.Application]}));r=false}if(!sap.apf.utils.isValidGuid(t.configHeader.AnalyticalConfiguration)){n.push(j.createMessageObject({code:11038,aParameters:[t.configHeader.AnalyticalConfiguration]}));r=false}o=sap.apf.modeler.core.ConfigurationObjects.getTextKeysFromConfiguration(t);o.forEach(function(e){var t=new v(j);if(!t.hasItem(e)){t.setItem(e,e);if(!sap.apf.utils.isValidGuid(e)){n.push(j.createMessageObject({code:11039,aParameters:[e]}));r=false}}});if(r){return r}n.forEach(function(e,t,a){if(t){e.setPrevious(a[t-1])}});a(e,undefined,n[n.length-1]);return r}};this.getApplicationHandler=function(e){if(!q){var a=t&&t.functions&&t.functions.loadApplicationHandler||r;q=new T(D,a)}q.asyncGetInstance("ApplicationHandlerId",e);function r(e,t){new n({instances:{messageHandler:j,persistenceProxy:L},constructors:{Hashtable:v},functions:{resetConfigurationHandler:r}},a);function a(a,n){t(e,a,n)}function r(e){if(V&&V.getId()===e){V.getInstance().removeAllConfigurations();V.reset()}}}};this.getConfigurationHandler=function(e,n){if(!V){G=t&&t.functions&&t.functions.loadConfigurationHandler||r;V=new T(D,G)}V.asyncGetInstance(e,n);function r(e,t,n){var r=new sap.apf.core.utils.Filter(j,"Application","eq",e);var y=new sap.apf.core.utils.Filter(j,"Language","eq",sap.apf.core.constants.developmentLanguage);y.addAnd(r);var C=[];var A=["AnalyticalConfiguration","AnalyticalConfigurationName","Application","CreatedByUser","CreationUTCDateTime","LastChangeUTCDateTime","LastChangedByUser"];C.push({entitySetName:"configuration",filter:r,selectList:A});C.push({entitySetName:"texts",filter:y});L.readCollectionsInBatch(C,H);function H(r,y){var C,A;var H;var F;var S=n;if(y){t(e,undefined,y)}else{H=r[0];F=r[1];A={instances:{messageHandler:j,persistenceProxy:L},constructors:{Hashtable:v},isUsingCloudFoundryProxy:$};C=new sap.apf.modeler.core.TextPool(A,e,F);if(!S){S=new o({instances:{messageHandler:j,persistenceProxy:L,coreApi:a,metadataFactory:R},constructors:{ConfigurationEditor:i,ConfigurationFactory:c,ConfigurationObjects:s,ElementContainer:m,EntityTypeMetadata:x,SmartFilterBar:p,FacetFilter:l,NavigationTarget:d,Hashtable:v,Representation:g,RegistryProbe:h,Step:u,HierarchicalStep:f,LazyLoader:T},functions:{getApplication:q.getInstance().getApplication}})}S.setApplicationIdAndContext(e,H,C);t(e,S,y)}}}};this.getUnusedTextKeys=function(e,t){var a={instances:{messageHandler:j,persistenceProxy:L},constructors:{Hashtable:v}};var n=new s(a);var r=null,o=null,i=null;n.getTextKeysFromAllConfigurations(e,function(e,t){if(o){return}r=e;o=t;if(t||i){c()}});this.getConfigurationHandler(e,function(e,t){if(o){return}i=e;o=t;if(t||r){c()}});function c(){var e=[];if(o){t(undefined,o);return}i.getTextPool().getTextKeys().forEach(function(t){if(!r.hasItem(t)){e.push(t)}});t(e,undefined)}};this.resetConfigurationHandler=function(){if(V){V.reset()}};this.getRepresentationTypes=function(){var e=sap.apf.core.representationTypes();var t=[];jQuery.extend(true,t,e);return t};this.getAllAvailableSemanticObjects=function(e){if(B){e(B,K);return}if(K){e([],K);return}W.push(e);if(W.length===1){var t={requestUri:"/sap/opu/odata/UI2/INTEROP/SemanticObjects?$format=json&$select=id,text",method:"GET",isSemanticObjectRequest:true};a.odataRequest(t,n,r)}function n(e,t){B=e.results;W.forEach(function(t){t(e.results,undefined)})}function r(e){var t;if(e&&e.messageObject){t=e.messageObject}else{j.createMessageObject({code:"11041"});B=[]}K=t;W.forEach(function(e){e([],t)})}};this.getSemanticActions=function(e){var n;var r=jQuery.Deferred();if(!k){k=new v(j)}n=k.getItem(e);if(n){r.resolve(n);return r.promise()}a.getAllAvailableSemanticObjects(o);return r.promise();function o(a,n){if(n){r.reject(n);return}var o=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");var i={id:e,text:""};var s;for(s=0;s<a.length;s++){if(a[s].id===e){i=a[s];break}}if(!o){j.createMessageObject({code:"5038"});var c={semanticObject:i,semanticActions:[]};k.setItem(e,c);r.resolve(c)}else{o.getLinks({semanticObject:i.id,ignoreFormFactor:true,ui5Component:t.instances.component}).done(function(t){var a=[];t.forEach(function(e){var t=e.intent.split("-");var n=t[1].split("?");n=n[0].split("~");a.push({id:n[0],text:e.text})});var n={semanticObject:i,semanticActions:a};k.setItem(e,n);r.resolve(n)}).fail(function(){r.reject(j.createMessageObject({code:"11042"}))})}}};this.navigateToGenericRuntime=function(e,n,r){var o;if(t&&t.exits&&t.exits.getRuntimeUrl&&jQuery.isFunction(t.exits.getRuntimeUrl)){o=t.exits.getRuntimeUrl(e,n)}else{var i=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");var s={};if(a.getStartParameterFacade().isLrepActive()){s["sap-apf-configuration-id"]=e+"."+n}else{s["sap-apf-configuration-id"]=n}var c=i.hrefForExternal({target:t.functions.getNavigationTargetForGenericRuntime(),params:s});var u=jQuery(location).attr("href");var f=u.split("#")[0];o=f+c}r(o)};this.readAllConfigurationsFromVendorLayer=function(){return L.readAllConfigurationsFromVendorLayer()};this.showSemanticObject=function(){if(E.isLrepActive()||$){return false}return true};this.getGenericExit=function(e){if(t&&t.exits&&t.exits[e]&&typeof t.exits[e]==="function"){return t.exits[e]}return undefined};this.getComponent=function(){return t&&t.instances&&t.instances.component};if(t&&t.probe&&typeof t.probe==="function"){t.probe({constructors:{ApplicationHandler:n,ConfigurationHandler:o,ConfigurationEditor:i,ConfigurationObjects:s,ConfigurationFactory:c,MetadataFactory:F,Metadata:C,EntityTypeMetadata:x,MetadataFacade:A,MetadataProperty:H,Step:u,HierarchicalStep:f,SmartFilterBar:p,FacetFilter:l,NavigationTarget:d,Representation:g,ElementContainer:m,Hashtable:v,LazyLoader:T,AnnotationHandler:M,ProxyTextHandlerForLocalTexts:b,RegistryProbe:h},textHandler:P,messageHandler:j,sessionHandler:O,persistenceProxy:L,metadataFactory:R,injectForFollowUp:w,injectMetadataFactory:N,fnOdataRequestWrapper:I,proxyTextHandlerForLocalTexts:X,ajax:this.ajax,odataRequestWrapper:I,annotationHandler:Y})}}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/representation", function(){"use strict";var e=function(e,t,n){var r,i,o,s,a,u,p,f,y,l,c,h,d,m,g;if(!n){o={};s=new t.constructors.ElementContainer("dimension",undefined,t);a=new t.constructors.ElementContainer("measure",undefined,t);u=new t.constructors.ElementContainer("property",undefined,t);c=new t.constructors.ElementContainer("orderBy",undefined,t)}else{d=n.hierarchyProperty;m=n.hierarchyPropertyTextLabelKey;r=n.representationTypeId;i=n.alternateRepresentationTypeId;o=n.width;s=n.dimensions;a=n.measures;u=n.properties;p=n.leftUpperCornerTextKey;f=n.rightUpperCornerTextKey;y=n.leftLowerCornerTextKey;l=n.rightLowerCornerTextKey;c=n.orderByProperties;h=n.topN;g=n.hierarchyLabelDisplayOption}this.getId=function(){return e};this.setRepresentationType=function(e){r=e};this.getRepresentationType=function(){return r};this.setAlternateRepresentationType=function(e){i=e};this.getAlternateRepresentationType=function(){return i};this.getDimensions=function(){var e=[];s.getElements().forEach(function(t){e.push(t.propertyName)});return e};this.addDimension=function(e,t){var n;if(s.getElement(e)){return null}n={propertyName:e,textLabelKey:t};return s.createElementWithProposedId(n,e).getId()};this.removeDimension=function(e){s.removeElement(e)};this.setDimensionKind=function(e,t){var n=s.getElement(e);if(n){n.kind=t}};this.getDimensionKind=function(e){var t=s.getElement(e);if(t){return t.kind}return undefined};this.setDimensionTextLabelKey=function(e,t){var n=s.getElement(e);if(n){n.textLabelKey=t}};this.getDimensionTextLabelKey=function(e){var t=s.getElement(e);if(t){return t.textLabelKey}return undefined};this.setLabelDisplayOption=function(e,t){var n=s.getElement(e);if(n){n.labelDisplayOption=t}};this.getLabelDisplayOption=function(e){var t=s.getElement(e);if(t&&t.labelDisplayOption){return t.labelDisplayOption}return undefined};this.setMeasureDisplayOption=function(e,t){var n=a.getElement(e);if(n){n.labelDisplayOption=t}};this.getMeasureDisplayOption=function(e){var t=a.getElement(e);if(t&&t.labelDisplayOption){return t.labelDisplayOption}return undefined};this.getMeasures=function(){var e=[];a.getElements().forEach(function(t){e.push(t.propertyName)});return e};this.addMeasure=function(e){var t;if(a.getElement(e)){return null}t={propertyName:e};return a.createElementWithProposedId(t,e).getId()};this.removeMeasure=a.removeElement;this.setMeasureTextLabelKey=function(e,t){var n=a.getElement(e);if(n){n.textLabelKey=t}};this.getMeasureTextLabelKey=function(e){var t=a.getElement(e);if(t){return t.textLabelKey}return undefined};this.setMeasureKind=function(e,t){var n=a.getElement(e);if(n){n.kind=t}};this.getMeasureKind=function(e){var t=a.getElement(e);if(t){if(t.kind==="yAxis1"){t.kind="yAxis"}return t.kind}return undefined};this.setWidthProperty=function(e,t){o[e]=t};this.getWidthProperties=function(){return o};this.getProperties=function(){var e=[];u.getElements().forEach(function(t){e.push(t.propertyName)});return e};this.addProperty=function(e,t){if(u.getElement(e)){return null}return u.createElementWithProposedId({propertyName:e,textLabelKey:t},e).getId()};this.removeProperty=function(e){u.removeElement(e)};this.getHierarchyProperty=function(){return d};this.setHierarchyProperty=function(e){if(d!==e){m=undefined;g=undefined}d=e};this.getHierarchyPropertyTextLabelKey=function(){return m};this.setHierarchyPropertyTextLabelKey=function(e){m=e};this.getHierarchyPropertyLabelDisplayOption=function(){return g};this.setHierarchyPropertyLabelDisplayOption=function(e){g=e};this.setPropertyKind=function(e,t){var n=u.getElement(e);if(n){n.kind=t}};this.getPropertyKind=function(e){var t=u.getElement(e);if(t){return t.kind}return undefined};this.setPropertyTextLabelKey=function(e,t){var n=u.getElement(e);if(n){n.textLabelKey=t}};this.getPropertyTextLabelKey=function(e){var t=u.getElement(e);if(t){return t.textLabelKey}return undefined};this.setLeftUpperCornerTextKey=function(e){p=e};this.getLeftUpperCornerTextKey=function(){return p};this.setRightUpperCornerTextKey=function(e){f=e};this.getRightUpperCornerTextKey=function(){return f};this.setLeftLowerCornerTextKey=function(e){y=e};this.getLeftLowerCornerTextKey=function(){return y};this.setRightLowerCornerTextKey=function(e){l=e};this.getRightLowerCornerTextKey=function(){return l};this.setTopN=function(e){h=e};this.getTopN=function(){return h};this.addOrderbySpec=function(e,t){var n;n=c.getElement(e);if(n){n.ascending=t;return n}n={property:e,ascending:t};return c.createElementWithProposedId(n,e).getId()};this.removeOrderbySpec=function(e){c.removeElement(e)};this.removeAllOrderbySpecs=function(){var e=this.getOrderbySpecifications();e.forEach(function(e){c.removeElement(e.property)})};this.getOrderbySpecifications=function(){var e=[];c.getElements().forEach(function(t){e.push({property:t.property,ascending:t.ascending})});return e};this.copy=function(e){var n={representationTypeId:r,alternateRepresentationTypeId:i,width:o,dimensions:s,measures:a,properties:u,leftUpperCornerTextKey:p,rightUpperCornerTextKey:f,leftLowerCornerTextKey:y,rightLowerCornerTextKey:l,orderByProperties:c,topN:h,hierarchyProperty:d,hierarchyPropertyTextLabelKey:m,hierarchyLabelDisplayOption:g};var E=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(n);return new sap.apf.modeler.core.Representation(e||this.getId(),t,E)}};sap.apf.modeler.core.Representation=e;return e},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/applicationList.controller", ["sap/ui/core/mvc/Controller","sap/m/Table","sap/m/Column","sap/m/ColumnListItem","sap/m/Text","sap/m/Input","sap/ui/core/Icon","sap/apf/modeler/ui/utils/helper","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/ui/model/Filter"],function(e,t,i,a,n,o,r,p,l,s,d){"use strict";function c(e){var t=e.coreApi.getText;e.byId("idAppPage").setTitle(t("configModelerTitle"));e.byId("idAppTitle").setText(t("applicationOverview"));e.byId("idApplicationToolbar").setTooltip(t("applications"));e.byId("idAppNumberTitle").setText(t("applications"));e.byId("idAppNumberTitle").setTooltip(t("applications"));e.byId("idDescriptionLabel").setText(t("description"));if(e.coreApi.showSemanticObject()){e.byId("idSemanticObjectLabel").setText(t("semanticObject"))}e.byId("idImportButton").setText(t("import"));e.byId("idImportButton").setTooltip(t("importConfig"));e.byId("idNewButton").setText(t("new"));e.byId("idNewButton").setTooltip(t("newApplication"));e.byId("idEditIcon").setTooltip(t("editApplication"));e.byId("idDeleteIcon").setTooltip(t("deleteApplication"));e.byId("idTextpoolCleanupIcon").setTooltip(t("textCleanUp"));e.byId("idAriaPropertyForDelete").setText(t("ariaTextForDeleteIcon"));e.byId("idAriaPropertyForEdit").setText(t("ariaTextForEditIcon"));e.byId("idAriaPropertyForTextpoolCleanup").setText(t("ariaTextForTextpoolCleanupIcon"))}function u(e){var t=e.coreApi.getText;sap.ui.core.Fragment.byId("idDeleteConfirmationFragment","idDeleteConfirmation").setTitle(t("confirmation"));sap.ui.core.Fragment.byId("idDeleteConfirmationFragment","idDeleteButton").setText(t("deleteButton"));sap.ui.core.Fragment.byId("idDeleteConfirmationFragment","idCancelButtonDialog").setText(t("cancel"))}function m(e){var t=e.applicationHandler.getList();e.byId("idAppCount").setText("("+t.length+")");var i=[];t.forEach(function(e){var t={};t.id=e.Application;t.description=e.ApplicationName;t.semanticObject=e.SemanticObject;i.push(t)});var a=s.prepareModel(i,i.length);e.byId("idApplicationTable").setModel(a);if(e.actualQuery!==""){e.filterValues(e.actualQuery)}}function f(e,t){var i=e.coreApi.createMessageObject({code:t});e.coreApi.putMessage(i)}function g(e){e.byId("idApplicationTable").attachEvent("addNewAppEvent",e.handleAdditionOfNewApp.bind(e));e.byId("idApplicationTable").attachEvent("updateAppListEvent",e.handleAppListUpdate.bind(e))}function h(e,t){var i,a;i={oParentControl:e.byId("idApplicationTable"),oCoreApi:e.coreApi};a=new sap.ui.view({viewName:"sap.apf.modeler.ui.view."+t,type:sap.ui.core.mvc.ViewType.XML,viewData:i});e.getView().addDependent(a)}function b(e,t,i,a){e.getView().addDependent(t);var o=new n({text:e.coreApi.getText(i)});t.removeAllContent();t.addContent(o);t.addAriaDescribedBy(o);if(a){t.removeAllCustomData();t.addCustomData(a)}t.open()}function v(e){var t=e.byId("idAppListScrollContainer");var i=e.byId("idApplicationTable");var a=e.getView();i.addEventDelegate({onAfterRendering:function(){var i=jQuery(window).height();var n=jQuery(a.byId("idAppTitle").getDomRef()).height();var o=jQuery(a.byId("idApplicationToolbar").getDomRef()).height();var r=jQuery(a.byId("idAppPage").getDomRef()).find("header").height();var l=jQuery(a.byId("idAppPage").getDomRef()).find("footer").height();var s;if(n>0){n=n+80;s=n+o+r+l+25}else{s=232}t.setHeight(i-s+"px");t.setWidth("100%");p.onResize(function(){if(jQuery(a.getDomRef()).css("display")==="block"){i=jQuery(a.byId("idAppPage").getDomRef()).height();t.setHeight(i-s+"px");t.setWidth("100%")}});sap.ui.core.UIComponent.getRouterFor(e).attachRoutePatternMatched(function(e){if(e.getParameter("name")==="applicationList"){i=jQuery(a.getDomRef()).height();t.setHeight(i-s+"px");t.setWidth("100%")}})}})}function y(e,t){var i=new sap.m.StandardListItem({title:e.coreApi.getText("importDeliveredContent"),type:sap.m.ListType.Active,press:function(){h(e,"importDeliveredContent")}});var a=new sap.m.StandardListItem({title:e.coreApi.getText("importFiles"),type:sap.m.ListType.Active,press:function(){h(e,"importFiles")}});var n=new sap.m.Popover({placement:sap.m.PlacementType.Top,showHeader:false});var o=new sap.m.List({items:[i,a]});n.addContent(o);n.openBy(t.getSource())}return e.extend("sap.apf.modeler.ui.controller.applicationList",{onInit:function(){var e=this;this.actualQuery="";var t=e.getOwnerComponent();if(l.checkIsNotUndefined(t)){e.coreApi=t.oCoreApi;if(!this.coreApi.showSemanticObject()){this.hideSemanticObjectColumn()}g(this);c(e);e.coreApi.getApplicationHandler(function(t,i){e.applicationHandler=t;if(e.applicationHandler&&!l.checkIsNotUndefined(i)){m(e)}else{e.showMessage("11508",i)}})}v(e)},showMessage:function(e,t){var i=this.coreApi.createMessageObject({code:e});if(t){i.setPrevious(t)}this.coreApi.putMessage(i)},hideSemanticObjectColumn:function(){this.byId("idSemanticObjectColumn").setVisible(false)},handleAddNewAppPress:function(){var e=this;if(l.checkIsNotNullOrUndefinedOrBlank(e.applicationHandler)){h(e,"newApplication")}else{e.showMessage("11509")}},handleListItemPress:function(e){var t=this,i;i=e.getParameter("listItem").getBindingContext().getPath().split("/")[2];sap.ui.core.UIComponent.getRouterFor(t).navTo("configurationList",{appId:t.byId("idApplicationTable").getModel().getData().Objects[i].id})},handleTextpoolCleanupPress:function(e){var t;var i=e.getSource().getBindingContext().getObject().id;var a=new sap.ui.core.CustomData({value:{applicationId:i}});var n=this.coreApi.getText;t=sap.ui.xmlfragment("idTextpoolCleanupConfirmationFragment","sap.apf.modeler.ui.fragment.textpoolCleanupConfirmationDialog",this);t.setTitle(n("confirmation"));t.getButtons()[0].setText(n("ok"));t.getButtons()[1].setText(n("cancel"));b(this,t,"textpoolCleanupConfirmation",a)},handleConfirmTextpoolCleanup:function(e){var t=this;var i=sap.ui.core.Fragment.byId("idTextpoolCleanupConfirmationFragment","idTextpoolCleanupConfirmation").getCustomData()[0].getValue().applicationId;t.coreApi.getConfigurationHandler(i,function(e){var a=e.getTextPool();t.coreApi.getUnusedTextKeys(i,function(e,n){if(!l.checkIsNotUndefined(n)){a.removeTexts(e,i,function(e){if(!l.checkIsNotUndefined(e)){t.showMessage("11511")}else{t.showMessage("11507",e)}t.closeTextpoolCleanupConfirmationDialog()})}else{t.showMessage("11506",n);t.closeTextpoolCleanupConfirmationDialog()}})})},closeTextpoolCleanupConfirmationDialog:function(){sap.ui.core.Fragment.byId("idTextpoolCleanupConfirmationFragment","idTextpoolCleanupConfirmation").destroy()},handleCancelTextpoolCleanup:function(e){this.closeTextpoolCleanupConfirmationDialog()},handleEditPress:function(e){var t,i;if(l.checkIsNotNullOrUndefinedOrBlank(this.applicationHandler)){t=e.getSource().getBindingContext().getObject();i={parentControl:this.byId("idApplicationTable"),coreApi:this.coreApi,applicationData:t};sap.ui.view({viewName:"sap.apf.modeler.ui.view.editApplication",type:sap.ui.core.mvc.ViewType.XML,viewData:i,async:true}).loaded().then(function(e){this.getView().addDependent(e)}.bind(this))}},handleDeletePress:function(e){var t=this,i;var a=e.getSource().getBindingContext().getPath().split("/")[2];var n=new sap.ui.core.CustomData({value:{removeId:this.byId("idApplicationTable").getModel().getData().Objects[a].id,sPath:a}});i=sap.ui.xmlfragment("idDeleteConfirmationFragment","sap.apf.modeler.ui.fragment.deleteConfirmationDialog",t);u(t);b(t,i,"deleteApp",n)},handleConfirmDeletion:function(){var e=this;var t=sap.ui.core.Fragment.byId("idDeleteConfirmationFragment","idDeleteConfirmation").getCustomData()[0].getValue().removeId;if(l.checkIsNotUndefined(t)){e.applicationHandler.removeApplication(t,function(t,i,a){if(!l.checkIsNotUndefined(a)&&typeof t==="string"){m(e);f(e,"11510")}else{e.showMessage("11501",a)}e.closeDialog()})}},closeDialog:function(){sap.ui.core.Fragment.byId("idDeleteConfirmationFragment","idDeleteConfirmation").destroy()},handleNavigationWithSave:function(){var e=this;e.handleSavePress();sap.ui.core.Fragment.byId("idUnsavedDataConfirmationFragment","idMessageDialog").destroy()},handleNavigationWithoutSave:function(){sap.ui.core.Fragment.byId("idUnsavedDataConfirmationFragment","idMessageDialog").destroy()},handlePreventNavigation:function(){sap.ui.core.Fragment.byId("idUnsavedDataConfirmationFragment","idMessageDialog").destroy()},handleImportPress:function(e){if(this.coreApi.isVendorContentAvailable()){y(this,e)}else{h(this,"importFiles")}},handleSavePress:function(){var e=this,t=[],i,a,n;i=e.applicationHandler.getList();a=e.byId("idApplicationTable").getModel().getData().Objects;for(n=0;n<i.length;n++){if(a[n].description!==i[n].ApplicationName||a[n].semanticObject!==i[n].SemanticObject){t.push(a[n])}}t.forEach(function(t){var i={ApplicationName:t.description,SemanticObject:t.semanticObject};e.applicationHandler.setAndSave(i,function(t,i,a){if(l.checkIsNotUndefined(a)){e.showMessage("11500",a)}},t.id)})},handleNavigationToConfigurationList:function(e){var t=this;var i={listItem:sap.ui.getCore().byId(e.currentTarget.id).getParent(),srcControl:t.byId("idApplicationTable")};t.byId("idApplicationTable").fireItemPress(i)},handleAdditionOfNewApp:function(e){var t=this,i,a,n,o=0,r;i=e.getParameter("appId");m(t);a=t.byId("idApplicationTable").getModel().getData().Objects;f(t,"11512");t.byId("idApplicationTable").rerender();for(n=0;n<a.length;n++){if(a[n].id===i){o=n;break}}r=t.byId("idApplicationTable").getItems();if(r.length){var p=r[o].getDomRef();if(p){p.scrollIntoView()}}if(this.actualQuery!==""){this.filterValues(this.actualQuery)}},handleAppListUpdate:function(){var e=this;m(e)},handleNavBack:function(){window.history.go(-1)},onSearch:function(e){var t=e.getParameters().newValue;this.actualQuery=t;this.filterValues(t)},filterValues:function(e){var t=[];if(e&&e.length>0){var i=new d("description",sap.ui.model.FilterOperator.Contains,e);t.push(i)}var a=this.byId("idApplicationTable");var n=a.getBinding("items");n.filter(t,"Objects")}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/catalogService.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/odata/v2/ODataModel","sap/apf/utils/utils"],function(e,t,a,i,r){"use strict";function o(e){var t={serviceUrl:e.getView().getViewData().getCalatogServiceUri(),json:true,async:true,useBatch:true};return new i(t)}function n(e){var t=e.getView().getViewData().oTextReader;var a=e.byId("idGatewayCatalogListDialog");a.setTitle(t("selectService"));a.setNoDataText(t("noDataText"))}return e.extend("sap.apf.modeler.ui.controller.catalogService",{handleSearch:function(e){var i=this;var r=e.getParameter("value").trim();var o=r.toUpperCase();var n=r.toLowerCase();var l=[new t("TechnicalServiceName",a.Contains,o),new t("TechnicalServiceName",a.Contains,n)];var s=new t(l,false);var c=i.byId("idGatewayCatalogListDialog");c.getBinding("items").filter(s)},onInit:function(){var e=this;var t=o(e);var a=e.byId("idGatewayCatalogListDialog");n(e);a.setModel(t);a.open()},handleConfirm:function(e){var t=this,a=e.getParameter("selectedItem").getProperty("title");var i=t.byId("idGatewayCatalogListDialog");var r=t.getView().getViewData().parentControl;i.getBinding("items").filter([]);r.fireEvent("selectService",{sSelectedService:a});t.byId("idGatewayCatalogListDialog").destroy();t.getView().destroy()},handleCancel:function(){var e=this;e.byId("idGatewayCatalogListDialog").destroy();e.getView().destroy()},handleFormatting:function(e){var t=r.extractPathnameFromUrl(e);return t}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/category.controller", ["sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/viewValidator"],function(e,t,a){"use strict";var i,n,o,r,l,s,d;var t=sap.apf.modeler.ui.utils.nullObjectChecker;function g(e){e.byId("idCategoryBasicData").setText(n("categoryData"));e.byId("idCategoryTitleLabel").setText(n("categoryTitle"));e.byId("idCategoryTitle").setPlaceholder(n("newCategory"));e.byId("idTotalStepsLabel").setText(n("totalSteps"))}function u(e){var a;if(i&&i.arguments&&i.arguments.categoryId){s=r.getCategory(i.arguments.categoryId)}if(!t.checkIsNotUndefined(s)){a=r.setCategory();s=r.getCategory(a);c(e)}}function c(e,t){var a={id:s.getId(),icon:"sap-icon://open-folder"};if(t){delete a.icon;a.name=t}e.getView().getViewData().updateSelectedNode(a)}function f(e,t){var a=n("category")+": "+t;e.getView().getViewData().updateTitleAndBreadCrumb(a)}function y(e){if(!t.checkIsNotNullOrUndefinedOrBlank(r.getCategory(i.arguments.categoryId))){return}if(t.checkIsNotNullOrUndefinedOrBlank(s.labelKey)&&l.get(s.labelKey)){e.byId("idCategoryTitle").setValue(l.get(s.labelKey).TextElementDescription)}else{e.byId("idCategoryTitle").setValue(s.getId())}}function p(e){var t=r.getCategoryStepAssignments(s.getId()).length;e.byId("idTotalSteps").setValue(t)}var I=sap.ui.core.mvc.Controller.extend("sap.apf.modeler.ui.controller.category",{onInit:function(){var e=this;var t=e.getView().getViewData();n=t.getText;i=t.oParams;o=t.oConfigurationHandler;l=o.getTextPool();r=t.oConfigurationEditor;if(!r){o.loadConfiguration(i.arguments.configId,function(e){r=e})}d=new sap.apf.modeler.ui.utils.ViewValidator(e.getView());g(e);u(e);e.setDetailData();d.addField("idCategoryTitle")},onAfterRendering:function(){if(this.getView().byId("idCategoryTitle").getValue().length===0){this.getView().byId("idCategoryTitle").focus()}},setDetailData:function(){var e=this;y(e);p(e)},handleChangeDetailValue:function(e){var a=this,i;var n=a.byId("idCategoryTitle").getValue().trim();var o=sap.apf.modeler.ui.utils.TranslationFormatMap.CATEGORY_TITLE;if(t.checkIsNotNullOrUndefinedOrBlank(n)){l.setTextAsPromise(n,o).done(function(e){i={labelKey:e};r.setCategory(i,s.getId());c(a,n);f(a,n);r.setIsUnsaved()})}else{r.setIsUnsaved()}},handleSuggestions:function(e){var t=sap.apf.modeler.ui.utils.TranslationFormatMap.CATEGORY_TITLE;var a=new sap.apf.modeler.ui.utils.SuggestionTextHandler(l);a.manageSuggestionTexts(e,t)},updateSubViewInstancesOnReset:function(e){r=e;s=r.getCategory(s.getId())},getValidationState:function(){return d.getValidationState()},onExit:function(){d=null}});return I},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/configuration.controller", ["sap/ui/core/mvc/Controller","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textPoolHelper"],function(e,t,i,a,n){"use strict";function o(e){e.byId("idConfigurationBasicData").setText(e.textReader("configurationData"));e.byId("idConfigTitleLabel").setText(e.textReader("configTitle"));e.byId("idConfigTitle").setPlaceholder(e.textReader("newConfiguration"));e.byId("idConfigurationIdLabel").setText(e.textReader("configurationId"));if(e.coreApi.showSemanticObject()){e.byId("idSemanticObjectLabel").setText(e.textReader("semanticObject"))}e.byId("idNoOfCategoriesLabel").setText(e.textReader("noOfCategories"));e.byId("idNoOfStepsLabel").setText(e.textReader("noOfSteps"));e.byId("idFilterTypeData").setText(e.textReader("filterType"));e.byId("idFilterTypeLabel").setText(e.textReader("type"));e.byId("smartFilterBar").setText(e.textReader("smartFilterBar"));e.byId("facetFilter").setText(e.textReader("configuredFilters"));e.byId("none").setText(e.textReader("noFilters"));e.byId("idAriaPropertyForFilterRadioGp").setText(e.textReader("type"))}function r(e){if(!e.configuration){return}e.byId("idNoOfCategories").setValue(e.configurationEditor.getCategories().length)}function d(e){if(!e.configuration){return}e.byId("idNoOfSteps").setValue(e.configurationEditor.getSteps().length)}function g(e){if(!e.configuration){return}e.byId("idConfigTitle").setValue(e.configuration.AnalyticalConfigurationName)}function u(e){if(!e.configuration){return}if(e.configuration.AnalyticalConfiguration.indexOf(a.configurationObjectTypes.ISNEWCONFIG)===-1){e.byId("idConfigurationId").setValue(e.configuration.AnalyticalConfiguration)}}function s(e){var t=e.applicationHandler.getApplication(e.params.arguments.appId);if(t){e.byId("idSemanticObject").setValue(t.SemanticObject)}}function l(e){var t;if(e.configuration){t=Object.keys(e.configurationEditor.getFilterOption())[0];e.byId("idFilterTypeRadioGroup").setEnabled(true);e.byId("idFilterTypeRadioGroup").setSelectedButton(e.byId(t))}}function f(e){if(e.params&&e.params.arguments&&e.params.arguments.configId){e.configuration=e.configurationHandler.getConfiguration(e.params.arguments.configId)}if(e.configuration){e.configurationEditor=e.getView().getViewData().oConfigurationEditor}}function c(e,t){var i=e.textReader("configuration")+": "+t;e.getView().getViewData().updateTitleAndBreadCrumb(i)}function p(e,t){var i=e.configurationHandler.getTextPool();var a=sap.apf.modeler.ui.utils.TranslationFormatMap.APPLICATION_TITLE;i.setTextAsPromise(t,a).done(function(t){e.configurationEditor.setApplicationTitle(t)})}function m(e,t,i){var a={appId:e.params.arguments.appId};var n={name:t};if(i){n.id=i;a.configId=i;e.getView().getViewData().updateSelectedNode(n,a)}else{e.getView().getViewData().updateSelectedNode(n)}}function b(e){var t={};var i=e.byId("idFilterTypeRadioGroup").getSelectedButton().getCustomData()[0].getValue();t[i]=true;e.configurationEditor.setFilterOption(t);e.configurationEditor.setIsUnsaved()}return e.extend("sap.apf.modeler.ui.controller.configuration",{onInit:function(){var e=this;var t=e.getView().getViewData();e.applicationHandler=t.oApplicationHandler;e.configurationHandler=t.oConfigurationHandler;e.textReader=t.getText;e.params=t.oParams;this.coreApi=t.oCoreApi;this.viewValidatorForConfig=new i(e.getView());o(e);if(!this.coreApi.showSemanticObject()){e.byId("idSemanticObjectLabel").setVisible(false);e.byId("idSemanticObject").setVisible(false)}f(e);e.setDetailData();this.viewValidatorForConfig.addField("idConfigTitle")},onAfterRendering:function(){var e=this;if(e.getView().byId("idConfigTitle").getValue().length===0){e.getView().byId("idConfigTitle").focus()}},setDetailData:function(){var e=this;s(e);u(e);g(e);r(e);d(e);l(e)},updateSubViewInstancesOnReset:function(e){this.configurationEditor=e},handleChangeDetailValue:function(){var e=this;var i=e.byId("idConfigTitle").getValue().trim();var a;if(t.checkIsNotNullOrUndefinedOrBlank(i)){a={AnalyticalConfigurationName:i};if(e.params&&e.params.arguments&&e.params.arguments.configId&&e.params.arguments.configId.indexOf("newConfig")===-1){e.configurationHandler.setConfiguration(a,e.params.arguments.configId);m(e,i)}else{var n=e.configurationHandler.setConfiguration(a);e.configuration=e.configurationHandler.getConfiguration(n);if(!e.configurationEditor){e.configurationHandler.loadConfiguration(n,function(t){e.configurationEditor=t})}m(e,i,n)}p(e,i);c(e,i);e.configuration=a}e.configurationEditor.setIsUnsaved()},handleChangeForFilterType:function(){var e=this,t;if(!e.configurationEditor.isDataLostByFilterOptionChange()){b(e);e.getView().getViewData().updateTree()}else{t=new sap.ui.xmlfragment("idFilterOptionChangeFragment","sap.apf.modeler.ui.fragment.dialogWithTwoButtons",e);t.setState(sap.ui.core.ValueState.Warning);t.setTitle(e.textReader("warning"));sap.ui.core.Fragment.byId("idFilterOptionChangeFragment","idLabelForDialog").setText(e.textReader("filterOptionChangeMessage"));sap.ui.core.Fragment.byId("idFilterOptionChangeFragment","idBeginButtonForDialog").setText(e.textReader("continue"));sap.ui.core.Fragment.byId("idFilterOptionChangeFragment","idEndButtonForDialog").setText(e.textReader("cancel"));t.open()}},handleBeginButtonDialogWithTwoButtons:function(){var e=this;b(e);e.getView().getViewData().updateTree();sap.ui.core.Fragment.byId("idFilterOptionChangeFragment","idDialogWithTwoButtons").destroy()},handleCancel:function(){var e=this;l(e);sap.ui.core.Fragment.byId("idFilterOptionChangeFragment","idDialogWithTwoButtons").destroy()},getValidationState:function(){return this.viewValidatorForConfig.getValidationState()}})},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/controller/configurationList.controller", ["sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/navigationHandler","sap/apf/modeler/ui/utils/helper","sap/apf/modeler/ui/utils/APFTree","sap/ui/core/util/File","sap/ui/util/openWindow","sap/apf/cloudFoundry/uiHandler","sap/ui/thirdparty/jquery","sap/base/util/isEmptyObject","sap/ui/core/syncStyleClass"],function(e,t,i,a,o,n,s,jQuery,r,d){"use strict";sap.ui.controller("sap.apf.modeler.ui.controller.configurationList",{onInit:function(){var e=this.getOwnerComponent();if(e!==undefined){this.oCoreApi=e.oCoreApi;this._setDisplayText();this._setPublishVisible()}this._instantiateToolbarView();this._instantiateAPFTree();this._instantiateTitleAndBreadCrumbView();this._addConfigStyleClass();this.oModel=new sap.ui.model.json.JSONModel({aConfigDetails:[]});this.getView().setModel(this.oModel);this.bProgramaticSelection=false;if(this.oTreeInstance!==undefined){this.oTreeInstance.expandToLevel(1);this.oTreeInstance.collapseAll()}this.modelUpdateDeferred={};sap.apf.modeler.ui.utils.APFRouter.patternMatch(this)},_instantiateToolbarView:function(){var e=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.toolbar",type:"XML",viewData:{oConfigListInstance:this}});this.toolbarController=e.getController();this.byId("idConfigMasterData").insertItem(e,0)},_instantiateAPFTree:function(){this.oTreeInstance=this.byId("idConfigTree");this.oTreeInstance.setTranslationFunction(this.oCoreApi.getText);var e;if(this.oCoreApi.getRepresentationTypes()[0].metadata){e=this.oCoreApi.getRepresentationTypes()[0].id}this.oTreeInstance.setDefaultRepresentationType(e)},_instantiateTitleAndBreadCrumbView:function(){this.oTitleBreadCrumbView=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.titleBreadCrumb",type:"XML",viewData:{getText:this.oCoreApi.getText}});this.oTitleBreadCrumbController=this.oTitleBreadCrumbView.getController();this.byId("idConfigDetail").insertItem(this.oTitleBreadCrumbView,0);this.oBreadCrumb=this.oTitleBreadCrumbView.byId("IdBreadCrumb")},setConfigListMasterTitle:function(e){this.byId("idConfigTitleMaster").setText(this.oCoreApi.getText("configurationObjectTitle")+" : "+e)},onAfterRendering:function(){var e=this;this.oTreeInstance.onAfterRendering=function(){e._setHeightForScrollBar()}},_setHeightForScrollBar:function(){var e=this;var t=jQuery(window).height();t=t-165;e.byId("idMasterScroll").setHeight(t+"px");i.onResize(function(){t=jQuery(e.byId("configPage").getDomRef()).height();e.byId("idMasterScroll").setHeight(t+"px")})},_setDisplayText:function(){this.byId("configPage").setTitle(this.oCoreApi.getText("configModelerTitle"));this.byId("idSavebutton").setText(this.oCoreApi.getText("save"));this.byId("idCancelbutton").setText(this.oCoreApi.getText("cancel"));this.byId("idExportbutton").setText(this.oCoreApi.getText("export"));this.byId("idExecuteButton").setText(this.oCoreApi.getText("execute"));this.byId("idPublishbutton").setText(this.oCoreApi.getText("share"));this.byId("idAriaPropertyForBreadCrumb").setText(this.oCoreApi.getText("breadCrumbText"))},_setPublishVisible:function(){var e=this.oCoreApi.isUsingCloudFoundryProxy();this.byId("idPublishbutton").setVisible(e)},_addConfigStyleClass:function(){this.getView().addStyleClass("sapUiSizeCompact");this.byId("idConfigTree").addStyleClass("configTree");this.byId("idConfigTitleMaster").addStyleClass("configTitle");this.byId("idConfigMasterData").addStyleClass("configMasterData");this.byId("idConfigDetailData").addStyleClass("configDetailData")},_setSubViewContainerHeight:function(e){var t=this;var a=e.getContent()[0].getItems()[0];var o=jQuery(window).height();var n=jQuery(this.byId("idConfigTitleMaster").getDomRef()).outerHeight()+jQuery(this.byId("idConfigTitleMaster").getDomRef()).offset().top+25;var s=jQuery(this.byId("idConfigMasterData").getItems()[0].getDomRef()).height();var r=jQuery(this.byId("configPage").getDomRef()).find("header").height();var d=jQuery(this.byId("configPage").getDomRef()).find("footer").height();var l,g;if(s>0){l=n+s+r+d}else{l=265}var f=o-l-40+"px";a.setHeight(f);var c=jQuery(this.byId("idConfigDetailData").getDomRef()).width();if(c>0){g=jQuery(this.byId("idConfigMasterData").getDomRef()).offset().left}else{c=1015;g=15}var u=c-g;var p=u+"px";a.setWidth(p);i.onResize(function(){o=jQuery(t.byId("configPage").getDomRef()).height();f=o-l+"px";a.setHeight(f);c=jQuery(t.byId("idConfigDetailData").getDomRef()).width();u=c-g;p=u+"px";a.setWidth(p)})},_setSubView:function(e){this.oSubView=e},_getSubView:function(){return this.oSubView},updateSubView:function(e){var t=this;var i=this._getSubView();var a=this.byId("idConfigDetailData");var o=this.getSPathFromURL(e);this.configurationHandler.memorizeConfiguration(e.arguments.configId);if(i){i.destroy()}if(e.arguments.configId.indexOf("newConfig")===0){this.modelUpdateDeferred[this.byId("idConfigTree").getModel().getData().aConfigDetails.length-1]=new jQuery.Deferred}var n=new sap.ui.view({viewName:"sap.apf.modeler.ui.view."+o.objectType,type:"XML",viewData:{oParams:e,oCoreApi:t.oCoreApi,updateConfigTree:t.updateConfigTree.bind(t),updateSelectedNode:t.updateSelectedNode.bind(t),updateTitleAndBreadCrumb:t.updateTitleAndBreadCrumb.bind(t),updateTree:t.updateTree.bind(t),oConfigurationHandler:t.configurationHandler,oApplicationHandler:t.applicationHandler,oConfigurationEditor:t.configEditor,getText:t.oCoreApi.getText,getEntityTypeMetadataAsPromise:t.oCoreApi.getEntityTypeMetadataAsPromise,getRepresentationTypes:t.oCoreApi.getRepresentationTypes,oFooter:t.byId("idFooterBarMain"),createMessageObject:t.oCoreApi.createMessageObject,putMessage:t.oCoreApi.putMessage,getAllAvailableSemanticObjects:t.oCoreApi.getAllAvailableSemanticObjects,getSemanticActions:t.oCoreApi.getSemanticActions,getNavigationTargetName:t._getNavigationTargetName.bind(t),setNavigationTargetName:t._setNavigationTargetName.bind(t),getCalatogServiceUri:t.oCoreApi.getCatalogServiceUri,oTitleBreadCrumbController:t.oTitleBreadCrumbController}});if(e.name!=="applicationList"){a.removeAllContent();n.placeAt(a);this._setSubViewContainerHeight(n);this._setSubView(n)}},clearTitleAndBreadCrumb:function(){this.oTitleBreadCrumbView.byId("IdFormTitle").setText("");this.oTitleBreadCrumbView.byId("IdBreadCrumb").destroyContent()},_createLinkForBreadCrumb:function(e,t,i){var a=this;var o=new sap.m.Link({text:e,id:a.createId("linkId"+t),press:function(){a._navigateToNode(i)}});o.addAriaDescribedBy(a.byId("idAriaPropertyForBreadCrumb"));return o},_createTextForBreadCrumb:function(e,t){var i=this;var a=new sap.m.Label({id:i.createId("textId"+t)});a.addStyleClass("dialogText");a.setText(e);return a},_createIconForBreadCrumb:function(){var e=new sap.ui.core.Icon({src:"sap-icon://open-command-field"});e.addStyleClass("breadCrumbIcon");return e},_navigateToNode:function(e){var t=this.oTreeInstance.getItemNodeByContext(e);this.oTreeInstance.setSelectedItem(t);this._onTreeNodeSelection()},_getAllPossibleNodes:function(e){var t=[];if(e.configId){t.push({id:e.configId,name:e.configurationName,oParams:{arguments:{configId:e.configId}}})}if(e.facetFilterId){t.push({id:e.facetFilterId,name:e.facetFilterName,oParams:{arguments:{configId:e.configId,facetFilterId:e.facetFilterId}}})}if(e.smartFilterId){t.push({id:e.smartFilterId,name:e.smartFilterName,oParams:{arguments:{configId:e.configId,smartFilterId:e.smartFilterId}}})}if(e.categoryId){t.push({id:e.categoryId,name:e.categoryName,oParams:{arguments:{configId:e.configId,categoryId:e.categoryId}}})}if(e.stepId){t.push({id:e.stepId,name:e.stepName,oParams:{arguments:{configId:e.configId,categoryId:e.categoryId,stepId:e.stepId}}})}if(e.representationId){t.push({id:e.representationId,name:e.representationName,oParams:{arguments:{configId:e.configId,categoryId:e.categoryId,stepId:e.stepId,representationId:e.representationId}}})}if(e.navTargetId){t.push({id:e.navTargetId,name:e.navTargetName,oParams:{arguments:{configId:e.configId,navTargetId:e.navTargetId}}})}return t},_breadCrumbCreation:function(e,t){for(var i=0;i<e.length;i++){var a=this.getSPathFromURL(e[i].oParams).sPath;var o;if(i===1){o=this._createTextForBreadCrumb(t,i);this.oBreadCrumb.addContent(o);var n=this._createIconForBreadCrumb();this.oBreadCrumb.addContent(n)}if(i!==e.length-1){var s=this._createLinkForBreadCrumb(e[i].name,i,a);this.oBreadCrumb.addContent(s);var r=this._createIconForBreadCrumb();this.oBreadCrumb.addContent(r)}if(i===e.length-1){o=this._createTextForBreadCrumb(e[i].name,++i);this.oBreadCrumb.addContent(o)}}},updateTitleAndBreadCrumb:function(e){var t;var i;var a=this.oTreeInstance.getSelectedItems();if(a&&a.length>0){i=a[0]}var o=i?this.oTreeInstance.getAPFTreeNodeContext(i):undefined;var n=o?o.nodeObjectType:undefined;var s=o?this.oTreeInstance.getParentNodeContext(o):undefined;if(e){t=e}else{if(n){var r=i.getTitle();t=this.oCoreApi.getText(n)+": "+r;if(n===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR){t=r}}}if(s){if(this.oBreadCrumb){this.oBreadCrumb.destroyContent()}var d=this._getAllPossibleNodes(s);var l;switch(n){case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION:this._breadCrumbCreation(d);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR:case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER:l=this.oCoreApi.getText("facetFilter");this._breadCrumbCreation(d,l);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY:l=this.oCoreApi.getText("category");this._breadCrumbCreation(d,l);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP:l=this.oCoreApi.getText("category");this._breadCrumbCreation(d,l);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION:l=this.oCoreApi.getText("category");this._breadCrumbCreation(d,l);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET:l=this.oCoreApi.getText("navigationTarget");this._breadCrumbCreation(d,l);break;default:break}}if(n!==sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP){this.oTitleBreadCrumbController.setTitleForDetailPage(t)}},setSelectionOnTree:function(e){if(e.objectType==="smartFilterBar"){this.toolbarController.disableCopyDeleteButton()}else{this.toolbarController.enableCopyDeleteButton()}this._enableDisableExportAndExecuteButton(true);this.oTreeInstance.setSelectionOnTree(e.sPath)},removeSelectionOnTree:function(){this.oTreeInstance.removeSelectionOnTree(this.selectedNode)},updateConfigTree:function(e){var t,i,a,o,n,s,r,d,l;var g=this;e.forEach(function(e){var f;t=g.getSPathFromURL(e.oldContext).sPath;a=t.split("/");o=a[2];n=a[6];r=a[8];d=jQuery.extend(true,{},g.oModel.getData().aConfigDetails[o].configData[1].categories[n].steps[r]);l=d.id;d.isSelected=false;i=g.getSPathFromURL(e.newContext).sPath;s=i.split("/")[6];if(e.removeStep===undefined){if(g.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps){g.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps.forEach(function(e){if(e.id===l){f=true}});if(f===undefined){g.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps.push(d)}}else{g.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps=[];g.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps.push(d)}}else if(e.removeStep===true){if(g.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps){g.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps.forEach(function(e,t){if(e.id===l){var i=g.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps;i.splice(t,1);g.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps=i}});if(e.changeCategory===true){var c=g.getSPathFromURL(e.categoryChangeContext).sPath;var u=c.split("/");o=u[2];var p=u[6];var T=u[8];g.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[T].isSelected=true;g.oModel.getData().aConfigDetails[o].configData[1].categories[p].expanded=true}}}});this.oModel.updateBindings();var f=e.length;if(e[f-1].changeCategory){sap.ui.core.UIComponent.getRouterFor(this).navTo(e[f-1].oldContext.name,e[f-1].categoryChangeContext.arguments,true)}this.configEditor.setIsUnsaved()},updateSelectedNode:function(e,t){if(e){if(this.oTreeInstance.getSelectedItems()){this.selectedNode=this.oTreeInstance.getSelectedItem()}if(this.selectedNode){if(e.name&&this.selectedNode._getBindingContext()&&this.selectedNode._getBindingContext().getObject()){this.selectedNode.getBindingContext().getObject().name=e.name;this.selectedNode.getBindingContext().getObject().isSelected=true;if(this.selectedNode.getBindingContext().getObject().type===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION||this.selectedNode.getBindingContext().getObject().type===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET){this.selectedNode.getBindingContext().getObject().icon=e.icon}this.oModel.updateBindings()}if(e.id&&this.selectedNode.getBindingContext().getObject().id){this.selectedNode.getBindingContext().getObject().id=e.id;if(e.icon){this.selectedNode.getBindingContext().getObject().icon=e.icon}this.oModel.updateBindings()}else if(e.id&&this.selectedNode.getBindingContext().getObject().AnalyticalConfiguration){this.selectedNode.getBindingContext().getObject().AnalyticalConfiguration=e.id;this.selectedNode.getBindingContext().getObject().expanded=true}}if(this.selectedNode.getBindingContext().getObject().type===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION&&t){sap.ui.core.UIComponent.getRouterFor(this).navTo(this.selectedNode.getBindingContext().getObject().type,t,true);this.updateTree()}}},createConfigList:function(){var e=this;this.configList=this.configurationHandler.getList();this.configList.forEach(function(t,i){var a={};a.AnalyticalConfiguration=t.AnalyticalConfiguration;a.name=t.AnalyticalConfigurationName;a.Application=t.Application;a.type=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION;a.bIsLoaded=false;a.bToggleState=false;a.isSelected=false;a.expanded=false;a.selectable=true;a.hasExpander=true;e.oModel.getData().aConfigDetails.push(a);e.modelUpdateDeferred[i]=new jQuery.Deferred});this.oModel.updateBindings()},showNoConfigSelectedText:function(){this.byId("idConfigDetailData").removeAllContent();this.clearTitleAndBreadCrumb();var e=(new sap.m.Label).addStyleClass("noConfigSelected");e.setText(this.oCoreApi.getText("noConfigSelected"));e.placeAt(this.byId("idConfigDetailData"));this.toolbarController.disableCopyDeleteButton();this._enableDisableExportAndExecuteButton(false);this.byId("idConfigDetail").setBusy(false)},updateConfigListView:function(){this.selectedNode=this.oTreeInstance.getSelectedItems();if(this.selectedNode===null||this.selectedNode===undefined||this.selectedNode.length==0){if(this.configList.length>1){this.showNoConfigSelectedText()}else{this.oModel.getData().aConfigDetails[0].isSelected=true;this.oModel.getData().aConfigDetails[0].expanded=true;this.configId=this.oModel.getData().aConfigDetails[0].AnalyticalConfiguration;this.oModel.updateBindings();var e={appId:this.appId,configId:this.oModel.getData().aConfigDetails[0].AnalyticalConfiguration};this.selectedNode=this.oTreeInstance.getItems()[0];this.oTreeInstance.expand(0);this.toolbarController.enableCopyDeleteButton();this._enableDisableExportAndExecuteButton(true);sap.ui.core.UIComponent.getRouterFor(this).navTo(this.oModel.getData().aConfigDetails[0].type,e,true)}}},_getNodeData:function(e,t){var i=this.oModel.getData().aConfigDetails;var a={};var o=function(e){var t={};var a=e||this.configId;for(var o=0;o<i.length;o++){if(i[o].AnalyticalConfiguration===a){t.index=o;t.data=i[o];t.id=i[o].AnalyticalConfiguration;break}}return t};var n=function(t){var a=o.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]).index;var n={};for(var s=0;s<i[a].configData.length;s++){if(i[a].configData[s].filters instanceof Array){n.indexConfigData=s;for(var r=0;r<i[a].configData[s].filters.length;r++){if(i[a].configData[s].filters[r].id===t){n.index=r;n.data=i[a].configData[s].filters[r];n.id=i[a].configData[s].filters[r].id;n.filterNodeExpansion=i[a].configData[s].expanded}}}}return n};var s=function(t){var a=o.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]).index;var n={};for(var s=0;s<i[a].configData.length;s++){if(i[a].configData[s].categories instanceof Array){n.indexConfigData=s;for(var r=0;r<i[a].configData[s].categories.length;r++){if(i[a].configData[s].categories[r].id===t){n.index=r;n.data=i[a].configData[s].categories[r];n.id=i[a].configData[s].categories[r].id;n.categoryExpansion=i[a].configData[s].expanded}}}}return n};var r=function(t){var a=o.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]).index;var n=s.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]).indexConfigData;var r=s.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]).index;var d={};for(var l=0;l<i[a].configData[n].categories[r].steps.length;l++){if(i[a].configData[n].categories[r].steps[l].id===t){d.index=l;d.data=i[a].configData[n].categories[r].steps[l];d.id=i[a].configData[n].categories[r].steps[l].id}}return d};var d=function(t){var a=o.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]).index;var n=s.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]).indexConfigData;var d=s.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]).index;var l=r.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP]).index;var g={};if(i[a].configData[n].categories[d].steps[l]){for(var f=0;f<i[a].configData[n].categories[d].steps[l].representations.length;f++){if(i[a].configData[n].categories[d].steps[l].representations[f].id===t){g.index=f;g.data=i[a].configData[n].categories[d].steps[l].representations[f];g.id=i[a].configData[n].categories[d].steps[l].representations[f].id}}}return g};var l=function(t){var a=o.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]).index;var n={};for(var s=0;s<i[a].configData.length;s++){if(i[a].configData[s].navTargets instanceof Array){n.indexConfigData=s;for(var r=0;r<i[a].configData[s].navTargets.length;r++){if(i[a].configData[s].navTargets[r].id===t){n.index=r;n.data=i[a].configData[s].navTargets[r];n.id=i[a].configData[s].navTargets[r].id;n.nTExpansion=i[a].configData[s].expanded}}}}return n};switch(t){case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION:a=o.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER:a=n.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR:a=n.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY:a=s.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP:a=r.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION:a=d.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET:a=l.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET]);break;default:break}return a},_retainNodeState:function(e,t){var i=this._getNodeData(e,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION).index;if(!this.oModel.getData().aConfigDetails[i].bIsLoaded){return{}}var a=this._getNodeData(e,t);if(!a.data){return{}}return{expanded:a.data.expanded,isSelected:a.data.isSelected}},updateTree:function(){var e=this;var t=[],i=[],a=[],o={},n=[],s=[],r=[],d=[],l,g;this.oTextPool=this.configurationHandler.getTextPool();var f={};f[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]=this.configId;var c=e._getNodeData(f,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION).index;var u=this.configId;var p=false;var T=false;var C=false;var h=Object.keys(this.configEditor.getFilterOption())[0];t=this.configEditor.getCategories();function D(){if(e.oModel.getData().aConfigDetails[c].bIsLoaded){g=e._getNodeData(f,h)}l=e._retainNodeState(f,h)}function I(t,i){var o=e.oCoreApi.getText("smartFilterBar");if(h===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER){o=e.oTextPool.get(i.getLabelKey())?e.oTextPool.get(i.getLabelKey()).TextElementDescription:i.getLabelKey()}f[h]=i.getId();D();a.push({id:i.getId(),name:o,type:h,isSelected:l.isSelected||false,expanded:l.expanded||false,selectable:true,icon:t})}if(h===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR){o=this.configEditor.getSmartFilterBar();I("sap-icon://filter",o)}else if(h===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER){i=this.configEditor.getFacetFilters();i.forEach(function(e){var t=e.isVisible()?"sap-icon://filter":"sap-icon://hide";I(t,e)})}if(g&&g.filterNodeExpansion){p=true}n=this.configEditor.getNavigationTargets();var v=this.oCoreApi.getRepresentationTypes();var b={};v.forEach(function(e){var t=e.id;b[t]=e.picture});t.forEach(function(t){f[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]=t.getId();var i=t;var a=i.getId();d=[];e.configEditor.getCategoryStepAssignments(a).forEach(function(t){var i=e.configEditor.getStep(t);f[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]=a;f[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP]=i.getId();var o=e._retainNodeState(f,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP);var n=i.getRepresentations();var s=n.map(function(t){f[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION]=t.getId();var i=e._retainNodeState(f,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION);return{id:t.getId(),name:e.oCoreApi.getText(t.getRepresentationType()),type:"representation",isSelected:i.isSelected||false,expanded:i.expanded||false,selectable:true,icon:b[t.getRepresentationType()]}});d.push({id:i.getId(),name:e.oTextPool.get(i.getTitleId())?e.oTextPool.get(i.getTitleId()).TextElementDescription:i.getTitleId(),type:"step",representations:s,isSelected:o.isSelected||false,expanded:o.expanded||false,selectable:true,icon:i.getType()==="hierarchicalStep"?"sap-icon://drill-down":"sap-icon://step"})});var o=e._retainNodeState(f,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY);if(e.oModel.getData().aConfigDetails[c].bIsLoaded){var n=e._getNodeData(f,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY);if(n.categoryExpansion){C=true}}s.push({id:t.getId(),name:e.oTextPool.get(t.labelKey)?e.oTextPool.get(t.labelKey).TextElementDescription:t.labelKey,type:"category",steps:d,isSelected:o.isSelected||false,expanded:o.expanded||false,selectable:true,icon:"sap-icon://open-folder"})});r.push({filters:a,name:e.oCoreApi.getText("facetFilters"),expanded:p,selectable:false});r.push({categories:s,name:e.oCoreApi.getText("categories"),expanded:C,selectable:false});var N=[];var S=function(t,i){f[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET]=i.getId();var a=e._retainNodeState(f,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET);if(e.oModel.getData().aConfigDetails[c].bIsLoaded){var o=e._getNodeData(f,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET);if(o.nTExpansion){T=true}}var n,s;for(n=0;n<t.length;n++){if(t[n].id===i.getAction()){s=t[n].text;break}}if(i.getTitleKey()){s=e.configurationHandler.getTextPool().get(i.getTitleKey()).TextElementDescription}N.push({id:i.getId(),name:s||i.getSemanticObject(),type:"navigationTarget",isSelected:a.isSelected||false,expanded:a.expanded||false,selectable:true,icon:i.isStepSpecific()?"sap-icon://pushpin-off":"sap-icon://overview-chart"})};var m=function(){var e=n.map(function(e){return e.getId()});var t=[];for(var i=0;i<e.length;i++){for(var a=0;a<N.length;a++){if(e[i]===N[a].id){t[i]=N[a];break}}}N=t};var y=function(){var t={};t.configData=r;e.oModel.getData().aConfigDetails[c].bIsLoaded=true;var i=e.oModel.getData().aConfigDetails[c];jQuery.extend(i,t);e.oModel.getData().aConfigDetails[c]=i;e.oModel.getData().aConfigDetails[c].name=e.configurationHandler.getConfiguration(u).AnalyticalConfigurationName;for(var a=0;a<e.oModel.getData().aConfigDetails.length;a++){if(e.modelUpdateDeferred[a]&&e.modelUpdateDeferred[a].state()==="pending"&&n.length===0){e.modelUpdateDeferred[a].resolve(e.oModel.getData())}}if(i.configData[2].navTargets.length>0){e._setNavigationTargetName({configIndexInTree:c});e.modelUpdateDeferred[c].resolve(e.oModel.getData())}e.oModel.updateBindings()};n.forEach(function(t){var i=e.oCoreApi.getSemanticActions(t.getSemanticObject());i.then(function(i){S(i.semanticActions,t);if(N.length===n.length){m();if(r[2]){r.splice(2,2);r.push({navTargets:N,name:e.oCoreApi.getText("navigationTargets"),expanded:T,selectable:false});y();var a=sap.apf.modeler.ui.utils.APFRouter.params;if(a.name==="navigationTarget"){sap.apf.modeler.ui.utils.APFRouter.setCurrentSelectionState(a,e)}}}})});r.push({navTargets:N,name:e.oCoreApi.getText("navigationTargets"),expanded:T,selectable:false});y()},_checkIfKeyExists:function(e,t){var i;if(this.navTargetTextsTable[t]){this.navTargetTextsTable[t].texts.forEach(function(t,a){if(t.key===e){i=a}})}return i},_getNavigationTargetName:function(e){var t=this;var i;var a=new jQuery.Deferred;var o=t.getSPathForConfig(t.configId).split("/")[2];if(this.modelUpdateDeferred[o]===undefined){this.modelUpdateDeferred[o]=new jQuery.Deferred;this.modelUpdateDeferred[o].resolve(this.oModel.getData())}jQuery.when(this.modelUpdateDeferred[o]).done(function(n){var s=t._checkIfKeyExists(e,o);if(s!==undefined){i=t.navTargetTextsTable[o].texts[s].value;a.resolve(i)}});return a.promise()},_setNavigationTargetName:function(e){var t=e.configIndexInTree!==undefined?e.configIndexInTree:this.getSPathForConfig(this.configId).split("/")[2];if(r(this.navTargetTextsTable)){this.navTargetTextsTable={}}if(!this.navTargetTextsTable[t]){this.navTargetTextsTable[t]={texts:[]}}if(e.key&&e.value){var i=this._checkIfKeyExists(e.key,t);if(i===undefined){var a={};a.key=e.key;a.value=e.value;this.navTargetTextsTable[t].texts.push(a)}else{this.navTargetTextsTable[t].texts[i].value=e.value}}else{var o=this.oModel.getData().aConfigDetails[t].configData[2].navTargets;for(var n=0;n<o.length;n++){var s={};s.key=o[n].id;s.value=o[n].name;this.navTargetTextsTable[e.configIndexInTree].texts.push(s)}}},_handleToggleTreeNode:function(e){var t=this;var i=e.getSource().getSelectedItems();if(i&&i.length>0){var a=i[0]._getBindingContext().sPath;var o=i[0]._getBindingContext().getObject().type;if(o===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION){var n=a.split("/")[2];if(t.oModel.getData().aConfigDetails[n].bIsLoaded===true){this.oModel.updateBindings()}else{this.configurationHandler.loadConfiguration(this.oModel.getData().aConfigDetails[n].AnalyticalConfiguration,function(e,i){if(i===undefined){t.configEditor=e;t.configId=t.oModel.getData().aConfigDetails[n].AnalyticalConfiguration;t.updateTree()}})}}}},getSPathForConfig:function(e){var t;this.oModel.getData().aConfigDetails.forEach(function(i,a){if(i.AnalyticalConfiguration===e){t="/aConfigDetails/"+a}});return t},getSPathFromURL:function(e){var t={sPath:undefined,objectType:undefined};var i=this;this.oModel.getData().aConfigDetails.forEach(function(a,o){if(a.AnalyticalConfiguration===e.arguments.configId){t.sPath="/aConfigDetails/"+o;t.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION;i.oModel.getData().aConfigDetails[o].expanded=true;if(e.arguments.categoryId!==undefined){i.oModel.getData().aConfigDetails[o].configData[1].categories.forEach(function(a,n){if(a.id===e.arguments.categoryId){t.sPath=t.sPath.concat("/configData/1/categories/"+n);t.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY;i.oModel.getData().aConfigDetails[o].configData[1].expanded=true;if(e.arguments.stepId!==undefined){i.oModel.getData().aConfigDetails[o].configData[1].categories[n].steps.forEach(function(a,s){if(a.id===e.arguments.stepId){t.sPath=t.sPath.concat("/steps/"+s);t.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP;i.oModel.getData().aConfigDetails[o].configData[1].categories[n].expanded=true;if(e.arguments.representationId!==undefined){i.oModel.getData().aConfigDetails[o].configData[1].categories[n].steps[s].representations.forEach(function(a,r){if(a.id===e.arguments.representationId){i.oModel.getData().aConfigDetails[o].configData[1].categories[n].steps[s].expanded=true;t.sPath=t.sPath.concat("/representations/"+r);t.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION}})}}})}}})}if(e.arguments.facetFilterId!==undefined){i.oModel.getData().aConfigDetails[o].configData[0].filters.forEach(function(a,n){if(a.id===e.arguments.facetFilterId){t.sPath=t.sPath.concat("/configData/0/filters/"+n);t.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER;i.oModel.getData().aConfigDetails[o].configData[0].expanded=true}})}if(e.arguments.smartFilterId!==undefined){t.sPath=t.sPath.concat("/configData/0/filters/0");t.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR;i.oModel.getData().aConfigDetails[o].configData[0].expanded=true}if(e.arguments.navTargetId!==undefined){i.oModel.getData().aConfigDetails[o].configData[2].navTargets.forEach(function(a,n){if(a.id===e.arguments.navTargetId){t.sPath=t.sPath.concat("/configData/2/navTargets/"+n);t.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET;i.oModel.getData().aConfigDetails[o].configData[2].expanded=true}})}}});return t},_navHandleExpandDelete:function(e,t,i){var a=this;this.selectedNode=this.oTreeInstance.getSelectedItem();var o=this.oModel.getData().aConfigDetails;var n=i||this.oTreeInstance.isConfigurationSwitched(this.oPreviousSelectedNode,this.selectedNode);var s=function(e){var t;for(var i=0;i<o.length;i++){if(o[i].AnalyticalConfiguration===e){t=i;break}}return t};var r=function(e){var i=s.call(this,t.configId);var a,n;for(var r=0;r<o[i].configData.length;r++){if(o[i].configData[r].filters instanceof Array){a=r;for(var d=0;d<o[i].configData[r].filters.length;d++){if(o[i].configData[r].filters[d].id===e){n=d;break}else{n=d}}}}return{indexConfig:a,indexFilter:n}};var d=function(e){var i=s.call(this,t.configId);var a,n;for(var r=0;r<o[i].configData.length;r++){if(o[i].configData[r].navTargets instanceof Array){a=r;for(var d=0;d<o[i].configData[r].navTargets.length;d++){if(o[i].configData[r].navTargets[d].id===e){n=d;break}else{n=d}}}}return{indexConfig:a,indexNavTarget:n}};var l=function(e){var i=s.call(this,t.configId);var a,n;for(var r=0;r<o[i].configData.length;r++){if(o[i].configData[r].categories instanceof Array){a=r;for(var d=0;d<o[i].configData[r].categories.length;d++){if(o[i].configData[r].categories[d].id===e){n=d;break}else{n=d}}}}return{indexConfig:a,indexCategory:n}};var g=function(e){var i=s.call(this,t.configId);var a=l.call(this,t.categoryId).indexConfig;var n=l.call(this,t.categoryId).indexCategory;var r;for(var d=0;d<o[i].configData[a].categories[n].steps.length;d++){if(o[i].configData[a].categories[n].steps[d].id===e){r=d;break}else{r=d}}return r};if(t.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0&&n){this.configurationHandler.removeConfiguration(t.configId,function(e){var i=a.oModel.getData().aConfigDetails;var o=s.call(a,t.configId);a._deleteConfigNavTargetTexts(o,i.length);i.splice(o,1);a.oModel.getData().aConfigDetails=i})}else{var f,c,u,p,T,C;switch(e.nodeObjectType){case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION:f=s.call(this,t.configId);this.oModel.getData().aConfigDetails[f].isSelected=true;this.oModel.getData().aConfigDetails[f].expanded=true;break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER:f=s.call(this,t.configId);c=r.call(this,t.facetFilterId).indexConfig;u=r.call(this,t.facetFilterId).indexFilter;this.oModel.getData().aConfigDetails[f].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].filters[u].expanded=true;break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY:f=s.call(this,t.configId);c=l.call(this,t.categoryId).indexConfig;p=l.call(this,t.categoryId).indexCategory;this.oModel.getData().aConfigDetails[f].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].expanded=true;break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP:f=s.call(this,t.configId);c=l.call(this,t.categoryId).indexConfig;p=l.call(this,t.categoryId).indexCategory;T=g.call(this,t.stepId);this.oModel.getData().aConfigDetails[f].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].categories[p].expanded=true;break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION:f=s.call(this,t.configId);c=l.call(this,t.categoryId).indexConfig;p=l.call(this,t.categoryId).indexCategory;T=g.call(this,t.stepId);this.oModel.getData().aConfigDetails[f].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].categories[p].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].categories[p].steps[T].expanded=true;break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET:f=s.call(this,t.configId);c=d.call(this,t.navTargetId).indexConfig;C=d.call(this,t.navTargetId).indexNavTarget;this.oModel.getData().aConfigDetails[f].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].navTargets[C].expanded=true;break;default:break}}this.oModel.updateBindings()},_isNewSubView:function(e){var t=false;if(e.arguments.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0){t=true}else{if(e.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION){t=this.configurationHandler.getConfiguration(e.arguments.configId)!==undefined?false:true}else if(e.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY){t=this.configEditor.getCategory(e.arguments.categoryId)!==undefined?false:true}else if(e.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER){t=this.configEditor.getFacetFilter(e.arguments.facetFilterId)!==undefined?false:true}else if(e.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP){t=this.configEditor.getStep(e.arguments.stepId)!==undefined?false:true}else if(e.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION){t=this.configEditor.getStep(e.arguments.stepId).getRepresentation(e.arguments.representationId)!==undefined?false:true}else if(e.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET){t=this.configEditor.getNavigationTarget(e.arguments.navTargetId)!==undefined?false:true}}return t},_getCurrentConfigurationNode:function(){var e=this.oTreeInstance.getItems();var t=this.configId;for(var i=0;i<e.length;i++){if(t===e[i]._getBindingContext().getObject().AnalyticalConfiguration){return e[i]}}return undefined},_navMandatoryResetState:function(e,t){var i=e;e.selectedNode=e.oTreeInstance.getSelectedItem();i.bIsSaved=i.configEditor?i.configEditor.isSaved():undefined;var a=typeof i.byId("idConfigDetailData").getContent()[0].getController==="function"?i.byId("idConfigDetailData").getContent()[0].getController():undefined;e.configurationHandler.memorizeConfiguration(a.getView().getViewData().oParams.arguments.configId);var o=this._isNewSubView(a.getView().getViewData().oParams);if(!o){i.updateTree();var n=i.selectedNode._getBindingContext().getObject();if(n){n.isSelected=true;var s=a.getView().getViewData().oParams.name;var r=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes;if(s!==r.REPRESENTATION){a.updateSubViewInstancesOnReset(i.configEditor)}else{a.oConfigurationEditor=i.configEditor}a.setDetailData.call(a);i.updateTitleAndBreadCrumb()}else{i.oTreeInstance.setSelectedItem(i._getCurrentConfigurationNode())}if(typeof t==="function"){t()}}else{i.handleConfirmDeletion()}return{bIsSaved:i.bIsSaved,isNewView:o}},_navSaveState:function(e){e()},_navConfigResetState:function(e,t){var i=e;var a=typeof i.byId("idConfigDetailData").getContent()[0].getController==="function"?i.byId("idConfigDetailData").getContent()[0].getController():undefined;var o=this._isNewSubView(a.getView().getViewData().oParams);if(!o){i.configurationHandler.loadConfiguration(i.configId,function(e,a){if(a===undefined){var o=typeof i.byId("idConfigDetailData").getContent()[0].getController==="function"?i.byId("idConfigDetailData").getContent()[0].getController():undefined;i.configEditor=e;i.updateTree();var n=i.selectedNode._getBindingContext().getObject();if(n){n.isSelected=true;var s=o.getView().getViewData().oParams.name;var r=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes;if(s!==r.REPRESENTATION){o.updateSubViewInstancesOnReset(i.configEditor)}else{o.oConfigurationEditor=i.configEditor}o.setDetailData.call(o);i.updateTitleAndBreadCrumb()}else{i.oTreeInstance.setSelectedItem(i._getCurrentConfigurationNode())}if(typeof t==="function"){t()}}})}else{i.handleConfirmDeletion()}},_onTreeNodeSelection:function(e){this.selectedNode=this.oTreeInstance.getSelectedItem();var i=this;var a,o,n;if(!this.bProgramaticSelection){this.oPreviousSelectedNode=this.oTreeInstance.previousSelectedItem;this.bIsDifferntConfig=this.oTreeInstance.isConfigurationSwitched(this.oPreviousSelectedNode,this.selectedNode);this.oSelectedNodeDetails=this.oTreeInstance.getAPFTreeNodeContext(this.selectedNode);this.oParentNodeDetails=this.oTreeInstance.getParentNodeContext(this.oSelectedNodeDetails);this._enableDisableExportAndExecuteButton(true);var s;if(this.byId("idConfigDetailData").getContent().length>=1){s=typeof this.byId("idConfigDetailData").getContent()[0].getController==="function"?this.byId("idConfigDetailData").getContent()[0].getController():undefined}var r=this.selectedNode?this.selectedNode.getId():null;var d=this.oPreviousSelectedNode?this.oPreviousSelectedNode.getId():null;var l=function(){if(i.oPreviousSelectedNode){var e=i.selectedNode.getBindingContext().getObject();e.isSelected=false;i.oModel.updateBindings()}};if(r!==d||this.bNavDeletionMode){var g=t.getInstance();var f;if(s!==undefined){f=typeof s.getValidationState==="function"?s.getValidationState.call(s):true}else{f=true}var c=this.configEditor?jQuery.extend(true,{},this.configEditor):undefined;this.bIsSaved=c?c.isSaved():undefined;var u;var p=false;var T=this.configurationHandler.getList();if(!f&&T.length>0){g.throwMandatoryPopup(this,{yes:function(){var e=typeof i.byId("idConfigDetailData").getContent()[0].getController==="function"?i.byId("idConfigDetailData").getContent()[0].getController():undefined;var t=i._isNewSubView(e.getView().getViewData().oParams);if(!t){var a=function(e){i.configEditor=i.configurationHandler.restoreMemorizedConfiguration(i.oParentNodeDetails.configId);if(i.bIsSaved===false&&i.configEditor){i.configEditor.setIsUnsaved()}if(typeof e==="function"){e()}i.updateTree();var t=i.selectedNode.getBindingContext().getObject();i.navigateToDifferntView(i.oParentNodeDetails,i.oSelectedNodeDetails);t.isSelected=true;i.oModel.updateBindings()};if(i.bIsSaved===false&&i.bIsDifferntConfig){u(false,function(){a.call(i)})}else{a.call(i)}}else{if(i.bIsSaved===false&&i.bIsDifferntConfig){u(false,function(){var e=i.selectedNode.getBindingContext().sPath;var t=i.oPreviousSelectedNode;i.handleConfirmDeletion(t,e)})}else{var o=i.selectedNode.getBindingContext().sPath;var n=i.oPreviousSelectedNode;i.handleConfirmDeletion(n,o)}}i._navHandleExpandDelete.call(i,i.oSelectedNodeDetails,i.oParentNodeDetails)},no:function(){l()}});p=true}u=function(e){if(s){i.configurationHandler.memorizeConfiguration(s.getView().getViewData().oParams.arguments.configId)}g.throwLossOfDataPopup(i,{yes:function(t){if(typeof e==="function"){e(function(){t(function(){var e;if(i.oPreviousSelectedNode){var t=i.oPreviousSelectedNode._getBindingContext().sPath;var a=t.split("/");e=a[2]}i.oModel.getData().aConfigDetails[e].AnalyticalConfiguration=i.configId})})}else{if(i.oPreviousSelectedNode){a=i.oTreeInstance.getAPFTreeNodeContext(i.oPreviousSelectedNode);o=i.oTreeInstance.getParentNodeContext(a);n=i.configurationHandler.restoreMemorizedConfiguration(o.configId);if(n){i.configEditor=n}}t(function(){var e;if(i.oPreviousSelectedNode){var t=i.oPreviousSelectedNode._getBindingContext().sPath;var a=t.split("/");e=a[2]}i.oModel.getData().aConfigDetails[e].AnalyticalConfiguration=i.configId;var o=i.selectedNode._getBindingContext().getObject();i.navigateToDifferntView(i.oParentNodeDetails,i.oSelectedNodeDetails);o.isSelected=true;i.oModel.updateBindings()})}},no:function(){i.configurationHandler.loadConfiguration(i.configId,function(e,t){if(t===undefined){i.configEditor=e;if(i.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0){i._navHandleExpandDelete.call(i,{},{configId:i.configId},i.oParentNodeDetails)}else{i.updateTree()}i.navigateToDifferntView(i.oParentNodeDetails,i.oSelectedNodeDetails);i._navHandleExpandDelete.call(i,i.oSelectedNodeDetails,i.oParentNodeDetails)}})},cancel:function(){l()}})};if(i.bIsSaved===false&&i.bIsDifferntConfig&&f){u();p=true}if(!p){if(this.oPreviousSelectedNode&&this.oPreviousSelectedNode.getId()!==this.selectedNode.getId()){var C=this.oPreviousSelectedNode.getBindingContext().getObject();if(C){this.oPreviousSelectedNode.getBindingContext().getObject().isSelected=false}}else{this.selectedNode.getBindingContext().getObject().isSelected=true}this.navigateToDifferntView(this.oParentNodeDetails,this.oSelectedNodeDetails,this.bIsSaved,this.bIsDifferntConfig)}this.oTreeInstance.previousSelectedItem=this.oTreeInstance.getSelectedItem()}}this.bProgramaticSelection=false;this.bNavDeletionMode=false},navigateToDifferntView:function(e,t,i,a){if(!r(e)&&(i===undefined||i)||!a){sap.ui.core.UIComponent.getRouterFor(this).navTo(t.nodeObjectType,e,true)}},_deleteConfigNavTargetTexts:function(e,t){var i=this;var a;for(var o=e;o<t-1;o++){this.modelUpdateDeferred[o]=this.modelUpdateDeferred[o+1]}delete this.modelUpdateDeferred[t-1];if(this.navTargetTextsTable){if(this.navTargetTextsTable[e]){delete this.navTargetTextsTable[e]}if(e!==t-1){Object.keys(this.navTargetTextsTable).forEach(function(t){t=parseInt(t,10);if(t>e){i.navTargetTextsTable[t-1]=i.navTargetTextsTable[t];a=t}});if(a!==undefined){delete this.navTargetTextsTable[a]}}}},handleConfirmDeletion:function(e,t){var i=e===undefined||typeof e.preventDefault==="function"?this.oTreeInstance.getAPFTreeNodeContext(this.oTreeInstance.getSelectedItem()):this.oTreeInstance.getAPFTreeNodeContext(e);var a=this;this.selectedNode=this.oTreeInstance.getSelectedItem();var o,n,s,r,d,l,g,f,c,u;d=i.nodeContext;r=d.split("/");l=r[2];switch(i.nodeObjectType){case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER:this.configEditor.removeFacetFilter(i.nodeAPFId);g=r[6];var p=this.oModel.getData().aConfigDetails[l].configData[0].filters;p.splice(g,1);this.oModel.getData().aConfigDetails[l].configData[0].filters=p;s=r.slice(0,3);n=s.join("/");break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY:this.configEditor.removeCategory(i.nodeAPFId);f=r[6];var T=this.oModel.getData().aConfigDetails[l].configData[1].categories;T.splice(f,1);this.oModel.getData().aConfigDetails[l].configData[1].categories=T;s=r.slice(0,3);n=s.join("/");break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET:this.configEditor.removeNavigationTarget(i.nodeAPFId);c=r[6];var C=this.oModel.getData().aConfigDetails[l].configData[2].navTargets;C.splice(c,1);this.oModel.getData().aConfigDetails[l].configData[2].navTargets=C;s=r.slice(0,3);n=s.join("/");break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP:var h=this.configEditor.getCategoriesForStep(i.nodeAPFId);var D=i.nodeContext.split("/");l=D[2];h.forEach(function(e){a.configEditor.removeCategoryStepAssignment(e,i.nodeAPFId);a.oModel.getData().aConfigDetails[l].configData[1].categories.forEach(function(t,o){if(t.id===e){a.oModel.getData().aConfigDetails[l].configData[1].categories[o].steps.forEach(function(e,t){if(e.id===i.nodeAPFId){var n=a.oModel.getData().aConfigDetails[l].configData[1].categories[o].steps;n.splice(t,1);a.oModel.getData().aConfigDetails[l].configData[1].categories[o].steps=n}})}})});s=r.slice(0,7);n=s.join("/");break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION:f=r[6];u=r[8];var I=this.oModel.getData().aConfigDetails[l].configData[1].categories[f].steps[u].id;var v=this.configEditor.getStep(I);var b=this.configEditor.getCategoriesForStep(I);v.removeRepresentation(i.nodeAPFId);b.forEach(function(e){a.oModel.getData().aConfigDetails[l].configData[1].categories.forEach(function(t,o){if(t.id===e){a.oModel.getData().aConfigDetails[l].configData[1].categories[o].steps.forEach(function(e,t){if(e.id===I){a.oModel.getData().aConfigDetails[l].configData[1].categories[o].steps[t].representations.forEach(function(e,n){if(e.id===i.nodeAPFId){var s=a.oModel.getData().aConfigDetails[l].configData[1].categories[o].steps[t].representations;s.splice(n,1);a.oModel.getData().aConfigDetails[l].configData[1].categories[o].steps[t].representations=s}})}})}})});s=r.slice(0,9);n=s.join("/");break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION:var N=false;if(i.nodeAPFId.indexOf("newConfig")===0){N=true}if(!N){this.configurationHandler.removeConfiguration(i.nodeAPFId,function(e){var i;var o=a.oModel.getData().aConfigDetails;a._deleteConfigNavTargetTexts(parseInt(l,10),o.length);var n=a.configurationHandler.getList().length>0?true:false;o.splice(l,1);a.oModel.getData().aConfigDetails=o;a.oModel.updateBindings();if(t){var s=a.oTreeInstance.getParentNodeContext(a.oTreeInstance.getAPFTreeNodeContext(a.selectedNode));sap.ui.core.UIComponent.getRouterFor(a).navTo(a.selectedNode._getBindingContext().getObject().type,s,true)}else{a.clearTitleAndBreadCrumb();a.byId("idConfigDetailData").removeAllContent();if(n){i=(new sap.m.Label).addStyleClass("noConfigSelected");i.setText(a.oCoreApi.getText("noConfigSelected"));i.placeAt(a.byId("idConfigDetailData"));a.toolbarController.disableCopyDeleteButton();a._enableDisableExportAndExecuteButton(false)}else{i=(new sap.m.Label).addStyleClass("addNewConfig");i.setText(a.oCoreApi.getText("addNewConfig"));i.placeAt(a.byId("idConfigDetailData"));a.toolbarController.disableCopyDeleteButton();a._enableDisableExportAndExecuteButton(false)}}})}else{var S;var m=a.oModel.getData().aConfigDetails;m.splice(l,1);a.oModel.getData().aConfigDetails=m;a.oModel.updateBindings();if(t){var y=a.oTreeInstance.getParentNodeContext(a.oTreeInstance.getAPFTreeNodeContext(a.selectedNode));sap.ui.core.UIComponent.getRouterFor(a).navTo(a.selectedNode._getBindingContext().getObject().type,y,true)}else{a.clearTitleAndBreadCrumb();a.byId("idConfigDetailData").removeAllContent();var x=this.configurationHandler.getList().length>0?true:false;if(x){S=(new sap.m.Label).addStyleClass("noConfigSelected");S.setText(a.oCoreApi.getText("noConfigSelected"));S.placeAt(a.byId("idConfigDetailData"));a.toolbarController.disableCopyDeleteButton();a._enableDisableExportAndExecuteButton(false)}else{S=(new sap.m.Label).addStyleClass("addNewConfig");S.setText(a.oCoreApi.getText("addNewConfig"));S.placeAt(a.byId("idConfigDetailData"));a.toolbarController.disableCopyDeleteButton();a._enableDisableExportAndExecuteButton(false)}}}break;default:break}if(t){this.bNavDeletionMode=true}if(i.nodeObjectType!==sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION){this.configEditor.setIsUnsaved();this.clearTitleAndBreadCrumb();this.byId("idConfigDetailData").removeAllContent();n=t||n;o=this.oTreeInstance.getModel().getContext(n);this.oModel.updateBindings();this.selectedNode=this.oTreeInstance.getItemNodeByContextWithoutExpand(o.sPath);this.bProgramaticSelection=false;this.oTreeInstance.setSelectedItem(this.selectedNode);if(t){this.selectedNode.getBindingContext().getObject().isSelected=true;this.oModel.updateBindings()}}var A=this.toolbarController.confirmationDialog===undefined?false:this.toolbarController.confirmationDialog.isOpen;if(A&&!t){this.toolbarController.confirmationDialog.close()}},handleNavBack:function(){var e;var i=this;if(this.byId("idConfigDetailData").getContent().length>=1){e=typeof this.byId("idConfigDetailData").getContent()[0].getController==="function"?this.byId("idConfigDetailData").getContent()[0].getController():undefined}this.selectedNode=this.oTreeInstance.getSelectedItem();this.oSelectedNodeDetails=this.oTreeInstance.getAPFTreeNodeContext(this.selectedNode);this.oParentNodeDetails=this.oTreeInstance.getParentNodeContext(this.oSelectedNodeDetails);var a=t.getInstance();var o;if(e!==undefined){o=typeof e.getValidationState==="function"?e.getValidationState.call(e):true}else{o=true}this.bIsSaved=this.configEditor?this.configEditor.isSaved():undefined;var n=i.configurationHandler.getList().length>0?true:false;var s=function(e){if(this.selectedNode){this.selectedNode=null}this.oModel=new sap.ui.model.json.JSONModel({aConfigDetails:[]});this.getView().setModel(this.oModel);this.configEditor=undefined;this.navTargetTextsTable={};window.history.go(-1)};if(n){var r=i.bIsSaved===undefined?true:i.bIsSaved;if(!o){a.throwMandatoryPopup(i,{yes:function(){i.configEditor=i.configurationHandler.restoreMemorizedConfiguration(e.getView().getViewData().oParams.arguments.configId);if(i.bIsSaved===false&&i.configEditor){i.configEditor.setIsUnsaved()}var t=i._navMandatoryResetState(i);var o=i.configurationHandler.getList();if(t.bIsSaved===false&&o.length>0){a.throwLossOfDataPopup(i,{yes:function(e){e();s.call(i)},no:function(){if(i.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0){i._navHandleExpandDelete.call(i,{},{configId:i.configId},i.oParentNodeDetails)}s.call(i)}})}else{s.call(i)}}});return}else if(!r&&o){a.throwLossOfDataPopup(i,{yes:function(e){e();s.call(i)},no:function(){i.configurationHandler.resetConfiguration(i.configId);if(i.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0){i._navHandleExpandDelete.call(i,{},{configId:i.configId},i.oParentNodeDetails)}s.call(i)}});return}}s.call(i)},handleSavePress:function(){var e,i;var a=this;this.selectedNode=this.oTreeInstance.getSelectedItems();if(this.selectedNode){var o=this.selectedNode[0].getBindingContext().sPath;var n=o.split("/");i=n[2]}if(this.byId("idConfigDetailData").getContent().length>=1){e=typeof this.byId("idConfigDetailData").getContent()[0].getController==="function"?this.byId("idConfigDetailData").getContent()[0].getController():undefined}var s=function(){var t=this;var a;t.configEditor.save(function(o,n,s){if(s===undefined){t.configurationHandler.memorizeConfiguration(e.getView().getViewData().oParams.arguments.configId);t.oModel.getData().aConfigDetails[i].AnalyticalConfiguration=o;t.oModel.updateBindings();t.oSelectedNodeDetails=t.oTreeInstance.getAPFTreeNodeContext(t.selectedNode[0]);t.oParentNodeDetails=t.oTreeInstance.getParentNodeContext(t.oSelectedNodeDetails);t.navigateToDifferntView(t.oParentNodeDetails,t.oSelectedNodeDetails,true,false);a=t.oCoreApi.createMessageObject({code:"11513"});t.oCoreApi.putMessage(a)}else{a=t.oCoreApi.createMessageObject({code:"11514"});t.oCoreApi.putMessage(a)}})};var r=t.getInstance();var d;if(e!==undefined){d=typeof e.getValidationState==="function"?e.getValidationState.call(e):true}else{d=true}var l=this.configEditor?jQuery.extend(true,{},this.configEditor):undefined;this.bIsSaved=l?l.isSaved():undefined;var g=false;if(!d){r.throwMandatoryPopup(a,{yes:function(){a.configEditor=a.configurationHandler.restoreMemorizedConfiguration(e.getView().getViewData().oParams.arguments.configId);if(a.bIsSaved===false&&a.configEditor){a.configEditor.setIsUnsaved()}a._navMandatoryResetState(a);s.call(a)}});g=true}if(!g){s.call(this);this.toolbarController.closeDialog()}},_handleExportButtonPress:function(){var e;if(this.byId("idConfigDetailData").getContent().length>=1){e=typeof this.byId("idConfigDetailData").getContent()[0].getController==="function"?this.byId("idConfigDetailData").getContent()[0].getController():undefined}var t=function(){if(!this.exportConfigurationDialog){this.exportConfigurationDialog=sap.ui.xmlfragment("idExportConfigurationFragment","sap.apf.modeler.ui.fragment.exportConfiguration",this);this.getView().addDependent(this.exportConfigurationDialog);this._setExportConfigDialogText();this._addStyleClassForExportDialog();this.configurationHandler.memorizeConfiguration(e.getView().getViewData().oParams.arguments.configId)}d("sapUiSizeCompact",this.getView(),this.exportConfigurationDialog);this.exportConfigurationDialog.open()};this._performExportOrExecute(t.bind(this))},handlePublishPress:function(){if(this.oCoreApi.isUsingCloudFoundryProxy()){s.showShareDialog(this.oCoreApi,this)}},_enableDisableExportAndExecuteButton:function(e){this.byId("idExportbutton").setEnabled(e);this.byId("idExecuteButton").setEnabled(e);this.byId("idPublishbutton").setEnabled(e)},_setExportConfigDialogText:function(){sap.ui.core.Fragment.byId("idExportConfigurationFragment","idExportConfigDialog").setTitle(this.oCoreApi.getText("exportConfig"));sap.ui.core.Fragment.byId("idExportConfigurationFragment","idDownloadConfig").setText(this.oCoreApi.getText("downloadConfig"));sap.ui.core.Fragment.byId("idExportConfigurationFragment","idDownloadTextProperty").setText(this.oCoreApi.getText("downloadTextProperty"));sap.ui.core.Fragment.byId("idExportConfigurationFragment","idCloseButton").setText(this.oCoreApi.getText("close"))},_addStyleClassForExportDialog:function(){sap.ui.core.Fragment.byId("idExportConfigurationFragment","idDownloadConfig").addStyleClass("configLink");sap.ui.core.Fragment.byId("idExportConfigurationFragment","idDownloadTextProperty").addStyleClass("textPropertyLink")},_handleCloseOfExportDialog:function(){if(this.exportConfigurationDialog.isOpen()){this.exportConfigurationDialog.close()}},_handleOpenConfigLinkPress:function(){this.configurationHandler.exportConfiguration(this.configId,function(e,t){o.save(e,t,"json","application/json","utf-8")})},_handleOpenTextsLinkPress:function(){var e=this.configurationHandler.getConfiguration(this.configId).AnalyticalConfigurationName;var t=this.configurationHandler.exportTexts(this.configId);o.save(t,e,"properties","text/plain","utf-8")},_performExportOrExecute:function(e){var i,a,o,n,s,r,d,l;var g=false;var f=true;var c=this;c.selectedNode=c.oTreeInstance.getSelectedItem();c.oSelectedNodeDetails=c.oTreeInstance.getAPFTreeNodeContext(c.selectedNode);c.oParentNodeDetails=c.oTreeInstance.getParentNodeContext(c.oSelectedNodeDetails);var u=t.getInstance();if(this.byId("idConfigDetailData").getContent().length>=1){i=typeof this.byId("idConfigDetailData").getContent()[0].getController==="function"?this.byId("idConfigDetailData").getContent()[0].getController():undefined}if(i!==undefined){f=typeof i.getValidationState==="function"?i.getValidationState.call(i):true}var p=this.configEditor?jQuery.extend(true,{},this.configEditor):undefined;this.bIsSaved=p?p.isSaved():undefined;var T=function(e){c.byId("idConfigDetailData").removeAllContent();if(e){d=(new sap.m.Label).addStyleClass("noConfigSelected");d.setText(c.oCoreApi.getText("noConfigSelected"))}else{d=(new sap.m.Label).addStyleClass("addNewConfig");d.setText(c.oCoreApi.getText("addNewConfig"))}d.placeAt(c.byId("idConfigDetailData"));c.toolbarController.disableCopyDeleteButton();c._enableDisableExportAndExecuteButton(false)};if(!f){u.throwMandatoryPopup(c,{yes:function(){c.configEditor=c.configurationHandler.restoreMemorizedConfiguration(i.getView().getViewData().oParams.arguments.configId);if(c.bIsSaved===false&&c.configEditor){c.configEditor.setIsUnsaved()}o=c._navMandatoryResetState(c);n=c.configurationHandler.getList().length>0?true:false;if(n){if(o.bIsSaved===false){a()}else{if(c.oParentNodeDetails.configId.indexOf("newConfig")!==0){e()}}}else{T(n)}}});g=true}a=function(){u.throwLossOfDataPopup(c,{yes:function(t){c._navSaveState(function(){t(function(t){if(c.selectedNode){s=c.selectedNode._getBindingContext().sPath;l=s.split("/");r=l[2]}c.oModel.getData().aConfigDetails[r].AnalyticalConfiguration=c.configId;c.oModel.updateBindings();e()})})},no:function(){if(c.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0){c._navHandleExpandDelete.call(c,{},{configId:c.configId},c.oParentNodeDetails);c.clearTitleAndBreadCrumb();c.byId("idConfigDetailData").removeAllContent();n=c.configurationHandler.getList().length>0?true:false;T(n)}else{c._navConfigResetState(c,function(){c._navHandleExpandDelete.call(c,c.oSelectedNodeDetails,c.oParentNodeDetails);e()})}}})};if(c.bIsSaved===false&&f){a();g=true}if(!g){e()}},handleExecuteButtonPress:function(){var e=this.oTreeInstance.getSelectedItem();var t=function(){var t=this.oTreeInstance.getAPFTreeNodeContext(e);var i=this.oTreeInstance.getParentNodeContext(t);this.oCoreApi.navigateToGenericRuntime(i.appId,i.configId,n);this.configurationHandler.memorizeConfiguration(i.configId)};this._performExportOrExecute(t.bind(this))},getStepConfigDataBysPath:function(e){var t=e.split("/");var i=t[2],a=t[4],o=t[6],n=t[8];var s=this.oModel.getData().aConfigDetails[i].configData[a].categories[o].steps[n];return s}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/cornerTexts", ["sap/apf/modeler/ui/utils/textPoolHelper"],function(e){"use strict";var t,o,r,a;function n(e){e.byId("idThumbnailTexts").setText(o("cornerTextLabel"));e.byId("idLeftUpper").setPlaceholder(o("leftTop"));e.byId("idRightUpper").setPlaceholder(o("rightTop"));e.byId("idLeftLower").setPlaceholder(o("leftBottom"));e.byId("idRightLower").setPlaceholder(o("rightBottom"))}function i(e){var o=e.byId("idLeftUpper").getCustomData()[1].getValue();var a=e.getLeftUpperCornerText(o,r,t.oParentStep);e.byId("idLeftUpper").setValue(a)}function s(e){var o=e.byId("idRightUpper").getCustomData()[1].getValue();var a=e.getRightUpperCornerText(o,r,t.oParentStep);e.byId("idRightUpper").setValue(a)}function u(e){var o=e.byId("idLeftLower").getCustomData()[1].getValue();var a=e.getLeftLowerCornerText(o,r,t.oParentStep);e.byId("idLeftLower").setValue(a)}function g(e){var o=e.byId("idRightLower").getCustomData()[1].getValue();var a=e.getRightLowerCornerText(o,r,t.oParentStep);e.byId("idRightLower").setValue(a)}var l=sap.ui.core.mvc.Controller.extend("sap.apf.modeler.ui.controller.cornerTexts",{oTextPool:{},onInit:function(){var e=this;t=e.getView().getViewData();a=t.oConfigurationEditor;o=t.oTextReader;r=t.oParentObject;e.oTextPool=t.oTextPool;n(e);e.setDetailData()},setDetailData:function(){var e=this;i(e);s(e);u(e);g(e);e.setChartIcon();e.addStyleClasses()},updateSubViewInstancesOnReset:function(e){var t=this;t.oConfigurationEditor=e.getParameter("oConfigurationEditor");t.oParentObject=e.getParameter("oParentObject");t.setDetailData()},handleChangeForCornerText:function(e){var t=this;var o=e.getSource().getCustomData()[0].getValue();t.oTextPool.setTextAsPromise(e.getSource().getValue().trim(),t.getTranslationFormatMap()).done(function(e){r[o](e);a.setIsUnsaved()})},handleSuggestions:function(e){var t=this;var o=new sap.apf.modeler.ui.utils.SuggestionTextHandler(t.oTextPool);o.manageSuggestionTexts(e,t.getTranslationFormatMap())},setChartIcon:function(){},addStyleClasses:function(){},getTranslationFormatMap:function(){},getLeftUpperCornerText:function(e){},getRightUpperCornerText:function(e){},getLeftLowerCornerText:function(e){},getRightLowerCornerText:function(e){}});return l},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/editApplication.controller", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/ui/core/mvc/Controller"],function(e,t){"use strict";function i(e){var t=e.coreApi.getText;e.byId("idEditAppDialog").setTitle(t("editApplication"));e.byId("idDescriptionLabel").setText(t("description"));if(e.coreApi.showSemanticObject()){e.byId("idSemanticObjectLabel").setText(t("semanticObject"))}e.byId("idSaveButton").setText(t("save"));e.byId("idCancelButton").setText(t("cancel"))}var a=t.extend("sap.apf.modeler.ui.controller.editApplication",{onInit:function(){var e=this;this.parentControl=e.getView().getViewData().parentControl;this.coreApi=e.getView().getViewData().coreApi;this.applicationData=e.getView().getViewData().applicationData;e.byId("idDescriptionInput").setValue(this.applicationData.description);if(this.coreApi.showSemanticObject()){e.byId("idSemanticObjectInput").setValue(this.applicationData.semanticObject)}else{e.byId("idSemanticObjectInput").setValue("");e.byId("idSemanticObjectBox").setVisible(false)}i(e);e.byId("idEditAppDialog").open()},handleAppDescriptionLiveChange:function(t){var i=t.getParameters().value;if(i!==this.applicationData.description&&e.checkIsNotNullOrUndefinedOrBlank(i)){this.byId("idSaveButton").setEnabled(true)}else if(!e.checkIsNotNullOrUndefinedOrBlank(i)){this.byId("idSaveButton").setEnabled(false)}},handleSemanticObjectLiveChange:function(t){var i=t.getParameters().value;var a=this.byId("idDescriptionInput").getValue().trim();if(i!==this.applicationData.semanticObject&&e.checkIsNotNullOrUndefinedOrBlank(a)){this.byId("idSaveButton").setEnabled(true)}},handleSavePress:function(){var t=this;var i={};i.ApplicationName=t.byId("idDescriptionInput").getValue().trim();i.SemanticObject=t.byId("idSemanticObjectInput").getValue().trim();i.Application=t.applicationData.id;this.coreApi.getApplicationHandler(function(a,n){if(a&&!e.checkIsNotUndefined(n)){a.setAndSave(i,function(i,a,s){if(!e.checkIsNotUndefined(s)&&typeof i==="string"){t.parentControl.fireEvent("updateAppListEvent",{appId:i})}else{t.showMessage("11500",n)}},t.applicationData.id)}else{t.showMessage("11509",n)}});t.byId("idEditAppDialog").close()},handleCancelPress:function(){this.byId("idEditAppDialog").close()},handleAfterClose:function(){this.getView().destroy()},showMessage:function(e,t){var i=this.coreApi.createMessageObject({code:e});if(t){i.setPrevious(t)}this.coreApi.putMessage(i)}});return a});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/facetFilter.controller", ["sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/textManipulator"],function(e,t,i,l,a){"use strict";var n,s,o,d,r,u,c;var t=sap.apf.modeler.ui.utils.nullObjectChecker;var i=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var a=sap.apf.modeler.ui.utils.textManipulator;var f=sap.apf.modeler.ui.utils.TranslationFormatMap.FACETFILTER_LABEL;function I(e){e.byId("idFacetFilterBasicData").setText(s("basicData"));e.byId("idFFLabel").setText(s("ffLabel"));e.byId("idLabel").setPlaceholder(s("newFacetFilter"));e.byId("idFFPropertyLabel").setText(s("ffProperty"));e.byId("idDoNotShowAtRuntimeLabel").setText(s("doNotShowAtRuntime"));e.byId("idSelectionModeLabel").setText(s("ffSelectionMode"));e.byId("idValueHelpLabel").setText(s("valueHelpMode"));e.byId("idVHNone").setText(s("none"));e.byId("idValueHelpRequest").setText(s("valueHelpRequest"));e.byId("idConfigListOfValues").setText(s("configListOfValues"));e.byId("idConfigListOfValuesLabel").setText(s("configListOfValuesLabel"));e.byId("idSingleSelectionMode").setText(s("singleSelection"));e.byId("idMultiSelectionMode").setText(s("multipleSelection"));e.byId("idDefaultValuesTitle").setText(s("vhDefaultValues"));e.byId("idPreselectionModeLabel").setText(s("vhDefaultValueMode"));e.byId("idNoneSelection").setText(s("none"));e.byId("idAutomaticSelection").setText(s("automaticValue"));e.byId("idFixedValue").setText(s("fixedValues"));e.byId("idFunction").setText(s("function"));e.byId("idPreselectionDefaultsLabel").setText(s("vhDefaultValues"));e.byId("idPreselectionFunctionLabel").setText(s("function"));e.byId("idValueHelpTitle").setText(s("valueHelp"));e.byId("idFilterResolutionTitle").setText(s("contextResolution"));e.byId("idUseVHRAsFRRCheckBoxLabel").setText(s("vhCheckBoxLabel"));e.byId("idAriaPropertyForSelection").setText(s("ffSelectionMode"));e.byId("idAriaPropertyForDefaultMode").setText(s("vhDefaultValueMode"));e.byId("idAriaPropertyForVHR").setText(s("valueHelpMode"))}function b(e,t){var i=u.isVisible()?"sap-icon://filter":"sap-icon://hide";var l={id:u.getId(),icon:i};if(t){delete l.icon;l.name=t}e.getView().getViewData().updateSelectedNode(l)}function V(e,t){var i=s("facetFilter")+": "+t;e.getView().getViewData().updateTitleAndBreadCrumb(i)}function p(e){var i;if(n&&n.arguments&&n.arguments.facetFilterId){u=d.getFacetFilter(n.arguments.facetFilterId)}if(!t.checkIsNotUndefined(u)){i=d.createFacetFilter();u=d.getFacetFilter(i);b(e)}}function S(e){var t,i,l,a;var n={oTextReader:s,oConfigurationHandler:o,oConfigurationEditor:d,oParentObject:u,getCalatogServiceUri:e.getView().getViewData().getCalatogServiceUri,oCoreApi:e.getView().getViewData().oCoreApi};t=new sap.ui.controller("sap.apf.modeler.ui.controller.facetFilterVHR");l=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.requestOptions",type:sap.ui.core.mvc.ViewType.XML,id:e.createId("idVHRView"),viewData:n,controller:t});i=new sap.ui.controller("sap.apf.modeler.ui.controller.facetFilterFRR");a=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.requestOptions",type:sap.ui.core.mvc.ViewType.XML,id:e.createId("idFRRView"),viewData:n,controller:i});l.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.UPDATEPROPERTIES,e.setFFProperty.bind(e));a.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.UPDATEPROPERTIES,e.setFFProperty.bind(e));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.USESAMEASVHR,a.getController().handleCopy.bind(a.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.ENABLEDISABLEFRRFIELDS,a.getController().enableOrDisableView.bind(a.getController()));l.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.USESAMEASVHR,a.getController().handleCopy.bind(a.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,l.getController().updateSubViewInstancesOnReset.bind(l.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,a.getController().updateSubViewInstancesOnReset.bind(a.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.DONOTSHOWATRUNTIME,l.getController().clearVHRFields.bind(l.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.CLEARVHRFIELDSIFVALUELIST,l.getController().clearVHRFields.bind(l.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.DONOTSHOWATRUNTIME,a.getController().clearFRRFields.bind(a.getController()));l.addStyleClass("formTopPadding");l.addStyleClass("formBottomPadding");a.addStyleClass("formTopPadding")}function g(e,t){e.byId("idSelectionMode").setVisible(t);e.byId("idSelectionModeLabel").setVisible(t);e.byId("idSelectionModeRadioGroup").setSelectedButton(e.byId("idMultiSelectionMode"));e.byId("idValueHelp").setVisible(t);e.byId("idValueHelpLabel").setVisible(t);e.byId("idValueHelpRadioGroup").setSelectedButton(e.byId("idVHNone"));e.byId("idFFForm1").setVisible(t);if(t){e.byId("idValueHelpTitle").setText(s("valueHelp"));e.byId("idFRRVBox").insertItem(e.byId("idFRRView"));e.byId("idDoNotShowAtRuntimeCheckBox").setSelected(false)}else{e.byId("idValueHelpTitle").setText("");O(e,t);P(e,t);e.byId("idFRRVBox").removeItem(e.byId("idFRRView"))}}function y(e){if(!u.isVisible()){e.byId("idDoNotShowAtRuntimeCheckBox").setSelected(true)}g(e,u.isVisible())}function F(e){if(!t.checkIsNotNullOrUndefinedOrBlank(d.getFacetFilter(n.arguments.facetFilterId))){return}if(t.checkIsNotNullOrUndefinedOrBlank(u.getLabelKey())&&r.get(u.getLabelKey())){e.byId("idLabel").setValue(r.get(u.getLabelKey()).TextElementDescription)}else{e.byId("idLabel").setValue(u.getId())}}function v(e){if(!t.checkIsNotNullOrUndefinedOrBlank(d.getFacetFilter(n.arguments.facetFilterId))){u.setMultiSelection(true)}if(u.isMultiSelection()){e.byId("idSelectionModeRadioGroup").setSelectedButton(e.byId("idMultiSelectionMode"))}else{e.byId("idSelectionModeRadioGroup").setSelectedButton(e.byId("idSingleSelectionMode"))}}function T(e){e.byId("idPreselectionFunction").setValue("");if(t.checkIsNotNullOrUndefinedOrBlank(u.getPreselectionFunction())){e.byId("idPreselectionFunction").setValue(u.getPreselectionFunction())}}function R(e){var i=false,l=false;if(u.getNoneSelection()){e.byId("idPreselectionModeRadioGroup").setSelectedButton(e.byId("idNoneSelection"))}else if(t.checkIsNotNullOrUndefinedOrBlank(u.getPreselectionFunction())){e.byId("idPreselectionModeRadioGroup").setSelectedButton(e.byId("idFunction"));T(e);i=true}else if(t.checkIsNotNullOrUndefinedOrBlank(u.getPreselectionDefaults())){e.byId("idPreselectionModeRadioGroup").setSelectedButton(e.byId("idFixedValue"));N(e);l=true}else if(u.getAutomaticSelection()){e.byId("idPreselectionModeRadioGroup").setSelectedButton(e.byId("idAutomaticSelection"))}h(e,i);m(e,l)}function h(e,t){e.byId("idPreselectionFunctionLabel").setVisible(t);e.byId("idPreselectionFunction").setVisible(t);if(t){c.addField("idPreselectionFunction")}else{e.byId("idPreselectionFunction").setValue("");c.removeField("idPreselectionFunction")}}function m(e,t){e.byId("idPreselectionDefaultsLabel").setVisible(t);e.byId("idPreselectionDefaults").setVisible(t);if(t){c.addField("idPreselectionDefaults")}else{c.removeField("idPreselectionDefaults")}}function N(e){e.byId("idPreselectionDefaults").setTokens([]);var i=u.getPreselectionDefaults();if(t.checkIsNotNullOrUndefinedOrBlank(i)){i.forEach(function(t){e.byId("idPreselectionDefaults").addToken(new sap.m.Token({text:t}))})}}function C(e){e.byId("idConfigListOfValuesMultiInput").setTokens([]);var i=u.getValueList();if(t.checkIsNotNullOrUndefinedOrBlank(i)){i.forEach(function(t){e.byId("idConfigListOfValuesMultiInput").addToken(new sap.m.Token({text:t}))})}}function P(e,t){e.byId("idConfigListOfValuesLabel").setVisible(t);e.byId("idConfigListOfValuesMultiInput").setVisible(t);if(t){c.addField("idConfigListOfValuesMultiInput")}else{c.removeField("idConfigListOfValuesMultiInput")}}function O(e,t){e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.ENABLEDISABLEFRRFIELDS);E(e,t);if(t){e.byId("idVHRVBox").insertItem(e.byId("idVHRView"))}else{e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.CLEARVHRFIELDSIFVALUELIST);e.byId("idVHRVBox").removeItem(e.byId("idVHRView"))}}function A(e){if(u.getUseSameRequestForValueHelpAndFilterResolution()){e.byId("idUseVHRAsFRRCheckBox").setSelected(true);e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.ENABLEDISABLEFRRFIELDS)}}function L(e){var i=false,l=false;if(t.checkIsNotNullOrUndefinedOrBlank(u.getServiceOfValueHelp())){i=true;e.byId("idValueHelpRadioGroup").setSelectedButton(e.byId("idValueHelpRequest"))}else if(t.checkIsNotNullOrUndefinedOrBlank(u.getValueList())){C(e);l=true;e.byId("idValueHelpRadioGroup").setSelectedButton(e.byId("idConfigListOfValues"))}else{e.byId("idValueHelpRadioGroup").setSelectedButton(e.byId("idVHNone"))}P(e,l);O(e,i)}function E(e,t){if(t===false){e.byId("idUseVHRAsFRRCheckBox").setSelected(false)}e.byId("idUseVHRAsFRRCheckBox").setVisible(t);e.byId("idUseVHRAsFRRCheckBoxLabel").setVisible(t)}function D(e,t){t.byId("idPreselectionDefaults").setValueState(sap.ui.core.ValueState.Warning);t.byId("idPreselectionDefaults").setValueStateText(s(e));t.byId("idPreselectionDefaults").focus()}function x(e,t){var i=new sap.m.Token({text:e});t.addToken(i);d.setIsUnsaved()}function w(e,t){if(e.mEventRegistry.tokenChange===undefined){e.attachTokenChange(t)}}sap.ui.controller("sap.apf.modeler.ui.controller.facetFilter",{onInit:function(){var e=this;var t=e.getView().getViewData();s=t.getText;n=t.oParams;o=t.oConfigurationHandler;r=o.getTextPool();d=t.oConfigurationEditor;if(!d){o.loadConfiguration(n.arguments.configId,function(e){d=e})}c=new sap.apf.modeler.ui.utils.ViewValidator(e.getView());I(e);p(e);S(e);e.setDetailData();c.addFields(["idFFProperty","idLabel"])},onAfterRendering:function(){var e=this;if(e.byId("idLabel").getValue().length===0){e.byId("idLabel").focus()}w(e.byId("idConfigListOfValuesMultiInput"),e.handleTokenChangeForConfigListOfValues.bind(e));w(e.byId("idPreselectionDefaults"),e.handleTokenChangeForPreselectionDefaults.bind(e))},setDetailData:function(){var e=this;y(e);e.setFFProperty();F(e);v(e);R(e);L(e);A(e)},updateSubViewInstancesOnReset:function(e){var t=this;d=e;u=d.getFacetFilter(u.getId());t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,{oConfigurationEditor:d,oParentObject:u})},validateSelectedValues:function(e,t,i){var l={},n=[],o=[],d=[],r=[],u;l=sap.apf.utils.validateSelectedValues(t,i);n=l.invalid;o=l.valid;d=a.addPrefixText(n,s);r=d.concat(i).length!==0?d.concat(i):i;u=d.concat(o).length!==0?d.concat(o):t;return{aValues:r,aSelectedValues:u}},setFFProperty:function(){var e=this;var l=[],a,n;d.getFilterablePropertiesAndParametersAsPromise().done(function(s){l=s;n=u.getProperty();if(t.checkIsNotNullOrUndefinedOrBlank(n)){a=e.validateSelectedValues(e,[n],l);l=a.aValues;n=a.aSelectedValues[0]}var o=i.convert(l);e.byId("idFFProperty").setModel(o);e.byId("idFFProperty").setSelectedKey(n)})},handleChangeForVisibilityAtRuntime:function(){var e=this,t=true;if(e.byId("idDoNotShowAtRuntimeCheckBox").getSelected()){t=false;u.setInvisible();u.setUseSameRequestForValueHelpAndFilterResolution(false);e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.ENABLEDISABLEFRRFIELDS);e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.DONOTSHOWATRUNTIME);u.setValueList([]);C(e)}else{u.setVisible()}u.setMultiSelection(true);d.setIsUnsaved();b(e);g(e,t)},handleChangeForProperty:function(){var e=this;var i=e.byId("idFFProperty").getSelectedKey().trim();i=a.removePrefixText(i,s(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));if(t.checkIsNotNullOrUndefinedOrBlank(i)){u.setProperty(i)}d.setIsUnsaved()},handleChangeForLabel:function(){var e=this;var i=e.byId("idLabel").getValue().trim();if(t.checkIsNotNullOrUndefinedOrBlank(i)){r.setTextAsPromise(i,f).done(function(t){u.setLabelKey(t);b(e,i);V(e,i);d.setIsUnsaved()})}else{d.setIsUnsaved()}},handleSuggestions:function(e){var t=new sap.apf.modeler.ui.utils.SuggestionTextHandler(r);t.manageSuggestionTexts(e,f)},handleChangeForSelectionMode:function(){var e=this,t,i;var l=e.byId("idSelectionModeRadioGroup").getSelectedButton();if(l===e.byId("idSingleSelectionMode")){u.setMultiSelection(false);if(e.byId("idPreselectionDefaultsLabel").getVisible()){t=u.getPreselectionDefaults();if(t&&t.length>1){u.setPreselectionDefaults([t[0]]);i=new sap.m.Token({text:t[0]});e.byId("idPreselectionDefaults").setTokens([i]);D("singleToMultipleSelectionWarningMessage",e)}}}else{e.byId("idPreselectionDefaults").setValueState(sap.ui.core.ValueState.None);u.setMultiSelection(true)}d.setIsUnsaved()},handleChangeForPreselectionMode:function(){var e=this,t=false,i=false,l=false,a=false;switch(e.byId("idPreselectionModeRadioGroup").getSelectedButton()){case e.byId("idAutomaticSelection"):t=true;break;case e.byId("idFunction"):i=true;u.removePreselectionDefaults();break;case e.byId("idFixedValue"):l=true;u.removePreselectionFunction();break;default:a=true}u.setAutomaticSelection(t);u.setNoneSelection(a);N(e);T(e);m(e,l);h(e,i);d.setIsUnsaved()},handleChangeForPreselectionDefaults:function(e){var t=this;t.byId("idPreselectionDefaults").setValue("");t.byId("idPreselectionDefaults").setValueState(sap.ui.core.ValueState.None);if(!u.isMultiSelection()){if(t.byId("idPreselectionDefaults").getTokens().length<1){t.byId("idPreselectionDefaults").setValueState(sap.ui.core.ValueState.None);x(e.getParameter("value"),t.byId("idPreselectionDefaults"))}else{D("singleSelectionWarningMessage",t)}}else{x(e.getParameter("value"),t.byId("idPreselectionDefaults"))}},handleTokenChangeForPreselectionDefaults:function(e){var t=this;var i,l=[];var a=t.byId("idPreselectionDefaults").getTokens();t.byId("idPreselectionDefaults").setValueState(sap.ui.core.ValueState.None);if(e.getParameters().type==="removed"||e.getParameters().type==="added"){for(i=0;i<a.length;i++){l[i]=a[i].getText()}if(u.isMultiSelection()){u.setPreselectionDefaults(l)}else{u.setPreselectionDefaults([l[0]])}if(e.getParameters().type==="removed"){d.setIsUnsaved()}}},handleChangeForPreselectionFunction:function(){var e=this;var i=e.byId("idPreselectionFunction").getValue().trim();u.removePreselectionFunction();if(t.checkIsNotNullOrUndefinedOrBlank(i)){u.setPreselectionFunction(i)}d.setIsUnsaved()},handleChangeForUseVHRAsFRRCheckBox:function(){var e=this;if(e.byId("idUseVHRAsFRRCheckBox").getSelected()){u.setUseSameRequestForValueHelpAndFilterResolution(true)}else{u.setUseSameRequestForValueHelpAndFilterResolution(false)}e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.ENABLEDISABLEFRRFIELDS);e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.USESAMEASVHR);d.setIsUnsaved()},handleChangeForValueHelpOption:function(){var e=this,t=false,i=false;switch(e.byId("idValueHelpRadioGroup").getSelectedButton()){case e.byId("idValueHelpRequest"):t=true;u.setValueList([]);break;case e.byId("idConfigListOfValues"):i=true;u.setAlias(undefined);break;default:u.setAlias(undefined);u.setValueList([])}if(u.getUseSameRequestForValueHelpAndFilterResolution()===true){u.setUseSameRequestForValueHelpAndFilterResolution(false);e.byId("idUseVHRAsFRRCheckBox").setSelected(false)}C(e);P(e,i);O(e,t);d.setIsUnsaved()},handleChangeForConfigListOfValues:function(e){var t=this;t.byId("idConfigListOfValuesMultiInput").setValue("");x(e.getParameter("value"),t.byId("idConfigListOfValuesMultiInput"))},handleTokenChangeForConfigListOfValues:function(e){var t=this;var i,l=[];var a=t.byId("idConfigListOfValuesMultiInput").getTokens();if(e.getParameters().type==="removed"||e.getParameters().type==="added"){for(i=0;i<a.length;i++){l[i]=a[i].getText()}u.setValueList(l);if(e.getParameters().type==="removed"){d.setIsUnsaved()}}},getValidationState:function(){var e=this;return c.getValidationState()&&e.byId("idVHRView").getController().getValidationState()&&e.byId("idFRRView").getController().getValidationState()},onExit:function(){var e=this;e.byId("idVHRView").destroy();e.byId("idFRRView").destroy()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/facetFilterFRR.controller", ["sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/textPoolHelper"],function(e,t){"use strict";var r=false;var i=e.extend("sap.apf.modeler.ui.controller.facetFilterFRR",{setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("vhSource"));e.byId("idEntityLabel").setText(t("vhEntity"));e.byId("idSelectPropertiesLabel").setText(t("vhSelectProperties"))},handleCopy:function(){var e=this;e.setDetailData()},clearFRRFields:function(){var e=this;e.clearSource();e.setDetailData()},enableOrDisableView:function(){var e=true,t=this;if(t.oParentObject.getUseSameRequestForValueHelpAndFilterResolution()===true){e=false}t.byId("idSource").setEnabled(e);t.byId("idEntity").setEnabled(e);t.byId("idSelectProperties").setEnabled(e)},getSource:function(){var e=this;return e.oParentObject.getServiceOfFilterResolution()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(e)},getEntity:function(){var e=this;return e.oParentObject.getEntitySetOfFilterResolution()},getAllEntitySetPropertiesAsPromise:function(e,t){var r=this;return r.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},clearSource:function(){var e=this;e.oParentObject.setServiceOfFilterResolution(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setEntitySetOfFilterResolution(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getSelectPropertiesOfFilterResolution();t.forEach(function(t){e.oParentObject.removeSelectPropertyOfFilterResolution(t)})},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeSelectPropertyOfFilterResolution(e)})},updateSource:function(e){var t=this;t.oParentObject.setServiceOfFilterResolution(e);r=true},updateEntity:function(e){var t=this;t.oParentObject.setEntitySetOfFilterResolution(e)},updateSelectProperties:function(e){var t=this;t.clearSelectProperties();e.forEach(function(e){t.oParentObject.addSelectPropertyOfFilterResolution(e)})},getSelectProperties:function(){var e=this;return e.oParentObject.getSelectPropertiesOfFilterResolution()},fireRelevantEvents:function(){var e=this;if(r){e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.UPDATEPROPERTIES);r=false}},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()}});return i});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/facetFilterVHR.controller", ["sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder"],function(e,t,i){"use strict";var t=sap.apf.modeler.ui.utils.nullObjectChecker;var i=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var r=sap.apf.modeler.ui.utils.textManipulator;var a=sap.apf.modeler.ui.controller.requestOptions.extend("sap.apf.modeler.ui.controller.facetFilterVHR",{setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("vhSource"));e.byId("idEntityLabel").setText(t("vhEntity"));e.byId("idSelectPropertiesLabel").setText(t("vhSelectProperties"));e.byId("idOptionalRequestFieldLabel").setText(t("ffAlias"))},clearVHRFields:function(e){var t=this;t.clearSource();t.addOrRemoveMandatoryFieldsAndRequiredFlag(false,e);t.setDetailData()},onBeforeRendering:function(){var e=this;var t=new sap.ui.layout.GridData({span:"L6 M6 S6"});e.byId("idOptionalRequestField").setLayoutData(t);e.byId("idOptionalRequestFieldLabel").setVisible(true);e.byId("idOptionalRequestField").setVisible(true);e.byId("idOptionalRequestField").setForceSelection(false)},onAfterRendering:function(){var e=this;e.addOrRemoveMandatoryFieldsAndRequiredFlag(true)},fireRelevantEvents:function(e){var t=this,i;var a=t.getView().getViewData().oTextReader;if(e.getSource()===t.byId("idSource")){t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.UPDATEPROPERTIES)}if(e.getSource()!==t.byId("idOptionalRequestField")){i=[r.removePrefixText(t.byId("idOptionalRequestField").getSelectedKey(),a(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE))];t.updateOptionalRequestFieldProperty(i)}if(t.oParentObject.getUseSameRequestForValueHelpAndFilterResolution()){t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.USESAMEASVHR)}},setOptionalRequestFieldProperty:function(){var e=this;var r=[],a,l;r=e.byId("idSelectProperties").getSelectedKeys();l=e.oParentObject.getAlias();if(t.checkIsNotNullOrUndefinedOrBlank(l)){a=e.validateSelectedValues(e,[l],r);l=a.aSelectedValues[0]}var n=i.convert(r);e.byId("idOptionalRequestField").setModel(n);e.byId("idOptionalRequestField").setSelectedKey(l)},updateOptionalRequestFieldProperty:function(e){var i=this;i.oParentObject.setAlias(undefined);if(t.checkIsNotNullOrUndefinedOrBlank(e[0])){i.oParentObject.setAlias(e[0])}},removeOptionalRequestFieldProperty:function(e){var i=this;if(t.checkIsNotNullOrUndefinedOrBlank(e[0])){i.oParentObject.setAlias(undefined)}},addOrRemoveMandatoryFieldsAndRequiredFlag:function(e,t){var i=this;if(e===false&&t===undefined){return}i.byId("idSourceLabel").setRequired(e);i.byId("idEntityLabel").setRequired(e);i.byId("idSelectPropertiesLabel").setRequired(e);if(e){i.viewValidator.addFields(["idSource","idEntity","idSelectProperties"])}else{i.viewValidator.removeFields(["idSource","idEntity","idSelectProperties"])}},getSource:function(){var e=this;return e.oParentObject.getServiceOfValueHelp()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(e)},getEntity:function(){var e=this;return e.oParentObject.getEntitySetOfValueHelp()},getAllEntitySetPropertiesAsPromise:function(e,t){var i=this;return i.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},clearSource:function(){var e=this;e.oParentObject.setServiceOfValueHelp(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setEntitySetOfValueHelp(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getSelectPropertiesOfValueHelp();t.forEach(function(t){e.oParentObject.removeSelectPropertyOfValueHelp(t)});e.clearOptionalRequestFieldProperty()},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeSelectPropertyOfValueHelp(e)})},clearOptionalRequestFieldProperty:function(){var e=this;e.oParentObject.setAlias(undefined)},updateSource:function(e){var t=this;t.oParentObject.setServiceOfValueHelp(e)},updateEntity:function(e){var t=this;t.oParentObject.setEntitySetOfValueHelp(e)},updateSelectProperties:function(e){var t=this;t.removeSelectProperties(t.oParentObject.getSelectPropertiesOfValueHelp());e.forEach(function(e){t.oParentObject.addSelectPropertyOfValueHelp(e)})},getSelectProperties:function(){var e=this;return e.oParentObject.getSelectPropertiesOfValueHelp()},getOptionalRequestFieldProperty:function(){var e=this;return[e.oParentObject.getAlias()]},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()}});return a},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/hierarchicalStepRequest.controller", ["sap/apf/modeler/ui/controller/stepRequest.controller","sap/apf/modeler/ui/utils/textManipulator","sap/ui/thirdparty/jquery"],function(e,t,jQuery){"use strict";var t=sap.apf.modeler.ui.utils.textManipulator;var r=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var i=sap.apf.modeler.ui.utils.nullObjectChecker;return e.extend("sap.apf.modeler.ui.controller.hierarchicalStepRequest",{onBeforeRendering:function(){var e=this;e.byId("idOptionalPropertyLabel").setVisible(true);e.byId("idOptionalProperty").setVisible(true);e.byId("idOptionalRequestFieldLabel").setVisible(true);e.byId("idOptionalRequestField").setVisible(true);e.byId("idOptionalLabelDisplayOptionType").setVisible(true);e.byId("idOptionalSelectedPropertyLabel").setVisible(true);e.byId("idOptionalSelectedPropertyLabelText").setVisible(true)},setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("hierarchicalEntity"));e.byId("idOptionalPropertyLabel").setText(t("hierarchicalProperty"));e.byId("idSelectPropertiesLabel").setText(t("nonHierarchicalProperty"));e.byId("idOptionalRequestFieldLabel").setText(t("requiredFilters"))},setOptionalHierarchicalProperty:function(){var e=this;var t=jQuery.Deferred();var a,l,o,d;l=e.byId("idSource").getValue();o=e.byId("idEntity").getSelectedKey();e.byId("idOptionalProperty").setModel(null);e.byId("idOptionalProperty").clearSelection();if(!i.checkIsNotNullOrUndefinedOrBlank(l)){t.resolve();return t.promise()}e.getHierarchicalProperty(l,o).done(function(l){var o=e.getSelectedHierarchicalProperty();if(i.checkIsNotNullOrUndefinedOrBlank(o)){d=e.validateSelectedValues(e,[o],l);l=d.aValues;o=d.aSelectedValues[0]}a=r.convert(l);e.byId("idOptionalProperty").setModel(a);if(!i.checkIsNotNullOrUndefinedOrBlank(o)||l.indexOf(o)===-1){o=l[0];if(i.checkIsNotNullOrUndefinedOrBlank(o)){e.byId("idOptionalProperty").setSelectedKey(o)}t.resolve()}else if(i.checkIsNotNullOrUndefinedOrBlank(o)){e.byId("idOptionalProperty").setSelectedKey(o);t.resolve()}});return t.promise()},setOptionalRequestFieldProperty:function(){var e=this;var t,a,l,o,d,n=[],s,c,u,y;d=[e.getView().getViewData().oTextReader("none")];s=e.oParentObject.getService();c=e.oParentObject.getEntitySet();u=e.getSelectedHierarchicalProperty();t=d;l=d[0];if(s&&c&&u){e.getHierarchyNodeIdAsPromise(s,c,u).done(function(r){o=e.oParentObject.getFilterProperties();if(i.checkIsNotNullOrUndefinedOrBlank(o)){n=e.validateSelectedValues(e,o,[r]);o=n.aValues;l=n.aSelectedValues}if(r){y={key:r,name:u};t=t.concat(y)}else{t=t.concat(o)}})}a=r.convert(t);e.byId("idOptionalRequestField").setModel(a);e.byId("idOptionalRequestField").setSelectedKey(l)},handleChangeForOptionalProperty:function(e){var r=this;var i=r.getView().getViewData().oTextReader;var a=t.removePrefixText(r.byId("idOptionalProperty").getSelectedKey(),i(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));r.updateHierarchicalProperty(a);r.clearOptionalRequestFieldProperty();r.setOptionalRequestFieldProperty();r.oConfigurationEditor.setIsUnsaved();r.fireRelevantEvents(e)},addOrRemoveMandatoryFieldsAndRequiredFlag:function(e){var t=this;if(e===false){return}t.byId("idSourceLabel").setRequired(e);t.byId("idEntityLabel").setRequired(e);t.byId("idOptionalPropertyLabel").setRequired(e);t.viewValidator.addFields(["idSource","idEntity","idOptionalProperty"])},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllHierarchicalEntitySetsOfServiceAsPromise(e)},getHierarchicalProperty:function(e,t){var r=this;return r.oConfigurationEditor.getHierarchicalPropertiesOfEntitySetAsPromise(e,t)},getHierarchyNodeIdAsPromise:function(e,t,r){var i=this;return i.oConfigurationEditor.getHierarchyNodeIdAsPromise(e,t,r)},getSelectedHierarchicalProperty:function(){var e=this;return e.oParentObject.getHierarchyProperty()},getAllEntitySetPropertiesAsPromise:function(e,t){var r=this;return r.oConfigurationEditor.getNonHierarchicalPropertiesOfEntitySet(e,t)},resetEntityAndProperties:function(){var e=this;e.clearEntity();e.byId("idEntity").setModel(null);e.byId("idEntity").setSelectedKey(undefined);e.clearHierarchicalProperty();e.byId("idOptionalProperty").setModel(null);e.byId("idOptionalProperty").setSelectedKey(undefined);e.clearSelectProperties();e.byId("idSelectProperties").setModel(null);e.byId("idSelectProperties").setSelectedKeys([])},clearHierarchicalProperty:function(){var e=this;e.oParentObject.setHierarchyProperty(undefined)},updateHierarchicalProperty:function(e){var t=this;t.clearHierarchicalProperty();t.oParentObject.setHierarchyProperty(e)}})});
sap.ui.predefine("sap/apf/modeler/ui/controller/importDeliveredContent.controller", ["sap/apf/modeler/ui/controller/overwriteExistingConfiguration","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/ui/thirdparty/jquery"],function(e,t,i,jQuery){"use strict";var o,a,n;var t=sap.apf.modeler.ui.utils.nullObjectChecker;var i=sap.apf.modeler.ui.utils.optionsValueModelBuilder;function r(e){var t=o.getText;e.byId("idImportDeliveredContentDialog").setTitle(t("importDeliveredContent"));e.byId("idConfigLabel").setText(t("configuration"));e.byId("idAppConfigCombobox").setPlaceholder(t("configFileInputPlaceHolder"));e.byId("idImportOfConfig").setText(t("import"));e.byId("idCancelImportOfConfig").setText(t("cancel"))}function l(e){var t,a,n;a=o.readAllConfigurationsFromVendorLayer();a.then(function(a){n={applicationText:o.getText("application"),configurationText:o.getText("configuration")};a=[n].concat(a);t=i.prepareModel(a);var r=e.byId("idAppConfigCombobox");r.setModel(t);r.getItems()[0].setEnabled(false);e.byId("idImportDeliveredContentDialog").open()})}function d(e,t,i,a){var r=new sap.ui.core.CustomData({value:{callbackOverwrite:t,callbackCreateNew:i}});n=sap.ui.xmlfragment("idOverwriteConfirmationFragment","sap.apf.modeler.ui.fragment.overwriteConfirmation",e);e.getView().addDependent(n);e.setOverwriteConfirmationDialogText(o.getText);n.removeAllCustomData();n.addCustomData(r);sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setValue(a);n.open()}function p(e){var t=e.byId("idImportDeliveredContentDialog");if(n&&n.isOpen()){e.handleCancelOfOverwriteDialog()}if(t&&t.isOpen()){e.handleCancelOfImportDialog()}}function f(e,i,n){var r=this;if(!t.checkIsNotUndefined(n)){a.fireEvent("updateAppListEvent");var l=o.createMessageObject({code:"11515"});o.putMessage(l)}else{var l=o.createMessageObject({code:"11502"});l.setPrevious(n);o.putMessage(l)}p(r)}return e.extend("sap.apf.modeler.ui.controller.importDeliveredContent",{onInit:function(){var e=this;o=e.getView().getViewData().oCoreApi;a=e.getView().getViewData().oParentControl;r(e);l(e)},handleChangeOfAppConfigTextField:function(){var e=this,t,i;i=e.byId("idAppConfigCombobox");t=i.getItems().filter(function(e){return e.getText()===i.getValue()});if(!t.length){jQuery(i).focus();jQuery(".appCofigCombo").find("input").focus();i.setValueState(sap.ui.core.ValueState.Error)}},handleSelectionChangeOfAppConfigTextField:function(){var e=this;e.byId("idAppConfigCombobox").setValueState(sap.ui.core.ValueState.None)},handleImportPress:function(){var e=this;var i=e.byId("idAppConfigCombobox");e.handleChangeOfAppConfigTextField();if(t.checkIsNotNullOrUndefinedOrBlank(i.getSelectedItem())){var a=i.getSelectedItem().data("value").split(".");var n=a[0];var r=a[1];o.importConfigurationFromVendorLayer(n,r,function(t,i,o){d(e,t,i,o)},f.bind(e))}},handleCancelOfImportDialog:function(){var e=this;e.getView().destroy()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/importFiles.controller", ["sap/apf/modeler/ui/controller/overwriteExistingConfiguration","sap/apf/modeler/ui/utils/nullObjectChecker"],function(e,t){"use strict";var i,l,a,o,r;function n(e){var t=i.getText;e.byId("idImportFilesDialog").setTitle(t("importConfig"));e.byId("idJsonFileLabel").setText(t("jsonFile"));e.byId("idJsonFileUploader").setPlaceholder(t("jsonFileInputPlaceHolder"));e.byId("idTextFileLabel").setText(t("textFile"));e.byId("idTextFileUploader").setPlaceholder(t("textFileInputPlaceHolder"));e.byId("idUploadOfConfig").setText(t("upload"));e.byId("idCancelImportOfConfig").setText(t("cancel"))}function s(e,t,l,a){var r=new sap.ui.core.CustomData({value:{callbackOverwrite:t,callbackCreateNew:l}});o=sap.ui.xmlfragment("idOverwriteConfirmationFragment","sap.apf.modeler.ui.fragment.overwriteConfirmation",e);e.getView().addDependent(o);e.setOverwriteConfirmationDialogText(i.getText);o.removeAllCustomData();o.addCustomData(r);sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setValue(a);o.open()}function d(e){var t=i.createMessageObject({code:e});i.putMessage(t)}function c(e,a,o){var r=this;var n=r.byId("idTextFileUploader");if(!t.checkIsNotUndefined(o)){l.fireEvent("updateAppListEvent");d("11515");if(n&&n.getValue()){n.upload()}else{r.closeAllOpenDialogs()}}else{var s=i.createMessageObject({code:"11502"});s.setPrevious(o);i.putMessage(s);r.closeAllOpenDialogs()}}function p(e,l){i.importTexts(l,function(e){if(!t.checkIsNotUndefined(e)){d("11516")}else{var l=i.createMessageObject({code:"11503"});l.setPrevious(e);i.putMessage(l)}});e.closeAllOpenDialogs()}return e.extend("sap.apf.modeler.ui.controller.importFiles",{onInit:function(){var e=this;i=e.getView().getViewData().oCoreApi;l=e.getView().getViewData().oParentControl;i.getApplicationHandler(function(e,l){if(e&&!t.checkIsNotUndefined(l)){a=e}else{var o=i.createMessageObject({code:"11508"});o.setPrevious(l);i.putMessage(o)}});n(e);e.byId("idImportFilesDialog").setInitialFocus("true");e.byId("idImportFilesDialog").open()},addAcceptAttribute:function(){var e=this;var t=jQuery("#"+e.getView().getId()+"--idJsonFileUploader-fu");var i=jQuery("#"+e.getView().getId()+"--idTextFileUploader-fu");t.attr("accept",".json");i.attr("accept",".properties")},handleTypeMissmatchForJSONFile:function(){d("11517")},handleTypeMissmatchForPropertiesFile:function(){d("11518")},handleJSONFileUploadComplete:function(e){var t=this;var l=e.getSource().oFileUpload.files[0];if(l){var a=new FileReader;a.readAsText(l,"UTF-8");a.onload=function(e){r=JSON.parse(e.target.result).configHeader.Application;i.importConfiguration(JSON.stringify(JSON.parse(e.target.result)),function(e,i,l){s(t,e,i,l)},c.bind(t))};a.onerror=function(){d("11519")}}},handleTextFileUploadComplete:function(e){var i=this,l,o;l=e.getSource().oFileUpload.files[0];o=i.byId("idJsonFileUploader");if(l){var n=new FileReader;n.readAsText(l,"UTF-8");n.onload=function(e){var l=e.target.result.split(/\r?\n/);var n,s,c;for(s=0;s<l.length;s++){n=/^\#\s*ApfApplicationId=[0-9A-F]+\s*$/.exec(l[s]);if(t.checkIsNotNull(n)){c=l[s].split("=")[1]}}var u;if(a){for(s=0;s<a.getList().length;s++){if(c===a.getList()[s].Application){u=true;break}else{u=false}}}if(!u&&o&&!o.getValue()){d("11520")}else if(o&&o.getValue()){if(r&&c&&c!==r){d("11521")}else{p(i,e.target.result)}}else if(u&&o&&!o.getValue()){p(i,e.target.result)}};n.onerror=function(){d("11522")}}i.closeAllOpenDialogs()},handleUploadOfConfig:function(){var e=this;var i=t.checkIsNotNullOrUndefinedOrBlank(e.byId("idJsonFileUploader").getValue());var l=t.checkIsNotNullOrUndefinedOrBlank(e.byId("idTextFileUploader").getValue());if(i&&l||i){e.byId("idJsonFileUploader").upload()}else{e.byId("idTextFileUploader").upload()}},handleCancelOfImportFilesDialog:function(){var e=this;e.byId("idImportFilesDialog").close()},closeAllOpenDialogs:function(){var e=this.byId("idImportFilesDialog");if(o&&o.isOpen()){this.handleCancelOfOverwriteDialog()}if(e&&e.isOpen()){this.handleCancelOfImportFilesDialog()}}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/messageHandler.controller", ["sap/m/MessageBox","sap/ui/thirdparty/jquery","sap/base/security/encodeXML","sap/base/Log"],function(e,jQuery,t,s){"use strict";var a;function o(e){var t=e.getMessage();while(e.getPrevious()){e=e.getPrevious();t=t+"\n"+e.getMessage()}return t}function i(e,t){var s=e.getView().getViewData();var a=s.getGenericExit("closeFatalErrorDialog");if(a){a(s,e,t)}else{window.history.go(-1)}}function n(e){sap.m.MessageBox.error(e.getMessage(),{styleClass:sap.ui.Device.system.desktop?"sapUiSizeCompact":""})}function r(e){sap.m.MessageBox.information(e.getMessage(),{styleClass:sap.ui.Device.system.desktop?"sapUiSizeCompact":""})}function g(e){sap.m.MessageToast.show(e.getMessage(),{width:"20em"})}function c(e,s){var i=new sap.m.Dialog(e.createId("idShowDetailsDialog"),{contentWidth:jQuery(window).height()*.6+"px",contentHeight:jQuery(window).height()*.6+"px",title:a.getText("error"),type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:new sap.ui.core.HTML({content:["<div><p> "+t(o(s))+"</p></div>"].join(""),sanitizeContent:true}),beginButton:new sap.m.Button({text:a.getText("close"),press:function(){i.close()}}),afterClose:function(){i.destroy()}}).addStyleClass("dialogContentPadding");i.setInitialFocus(i);i.open()}function p(e,t){var s=new sap.m.Dialog(e.createId("idFatalDialog"),{title:a.getText("error"),type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:[new sap.m.Text({text:a.getText("fatalErrorMessage")}),new sap.m.VBox({alignItems:sap.m.FlexAlignItems.End,items:[new sap.m.Link({text:a.getText("showDetailsLink"),press:function(){c(e,t)}})]})],beginButton:new sap.m.Button({text:a.getText("close"),press:function(){i(e,s)}}),afterClose:function(){s.destroy()}});s.setInitialFocus(s);s.open()}var l=sap.ui.core.mvc.Controller.extend("sap.apf.modeler.ui.controller.messageHandler",{onInit:function(){a=this.getView().getViewData()},showMessage:function(e){var t=this;var a=e.getSeverity();var o=sap.apf.core.constants.message.severity;switch(a){case o.fatal:p(t,e);break;case o.error:n(e);break;case o.success:g(e);break;case o.information:r(e);break;default:s.error("Error type not defined");break}}});return l},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/navTargetContextMapping.controller", ["sap/apf/modeler/ui/controller/requestOptions"],function(e){"use strict";var t=sap.apf.modeler.ui.utils.textManipulator;var r=sap.apf.modeler.ui.controller.requestOptions.extend("sap.apf.modeler.ui.controller.navTargetContextMapping",{setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("entity"));e.byId("idSelectPropertiesLabel").setVisible(false);e.byId("idSelectProperties").setVisible(false);e.byId("idOptionalPropertyLabel").setVisible(true);e.byId("idOptionalPropertyLabel").setText(t("mappedProperty"));e.byId("idOptionalProperty").setVisible(true)},getSource:function(){var e=this;return e.oParentObject.getFilterMappingService()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(e)},getEntity:function(){var e=this;return e.oParentObject.getFilterMappingEntitySet()},getAllEntitySetPropertiesAsPromise:function(e,t){var r=this;return r.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},clearSource:function(){var e=this;e.oParentObject.setFilterMappingService(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setFilterMappingEntitySet(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getFilterMappingTargetProperties();t.forEach(function(t){e.oParentObject.removeFilterMappingTargetProperty(t)})},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeFilterMappingTargetProperty(e)})},updateSource:function(e){var t=this;t.oParentObject.setFilterMappingService(e)},updateEntity:function(e){var t=this;t.oParentObject.setFilterMappingEntitySet(e)},updateSelectProperties:function(e){var t=this;t.clearSelectProperties();e.forEach(function(e){t.oParentObject.addFilterMappingTargetProperty(e)})},getSelectProperties:function(){var e=this;return e.oParentObject.getFilterMappingTargetProperties()},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()},getIdOfPropertiesControl:function(){return"idOptionalProperty"},getIdOfPropertyLabel:function(){return"idOptionalPropertyLabel"},setSelectedKeysForProperties:function(e){if(e.length>0){this.byId("idOptionalProperty").setSelectedKey(e[0])}},getSelectedKeysForProperties:function(){return this.oParentObject.getFilterMappingTargetProperties()},handleChangeForOptionalProperty:function(){var e=this;var r=e.getView().getViewData().oTextReader;var i=this.byId("idOptionalProperty").getSelectedKey();i=t.removePrefixText(i,r(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));e.updateSelectProperties([i]);e.oConfigurationEditor.setIsUnsaved()}});return r},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/navigationTarget.controller", ["sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/staticValuesBuilder","sap/m/MessageBox","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/ui/thirdparty/jquery"],function(e,t,i,a,n,o,jQuery){"use strict";var r,s,d,l,g,c,u,p;var f;var t=sap.apf.modeler.ui.utils.nullObjectChecker;var o=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var v=sap.apf.modeler.ui.utils.TranslationFormatMap.NAVTARGET_TITLE;function m(e){e.byId("idNavigationTargetHeaderLabel").setText(s("basicData"));e.byId("idSemanticObjectLabel").setText(s("semanticObject"));e.byId("idActionLabel").setText(s("action"));e.byId("idDescriptionLabel").setText(s("navigationTargetTitle"));e.byId("idNavigationParametersHeaderLabel").setText(s("navigationParametersHeader"));e.byId("idNavigationTargetTypeHeaderLabel").setText(s("navigationTargetType"));e.byId("idNavigationTargetTypeLabel").setText(s("assignmentType"));e.byId("idAssignedStepsLabel").setText(s("assignedSteps"));e.byId("idContextMapping").setText(s("contextMapping"))}function b(e){var i;if(r&&r.arguments&&r.arguments.navTargetId){c=g.getNavigationTarget(r.arguments.navTargetId)}if(!t.checkIsNotUndefined(c)){i=g.createNavigationTarget();c=g.getNavigationTarget(i);D(e)}}function T(e){var t=c.getTitleKey()?s("navigationTargetTitle"):s("navigationTargetTitle")+" ("+s("default")+")";e.byId("idDescriptionLabel").setText(t);e.byId("idDescriptionLabel").setTooltip(t);e.byId("idUseDynamicParametersCheckBoxLabel").setText(s("useDynamicParametersLabel"))}function I(e){var t,i;var a={oTextReader:s,oConfigurationHandler:l,oConfigurationEditor:g,oParentObject:c,getCalatogServiceUri:e.getView().getViewData().getCalatogServiceUri,oCoreApi:e.getView().getViewData().oCoreApi};t=new sap.ui.controller("sap.apf.modeler.ui.controller.navTargetContextMapping");i=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.requestOptions",type:sap.ui.core.mvc.ViewType.XML,id:e.createId("idContextMappingView"),viewData:a,controller:t});e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,i.getController().updateSubViewInstancesOnReset.bind(i.getController()));i.addStyleClass("formTopPadding");e.byId("idContextMappingVBox").insertItem(i);f=0;var n=c.getAllNavigationParameters();if(n.length>0){n.forEach(function(t){y(e,t)})}else{y(e)}}function y(e,t){var i=new sap.ui.controller("sap.apf.modeler.ui.controller.navigationTargetParameter");var a=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.navigationTargetParameter",type:sap.ui.core.mvc.ViewType.XML,id:e.createId("idNavigationTargetParameter"+f),viewData:{oTextReader:s,oParentController:e,oNavigationTarget:c,parameter:t,oConfigurationEditor:g},controller:i});e.byId("idNavigationParameterBox").addItem(a);f++;S(e)}function S(e){e.byId("idNavigationParameterBox").getItems().forEach(function(e){e.getController().checkVisibilityOfPlusMinus()})}function h(e){var i=jQuery.Deferred();p.getAllAvailableSemanticObjects(function(a,n){if(n===undefined){var r=o.prepareModel(a,a.length);e.byId("idSemanticObjectField").setModel(r);if(t.checkIsNotNullOrUndefinedOrBlank(c.getSemanticObject())){e.byId("idSemanticObjectField").setValue(c.getSemanticObject())}i.resolve()}else{M(e,n,"11504")}});return i.promise()}function N(e){var t,i;i=jQuery.Deferred();t=o.prepareModel([],0);e.byId("idActionField").setModel(t);A(undefined,e);V(e).then(function(e){i.resolve(e)});e.byId("idActionField").setValue(c.getAction());return i.promise()}function V(e){var i,a,n,r;r=new jQuery.Deferred;a=c.getSemanticObject();if(t.checkIsNotUndefined(a)){n=p.getSemanticActions(a);n.then(function(t){i=o.prepareModel(t.semanticActions,t.semanticActions.length);e.byId("idActionField").setModel(i);r.resolve(t)},function(t){M(e,t,"11505")})}return r.promise()}function A(e,i){var a,n,o;var r=c.getTitleKey();if(t.checkIsNotUndefined(r)){n=i.getView().getViewData().oConfigurationHandler.getTextPool().get(r).TextElementDescription;i.byId("idDescription").setValue(n)}else{var s=e?e:i.byId("idActionField").getModel().getData().Objects;if(s&&t.checkIsNotNullOrBlank(c.getAction())){for(o=0;o<s.length;o++){if(s[o].id===c.getAction()){a=s[o].text;break}}}n=a?a:c.getSemanticObject();i.byId("idDescription").setValue(n)}}function x(e){var t=new sap.apf.modeler.ui.utils.StaticValuesBuilder(s,o);var i=t.getNavTargetTypeData();e.byId("idNavigationTargetTypeField").setModel(i);var a=c.isStepSpecific()?s("stepSpecific"):s("globalNavTargets");e.byId("idNavigationTargetTypeField").setSelectedKey(a)}function C(e){var t=c.isStepSpecific()?s("stepSpecific"):s("globalNavTargets");if(t===s("stepSpecific")){P(e,true);var i=[];var a=g.getSteps();var n,r;for(n=0;n<a.length;n++){r={};r.stepKey=a[n].getId();r.stepName=d.get(a[n].getTitleId()).TextElementDescription;i.push(r)}var l=o.prepareModel(i,i.length);e.byId("idAssignedStepsCombo").setModel(l);var u=g.getStepsAssignedToNavigationTarget(c.getId());e.byId("idAssignedStepsCombo").setSelectedKeys(u)}}function D(e){var t={id:c.getId(),icon:c.isGlobal()?"sap-icon://overview-chart":"sap-icon://pushpin-off"};if(e.byId("idDescription").getValue()){t.name=e.byId("idDescription").getValue()}p.updateSelectedNode(t)}function w(e){var t=s("navigationTarget")+": "+e.byId("idDescription").getValue();p.updateTitleAndBreadCrumb(t)}function O(e){var t={key:c.getId(),value:e.byId("idDescription").getValue()};p.setNavigationTargetName(t)}function P(e,t){e.byId("idAssignedStepsLabel").setVisible(t);e.byId("idAssignedStepsCombo").setVisible(t)}function M(e,t,i){var a=p.createMessageObject({code:i});a.setPrevious(t);p.putMessage(a)}function E(){var e=g.getStepsAssignedToNavigationTarget(c.getId());var t,i;for(t=0;t<e.length;t++){i=g.getStep(e[t]);i.removeNavigationTarget(c.getId())}}sap.ui.controller("sap.apf.modeler.ui.controller.navigationTarget",{onInit:function(){var e=this;p=e.getView().getViewData();l=p.oConfigurationHandler;g=p.oConfigurationEditor;d=l.getTextPool();s=p.getText;r=p.oParams;if(!g){l.loadConfiguration(r.arguments.configId,function(e){g=e})}m(e);u=new sap.apf.modeler.ui.utils.ViewValidator(e.getView());u.addFields(["idSemanticObjectField","idActionField"]);b(e);I(e);e.setDetailData()},onAfterRendering:function(){var e=this;if(e.getView().byId("idSemanticObjectField").getValue().length===0){e.getView().byId("idSemanticObjectField").focus()}},setDetailData:function(){var e=this;h(e).then(function(){N(e).then(function(t){A(t.semanticActions,e)})});T(e);x(e);C(e);var t=c.getUseDynamicParameters();if(t){this.getView().byId("idUseDynamicParametersCheckBox").setSelected(true)}else{this.getView().byId("idUseDynamicParametersCheckBox").setSelected(false)}},updateSubViewInstancesOnReset:function(e){var t=this;g=e;c=g.getNavigationTarget(c.getId());t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,{oConfigurationEditor:g,oParentObject:c})},handleChangeSemanticObjectValue:function(e){var i,a=this;i=e.getParameter("value").trim();c.setTitleKey(undefined);if(t.checkIsNotNullOrBlank(i)){c.setSemanticObject(i);V(a).then(function(e){if(e.semanticActions.length>0){c.setAction(a.byId("idActionField").getModel().getData().Objects[0].id);a.byId("idActionField").setSelectedKey(e.semanticActions[0].id)}else{a.byId("idActionField").setValue("")}A(e.semanticActions,a);T(a);D(a);w(a);O(a)})}g.setIsUnsaved()},handleChangeofAction:function(e){var i,a=this;i=e.getParameter("value");c.setTitleKey(undefined);if(t.checkIsNotNullOrBlank(i)){c.setAction(i)}A(undefined,a);T(a);D(a);w(a);O(a);g.setIsUnsaved()},handleChangeForTitleText:function(){var e=this,t;var i=e.byId("idDescription").getValue();if(i.trim().length===0){t=undefined;c.setTitleKey(t);A(undefined,e);T(e);D(e);w(e);O(e);g.setIsUnsaved()}else{e.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(i,v).done(function(t){c.setTitleKey(t);T(e);e.byId("idDescription").setValue(i);D(e);w(e);O(e);g.setIsUnsaved()})}},handleSuggestions:function(e){var t=new sap.apf.modeler.ui.utils.SuggestionTextHandler(d);t.manageSuggestionTexts(e,v)},handleChangeOfNavigationTargetType:function(){var e=this;g.setIsUnsaved();var t=e.byId("idNavigationTargetTypeField").getSelectedKey();if(t===s("stepSpecific")){c.setStepSpecific();C(e)}else{c.setGlobal();P(e,false);e.byId("idAssignedStepsCombo").setSelectedKeys([]);E()}D(e,e.byId("idDescription").getValue())},handleChangeForAssignedSteps:function(){var e=this;g.setIsUnsaved();var t=e.byId("idAssignedStepsCombo").getSelectedKeys();var i=g.getStepsAssignedToNavigationTarget(c.getId());i.forEach(function(e){if(t.indexOf(e)===-1){var i=g.getStep(e);i.removeNavigationTarget(c.getId())}});t.forEach(function(e){if(i.indexOf(e)===-1){var t=g.getStep(e);t.addNavigationTarget(c.getId())}})},getValidationState:function(){var e=this;var t=true;e.byId("idNavigationParameterBox").getItems().forEach(function(e){if(!e.getController().validate()){t=false}});return u.getValidationState()&&e.byId("idContextMappingView").getController().getValidationState()&&t},getNavigationParameters:function(){return this.byId("idNavigationParameterBox").getItems()},addNavigationParameter:function(){y(this)},removeNavigationParameter:function(e){this.byId("idNavigationParameterBox").removeItem(e);S(this)},handleChangeForUseDynamicParameters:function(){var e=this.byId("idUseDynamicParametersCheckBox").getSelected();c.setUseDynamicParameters(e)},onExit:function(){var e=this;e.byId("idContextMappingView").destroy()},displayHelpAboutDynamicParameters:function(){var e=s("explanationOfDynamicParameters");var t=s("titleDynamicParameters");sap.m.MessageBox.show(e,{icon:sap.m.MessageBox.Icon.INFORMATION,title:t,actions:[sap.m.MessageBox.Action.CLOSE]})}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/newApplication.controller", ["sap/apf/modeler/ui/utils/nullObjectChecker"],function(e){"use strict";function t(e){var t=e.coreApi.getText;e.byId("idNewAppDialog").setTitle(t("newApplication"));e.byId("idDescriptionLabel").setText(t("description"));if(e.coreApi.showSemanticObject()){e.byId("idSemanticObjectLabel").setText(t("semanticObject"))}e.byId("idSaveButton").setText(t("save"));e.byId("idCancelButton").setText(t("cancel"))}return sap.ui.controller("sap.apf.modeler.ui.controller.newApplication",{onInit:function(){var e=this;this.parentControl=e.getView().getViewData().oParentControl;this.coreApi=e.getView().getViewData().oCoreApi;e.byId("idDescriptionInput").setValue("");if(this.coreApi.showSemanticObject()){e.byId("idSemanticObjectInput").setValue("FioriApplication")}else{e.byId("idSemanticObjectInput").setValue("");e.byId("idSemanticObjectBox").setVisible(false)}t(e);e.byId("idNewAppDialog").open()},handleAppDescriptionLiveChange:function(e){var t=this;var i=e.getParameters().value.trim().length!==0?true:false;t.byId("idSaveButton").setEnabled(i)},handleSavePress:function(){var t=this;var i={};i.ApplicationName=e.checkIsNotNullOrUndefinedOrBlank(t.byId("idDescriptionInput").getValue().trim())?t.byId("idDescriptionInput").getValue().trim():undefined;i.SemanticObject=e.checkIsNotNullOrUndefinedOrBlank(t.byId("idSemanticObjectInput").getValue().trim())?t.byId("idSemanticObjectInput").getValue().trim():undefined;this.coreApi.getApplicationHandler(function(n,a){if(n&&!e.checkIsNotUndefined(a)){n.setAndSave(i,function(i,n,a){if(!e.checkIsNotUndefined(a)&&typeof i==="string"){t.parentControl.fireEvent("addNewAppEvent",{appId:i})}else{var c=t.coreApi.createMessageObject({code:"11500"});c.setPrevious(a);t.coreApi.putMessage(c)}})}else{var c=t.coreApi.createMessageObject({code:"11509"});c.setPrevious(a);t.coreApi.putMessage(c)}});t.byId("idNewAppDialog").close()},handleCancelPress:function(){var e=this;e.byId("idNewAppDialog").close()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/overwriteExistingConfiguration", ["sap/ui/core/mvc/Controller","sap/apf/modeler/ui/utils/nullObjectChecker"],function(e,i){"use strict";var i=sap.apf.modeler.ui.utils.nullObjectChecker;return e.extend("sap.apf.modeler.ui.controller.overwriteExistingConfiguration",{setOverwriteConfirmationDialogText:function(e){sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOverwriteConfirmationDialog").setTitle(e("configAlreadyExists"));sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idConfirmationMessage").setText(e("overwriteDialogMsg"));sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOverwriteConfig").setText(e("overwriteConfig"));sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idDoNotOverwriteConfig").setText(e("doNotOverwriteConfig"));sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleLabel").setText(e("newConfigTitle"));sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOkButton").setText(e("ok"));sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idCancelButton").setText(e("cancel"))},handleOkButtonPress:function(){var e,t,r,n,a;r=sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOverwriteConfirmationDialog");n=r.getCustomData()[0].getValue().callbackOverwrite;a=r.getCustomData()[0].getValue().callbackCreateNew;e=sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOverwriteConfigRadioGroup").getSelectedButton();t=sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput");if(e===sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOverwriteConfig")){n()}else{if(i.checkIsNotNullOrUndefinedOrBlank(t.getValue().trim())){t.setValueState(sap.ui.core.ValueState.None);a(t.getValue())}else{t.setValueState(sap.ui.core.ValueState.Error)}}},handleCancelOfOverwriteDialog:function(){sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOverwriteConfirmationDialog").destroy()},handleChangeForOverwriteConfigOptions:function(){var e;e=sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idOverwriteConfigRadioGroup").getSelectedButton();if(e===sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idDoNotOverwriteConfig")){sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleLayout").setVisible(true);sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setEnabled(true)}else{if(i.checkIsNotNullOrUndefinedOrBlank(sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").getValue().trim())){sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setEnabled(false);sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setValueState(sap.ui.core.ValueState.None)}else{sap.ui.core.Fragment.byId("idOverwriteConfirmationFragment","idNewConfigTitleLayout").setVisible(false)}}}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/previewContent.controller", ["sap/apf/utils/utils","sap/apf/ui/utils/constants","sap/apf/ui/utils/wrappedChartWithCornerTexts","sap/ui/thirdparty/jquery"],function(e,t,n,jQuery){"use strict";var r,i,o,a,s,u,p,l;var d=sap.apf.ui.utils.CONSTANTS.representationTypes.TABLE_REPRESENTATION;function f(e){var t=e&&a.getTextPool().get(e),n;if(t!==undefined){n=t.TextElementDescription}return n}function c(e){var t=f(i[e]());if(t===undefined){t=f(o[e]())}return t}function g(e,t){return e.sort(function(e,n){var r,i;for(i=0;i<t.length;i++){if(e[t[i].property]<n[t[i].property]){r=-1}else if(e[t[i].property]>n[t[i].property]){r=1}r=r*[1,-1][+!t[i].ascending];if(r!==0){return r}}})}function v(e,t){var n=jQuery.Deferred();p.getEntityTypeMetadataAsPromise().done(function(r){var i,o,u=[];t.forEach(function(t){if(t.sProperty!==s("none")&&t.sProperty!==""){o=e(t.sProperty);if(o!==undefined){i=a.getTextPool().get(o).TextElementDescription}else{i=p.getDefaultLabel(r,t.sProperty)}u.push({fieldName:t.sProperty,fieldDesc:i,kind:t.sContext})}});n.resolve(u)});return n.promise()}function y(e){var t=jQuery.Deferred();var n=[];if(e==="properties"&&i.getRepresentationType()===d){v(i.getPropertyTextLabelKey,u.getActualProperties()).done(function(e){n=e})}else if(e==="dimensions"&&i.getRepresentationType()!==d){p.getEntityTypeMetadataAsPromise().done(function(e){v(i.getDimensionTextLabelKey,u.getActualDimensions().concat(u.getActualLegends())).done(function(e){n=e})})}else if(e==="measures"&&i.getRepresentationType()!==d){p.getEntityTypeMetadataAsPromise().done(function(e){v(i.getMeasureTextLabelKey,u.getActualMeasures()).done(function(e){n=e;n.forEach(function(e){var t=i.getMeasureDisplayOption(e.fieldName);if(t){e.measureDisplayOption=t}})})})}t.resolve(n);return t.promise()}function T(){var e=jQuery.Deferred();var t=[],n=[],r=0,o=3;var a=p.getProperties();p.getEntityTypeMetadataAsPromise().done(function(s){var u=p.getDimensionsProperties(s);var l=p.getMeasures(s);var f=i.getRepresentationType();var c=f!==d?Math.pow(o,u.length):7;for(r=0;r<c;r++){var v={};if(f===d){a.forEach(function(e){var t=e+" - "+sap.apf.utils.createRandomNumberString(4);v[e]=t})}else{u.forEach(function(e,t){var n=e+" - "+(Math.floor(r/Math.pow(o,t))%o+1);v[e]=n});l.forEach(function(e){var t=sap.apf.utils.createRandomNumberString(4);v[e]=t})}t.push(v)}n=i.getOrderbySpecifications();if(n&&n.length){t=g(t,n)}e.resolve(t)});return e.promise()}function h(){var e=l.getConstructorOfRepresentationType(i.getRepresentationType());var t=e.replaceAll(".","/");sap.ui.require([t],function(e){return e});var n=sap.apf.utils.extractFunctionFromModulePathString(e);var o={};o.requiredFilters=[];function a(e){return e}function s(){}var u={getTextNotHtmlEncoded:a,getTextHtmlEncoded:a,getEventCallback:s,getExits:function(){var e={};return e},getUiApi:function(){var e={};e.getStepContainer=function(){return undefined};return e},createFilter:function(){return{getOperators:function(){return{EQ:true}},getTopAnd:function(){return{addOr:s}},getInternalFilter:function(){return{getProperties:function(){return[]}}}}},createMessageObject:s,putMessage:s,updatePath:s,selectionChanged:s,getActiveStep:function(){return{getSelectedRepresentation:function(){return{bIsAlternateView:true}}}}};y("dimensions").done(function(e){o.dimensions=e});y("measures").done(function(e){o.measures=e});y("properties").done(function(e){o.properties=e});r=new n(u,o);if(r.chartType===d){r.oTableRepresentation.removeEventDelegate();r.oTableRepresentation.onAfterRendering(function(){return})}var p={getPropertyMetadata:function(e){return{label:e}}};T().done(function(e){r.setData(e,p)})}function w(e){var t=e.byId("idPreviewContentDialog");t.setTitle(s("preview"));t.getEndButton().setText(s("close"))}var C=sap.ui.core.mvc.Controller.extend("sap.apf.modeler.ui.controller.previewContent",{onInit:function(){var e=this;var t=e.byId("idPreviewContentDialog");i=e.getView().getViewData().oRepresentation;o=e.getView().getViewData().oParentStep;a=e.getView().getViewData().oConfigurationHandler;s=e.getView().getViewData().oCoreApi.getText;u=e.getView().getViewData().oRepresentationHandler;p=e.getView().getViewData().oStepPropertyMetadataHandler;l=e.getView().getViewData().oRepresentationTypeHandler;w(e);h();e._drawContent();t.open()},_drawContent:function(){this._drawMainChart();this._drawLikeStepInCarousel()},_drawLikeStepInCarousel:function(){var e=o.getTitleId();var t=f(e);var i={getSelectedRepresentation:function(){return r}};var a=n.getClonedChart(i);var s={rightLower:c("getRightLowerCornerTextKey"),rightUpper:c("getRightUpperCornerTextKey"),leftLower:c("getLeftLowerCornerTextKey"),leftUpper:c("getLeftUpperCornerTextKey")};var u={mode:"preview",titleText:t,oCornerTexts:s};var p=new n.constructor(null,o,a,u);this._addChart(p.getContent())},_drawMainChart:function(){var e=o.getLongTitleId();var t=a.getTextPool().isInitialTextKey(e);var n=e&&!t?e:o.getTitleId();var i=r.getMainContent(f(n),480,330);var s={interaction:{selectability:{axisLabelSelection:true,legendSelection:true,plotLassoSelection:true,plotStdSelection:true}}};if(i.setVizProperties!==undefined)i.setVizProperties(s);this.byId("idMainChart").addItem(i)},handleCloseButtonOfDialog:function(){var e=this;e.byId("idPreviewContentDialog").close()},handleClose:function(){var e=this;e.byId("idPreviewContentDialog").destroy();e.getView().destroy()},_addChart:function(e){this.byId("idThumbnail").addItem(e)}});return C},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/propertyType", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/textManipulator","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,t,r,o,i,a,jQuery){"use strict";var n=sap.apf.modeler.ui.utils.textManipulator;var s=e.events;var d=sap.apf.modeler.ui.utils.TranslationFormatMap.REPRESENTATION_LABEL;function p(e){var t=e.oRepresentation.getRepresentationType();var r=e.getView().getViewData().oPropertyTypeData.sContext;var o=e.getView().getViewData().oRepresentationTypeHandler.getLabelsForChartType(e.oTextReader,t,r);e.byId("idPropertyTypeLabel").setText(o);e.byId("idPropertyTypeLabel").setTooltip(o)}function l(e){if(sap.ui.Device.browser.msie&&sap.ui.Device.browser.version>=11){e.byId("idAriaPropertyForBasicDataGroup").setText(e.oTextReader("basicData"))}e.byId("idAriaPropertyForAdd").setText(e.oTextReader("ariaTextForAddIcon"));e.byId("idAriaPropertyForDelete").setText(e.oTextReader("ariaTextForDeleteIcon"))}function y(e){var r;var o=jQuery.Deferred();var i=e.byId("idPropertyType");e.getAllPropertiesAsPromise().then(function(e){r=t.convert(e.aAllProperties);i.setModel(r);i.setSelectedKey(e.sSelectedKey);o.resolve()});return o.promise()}function u(t){var r=n.removePrefixText(t.byId("idPropertyType").getSelectedKey(),t.oTextReader(e.texts.NOTAVAILABLE));var o=t.getPropertyTextLabelKey(r)?t.oTextReader("label"):t.oTextReader("label")+" ("+t.oTextReader("default")+")";t.byId("idPropertyLabel").setText(o);t.byId("idPropertyLabel").setTooltip(o)}function f(t){var o;var i=n.removePrefixText(t.byId("idPropertyType").getSelectedKey(),t.oTextReader(e.texts.NOTAVAILABLE));var a=t.getPropertyTextLabelKey(i);if(r.checkIsNotUndefined(a)){o=t.getView().getViewData().oConfigurationHandler.getTextPool().get(a).TextElementDescription;t.byId("idPropertyLabelText").setValue(o)}else{t.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().then(function(e){var r=t.oStepPropertyMetadataHandler.getDefaultLabel(e,i);t.byId("idPropertyLabelText").setValue(r)})}}function g(e){e.byId("idAddPropertyIcon").setTooltip(e.oTextReader("addButton"));e.byId("idRemovePropertyIcon").setTooltip(e.oTextReader("deleteButton"))}function c(e){var t=e.getView().getViewData().sPropertyType;var r=e.getView().getViewData().oPropertyTypeData.sContext;var o=e.oRepresentationTypeHandler.isAdditionToBeEnabled(e.oRepresentation.getRepresentationType(),t,r);var i=o;var a=e.getView().getViewData().oPropertyTypeState;var n=a.indexOfPropertyTypeViewId(e.getView().getId());if(n===0){i=false}else if(n>0){var s=a.getViewAt(n-1);var d=s.getViewData().oPropertyTypeData.sContext;if(r!==d){i=false}}e.byId("idAddPropertyIcon").setVisible(o);e.byId("idRemovePropertyIcon").setVisible(i);if(n>0){s.oController.byId("idAddPropertyIcon").setVisible(false)}}function P(e){var t=e.getView().getViewData().oPropertyTypeState;var r=t.indexOfPropertyTypeViewId(e.getView().getId());if(r>0){var o=t.aProperties.length-1;var i=t.getViewAt(r-1);var a=t.getViewAt(r);var n=e.oConfigurationEditor.isSaved()}if(r>0&&r==o&&n==false){i.oController.byId("idAddPropertyIcon").setVisible(false);a.oController.byId("idAddPropertyIcon").setVisible(true);a.oController.byId("idRemovePropertyIcon").setVisible(true)}}function v(e,t){var r=e.getView().getViewData().oPropertyTypeState;var o=r.aProperties.length;var i=r.getViewAt(t-1);var a=e.oConfigurationEditor.isSaved();if(t>1&&t==o&&a==false){i.oController.byId("idAddPropertyIcon").setVisible(true);i.oController.byId("idRemovePropertyIcon").setVisible(true)}if(t===1&&t==o&&a==false){i.oController.byId("idAddPropertyIcon").setVisible(true)}}function T(e){e.byId("idAddPropertyIcon").attachEvent(s.SETFOCUSONADDICON,e.setFocusOnAddRemoveIcons.bind(e))}var I=sap.ui.core.mvc.Controller.extend("sap.apf.modeler.ui.controller.propertyType",{_apfName:"propertyType",oConfigurationEditor:{},oRepresentation:{},oStepPropertyMetadataHandler:{},oRepresentationTypeHandler:{},oTextReader:{},oTextPool:{},initPromise:null,onInit:function(){var e=this;e.initPromise=new jQuery.Deferred;e.oConfigurationEditor=e.getView().getViewData().oConfigurationEditor;e.oRepresentation=e.getView().getViewData().oParentObject;e.oStepPropertyMetadataHandler=e.getView().getViewData().oStepPropertyMetadataHandler;e.oRepresentationTypeHandler=e.getView().getViewData().oRepresentationTypeHandler;e.oTextReader=e.getView().getViewData().oCoreApi.getText;e.oTextPool=e.getView().getViewData().oTextPool;if(e.getView().getViewData().oPropertyTypeData.bMandatory){e.getView().getViewData().oViewValidator.addField(e.byId("idPropertyType").getId());e.byId("idPropertyTypeLabel").setRequired(true)}y(e).then(function(){e.setDetailData().then(function(){e.initPromise.resolve()});c(e)})},onAfterRendering:function(){var e=this;e.initPromise.then(function(){e.enableDisableLabelDisplayOptionTypeAsPromise().then(function(){e.byId("idAddPropertyIcon").fireEvent(s.SETFOCUSONADDICON)})})},setDetailData:function(){var e=jQuery.Deferred();var r=this;r.setLabelDisplayOptionTypeAsPromise(t).then(function(){if(!r.byId("idPropertyType")){e.resolve();return}f(r);l(r);u(r);p(r);g(r);e.resolve()});return e.promise()},handleChangeForPropertyTypeAsPromise:function(t){var r=this;var o=jQuery.Deferred();var i=n.removePrefixText(r.byId("idPropertyType").getSelectedKey(),r.oTextReader(e.texts.NOTAVAILABLE));var a=r.getView().getViewData().oPropertyOrchestration;var s=r.getView().getId();var d;var p=null;if(a){d=a.isSwapCase(s,i);p=a.getPropertyTypeRowByPropertyName(i);a.updateAllSelectControlsForPropertyType(s,i).then(function(){var e;r.updateRepresentationAndView().then(function(){if(d){e=p.oView.getController();e.updateRepresentationAndView().then(function(){r.oConfigurationEditor.setIsUnsaved();o.resolve()})}else{r.oConfigurationEditor.setIsUnsaved();o.resolve()}})})}else{r.forceFailSinceOrchestrationIsMissing();o.resolve()}return o.promise()},updateRepresentationAndView:function(){var e=this;return new Promise(function(t){e.updateOfConfigurationObjectAsPromise().then(function(){e.setDetailData();e.enableDisableLabelDisplayOptionTypeAsPromise().then(function(){t()})})})},handleChangeForLabelDisplayOptionType:function(){var e=this;var t=e.byId("idLabelDisplayOptionType").getSelectedKey();e.changeLabelDisplayOption(t);e.oConfigurationEditor.setIsUnsaved()},handleChangeForLabelText:function(){var t=this,r;var o=t.byId("idPropertyLabelText").getValue();var i=n.removePrefixText(t.byId("idPropertyType").getSelectedKey(),t.oTextReader(e.texts.NOTAVAILABLE));if(o.trim().length===0){r=undefined;t.setPropertyTextLabelKey(i,r);u(t);f(t);t.oConfigurationEditor.setIsUnsaved()}else{t.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(o,d).then(function(e){t.setPropertyTextLabelKey(i,e);u(t);f(t);t.oConfigurationEditor.setIsUnsaved()})}},setFocusOnAddRemoveIcons:function(){var e=this;e.byId("idAddPropertyIcon").focus()},handlePressOfAddPropertyIcon:function(){var t=this;var r=t.getView();var o=r.getViewData().oPropertyOrchestration;var i=t.byId("idPropertyType").getItems();var a=t.byId("idPropertyType").getSelectedKey();var n=t.oTextReader("none");if(this._shallAddPropertyBeHandled(i,a,n,o)){T(t);t.getView().fireEvent(e.events.ADDPROPERTY,{oSourceView:r});t.oConfigurationEditor.setIsUnsaved();P(t)}},handlePressOfRemovePropertyIcon:function(){var e=this;var t=e.getView().getViewData();var r=t.oPropertyTypeState;var o=r.indexOfPropertyTypeViewId(e.getView().getId());if(o>0){var i=r.getViewAt(o-1);T(i.getController())}var a=t.oPropertyOrchestration;a.removePropertyTypeReference(e.getView().getId());return e.updateRepresentationAndView().then(function(){a.updateAllSelectControlsForPropertyType();t.oPropertyTypeHandlerBackLink.handlePressOfRemove({oSourceView:e.getView()});e.oConfigurationEditor.setIsUnsaved();if(o!==0){v(e,o)}e.getView().destroy()})},updateOfConfigurationObjectAsPromise:function(){var e=this;return new Promise(function(t){var r=[];if(e.getView().getViewData().oPropertyOrchestration){r=e.getView().getViewData().oPropertyOrchestration.getPropertyInformationList();e.updatePropertiesInConfiguration(r)}else{e.forceFailSinceOrchestrationIsMissing()}t()})},handleSuggestions:function(e){var t=this;var r=new sap.apf.modeler.ui.utils.SuggestionTextHandler(t.oTextPool);r.manageSuggestionTexts(e,d)},getSelectedProperty:function(){var e=this;var t=e.getView().getViewData().oPropertyTypeState;var r=t.getPropertyValueState();var o=t.indexOfPropertyTypeViewId(e.getView().getId());return r[o]},removeAllItemsFromDropDownList:function(){var e=this;var t=e.byId("idPropertyType");t.getItems().forEach(function(e){t.removeItem(e)})},setItemsOfDropDownList:function(t,r,o,i,a){function s(e,t){return e.indexOf(t)!==-1}var d=this;var p=d.byId("idPropertyType");var l=[];var y=o===d.oTextReader("none");if(!i&&a===e.aggregationRoles.DIMENSION){p.addItem(new sap.ui.core.Item({key:d.oTextReader("none"),text:d.oTextReader("none")}))}if(a===e.aggregationRoles.MEASURE){l=JSON.parse(JSON.stringify(r))}else{l=JSON.parse(JSON.stringify(t))}if(!s(l,o)&&!y){l.unshift(o)}l.forEach(function(e){var t=e;if(!s(r,e)&&!y&&e!==""){e=n.addPrefixText([e],d.oTextReader)[0]}var i=new sap.ui.core.Item({key:e,text:e});p.addItem(i);if(t===o){o=e}});p.setSelectedKey(o)},updatePropertiesInConfiguration:function(e){},createNewPropertyInfoAsPromise:function(e){return sap.apf.utils.createPromise()},setPropertyInParentObject:function(){},setLabelDisplayOptionTypeAsPromise:function(e){return sap.apf.utils.createPromise()},getAllPropertiesAsPromise:function(){return sap.apf.utils.createPromise()},getPropertyTextLabelKey:function(e){},setPropertyTextLabelKey:function(e,t){},enableDisableLabelDisplayOptionTypeAsPromise:function(){return sap.apf.utils.createPromise()},removePropertyFromParentObject:function(){},addPropertyAsPromise:function(){return sap.apf.utils.createPromise()},changeLabelDisplayOption:function(e){},_shallAddPropertyBeHandled:function(t,r,o,i){var a=t.filter(function(e){return e.mProperties.key!==o});if(i&&i.getAggregationRole()===e.aggregationRoles.MEASURE){var n=i._getPropertyTypeRows().length;return n<a.length}if(t.length===0||!r){return false}var s=a.filter(function(e){return e.mProperties.key!==r});var d=r===o;if(s.length<2&&d){return false}else if(s.length<1&&!d){return false}return true}});return I});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/propertyTypeHandler.controller", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/propertyTypeFactory","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/propertyTypeState","sap/apf/modeler/ui/utils/propertyTypeOrchestration"],function(e,t,r,o,a){"use strict";function n(t,r){r.attachEvent(e.events.ADDPROPERTY,t.handlePressOfAdd.bind(t));r.attachEvent(e.events.REMOVEPROPERTY,t.handlePressOfRemove.bind(t));r.attachEvent(e.events.SETNEXTPROPERTYINPARENTOBJECT,r.getController().setNextPropertyInParentObject.bind(r.getController()));t.getView().attachEvent(e.events.SETNEXTPROPERTYINPARENTOBJECT,r.getController().setNextPropertyInParentObject.bind(r.getController()));r.attachEvent(e.events.REMOVECURRENTPROPERTYFROMPARENTOBJECT,r.getController().removePropertyFromParentObject.bind(r.getController()));r.attachEvent(e.events.REMOVEPROPERTYFROMPARENTOBJECT,r.getController().removePropertyFromParentObject.bind(r.getController()));r.attachEvent(e.events.UPDATEPROPERTYVALUESTATE,t.updatePropertyValueState.bind(t));r.attachEvent(e.events.FOCUSONREMOVE,t.handleFocusOnRemove.bind(t));r.attachEvent(e.events.SETFOCUSONREMOVEICON,r.getController().setFocusOnAddRemoveIcons.bind(r.getController()))}function p(e,t){var r=[];var o=e.getView().getViewData().aPropertiesToBeCreated;o.forEach(function(o){var a=i(e,o,e.nCounter,t);r.push(a.getController().initPromise)});e.initPromise=jQuery.when.apply(jQuery,r)}function i(e,r,o,a){var p=jQuery.extend(true,{},e.getView().getViewData().oViewDataForPropertyType);p.oPropertyTypeState=e.oPropertyTypeState;p.oPropertyTypeData=r;p.oPropertyOrchestration=a;p.oPropertyTypeHandlerBackLink=e;var i=e.createId("id"+p.sPropertyType+"View"+e.nCounter);e.oPropertyTypeState.addPropertyAt(r.sProperty,o);e.oPropertyTypeState.addPropertyTypeViewIdAt(i,o);var y=t.createPropertyTypeView(p,i);if(a){a.addPropertyTypeReference(i,r,p.sPropertyType,y)}n(e,y);e.byId("idPropertyTypeVBox").insertItem(y,o);e.nCounter++;return y}var y=sap.ui.controller("sap.apf.modeler.ui.controller.propertyTypeHandler",{_apfName:"propertyTypeHandler",nCounter:0,oPropertyTypeState:{},initPromise:undefined,oPropertyOrchestration:undefined,onInit:function(){var e=this;e.oPropertyOrchestration=e.getView().getViewData().oPropertyOrchestration;e.oPropertyTypeState=new o;p(e,e.oPropertyOrchestration);if(e.oPropertyOrchestration){e.oPropertyOrchestration.updateAllSelectControlsForPropertyType()}},handlePressOfAdd:function(t){var o=this,n={},p;var y=t.getParameter("oSourceView");var P=o.getView().getViewData().oPropertyOrchestration;var s=P.getPropertyTypeRow(y.getId()).sPropertyType;var d=a._mapPropertyType2AggregationRole(s);var T=o.byId("idPropertyTypeVBox").indexOfItem(y)+1;var l=o.getView().getViewData().oViewDataForPropertyType.oParentObject.getId();var v=o.getView().getViewData().oViewDataForPropertyType.oStepPropertyMetadataHandler;var c=v.oStep;var E=c.getType()==="hierarchicalStep";if(E&&s===e.propertyTypes.REPRESENTATIONSORT){d=e.aggregationRoles.MEASURE}a.getConsumableAndAvailablePropertiesAsPromise(l,d,v).then(function(e){var t=a._relativeComplement(e.available,P.getSelectedProperties());var s=t[0];n.sProperty=s;n.sContext=P.getPropertyTypeRow(y.getId()).propertyRowInformation.sContext;if(r.checkIsNotUndefined(n.sProperty)){p=i(o,n,T,P);p.getController().setNextPropertyInParentObject()}return P.updateAllSelectControlsForPropertyType()})},handleFocusOnRemove:function(t){var r=this;var o=r.byId("idPropertyTypeVBox");var a=t.getSource();var n=o.indexOfItem(a);var p=r.byId(r.oPropertyTypeState.aPropertyTypeViewIds[n-1]);p.fireEvent(e.events.SETFOCUSONREMOVEICON)},handlePressOfRemove:function(e){var t=this;var r=e.oSourceView||e.getSource();var o=t.byId("idPropertyTypeVBox");var a=o.indexOfItem(r);t.oPropertyTypeState.removePropertyAt(a);t.oPropertyTypeState.removePropertyTypeViewIdAt(a);o.removeItem(r)},updatePropertyValueState:function(e){var t=this;var r=e.getSource();var o=e.getParameter("sProperty");var a=t.byId("idPropertyTypeVBox").indexOfItem(r);t.oPropertyTypeState.updatePropertyAt(o,a)},handleRemoveOfProperty:function(){var t=this;var o=t.byId("idPropertyTypeVBox");if(r.checkIsNotUndefined(o)){o.getItems().forEach(function(t){t.fireEvent(e.events.REMOVEPROPERTYFROMPARENTOBJECT)})}},handleSettingTopNProperties:function(){var t=this;t.getView().fireEvent(e.events.SETNEXTPROPERTYINPARENTOBJECT)}});return y},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/controller/representation.controller", ["sap/apf/modeler/ui/utils/representationHandler","sap/apf/ui/utils/constants","sap/apf/core/constants","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/sortDataHandler","sap/apf/modeler/ui/utils/representationBasicDataHandler","sap/apf/modeler/ui/utils/stepPropertyMetadataHandler","sap/apf/ui/utils/representationTypesHandler","sap/apf/modeler/ui/utils/viewValidator","sap/ui/core/mvc/Controller"],function(e,t,r,n,a,i,o,s,p,d,u){"use strict";var l,f,T,c,g,y,v,m,h,C;var D=r.representationMetadata.labelDisplayOptions;function P(e){e.byId("idVisualization").setText(f.getText("visualization"));e.byId("idChartTypeLabel").setText(f.getText("chartType"));e.byId("idChartTypeLabel").setTooltip(f.getText("chartType"));e.byId("idBasicData").setText(f.getText("basicData"));e.byId("idSorting").setText(f.getText("sorting"));e.byId("idChartType").setValueStateText(f.getText("modeler.ui.representation.invalidChartTypeError"))}function w(e,t){var r;var n=y.getPictureOfRepresentationType(c.getRepresentationType());var a=T.getCategoriesForStep(g.getId());if(a.length===1){r={id:c.getId(),icon:n};if(t){r.name=t}e.getView().getViewData().updateSelectedNode(r)}else{e.getView().getViewData().updateTree()}}function E(e,t){var r=f.getText("representation")+": "+t;e.getView().getViewData().updateTitleAndBreadCrumb(r)}function I(e){c.setRepresentationType(e);var r="TableRepresentation";if(e===t.representationTypes.TABLE_REPRESENTATION||e===t.representationTypes.TREE_TABLE_REPRESENTATION){r=undefined}c.setAlternateRepresentationType(r)}function V(e){var t;var r=jQuery.Deferred();v.getEntityTypeMetadataAsPromise().done(function(n){var a=v.getDimensionsProperties(n);var i=y.getKindsForDimensionPropertyType(e);i.forEach(function(e,r){t=false;var i;var o;var s=a[r];if(c.getDimensions().length!==0){if(c.getDimensions()[r]){if(c.getDimensionKind(c.getDimensions()[r])){t=true}}}if(!t&&s){i=v.hasTextPropertyOfDimension(n,s);o=i?D.KEY_AND_TEXT:D.KEY;c.addDimension(s);c.setLabelDisplayOption(s,o);c.setDimensionKind(s,e)}});r.resolve()});return r.promise()}function R(e){var t;var r=v.oStep.getService();var n=v.oStep.getEntitySet();var a=v.oStep.getHierarchyProperty();T.getHierarchyNodeIdAsPromise(r,n,a).done(function(r){t=v.hasTextPropertyOfDimension(e,r)});return t}function b(e){var t,r;var n=jQuery.Deferred();v.getEntityTypeMetadataAsPromise().done(function(e){var a=v.getHierarchicalProperty();if(a&&c.getHierarchyPropertyLabelDisplayOption()===undefined){t=R(e);r=t?D.TEXT:D.KEY;c.setHierarchyPropertyLabelDisplayOption(r)}n.resolve()});return n.promise()}function x(e){var t=jQuery.Deferred(),r,n;var a;var i=0;v.getEntityTypeMetadataAsPromise().done(function(o){a=y.getKindsForMeasurePropertyType(e);r=v.getMeasures(o);a.forEach(function(t){var a=y.getDefaultCountForRepresentationKind(e,t);for(var o=0;o<a;o++){n=false;var s=r[i];if(c.getMeasures().length!==0){if(c.getMeasures()[i]){if(c.getMeasureKind(c.getMeasures()[i])){n=true}}}if(!n&&s){c.addMeasure(s);c.setMeasureKind(s,t)}i++}});t.resolve()});return t.promise()}function S(e){var t=jQuery.Deferred();var r,n;if(e==="TableRepresentation"){if(c.getProperties().length===0){n=y.getKindsForPropertyType(e);r=v.getProperties()[0];c.addProperty(r);c.setPropertyKind(r,n[0]);t.resolve()}else{t.resolve()}}else if(e==="TreeTableRepresentation"){b(e).done(function(){t.resolve()})}else{V(e).done(function(){x(e).done(function(){t.resolve()})})}return t.promise()}function M(){if(l&&l.arguments&&l.arguments.stepId){g=T.getStep(l.arguments.stepId)}}function A(){var e=f.getRepresentationTypes()[0].id;if(g.getType()==="hierarchicalStep"){e="TreeTableRepresentation"}return e}function O(e){var t;var r=jQuery.Deferred();if(l&&l.arguments&&l.arguments.representationId){c=g.getRepresentation(l.arguments.representationId)}if(!n.checkIsNotUndefined(c)){c=g.createRepresentation();t=A();I(t);w(e,f.getText(t));T.setIsUnsaved();S(t).done(function(){return r.resolve()})}else{t=c.getRepresentationType();j().done(function(){S(t).done(function(){return r.resolve()})})}return r.promise()}function N(e){var t=new sap.m.Button({id:e.createId("idPreviewButton"),text:f.getText("preview"),press:e.handlePreviewButtonPress.bind(e)});var r=e.getView().getViewData().oFooter;r.addContentRight(t)}function K(e){var t=e.getView().getViewData().oConfigurationHandler.getTextPool();var r={oTextReader:f.getText,oConfigurationEditor:T,oTextPool:t,oParentObject:c,oParentStep:g,oRepresentationTypeHandler:y};var n=new sap.ui.controller("sap.apf.modeler.ui.controller.representationCornerTexts");var a=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.cornerTexts",type:sap.ui.core.mvc.ViewType.XML,id:e.createId("representationCornerTexts"),viewData:r,controller:n});e.byId("idCornerTextsVBox").insertItem(a);e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.representation.SETCHARTICON,a.getController().setChartIcon.bind(a.getController()))}function H(){c.getDimensions().forEach(function(e){c.removeDimension(e)});c.getMeasures().forEach(function(e){c.removeMeasure(e)})}function L(){var e,t;if(c.getRepresentationType()==="TableRepresentation"){e=c.getDimensions();t=c.getMeasures();e.forEach(function(e){c.addProperty(e);c.setPropertyTextLabelKey(e,c.getDimensionTextLabelKey(e));c.setPropertyKind(e,r.representationMetadata.kind.COLUMN);T.setIsUnsaved()});t.forEach(function(e){c.addProperty(e);c.setPropertyTextLabelKey(e,c.getMeasureTextLabelKey(e));c.setPropertyKind(e,r.representationMetadata.kind.COLUMN);T.setIsUnsaved()});H()}}function B(e){var t;v.getEntityTypeMetadataAsPromise().done(function(r){t=v.hasTextPropertyOfDimension(r,e);if(t){c.setLabelDisplayOption(e,D.KEY_AND_TEXT)}else{c.setLabelDisplayOption(e,D.KEY)}T.setIsUnsaved()})}function _(){var e=jQuery.Deferred();v.getEntityTypeMetadataAsPromise().done(function(t){c.getDimensions().forEach(function(e){if(c.getLabelDisplayOption(e)===undefined){B(e)}});e.resolve()});return e.promise()}function j(){L();return _()}function F(e){C.instantiateRepresentationSortData();K(e);return h.instantiateBasicDataAsPromise()}function U(e){if(!e.getValidationState()){if(e.byId("idChartType").getValueState("None")){setTimeout(function(){e.byId("idChartType").setValueState("Error")},1)}}else{e.byId("idChartType").setValueState("None")}}var Q=u.extend("sap.apf.modeler.ui.controller.representation",{onInit:function(){var t=this;t.promiseControllerIsCreated=new Promise(function(r){var n=t.getView().getViewData();f=n.oCoreApi;l=n.oParams;T=n.oConfigurationEditor;y=new p;t.oViewValidator=new d(t.getView());P(t);M();if(g.getType()!=="hierarchicalStep"){N(t)}v=new sap.apf.modeler.ui.utils.StepPropertyMetadataHandler(f,g);O(t).then(function(){m=new e(c,y,f.getText);h=new o(t.getView(),v,m,t.oViewValidator);C=new i(t.getView(),c,v,f.getText);F(t).then(function(){t.setDetailData();r()})})})},promiseControllerIsCreated:null,setDetailData:function(){var e=this;e._setChartType()},handleChangeForChartType:function(e){var t=this;var r=e.getParameter("selectedItem").getKey();var n=f.getText(r);var a=c.getRepresentationType();I(r);w(t,n);E(t,n);if(!y.isChartTypeSimilar(a,r)){t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.REMOVEALLPROPERTIESFROMPARENTOBJECT);H();S(r).done(function(){h.instantiateBasicDataAsPromise().then(function(){U(t)});t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.representation.SETCHARTICON);T.setIsUnsaved()})}else{h.instantiateBasicDataAsPromise().then(function(){U(t)});t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.representation.SETCHARTICON);T.setIsUnsaved()}},handlePreviewButtonPress:function(){var e=this;var t={oParentStep:g,oRepresentation:c,oConfigurationHandler:e.getView().getViewData().oConfigurationHandler,oCoreApi:f,oRepresentationHandler:m,oStepPropertyMetadataHandler:v,oRepresentationTypeHandler:y};sap.ui.view({id:e.createId("idPreviewContentView"),viewName:"sap.apf.modeler.ui.view.previewContent",type:sap.ui.core.mvc.ViewType.XML,viewData:t})},onExit:function(){var e=this;e.getView().getViewData().oFooter.removeContentRight(e.byId("idPreviewButton"));h.destroyBasicData();C.destroySortData();e.byId("idCornerTextsVBox").destroyItems()},getValidationState:function(){return this.oViewValidator.getValidationState()},_setChartType:function(){var e=this;v.getEntityTypeMetadataAsPromise().done(function(t){var r;var n=v.getDimensionsProperties(t);var i=v.getMeasures(t);var o=e._getAnnotatedChartTypes(y.aRepresentationTypes,v.getRepresentationTypesArray(),n,i,f);r=a.prepareModel(o);e.byId("idChartType").setModel(r);e.byId("idChartType").setSelectedKey(c.getRepresentationType());U(e)})},_getAnnotatedChartTypes:function(e,t,r,n,a){function i(e,t){var r;e.forEach(function(e){if(e["id"]===t){r=e}});return r}var o=jQuery.extend(true,[],t);o.forEach(function(t){var o=0,s=0;var p=i(e,t.key);if(p.metadata&&p.id!=="TableRepresentation"&&p.id!=="TreeTableRepresentation"){p.metadata.dimensions.supportedKinds.forEach(function(e){o+=parseInt(e.min,10)});p.metadata.measures.supportedKinds.forEach(function(e){s+=parseInt(e.min,10)});if(r.length<o||n.length<s){t.name=a.getText("modeler.ui.representation.invalidChartTypes",[t.name])}}});return o}});return Q},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/representationCornerTexts.controller", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/controller/cornerTexts"],function(e,t){"use strict";var r=sap.apf.modeler.ui.utils.nullObjectChecker;function a(e,t){var r=t&&e.oTextPool.get(t);return r&&r.TextElementDescription}var n=sap.apf.modeler.ui.controller.cornerTexts.extend("sap.apf.modeler.ui.controller.representationCornerTexts",{addStyleClasses:function(){var e=this;e.byId("idLeftUpper").addStyleClass("repLeftCornerText");e.byId("idRightUpper").addStyleClass("repRightCornerText");e.byId("idLeftLower").addStyleClass("repLeftCornerText");e.byId("idRightLower").addStyleClass("repRightCornerText")},setChartIcon:function(){var e=this;var t=e.getView().getViewData().oParentObject.getRepresentationType();var r=e.getView().getViewData().oRepresentationTypeHandler.getPictureOfRepresentationType(t);e.byId("idChartIcon").setSrc(r);e.byId("idChartIcon").addStyleClass("repChartIcon")},getTranslationFormatMap:function(){return sap.apf.modeler.ui.utils.TranslationFormatMap.REPRESENTATION_CORNER_TEXT},getLeftUpperCornerText:function(e){var t=this;var n=t.getView().getViewData().oParentStep[e]();var i=a(t,n);var o=t.getView().getViewData().oParentObject[e]();var s=a(t,o);var d=r.checkIsNotUndefined(s)?s:i;return d},getRightUpperCornerText:function(e){var t=this;var n=t.getView().getViewData().oParentStep[e]();var i=a(t,n);var o=t.getView().getViewData().oParentObject[e]();var s=a(t,o);var d=r.checkIsNotUndefined(s)?s:i;return d},getLeftLowerCornerText:function(e){var t=this;var n=t.getView().getViewData().oParentStep[e]();var i=a(t,n);var o=t.getView().getViewData().oParentObject[e]();var s=a(t,o);var d=r.checkIsNotUndefined(s)?s:i;return d},getRightLowerCornerText:function(e){var t=this;var n=t.getView().getViewData().oParentStep[e]();var i=a(t,n);var o=t.getView().getViewData().oParentObject[e]();var s=a(t,o);var d=r.checkIsNotUndefined(s)?s:i;return d}});return n},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/representationDimension.controller", ["sap/apf/modeler/ui/utils/constants","sap/apf/core/constants","sap/apf/modeler/ui/controller/propertyType","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/propertyTypeOrchestration"],function(e,t,r,a,o,n){"use strict";t=t||sap.apf.core.constants;a=a||sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder;var i=t.representationMetadata;return r.extend("sap.apf.modeler.ui.controller.representationDimension",{_apfName:"representationDimension",setLabelDisplayOptionTypeAsPromise:function(r){var n=this;var i=jQuery.Deferred();var s=[];var p=new a(n.oTextReader,r);var d=t.representationMetadata.labelDisplayOptions;var l=o.removePrefixText(n.byId("idPropertyType").getSelectedKey(),n.oTextReader(e.texts.NOTAVAILABLE));var y=n.oRepresentation.getLabelDisplayOption(l);var f=p.getLabelDisplayOptions();n.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){if((y===d.KEY_AND_TEXT||y===d.TEXT)&&!n.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,l)){f=p.getValidatedLabelDisplayOptions();s=o.addPrefixText([y],n.oTextReader);y=s[0]}n.byId("idLabelDisplayOptionType").setModel(f);n.byId("idLabelDisplayOptionType").setSelectedKey(y);i.resolve()});return i.promise()},getAllPropertiesAsPromise:function(){var t=this;var r=t.oStepPropertyMetadataHandler.oStep;var a=jQuery.Deferred();t.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(i){var s=[];r.getConsumablePropertiesForRepresentation(t.oRepresentation.getId()).done(function(r){var p=r.consumable;p.forEach(function(r){var a;if(t.oStepPropertyMetadataHandler.getPropertyMetadata(i,r)){a=t.oStepPropertyMetadataHandler.getPropertyMetadata(i,r)["aggregation-role"];if(a===e.aggregationRoles.DIMENSION){s.push(r)}}});var d=t.getSelectedProperty();a.resolve(n.getPropertyListAndSelectedKey(s,d,t,r,o.addPrefixText))})});return a.promise()},getPropertyTextLabelKey:function(e){var t=this;return t.oRepresentation.getDimensionTextLabelKey(e)},removeProperties:function(){var e=this;e.getView().getViewData().oRepresentationHandler.getActualDimensions().forEach(function(t){e.oRepresentation.removeDimension(t.sProperty)})},updatePropertiesInConfiguration:function(e){var t=this;t.removeProperties();e.forEach(function(e){t.oRepresentation.addDimension(e.sProperty);t.oRepresentation.setDimensionKind(e.sProperty,e.sKind);t.oRepresentation.setLabelDisplayOption(e.sProperty,e.sLabelDisplayOption);t.oRepresentation.setDimensionTextLabelKey(e.sProperty,e.sTextLabelKey)})},createNewPropertyInfoAsPromise:function(e){var t=jQuery.Deferred();var r=this,a={};r.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(o){var n=r.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(o,e);a.sProperty=e;a.sKind=r.getView().getViewData().oPropertyTypeData.sContext;a.sLabelDisplayOption=n?i.labelDisplayOptions.KEY_AND_TEXT:i.labelDisplayOptions.KEY;a.sTextLabelKey=undefined;t.resolve(a)});return t.promise()},setPropertyTextLabelKey:function(e,t){var r=this;r.oRepresentation.setDimensionTextLabelKey(e,t)},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObjectAsPromise().then(function(){e.setDetailData()})},enableDisableLabelDisplayOptionTypeAsPromise:function(){var t,r=this;var a=jQuery.Deferred();var n=r.byId("idLabelDisplayOptionType");var i=o.removePrefixText(r.byId("idPropertyType").getSelectedKey(),r.oTextReader(e.texts.NOTAVAILABLE));r.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){var o=r.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,i);if(i===r.oTextReader("none")){n.setEnabled(false);a.resolve()}else{n.setEnabled(true);for(t=0;t<n.getItems().length;t++){n.getItems()[t].setEnabled(true);if(t>0&&!o){n.getItems()[t].setEnabled(false)}}a.resolve()}});return a.promise()},changeLabelDisplayOption:function(t){var r=this;var a=o.removePrefixText(r.byId("idPropertyType").getSelectedKey(),r.oTextReader(e.texts.NOTAVAILABLE));r.oRepresentation.setLabelDisplayOption(a,t)},removePropertyFromParentObject:function(){var t=this;t.oRepresentation.removeDimension(o.removePrefixText(t.byId("idPropertyType").getSelectedKey(),t.oTextReader(e.texts.NOTAVAILABLE)))},addPropertyAsPromise:function(){var t=jQuery.Deferred();var r=this,a,o=[];var n=r.oStepPropertyMetadataHandler.oStep;r.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(i){n.getConsumablePropertiesForRepresentation(r.oRepresentation.getId()).done(function(n){n.consumable.forEach(function(t){if(r.oStepPropertyMetadataHandler.getPropertyMetadata(i,t)){a=r.oStepPropertyMetadataHandler.getPropertyMetadata(i,t)["aggregation-role"];if(a===e.aggregationRoles.DIMENSION){o.push(t)}}});r.getView().fireEvent(e.events.ADDPROPERTY,{sProperty:o[0],sContext:r.getView().getViewData().oPropertyTypeData.sContext,bMandatory:r.getView().getViewData().oPropertyTypeData.bMandatory});r.oConfigurationEditor.setIsUnsaved();t.resolve()})});return t.promise()}})});
sap.ui.predefine("sap/apf/modeler/ui/controller/representationHierarchyProperty.controller", ["sap/apf/modeler/ui/controller/propertyType","sap/apf/core/constants","sap/apf/modeler/ui/utils/treeTableDisplayOptionsValueBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/ui/thirdparty/jquery"],function(e,t,r,a,jQuery){"use strict";var o=sap.apf.modeler.ui.utils.textManipulator;function i(e,t){var r;var a=t.oStepPropertyMetadataHandler.oStep.getService();var o=t.oStepPropertyMetadataHandler.oStep.getEntitySet();var i=t.oStepPropertyMetadataHandler.oStep.getHierarchyProperty();t.oConfigurationEditor.getHierarchyNodeIdAsPromise(a,o,i).done(function(a){r=t.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,a)});return r}return e.extend("sap.apf.modeler.ui.controller.representationHierarchyProperty",{onBeforeRendering:function(){var e=this;e.byId("idPropertyType").setEnabled(false)},setLabelDisplayOptionTypeAsPromise:function(e){var t=jQuery.Deferred();var r,a,n,p,s=this,l=[];r=new sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder(s.oTextReader,e);a=sap.apf.core.constants.representationMetadata.labelDisplayOptions;p=s.oRepresentation.getHierarchyPropertyLabelDisplayOption();n=r.getLabelDisplayOptions();s.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){if(p===a.TEXT&&!i(e,s)){n=r.getValidatedLabelDisplayOptions();l=o.addPrefixText([p],s.oTextReader);p=l[0]}s.byId("idLabelDisplayOptionType").setModel(n);s.byId("idLabelDisplayOptionType").setSelectedKey(p);t.resolve()});return t.promise()},changeLabelDisplayOption:function(e){var t=this;t.oRepresentation.setHierarchyPropertyLabelDisplayOption(e)},getAllPropertiesAsPromise:function(){var e=this,t,r,a=[];var i=e.oStepPropertyMetadataHandler.oStep;var n=jQuery.Deferred();i.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(i){i.available.forEach(function(t){if(t===e.oStepPropertyMetadataHandler.getHierarchicalProperty()){a.push(t)}});t=e.getSelectedProperty();if(t!==undefined){r=a.indexOf(t)!==-1?a:a.concat(t);if(i.available.indexOf(t)!==-1){a=r;t=t}else{a=a.concat(o.addPrefixText([t],e.oTextReader));t=o.addPrefixText([t],e.oTextReader)[0]}}n.resolve({aAllProperties:a,sSelectedKey:t})});return n.promise()},enableDisableLabelDisplayOptionTypeAsPromise:function(){var e,t=this;var r=jQuery.Deferred();var a=t.byId("idLabelDisplayOptionType");t.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(o){var n=i(o,t);for(e=0;e<a.getItems().length;e++){a.getItems()[e].setEnabled(true);if(e>0&&!n){a.getItems()[e].setEnabled(false)}}r.resolve()});return r.promise()},getPropertyTextLabelKey:function(){var e=this;return e.oRepresentation.getHierarchyPropertyTextLabelKey()},setPropertyTextLabelKey:function(e,t){var r=this;r.oRepresentation.setHierarchyPropertyTextLabelKey(t)},setNextPropertyInParentObject:function(){return},removePropertyFromParentObject:function(){return},setFocusOnAddRemoveIcons:function(){return}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/representationLegend.controller", ["sap/apf/modeler/ui/controller/representationDimension.controller","sap/apf/modeler/ui/utils/textManipulator"],function(e,t){"use strict";return e.extend("sap.apf.modeler.ui.controller.representationLegend",{getAllPropertiesAsPromise:function(){var e=this,r,a,o,n,i=[];var s=e.oStepPropertyMetadataHandler.oStep;var d=sap.apf.modeler.ui.utils.CONSTANTS;var p=jQuery.Deferred();e.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(l){s.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(s){r=s.consumable;r.forEach(function(t){if(e.oStepPropertyMetadataHandler.getPropertyMetadata(l,t)){n=e.oStepPropertyMetadataHandler.getPropertyMetadata(l,t)["aggregation-role"];if(n===d.aggregationRoles.DIMENSION){i.push(t)}}});a=e.getSelectedProperty();if(a!==e.oTextReader("none")&&a!==undefined){o=i.indexOf(a)!==-1?i:i.concat(a);i=s.available.indexOf(a)!==-1?o:i.concat(t.addPrefixText([a],e.oTextReader));a=s.available.indexOf(a)!==-1?a:t.addPrefixText([a],e.oTextReader)[0]}i.splice(0,0,e.oTextReader("none"));p.resolve({aAllProperties:i,sSelectedKey:a})})});return p.promise()},removeProperties:function(){var e=this;e.getView().getViewData().oRepresentationHandler.getActualLegends().forEach(function(t){e.oRepresentation.removeDimension(t.sProperty)})},enableDisableLabelDisplayOptionTypeAsPromise:function(){var e=jQuery.Deferred();var r,a=this;var o=a.byId("idLabelDisplayOptionType");var n=t.removePrefixText(a.byId("idPropertyType").getSelectedKey(),a.oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));a.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(t){var i=a.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(t,n);if(n===a.oTextReader("none")){o.setEnabled(false);e.resolve();return}o.setEnabled(true);for(r=0;r<o.getItems().length;r++){o.getItems()[r].setEnabled(true);if(r>0&&!i){o.getItems()[r].setEnabled(false)}}e.resolve()});return e.promise()},addPropertyAsPromise:function(){var e=jQuery.Deferred();var t=this,r,a=[];var o=t.oStepPropertyMetadataHandler.oStep;var n=sap.apf.modeler.ui.utils.CONSTANTS;t.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(i){o.getConsumablePropertiesForRepresentation(t.oRepresentation.getId()).done(function(o){o.consumable.forEach(function(e){if(t.oStepPropertyMetadataHandler.getPropertyMetadata(i,e)){r=t.oStepPropertyMetadataHandler.getPropertyMetadata(i,e)["aggregation-role"];if(r===n.aggregationRoles.DIMENSION){a.push(e)}}});t.getView().fireEvent(n.events.ADDPROPERTY,{sProperty:a[0],sContext:t.getView().getViewData().oPropertyTypeData.sContext});t.oConfigurationEditor.setIsUnsaved();e.resolve()})});return e.promise()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/representationMeasure.controller", ["sap/apf/modeler/ui/controller/propertyType","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/apf/core/constants"],function(e,t,a,r){"use strict";t=t||sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder;var o=sap.apf.modeler.ui.utils.textManipulator;e.extend("sap.apf.modeler.ui.controller.representationMeasure",{setLabelDisplayOptionTypeAsPromise:function(e){var a=this;var o=a.getView().getViewData().oPropertyTypeData.sProperty;if(!a.oRepresentationTypeHandler.isCombinationChart(a.oRepresentation.getRepresentationType())){if(a.byId("idLabelDisplayOptionType")){a.byId("idLabelDisplayOptionType").destroy();a.byId("idPropertyTypeLayout").setSpan("L4 M4 S4");a.oRepresentation.setMeasureDisplayOption(o,undefined)}}else{var i=new t(a.oTextReader,e);var n=i.getMeasureDisplayOptions();a.byId("idLabelDisplayOptionType").setModel(n);var s=a.oRepresentation.getMeasureDisplayOption(o);if(!s){var p=a.getView().getViewData().oPropertyTypeData.bMandatory?r.representationMetadata.measureDisplayOptions.BAR:r.representationMetadata.measureDisplayOptions.LINE;a.byId("idLabelDisplayOptionType").setSelectedKey(p);a.oRepresentation.setMeasureDisplayOption(o,p)}else{a.byId("idLabelDisplayOptionType").setSelectedKey(s)}}return jQuery.Deferred().resolve()},changeLabelDisplayOption:function(e){var t=this;var a=t.getView().getViewData().oPropertyTypeData.sProperty;t.oRepresentation.setMeasureDisplayOption(a,e)},getAllPropertiesAsPromise:function(){var e=this,t,a,r,i,n=[];var s=e.oStepPropertyMetadataHandler.oStep;var p=sap.apf.modeler.ui.utils.CONSTANTS;var d=jQuery.Deferred();e.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(y){s.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(s){t=s.consumable;t.forEach(function(t){if(e.oStepPropertyMetadataHandler.getPropertyMetadata(y,t)){i=e.oStepPropertyMetadataHandler.getPropertyMetadata(y,t)["aggregation-role"];if(i===p.aggregationRoles.MEASURE){n.push(t)}}});a=e.getSelectedProperty();if(a!==undefined){r=n.indexOf(a)!==-1?n:n.concat(a);n=s.available.indexOf(a)!==-1?r:n.concat(o.addPrefixText([a],e.oTextReader));a=s.available.indexOf(a)!==-1?a:o.addPrefixText([a],e.oTextReader)[0]}d.resolve({aAllProperties:n,sSelectedKey:a})})});return d.promise()},getPropertyTextLabelKey:function(e){var t=this;return t.oRepresentation.getMeasureTextLabelKey(e)},updatePropertiesInConfiguration:function(e){var t=this;t.oRepresentation.getMeasures().forEach(function(e){t.oRepresentation.removeMeasure(e)});e.forEach(function(e){t.oRepresentation.addMeasure(e.sProperty);t.oRepresentation.setMeasureKind(e.sProperty,e.sKind);t.oRepresentation.setMeasureTextLabelKey(e.sProperty,e.sTextLabelKey);t.oRepresentation.setMeasureDisplayOption(e.sProperty,e.sMeasureDisplayOption)})},createNewPropertyInfoAsPromise:function(e){var t=this,a={};a.sProperty=e;a.sKind=t.getView().getViewData().oPropertyTypeData.sContext;a.sTextLabelKey=undefined;return sap.apf.utils.createPromise(a)},setPropertyTextLabelKey:function(e,t){var a=this;a.oRepresentation.setMeasureTextLabelKey(e,t)},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObjectAsPromise().then(function(){e.setDetailData()})},removePropertyFromParentObject:function(){var e=this;e.oRepresentation.removeMeasure(o.removePrefixText(e.byId("idPropertyType").getSelectedKey(),e.oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE)))},addPropertyAsPromise:function(){var e=jQuery.Deferred();var t=this,a,r=[];var o=t.oStepPropertyMetadataHandler.oStep;var i=sap.apf.modeler.ui.utils.CONSTANTS;t.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(n){o.getConsumablePropertiesForRepresentation(t.oRepresentation.getId()).done(function(o){o.consumable.forEach(function(e){if(t.oStepPropertyMetadataHandler.getPropertyMetadata(n,e)){a=t.oStepPropertyMetadataHandler.getPropertyMetadata(n,e)["aggregation-role"];if(a===i.aggregationRoles.MEASURE){r.push(e)}}});t.getView().fireEvent(i.events.ADDPROPERTY,{sProperty:r[0],sContext:t.getView().getViewData().oPropertyTypeData.sContext});t.oConfigurationEditor.setIsUnsaved();e.resolve()})});return e.promise()}})});
sap.ui.predefine("sap/apf/modeler/ui/controller/representationProperty.controller", ["sap/apf/modeler/ui/controller/propertyType","sap/apf/modeler/ui/utils/textManipulator","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,t,r,jQuery){"use strict";var o=sap.apf.modeler.ui.utils.textManipulator;return e.extend("sap.apf.modeler.ui.controller.representationProperty",{onBeforeRendering:function(){var e=this;if(e.byId("idLabelDisplayOptionType")){e.byId("idLabelDisplayOptionType").destroy()}e.byId("idPropertyTypeLayout").setSpan("L4 M4 S4")},getAllPropertiesAsPromise:function(){var e=this,t,r,a=[];var n=e.oStepPropertyMetadataHandler.oStep;var i=jQuery.Deferred();n.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(n){n.consumable.forEach(function(t){e.oStepPropertyMetadataHandler.getProperties().forEach(function(e){if(t===e){a.push(t)}})});t=e.getSelectedProperty();if(t!==e.oTextReader("none")&&t!==undefined){r=a.indexOf(t)!==-1?a:a.concat(t);if(n.available.indexOf(t)!==-1||t===e.oTextReader("none")){a=r}else{a=a.concat(o.addPrefixText([t],e.oTextReader));t=o.addPrefixText([t],e.oTextReader)[0]}}if(e.oStepPropertyMetadataHandler.getStepType()==="hierarchicalStep"){a.splice(0,0,e.oTextReader("none"))}i.resolve({aAllProperties:a,sSelectedKey:t})});return i.promise()},getPropertyTextLabelKey:function(e){var t=this;return t.oRepresentation.getPropertyTextLabelKey(e)},updatePropertiesInConfiguration:function(e){var t=this;t.oRepresentation.getProperties().forEach(function(e){t.oRepresentation.removeProperty(e)});e.forEach(function(e){t.oRepresentation.addProperty(e.sProperty);t.oRepresentation.setPropertyKind(e.sProperty,e.sKind);t.oRepresentation.setPropertyTextLabelKey(e.sProperty,e.sTextLabelKey)})},createNewPropertyInfoAsPromise:function(e){var t=this,r={};r.sProperty=e;r.sKind=t.getView().getViewData().oPropertyTypeData.sContext;r.sTextLabelKey=undefined;return sap.apf.utils.createPromise(r)},setPropertyTextLabelKey:function(e,t){var r=this;r.oRepresentation.setPropertyTextLabelKey(e,t)},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObjectAsPromise().then(function(){e.setDetailData()})},removePropertyFromParentObject:function(){var e=this;e.oRepresentation.removeProperty(o.removePrefixText(e.byId("idPropertyType").getSelectedKey(),e.oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE)))},addPropertyAsPromise:function(){var e=this,t=[];var r=e.oStepPropertyMetadataHandler.oStep;var o=sap.apf.modeler.ui.utils.CONSTANTS;r.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(r){r.consumable.forEach(function(r){e.oStepPropertyMetadataHandler.getProperties().forEach(function(e){if(r===e){t.push(r)}})});e.getView().fireEvent(o.events.ADDPROPERTY,{sProperty:t[0],sContext:e.getView().getViewData().oPropertyTypeData.sContext});e.oConfigurationEditor.setIsUnsaved()})}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/representationSortPropertyType.controller", ["sap/apf/modeler/ui/controller/sortPropertyType","sap/apf/modeler/ui/utils/textManipulator","sap/ui/thirdparty/jquery"],function(e,t,jQuery){"use strict";var r=sap.apf.modeler.ui.utils.textManipulator;var o=sap.apf.modeler.ui.controller.sortPropertyType.extend("sap.apf.modeler.ui.controller.representationSortPropertyType",{onBeforeRendering:function(){var e=this;e.byId("idGridSortLabel").setSpan("L2 M2 S2");e.byId("idGridSortProperty").setSpan("L4 M4 S4");e.byId("idGridSortDirectionLabel").setSpan("L2 M2 S2");e.byId("idGridSortDirection").setSpan("L3 M3 S2");e.byId("idGridIconLayout").setSpan("L1 M1 S1")},disableView:function(){var e=this;if(e.oStepPropertyMetadataHandler.oStep.getTopN()){e.byId("idSortProperty").setEnabled(false);e.byId("idSortDirection").setEnabled(false);e.byId("idAddPropertyIcon").setVisible(false);e.byId("idRemovePropertyIcon").setVisible(false)}},getAllPropertiesAsPromise:function(){var e=this,t,o,i;var a=jQuery.Deferred();e.oStepPropertyMetadataHandler.oStep.getConsumableSortPropertiesForRepresentation(e.oParentObject.getId()).done(function(n){t=n.consumable;o=e.getSelectedSortProperty();if(o!==e.oTextReader("none")&&o!==undefined){i=t.indexOf(o)!==-1?t:t.concat(o);t=n.available.indexOf(o)!==-1?i:t.concat(r.addPrefixText([o],e.oTextReader));o=n.available.indexOf(o)!==-1?o:r.addPrefixText([o],e.oTextReader)[0]}t.splice(0,0,e.oTextReader("none"));a.resolve({aAllProperties:t,sSelectedKey:o})});return a.promise()},updateOfConfigurationObjectOfSubclass:function(e){var t=this;t.oParentObject.removeAllOrderbySpecs();e.forEach(function(e){t.oParentObject.addOrderbySpec(e.property,e.ascending)})},getOrderBy:function(){var e=this;return e.oParentObject.getOrderbySpecifications()},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObject();e.byId("idSortDirection").setSelectedKey("true")},removePropertyFromParentObject:function(){var e=this;e.oParentObject.removeOrderbySpec(r.removePrefixText(e.byId("idSortProperty").getSelectedKey(),e.oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE)))},addPropertyAsPromise:function(){var e=this;var t=jQuery.Deferred();var r=sap.apf.modeler.ui.utils.CONSTANTS.events;e.oStepPropertyMetadataHandler.oStep.getConsumableSortPropertiesForRepresentation(e.oParentObject.getId()).done(function(o){e.getView().fireEvent(r.ADDPROPERTY,{oSourceView:e.getView(),sProperty:o.consumable[0],sContext:e.getView().getViewData().oPropertyTypeData.sContext});e.oConfigurationEditor.setIsUnsaved();t.resolve()});return t.promise()}});return o},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/requestOptions", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/constants","sap/apf/cloudFoundry/uiHandler"],function(e,t,r,i,o,a,n){"use strict";function l(e){e.byId("idSource").attachEvent("selectService",e.handleSelectionOfService.bind(e))}function s(e){var r=jQuery.Deferred();e.setLabelDisplayOptionTypeAsPromise(t).done(function(){if(!e.byId("idOptionalRequestField")){r.resolve()}else{e.enableDisableLabelDisplayOptionTypeAsPromise().done(function(){r.resolve()})}});return r}var d=sap.ui.core.mvc.Controller.extend("sap.apf.modeler.ui.controller.requestOptions",{viewValidator:{},oConfigurationEditor:{},oParentObject:{},oStepPropertyMetadataHandler:{},initPromise:{},onInit:function(){var e=this;this.initPromise=jQuery.Deferred();var t=e.getView().getViewData().oConfigurationHandler.getTextPool();e.oSuggestionTextHandler=new i.SuggestionTextHandler(t);e.viewValidator=new o(e.getView());e.oConfigurationEditor=e.getView().getViewData().oConfigurationEditor;e.oParentObject=e.getView().getViewData().oParentObject;e.oStepPropertyMetadataHandler=e.getView().getViewData().oStepPropertyMetadataHandler;e.setDetailData();e.setDisplayText();l(e)},setDetailData:function(){var e=this;e.setSource();e.setEntityAsPromise().done(function(){e.setOptionalHierarchicalProperty();e.setSelectProperties().done(function(){e.setOptionalRequestFieldProperty();s(e).done(function(){e.initPromise.resolve()})})})},setSource:function(){var t=this;var r=t.getSource();t.byId("idSource").setValue("");t.setValidationStateForService();if(!e.checkIsNotNullOrUndefinedOrBlank(r)){t.addOrRemoveMandatoryFieldsAndRequiredFlag(false);return}t.byId("idSource").setValue(r);t.addOrRemoveMandatoryFieldsAndRequiredFlag(true)},setEntityAsPromise:function(){var r=this;var i=jQuery.Deferred();var o,a,n,l;a=r.byId("idSource").getValue();r.byId("idEntity").setModel(null);r.byId("idEntity").clearSelection();if(!e.checkIsNotNullOrUndefinedOrBlank(a)){i.resolve();return i.promise()}r.getAllEntitiesAsPromise(a).done(function(s){n=r.getEntity();if(e.checkIsNotNullOrUndefinedOrBlank(n)){l=r.validateSelectedValues(r,[n],s);s=l.aValues;n=l.aSelectedValues[0]}o=t.convert(s);r.byId("idEntity").setModel(o);if(!e.checkIsNotNullOrUndefinedOrBlank(n)||s.indexOf(n)===-1){r.getAllEntitiesAsPromise(a).done(function(t){n=t[0];if(e.checkIsNotNullOrUndefinedOrBlank(n)){r.byId("idEntity").setSelectedKey(n)}i.resolve()})}else if(e.checkIsNotNullOrUndefinedOrBlank(n)){r.byId("idEntity").setSelectedKey(n);i.resolve()}});return i.promise()},setSelectProperties:function(){var i=jQuery.Deferred();var o=this;var n,l,s,d,u=[];var c=o.getView().getViewData().oTextReader;n=o.byId("idSource").getValue();var p=o.getIdOfPropertiesControl();o.byId(p).setModel(null);o.byId(p).clearSelection();l=r.removePrefixText(o.byId("idEntity").getSelectedKey(),c(a.texts.NOTAVAILABLE));o.getAllEntitySetPropertiesAsPromise(n,l).done(function(r){s=o.getSelectProperties();if(e.checkIsNotNullOrUndefinedOrBlank(s)){u=o.validateSelectedValues(o,s,r);r=u.aValues;s=u.aSelectedValues}d=t.convert(r);o.byId(p).setModel(d);o.setSelectedKeysForProperties(s);i.resolve()});return i},updateSubViewInstancesOnReset:function(e){var t=this;t.oConfigurationEditor=e.getParameter("oConfigurationEditor");t.oParentObject=e.getParameter("oParentObject");t.setDetailData()},setDisplayText:function(){},handleChangeForSourceAsPromise:function(t){var i=jQuery.Deferred();var o=this,n,l;var s=o.byId("idSource").getValue().trim();var d=o.getView().getViewData().oTextReader;o.setValidationStateForService();if(!e.checkIsNotNullOrUndefinedOrBlank(s)){o.clearSource();o.addOrRemoveMandatoryFieldsAndRequiredFlag(false);o.setEntityAsPromise(o).done(function(){n=r.removePrefixText(o.byId("idEntity").getSelectedKey(),d(a.texts.NOTAVAILABLE));o.updateEntity(n);o.setSelectProperties();l=o.getSelectedKeysForProperties();o.updateSelectProperties(l);o.setOptionalHierarchicalProperty().done(function(){var e=r.removePrefixText(o.byId("idOptionalProperty").getSelectedKey(),d(a.texts.NOTAVAILABLE));o.updateHierarchicalProperty(e);o.setOptionalRequestFieldProperty();o.oConfigurationEditor.setIsUnsaved();o.fireRelevantEvents(t);i.resolve()})})}else{o.oConfigurationEditor.registerServiceAsPromise(s).done(function(u){o.getAllEntitiesAsPromise(s).done(function(c){if(u){o.addOrRemoveMandatoryFieldsAndRequiredFlag(true);o.updateSource(s);if(!e.checkIsNotNullOrUndefinedOrBlank(c)){var p={sValueState:sap.ui.core.ValueState.Error,sValueStateText:d("hierarchicalServiceError")};o.setValidationStateForService(p);o.resetEntityAndProperties();return}}else{o.clearSource();o.addOrRemoveMandatoryFieldsAndRequiredFlag(false)}o.setEntityAsPromise(o).done(function(){n=r.removePrefixText(o.byId("idEntity").getSelectedKey(),d(a.texts.NOTAVAILABLE));o.updateEntity(n);o.setSelectProperties();l=o.getSelectedKeysForProperties();o.updateSelectProperties(l);o.setOptionalHierarchicalProperty().done(function(){var e=r.removePrefixText(o.byId("idOptionalProperty").getSelectedKey(),d(a.texts.NOTAVAILABLE));o.updateHierarchicalProperty(e);o.setOptionalRequestFieldProperty();o.oConfigurationEditor.setIsUnsaved();o.fireRelevantEvents(t);i.resolve()})})})})}return i.promise()},handleChangeForEntity:function(e){var t=this,i,o;var n=t.getView().getViewData().oTextReader;i=r.removePrefixText(t.byId("idEntity").getSelectedKey(),n(a.texts.NOTAVAILABLE));t.updateEntity(i);t.setSelectProperties();o=t.getSelectedKeysForProperties();t.updateSelectProperties(o);t.setOptionalHierarchicalProperty();var l=r.removePrefixText(t.byId("idOptionalProperty").getSelectedKey(),n(a.texts.NOTAVAILABLE));t.updateHierarchicalProperty(l);t.setOptionalRequestFieldProperty();t.oConfigurationEditor.setIsUnsaved();t.fireRelevantEvents(e)},handleChangeForSelectProperty:function(e){var t=this;var r=t.getSelectedKeysForProperties();t.updateSelectProperties(r);t.setOptionalRequestFieldProperty();s(t);t.oConfigurationEditor.setIsUnsaved();t.fireRelevantEvents(e)},handleChangeForOptionalRequestField:function(e){var t=this;var i=t.getView().getViewData().oTextReader;var o=[r.removePrefixText(t.byId("idOptionalRequestField").getSelectedKey(),i(a.texts.NOTAVAILABLE))];t.updateOptionalRequestFieldProperty(o);s(t);t.oConfigurationEditor.setIsUnsaved();t.fireRelevantEvents(e)},handleChangeForOptionalLabelDisplayOptionType:function(){var e=this;var t=e.byId("idOptionalLabelDisplayOptionType").getSelectedKey();e.changeLabelDisplayOption(t);e.oConfigurationEditor.setIsUnsaved()},handleChangeForOptionalSelectedPropertyLabelText:function(){var e=this;var t=e.byId("idOptionalSelectedPropertyLabelText").getValue();e.changeOptionalSelectedPropertyLabelText(t);e.oConfigurationEditor.setIsUnsaved()},handleSuggestionsForSource:function(e){var t=this;var r=t.oConfigurationEditor.getAllServices();t.oSuggestionTextHandler.manageSuggestions(e,r)},fireRelevantEvents:function(){},addOrRemoveMandatoryFieldsAndRequiredFlag:function(e){var t=this;t.byId("idEntityLabel").setRequired(e);t.byId(t.getIdOfPropertyLabel()).setRequired(e);if(e){t.viewValidator.addFields(["idEntity",t.getIdOfPropertiesControl()])}else{t.viewValidator.removeFields(["idEntity",t.getIdOfPropertiesControl()])}},handleSelectionOfService:function(e){var t=e.getParameter("sSelectedService");e.getSource().setValue(t);e.getSource().fireEvent("change")},handleShowValueHelpRequest:function(e){var t=this;var r={oTextReader:t.getView().getViewData().oTextReader,parentControl:e.getSource(),getCalatogServiceUri:t.getView().getViewData().getCalatogServiceUri};var i=t.getView().getViewData();if(i.oCoreApi&&i.oCoreApi.isUsingCloudFoundryProxy()){n.showValueHelp(r,i.oCoreApi,this)}else{sap.ui.view({id:t.createId("idCatalogServiceView"),viewName:"sap.apf.modeler.ui.view.catalogService",type:sap.ui.core.mvc.ViewType.XML,viewData:r})}},getNonCommonValues:function(t,r){var i=[];if(!e.checkIsNotNullOrUndefined(t)){return i}i=t.filter(function(e){return r.indexOf(e)===-1});return i},validateSelectedValues:function(e,t,i){var o={},a=[],n=[],l=[],s=[],d;var u=e.getView().getViewData().oTextReader;o=sap.apf.utils.validateSelectedValues(t,i);a=o.invalid;n=o.valid;l=r.addPrefixText(a,u);s=l.concat(i).length!==0?l.concat(i):i;d=l.concat(n).length!==0?l.concat(n):t;return{aValues:s,aSelectedValues:d}},handleSuggestionsForSelectedPropertyLabel:function(e){this.oSuggestionTextHandler.manageSuggestionTexts(e,i.TranslationFormatMap.STEPFILTERPROPERTY_LABEL)},resetEntityAndProperties:function(){},setOptionalRequestFieldProperty:function(){},setOptionalHierarchicalProperty:function(){return jQuery.Deferred().resolve()},getIdOfPropertiesControl:function(){return"idSelectProperties"},getIdOfPropertyLabel:function(){return"idSelectPropertiesLabel"},setSelectedKeysForProperties:function(e){var t=this;t.byId("idSelectProperties").setSelectedKeys(e)},getSelectedKeysForProperties:function(){var e=this,t=[],i=[];var o=e.getView().getViewData().oTextReader;t=e.byId("idSelectProperties").getSelectedKeys();t.forEach(function(e){i.push(r.removePrefixText(e,o(a.texts.NOTAVAILABLE)))});return i},setValidationStateForService:function(e){var t=this;var r={sValueState:sap.ui.core.ValueState.None,sValueStateText:""};var i=e?e:r;t.byId("idSource").setValueState(i.sValueState);t.byId("idSource").setValueStateText(i.sValueStateText)},getSource:function(){},updateSource:function(e){},clearSource:function(){},getAllEntitiesAsPromise:function(e){return sap.apf.utils.createPromise()},getEntity:function(){},updateEntity:function(e){},clearEntity:function(){},getAllEntitySetPropertiesAsPromise:function(e,t){return sap.apf.utils.createPromise()},setLabelDisplayOptionTypeAsPromise:function(e){return sap.apf.utils.createPromise()},enableDisableLabelDisplayOptionTypeAsPromise:function(){return sap.apf.utils.createPromise()},getSelectProperties:function(){},updateSelectProperties:function(e){},clearSelectProperties:function(){},removeSelectProperties:function(e){},getOptionalRequestFieldProperty:function(){},updateOptionalRequestFieldProperty:function(e){},updateHierarchicalProperty:function(e){},clearOptionalRequestFieldProperty:function(){},removeOptionalRequestFieldProperty:function(e){},changeLabelDisplayOption:function(e){},changeOptionalSelectedPropertyLabelText:function(e){},handleChangeForOptionalProperty:function(){}});return d},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/smartFilterBarRequest.controller", ["sap/apf/modeler/ui/controller/requestOptions"],function(e){"use strict";var t=sap.apf.modeler.ui.controller.requestOptions.extend("sap.apf.modeler.ui.controller.smartFilterBarRequest",{setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("entity"))},onBeforeRendering:function(){var e=this;e.byId("idSelectPropertiesLabel").setVisible(false);e.byId("idSelectProperties").setVisible(false)},onAfterRendering:function(){var e=this;if(e.byId("idSource").getValue().length===0){e.byId("idSource").focus()}},addOrRemoveMandatoryFieldsAndRequiredFlag:function(e,t){var i=this;i.byId("idEntityLabel").setRequired(e);if(e){i.viewValidator.addFields(["idEntity"])}else{i.viewValidator.removeFields(["idEntity"])}},getSource:function(){var e=this;return e.oParentObject.getService()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsExceptParameterEntitySets(e)},getEntity:function(){var e=this;return e.oParentObject.getEntitySet()},clearSource:function(){var e=this;e.oParentObject.setService(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setEntitySet(undefined)},updateSource:function(e){var t=this;t.oParentObject.setService(e)},updateEntity:function(e){var t=this;t.oParentObject.setEntitySet(e)},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()}});return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/sortPropertyType", ["sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/staticValuesBuilder","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/utils/utils"],function(e,t,r,o,i,a){"use strict";var n="idSortProperty";var d="idSortDirection";var e=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var s=sap.apf.modeler.ui.utils.textManipulator;var u=sap.apf.modeler.ui.utils.CONSTANTS.events;function p(e){e.byId("idSortLabel").setText(e.oTextReader("sortingField"));e.byId("idSortLabel").setTooltip(e.oTextReader("sortingField"));e.byId("idSortDirectionLabel").setText(e.oTextReader("direction"));e.byId("idSortDirectionLabel").setTooltip(e.oTextReader("direction"));e.byId("idAddPropertyIcon").setTooltip(e.oTextReader("addButton"));e.byId("idRemovePropertyIcon").setTooltip(e.oTextReader("deleteButton"))}function l(e){if(sap.ui.Device.browser.msie&&sap.ui.Device.browser.version>=11){e.byId("idAriaPropertyForSortGroup").setText(e.oTextReader("sorting"))}e.byId("idAriaPropertyForAdd").setText(e.oTextReader("ariaTextForAddIcon"));e.byId("idAriaPropertyForDelete").setText(e.oTextReader("ariaTextForDeleteIcon"))}function f(t){var r=t.byId(n);t.getAllPropertiesAsPromise().done(function(t){var o=e.convert(t.aAllProperties);r.setModel(o);r.setSelectedKey(t.sSelectedKey)})}function c(t){var r=t.byId(d);var o=new sap.apf.modeler.ui.utils.StaticValuesBuilder(t.oTextReader,e);var i=o.getSortDirections();r.setModel(i);r.setSelectedKey(t.getView().getViewData().oPropertyTypeData.sContext)}function y(e){var t=true,r=true;var o=e.getView().getViewData().oPropertyTypeState;var i=o.indexOfPropertyTypeViewId(e.getView().getId());if(o.indexOfPropertyTypeViewId(e.getView().getId())===0){r=false}e.byId("idAddPropertyIcon").setVisible(t);e.byId("idRemovePropertyIcon").setVisible(r);if(i>0&&o.aProperties!==undefined){var a=o.getViewAt(i-1);a.oController.byId("idAddPropertyIcon").setVisible(false)}}function v(e,t){var r=e.getView().getViewData().oPropertyTypeState;if(r!==undefined){var o=r.aProperties.length;var i=r.getViewAt(t-1);var a=e.oConfigurationEditor.isSaved();if(t>1&&t==o&&a==false){i.oController.byId("idAddPropertyIcon").setVisible(true);i.oController.byId("idRemovePropertyIcon").setVisible(true)}if(t===1&&t==o&&a==false){i.oController.byId("idAddPropertyIcon").setVisible(true)}}}function g(e){e.byId("idAddPropertyIcon").attachEvent(u.SETFOCUSONADDICON,e.setFocusOnAddRemoveIcons.bind(e))}var P=sap.ui.core.mvc.Controller.extend("sap.apf.modeler.ui.controller.sortPropertyType",{oConfigurationEditor:{},oParentObject:{},oStepPropertyMetadataHandler:{},oTextReader:{},onInit:function(){var e=this;e.oConfigurationEditor=e.getView().getViewData().oConfigurationEditor;e.oParentObject=e.getView().getViewData().oParentObject;e.oStepPropertyMetadataHandler=e.getView().getViewData().oStepPropertyMetadataHandler;e.oTextReader=e.getView().getViewData().oCoreApi.getText;e.setDetailData()},onAfterRendering:function(){var e=this;e.byId("idAddPropertyIcon").fireEvent(u.SETFOCUSONADDICON)},setDetailData:function(){var e=this;p(e);l(e);f(e);c(e);y(e);e.disableView()},handleChangeForSortProperty:function(e){var t=this;var r=s.removePrefixText(t.byId(n).getSelectedKey(),t.oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));var o=t.getView().getViewData().oPropertyOrchestration;var i=t.getView().getId();return new Promise(function(e){t.getView().fireEvent(u.UPDATEPROPERTYVALUESTATE,{sProperty:r});o.updatePropertyTypeRow(i,r);o.updateAllSelectControlsForPropertyType().then(function(){t.updateOfConfigurationObject();t.oConfigurationEditor.setIsUnsaved();e()})})},handleChangeForSortDirection:function(){var e=this;e.updateOfConfigurationObject();e.oConfigurationEditor.setIsUnsaved()},setFocusOnAddRemoveIcons:function(){var e=this;e.byId("idAddPropertyIcon").focus()},handlePressOfAddPropertyIcon:function(){var e=this;g(e);e.addPropertyAsPromise()},handlePressOfRemovePropertyIcon:function(){var e=this;var t=e.getView().getViewData();var r=e.getView().getViewData().oPropertyTypeState;if(r!==undefined){var o=r.indexOfPropertyTypeViewId(e.getView().getId())}return new Promise(function(r){e.getView().fireEvent(u.FOCUSONREMOVE);var i=t.oPropertyOrchestration;i.removePropertyTypeReference(e.getView().getId());i.updateAllSelectControlsForPropertyType().then(function(){e.updateOfConfigurationObject();t.oPropertyTypeHandlerBackLink.handlePressOfRemove({oSourceView:e.getView()});v(e,o);e.oConfigurationEditor.setIsUnsaved();e.getView().destroy();r()})})},updateOfConfigurationObject:function(){var e=this;var t=e.getView().getViewData().oPropertyOrchestration;var r=t.getSortPropertyInformationList(d);e.updateOfConfigurationObjectOfSubclass(r)},getSelectedSortProperty:function(){var e=this;var t=e.getView().getViewData().oPropertyTypeState;var r=t.getPropertyValueState();var o=t.indexOfPropertyTypeViewId(e.getView().getId());return r[o]},removeAllItemsFromDropDownList:function(){var e=this;var t=e.byId(n);t.getItems().forEach(function(e){t.removeItem(e)})},setItemsOfDropDownList:function(e,t,r){function o(e,t){return e.indexOf(t)!==-1}var i=this;var a=i.byId(n);var d=r===i.oTextReader("none");var u=JSON.parse(JSON.stringify(e));a.addItem(new sap.ui.core.Item({key:i.oTextReader("none"),text:i.oTextReader("none")}));if(!o(u,r)&&!d){u.unshift(r)}u=u.filter(function(e){return e!==i.oTextReader("none")});u.forEach(function(e){var n=e;if(!o(t,e)&&!d){e=s.addPrefixText([e],i.oTextReader)[0]}var u=new sap.ui.core.Item({key:e,text:e});a.addItem(u);if(n===r){r=e}});a.setSelectedKey(r)},updateOfConfigurationObjectOfSubclass:function(e){},getOrderBy:function(){},setNextPropertyInParentObject:function(){},removePropertyFromParentObject:function(){},disableView:function(){},addPropertyAsPromise:function(){return sap.apf.utils.createPromise()}});return P},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/step.controller", ["sap/apf/modeler/ui/utils/sortDataHandler","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/stepPropertyMetadataHandler","sap/apf/modeler/ui/utils/textPoolHelper"],function(e,t,i,a,r,n){"use strict";var o,d,s,l,p,u,g,c,f,S,I,T;var v=sap.apf.modeler.ui.utils.TranslationFormatMap.STEP_TITLE;var b=sap.apf.modeler.ui.utils.TranslationFormatMap.STEP_LONG_TITLE;function y(e){e.byId("idStepBasicData").setText(d("stepBasicData"));e.byId("idStepTitleLabel").setText(d("stepTitle"));e.byId("idStepTitle").setPlaceholder(d("newStep"));e.byId("idStepLongTitleLabel").setText(d("stepLongTitle"));e.byId("idStepLongTitle").setPlaceholder(d("stepLongTitle"));e.byId("idCategoryTitleLabel").setText(d("categoryAssignments"));e.byId("idGlobalLabel").setText(d("globalNavigationTarget"));e.byId("idStepSpecificLabel").setText(d("stepSpecificNavTargets"));e.byId("idDataRequest").setText(d("dataRequest"));e.byId("idFilterMapping").setText(d("filterMap"));e.byId("idFilterMapKeepSourceLabel").setText(d("filterMapKeepSource"));e.byId("idNavigationTarget").setText(d("navigationTargetAssignments"));e.byId("idDataReduction").setText(d("dataReduction"));e.byId("idDataReductionLabel").setText(d("dataReductionType"));e.byId("idNoDataReduction").setText(d("noDataReduction"));e.byId("idTopN").setText(d("topN"));e.byId("idNumberOfRecordsLabel").setText(d("recordNumber"));e.byId("idAriaPropertyForDataReduction").setText(d("dataReductionType"))}function N(e,t){var i=d(I?"hierarchicalStepTitle":"step")+": "+t;e.getView().getViewData().updateTitleAndBreadCrumb(i);m(e,t)}function m(e,t){var i=d(I?"hierarchicalStepTitle":"step")+": "+t;e.getView().getViewData().oTitleBreadCrumbController.byId("IdFormTitle").setText(i)}function h(e,t){var i={id:g.getId(),icon:g.getType()==="hierarchicalStep"?"sap-icon://drill-down":"sap-icon://step"};if(t){i.name=t}e.getView().getViewData().updateSelectedNode(i)}function V(e){var i,a;if(o&&o.arguments&&o.arguments.stepId){g=l.getStep(o.arguments.stepId);I=g&&g.getType()==="hierarchicalStep"?true:false}if(!t.checkIsNotUndefined(g)){a=o.arguments.categoryId;I=o.bIsHierarchicalStep;if(I){i=l.createHierarchicalStep(a)}else{i=l.createStep(a)}g=l.getStep(i);h(e)}}function C(e){var t=this;var i=e.getParameter("bShowFilterMappingLayout");t.byId("idStepFilterMappingVBox").setVisible(i);t.byId("idFilterMapKeepSourceLabel").setVisible(i);t.byId("idFilterKeepSourceCheckBox").setVisible(i);if(!i){t.byId("idFilterMapping").setText("");t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.RESETFILTERMAPPINGFIELDS)}else{t.byId("idFilterMapping").setText(d("filterMap"))}}function E(e){e.byId("idDataReductionForm").setVisible(!I)}function O(e,t,i,a,r){sap.ui.view({viewName:a,type:sap.ui.core.mvc.ViewType.XML,id:e.createId(r),viewData:i,controller:t})}function R(e){var t,i,a,r,n,o,u;t={oTextReader:d,oConfigurationEditor:l,oTextPool:p,oParentObject:g,oStepPropertyMetadataHandler:T,oCoreApi:e.getView().getViewData().oCoreApi};i=new sap.ui.controller("sap.apf.modeler.ui.controller.stepCornerTexts");O(e,i,t,"sap.apf.modeler.ui.view.cornerTexts","idStepCornerTextView");n=e.byId("idStepCornerTextView");e.byId("idStepCornerTextVBox").insertItem(n);t.oConfigurationHandler=s;t.getCalatogServiceUri=e.getView().getViewData().getCalatogServiceUri;if(I){a=new sap.ui.controller("sap.apf.modeler.ui.controller.hierarchicalStepRequest")}else{a=new sap.ui.controller("sap.apf.modeler.ui.controller.stepRequest")}O(e,a,t,"sap.apf.modeler.ui.view.requestOptions","idStepRequestView");o=e.byId("idStepRequestView");e.byId("idStepRequestVBox").insertItem(o);r=new sap.ui.controller("sap.apf.modeler.ui.controller.stepFilterMapping");O(e,r,t,"sap.apf.modeler.ui.view.requestOptions","idStepFilterMappingView");u=e.byId("idStepFilterMappingView");e.byId("idStepFilterMappingVBox").insertItem(u);o.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETDATAREDUCTIONSECTION,e.setDataReductionSection.bind(e));o.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,C.bind(e));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,C.bind(e));o.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.UPDATEFILTERMAPPINGFIELDS,u.getController().updateFilterMappingFields.bind(u.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.RESETFILTERMAPPINGFIELDS,u.getController().resetFilterMappingFields.bind(u.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,n.getController().updateSubViewInstancesOnReset.bind(n.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,o.getController().updateSubViewInstancesOnReset.bind(o.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,u.getController().updateSubViewInstancesOnReset.bind(u.getController()));o.addStyleClass("formTopPadding");o.addStyleClass("formBottomPadding");u.addStyleClass("formTopPadding");u.addStyleClass("formBottomPadding")}function w(e){if(!t.checkIsNotNullOrUndefinedOrBlank(l.getStep(o.arguments.stepId))){return}e.byId("idStepTitle").setValue(g.getId());if(t.checkIsNotNullOrUndefinedOrBlank(g.getTitleId())&&p.get(g.getTitleId())){e.byId("idStepTitle").setValue(p.get(g.getTitleId()).TextElementDescription)}}function F(e){if(!t.checkIsNotNullOrUndefinedOrBlank(l.getStep(o.arguments.stepId))){return}e.byId("idStepLongTitle").setValue("");if(t.checkIsNotNullOrUndefinedOrBlank(g.getLongTitleId())&&p.get(g.getLongTitleId())){e.byId("idStepLongTitle").setValue(p.get(g.getLongTitleId()).TextElementDescription)}}function x(e){var a=[];var r=l.getCategories();r.forEach(function(e){var t={};t.CategoryId=e.getId();t.CategoryTitle=p.get(e.labelKey)?p.get(e.labelKey).TextElementDescription:e.labelKey;a.push(t)});var n=i.prepareModel(a,a.length);e.byId("idCategorySelect").setModel(n);var o=l.getCategoriesForStep(g.getId());if(t.checkIsNotNullOrUndefinedOrBlank(o)){e.byId("idCategorySelect").setSelectedKeys(o)}}function D(e){e.byId("idNumberOfRecordsValue").setValue("");e.byId("idNumberOfRecordsValue").setValueState("None");if(g.getTopN()){e.byId("idNumberOfRecordsValue").setValue(g.getTopN().top)}L(e)}function P(e){e.byId("idDataReductionRadioGroup").setSelectedButton(e.byId("idNoDataReduction"));M(e);if(g.getTopN()){e.byId("idDataReductionRadioGroup").setSelectedButton(e.byId("idTopN"))}}function L(e){var t=e.byId("idDataReductionRadioGroup").getSelectedButton()===e.byId("idTopN")?true:false;e.byId("idNumberOfRecordsLabel").setVisible(t);e.byId("idNumberOfRecordsValue").setVisible(t);if(t){c.addField("idNumberOfRecordsValue")}else{c.removeField("idNumberOfRecordsValue")}}function A(e){if(g.getTopN()){f.instantiateStepSortData();if(g.getTopN().orderby.length===0){e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETTOPNPROPERTIES);var t=S.createMessageObject({code:"11523"});S.putMessage(t)}}else{f.destroySortData()}}function M(e){var t=g.getSelectProperties().length!==0?true:false;e.byId("idDataReductionRadioGroup").setEnabled(t)}function B(e){var t=g.getFilterProperties().length!==0?true:false;e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,{bShowFilterMappingLayout:t})}function U(e){if(t.checkIsNotNullOrUndefinedOrBlank(g.getFilterMappingKeepSource())){e.byId("idFilterKeepSourceCheckBox").setSelected(g.getFilterMappingKeepSource())}}function k(e,t,a,r){var n=[];if(t.length!==0){a.setBusy(true)}t.forEach(function(e){var o={};o.navTargetKey=e.getId();u(e.getId()).then(function(e){o.navTargetName=e;n.push(o);if(n.length===t.length){var d=i.prepareModel(n,n.length);a.setModel(d);a.setSelectedKeys(r);a.setBusy(false)}})})}function K(e){var t=l.getNavigationTargets();var i=g.getNavigationTargets();var a=t.filter(function(e){return e.isStepSpecific()});k(e,a,e.byId("idStepSpecificCombo"),i)}function G(e){var t=l.getNavigationTargets();var i=t.filter(function(e){return e.isGlobal()});var a=i.map(function(e){return e.getId()});k(e,i,e.byId("idGlobalCombo"),a)}sap.ui.controller("sap.apf.modeler.ui.controller.step",{onInit:function(){var t=this,i;var r=t.getView().getViewData();S=r.oCoreApi;d=S.getText;o=r.oParams;s=r.oConfigurationHandler;p=s.getTextPool();l=r.oConfigurationEditor;u=r.getNavigationTargetName;c=new a(t.getView());y(t);V(t);T=new sap.apf.modeler.ui.utils.StepPropertyMetadataHandler(S,g);f=new e(t.getView(),g,T,d);R(t);t.setDetailData();i=t.byId("idStepTitle").getValue().trim();if(i===""){i="< "+d("newStep")+" >"}m(t,i);c.addFields(["idStepTitle","idCategorySelect"])},setDetailData:function(){var e=this;w(e);F(e);x(e);e.setDataReductionSection();E(e);B(e);U(e);K(e);G(e)},onAfterRendering:function(){var e=this;if(e.byId("idStepTitle").getValue().length===0){e.byId("idStepTitle").focus()}},updateSubViewInstancesOnReset:function(e){var t=this;l=e;g=l.getStep(g.getId());t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,{oConfigurationEditor:l,oParentObject:g})},setDataReductionSection:function(){var e=this;P(e);D(e);A(e)},handleChangeForStepTitle:function(){var e=this;var i=l.getCategoriesForStep(g.getId());var a=e.byId("idStepTitle").getValue().trim();if(t.checkIsNotNullOrUndefinedOrBlank(a)){p.setTextAsPromise(a,v).done(function(t){g.setTitleId(t);if(i.length>1){e.getView().getViewData().updateTree()}else{h(e,a)}N(e,a);l.setIsUnsaved()})}else{l.setIsUnsaved()}},handleSuggestionsForStepTitle:function(e){var t=new sap.apf.modeler.ui.utils.SuggestionTextHandler(p);t.manageSuggestionTexts(e,v)},handleChangeForStepLongTitle:function(){var e=this;var i=e.byId("idStepLongTitle").getValue().trim();if(t.checkIsNotNullOrUndefined(i)){p.setTextAsPromise(i,b).done(function(e){g.setLongTitleId(e);l.setIsUnsaved()})}else{l.setIsUnsaved()}},handleSuggestionsForStepLongTitle:function(e){var t=new sap.apf.modeler.ui.utils.SuggestionTextHandler(p);t.manageSuggestionTexts(e,b)},handleChangeForCategory:function(){var e=this;var t=g.getId();var i=o.arguments.categoryId;var a=l.getCategoriesForStep(g.getId());var r=e.byId("idCategorySelect").getSelectedKeys();var n=r.indexOf(i);var d=[];var s=[];var p,u;for(p=0;p<a.length;p++){var c=false;for(u=0;u<r.length;u++){if(a[p]===r[u]){c=true;break}}if(!c){s.push(a[p])}}if(r.length!==0){r.forEach(function(e){l.addCategoryStepAssignment(e,t);var a={oldContext:{name:o.name,arguments:{configId:o.arguments.configId,categoryId:i,stepId:t}},newContext:{arguments:{configId:o.arguments.configId,categoryId:e}}};if(e!==i){d.push(a)}});a.forEach(function(e){if(r.indexOf(e)===-1){l.removeCategoryStepAssignment(e,g.getId())}});if(s.length!==0){s.forEach(function(e){var a={oldContext:{name:o.name,arguments:{configId:o.arguments.configId,categoryId:i,stepId:t}},newContext:{arguments:{configId:o.arguments.configId,categoryId:e}},removeStep:true};if(n===-1&&e===i){var s={arguments:{appId:o.arguments.appId,configId:o.arguments.configId,categoryId:r[0],stepId:t}};a.categoryChangeContext=s;a.changeCategory=true}d.push(a)})}}if(d.length!==0){e.getView().getViewData().updateTree(d)}l.setIsUnsaved()},handleChangeForDataReductionType:function(){var e=this;if(e.byId("idDataReductionRadioGroup").getSelectedButton()===e.byId("idNoDataReduction")){g.resetTopN();e.setDataReductionSection()}else{f.instantiateStepSortData()}L(e);l.setIsUnsaved()},handleValidationForNumberOfRecords:function(e){var t=e.getSource();var i=t.getValue().trim();var a=i.indexOf("E")!==-1||i.indexOf("e")!==-1||i.indexOf(".")!==-1||i<=0||i>1e4?sap.ui.core.ValueState.Error:sap.ui.core.ValueState.None;t.setValueState(a);l.setIsUnsaved()},handleChangeForNoOfRecords:function(e){var i=this;var a=e.getSource().getValue().trim();if(e.getSource().getValueState()===sap.ui.core.ValueState.Error){return}if(t.checkIsNotNullOrUndefinedOrBlank(a)){if(g.getTopN()===undefined){i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETTOPNPROPERTIES)}g.setTopNValue(a)}l.setIsUnsaved()},handleFilterMapKeepSource:function(){var e=this;var t=e.byId("idFilterKeepSourceCheckBox").getSelected();g.setFilterMappingKeepSource(t);l.setIsUnsaved()},handleChangeForStepSpecificNavTargets:function(){var e=this;var t=e.byId("idStepSpecificCombo").getSelectedKeys();var i=g.getNavigationTargets();i.forEach(function(e){if(t.indexOf(e)===-1){g.removeNavigationTarget(e)}});t.forEach(function(e){if(i.indexOf(e)===-1){g.addNavigationTarget(e)}});l.setIsUnsaved()},getValidationState:function(){var e=this;return c.getValidationState()&&e.byId("idStepRequestView").getController().getValidationState()&&e.byId("idStepFilterMappingView").getController().getValidationState()},onExit:function(){var e=this;e.byId("idStepCornerTextView").destroy();e.byId("idStepRequestView").destroy();e.byId("idStepFilterMappingView").destroy()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/stepCornerTexts.controller", ["sap/apf/modeler/ui/controller/cornerTexts"],function(e){"use strict";function t(e,t){var r=t&&e.oTextPool.get(t);return r&&r.TextElementDescription}var r=sap.apf.modeler.ui.controller.cornerTexts.extend("sap.apf.modeler.ui.controller.stepCornerTexts",{setChartIcon:function(){var e=this;e.byId("idChartIcon").setSrc("sap-icon://line-chart");e.byId("idChartIcon").addStyleClass("stepChartIcon")},addStyleClasses:function(){var e=this;e.byId("idLeftUpper").addStyleClass("stepLeftCornerText");e.byId("idRightUpper").addStyleClass("stepRightCornerText");e.byId("idLeftLower").addStyleClass("stepLeftCornerText");e.byId("idRightLower").addStyleClass("stepRightCornerText")},getTranslationFormatMap:function(){return sap.apf.modeler.ui.utils.TranslationFormatMap.STEP_CORNER_TEXT},getLeftUpperCornerText:function(e){var r=this;var a=r.getView().getViewData().oParentObject[e]();var n=t(r,a);return n},getRightUpperCornerText:function(e){var r=this;var a=r.getView().getViewData().oParentObject[e]();var n=t(r,a);return n},getLeftLowerCornerText:function(e){var r=this;var a=r.getView().getViewData().oParentObject[e]();var n=t(r,a);return n},getRightLowerCornerText:function(e){var r=this;var a=r.getView().getViewData().oParentObject[e]();var n=t(r,a);return n}});return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/stepFilterMapping.controller", ["sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/textPoolHelper","sap/ui/thirdparty/jquery"],function(e,t,i,jQuery){"use strict";var r=sap.apf.modeler.ui.utils.nullObjectChecker;var a=sap.apf.modeler.ui.utils.textManipulator;var n=sap.apf.modeler.ui.utils.TranslationFormatMap.STEPFILTERPROPERTY_LABEL;function l(e){var t=e.getView().getViewData().oTextReader;var i=e.oParentObject.getFilterMappingTargetPropertyLabelKey()?t("label"):t("label")+" ("+t("default")+")";e.byId("idOptionalSelectedPropertyLabel").setText(i);e.byId("idOptionalSelectedPropertyLabel").setTooltip(i)}function o(e){var t=e.getSource();var i=e.getEntity();var a;var n=e.oParentObject.getFilterMappingTargetPropertyLabelKey();if(t===undefined||i===undefined){return}if(r.checkIsNotUndefined(n)){a=e.getView().getViewData().oConfigurationHandler.getTextPool().get(n).TextElementDescription;e.byId("idOptionalSelectedPropertyLabelText").setValue(a);return}e.oStepPropertyMetadataHandler.getFilterMappingEntityTypeMetadataAsPromise(t,i).done(function(t){var i=e.oParentObject.getFilterMappingTargetProperties()[0];if(i){a=e.oStepPropertyMetadataHandler.getDefaultLabel(t,i)}e.byId("idOptionalSelectedPropertyLabelText").setValue(a)})}function s(e){e.byId("idOptionalRequestFieldLabel").addStyleClass("filterPropertyLable");e.byId("idOptionalRequestField").addStyleClass("filterProperty");e.byId("idOptionalLabelDisplayOptionType").addStyleClass("filterProperty")}var p=sap.apf.modeler.ui.controller.requestOptions.extend("sap.apf.modeler.ui.controller.stepFilterMapping",{setLabelDisplayOptionTypeAsPromise:function(e){var t=jQuery.Deferred();var i=this;var r=i.getSource();var n=i.getEntity();var s=[];var p=i.getView().getViewData().oTextReader;var d=new sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder(p,e);var u=d.getLabelDisplayOptions();var y=sap.apf.core.constants.representationMetadata.labelDisplayOptions;var c=a.removePrefixText(i.byId("idOptionalRequestField").getSelectedKey(),p(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));l(i);o(i);i.byId("idOptionalLabelDisplayOptionType").setEnabled(true);if(!c){i.byId("idOptionalLabelDisplayOptionType").setModel(u);i.byId("idOptionalLabelDisplayOptionType").setEnabled(false);return t.promise()}var f=i.oParentObject.getFilterMappingTargetPropertyLabelDisplayOption();i.oStepPropertyMetadataHandler.getFilterMappingEntityTypeMetadataAsPromise(r,n).done(function(e){if((f===y.KEY_AND_TEXT||f===y.TEXT)&&!e.getPropertyMetadata(c).text){u=d.getValidatedLabelDisplayOptions();s=a.addPrefixText([f],p);f=s[0]}i.byId("idOptionalLabelDisplayOptionType").setModel(u);i.byId("idOptionalLabelDisplayOptionType").setSelectedKey(f);t.resolve()});return t.promise()},enableDisableLabelDisplayOptionTypeAsPromise:function(){var e=this;var t=e.getSource();var i=e.getEntity();var r=jQuery.Deferred();var n=e.getView().getViewData().oTextReader;var l=e.byId("idOptionalLabelDisplayOptionType");var o=a.removePrefixText(e.byId("idOptionalRequestField").getSelectedKey(),n(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));e.oStepPropertyMetadataHandler.getFilterMappingEntityTypeMetadataAsPromise(t,i).done(function(e){var t=e.getPropertyMetadata(o).text;l.getItems().forEach(function(e){e.setEnabled(true);if(e.getKey()!=="key"&&!t){e.setEnabled(false)}});r.resolve()});return r.promise()},changeLabelDisplayOption:function(e){var t=this;t.oParentObject.setFilterMappingTargetPropertyLabelDisplayOption(e)},changeOptionalSelectedPropertyLabelText:function(e){var t=this;if(e.trim().length===0){t.oParentObject.setFilterMappingTargetPropertyLabelKey(undefined);l(t);o(t);return}t.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(e,n).done(function(e){t.oParentObject.setFilterMappingTargetPropertyLabelKey(e);l(t);o(t)})},onBeforeRendering:function(){var e=this;e.byId("idSelectPropertiesLabel").setVisible(false);e.byId("idSelectProperties").setVisible(false);e.byId("idOptionalRequestFieldLabel").setVisible(true);e.byId("idOptionalRequestField").setVisible(true);e.byId("idOptionalLabelDisplayOptionType").setVisible(true);e.byId("idOptionalRequestField").setForceSelection(false);e.byId("idOptionalSelectedPropertyLabel").setVisible(true);e.byId("idOptionalSelectedPropertyLabelText").setVisible(true)},onAfterRendering:function(){s(this)},getIdOfPropertiesControl:function(){return"idOptionalRequestField"},getIdOfPropertyLabel:function(){return"idOptionalRequestFieldLabel"},setSelectedKeysForProperties:function(e){var t=this;if(e.length!==0){t.byId("idOptionalRequestField").setSelectedKey(e[0])}else{t.byId("idOptionalRequestField").clearSelection()}},getSelectedKeysForProperties:function(){var e=this,t,i;var n=e.getView().getViewData().oTextReader;t=a.removePrefixText(e.byId("idOptionalRequestField").getSelectedKey(),n(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));i=r.checkIsNotNullOrUndefinedOrBlank(t)?[t]:[];return i},setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("entity"));e.byId("idOptionalRequestFieldLabel").setText(t("targetProperty"))},resetEntityAndProperties:function(){var e=this;e.clearEntity();e.byId("idEntity").setModel(null);e.byId("idEntity").setSelectedKey(undefined);e.clearSelectProperties();e.byId("idOptionalRequestField").setModel(null);e.byId("idOptionalRequestField").setSelectedKey(undefined)},resetFilterMappingFields:function(){var e=this;e.clearSource();e.byId("idSource").setValue("");e.resetEntityAndProperties();e.addOrRemoveMandatoryFieldsAndRequiredFlag(false)},updateFilterMappingFields:function(){var e=this,t,i,n,l,o;var s=e.getView().getViewData().oTextReader;t=e.byId("idSource").getValue().trim();e.oConfigurationEditor.setIsUnsaved();if(r.checkIsNotNullOrUndefinedOrBlank(t)){e.getAllEntitiesAsPromise(t).done(function(t){if(!r.checkIsNotNullOrUndefinedOrBlank(t)){e.resetEntityAndProperties();return}e.setDetailData();i=a.removePrefixText(e.byId("idEntity").getSelectedKey(),s(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));n=r.checkIsNotNullOrUndefinedOrBlank(i)?i:undefined;e.updateEntity(n);l=a.removePrefixText(e.byId("idOptionalRequestField").getSelectedKey(),s(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));o=r.checkIsNotNullOrUndefinedOrBlank(l)?[l]:[];e.updateSelectProperties(o)})}},getSource:function(){var e=this;return e.oParentObject.getFilterMappingService()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsOfServiceWithGivenPropertiesAsPromise(e,t.oParentObject.getFilterProperties())},getEntity:function(){var e=this;return e.oParentObject.getFilterMappingEntitySet()},getAllEntitySetPropertiesAsPromise:function(e,t){var i=this;return i.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},clearSource:function(){var e=this;e.oParentObject.setFilterMappingService(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setFilterMappingEntitySet(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getFilterMappingTargetProperties();t.forEach(function(t){e.oParentObject.removeFilterMappingTargetProperty(t)});e.byId("idOptionalSelectedPropertyLabelText").setValue("")},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeFilterMappingTargetProperty(e)})},updateSource:function(e){var t=this;t.oParentObject.setFilterMappingService(e)},updateEntity:function(e){var t=this;t.oParentObject.setFilterMappingEntitySet(e)},updateSelectProperties:function(e){var t=this;t.removeSelectProperties(t.oParentObject.getFilterMappingTargetProperties());e.forEach(function(e){t.oParentObject.addFilterMappingTargetProperty(e)})},updateOptionalRequestFieldProperty:function(e){var t=this;t.updateSelectProperties(e)},getSelectProperties:function(){var e=this;return e.oParentObject.getFilterMappingTargetProperties()},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()}});return p},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/stepRequest.controller", ["sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/textPoolHelper","sap/ui/thirdparty/jquery"],function(e,t,i,r,jQuery){"use strict";var a=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var o=sap.apf.modeler.ui.utils.nullObjectChecker;var l=sap.apf.modeler.ui.utils.TranslationFormatMap.STEPFILTERPROPERTY_LABEL;function n(e){var t=e.getView().getViewData().oTextReader;var i=e.oParentObject.getFilterPropertyLabelKey()?t("label"):t("label")+" ("+t("default")+")";e.byId("idOptionalSelectedPropertyLabel").setText(i);e.byId("idOptionalSelectedPropertyLabel").setTooltip(i)}function s(e){var t=jQuery.Deferred();var i;var r=e.oParentObject.getFilterPropertyLabelKey();if(!e.getSource()||!e.getEntity()){return t.resolve()}if(o.checkIsNotUndefined(r)){i=e.getView().getViewData().oConfigurationHandler.getTextPool().get(r).TextElementDescription;e.byId("idOptionalSelectedPropertyLabelText").setValue(i);return t.resolve()}e.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(r){var a=e.oParentObject.getFilterProperties()[0];if(e.oParentObject.getType()==="hierarchicalStep"&&a){a=e.oStepPropertyMetadataHandler.getPropertyMetadata(r,a)["hierarchy-node-for"]}if(a){i=e.oStepPropertyMetadataHandler.getDefaultLabel(r,a)}e.byId("idOptionalSelectedPropertyLabelText").setValue(i);t.resolve()});return t}function d(e){e.byId("idOptionalRequestFieldLabel").addStyleClass("filterPropertyLable");e.byId("idOptionalRequestField").addStyleClass("filterProperty");e.byId("idOptionalLabelDisplayOptionType").addStyleClass("filterProperty")}return e.extend("sap.apf.modeler.ui.controller.stepRequest",{setLabelDisplayOptionTypeAsPromise:function(e){var i=jQuery.Deferred();var r,a,o,l,d,p=this,u=[];var c=p.getView().getViewData().oTextReader;r=new sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder(c,e);o=r.getLabelDisplayOptions();a=sap.apf.core.constants.representationMetadata.labelDisplayOptions;l=t.removePrefixText(p.byId("idOptionalRequestField").getSelectedKey(),c(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));n(p);s(p).done(function(){p.byId("idOptionalLabelDisplayOptionType").setEnabled(true);if(l===c("none")){p.byId("idOptionalLabelDisplayOptionType").setModel(o);p.byId("idOptionalLabelDisplayOptionType").setEnabled(false);return i.promise()}d=p.oParentObject.getFilterPropertyLabelDisplayOption();p.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){if((d===a.KEY_AND_TEXT||d===a.TEXT)&&!p.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,l)){o=r.getValidatedLabelDisplayOptions();u=t.addPrefixText([d],c);d=u[0]}p.byId("idOptionalLabelDisplayOptionType").setModel(o);p.byId("idOptionalLabelDisplayOptionType").setSelectedKey(d);i.resolve()})});return i.promise()},enableDisableLabelDisplayOptionTypeAsPromise:function(){var e,i=this;var r=jQuery.Deferred();var a=i.getView().getViewData().oTextReader;var o=i.byId("idOptionalLabelDisplayOptionType");var l=t.removePrefixText(i.byId("idOptionalRequestField").getSelectedKey(),a(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));i.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(t){var a=i.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(t,l);for(e=0;e<o.getItems().length;e++){o.getItems()[e].setEnabled(true);if(e>0&&!a){o.getItems()[e].setEnabled(false)}}r.resolve()});return r.promise()},onBeforeRendering:function(){var e=this;e.byId("idOptionalRequestFieldLabel").setVisible(true);e.byId("idOptionalRequestField").setVisible(true);e.byId("idOptionalLabelDisplayOptionType").setVisible(true);e.byId("idOptionalSelectedPropertyLabel").setVisible(true);e.byId("idOptionalSelectedPropertyLabelText").setVisible(true)},onAfterRendering:function(){var e=this;e.addOrRemoveMandatoryFieldsAndRequiredFlag(true);d(e)},setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("entity"));e.byId("idSelectPropertiesLabel").setText(t("selectProperties"));e.byId("idOptionalRequestFieldLabel").setText(t("requiredFilters"))},setOptionalRequestFieldProperty:function(){var e=this;var t,i,r,l,n,s=[];var d=e.oParentObject.getFilterProperties();n=[e.getView().getViewData().oTextReader("none")];t=e.byId("idSelectProperties").getSelectedKeys();i=e.oParentObject.getSelectProperties();i.forEach(function(e){if(e===d[0]){r=true}});if(!r&&d.length>0){e.removeOptionalRequestFieldProperty(d);d=e.oParentObject.getFilterProperties()}l=a.convert(n.concat(t));e.byId("idOptionalRequestField").setModel(l);e.byId("idOptionalRequestField").setSelectedKey(n[0]);if(o.checkIsNotNullOrUndefinedOrBlank(d)){s=e.validateSelectedValues(e,d,t);d=s.aSelectedValues;e.byId("idOptionalRequestField").setSelectedKey(d[0])}},addOrRemoveMandatoryFieldsAndRequiredFlag:function(e){var t=this;if(e===false){return}t.byId("idSourceLabel").setRequired(e);t.byId("idEntityLabel").setRequired(e);t.byId("idSelectPropertiesLabel").setRequired(e);t.viewValidator.addFields(["idSource","idEntity","idSelectProperties"])},fireRelevantEvents:function(e){var i=this,r,a;if(e.getSource()!==i.byId("idOptionalRequestField")){r=[t.removePrefixText(i.byId("idOptionalRequestField").getSelectedKey(),i.getView().getViewData().oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE))];if(o.checkIsNotNullOrUndefinedOrBlank(r)){i.updateOptionalRequestFieldProperty(r)}if(i.getSelectProperties().length===0){i.oParentObject.resetTopN()}i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETDATAREDUCTIONSECTION)}if(e.getSource()===i.byId("idOptionalProperty")){i.setOptionalRequestFieldProperty()}a=i.byId("idOptionalRequestField").getSelectedKey()!==i.getView().getViewData().oTextReader("none")?true:false;i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,{bShowFilterMappingLayout:a});i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.UPDATEFILTERMAPPINGFIELDS)},getSource:function(){return this.oParentObject.getService()},getAllEntitiesAsPromise:function(e){return this.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(e)},getEntity:function(){return this.oParentObject.getEntitySet()},getAllEntitySetPropertiesAsPromise:function(e,t){return this.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},changeLabelDisplayOption:function(e){var t=this;t.oParentObject.setFilterPropertyLabelDisplayOption(e)},changeOptionalSelectedPropertyLabelText:function(e){var t=this;if(e.trim().length===0){t.oParentObject.setFilterPropertyLabelKey(undefined);n(t);s(t);return}t.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(e,l).done(function(e){t.oParentObject.setFilterPropertyLabelKey(e);n(t);s(t)})},resetEntityAndProperties:function(){var e=this;e.clearEntity();e.byId("idEntity").setModel(null);e.byId("idEntity").setSelectedKey(undefined);e.clearSelectProperties();e.byId("idSelectProperties").setModel(null);e.byId("idSelectProperties").setSelectedKeys([]);e.byId("idOptionalRequestField").setModel(null);e.byId("idOptionalRequestField").setSelectedKey(undefined)},clearSource:function(){var e=this;e.oParentObject.setService(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setEntitySet(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getSelectProperties();t.forEach(function(t){e.oParentObject.removeSelectProperty(t)});e.clearOptionalRequestFieldProperty()},clearOptionalRequestFieldProperty:function(){var e=this;var t=e.oParentObject.getFilterProperties();t.forEach(function(t){e.oParentObject.removeFilterProperty(t)})},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeSelectProperty(e)})},removeOptionalRequestFieldProperty:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeFilterProperty(e)})},updateSource:function(e){var t=this;t.oParentObject.setService(e)},updateEntity:function(e){var t=this;t.oParentObject.setEntitySet(e)},updateSelectProperties:function(e){var t=this;t.removeSelectProperties(t.oParentObject.getSelectProperties());e.forEach(function(e){t.oParentObject.addSelectProperty(e)})},updateOptionalRequestFieldProperty:function(e){var t=this;var i=t.oParentObject.getFilterPropertyLabelKey();var r=t.oParentObject.getFilterPropertyLabelDisplayOption();var a=t.oParentObject.getFilterProperties();t.removeOptionalRequestFieldProperty(t.oParentObject.getFilterProperties());e.forEach(function(e){if(e!==t.getView().getViewData().oTextReader("none")){t.oParentObject.addFilterProperty(e);if(e===a[0]){t.oParentObject.setFilterPropertyLabelKey(i);t.oParentObject.setFilterPropertyLabelDisplayOption(r)}}})},getSelectProperties:function(){var e=this;return e.oParentObject.getSelectProperties()},getOptionalRequestFieldProperty:function(){var e=this;return e.oParentObject.getFilterProperties()},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/stepSortPropertyType.controller", ["sap/apf/modeler/ui/controller/sortPropertyType","sap/ui/thirdparty/jquery"],function(e,jQuery){"use strict";var t=sap.apf.modeler.ui.controller.sortPropertyType.extend("sap.apf.modeler.ui.controller.stepSortPropertyType",{onBeforeRendering:function(){var e=this;e.byId("idGridSortLabel").setSpan("L4 M4 S4");e.byId("idGridSortProperty").setSpan("L2 M2 S2");e.byId("idGridSortDirectionLabel").setSpan("L2 M2 S2");e.byId("idGridSortDirection").setSpan("L2 M2 S2");e.byId("idGridIconLayout").setSpan("L2 M2 S2")},updateOfConfigurationObjectOfSubclass:function(e){var t=this;t.oParentObject.setTopNSortProperties(e)},getAllPropertiesAsPromise:function(){var e=this,t,r,o;var i=sap.apf.modeler.ui.utils.textManipulator;var n=jQuery.Deferred();e.oParentObject.getConsumablePropertiesForTopN().done(function(a){t=a.consumable;r=e.getSelectedSortProperty();if(r!==undefined){o=t.indexOf(r)!==-1?t:t.concat(r);t=a.available.indexOf(r)!==-1?o:t.concat(i.addPrefixText([r],e.oTextReader));r=a.available.indexOf(r)!==-1?r:i.addPrefixText([r],e.oTextReader)[0]}n.resolve({aAllProperties:t,sSelectedKey:r})});return n.promise()},getOrderBy:function(){var e=this;return e.oParentObject.getTopN().orderby},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObject();e.byId("idSortDirection").setSelectedKey("true")},removePropertyFromParentObject:function(){var e=this;e.updateOfConfigurationObject()},addPropertyAsPromise:function(){var e=this;var t=jQuery.Deferred();var r=sap.apf.modeler.ui.utils.CONSTANTS.events;e.oParentObject.getConsumablePropertiesForTopN().done(function(o){e.getView().fireEvent(r.ADDPROPERTY,{oSourceView:e.getView(),sProperty:o.consumable[0],sContext:e.getView().getViewData().oPropertyTypeData.sContext});e.oConfigurationEditor.setIsUnsaved();t.resolve()});return t.promise()}});return t},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/controller/toolbar.controller", ["sap/ui/core/mvc/Controller","sap/apf/modeler/ui/utils/constants","sap/ui/core/syncStyleClass"],function(e,t,i){"use strict";return e.extend("sap.apf.modeler.ui.controller.toolbar",{onInit:function(){this.oCoreApi=this.getView().getViewData().oConfigListInstance.oCoreApi;this.oConfigListInstance=this.getView().getViewData().oConfigListInstance;this._setDisplayText()},_setDisplayText:function(){this.byId("idAddButton").setText(this.oCoreApi.getText("addButton"));this.byId("idCopyButton").setText(this.oCoreApi.getText("copyButton"));this.byId("idDeleteButton").setText(this.oCoreApi.getText("deleteButton"));this.byId("idMoveUp").setTooltip(this.oCoreApi.getText("moveUp"));this.byId("idMoveDown").setTooltip(this.oCoreApi.getText("moveDown"))},enableCopyDeleteButton:function(){if(!this.byId("idCopyButton").getEnabled()){this.byId("idCopyButton").setEnabled(true)}if(!this.byId("idDeleteButton").getEnabled()){this.byId("idDeleteButton").setEnabled(true)}},disableCopyDeleteButton:function(){if(this.byId("idCopyButton").getEnabled()){this.byId("idCopyButton").setEnabled(false)}if(this.byId("idDeleteButton").getEnabled()){this.byId("idDeleteButton").setEnabled(false)}},_setAddMenuText:function(){sap.ui.core.Fragment.byId("idAddMenuFragment","idNewConfig").setText(this.oCoreApi.getText("newConfiguration"));sap.ui.core.Fragment.byId("idAddMenuFragment","idNewFacetFilter").setText(this.oCoreApi.getText("newFacetFilter"));sap.ui.core.Fragment.byId("idAddMenuFragment","idNewCategory").setText(this.oCoreApi.getText("newCategory"));sap.ui.core.Fragment.byId("idAddMenuFragment","idNewNavigationTarget").setText(this.oCoreApi.getText("newNavigationTarget"));sap.ui.core.Fragment.byId("idAddMenuFragment","idStep").setText(this.oCoreApi.getText("step"));sap.ui.core.Fragment.byId("idAddMenuFragment","idNewStep").setText(this.oCoreApi.getText("newStep"));sap.ui.core.Fragment.byId("idAddMenuFragment","idExistingStep").setText(this.oCoreApi.getText("existingStep"));sap.ui.core.Fragment.byId("idAddMenuFragment","idHierarchicalStep").setText(this.oCoreApi.getText("hierarchicalStep"));sap.ui.core.Fragment.byId("idAddMenuFragment","idNewRepresentation").setText(this.oCoreApi.getText("newRepresentation"))},_setExistingStepDialogText:function(){sap.ui.core.Fragment.byId("idExistingStepDialogFragment","idExistingStepDialog").setTitle(this.oCoreApi.getText("existingStepDialogTitle"))},_enableDisableAddMenuItems:function(e,i){var n;var o=i.getItems();var a,s={};if(this.oConfigListInstance.configEditor){n=Object.keys(this.oConfigListInstance.configEditor.getFilterOption())[0]}if(this.oConfigListInstance.configurationHandler.getList().length===0||e===null){a="default"}else{a=e.nodeObjectType}s["default"]=1;s[t.configurationObjectTypes.CONFIGURATION]=4;s[t.configurationObjectTypes.FACETFILTER]=4;s[t.configurationObjectTypes.SMARTFILTERBAR]=4;s[t.configurationObjectTypes.CATEGORY]=5;s[t.configurationObjectTypes.STEP]=6;s[t.configurationObjectTypes.REPRESENTATION]=6;s[t.configurationObjectTypes.NAVIGATIONTARGET]=4;o.forEach(function(e,i){if(i<s[a]){e.setEnabled(true);if(n!==t.configurationObjectTypes.FACETFILTER&&i===1){e.setEnabled(false)}}else{e.setEnabled(false)}})},_handlePressAddButton:function(e){var t;var i=this,n=true;if(this.oConfigListInstance.getView().byId("idConfigDetailData").getContent().length>=1){t=typeof this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function"?this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined}e.getSource().$().blur();var o=sap.apf.modeler.ui.utils.navigationHandler.getInstance();if(t!==undefined){n=typeof t.getValidationState==="function"?t.getValidationState.call(t):true}var a=this.oConfigListInstance.configEditor?jQuery.extend(true,{},this.oConfigListInstance.configEditor):undefined;this.oConfigListInstance.bIsSaved=a?a.isSaved():undefined;var s=false;var r=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var g=e.getSource();var d=function(){if(!this.addMenu){this.addMenu=new sap.ui.xmlfragment("idAddMenuFragment","sap.apf.modeler.ui.fragment.addMenu",this);this.getView().addDependent(this.addMenu);this._setAddMenuText()}var e=sap.ui.core.Popup.Dock;this._enableDisableAddMenuItems(r,this.addMenu);this.addMenu.open(false,g,e.BeginTop,e.BeginBottom,g)};if(!n){o.throwMandatoryPopup(i.oConfigListInstance,{yes:function(){var e=i.oConfigListInstance.oTreeInstance.getParentNodeContext(r);i.oConfigListInstance.configEditor=i.oConfigListInstance.configurationHandler.restoreMemorizedConfiguration(e.configId);if(i.oConfigListInstance.bIsSaved===false&&i.oConfigListInstance.configEditor){i.oConfigListInstance.configEditor.setIsUnsaved()}var t=i.oConfigListInstance._navMandatoryResetState(i.oConfigListInstance);if(!t.isNewView){d.call(i)}}});s=true}if(!s){d.call(i)}},_handleAddMenuItemPress:function(e){var i=this.addMenu.getItems();var n=e.getParameters("item");var o;var a={"idAddMenuFragment--idNewFacetFilter":t.configurationObjectTypes.FACETFILTER,"idAddMenuFragment--idNewCategory":t.configurationObjectTypes.CATEGORY,"idAddMenuFragment--idNewStep":t.configurationObjectTypes.STEP,"idAddMenuFragment--idHierarchicalStep":t.configurationObjectTypes.STEP,"idAddMenuFragment--idNewRepresentation":t.configurationObjectTypes.REPRESENTATION,"idAddMenuFragment--idNewConfig":t.configurationObjectTypes.CONFIGURATION,"idAddMenuFragment--idNewNavigationTarget":t.configurationObjectTypes.NAVIGATIONTARGET,default:t.configurationObjectTypes.CONFIGURATION};i.forEach(function(e){if(e.getId()===n.id){o=a[e.getId()]}else if(e.getSubmenu()){e.getSubmenu().getItems().forEach(function(e){if(e.getId()===n.id){o=a[e.getId()]}})}});var s=false;if(n.id==="idAddMenuFragment--idExistingStep"){this._handleAddExistingStepPress()}else if(n.id!=="idAddMenuFragment--idStep"&&o!==undefined){if(n.id==="idAddMenuFragment--idHierarchicalStep"){s=true}this.oConfigListInstance.oTreeInstance.addNodeInTree(o,undefined,s)}},_copyConfiguration:function(e,i){var n=this.oConfigListInstance.configurationHandler.getConfiguration(e);var o={},a;o.AnalyticalConfiguration=n.AnalyticalConfiguration;o.name="< "+n.AnalyticalConfigurationName+" >";o.Application=n.Application;o.type=t.configurationObjectTypes.CONFIGURATION;o.bIsLoaded=false;o.bToggleState=false;o.isSelected=true;o.expanded=true;o.selectable=true;o.hasExpander=true;this.oConfigListInstance.oModel.getData().aConfigDetails.push(o);this.oConfigListInstance.oModel.updateBindings();a=this.oConfigListInstance.oTreeInstance.getModel().getContext(i);this.oConfigListInstance.selectedNode=this.oConfigListInstance.oTreeInstance.getItemNodeByContextWithoutExpand(a.sPath);this.oConfigListInstance.modelUpdateDeferred[this.oConfigListInstance.oModel.getData().aConfigDetails.length-1]=new jQuery.Deferred;var s={appId:this.oConfigListInstance.appId,configId:e};sap.ui.core.UIComponent.getRouterFor(this.oConfigListInstance).navTo(o.type,s,true)},_handlePressCopyButton:function(e){var i=jQuery.Deferred();var n,o;var a=this,s=true;if(this.oConfigListInstance.getView().byId("idConfigDetailData").getContent().length>=1){n=typeof this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function"?this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined}e.getSource().$().blur();var r=sap.apf.modeler.ui.utils.navigationHandler.getInstance();if(n!==undefined){s=typeof n.getValidationState==="function"?n.getValidationState.call(n):true}var g=this.oConfigListInstance.configEditor?jQuery.extend(true,{},this.oConfigListInstance.configEditor):undefined;this.oConfigListInstance.bIsSaved=g?g.isSaved():undefined;var d=false;var f=function(){var e=this;var n;var s=this.oTreeInstance.getAPFTreeNodeContext(this.oTreeInstance.getSelectedItem()||this.selectedNode);this.selectedNode=this.oTreeInstance.getSelectedItem()||this.selectedNode;var r,g,d,f,c,l,p,I,C,u;d=s.nodeContext;switch(s.nodeObjectType){case t.configurationObjectTypes.FACETFILTER:var h=this.oCoreApi.getText("copyOf")+"  "+s.nodeTitle;var T=this.configEditor.copyFacetFilter(s.nodeAPFId);var v=this.configEditor.getFacetFilter(T);var D=sap.apf.modeler.ui.utils.TranslationFormatMap.FACETFILTER_LABEL;this.oTextPool.setTextAsPromise(h,D).done(function(e){v.setLabelKey(e);c=d.split("/");o=c[2];l=c[6];var t=this.oModel.getData().aConfigDetails[o].configData[0].filters[l];t.isSelected=false;var i=jQuery.extend(true,{},t);i.id=T;i.name="< "+h+" >";i.isSelected=true;f=this.oModel.getData().aConfigDetails[o].configData[0].filters.length;this.oModel.getData().aConfigDetails[o].configData[0].filters.push(i);c[6]=f;g=c.join("/");K()}.bind(this));break;case t.configurationObjectTypes.CATEGORY:var m=this.oCoreApi.getText("copyOf")+"  "+s.nodeTitle;var y=this.configEditor.copyCategory(s.nodeAPFId);var L=sap.apf.modeler.ui.utils.TranslationFormatMap.CATEGORY_TITLE;this.oTextPool.setTextAsPromise(m,L).done(function(t){var i={labelKey:t};this.configEditor.setCategory(i,y);c=d.split("/");o=c[2];p=c[6];var a=[];var s=this.configEditor.getSteps();s.forEach(function(t){if(e.configEditor.getCategoriesForStep(t.getId())[0]===y){a.push(t.getId())}});var r=this.oModel.getData().aConfigDetails[o].configData[1].categories[p];r.isSelected=false;var l=jQuery.extend(true,{},r);if(l.steps){for(var I=0;I<l.steps.length;I++){l.steps[I].id=a[I];var C=e.configEditor.getStep(a[I]);n=C.getRepresentations();if(l.steps[I].representations){for(var u=0;u<l.steps[I].representations.length;u++){l.steps[I].representations[u].id=n[u].getId()}}}}l.id=y;l.name="< "+m+" >";l.isSelected=true;f=this.oModel.getData().aConfigDetails[o].configData[1].categories.length;this.oModel.getData().aConfigDetails[o].configData[1].categories.push(l);c[6]=f;g=c.join("/");K()}.bind(this));break;case t.configurationObjectTypes.NAVIGATIONTARGET:var b=this.oCoreApi.getText("copyOf")+"  "+s.nodeTitle;var A=this.configEditor.copyNavigationTarget(s.nodeAPFId);c=d.split("/");o=c[2];I=c[6];var x=this.oModel.getData().aConfigDetails[o].configData[2].navTargets[I];x.isSelected=false;var E=jQuery.extend(true,{},x);E.id=A;E.name="< "+b+" >";E.isSelected=true;f=this.oModel.getData().aConfigDetails[o].configData[2].navTargets.length;this.oModel.getData().aConfigDetails[o].configData[2].navTargets.push(E);c[6]=f;g=c.join("/");K();a.oConfigListInstance._setNavigationTargetName({configIndexInTree:o});break;case t.configurationObjectTypes.STEP:var S=this.oCoreApi.getText("copyOf")+"  "+s.nodeTitle;var F=this.configEditor.copyStep(s.nodeAPFId);var O=this.configEditor.getCategoriesForStep(F);var N=this.configEditor.getStep(F);var M=sap.apf.modeler.ui.utils.TranslationFormatMap.STEP_TITLE;this.oTextPool.setTextAsPromise(S,M).done(function(e){var t;N.setTitleId(e);c=d.split("/");o=c[2];p=c[6];C=c[8];var i=this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[C];i.isSelected=false;var s=jQuery.extend(true,{},i);n=N.getRepresentations();s.id=F;s.name="< "+S+" >";if(s.representations){for(t=0;t<s.representations.length;t++){s.representations[t].id=n[t].getId()}}f=this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps.length;c[8]=f;g=c.join("/");for(var r=0;r<O.length;r++){var l=jQuery.extend(true,{},s);var I={arguments:{configId:a.oConfigListInstance.configId,categoryId:O[r]}};var u=a.oConfigListInstance.getSPathFromURL(I).sPath.split("/");var h=u[6];this.oModel.getData().aConfigDetails[o].configData[1].categories[h].steps.push(l)}this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[f].isSelected=true;K()}.bind(this));break;case t.configurationObjectTypes.REPRESENTATION:c=d.split("/");o=c[2];p=c[6];C=c[8];u=c[10];var w=this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[C].id;var P=this.configEditor.getStep(w);var j=this.configEditor.getCategoriesForStep(w);this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[C].representations[u].isSelected=false;var R=this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[C].representations[u];var _=jQuery.extend(true,{},R);var B=P.copyRepresentation(_.id);_.id=B;f=this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[C].representations.length;c[10]=f;g=c.join("/");for(var V=0;V<j.length;V++){var U=jQuery.extend(true,{},_);var G={arguments:{configId:a.oConfigListInstance.configId,categoryId:j[V],stepId:w}};var k=a.oConfigListInstance.getSPathFromURL(G).sPath.split("/");var H=k[6];var Q=k[8];this.oModel.getData().aConfigDetails[o].configData[1].categories[H].steps[Q].representations.push(U)}this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[C].representations[f].isSelected=true;K();break;case t.configurationObjectTypes.CONFIGURATION:var Y=this.oCoreApi.getText("copyOf")+"  "+s.nodeTitle;c=d.split("/");o=c[2];var z=this.oModel.getData().aConfigDetails[o];z.isSelected=false;c[2]=this.oModel.getData().aConfigDetails.length;g=c.join("/");this.configurationHandler.copyConfiguration(s.nodeAPFId,function(t){var i={AnalyticalConfigurationName:Y};var n=e.configurationHandler.setConfiguration(i,t);e.configTitle=Y;e.configurationHandler.loadConfiguration(n,function(t){var i=e.configTitle;var n=sap.apf.modeler.ui.utils.TranslationFormatMap.APPLICATION_TITLE;e.configurationHandler.getTextPool().setTextAsPromise(i,n).done(function(e){t.setApplicationTitle(e)})});a._copyConfiguration(t,g)});break;default:break}function K(){e.oModel.updateBindings();r=e.oTreeInstance.getModel().getContext(g);e.selectedNode=e.oTreeInstance.getItemNodeByContextWithoutExpand(r.sPath);var t=e.oTreeInstance.getAPFTreeNodeContext(e.selectedNode);var n=e.oTreeInstance.getParentNodeContext(t);e.navigateToDifferntView(n,t);e.configEditor.setIsUnsaved();i.resolve()}};var c=function(){var e=(new sap.m.Label).addStyleClass("noConfigSelected");e.setText(a.oConfigListInstance.oCoreApi.getText("noConfigSelected"));e.placeAt(a.oConfigListInstance.byId("idConfigDetailData"));a.oConfigListInstance.toolbarController.disableCopyDeleteButton();a.oConfigListInstance._enableDisableExportAndExecuteButton()};var l;if(!s){r.throwMandatoryPopup(a.oConfigListInstance,{yes:function(){var e=a.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(a.oConfigListInstance.oTreeInstance.getSelectedItem());var t=a.oConfigListInstance.oTreeInstance.getParentNodeContext(e);a.oConfigListInstance.bIsDifferntConfig=a.oConfigListInstance.oTreeInstance.isConfigurationSwitched(a.oConfigListInstance.oPreviousSelectedNode,a.oConfigListInstance.selectedNode);a.oConfigListInstance.configEditor=a.oConfigListInstance.configurationHandler.restoreMemorizedConfiguration(t.configId);if(a.oConfigListInstance.bIsSaved===false&&a.oConfigListInstance.configEditor){a.oConfigListInstance.configEditor.setIsUnsaved()}if(a.oConfigListInstance.bIsDifferntConfig===false){var i=typeof a.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function"?a.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined;var n=a.oConfigListInstance._isNewSubView(i.getView().getViewData().oParams);if(!n){f.call(a.oConfigListInstance);a.oConfigListInstance._navHandleExpandDelete.call(a.oConfigListInstance,a.oConfigListInstance.oSelectedNodeDetails,t)}else{a.oConfigListInstance.handleConfirmDeletion()}}else{var o=a.oConfigListInstance._navMandatoryResetState(a.oConfigListInstance);if(!o.isNewView){if(o.bIsSaved===false){l(a.oConfigListInstance)}else{f.call(a.oConfigListInstance)}}}}});d=true}var p;if(n.getView().getViewData().oParams.name==="configuration"){p=true}l=function(e){r.throwLossOfDataPopup(e,{yes:function(e){a.oConfigListInstance._navSaveState(function(){e(function(e){if(a.oConfigListInstance.selectedNode){var t=a.oConfigListInstance.selectedNode._getBindingContext().sPath;var i=t.split("/");var n=i[2]}a.oConfigListInstance.oModel.getData().aConfigDetails[n].AnalyticalConfiguration=a.oConfigListInstance.configId;a.oConfigListInstance.oModel.updateBindings();f.call(a.oConfigListInstance)})})},no:function(){var e={appId:a.oConfigListInstance.appId,configId:a.oConfigListInstance.configId};var i=typeof a.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function"?a.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined;var n=i.getView().getViewData().oParams.name==="configuration"?true:false;if(a.oConfigListInstance.configId.indexOf(t.configurationObjectTypes.ISNEWCONFIG)===0){a.oConfigListInstance._navHandleExpandDelete.call(a.oConfigListInstance,{},e,n);a.oConfigListInstance.clearTitleAndBreadCrumb();a.oConfigListInstance.byId("idConfigDetailData").removeAllContent();c()}else{a.oConfigListInstance._navConfigResetState(a.oConfigListInstance,function(){f.call(a.oConfigListInstance)})}}})};if(a.oConfigListInstance.bIsSaved===false&&s&&p){l(a.oConfigListInstance);d=true}if(!d){f.call(a.oConfigListInstance)}return i.promise()},_handlePressDeleteButton:function(e){var i;var n=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var o=this.oCoreApi.getText(n.nodeObjectType);e.getSource().$().blur();if(n.nodeObjectType===t.configurationObjectTypes.STEP){i=this.oCoreApi.getText("confirmStepDeletion",[n.nodeTitle])}else{i=this.oCoreApi.getText("confirmDeletion",[o,n.nodeTitle])}this._openDeleteConfirmationDialog(i)},_openDeleteConfirmationDialog:function(e){var t=this;var n=jQuery.extend(t.oConfigListInstance,{closeDialog:t.closeDialog.bind(t)});if(!this.confirmationDialog){this.confirmationDialog=sap.ui.xmlfragment("idConfigConfirmationDialogFragment","sap.apf.modeler.ui.fragment.deleteConfirmationDialog",n);this.getView().addDependent(this.confirmationDialog);this._setConfirmationDialogText()}var o=new sap.m.Text;o.setText(e);this.confirmationDialog.removeAllContent();this.confirmationDialog.addContent(o);this.confirmationDialog.addAriaDescribedBy(o);i("sapUiSizeCompact",this.getView(),this.confirmationDialog);this.confirmationDialog.open()},closeDialog:function(){if(this.confirmationDialog&&this.confirmationDialog.isOpen()){this.confirmationDialog.close()}},_setConfirmationDialogText:function(){sap.ui.core.Fragment.byId("idConfigConfirmationDialogFragment","idDeleteConfirmation").setTitle(this.oCoreApi.getText("confirmation"));sap.ui.core.Fragment.byId("idConfigConfirmationDialogFragment","idDeleteButton").setText(this.oCoreApi.getText("deleteButton"));sap.ui.core.Fragment.byId("idConfigConfirmationDialogFragment","idCancelButtonDialog").setText(this.oCoreApi.getText("cancel"))},_handlePressMoveUpButton:function(){this.bIsDown=false;var e=this.oConfigListInstance.oTreeInstance.getSelectedItem();if(e!==null){var t=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(e);if(t!==undefined){this._moveUpOrDown(t,this.bIsDown)}}},_handlePressMoveDownButton:function(){this.bIsDown=true;var e=this.oConfigListInstance.oTreeInstance.getSelectedItem();if(e!==null){var t=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(e);if(t!==undefined){this._moveUpOrDown(t,this.bIsDown)}}},_moveUpOrDown:function(e,i){var n=e.nodeObjectType;var o=e.nodeAPFId;var a=e.nodeContext;var s=a.split("/")[2];var r,g,d,f,c;var l=false;var p=a.split("/")[a.split("/").length-1];switch(n){case t.configurationObjectTypes.FACETFILTER:r=this.oConfigListInstance.oModel.getData().aConfigDetails[s].configData[0].filters;c=r.length;if(i){if(parseInt(p,10)!==c-1){this.oConfigListInstance.configEditor.moveFacetFilterUpOrDown(o,1);g=parseInt(p,10)+1;l=true}}else{if(parseInt(p,10)!==0){this.oConfigListInstance.configEditor.moveFacetFilterUpOrDown(o,-1);g=parseInt(p,10)-1;l=true}}break;case t.configurationObjectTypes.CATEGORY:r=this.oConfigListInstance.oModel.getData().aConfigDetails[s].configData[1].categories;c=r.length;if(i){if(parseInt(p,10)!==c-1){this.oConfigListInstance.configEditor.moveCategoryUpOrDown(o,1);g=parseInt(p,10)+1;l=true}}else{if(parseInt(p,10)!==0){this.oConfigListInstance.configEditor.moveCategoryUpOrDown(o,-1);g=parseInt(p,10)-1;l=true}}break;case t.configurationObjectTypes.NAVIGATIONTARGET:r=this.oConfigListInstance.oModel.getData().aConfigDetails[s].configData[2].navTargets;c=r.length;if(i){if(parseInt(p,10)!==c-1){this.oConfigListInstance.configEditor.moveNavigationTargetUpOrDown(o,1);g=parseInt(p,10)+1;l=true}}else{if(parseInt(p,10)!==0){this.oConfigListInstance.configEditor.moveNavigationTargetUpOrDown(o,-1);g=parseInt(p,10)-1;l=true}}break;case t.configurationObjectTypes.STEP:var I=a.split("/")[6];var C=this.oConfigListInstance.oModel.getData().aConfigDetails[s].configData[1].categories[I];r=C.steps;c=r.length;if(i){if(parseInt(p,10)!==c-1){this.oConfigListInstance.configEditor.moveCategoryStepAssignmentUpOrDown(C.id,o,1);g=parseInt(p,10)+1;l=true}}else{if(parseInt(p,10)!==0){this.oConfigListInstance.configEditor.moveCategoryStepAssignmentUpOrDown(C.id,o,-1);g=parseInt(p,10)-1;l=true}}break;case t.configurationObjectTypes.REPRESENTATION:var u=this.oConfigListInstance.oTreeInstance.getSelectedItem();var h=u.getParentNode();var T=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(h).nodeAPFId;var v=this.oConfigListInstance.configEditor.getStep(T);I=a.split("/")[6];var D=a.split("/")[8];r=this.oConfigListInstance.oModel.getData().aConfigDetails[s].configData[1].categories[I].steps[D].representations;c=r.length;if(i){if(parseInt(p,10)!==c-1){v.moveRepresentationUpOrDown(o,1);g=parseInt(p,10)+1;l=true}}else{if(parseInt(p,10)!==0){v.moveRepresentationUpOrDown(o,-1);g=parseInt(p,10)-1;l=true}}break;default:break}if(l){d=r[p];f=r[g];r[g]=d;r[p]=f;this.oConfigListInstance.oModel.updateBindings();this.oConfigListInstance.configEditor.setIsUnsaved()}},_handleAddExistingStepPress:function(){var e=this;var t=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var i=this.oConfigListInstance.oTreeInstance.getParentNodeContext(t).categoryId;var n=this.oConfigListInstance.configEditor.getStepsNotAssignedToCategory(i);var o;var a=[];n.forEach(function(t){var i={};var n=e.oConfigListInstance.configEditor.getStep(t);o=e.oConfigListInstance.oTextPool.get(n.getTitleId()).TextElementDescription;i.id=t;i.name=o;a.push(i)});var s=new sap.ui.model.json.JSONModel({existingStepData:a});if(!this.addExistingStepDialog){this.addExistingStepDialog=sap.ui.xmlfragment("idExistingStepDialogFragment","sap.apf.modeler.ui.fragment.existingStepDialog",this);this._setExistingStepDialogText()}this.getView().addDependent(this.addExistingStepDialog);this.addExistingStepDialog.setModel(s);this.addExistingStepDialog.open()},_handleExistingStepDialogOK:function(e){var i=t.configurationObjectTypes.STEP;var n=e.getParameters("listItem").selectedItems;var o=n.length;var a=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var s=this.oConfigListInstance.oTreeInstance.getParentNodeContext(a).categoryId;var r=[];for(var g=0;g<o;g++){var d=e.getParameters("selectedItems").selectedContexts[g].sPath.split("/")[2];var f=e.getSource().getModel().getData().existingStepData[d];var c=this.oConfigListInstance.configEditor.getStep(f.id);this.oConfigListInstance.configEditor.addCategoryStepAssignment(s,f.id);var l=c.getRepresentations();var p=l.length;var I=[];for(var C=0;C<p;C++){var u={};u.id=l[C].getId();u.name=l[C].getRepresentationType();u.icon=this._getRepresentationIcon(u.name);I.push(u)}var h={};h.step=f;h.representations=I;h.noOfReps=p;r.push(h)}if(o!==0){var T={noOfSteps:o,aExistingStepsToBeAdded:r};this.oConfigListInstance.oTreeInstance.addNodeInTree(i,T)}},_getRepresentationIcon:function(e){var t;var i=this.oCoreApi.getRepresentationTypes();for(var n=0;n<i.length;n++){if(e===i[n].id){t=i[n].picture;break}}return t},_handleExistingStepDialogSearch:function(e){var t=e.getParameter("value");var i=new sap.ui.model.Filter("name",sap.ui.model.FilterOperator.Contains,t);var n=e.getSource().getBinding("items");n.filter([i])},_handleExistingStepDialogClose:function(e){if(this.addExistingStepDialog){e.getSource().getBinding("items").filter([])}}})},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/APFRouter", function(){"use strict";var e={patternMatch:function(e){this.params={};var t=this;sap.ui.core.UIComponent.getRouterFor(e).attachRoutePatternMatched(function(a){t.params={name:a.getParameter("name"),arguments:a.getParameter("arguments")};e.getView().byId("idConfigMasterData").setBusy(true);e.getView().byId("idConfigDetail").setBusy(true);if(t.params.name!=="applicationList"){var i=e.oCoreApi;e.appId=t.params.arguments.appId;e.configId=t.params.arguments.configId;i.getApplicationHandler(function(a){e.applicationHandler=a;e.appName=a.getApplication(e.appId).ApplicationName;var n=e.byId("idConfigTitleMaster").getText();if(n===""||t.params.name==="configurationList"){e.setConfigListMasterTitle(e.appName);e.oTreeInstance.setApplicationId(t.params.arguments.appId)}i.getConfigurationHandler(e.appId,function(a){e.configurationHandler=a;e.oTextPool=e.configurationHandler.getTextPool();if(e.configurationHandler.getList().length>e.getView().getModel().getData().aConfigDetails.length){e.createConfigList();if(t.params.name==="configurationList"){e.updateConfigListView()}}if(e.configurationHandler.getList().length===0&&e.configId===undefined){e.oTreeInstance.addNodeInTree(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION);var i=e.oTreeInstance.getItems();var n=i[i.length-1];e.oTreeInstance.setSelectedItem(n);e.oTreeInstance.expand(0);e.getView().byId("idConfigDetail").setBusy(false)}else if(e.configId===undefined){e.oTreeInstance.expandToLevel(1);e.oTreeInstance.collapseAll()}if(e.configId!==undefined){var o=a.getConfiguration(e.configId);if(o){a.loadConfiguration(e.configId,function(a){e.configEditor=a;var i=e.getSPathForConfig(e.configId);if(e.oModel.getData().aConfigDetails[i.split("/")[2]].bIsLoaded===false){e.updateTree();if(t.params.name!=="navigationTarget"){t.setCurrentSelectionState(t.params,e)}}else{t.setCurrentSelectionState(t.params,e)}})}else{t.setCurrentSelectionState(t.params,e)}}e.getView().byId("idConfigMasterData").setBusy(false)})})}})},setCurrentSelectionState:function(e,t){var a=t.getSPathFromURL(e);if(e.name!=="configurationList"){if(a&&a.objectType){if(e.name==="step"){var i=t.getStepConfigDataBysPath(a.sPath);e.bIsHierarchicalStep=i&&i.bIsHierarchicalStep?true:false}t.updateSubView(e);if(a.sPath){t.setSelectionOnTree(a)}t.updateTitleAndBreadCrumb()}else{t.showNoConfigSelectedText();t.removeSelectionOnTree()}}t.getView().byId("idConfigDetail").setBusy(false)}};return e},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/utils/APFTree", ["sap/apf/modeler/ui/utils/constants","sap/m/Tree","sap/m/TreeRenderer"],function(e,t,a){"use strict";var n=t.extend("sap.apf.modeler.ui.utils.APFTree",{metadata:{events:{},properties:{translationFunction:{},defaultRepresentationType:{},applicationId:{}}},previousSelectedItem:null,renderer:function(e,t){a.render(e,t)},setTranslationFunction:function(e){this.fnTranslationFunction=e},setDefaultRepresentationType:function(e){this.defaultRepresentationType=e},setApplicationId:function(e){this.applicationId=e},getAPFTreeNodeContext:function(e){if(e){var t=e?e._getBindingContext():undefined;var a=t.getObject()?t.getObject().type:undefined;var n;if(t.getObject()&&t.getObject().id){n=t.getObject().id}else if(t.getObject()&&t.getObject().AnalyticalConfiguration){n=t.getObject().AnalyticalConfiguration}return{oNode:e,nodeContext:t.sPath,nodeObjectType:a,nodeTitle:e.getTitle(),nodeAPFId:n}}return null},getItemNodeByContext:function(e){var t=this;var a=e.split("/");switch(a.length){case 3:t.expandToLevel(0);break;case 7:t.expandToLevel(2);break;case 9:t.expandToLevel(3);break;case 11:t.expandToLevel(4);break;default:break}for(var n=0;n<this.getItems().length;n++){var i=this.getItems()[n];if(i._getBindingContext().sPath===e){return i}}return null},getItemNodeByContextWithoutExpand:function(e){for(var t=0;t<this.getItems().length;t++){var a=this.getItems()[t];if(a._getBindingContext().sPath===e){return a}}return null},getParentNodeContext:function(t){var a=this.getModel();if(t!==null){var n=t.nodeContext.split("/")[2];var i=a.getData().aConfigDetails[n]?a.getData().aConfigDetails[n].AnalyticalConfiguration:undefined;var s;var o=t.nodeContext.split("/")[6];var g=t.nodeContext.split("/")[6];var r=t.nodeContext.split("/")[6];var d=t.nodeContext.split("/")[8];var c={};if(t!==null){switch(t.nodeObjectType){case e.configurationObjectTypes.FACETFILTER:c.facetFilterId=a.getData().aConfigDetails[n].configData[0].filters[g].id;c.configId=i;c.configurationName=a.getData().aConfigDetails[n].name;c.facetFilterName=a.getData().aConfigDetails[n].configData[0].filters[g].name;break;case e.configurationObjectTypes.SMARTFILTERBAR:c.smartFilterId=a.getData().aConfigDetails[n].configData[0].filters[g].id;c.configId=i;c.configurationName=a.getData().aConfigDetails[n].name;c.smartFilterName=a.getData().aConfigDetails[n].configData[0].filters[g].name;break;case e.configurationObjectTypes.CATEGORY:if(a.getData().aConfigDetails[n].configData!=undefined){c.categoryId=a.getData().aConfigDetails[n].configData[1].categories[o].id;c.configId=i;c.configurationName=a.getData().aConfigDetails[n].name;c.categoryName=a.getData().aConfigDetails[n].configData[1].categories[o].name}break;case e.configurationObjectTypes.STEP:c.configId=i;c.categoryId=a.getData().aConfigDetails[n].configData[1].categories[o].id;c.stepId=a.getData().aConfigDetails[n].configData[1].categories[o].steps[d].id;c.configurationName=a.getData().aConfigDetails[n].name;c.categoryName=a.getData().aConfigDetails[n].configData[1].categories[o].name;c.stepName=a.getData().aConfigDetails[n].configData[1].categories[o].steps[d].name;break;case e.configurationObjectTypes.REPRESENTATION:s=t.oNode;c.configId=i;c.categoryId=a.getData().aConfigDetails[n].configData[1].categories[o].id;c.stepId=a.getData().aConfigDetails[n].configData[1].categories[o].steps[d].id;c.representationId=s._getBindingContext().getObject().id;c.configurationName=a.getData().aConfigDetails[n].name;c.categoryName=a.getData().aConfigDetails[n].configData[1].categories[o].name;c.stepName=a.getData().aConfigDetails[n].configData[1].categories[o].steps[d].name;c.representationName=s._getBindingContext().getObject().name;break;case e.configurationObjectTypes.CONFIGURATION:c.configId=t.oNode._getBindingContext().getObject().AnalyticalConfiguration;c.configurationName=t.oNode._getBindingContext().getObject().name;break;case e.configurationObjectTypes.NAVIGATIONTARGET:c.navTargetId=a.getData().aConfigDetails[n].configData[2].navTargets[r].id;c.configId=i;c.configurationName=a.getData().aConfigDetails[n].name;c.navTargetName=a.getData().aConfigDetails[n].configData[2].navTargets[r].name;break;default:break}if(a.getData().aConfigDetails&&a.getData().aConfigDetails[n]){c.appId=a.getData().aConfigDetails[n].Application}}return c}},isConfigurationSwitched:function(e,t){var a=false,n,i;var s=this.getParentNodeContext(this.getAPFTreeNodeContext(e));var o=this.getParentNodeContext(this.getAPFTreeNodeContext(t));n=s?s.configId:undefined;if(s&&!jQuery.isEmptyObject(s)&&s.configId===undefined){i=this.getAPFTreeNodeContext(e).nodeContext.split("/")[2];n=this.getModel().getData().aConfigDetails[i].AnalyticalConfiguration}if(n!==undefined&&n!==o.configId){a=true}return a},removeSelectionOnTree:function(e){var t=this.getSelectedItem();if(e){e._getBindingContext().getObject().isSelected=false;e.setSelected(false)}else if(t){t._getBindingContext().getObject().isSelected=false;t.setSelected(false)}this.getModel().updateBindings()},setSelectionOnTree:function(e){this.selectedNode=this.getItemNodeByContextWithoutExpand(e);var t=this.getSelectedItem();if(t!==this.selectedNode){if(t&&t._getBindingContext().getObject()){t.getBindingContext().getObject().isSelected=false;t.setSelected(false)}this.setSelectedItem(this.selectedNode)}},_scrollTreeToNewNode:function(e){if(e&&e.$().length!==0){jQuery(e.$())[0].scrollIntoView()}},setSelectedNode:function(e){this.setSelectedItem(e.getItemNodeContext());this.getModel().updateBindings();this._scrollTreeToNewNode(e)},addNodeInTree:function(t,a,n){var i;var s=this.getAPFTreeNodeContext(this.getSelectedItem());var o=s?s.nodeContext.split("/")[2]:undefined;var g=s?s.nodeContext.split("/")[6]:undefined;var r=s?s.nodeContext.split("/")[8]:undefined;i=["_add",t].join("");this[i](o,g,r,a,n);var d=this._getObjectNodesArray(t,o,g,r);var c=d[d.length-1];if(c!==undefined){if(t!==e.configurationObjectTypes.CONFIGURATION){this.onItemExpanderPressed(c,true)}this.setSelectedItem(c)}},_getObjectNodesArray:function(t,a,n,i){var s=[];switch(t){case e.configurationObjectTypes.CONFIGURATION:s=this.getItems();break;case e.configurationObjectTypes.FACETFILTER:this.expandToLevel(2);var o=this.getSelectedItem().getId();var g=o.split("-");var r=g.length;var d=g[r-1];var c=this.getItems()[parseInt(d,10)+1].getItemNodeContext().children.length;if(this.getItems()[parseInt(d,10)+1].getItemNodeContext().context.sPath==="/aConfigDetails/"+a+"/configData/0"){for(var f=1;f<c;f++){s.push(this.getItems()[parseInt(d,10)+1+f])}}this.expandToLevel(1);break;case e.configurationObjectTypes.CATEGORY:this.expandToLevel(2);var o=this.getSelectedItem().getId();var g=o.split("-");var r=g.length;var d=g[r-1];if(this.getItems()[parseInt(d,10)+1].getItemNodeContext().context.sPath==="/aConfigDetails/"+a+"/configData/0"){var c=this.getItems()[parseInt(d,10)+1].getItemNodeContext().children.length;var l=parseInt(d,10)+2+c;var p=this.getItems()[parseInt(l,10)].getItemNodeContext().children.length;for(var f=1;f<p;f++){s.push(this.getItems()[parseInt(l,10)+1+f])}}this.expandToLevel(1);break;case e.configurationObjectTypes.STEP:break;case e.configurationObjectTypes.REPRESENTATION:break;case e.configurationObjectTypes.NAVIGATIONTARGET:this.expandToLevel(2);var o=this.getSelectedItem().getId();var g=o.split("-");var r=g.length;var d=g[r-1];if(this.getItems()[parseInt(d,10)+1].getItemNodeContext().context.sPath==="/aConfigDetails/"+a+"/configData/0"){var c=this.getItems()[parseInt(d,10)+1].getItemNodeContext().children.length;var l=parseInt(d,10)+2+c;var p=this.getItems()[l].getItemNodeContext().children.length;var D=l+p+1;var u=this.getItems()[D].getItemNodeContext().children.length;for(var f=1;f<u;f++){s.push(this.getItems()[D+1+f])}}this.expandToLevel(1);break;default:break}return s},_addconfiguration:function(){var t=this;this.configNewIndex=this.configNewIndex||1;var a=this.getModel();var n;n="I"+this.configNewIndex;this.configNewIndex++;var i=[],s=[],o=[],g=[];i.push({filters:s,name:t.fnTranslationFunction("facetFilters"),isSelected:false,expanded:false,selectable:false});i.push({categories:o,name:t.fnTranslationFunction("categories"),isSelected:false,expanded:false,selectable:false});i.push({navTargets:g,name:t.fnTranslationFunction("navigationTargets"),isSelected:false,expanded:false,selectable:false});var r={};r.configData=i;var d=this.fnTranslationFunction("newConfiguration");var c={name:"< "+d+" >",type:e.configurationObjectTypes.CONFIGURATION,AnalyticalConfiguration:"newConfig"+n,Application:this.applicationId,configData:i,bIsLoaded:true,isSelected:false,expanded:false,selectable:true};a.getData().aConfigDetails.push(c);a.updateBindings()},_addfacetFilter:function(t){var a=this.getModel();var n=this.fnTranslationFunction("newFacetFilter");var i=a.getData().aConfigDetails[t].configData[0].filters.length;var s={name:"< "+n+" >",type:e.configurationObjectTypes.FACETFILTER,id:"newFilter"+i,isSelected:false,selectable:true};a.getData().aConfigDetails[t].expanded=true;a.getData().aConfigDetails[t].configData[0].expanded=true;a.getData().aConfigDetails[t].configData[0].filters.push(s);a.updateBindings()},_addnavigationTarget:function(t){var a=this.getModel();var n=this.fnTranslationFunction("newNavigationTarget");var i=a.getData().aConfigDetails[t].configData[2].navTargets.length;var s={name:"< "+n+" >",type:e.configurationObjectTypes.NAVIGATIONTARGET,id:"newNavTarget"+i,isSelected:false,selectable:true};a.getData().aConfigDetails[t].expanded=true;a.getData().aConfigDetails[t].configData[2].expanded=true;a.getData().aConfigDetails[t].configData[2].navTargets.push(s);a.updateBindings()},_addcategory:function(t){var a=this.getModel();var n=this.fnTranslationFunction("newCategory");var i=a.getData().aConfigDetails[t].configData[1].categories.length;var s={name:"< "+n+" >",type:e.configurationObjectTypes.CATEGORY,id:"newCategory"+i,isSelected:false,expanded:false,selectable:true};a.getData().aConfigDetails[t].expanded=true;a.getData().aConfigDetails[t].configData[1].expanded=true;a.getData().aConfigDetails[t].configData[1].categories.push(s);a.updateBindings()},_addstep:function(t,a,n,i,s){var o=this.getModel();var g;var s=s&&s===true?true:false;if(o.getData().aConfigDetails[t].configData[1].categories[a].steps===undefined){o.getData().aConfigDetails[t].configData[1].categories[a].steps=[]}if(!i){var r=o.getData().aConfigDetails[t].configData[1].categories[a].steps.length;var d=this.fnTranslationFunction("newStep");g={name:"< "+d+" >",type:e.configurationObjectTypes.STEP,id:"newStep"+r,isSelected:false,expanded:false,selectable:true,bIsHierarchicalStep:s};o.getData().aConfigDetails[t].expanded=true;o.getData().aConfigDetails[t].configData[1].expanded=true;o.getData().aConfigDetails[t].configData[1].categories[a].expanded=true;o.getData().aConfigDetails[t].configData[1].categories[a].steps.push(g)}else{var c,f,l;for(f=0;f<i.noOfSteps;f++){c={name:i.aExistingStepsToBeAdded[f].step.name,type:e.configurationObjectTypes.STEP,id:i.aExistingStepsToBeAdded[f].step.id,isSelected:false,expanded:false,selectable:true,icon:s===true?"sap-icon://drill-down":"sap-icon://step"};o.getData().aConfigDetails[t].configData[1].categories[a].steps.push(c);if(i.aExistingStepsToBeAdded[f].noOfReps!==0){n=o.getData().aConfigDetails[t].configData[1].categories[a].steps.length-1;for(l=0;l<i.aExistingStepsToBeAdded[f].noOfReps;l++){var p={id:i.aExistingStepsToBeAdded[f].representations[l].id,name:i.aExistingStepsToBeAdded[f].representations[l].name,icon:i.aExistingStepsToBeAdded[f].representations[l].icon};this._addrepresentation(t,a,n,p)}}}}o.updateBindings()},_addrepresentation:function(t,a,n,i){var s=this.getModel();var o=this;var g;if(i===undefined){var r=this.getAPFTreeNodeContext(this.getSelectedItem());if(r.nodeObjectType===e.configurationObjectTypes.REPRESENTATION){g=this.getParentNodeContext(r,s).stepId}else if(r.nodeObjectType===e.configurationObjectTypes.STEP){g=r.nodeAPFId}var d=[];s.getData().aConfigDetails[t].configData[1].categories.forEach(function(e,a){if(s.getData().aConfigDetails[t].configData[1].categories[a].steps){s.getData().aConfigDetails[t].configData[1].categories[a].steps.forEach(function(e,t){var n={};if(e.id===g){n.stepIndex=t;n.categoryIndex=a;d.push(n)}})}});d.forEach(function(a){if(s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].steps[a.stepIndex].representations===undefined){s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].steps[a.stepIndex].representations=[]}var n=s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].steps[a.stepIndex].representations.length;var i={name:o.fnTranslationFunction(o.defaultRepresentationType),type:e.configurationObjectTypes.REPRESENTATION,id:"newRepresentation"+n,isSelected:false,selectable:true};s.getData().aConfigDetails[t].expanded=true;s.getData().aConfigDetails[t].configData[1].expanded=true;s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].expanded=true;s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].steps[a.stepIndex].expanded=true;s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].steps[a.stepIndex].representations.push(i)})}else{if(s.getData().aConfigDetails[t].configData[1].categories[a].steps[n].representations===undefined){s.getData().aConfigDetails[t].configData[1].categories[a].steps[n].representations=[]}var c={name:i.name,type:e.configurationObjectTypes.REPRESENTATION,id:i.id,isSelected:false,selectable:true,icon:i.icon};s.getData().aConfigDetails[t].configData[1].categories[a].steps[n].representations.push(c)}s.updateBindings()}});sap.apf.modeler.ui.utils.APFTree=n;return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/constants", function(){"use strict";var e={configurationObjectTypes:{CONFIGURATION:"configuration",FACETFILTER:"facetFilter",SMARTFILTERBAR:"smartFilterBar",CATEGORY:"category",STEP:"step",REPRESENTATION:"representation",NAVIGATIONTARGET:"navigationTarget",ISNEWCONFIG:"apf1972-"},events:{UPDATESUBVIEWINSTANCESONRESET:"updateSubViewInstancesOnResetEvent",ADDPROPERTY:"addProperty",REMOVEPROPERTY:"removeProperty",SETNEXTPROPERTYINPARENTOBJECT:"setNextPropertyInParentObject",REMOVECURRENTPROPERTYFROMPARENTOBJECT:"removeCurrentPropertyFromParentObject",REMOVEPROPERTYFROMPARENTOBJECT:"removePropertyFromParentObject",REMOVEALLPROPERTIESFROMPARENTOBJECT:"removeAllPropertiesFromParentObject",UPDATEPROPERTYVALUESTATE:"updatePropertyValueState",SETFOCUSONADDICON:"setFocusOnAddIcon",FOCUSONREMOVE:"focusOnRemove",SETFOCUSONREMOVEICON:"setFocusOnRemoveIcon",UPDATEPROPERTY:"updateProperty",REMOVEADDEDPROPERTYFROMOTHERPROPERTYTYPE:"removeAddedPropertyFromOtherPropertyType",ADDREMOVEDPROPERTYFROMOTHERPROPERTYTYPE:"addRemovedPropertyFromOtherPropertyType",facetFilter:{ENABLEDISABLEFRRFIELDS:"enableDisableFRRFields",USESAMEASVHR:"useSameAsVHR",CLEARVHRFIELDSIFVALUELIST:"clearVHRFieldsIfValueList",DONOTSHOWATRUNTIME:"doNotShowAtRuntime",UPDATEPROPERTIES:"updatePropertiesInConfiguration"},step:{SETTOPNPROPERTIES:"setTopNProperties",SETDATAREDUCTIONSECTION:"setDataReductionSection",SETVISIBILITYOFFILTERMAPPINGFIELDS:"setVisibilityOfFilterMappingFields",RESETFILTERMAPPINGFIELDS:"resetFilterMappingFields",UPDATEFILTERMAPPINGFIELDS:"updateFilterMappingFields"},representation:{SETCHARTICON:"setChartIcon"}},propertyTypes:{HIERARCHIALCOLUMN:"hierarchicalColumn",DIMENSION:"dimensions",MEASURE:"measures",LEGEND:"legend",PROPERTY:"property",REPRESENTATIONSORT:"representationSort",STEPSORT:"stepSort"},aggregationRoles:{DIMENSION:"dimension",MEASURE:"measure"},similarChartTypes:["ColumnChart","BarChart","LineChart","StackedColumnChart","StackedBarChart","PercentageStackedColumnChart","PercentageStackedBarChart"],texts:{NOTAVAILABLE:"notavailableText"}};sap.apf.modeler.ui.utils.CONSTANTS=e;return e},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/displayOptionsValueBuilder", ["sap/apf/modeler/ui/utils/textManipulator"],function(e){"use strict";sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder=function(e,t){this.oTextReader=e;this.oOptionsValueModelBuilder=t};sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder.prototype.constructor=sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder;sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder.prototype.getLabelDisplayOptions=function(){var e=[{key:"key",name:this.oTextReader("key")},{key:"text",name:this.oTextReader("text")},{key:"keyAndText",name:this.oTextReader("keyAndText")}];return this.oOptionsValueModelBuilder.prepareModel(e,e.length)};sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder.prototype.getMeasureDisplayOptions=function(){var e=[{key:"line",name:this.oTextReader("line")},{key:"bar",name:this.oTextReader("column")}];return this.oOptionsValueModelBuilder.prepareModel(e,e.length)};sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder.prototype.getValidatedLabelDisplayOptions=function(){var e=sap.apf.modeler.ui.utils.textManipulator;var t=[{key:"key",name:this.oTextReader("key")},{key:e.addPrefixText(["text"],this.oTextReader)[0],name:e.addPrefixText([this.oTextReader("text")],this.oTextReader)[0]},{key:e.addPrefixText(["keyAndText"],this.oTextReader)[0],name:e.addPrefixText([this.oTextReader("keyAndText")],this.oTextReader)[0]}];return this.oOptionsValueModelBuilder.prepareModel(t,t.length)}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/helper", function(){"use strict";var e={onResize:function(e){window.addEventListener("resize",function(){e()})}};return e},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/labelForRepresentationTypes", function(){"use strict";var e=function(e){this.oTextReader=e};e.prototype.getLabelsForChartType=function(e,r){var t={xAxis:this.oTextReader("dim-for-xaxis"),legend:this.oTextReader("dim-for-legend"),yAxis:this.oTextReader("meas-for-yaxis")};var o={xAxis:this.oTextReader("dim-for-yaxis"),legend:this.oTextReader("dim-for-legend"),yAxis:this.oTextReader("meas-for-xaxis")};var i={xAxis:this.oTextReader("dim-for-xaxis"),legend:this.oTextReader("dim-for-legend"),yAxis:this.oTextReader("meas-for-leftVAxis"),yAxis2:this.oTextReader("meas-for-rightVAxis")};var a={xAxis:this.oTextReader("dim-for-xaxis"),legend:this.oTextReader("dim-for-legend"),yAxis:this.oTextReader("meas-for-yaxis-Display")};var s={xAxis:this.oTextReader("dim-for-xaxis"),legend:this.oTextReader("dim-for-legend"),yAxis:this.oTextReader("meas-for-leftVAxis-Display"),yAxis2:this.oTextReader("meas-for-rightVAxis-Display")};var x={ColumnChart:t,BarChart:o,LineChart:t,LineChartWithTwoVerticalAxes:i,LineChartWithTimeAxis:t,PieChart:{sectorColor:this.oTextReader("dim-for-sectorColor"),sectorSize:this.oTextReader("meas-for-sectorSize")},DonutChart:{sectorColor:this.oTextReader("dim-for-sectorColor"),sectorSize:this.oTextReader("meas-for-sectorSize")},ScatterPlotChart:{regionColor:this.oTextReader("dim-for-colorDataPoints"),regionShape:this.oTextReader("dim-for-shapeDataPoints"),xAxis:this.oTextReader("meas-for-xaxis"),yAxis:this.oTextReader("meas-for-yaxis")},BubbleChart:{regionColor:this.oTextReader("dim-for-bubbleColor"),regionShape:this.oTextReader("dim-for-bubbleShape"),xAxis:this.oTextReader("meas-for-xaxis"),yAxis:this.oTextReader("meas-for-yaxis"),bubbleWidth:this.oTextReader("meas-for-bubbleWidth")},StackedColumnChart:t,StackedBarChart:o,PercentageStackedColumnChart:t,PercentageStackedBarChart:o,HeatmapChart:{xAxis:this.oTextReader("dim-for-xaxis"),xAxis2:this.oTextReader("dim-for-yaxis"),sectorColor:this.oTextReader("meas-for-sectorColor")},CombinationChart:a,StackedCombinationChart:a,DualCombinationChart:s,DualStackedCombinationChart:s,TableRepresentation:{column:this.oTextReader("prop-for-column")},TreeTableRepresentation:{hierarchicalColumn:this.oTextReader("prop-for-hierarchy-column"),column:this.oTextReader("prop-for-column")}};return x[e][r]};return e});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/nullObjectChecker", function(){"use strict";var e={};e.checkIsNotUndefined=function(e){if(e===undefined){return false}return true};e.checkIsNotNull=function(e){if(e===null){return false}return true};e.checkIsNotBlank=function(e){if(e instanceof Array&&e.length===0){return false}if(e instanceof Object&&Object.keys(e).length===0){return false}if(e===""){return false}return true};e.checkIsNotNullOrBlank=function(e){return this.checkIsNotNull(e)&&this.checkIsNotBlank(e)};e.checkIsNotNullOrUndefined=function(e){return this.checkIsNotNull(e)&&this.checkIsNotUndefined(e)};e.checkIsNotUndefinedOrBlank=function(e){return this.checkIsNotUndefined(e)&&this.checkIsNotBlank(e)};e.checkIsNotNullOrUndefinedOrBlank=function(e){return this.checkIsNotNull(e)&&this.checkIsNotUndefined(e)&&this.checkIsNotBlank(e)};return e},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/optionsValueModelBuilder", ["sap/apf/modeler/ui/utils/nullObjectChecker"],function(e){"use strict";var n=500;var r={};r.prepareModel=function(r,t){var i;if(!e.checkIsNotNullOrUndefined(t)){t=n}i=new sap.ui.model.json.JSONModel;i.setSizeLimit(t);i.setData({Objects:r});return i};r.convert=function(n,t){var i=[],u;if(!e.checkIsNotNullOrUndefinedOrBlank(n)){return undefined}n.forEach(function(n){if(!e.checkIsNotNullOrUndefined(n)){return}u={};u.key=n instanceof Object?n.key:n;u.name=n instanceof Object?n.name:n;i.push(u)});return r.prepareModel(i,t)};return r},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/propertyTypeFactory", ["sap/apf/modeler/ui/utils/constants"],function(e){"use strict";function r(){}sap.apf.modeler.ui.utils.PropertyTypeFactory=r;sap.apf.modeler.ui.utils.PropertyTypeFactory.prototype.constructor=sap.apf.modeler.ui.utils.PropertyTypeFactory;function p(r,p){var o,t,a="sap.apf.modeler.ui.view.propertyType";switch(r.sPropertyType){case e.propertyTypes.DIMENSION:t=new sap.ui.controller("sap.apf.modeler.ui.controller.representationDimension");break;case e.propertyTypes.MEASURE:t=new sap.ui.controller("sap.apf.modeler.ui.controller.representationMeasure");break;case e.propertyTypes.LEGEND:t=new sap.ui.controller("sap.apf.modeler.ui.controller.representationLegend");break;case e.propertyTypes.PROPERTY:t=new sap.ui.controller("sap.apf.modeler.ui.controller.representationProperty");break;case e.propertyTypes.HIERARCHIALCOLUMN:t=new sap.ui.controller("sap.apf.modeler.ui.controller.representationHierarchyProperty");break;case e.propertyTypes.REPRESENTATIONSORT:a="sap.apf.modeler.ui.view.sortPropertyType";t=new sap.ui.controller("sap.apf.modeler.ui.controller.representationSortPropertyType");break;case e.propertyTypes.STEPSORT:a="sap.apf.modeler.ui.view.sortPropertyType";t=new sap.ui.controller("sap.apf.modeler.ui.controller.stepSortPropertyType");break;default:return undefined}o=new sap.ui.view({viewName:a,type:sap.ui.core.mvc.ViewType.XML,id:p,viewData:r,controller:t});return o}sap.apf.modeler.ui.utils.PropertyTypeFactory.prototype.createPropertyTypeView=p;return{createPropertyTypeView:p}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/propertyTypeOrchestration", ["sap/apf/modeler/ui/utils/constants"],function(e){"use strict";function r(){var r=[];this._getPropertyTypeRows=function(){return r};this.getPropertyTypeRow=function(e){return r.filter(function(r){return r.controlId===e})[0]};this.getPropertyTypeRowByPropertyName=function(e){return r.filter(function(r){return r.propertyRowInformation.sProperty===e})[0]};this.getSelectedProperties=function(){var e=[];this._getPropertyTypeRows().forEach(function(r){e.push(r.propertyRowInformation.sProperty)});return e};this.updatePropertyTypeRow=function(e,r){this.getPropertyTypeRow(e).propertyRowInformation.sProperty=r};this.getAggregationRole=function(){if(r.length===0){return null}return t._mapPropertyType2AggregationRole(r[0].sPropertyType)};this.getPropertyInformationList=function(){var r=this;var t=[];this._getPropertyTypeRows().forEach(function(o){var n=o.propertyRowInformation.sProperty;var a;switch(r._getPropertyTypeRows()[0].sPropertyType){case e.propertyTypes.DIMENSION:case e.propertyTypes.LEGEND:a=o.oView.oViewData.oRepresentationHandler.oRepresentation.getDimensionTextLabelKey(n);break;case e.propertyTypes.MEASURE:a=o.oView.oViewData.oRepresentationHandler.oRepresentation.getMeasureTextLabelKey(n);break;case e.propertyTypes.PROPERTY:a=o.oView.oViewData.oRepresentationHandler.oRepresentation.getPropertyTextLabelKey(n);break;case e.propertyTypes.HIERARCHIALCOLUMN:a=o.oView.oViewData.oRepresentationHandler.oRepresentation.getHierarchyPropertyTextLabelKey(n);break;default:a=null;break}if(n!==o.oView.getController().oTextReader("none")){t.push({sProperty:n,sKind:o.propertyRowInformation.sContext,sTextLabelKey:a,sLabelDisplayOption:o.oView.oViewData.oRepresentationHandler.oRepresentation.getLabelDisplayOption(n),sMeasureDisplayOption:o.oView.oViewData.oRepresentationHandler.oRepresentation.getMeasureDisplayOption(n)})}});return t};this.getSortPropertyInformationList=function(e){return this._getPropertyTypeRows().filter(function(e){var r=e.propertyRowInformation.sProperty;return r!==e.oView.getController().oTextReader("none")}).map(function(r){return{property:r.propertyRowInformation.sProperty,ascending:r.oView.getController().byId(e).getSelectedKey()==="true"?true:false}})};this.addPropertyTypeReference=function(e,t,o,n){r.push({controlId:e,propertyRowInformation:t,sPropertyType:o,oView:n})};this.removePropertyTypeReference=function(e){r.forEach(function(t,o){if(t.controlId===e){r.splice(o,1)}})};this.updateAllDropDownsAsPromise=function(){return new Promise(function(e){o(e)})};function o(e){var o=[];r.forEach(function(e){o.push(t._updateDropDownOfAControl(e))});Promise.all(o).then(function(){e()})}this.updateAllSelectControlsForPropertyType=function(e,r){var t=this;return new Promise(function(n){if(e&&r){if(t.isSwapCase(e,r)){t._swapPropertiesBetweenControls(e,r).then(function(){o(n)})}else{t.updatePropertyTypeRow(e,r);o(n)}}else{o(n)}})};this.isSwapCase=function(r,o){return t._mapPropertyType2AggregationRole(this.getPropertyTypeRow(r).sPropertyType)===e.aggregationRoles.MEASURE&&t._isPropertyAlreadySelected(this.getSelectedProperties(),o)};this._swapPropertiesBetweenControls=function(e,r){var t=this;return new Promise(function(o){var n=t.getPropertyTypeRow(e);var a;var i=n.propertyRowInformation.sProperty;t._getPropertyTypeRows().forEach(function(e){if(e.propertyRowInformation.sProperty===r){a=t.getPropertyTypeRow(e.controlId)}});a.propertyRowInformation.sProperty=i;n.propertyRowInformation.sProperty=r;t.updateAllDropDownsAsPromise().then(function(){a.oView.getController().setDetailData();o()})})}}var t={_updateDropDownOfAControl:function(r){var o=new Promise(function(o){var n=t._mapPropertyType2AggregationRole(r.sPropertyType);var a=r.oView.getViewData();var i=r.oView.getViewData().oPropertyOrchestration;var p=a.oStepPropertyMetadataHandler;var s=a.oParentObject.getId();var y=r.propertyRowInformation.sProperty;var l=r.propertyRowInformation.bMandatory;var u=p.oStep;var f=u.getType()==="hierarchicalStep";if(f&&r.sPropertyType===e.propertyTypes.REPRESENTATIONSORT){n=e.aggregationRoles.MEASURE}t.getConsumableAndAvailablePropertiesAsPromise(s,n,p).then(function(e){var a=r.oView.getController();a.removeAllItemsFromDropDownList();var p=i.getSelectedProperties();var s=t._relativeComplement(e.available,p);a.setItemsOfDropDownList(s,e.available,y,l,n);o()})});return o},getPropertyListAndSelectedKey:function(e,r,t,o,n){function a(e,r){return e.indexOf(r)!==-1}function i(e,r){return a(r.available,e)?e:n([e],t.oTextReader)[0]}function p(e){return e!==t.oTextReader("none")&&e!==undefined}var s=JSON.parse(JSON.stringify(e));var y=i(r,o);if(p(r)&&!a(e,r)){s=e.concat(y)}if(!t.oView.oViewData.oPropertyTypeData.bMandatory){s.splice(0,0,t.oTextReader("none"))}return{aAllProperties:s,sSelectedKey:y}},_mapPropertyType2AggregationRole:function(r){switch(r){case e.propertyTypes.DIMENSION:case e.propertyTypes.LEGEND:return e.aggregationRoles.DIMENSION;case e.propertyTypes.MEASURE:return e.aggregationRoles.MEASURE;default:return null}},getConsumableAndAvailablePropertiesAsPromise:function(e,r,t){var o=new Promise(function(o){t.getEntityTypeMetadataAsPromise().then(function(n){var a=t.oStep;a.getConsumablePropertiesForRepresentation(e).then(function(e){var a=e.consumable.filter(function(e){var o=t.getPropertyMetadata(n,e);return!r||o&&o["aggregation-role"]===r});var i=e.available.filter(function(e){var o=t.getPropertyMetadata(n,e);return!r||o&&o["aggregation-role"]===r});o({available:i,consumable:a})})})});return o},_relativeComplement:function(e,r){var t=JSON.parse(JSON.stringify(e));r.forEach(function(e){t=t.filter(function(r){return r!==e})});return t},_isPropertyAlreadySelected:function(e,r){function t(e,r){return e.indexOf(r)!==-1}return t(e,r)},PropertyTypeOrchestration:r};return t});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/propertyTypeState", ["sap/apf/modeler/ui/utils/nullObjectChecker"],function(e){"use strict";function t(){this.aProperties=[];this.aPropertyTypeViewIds=[]}t.prototype.constructor=t;t.prototype.addProperty=function(t){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}this.aProperties.push(t)};t.prototype.addPropertyAt=function(t,r){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}if(r>this.aProperties.length&&r>=0){return}this.aProperties.splice(r,0,t)};t.prototype.updatePropertyAt=function(t,r){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}if(r>this.aProperties.length&&r>=0){return}this.aProperties[r]=t};t.prototype.removePropertyAt=function(e){if(e>this.aProperties.length&&e>=0){return}this.aProperties.splice(e,1)};t.prototype.removeAllProperties=function(){this.aProperties.splice(0,this.aProperties.length)};t.prototype.isPropertyPresentExactlyOnce=function(e){var t,r=0;for(t=0;t<this.aProperties.length;t++){if(this.aProperties[t]===e){r++}}if(r===1){return true}return false};t.prototype.getPropertyValueState=function(){return this.aProperties};t.prototype.addPropertyTypeViewId=function(t){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}this.aPropertyTypeViewIds.push(t)};t.prototype.addPropertyTypeViewIdAt=function(t,r){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}if(r>this.aProperties.length&&r>=0){return}this.aPropertyTypeViewIds.splice(r,0,t)};t.prototype.removePropertyTypeViewIdAt=function(e){if(e>this.aProperties.length&&e>=0){return}this.aPropertyTypeViewIds.splice(e,1)};t.prototype.removeAllPropertyTypeViewIds=function(){this.aPropertyTypeViewIds.splice(0,this.aPropertyTypeViewIds.length)};t.prototype.indexOfPropertyTypeViewId=function(e){return this.aPropertyTypeViewIds.indexOf(e)};t.prototype.getViewAt=function(t){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}return sap.ui.getCore().byId(this.aPropertyTypeViewIds[t])};return t});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/representationBasicDataHandler", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/propertyTypeOrchestration"],function(e,t){"use strict";function r(e,t,r,o){this.oRepresentationView=e;this.oRepresentation=r.oRepresentation;this.oStepPropertyMetadataHandler=t;this.oRepresentationTypeHandler=r.oRepresentationTypeHandler;this.oRepresentationHandler=r;this.nCounter=0;this.oViewValidator=o;this.propertyTypeHandlerPromises=[]}r.prototype._prepareCommonView=function(t,r,o,n){var a,i={},p={};if(o.length===0){return}p.oConfigurationEditor=t.oRepresentationView.getViewData().oConfigurationEditor;p.oParentObject=t.oRepresentation;p.oCoreApi=t.oRepresentationView.getViewData().oCoreApi;p.oConfigurationHandler=t.oRepresentationView.getViewData().oConfigurationHandler;p.oRepresentationTypeHandler=t.oRepresentationTypeHandler;p.oRepresentationHandler=t.oRepresentationHandler;p.oStepPropertyMetadataHandler=t.oStepPropertyMetadataHandler;p.sPropertyType=r;p.oBasicDataLayout=t.oRepresentationView.getController().byId("idBasicDataLayout");p.oTextPool=t.oRepresentationView.getViewData().oConfigurationHandler.getTextPool();p.oViewValidator=t.oViewValidator;i.oViewDataForPropertyType=p;i.aPropertiesToBeCreated=o;i.oPropertyOrchestration=n;a=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.propertyTypeHandler",type:sap.ui.core.mvc.ViewType.XML,id:t.oRepresentationView.getController().createId("id"+r),viewData:i});t.oRepresentationView.getController().byId("idBasicDataLayout").insertItem(a,t.nCounter);t.nCounter++;t.oRepresentationView.attachEvent(e.events.REMOVEALLPROPERTIESFROMPARENTOBJECT,a.getController().handleRemoveOfProperty.bind(a.getController()));t.propertyTypeHandlerPromises.push(a.getController().initPromise)};function o(t,r){t._prepareCommonView(t,e.propertyTypes.DIMENSION,t.oRepresentationHandler.getActualDimensions(),r)}function n(t,r){t._prepareCommonView(t,e.propertyTypes.LEGEND,t.oRepresentationHandler.getActualLegends(),r)}function a(t,r){t._prepareCommonView(t,e.propertyTypes.MEASURE,t.oRepresentationHandler.getActualMeasures(),r)}function i(t,r){t._prepareCommonView(t,e.propertyTypes.PROPERTY,t.oRepresentationHandler.getActualProperties(),r)}function p(t,r){t._prepareCommonView(t,e.propertyTypes.HIERARCHIALCOLUMN,t.oRepresentationHandler.getHierarchicalProperty(),r)}r.prototype.instantiateBasicDataAsPromise=function(){var r=this;var s=r.oRepresentation.getId();var l=jQuery.Deferred();this.propertyTypeHandlerPromises.push(l);t.getConsumableAndAvailablePropertiesAsPromise(s,e.aggregationRoles.DIMENSION,r.oStepPropertyMetadataHandler).then(function(y){t.getConsumableAndAvailablePropertiesAsPromise(s,e.aggregationRoles.MEASURE,r.oStepPropertyMetadataHandler).then(function(e){var s;var y;var d;r.destroyBasicData();if(r.oRepresentation.getRepresentationType()==="TreeTableRepresentation"){d=new t.PropertyTypeOrchestration;p(r,d);i(r,d)}else if(r.oRepresentation.getRepresentationType()==="TableRepresentation"){d=new t.PropertyTypeOrchestration;i(r,d)}else{y=new t.PropertyTypeOrchestration;o(r,y);n(r,y);s=new t.PropertyTypeOrchestration;a(r,s)}l.resolve()})});return jQuery.when.apply(jQuery,this.propertyTypeHandlerPromises)};r.prototype.destroyBasicData=function(){this.oViewValidator.clearFields();this.nCounter=0;this.oRepresentationView.getController().byId("idBasicDataLayout").destroyItems()};return r});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/representationHandler", function(){"use strict";var e=function(e,t,r){this.oRepresentation=e;this.oRepresentationTypeHandler=t;this.oTextReader=r};function t(e,t){var r;e.forEach(function(e){if(e.kind===t){r=e}});return r}function r(e,r,n,o,i){var s=[],a;r.forEach(function(r){var p=t(e,r);var d=p.min;a=false;n.forEach(function(e){if(o===undefined||o&&o(e)===r){s.push({sProperty:e,sContext:r,bMandatory:d>0?true:false});a=true;d--}});while(!a||d>0){var u=d>0?"":i("none");s.push({sProperty:u,sContext:r,bMandatory:d>0?true:false});a=true;d--}});return s}function n(e,t){var r;e.forEach(function(e){if(e["id"]===t){r=e}});return r}e.prototype.formPropertiesToBeCreated=function(e,t,n,o){return r(e,t,n,o,this.oTextReader)};e.prototype.getActualDimensions=function(){var e=this.oRepresentation.getRepresentationType();var t=n(this.oRepresentationTypeHandler.aRepresentationTypes,e);var r=this.oRepresentation.getDimensions();var o=this.oRepresentationTypeHandler.getKindsForDimensionPropertyType(e);return this.formPropertiesToBeCreated(t.metadata.dimensions.supportedKinds,o,r,this.oRepresentation.getDimensionKind)};e.prototype.getActualLegends=function(){var e=this.oRepresentation.getRepresentationType();var t=n(this.oRepresentationTypeHandler.aRepresentationTypes,e);var r=this.oRepresentation.getDimensions();var o=this.oRepresentationTypeHandler.getKindsForLegendPropertyType(e);return this.formPropertiesToBeCreated(t.metadata.dimensions.supportedKinds,o,r,this.oRepresentation.getDimensionKind)};e.prototype.getActualMeasures=function(){var e=this.oRepresentation.getRepresentationType();var t=n(this.oRepresentationTypeHandler.aRepresentationTypes,e);var r=this.oRepresentation.getMeasures();var o=this.oRepresentationTypeHandler.getKindsForMeasurePropertyType(e);return this.formPropertiesToBeCreated(t.metadata.measures.supportedKinds,o,r,this.oRepresentation.getMeasureKind)};e.prototype.getActualProperties=function(){var e=this.oRepresentation.getRepresentationType();var t=n(this.oRepresentationTypeHandler.aRepresentationTypes,e);var r=this.oRepresentation.getProperties();var o=this.oRepresentationTypeHandler.getKindsForPropertyType(e);return this.formPropertiesToBeCreated(t.metadata.properties.supportedKinds,o,r,this.oRepresentation.getPropertyKind)};e.prototype.getHierarchicalProperty=function(){var e=this.oRepresentation.getRepresentationType();var t=n(this.oRepresentationTypeHandler.aRepresentationTypes,e);var r=[];r.push(this.oRepresentation.getHierarchyProperty());var o=this.oRepresentationTypeHandler.getKindsForHierarchicalPropertyType(e);return this.formPropertiesToBeCreated(t.metadata.hierarchicalColumn.supportedKinds,o,r,undefined)};return e},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2014 SAP AG. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/utils/sortDataHandler", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/propertyTypeOrchestration"],function(t,e){"use strict";var r=function(t,e,r,o){this.oParentView=t;this.oStepPropertyMetadataHandler=r;this.oParentObject=e;this.oTextReader=o};function o(r,o,a){var i;var n=new e.PropertyTypeOrchestration;var p={oConfigurationEditor:r.oParentView.getViewData().oConfigurationEditor,oParentObject:r.oParentObject,oCoreApi:r.oParentView.getViewData().oCoreApi,oConfigurationHandler:r.oParentView.getViewData().oConfigurationHandler,oStepPropertyMetadataHandler:r.oStepPropertyMetadataHandler,sPropertyType:o};var s={oViewDataForPropertyType:p,aPropertiesToBeCreated:a,oPropertyOrchestration:n};i=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.propertyTypeHandler",type:sap.ui.core.mvc.ViewType.XML,id:r.oParentView.getController().createId("id"+o),viewData:s});r.oParentView.getController().byId("idSortLayout").insertItem(i);r.oParentView.attachEvent(t.events.step.SETTOPNPROPERTIES,i.getController().handleSettingTopNProperties.bind(i.getController()))}function a(t){var e=[];t.forEach(function(t){e.push({sProperty:t.property,sContext:t.ascending?"true":"false"})});return e}r.prototype.instantiateRepresentationSortData=function(){var e=a(this.oParentObject.getOrderbySpecifications());if(e.length===0){e=[{sProperty:this.oTextReader("none"),sContext:"true"}]}o(this,t.propertyTypes.REPRESENTATIONSORT,e)};r.prototype.instantiateStepSortData=function(){var e;this.destroySortData();if(this.oParentObject.getTopN()&&this.oParentObject.getTopN().orderby.length!==0){e=a(this.oParentObject.getTopN().orderby)}else{e=[{sProperty:this.oStepPropertyMetadataHandler.getProperties()[0],sContext:"true"}]}o(this,t.propertyTypes.STEPSORT,e)};r.prototype.destroySortData=function(){this.oParentView.getController().byId("idSortLayout").destroyItems()};return r},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/staticValuesBuilder", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/textManipulator"],function(e,t){"use strict";function r(e,t){this.oTextReader=e;this.oOptionsValueModelBuilder=t}r.prototype.constructor=r;r.prototype.getNavTargetTypeData=function(){var e=[this.oTextReader("globalNavTargets"),this.oTextReader("stepSpecific")];return this.oOptionsValueModelBuilder.convert(e,e.length)};r.prototype.getSortDirections=function(){var e=[{key:"true",name:this.oTextReader("ascending")},{key:"false",name:this.oTextReader("descending")}];return this.oOptionsValueModelBuilder.prepareModel(e,e.length)};sap.apf.modeler.ui.utils.StaticValuesBuilder=r;return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/stepPropertyMetadataHandler", ["sap/apf/modeler/ui/utils/constants"],function(e){"use strict";var t=function(e,t){this.oCoreApi=e;this.oStep=t};function r(e,t,r){var o=[],i;var a=t.oStep.getSelectProperties();a.forEach(function(a){if(t.getPropertyMetadata(e,a)){i=t.getPropertyMetadata(e,a)["aggregation-role"];if(i===r){o.push(a)}}});return o}t.prototype.getEntityTypeMetadataAsPromise=function(){var e=this.oStep.getService();var t=this.oStep.getEntitySet();return this.oCoreApi.getEntityTypeMetadataAsPromise(e,t)};t.prototype.getFilterMappingEntityTypeMetadataAsPromise=function(e,t){return this.oCoreApi.getEntityTypeMetadataAsPromise(e,t)};t.prototype.getDimensionsProperties=function(t){return r(t,this,e.aggregationRoles.DIMENSION)};t.prototype.getMeasures=function(t){return r(t,this,e.aggregationRoles.MEASURE)};t.prototype.getProperties=function(){return this.oStep.getSelectProperties()};t.prototype.getHierarchicalProperty=function(){return this.oStep.getHierarchyProperty()};t.prototype.getPropertyMetadata=function(e,t){if(!e){return undefined}return e.getPropertyMetadata(t)};t.prototype.getDefaultLabel=function(e,t){var r=this;var o=r.getPropertyMetadata(e,t);if(!o){return""}return o.label||o.name};t.prototype.hasTextPropertyOfDimension=function(e,t){var r=false,o,i=this;var a=i.getPropertyMetadata(e,t);if(!a){return r}if(a.text){o=this.oStep.getSelectProperties();r=o.indexOf(a.text)===-1?false:true}return r};t.prototype.getRepresentationTypesArray=function(){var e=[],t=this;if(t.oStep.getType()==="hierarchicalStep"){e.push({key:"TreeTableRepresentation",name:t.oCoreApi.getText("TreeTableRepresentation")})}else{t.oCoreApi.getRepresentationTypes().forEach(function(r){if(r.metadata){if(r.id!=="TreeTableRepresentation"){e.push({key:r.id,name:t.oCoreApi.getText(r.label.key)})}}})}return e};t.prototype.getStepType=function(){return this.oStep.getType()};sap.apf.modeler.ui.utils.StepPropertyMetadataHandler=t;return t},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/textManipulator", function(){"use strict";var e={};e.addPrefixText=function(e,r){var t=[];if(e){t=e.map(function(e){return r(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE)+": "+e})}return t};e.removePrefixText=function(e,r){var t=e.replace(r,"");return t.replace(": ","")};return e},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/textPoolHelper", ["sap/apf/modeler/ui/utils/optionsValueModelBuilder"],function(e){"use strict";var t={SuggestionTextHandler:function(e){this.oTextPool=e},TranslationFormatMap:{APPLICATION_TITLE:{TextElementType:"XTIT",MaximumLength:250},CATEGORY_TITLE:{TextElementType:"XTIT",MaximumLength:60},FACETFILTER_LABEL:{TextElementType:"XFLD",MaximumLength:50},STEP_TITLE:{TextElementType:"XTIT",MaximumLength:100},STEP_LONG_TITLE:{TextElementType:"XTIT",MaximumLength:200},STEP_CORNER_TEXT:{TextElementType:"XFLD",MaximumLength:25},REPRESENTATION_LABEL:{TextElementType:"XTIT",MaximumLength:80},REPRESENTATION_CORNER_TEXT:{TextElementType:"XFLD",MaximumLength:25},NAVTARGET_TITLE:{TextElementType:"XTIT",MaximumLength:200},STEPFILTERPROPERTY_LABEL:{TextElementType:"XTIT",MaximumLength:80}}};t.SuggestionTextHandler.prototype.manageSuggestions=function(e,t){var T=e.getSource();var n=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var a=e.getParameter("suggestValue");var i=n.convert(t,t.length);var o=a.toUpperCase();var l=a.toLowerCase();var m=[new sap.ui.model.Filter("key",sap.ui.model.FilterOperator.Contains,o),new sap.ui.model.Filter("key",sap.ui.model.FilterOperator.Contains,l)];var r=new sap.ui.model.Filter(m,false);T.setModel(null);T.removeAllSuggestionItems();T.setModel(i);T.getBinding("suggestionItems").filter(r)};t.SuggestionTextHandler.prototype.manageSuggestionTexts=function(e,t){var T=[];var n=this.oTextPool.getTextsByTypeAndLength(t.TextElementType,t.MaximumLength);if(n.length!==0){n.forEach(function(e){T.push(e.TextElementDescription)});this.manageSuggestions(e,T)}};sap.apf.modeler.ui.utils.SuggestionTextHandler=t.SuggestionTextHandler;sap.apf.modeler.ui.utils.TranslationFormatMap=t.TranslationFormatMap;return t},true);
sap.ui.predefine("sap/apf/modeler/ui/utils/treeTableDisplayOptionsValueBuilder", ["sap/apf/modeler/ui/utils/displayOptionsValueBuilder"],function(e){"use strict";sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder=function(e,t){sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder.apply(this,[e,t])};sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder.prototype=Object.create(sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder.prototype);sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder.prototype.constructor=sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder;sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder.prototype.getLabelDisplayOptions=function(){var e=[{key:"key",name:this.oTextReader("key")},{key:"text",name:this.oTextReader("text")}];return this.oOptionsValueModelBuilder.prepareModel(e,e.length)};sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder.prototype.getValidatedLabelDisplayOptions=function(){var e=sap.apf.modeler.ui.utils.textManipulator;var t=[{key:"key",name:this.oTextReader("key")},{key:e.addPrefixText(["text"],this.oTextReader)[0],name:e.addPrefixText([this.oTextReader("text")],this.oTextReader)[0]}];return this.oOptionsValueModelBuilder.prepareModel(t,t.length)}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/viewValidator", ["sap/apf/modeler/ui/utils/nullObjectChecker"],function(e){"use strict";var i=function(e){this.aFieldIds=[];this.oView=e};function t(e){var i=true;if(typeof e!=="string"){i=false}return i}function s(e,i){var t=true;if(!e.oView.byId(i)){t=false}return t}i.prototype.addFields=function(i){if(!e.checkIsNotNullOrUndefinedOrBlank(i)){return}var d,l=i.length;for(d=0;d<l;d++){if(t(i[d])&&s(this,i[d])&&this.aFieldIds.indexOf(i[d])===-1){this.aFieldIds.push(i[d])}}};i.prototype.addField=function(i){if(!e.checkIsNotNullOrUndefinedOrBlank(i)){return}if(t(i)&&s(this,i)&&this.aFieldIds.indexOf(i)===-1){this.aFieldIds.push(i)}};i.prototype.removeFields=function(i){var d=-1;var l,n=i.length;if(e.checkIsNotNullOrUndefinedOrBlank(i)===false){return}if(e.checkIsNotNullOrUndefinedOrBlank(this.aFieldIds)===false){return}for(l=0;l<n;l++){d=this.aFieldIds.indexOf(i[l]);if(t(i[l])&&s(this,i[l])&&d!==-1){this.aFieldIds.splice(d,1)}}};i.prototype.removeField=function(i){var d=-1;if(e.checkIsNotNullOrUndefinedOrBlank(i)===false){return}if(e.checkIsNotNullOrUndefinedOrBlank(this.aFieldIds)===false){return}d=this.aFieldIds.indexOf(i);if(t(i)&&s(this,i)&&d!==-1){this.aFieldIds.splice(d,1)}};i.prototype.getFields=function(){return this.aFieldIds};i.prototype.getView=function(){return this.oView};i.prototype.clearFields=function(){var e=this.aFieldIds.length;this.aFieldIds.splice(0,e)};i.prototype.getValidationState=function(){var e=true,i;for(i=0;i<this.aFieldIds.length;i++){if(this.oView.byId(this.aFieldIds[i])instanceof sap.m.MultiComboBox){e=this.oView.byId(this.aFieldIds[i]).getSelectedKeys().length>=1?true:false}else if(this.oView.byId(this.aFieldIds[i])instanceof sap.m.Input){if(this.oView.byId(this.aFieldIds[i])instanceof sap.m.MultiInput){e=this.oView.byId(this.aFieldIds[i]).getTokens().length>=1?true:false}else{e=this.oView.byId(this.aFieldIds[i]).getValue().trim()!==""?true:false}}else if(this.oView.byId(this.aFieldIds[i])instanceof sap.m.ComboBox){e=this.oView.byId(this.aFieldIds[i]).getValue().trim()!==""?true:false}else if(this.oView.byId(this.aFieldIds[i])instanceof sap.m.Select){e=this.oView.byId(this.aFieldIds[i]).getSelectedKey().length>=1?true:false}if(e===false){break}}return e};sap.apf.modeler.ui.utils.ViewValidator=i;return i},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/instance", ["sap/apf/ui/utils/constants","sap/apf/core/constants","sap/apf/ui/reuse/view/analysisPath.view","sap/apf/ui/reuse/view/carousel.view","sap/apf/utils/trace","sap/ui/dom/includeStylesheet"],function(e,t,a,i,n,r){"use strict";function s(e,t,a){var i=e.getLayoutView();var n=i.byId("subHeader");var r=i.byId("idSplitterLayoutData");n.addContent(t);if(!(t instanceof sap.ui.comp.smartfilterbar.SmartFilterBar)){r.setSize("65px")}t.addEventDelegate({onAfterRendering:function(){n.setBusy(false);if(t instanceof sap.ui.comp.smartfilterbar.SmartFilterBar){n.setHeight("");n.addStyleClass(a)}}})}function o(e){e.getLayoutView().byId("subHeader").setBusy(false)}function l(a){a.uiApi=this;var i=a.oCoreApi;var l=a.oStartFilterHandler;var u;var c;var f;var p;var d;var g;var v;var y;var h;var w,C;var S=i.getUriGenerator().getApfLocation();this.oEventCallbacks={};var m;r(S+"resources/css/apfUi.css","apfCss");r(S+"resources/css/apfPrint.css","printCss");jQuery("#printCss").attr("media","print");this.getAddAnalysisStepButton=function(){return this.getAnalysisPath().getCarouselView().getAddStepButton()};this.getAnalysisPath=function(){if(u===undefined){u=sap.ui.view({viewName:"sap.apf.ui.reuse.view.analysisPath",type:sap.ui.core.mvc.ViewType.JS,viewData:a,async:true})}return u};this.getNotificationBar=function(){if(c===undefined){c=sap.ui.view({viewName:"sap.apf.ui.reuse.view.messageHandler",type:sap.ui.core.mvc.ViewType.JS,viewData:a,async:true})}return c};this.getStepContainer=function(){if(f===undefined){f=sap.ui.view({viewName:"sap.apf.ui.reuse.view.stepContainer",type:sap.ui.core.mvc.ViewType.JS,viewData:a,async:true})}return f};this.getToolbar=function(){if(p===undefined){p=sap.ui.view({viewName:"sap.apf.ui.reuse.view.toolbar",type:sap.ui.core.mvc.ViewType.JS,viewData:a,async:true})}return p};this.createCarouselSingleton=function(){if(a&&a.functions&&a.functions.createCarouselSingleton){d=a.functions.createCarouselSingleton()}if(d===undefined){d=sap.ui.view({viewName:"sap.apf.ui.reuse.view.carousel",type:sap.ui.core.mvc.ViewType.JS,viewData:{oInject:a},async:true})}return d};this.getStepGallery=function(){if(g===undefined){g=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.apf.ui.reuse.view.stepGallery",viewData:a,async:true})}return g};this.getPathGallery=function(){if(v===undefined){v=sap.ui.view({viewName:"sap.apf.ui.reuse.view.pathGallery",type:sap.ui.core.mvc.ViewType.JS,viewData:{oInject:a},async:true})}return v};this.getDeleteAnalysisPath=function(){if(y===undefined){y=sap.ui.view({viewName:"sap.apf.ui.reuse.view.deleteAnalysisPath",type:sap.ui.core.mvc.ViewType.JS,viewData:{oInject:a},async:true})}return y};this.getLayoutView=function(){if(h===undefined){h=sap.ui.view({viewName:"sap.apf.ui.reuse.view.layout",type:sap.ui.core.mvc.ViewType.XML,viewData:a,async:true})}return h};this.selectionChanged=function(e){n.logCall("ui/Instance.selectionChanged",", bRefreshAllSteps: ",e,"--------");var t;var a=this;function r(){if(h){h.getController().enableDisableOpenIn()}}t=i.getSteps().indexOf(i.getActiveStep());var s=0;t=i.getSteps().indexOf(i.getActiveStep());if(!e){s=t+1}n.logCall("...",", nActiveStepIndex: ",t,", indexOfRefresh",s);a.getAnalysisPath().getController().refresh(s);a.getAnalysisPath().getController().getView().getCarouselView().getController().setBusyFromIndex(s);i.updatePath(a.getAnalysisPath().getController().callBackForUpdatePath.bind(a.getAnalysisPath().getController()),function(){r()});n.logReturn("ui/Instance.selectionChanged")};var F=false;this.createApplicationLayout=function(e){var t=this;return new Promise(function(a){if(!F){var i=t.getStepGallery().loaded();var n=t.getToolbar().loaded();var r=t.getPathGallery().loaded();var s=t.getDeleteAnalysisPath().loaded();var o=t.getStepContainer().loaded();var l=Promise.all([i]).then(function(){return t.createCarouselSingleton().loaded()});var u=Promise.all([n,l,r,s]).then(function(){return t.getAnalysisPath().loaded()});var c=Promise.all([o,u]).then(function(){return t.getLayoutView().loaded()});c.then(function(){e.addPage(h);F=true;m=e;a(e)})}else{a(m)}})};this.addDetailFooterContent=function(e){this.getLayoutView().getController().addDetailFooterContentLeft(e)};this.addMasterFooterContentRight=function(e){this.getLayoutView().getController().addMasterFooterContentRight(e)};this.setEventCallback=function(e,t){this.oEventCallbacks[e]=t};this.getEventCallback=function(e){return this.oEventCallbacks[e]};this.getCustomFormatExit=function(){return a.exits};this.setCustomFormatExit=function(e){var t=this.getCustomFormatExit();t.customFormat=e};this.drawSmartFilterBar=function(e){var t=this;function a(e){i.getSmartFilterbarDefaultFilterValues().done(function(a){C=sap.ui.view({viewName:"sap.apf.ui.reuse.view.smartFilterBar",type:sap.ui.core.mvc.ViewType.JS,viewData:{oCoreApi:i,oUiApi:t,oSmartFilterBarConfiguration:e,controlConfiguration:a,parent:t.getLayoutView()},async:true});C.loaded().then(function(e){s(t,e.byId("idAPFSmartFilterBar"),"smartFilterBarContainer")})})}if(e){if(e.entitySet){a(e)}else{i.getMetadata(e.service).done(function(t){e.entitySet=t.getEntitySetByEntityType(e.entityType);delete e.entityType;a(e)})}}else{o(t)}};this.drawFacetFilter=function(e){if(e.length>0){var t=this;w=sap.ui.view({viewName:"sap.apf.ui.reuse.view.facetFilter",type:sap.ui.core.mvc.ViewType.JS,viewData:{oCoreApi:i,oUiApi:this,aConfiguredFilters:e,oStartFilterHandler:l},async:true});w.loaded().then(function(e){s(t,e.byId("idAPFFacetFilter"))})}else{o(this)}};this.contextChanged=function(e){var a=this.getEventCallback(t.eventTypes.contextChanged);if(typeof a==="function"){a()}};this.getFacetFilterForPrint=function(){if(w){return w.byId("idAPFFacetFilter")}};this.getSmartFilterForPrint=function(){if(C){return C.byId("idAPFSmartFilterBar")}};this.handleStartup=function(e){var t=this;var a=jQuery.Deferred();i.getSmartFilterBarConfigurationAsPromise().done(function(n){if(n){t.drawSmartFilterBar(n)}e.done(function(e){var r=l.getStartFilters();r.done(function(r){t.contextChanged();if(!n){t.drawFacetFilter(r)}if(e.navigationMode==="backward"){t.getAnalysisPath().getController().isBackNavigation=true;i.updatePath(t.getAnalysisPath().getController().callBackForUpdatePath.bind(t.getAnalysisPath().getController()));t.getLayoutView().getController().setPathTitle()}if(e.navigationMode==="forward"){if(i.getStartParameterFacade().getSteps()){var s=i.getStartParameterFacade().getSteps()[0].stepId;var o=i.getStartParameterFacade().getSteps()[0].representationId;var l=t.getAnalysisPath().getController().callBackForUpdatePathAndSetLastStepAsActive.bind(t.getAnalysisPath().getController());i.createFirstStep(s,o,l)}if(sap.ui.core.BusyIndicator){sap.ui.core.BusyIndicator.hide()}}t.getNotificationBar().loaded().then(function(e){t.getLayoutView().byId("applicationPage").addContent(e);var n=e.getController().showMessage;i.setCallbackForMessageHandling(n.bind(e.getController()));a.resolve()})})})});return a.promise()};this.destroy=function(){w=undefined;C=undefined;if(u){var e=this.getAnalysisPath().getToolbar().getController();A(e.saveDialog);A(e.newOpenDialog);A(e.newDialog);A(e.confirmDialog);A(e.errorMsgDialog);A(e.noPathAddedDialog);if(e.deleteAnalysisPath!==undefined){A(e.deleteAnalysisPath.getController().oDialog)}if(e.pathGallery!==undefined){A(e.pathGallery.getController().oDialog)}var t=this.getAnalysisPath().getCarouselView().getStepGallery().getController();A(t.oHierchicalSelectDialog)}if(f){var a=this.getStepContainer().getController();A(a.selectionDisplayDialog);P(this)}};function A(e){if(e!==undefined){if(e instanceof sap.m.ViewSettingsDialog){e.destroy()}else if(e.isOpen()){e.close()}}}function P(t){var a=false;var i=false;var n;if(t.getStepContainer().getViewData().oCoreApi.getActiveStep()!==undefined){a=true}if(a){n=t.getStepContainer().getViewData().oCoreApi.getActiveStep().getSelectedRepresentation();if(n!==undefined){i=true}}if(i){if(n.type!==e.representationTypes.TABLE_REPRESENTATION){if(n.toggleInstance!==undefined){A(n.toggleInstance.viewSettingsDialog)}}else{A(n.viewSettingsDialog)}}}}sap.apf.ui.Instance=l;return l},true);
sap.ui.predefine("sap/apf/ui/representations/BaseUI5ChartRepresentation", ["sap/m/Text","sap/apf/core/constants","sap/ui/layout/HorizontalLayout","sap/apf/ui/representations/utils/vizFrameSelectionHandler","sap/apf/ui/utils/formatter","sap/apf/ui/representations/utils/chartDataSetHelper","sap/apf/ui/representations/utils/representationFilterHandler","sap/apf/ui/representations/utils/timeAxisDateConverter","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(t,e,a,i,r,s,n,o,l,jQuery){"use strict";var h=0;function u(t,e){if(!e){return undefined}var a=t.getMetaData();if(!a){return null}var i=a.getPropertyMetadata(e);if(!i){return null}var r=i.label||i.name;return r!==undefined?r:null}var p=function(t,e){this.oMessageObject="";this.aDataResponse=undefined;this.dataset={};this.parameter=e;this.orderby=e.orderby;this.measures=e.measures;this.alternateRepresentation=e.alternateRepresentationType;this.requiredFilters=e.requiredFilters;this.oVizFrameSelectionHandler=new i.constructor(this.parameter,t);this.oTimeAxisDateConverter=new sap.apf.ui.representations.utils.TimeAxisDateConverter;this.oRepresentationFilterHandler=new sap.apf.ui.representations.utils.RepresentationFilterHandler(t,this.parameter,this.oTimeAxisDateConverter);this.chartInstance={};this.chartParam="";this.thumbnailChartParam="";this.oApi=t;this.axisType=sap.apf.ui.utils.CONSTANTS.axisTypes.AXIS;this.topN=e.top;this.apfId=++h};p.prototype={getParameter:function(){return this.parameter},setData:function(t,e){if(this.bIsAlternateView&&this.toggleInstance&&jQuery.isFunction(this.toggleInstance.setData)){this.toggleInstance.setData(t,e)}else{this.formatter=new sap.apf.ui.utils.formatter({getEventCallback:this.oApi.getEventCallback.bind(this.oApi),getTextNotHtmlEncoded:this.oApi.getTextNotHtmlEncoded,getExits:this.oApi.getExits()},e,t);this.oRepresentationFilterHandler.setMetadataAndDataResponse(e,t);this.oRepresentationFilterHandler.validateFiltersWithDataset();this.oChartDataSetHelper=new sap.apf.ui.representations.utils.ChartDataSetHelper(this.formatter,this.oTimeAxisDateConverter);this.oChartDataSetHelper.createFlattenDataSet(this.parameter,e,t,this.oApi);if(this.chartType===sap.apf.ui.utils.CONSTANTS.vizFrameChartTypes.SCATTERPLOT||this.chartType===sap.apf.ui.utils.CONSTANTS.vizFrameChartTypes.BUBBLE){this.oChartDataSetHelper.addUnusedDimensionsToChartContext(e,t)}this.aDataResponse=t||[];this.metadata=e;if(!this.metadata){this.oMessageObject=this.oApi.createMessageObject({code:"6004",aParameters:[this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(this.oMessageObject)}}},attachSelectionAndFormatValue:function(t){var e=this;if(!t){this.oMessageObject=this.oApi.createMessageObject({code:"6002",aParameters:["title",this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(this.oMessageObject)}if(!this.aDataResponse||this.aDataResponse.length===0){this.oMessageObject=this.oApi.createMessageObject({code:"6000",aParameters:[t]});this.oApi.putMessage(this.oMessageObject)}this.fnHandleSelection=this.handleSelection.bind(e);this.chart.attachSelectData(this.fnHandleSelection);this.fnHandleDeselection=this.handleDeselection.bind(e);this.chart.attachDeselectData(this.fnHandleDeselection)},getFormatStringForMeasure:function(t){var e=this.formatter.getFormatString(t);return e},getFormatStringForMeasureTooltip:function(t){var e=this.formatter.getFormatStringTooltip(t);return e},getSelectionFilterLabel:function(){var t=this.getParameter().requiredFilters[0];var e=this.getSelectedFilterPropertyLabel(t);if(this.getParameter().requiredFilterOptions&&this.getParameter().requiredFilterOptions.fieldDesc){e=this.oApi.getTextNotHtmlEncoded(this.getParameter().requiredFilterOptions.fieldDesc)}return e},getSelectedFilterPropertyLabel:function(t){return u(this,t)},getIsAllMeasureSameUnit:function(){var t=true;var e=this;var a=this.metadata.getPropertyMetadata(this.measures[0].fieldName).unit?this.metadata.getPropertyMetadata(this.metadata.getPropertyMetadata(this.measures[0].fieldName).unit).semantics:undefined;var i;this.measures.forEach(function(r,s){i=e.metadata.getPropertyMetadata(e.measures[s].fieldName).unit?e.metadata.getPropertyMetadata(e.metadata.getPropertyMetadata(r.fieldName).unit).semantics:undefined;if(t&&a!==undefined&&i&&a!==i){t=false}});return t},createThumbnailLayout:function(){if(!this.thumbnailChart){return}this.thumbnailLayout=(new a).addStyleClass("thumbnailLayout");this.thumbnailLayout.removeAllContent();if(this.aDataResponse!==undefined&&this.aDataResponse.length!==0){this.thumbnailChart.setModel(this.oModel);this.thumbnailLayout.addContent(this.thumbnailChart);this.thumbnailChart.removeStyleClass("thumbnailNoData")}else{var e=new t({text:this.oApi.getTextNotHtmlEncoded("noDataText")}).addStyleClass("noDataText");this.thumbnailLayout.addContent(e);this.thumbnailLayout.addContent(this.thumbnailChart);this.thumbnailChart.addStyleClass("thumbnailNoData")}},getAlternateRepresentation:function(){return this.alternateRepresentation},getMetaData:function(){return this.metadata},getData:function(){return this.aDataResponse},getRequestOptions:function(t){if(this.bIsAlternateView&&this.toggleInstance&&jQuery.isFunction(this.toggleInstance.getRequestOptions)){return this.toggleInstance.getRequestOptions(t,this.bIsAlternateView)}var e={paging:{},orderby:[]};if(this.orderby&&this.orderby.length){var a=this.orderby.map(function(t){return{property:t.property,ascending:t.ascending}});e.orderby=a}if(this.topN&&this.topN>0){e.paging.top=this.topN}return e},createDataset:function(){this.dataset=this.oChartDataSetHelper.getFlattenDataSet();this.oModel=this.oChartDataSetHelper.getModel()},drawSelectionOnMainChart:function(){var t=this.oRepresentationFilterHandler.getFilterValues();if(t.length>0){var e=this.oVizFrameSelectionHandler.getSelectionInfoFromFilter(t,this.aDataResponse);this.setSelectionOnMainChart(e)}},drawSelectionOnThumbnailChart:function(){var t=this.oRepresentationFilterHandler.getFilterValues();if(t.length>0){var e=this.oVizFrameSelectionHandler.getSelectionInfoFromFilter(t,this.aDataResponse);this.setSelectionOnThumbnailChart(e,false)}},handleSelection:function(t){this.manageSelectionsOnChart(t,false,this.parameter);this.chart.attachEvent("setFocusOnSelectedLinkEvent",this.chart.setFocusOnSelectLink)},handleDeselection:function(t){this.manageSelectionsOnChart(t,true,this.parameter);this.chart.attachEvent("setFocusOnSelectedLinkEvent",this.chart.setFocusOnSelectLink)},getSelections:function(){return this.oRepresentationFilterHandler.getDisplayInfoForFilters(this.metadata,this.oModel.getData().data)},getSortedSelections:function(){var t;var a=this.getSelections();if(!a||a.length===0){return[]}var i=this.getParameter();if(i.requiredFilterOptions&&i.requiredFilterOptions.labelDisplayOption){t=i.requiredFilterOptions.labelDisplayOption}var r=this.getParameter().requiredFilters[0];var s=this.metadata.getPropertyMetadata(r);switch(t){case e.representationMetadata.labelDisplayOptions.TEXT:return sap.apf.utils.sortByProperty(a,"text",this.metadata.getPropertyMetadata(s.text));case e.representationMetadata.labelDisplayOptions.KEY_AND_TEXT:return sap.apf.utils.sortByProperty(a,"text");default:return sap.apf.utils.sortByProperty(a,"id",s)}},getSelectionCount:function(){return this.oRepresentationFilterHandler.getFilterValues().length},removeAllSelection:function(){this.setSelectionOnThumbnailChart([],false);this.setSelectionOnMainChart([],true)},getFilterMethodType:function(){return sap.apf.core.constants.filterMethodTypes.filter},getFilter:function(){this.filter=this.oRepresentationFilterHandler.createFilterFromSelectedValues();return this.filter},setFilter:function(t){this.filter=t},adoptSelection:function(t){if(t&&t.getFilter){var e=t.getFilter().getInternalFilter().getFilterTerms().map(function(t){return t.getValue()});this.oRepresentationFilterHandler.updateFilterFromSelection(e)}},serialize:function(){var t=this.parameter.orderby;if(this.toggleInstance){t=this.toggleInstance.orderby}return{oFilter:this.oRepresentationFilterHandler.getFilterValues(),bIsAlternateView:this.bIsAlternateView,orderby:t}},deserialize:function(t){this.oRepresentationFilterHandler.updateFilterFromSelection(t.oFilter);this.bIsAlternateView=t.bIsAlternateView;if(this.bIsAlternateView){this.toggleInstance=this.oApi.getUiApi().getStepContainer().getController().createToggleRepresentationInstance(this,t.orderby)}},getPrintContent:function(){},onChartSwitch:function(){},destroy:function(){this.dataset=null;if(this.formatter){this.formatter=null}if(this.oRepresentationFilterHandler){this.oRepresentationFilterHandler.aFilterValues=[];this.oRepresentationFilterHandler=null}if(this.chart){this.chart.detachSelectData(this.fnHandleSelection);this.fnHandleSelection=null;this.chart.detachDeselectData(this.fnHandleDeselection);this.fnHandleDeselection=null;this.chart.destroy();this.chart=null}if(this.thumbnailChart){this.thumbnailChart.destroy();this.thumbnailChart=null}if(this.thumbnailLayout){this.thumbnailLayout.removeAllContent()}}};return p},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/BaseVizFrameChartRepresentation", ["sap/viz/ui5/controls/VizFrame","sap/viz/ui5/controls/common/feeds/FeedItem","sap/apf/ui/representations/BaseUI5ChartRepresentation","sap/apf/ui/representations/utils/vizFrameSelectionHandler","sap/apf/ui/utils/representationTypesHandler","sap/apf/ui/utils/constants","sap/apf/core/constants","sap/apf/utils/trace"],function(e,t,i,a,r,s,n,o){"use strict";var l=" ************************************** ";var h=function(e,t){i.apply(this,[e,t]);this.oApi=e};h.prototype=Object.create(i.prototype);h.prototype.constructor=h;h.prototype.destroy=function(){if(this.chart){this.chart.destroyDataset();this.chart.destroyFeeds();this.chart.detachRenderComplete(this.fnDrawSelectionOnMainChart);this.fnDrawSelectionOnMainChart=null}if(this.thumbnailChart){this.thumbnailChart.destroyDataset();this.thumbnailChart.destroyFeeds();this.thumbnailChart.detachRenderComplete(this.fnDrawSelectionOnThumbnailChart);this.fnDrawSelectionOnThumbnailChart=null}i.prototype.destroy.call(this)};h.prototype.getMeasures=function(){return this.measures};h.prototype.getChartForCustomListItem=function(){o.logCall("getChartForCustomListItem");if(!this.chart4CustomItemList){var e=this.getMainContent("#chartForCustomListItem#",null,null,"isCreate4CIL");this.chart=undefined;this.title=undefined;this.chart4CustomItemList=e}o.logReturn("getChartForCustomListItem"," return=",this.chart4CustomItemList);return this.chart4CustomItemList};h.prototype.getMainContent=function(t,i,a,r){o.logCall("BaseVizFrame.getMainContent"," apfId=",this.apfId,", creationMode"+r);var s=r==="isCreate4CIL";var n=this;var l=this;var h=(a||725)+"px";var p=i||1e3;p=p+"px";this.title=t;this.createDataset();if(!this.chart){this.chart=new e({vizType:this.chartType,dataset:this.dataset,width:p,height:h,uiConfig:{applicationSet:"fiori"}});o.log(""," *** new VizFrame ***",t,", chartType="+this.chartType,", chart=",this.chart);this.setVizPropertiesOnChart(this.metadata);if(this.metadata){this._createAndAddFeedItemBasedOnId(this.chart);if(this.measures.length!==0){var c={};var u;this.measures.forEach(function(e){var t=l.getFormatStringForMeasure(e);u=l.getFormatStringForMeasureTooltip(e);c.measure=e;c.formatString=t;n.setFormatStringOnChart(c)});this.setFormatString("tooltip",u);if(this.handleCustomFormattingOnChart){this.handleCustomFormattingOnChart()}}}if(!s){this.fnDrawSelectionOnMainChart=this.drawSelectionOnMainChart.bind(n);this.chart.attachRenderComplete(this.fnDrawSelectionOnMainChart);l.attachSelectionAndFormatValue.call(this,t)}}else{if(i){this.chart.setWidth(p)}if(a){this.chart.setHeight(h)}this.chart.destroyDataset();this.chart.removeAllFeeds();this.chart.destroyFeeds();this.chart.vizUpdate({data:this.dataset});this._createAndAddFeedItemBasedOnId(this.chart)}this.chart.setModel(this.oModel);o.logReturn("BaseVizFrame.getMainContent");return this.chart};h.prototype.setVizPropertiesOnChart=function(e){var t={behaviorType:null};if(this.parameter.requiredFilters.length===0){t={selectability:{axisLabelSelection:false,legendSelection:false,plotLassoSelection:false,plotStdSelection:false},enableHover:false,noninteractiveMode:false,behaviorType:null}}this.chart.setVizProperties({title:{visible:true,text:this.title},interaction:t,categoryAxis:{visible:true,title:{visible:true},label:{visible:true}},valueAxis:{visible:true,title:{visible:true},label:{visible:true}},legend:{visible:true,title:{visible:true},isScrollable:true},plotArea:{window:{start:null},dataLabel:{visible:false,unitFormatType:"measureFormatter",hideWhenOverlap:true}},tooltip:{visible:true,label:{visible:true}},general:{groupData:false}});this.setVizPropsForSpecificRepresentation();var i=new r;if(i.isCombinationChart(this.type)){this.chart.setVizProperties(this.getVizPropertiesForCombinationCharts(i))}};h.prototype.getVizPropertiesForCombinationCharts=function(e){var t=[];var i=[];this.measures.forEach(function(a){if(!a.measureDisplayOption){return}if(a.kind===e.getKindsForMeasurePropertyType(this.type)[0]){t.push(a.measureDisplayOption)}if(a.kind===e.getKindsForMeasurePropertyType(this.type)[1]){i.push(a.measureDisplayOption)}}.bind(this));var a={plotArea:{dataShape:{}}};if(t.length>0){a.plotArea.dataShape.primaryAxis=t}if(i.length>0){a.plotArea.dataShape.secondaryAxis=i}return a};h.prototype.setVizPropsForSpecificRepresentation=function(){};h._setVizPropsForBubbleAndScatter=function(e,t){o.log("_setVizPropsForBubbleAndScatter",", dimensions",e);var i={valueAxis2:{visible:t,title:{visible:t}},sizeLegend:{visible:t},plotArea:{adjustScale:true}};if(!t){i.plotArea.markerSize=4;i.plotArea.marker={visible:true,size:4}}else{i.valueAxis2.label={visible:true}}var a=0;var r=0;e.forEach(function(e){if(e.kind===n.representationMetadata.kind.REGIONCOLOR){a++}else if(e.kind===n.representationMetadata.kind.REGIONSHAPE){r++}});if(a>0){i.plotArea.colorDepth=a}if(r>0){i.plotArea.shapeDepth=r}return i};h.prototype.setFormatStringOnChart=function(e){var t=e.formatString;var i=e.measure.axisfeedItemId;this.setFormatString(i,t)};h.prototype.setFormatString=function(e,t){var i=this;var a=i.getIsAllMeasureSameUnit();switch(e){case n.vizFrame.feedItemTypes.VALUEAXIS:if(a){this.chart.setVizProperties({valueAxis:{label:{formatString:t}}})}break;case n.vizFrame.feedItemTypes.VALUEAXIS2:if(a){this.chart.setVizProperties({valueAxis2:{label:{formatString:t}}})}break;case n.vizFrame.feedItemTypes.CATEGORYAXIS:this.chart.setVizProperties({categoryAxis:{label:{formatString:t}}});break;case n.vizFrame.feedItemTypes.BUBBLEWIDTH:this.chart.setVizProperties({sizeLegend:{formatString:t}});break;case"tooltip":this.chart.setVizProperties({tooltip:{formatString:t}});break;default:break}};h.prototype._createAndAddFeedItemBasedOnId=function(e){var t=this._createFeedItemGroup(this.parameter.measures);this._addFeedItemsToChart(e,t,"Measure");var i=this._createFeedItemGroup(this.parameter.dimensions);this._addFeedItemsToChart(e,i,"Dimension")};h.prototype._createFeedItemGroup=function(e){var t=this;var i={};e.forEach(function(e){e.axisfeedItemId=t.getAxisFeedItemId(e.kind);var a=i[e.axisfeedItemId];if(a){var r=a.some(function(t){return t.identity===e.identity});if(!r){a.push(e)}}else{i[e.axisfeedItemId]=[e]}});return i};h.prototype.manageSelectionsOnChart=function(e,t,i){o.logCall("BaseVizFrame.manageSelectionsOnChart",l,", is deselection",t,", oParameter: ",i);var r=new a.constructor(i,this.oApi);var s=this.chart.vizSelection();var n=r.getSelectionInfoFromEvent(e,t,s);this.setSelectionOnMainChart(n.dataPointsFromSelection,t);this.setSelectionOnThumbnailChart(n.dataPointsFromSelection,t);if(this.oRepresentationFilterHandler.getIfSelectedFilterChanged(n.aUniqueFilterValueFromChart)){o.logCall("...manageSelectionsOnChart, selected filter changed",", aUniqueFilterValueFromChart: ",n.aUniqueFilterValueFromChart);this.oRepresentationFilterHandler.updateFilterFromSelection(n.aUniqueFilterValueFromChart);this.oApi.selectionChanged(false)}o.logReturn("BaseVizFrame.manageSelectionsOnChart")};h.prototype._addFeedItemsToChart=function(e,i,a){for(var r in i){var s={};var n=[];var o=0;for(o in i[r]){n.push(i[r][o].identity);s.feedItemId=i[r][0].axisfeedItemId}s.value=n;var l=new t({uid:s.feedItemId,type:a,values:s.value});e.addFeed(l)}};h.prototype.setVizPropertiesOnThumbnailChart=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({title:{visible:false},categoryAxis:{visible:false,title:{visible:false}},valueAxis:{visible:false,title:{visible:false}},legend:{visible:false,title:{visible:false}},tooltip:{visible:false},interaction:{selectability:{axisLabelSelection:false,legendSelection:false,plotLassoSelection:false,plotStdSelection:false},enableHover:false,noninteractiveMode:true},background:{visible:false},general:{layout:{padding:0},groupData:false},plotArea:{window:{start:null},gridline:{visible:false},dataLabel:{visible:false},seriesStyle:{rules:[{properties:{width:1}}]}}});this.setVizPropsOfThumbnailForSpecificRepresentation();var e=new r;if(e.isCombinationChart(this.type)){this.thumbnailChart.setVizProperties(this.getVizPropertiesForCombinationCharts(e))}};h.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){};h.prototype.setSelectionOnMainChart=function(e,t){o.log("BaseVizFrame.setSelectionOnMainChart",", aSelection=",e," apfId=",this.apfId,", bIsDeselection="+t,"chart.sId"+this.chart.sId);this.chart.vizSelection(e,{clearSelection:t})};h.prototype.setSelectionOnThumbnailChart=function(e,t){o.log("BaseVizFrame.setSelectionOnThumbnailChart",", aSelection=",e," apfId=",this.apfId,", bIsDeselection="+t,"thumbnailChart.sId"+!this.thumbnailChart?"-":this.thumbnailChart.sId);if(this.thumbnailChart){this.thumbnailChart.vizSelection(e,{clearSelection:t})}};h.prototype.getAxisFeedItemId=function(e){};h.prototype.getPrintContent=function(e){var t,i=this.chartType,a={},r,s;var n=this.getMainContent(e);a=n.getVizProperties();t=n.clone();t.setVizType(i);t.setVizProperties(a);t.setWidth("1000px");t.setHeight("600px");this.createDataset();t.setDataset(this.dataset);t.setModel(this.oModel);r=this.chart.vizSelection();t.attachRenderComplete(function(){t.vizSelection(r)});s={oRepresentation:t};return s};return h},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/RepresentationInterfaceProxy", function(){"use strict";var t=function(t,e){this.type="RepresentationInterfaceProxy";this.putMessage=function(e){return t.putMessage(e)};this.createMessageObject=function(e){return t.createMessageObject(e)};this.getActiveStep=function(){return t.getActiveStep()};this.setActiveStep=function(e){return t.setActiveStep(e)};this.getTextNotHtmlEncoded=function(e,n){return t.getTextNotHtmlEncoded(e,n)};this.getExits=function(){return e.getCustomFormatExit()};this.updatePath=function(e){return t.updatePath(e)};this.createFilter=function(){return t.createFilter()};this.selectionChanged=function(t){return e.selectionChanged(t)};this.getEventCallback=function(t){return e.getEventCallback(t)};this.getUiApi=function(){return e}};return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/barChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function r(t,r){e.apply(this,[t,r]);this.type=a.representationTypes.BAR_CHART;this.chartType=a.vizFrameChartTypes.BAR;this._addDefaultKind()}r.prototype=Object.create(e.prototype);r.prototype.constructor=r;r.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};r.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var r;switch(e){case a.XAXIS:r=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:r=t.vizFrame.feedItemTypes.COLOR;break;default:break}return r};sap.apf.ui.representations.barChart=r;return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/bubbleChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function r(t,r){e.apply(this,[t,r]);this.type=a.representationTypes.BUBBLE_CHART;this.chartType=a.vizFrameChartTypes.BUBBLE;this._addDefaultKind()}r.prototype=Object.create(e.prototype);r.prototype.constructor=r;r.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e,a){if(e.kind===undefined){if(a===0){e.kind=t.representationMetadata.kind.XAXIS}else if(a===1){e.kind=t.representationMetadata.kind.YAXIS}else{e.kind=t.representationMetadata.kind.BUBBLEWIDTH}}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.REGIONCOLOR:t.representationMetadata.kind.REGIONSHAPE}})};r.prototype.setVizPropsForSpecificRepresentation=function(){var t=e._setVizPropsForBubbleAndScatter(this.parameter.dimensions,true);this.chart.setVizProperties(t)};r.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){var t=e._setVizPropsForBubbleAndScatter(this.parameter.dimensions,false);this.thumbnailChart.setVizProperties(t)};r.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var r;switch(e){case a.REGIONCOLOR:r=t.vizFrame.feedItemTypes.COLOR;break;case a.REGIONSHAPE:r=t.vizFrame.feedItemTypes.SHAPE;break;case a.XAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.YAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS2;break;case a.BUBBLEWIDTH:r=t.vizFrame.feedItemTypes.BUBBLEWIDTH;break;default:break}return r};sap.apf.ui.representations.bubbleChart=r;return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/columnChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function n(t,n){e.apply(this,[t,n]);this.type=a.representationTypes.COLUMN_CHART;this.chartType=a.vizFrameChartTypes.COLUMN;this._addDefaultKind()}n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};n.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var n;switch(e){case a.XAXIS:n=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:n=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:n=t.vizFrame.feedItemTypes.COLOR;break;default:break}return n};sap.apf.ui.representations.columnChart=n;return n},true);
sap.ui.predefine("sap/apf/ui/representations/combinationChart", ["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation"],function(e,t,a){"use strict";var r=function(e,a){sap.apf.ui.representations.BaseVizFrameChartRepresentation.apply(this,[e,a]);this.type=t.representationTypes.COMBINATION_CHART;this.chartType=t.vizFrameChartTypes.COMBINATION};r.prototype=Object.create(sap.apf.ui.representations.BaseVizFrameChartRepresentation.prototype);r.prototype.getAxisFeedItemId=function(t){var a=e.representationMetadata.kind;var r;switch(t){case a.XAXIS:r=e.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.LEGEND:r=e.vizFrame.feedItemTypes.COLOR;break;case a.YAXIS:r=e.vizFrame.feedItemTypes.VALUEAXIS;break;default:break}return r};sap.apf.ui.representations.combinationChart=r;return r},true);
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/donutChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants"],function(e,a){"use strict";var t=function(e,a){sap.apf.ui.representations.BaseVizFrameChartRepresentation.apply(this,[e,a]);this.type=sap.apf.ui.utils.CONSTANTS.representationTypes.DONUT_CHART;this.chartType=sap.apf.ui.utils.CONSTANTS.vizFrameChartTypes.DONUT};t.prototype=Object.create(sap.apf.ui.representations.BaseVizFrameChartRepresentation.prototype);t.prototype.getAxisFeedItemId=function(e){var a=sap.apf.core.constants.representationMetadata.kind;var t;switch(e){case a.SECTORCOLOR:t=sap.apf.core.constants.vizFrame.feedItemTypes.COLOR;break;case a.SECTORSIZE:t=sap.apf.core.constants.vizFrame.feedItemTypes.SIZE;break;default:break}return t};return t},true);
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/dualCombinationChart", ["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation"],function(e,t,a){"use strict";var r=function(e,a){sap.apf.ui.representations.BaseVizFrameChartRepresentation.apply(this,[e,a]);this.type=t.representationTypes.DUAL_COMBINATION_CHART;this.chartType=t.vizFrameChartTypes.DUAL_COMBINATION};r.prototype=Object.create(sap.apf.ui.representations.BaseVizFrameChartRepresentation.prototype);r.prototype.getAxisFeedItemId=function(t){var a=e.representationMetadata.kind;var r;switch(t){case a.XAXIS:r=e.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.LEGEND:r=e.vizFrame.feedItemTypes.COLOR;break;case a.YAXIS:r=e.vizFrame.feedItemTypes.VALUEAXIS;break;case a.YAXIS2:r=e.vizFrame.feedItemTypes.VALUEAXIS2;break;default:break}return r};r.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({valueAxis2:{visible:false,title:{visible:false}}})};sap.apf.ui.representations.dualCombinationChart=r;return r},true);
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/dualStackedCombinationChart", ["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation"],function(e,t,a){"use strict";var r=function(e,a){sap.apf.ui.representations.BaseVizFrameChartRepresentation.apply(this,[e,a]);this.type=t.representationTypes.DUAL_STACKED_COMBINATION_CHART;this.chartType=t.vizFrameChartTypes.DUAL_STACKED_COMBINATION};r.prototype=Object.create(sap.apf.ui.representations.BaseVizFrameChartRepresentation.prototype);r.prototype.getAxisFeedItemId=function(t){var a=e.representationMetadata.kind;var r;switch(t){case a.XAXIS:r=e.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.LEGEND:r=e.vizFrame.feedItemTypes.COLOR;break;case a.YAXIS:r=e.vizFrame.feedItemTypes.VALUEAXIS;break;case a.YAXIS2:r=e.vizFrame.feedItemTypes.VALUEAXIS2;break;default:break}return r};r.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({valueAxis2:{visible:false,title:{visible:false}}})};sap.apf.ui.representations.dualStackedCombinationChart=r;return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/heatmapChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,i){"use strict";function a(t,a){e.apply(this,[t,a]);this.type=i.representationTypes.HEATMAP_CHART;this.chartType=i.vizFrameChartTypes.HEATMAP;this._addDefaultKind()}a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.SECTORCOLOR}});this.parameter.dimensions.forEach(function(e,i){if(e.kind===undefined){e.kind=i===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.XAXIS2}})};a.prototype.setVizPropsForSpecificRepresentation=function(){this.chart.setVizProperties({categoryAxis2:{visible:true,title:{visible:true},label:{visible:true}}})};a.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({categoryAxis2:{visible:false,title:{visible:false}}})};a.prototype.getAxisFeedItemId=function(e){var i=t.representationMetadata.kind;var a;switch(e){case i.XAXIS:a=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case i.XAXIS2:a=t.vizFrame.feedItemTypes.CATEGORYAXIS2;break;case i.SECTORCOLOR:a=t.vizFrame.feedItemTypes.COLOR;break;default:break}return a};sap.apf.ui.representations.heatmapChart=a;return a},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/lineChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function n(t,n){e.apply(this,[t,n]);this.type=a.representationTypes.LINE_CHART;this.chartType=a.vizFrameChartTypes.LINE;this._addDefaultKind()}n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:sap.apf.core.constants.representationMetadata.kind.LEGEND}})};n.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var n;switch(e){case a.XAXIS:n=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:n=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:n=t.vizFrame.feedItemTypes.COLOR;break;default:break}return n};sap.apf.ui.representations.lineChart=n;return n},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/lineChartWithTimeAxis", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,i){"use strict";function a(t,a){e.apply(this,[t,a]);this.type=i.representationTypes.LINE_CHART_WITH_TIME_AXIS;this.chartType=i.vizFrameChartTypes.LINE_CHART_WITH_TIME_AXIS;this.setDateType();this._addDefaultKind()}a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.setDateType=function(){var e;for(e=0;e<this.parameter.dimensions.length;e++){if(this.parameter.dimensions[e].kind===t.representationMetadata.kind.XAXIS){this.parameter.dimensions[e].dataType="date"}}};a.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,i){if(e.kind===undefined){e.kind=i===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};a.prototype.setVizPropsForSpecificRepresentation=function(e){var i;this.chart.setVizProperties({timeAxis:{visible:true,title:{visible:true},label:{visible:true}},plotArea:{window:{start:"firstDataPoint",end:"lastDataPoint"}}});if(e){for(i=0;i<this.parameter.dimensions.length;i++){if(this.parameter.dimensions[i].kind===t.representationMetadata.kind.XAXIS){var a=e.getPropertyMetadata(this.parameter.dimensions[i].fieldName);if(sap.apf.utils.isPropertyTypeWithDateSemantics(a)){this.chart.setVizProperties({general:{showAsUTC:true}})}}}}};a.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({timeAxis:{visible:false,title:{visible:false}},plotArea:{window:{start:"firstDataPoint",end:"lastDataPoint"}}})};a.prototype.getAxisFeedItemId=function(e){var i=t.representationMetadata.kind;var a;switch(e){case i.XAXIS:a=t.vizFrame.feedItemTypes.TIMEAXIS;break;case i.YAXIS:a=t.vizFrame.feedItemTypes.VALUEAXIS;break;case i.LEGEND:a=t.vizFrame.feedItemTypes.COLOR;break;default:break}return a};sap.apf.ui.representations.lineChartWithTimeAxis=a;return a},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/lineChartWithTwoVerticalAxes", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function r(t,r){e.apply(this,[t,r]);this.type=a.representationTypes.LINE_CHART_WITH_TWO_VERTICAL_AXES;this.chartType=a.vizFrameChartTypes.LINE_CHART_WITH_TWO_VERTICAL_AXES;this._addDefaultKind()}r.prototype=Object.create(e.prototype);r.prototype.constructor=r;r.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.YAXIS:t.representationMetadata.kind.YAXIS2}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};r.prototype.setVizPropsForSpecificRepresentation=function(){var e=this;this.chart.attachEventOnce("renderComplete",function(){var t,a;if(!this.chart){return}if(!t){t=e.chart.getVizProperties().plotArea.primaryScale.autoMaxValue}if(!a){a=e.chart.getVizProperties().plotArea.secondaryScale.autoMaxValue}e.chart.setVizProperties({plotArea:{primaryScale:{fixedRange:true,maxValue:t},secondaryScale:{fixedRange:true,maxValue:a}}});i(e,t,a)});e.chart.setVizProperties({valueAxis2:{visible:true,title:{visible:true},label:{visible:true}}})};function i(e,t,a){if(!e.thumbnailChart){return}e.thumbnailChart.setVizProperties({plotArea:{primaryScale:{fixedRange:true,maxValue:t},secondaryScale:{fixedRange:true,maxValue:a}}})}r.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({valueAxis2:{visible:false,title:{visible:false}}})};r.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var r;switch(e){case a.XAXIS:r=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.YAXIS2:r=t.vizFrame.feedItemTypes.VALUEAXIS2;break;case a.LEGEND:r=t.vizFrame.feedItemTypes.COLOR;break;default:break}return r};sap.apf.ui.representations.lineChartWithTwoVerticalAxes=r;return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/percentageStackedBarChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function i(t,i){e.apply(this,[t,i]);this.type=a.representationTypes.PERCENTAGE_STACKED_BAR_CHART;this.chartType=a.vizFrameChartTypes.PERCENTAGE_STACKED_BAR;this._addDefaultKind()}i.prototype=Object.create(e.prototype);i.prototype.constructor=i;i.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};i.prototype.setFormatString=function(){return};function n(e){e.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}})}i.prototype.setVizPropsForSpecificRepresentation=function(){n(this.chart)};i.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}n(this.thumbnailChart)};i.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var i;switch(e){case a.XAXIS:i=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:i=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:i=t.vizFrame.feedItemTypes.COLOR;break;default:break}return i};sap.apf.ui.representations.percentageStackedBarChart=i;return i},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/percentageStackedColumnChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function n(t,n){e.apply(this,[t,n]);this.type=a.representationTypes.PERCENTAGE_STACKED_COLUMN_CHART;this.chartType=a.vizFrameChartTypes.PERCENTAGE_STACKED_COLUMN;this._addDefaultKind()}n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:sap.apf.core.constants.representationMetadata.kind.LEGEND}})};n.prototype.setFormatString=function(){return};function i(e){if(!e){return}e.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}})}n.prototype.setVizPropsForSpecificRepresentation=function(){i(this.chart)};n.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}i(this.thumbnailChart)};n.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var n;switch(e){case a.XAXIS:n=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:n=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:n=t.vizFrame.feedItemTypes.COLOR;break;default:break}return n};sap.apf.ui.representations.percentageStackedColumnChart=n;return n},true);
/*!
* SAP APF Analysis Path Framework
*
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/pieChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function n(t,n){e.apply(this,[t,n]);this.type=a.representationTypes.PIE_CHART;this.chartType=a.vizFrameChartTypes.PIE;this._addDefaultKind()}n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.SECTORSIZE}});this.parameter.dimensions.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.SECTORCOLOR}})};n.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var n;switch(e){case a.SECTORCOLOR:n=t.vizFrame.feedItemTypes.COLOR;break;case a.SECTORSIZE:n=t.vizFrame.feedItemTypes.SIZE;break;default:break}return n};sap.apf.ui.representations.pieChart=n;return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/representationInterface", function(){"use strict";var t=function(t,e){this.setData=function(t,e){};this.updateTreetable=function(t,e,n,i){};this.getSelectionAsArray=function(){return[0,2]};this.adoptSelection=function(t){};this.getFilterMethodType=function(){return sap.apf.constants.filterMethodTypes.selectionAsArray};this.getRequestOptions=function(){return{}};this.getParameter=function(){var t={dimensions:[],measures:[]};return t};this.getMainContent=function(){var t={};return t};this.getThumbnailContent=function(){var t={};return t};this.getPrintContent=function(){var t={};return t};this.getTooltipContent=function(){var t={};return t};this.removeAllSelection=function(){};this.serialize=function(){var t={};return t};this.deserialize=function(t){};this.getAlternateRepresentation=function(){return this.oAlternateRepresentation};this.getMetaData=function(){return this.metadata};this.getData=function(){return this.aDataResponse}};return t},true);
/*!
* SAP APF Analysis Path Framework
*
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/scatterPlotChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function r(t,r){e.apply(this,[t,r]);this.type=a.representationTypes.SCATTERPLOT_CHART;this.chartType=a.vizFrameChartTypes.SCATTERPLOT;this._addDefaultKind()}r.prototype=Object.create(e.prototype);r.prototype.constructor=r;r.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.REGIONCOLOR:t.representationMetadata.kind.REGIONSHAPE}})};r.prototype.setVizPropsForSpecificRepresentation=function(){var t=e._setVizPropsForBubbleAndScatter(this.parameter.dimensions,true);this.chart.setVizProperties(t)};r.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}var t=e._setVizPropsForBubbleAndScatter(this.parameter.dimensions,false);this.thumbnailChart.setVizProperties(t)};r.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var r;switch(e){case a.XAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.YAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS2;break;case a.REGIONCOLOR:r=t.vizFrame.feedItemTypes.COLOR;break;case a.REGIONSHAPE:r=t.vizFrame.feedItemTypes.SHAPE;break;default:break}return r};sap.apf.ui.representations.scatterPlotChart=r;return r},true);
/*!
* SAP APF Analysis Path Framework
*
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/stackedBarChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function i(t,i){e.apply(this,[t,i]);this.type=a.representationTypes.STACKED_BAR_CHART;this.chartType=a.vizFrameChartTypes.STACKED_BAR;this._addDefaultKind()}i.prototype=Object.create(e.prototype);i.prototype.constructor=i;i.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};function n(e){if(!e){return}e.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}})}i.prototype.setVizPropsForSpecificRepresentation=function(){n(this.chart)};i.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){n(this.thumbnailChart)};i.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var i;switch(e){case a.XAXIS:i=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:i=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:i=t.vizFrame.feedItemTypes.COLOR;break;default:break}return i};sap.apf.ui.representations.stackedBarChart=i;return i},true);
/*!
* SAP APF Analysis Path Framework
*
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/stackedColumnChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function i(t,i){e.apply(this,[t,i]);this.type=a.representationTypes.STACKED_COLUMN_CHART;this.chartType=a.vizFrameChartTypes.STACKED_COLUMN;this._addDefaultKind()}i.prototype=Object.create(e.prototype);i.prototype.constructor=i;i.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:sap.apf.core.constants.representationMetadata.kind.LEGEND}})};function n(e){if(!e){return}e.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}})}i.prototype.setVizPropsForSpecificRepresentation=function(){n(this.chart)};i.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){n(this.thumbnailChart)};i.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var i;switch(e){case a.XAXIS:i=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:i=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:i=t.vizFrame.feedItemTypes.COLOR;break;default:break}return i};sap.apf.ui.representations.stackedColumnChart=i;return i},true);
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/stackedCombinationChart", ["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation"],function(e,t,a){"use strict";var r=function(e,a){sap.apf.ui.representations.BaseVizFrameChartRepresentation.apply(this,[e,a]);this.type=t.representationTypes.STACKED_COMBINATION_CHART;this.chartType=t.vizFrameChartTypes.STACKED_COMBINATION};r.prototype=Object.create(sap.apf.ui.representations.BaseVizFrameChartRepresentation.prototype);r.prototype.getAxisFeedItemId=function(t){var a=e.representationMetadata.kind;var r;switch(t){case a.XAXIS:r=e.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.LEGEND:r=e.vizFrame.feedItemTypes.COLOR;break;case a.YAXIS:r=e.vizFrame.feedItemTypes.VALUEAXIS;break;default:break}return r};sap.apf.ui.representations.stackedCombinationChart=r;return r},true);
/* SAP APF Analysis Path Framework
* 
* (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/table", ["sap/apf/core/constants","sap/apf/ui/utils/formatter","sap/apf/ui/representations/utils/paginationHandler","sap/apf/ui/representations/BaseUI5ChartRepresentation","sap/apf/ui/representations/utils/paginationDisplayOptionHandler","sap/ui/model/Sorter","sap/ui/table/Table","sap/ui/table/Column","sap/ui/core/CustomData","sap/ui/model/json/JSONModel","sap/ui/core/Icon","sap/ui/layout/VerticalLayout","sap/m/Text","sap/m/Label","sap/m/Button","sap/m/HBox","sap/m/VBox","sap/m/ScrollContainer","sap/ui/export/Spreadsheet","sap/apf/ui/utils/determineColumnSettingsForSpreadSheetExport","sap/ui/export/EdmType","sap/m/Dialog","sap/ui/thirdparty/jquery"],function(e,t,a,i,n,o,r,s,l,p,d,u,h,c,g,f,m,v,b,y,T,A,jQuery){"use strict";function x(e,t){t.forEach(function(t){e.addSelectionInterval(t,t)})}function S(e){e.loadAllButton.attachEvent("setFocusOnLoadAllButtonEvent",e.loadAllButton.setFocusOnLoadAllButton)}function D(e,t){if(e.bIsAlternateRepresentation&&e.oApi.getActiveStep()){e.oApi.getActiveStep().getSelectedRepresentation().oRepresentationFilterHandler.getFilterValues().forEach(function(t){if(e.aFiltersInTable.indexOf(t)===-1){e.aFiltersInTable.push(t)}})}if(t&&e.oParameter.top||e.oParameter.isAlternateRepresentation){e.aFiltersInTable=F(e,t)}}function F(e,t){var a=[];e.aFiltersInTable.forEach(function(i){e.aDataResponse.forEach(function(e){var n=e[t];if(n==i&&a.indexOf(i)===-1){a.push(i)}})});return a}function w(e,t,a){var i=e.tableControl.getContextByIndex(a[0]).getProperty(t);if(e.tableControl.isIndexSelected(a[0])&&e.aFiltersInTable.indexOf(i)===-1){e.aFiltersInTable.push(i)}else{var n=e.aFiltersInTable.indexOf(i);if(n!==-1){e.aFiltersInTable.splice(n,1)}}}function C(e,t){P(e);e.aFiltersInTable=t;e.oApi.getActiveStep().getSelectedRepresentation().oRepresentationFilterHandler.updateFilterFromSelection(t);e.oApi.selectionChanged()}function P(e){e.oRepresentationFilterHandler.clearFilters();e.oApi.getActiveStep().getSelectedRepresentation().oRepresentationFilterHandler.clearFilters();e.aValidatedFilter=[];e.aFiltersInTable=[]}function R(e,t,a,i,n){var o=e.nDataResponseCount||0;var r,s;var l=e.oApi.getTextNotHtmlEncoded("buttonTextExport");var p=new sap.m.Button({text:l,press:function(){if(e.aDataResponse.length>1e4){var a=e;a.newOpenDialog=new sap.m.Dialog({type:sap.m.DialogType.Message,title:e.oApi.getTextNotHtmlEncoded("warningTitle"),state:"Warning",content:new sap.m.Text({text:e.oApi.getTextNotHtmlEncoded("exportWarning")}),beginButton:new sap.m.Button({text:e.oApi.getTextNotHtmlEncoded("warningExport"),press:function(){e.exportExcel(t);a.newOpenDialog.close()}}),endButton:new sap.m.Button({text:e.oApi.getTextNotHtmlEncoded("warningCancel"),press:function(){a.newOpenDialog.close()}}),afterClose:function(){a.oUiApi.getLayoutView().setBusy(false);a.newOpenDialog.destroy()}});a.newOpenDialog.open()}else{e.exportExcel(t)}}}).addStyleClass("sapUiTinyMarginBeginEnd");e.titleControl=new sap.m.Title({level:sap.ui.core.TitleLevel.H1}).addStyleClass("sapUiTinyMarginBegin").addStyleClass("sapUiTinyMarginTop");if(e.aDataResponse.length===0){p.setEnabled(false)}if(n){s=e.title}else if(e.oParameter.top){r=new sap.m.HBox({items:[p]});s=e.title}else if(i){r=new sap.m.HBox({items:[p]});s=e.oApi.getTextNotHtmlEncoded("stepTitleWithNumberOfRecords",[e.title,a,a])}else{l=e.oApi.getTextNotHtmlEncoded("buttonTextLoadAll");if(e.loadAllButton===undefined){e.loadAllButton=new sap.m.Button({text:l,press:e.loadAll.bind(e)});e.loadAllButton.setFocusOnLoadAllButton=function(){this.focus();this.detachEvent("setFocusOnLoadAllButtonEvent",this.setFocusOnLoadAllButton)}}r=new sap.m.HBox({items:[e.loadAllButton,p]});s=e.oApi.getTextNotHtmlEncoded("stepTitleWithNumberOfRecords",[e.title,a,o]);e.loadAllButton.addAriaLabelledBy(e.titleControl)}p.addAriaLabelledBy(e.titleControl);e.titleControl.setText(s);var d=new sap.m.HBox({alignItems:"Start",wrap:"Wrap",justifyContent:"SpaceBetween",items:[e.titleControl,r]});return d}function E(e,t,a,i){var n=function(t){return function(i){if(a.metadata!==undefined){var n;if(e.value[t]&&i){n=a.oFormatter.getFormattedValueAsString(e.value[t],i);if(n!==undefined){return n}}}return i}};var o=new sap.ui.table.Table({title:t,showNoData:false,enableSelectAll:false,visibleRowCountMode:sap.ui.table.VisibleRowCountMode.Auto});if(i){o.setWidth(i+"px")}o.setLayoutData(new sap.m.FlexItemData({growFactor:1}));if(sap.ui.Device.system.desktop){o.addStyleClass("sapUiSizeCompact")}var r=a.oParameter.requiredFilters;var s=r&&r.length>0?"MultiToggle":"None";o.setSelectionMode(s);var l=[],p,d,u;for(var h=0;h<e.name.length;h++){p=new sap.m.Text({wrapping:false});p.bindText(e.value[h],n(h),sap.ui.model.BindingMode.OneWay);p.bindProperty("tooltip",e.value[h],n(h));d=new sap.ui.table.Column({label:new sap.m.Label({text:e.name[h],tooltip:e.name[h]}),template:p});u=new sap.ui.core.CustomData({value:{text:e.name[h],key:e.value[h]}});if(i){d.setMinWidth(125)}d.addCustomData(u);l.push(d)}var c;c=l;c.forEach(function(e){o.addColumn(e)});if(l.length>10){o.getColumns().forEach(function(e){e.setWidth("125px")})}var g=new sap.ui.model.json.JSONModel;g.setSizeLimit(1e4);var f=a.getData();g.setData({tableData:f});o.setModel(g);o.bindRows("/tableData");if(a.metadata!==undefined){for(var m=0;m<e.name.length;m++){var v=a.metadata.getPropertyMetadata(e.value[m]);if(v["aggregation-role"]==="measure"){var b=o.getColumns()[m];b.setHAlign(sap.ui.core.HorizontalAlign.End)}}}return o}function I(e){var t=e.getData();var a=[],i;var n={name:[],value:[]};a=e.oParameter.dimensions.concat(e.oParameter.measures).length?e.oParameter.dimensions.concat(e.oParameter.measures):e.parameter.properties;if(t.length!==0){for(var o=0;o<a.length;o++){n.value[o]=a[o].fieldName;var r=e.metadata.getPropertyMetadata(a[o].fieldName).label||e.metadata.getPropertyMetadata(a[o].fieldName).name;var s="";if(e.metadata!==undefined&&e.metadata.getPropertyMetadata(a[o].fieldName).unit!==undefined){var l=e.metadata.getPropertyMetadata(a[o].fieldName).unit;s=e.getData()[0][l];for(i=0;i<e.getData().length;i++){if(s!==e.getData()[i][l]){s=undefined;break}}n.name[o]=a[o].fieldDesc===undefined||!e.oApi.getTextNotHtmlEncoded(a[o].fieldDesc).length?r:e.oApi.getTextNotHtmlEncoded(a[o].fieldDesc);if(s!==undefined&&s!==""){n.name[o]=e.oApi.getTextNotHtmlEncoded("displayUnit",[n.name[o],s])}}else{n.name[o]=a[o].fieldDesc===undefined||!e.oApi.getTextNotHtmlEncoded(a[o].fieldDesc).length?r:e.oApi.getTextNotHtmlEncoded(a[o].fieldDesc)}}}return n}function O(e){var t;var a=e.getSelectedSortItem();e.getSortItems().forEach(function(e){if(e.getId()===a){t=e.getKey()}});return t}var H=function(e,t){this.oViewSettingDialog=undefined;this.aDataResponse=[];this.aValidatedFilter=[];this.aFiltersInTable=[];this.oParameter=t;this.orderby=t.orderby;this.omitTopAndSkipOptionsForNextPathUpdate=false;sap.apf.ui.representations.BaseUI5ChartRepresentation.apply(this,[e,t]);this.alternateRepresentation=t.alternateRepresentationType;this.type=sap.apf.ui.utils.CONSTANTS.representationTypes.TABLE_REPRESENTATION;this.oPaginationHandler=new sap.apf.ui.representations.utils.PaginationHandler(this);this.oPaginationDisplayOptionHandler=new sap.apf.ui.representations.utils.PaginationDisplayOptionHandler;this._drawSelection=function(e){var t=this.oParameter.requiredFilters;var a=t&&t.length>0?t[0]:undefined;var i=e.getParameter("userInteraction");var n=e.getParameter("rowIndices");if(!i||n.length===0){return}if(e.getSource().getFocusDomRef()&&e.getSource().getFocusDomRef().offsetTop!==0){this.nFirstVisibleRow=this.tableControl.getFirstVisibleRow()}w(this,a,n);var o=jQuery.unique(this.aFiltersInTable);C(this,o)};this._handleSelectionEvent=function(e){this._drawSelection(e)};this._getSelectedIndicesInTable=function(e){var t=this;var a=[];t.aDataResponse.forEach(function(i,n){var o=i[e];if(t.aFiltersInTable.indexOf(o)!==-1){a.push(n)}});return a}};H.prototype=Object.create(sap.apf.ui.representations.BaseUI5ChartRepresentation.prototype);H.prototype.constructor=H;H.prototype.setData=function(e,t,a,i){var n=this;var o,r;if(!t){var s=this.oApi.createMessageObject({code:"6004",aParameters:[this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(s)}this.metadata=t;this.oFormatter=new sap.apf.ui.utils.formatter({getEventCallback:this.oApi.getEventCallback.bind(this.oApi),getTextNotHtmlEncoded:this.oApi.getTextNotHtmlEncoded,getExits:this.oApi.getExits()},this.metadata,this.aDataResponse);if(this.oParameter.requiredFilters.length>0){o=this.oParameter.requiredFilters[0];r=t.getPropertyMetadata(o).text}if(!this.oParameter.isAlternateRepresentation){if(o){this.aValidatedFilter=[];if(i&&i.length>0){i.forEach(function(e){n.aValidatedFilter.push(e[o]);n.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(e[o],e[r])});n.aFiltersInTable=n.aValidatedFilter}else{n.aFiltersInTable=[]}}var l=this.getRequestOptions();var p=l.paging&&l.paging.skip;this.nDataResponseCount=a;if(p===undefined||p===0){this.aDataResponse=e}else{e.map(function(e){n.aDataResponse.push(e)})}if(!this.oParameter.top&&this.titleControl){var d=this.aDataResponse&&this.aDataResponse.length||0;var u=this.oApi.getTextNotHtmlEncoded("stepTitleWithNumberOfRecords",[this.title,d,a]);this.titleControl.setText(u)}}else{this.aDataResponse=e}if(r){this.aDataResponse.forEach(function(e){n.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(e[o],e[r])})}};H.prototype.getFilter=function(){this.filter=this.oRepresentationFilterHandler.createFilterFromSelectedValues(this.aFiltersInTable);return this.filter};H.prototype.getSelections=function(){var e=this,t=[],a;var i=e.parameter.requiredFilters[0];D(e,i);e.aFiltersInTable.forEach(function(n){a=e.oPaginationDisplayOptionHandler.getDisplayNameForPaginatedFilter(n,e.parameter.requiredFilterOptions,i,e.oFormatter,e.metadata);t.push({id:n,text:a})});return t};H.prototype.markSelectionInTable=function(e){var t=this.oParameter.requiredFilters?this.oParameter.requiredFilters[0]:undefined;if(t){var a=this._getSelectedIndicesInTable(t);if(this.oParameter.isAlternateRepresentation){var i=[];var n=this.tableControl.getBinding().aIndices;a.forEach(function(e){i.push(n.indexOf(e))});a=i}this.tableControl.clearSelection();if(a.length>0){x(this.tableControl,a)}}};H.prototype.getRequestOptions=function(e,t){this.bIsAlternateRepresentation=t;if(e){this.oPaginationHandler.resetPaginationOption()}var a={paging:{},orderby:[]};if(e){this.omitTopAndSkipOptionsForNextPathUpdate=false}if(this.omitTopAndSkipOptionsForNextPathUpdate){a.paging={inlineCount:true}}else if(!this.bIsAlternateRepresentation){a.paging=this.oPaginationHandler.getPagingOption(this.oParameter.top)}if(this.orderby){a.orderby=this.orderby}if(this.oViewSettingDialog){var i=O(this.oViewSettingDialog);if(i){var n={property:O(this.oViewSettingDialog),ascending:!this.oViewSettingDialog.getSortDescending()};this.orderby=[n];a.orderby=[n]}}return a};H.prototype.resetPaginationForTable=function(){this.omitTopAndSkipOptionsForNextPathUpdate=false;this.oPaginationHandler.resetPaginationOption()};H.prototype.getMainContent=function(e,t,a){var i=this;var n=this.getData();this.title=e;var o=this.oParameter.dimensions.concat(this.oParameter.measures).length?this.oParameter.dimensions.concat(this.oParameter.measures):this.oParameter.properties;var r=I(this);var s;if(!e){s=this.oApi.createMessageObject({code:"6002",aParameters:["title",this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(s)}if(o.length===0){s=this.oApi.createMessageObject({code:"6002",aParameters:["dimensions",e]});this.oApi.putMessage(s)}if(!n||n.length===0){s=this.oApi.createMessageObject({code:"6000",aParameters:[e]});this.oApi.putMessage(s)}var l;if(this.oParameter.isAlternateRepresentation){l=R(this,e,n.length,true,t)}else{l=R(this,e,n.length,false,t)}this.tableControl=E(r,l,this,t);this.tableControl.addAriaLabelledBy(l.getItems()[0]);this.tableControl.addEventDelegate({onAfterRendering:function(){if(i.oParameter){i.markSelectionInTable(true);if(i.loadAllButton){i.loadAllButton.fireEvent("setFocusOnLoadAllButtonEvent")}if(!i.oParameter.top&&!i.oParameter.isAlternateRepresentation&&i.nDataResponseCount>100){i.oPaginationHandler.attachPaginationOnTable(i)}}}});this.tableControl.attachRowSelectionChange(this._handleSelectionEvent.bind(this));this.oLoadMoreLink=new sap.m.Link({text:this.oApi.getTextNotHtmlEncoded("moreIcon"),visible:false});var p=new sap.m.VBox({fitContainer:true,items:[this.tableControl,this.oLoadMoreLink]}).addStyleClass("tableRepresentation");if(a){p.setHeight(a+"px")}return p};H.prototype.getThumbnailContent=function(){var e;var t=this.getData();var a=this.oParameter.isAlternateRepresentation?"sap-icon://table-view":"sap-icon://table-chart";if(t!==undefined&&t.length!==0){var i=new sap.ui.core.Icon({src:a,size:"70px"}).addStyleClass("thumbnailTableImage");e=i}else{var n=new sap.m.Text({text:this.oApi.getTextNotHtmlEncoded("noDataText")}).addStyleClass("noDataText");e=new sap.ui.layout.VerticalLayout({content:n})}return e};H.prototype.removeAllSelection=function(){P(this);this.tableControl.clearSelection();this.oApi.selectionChanged()};H.prototype.getPrintContent=function(e){var t=this.tableControl.clone();t.getColumns().forEach(function(e){e.setWidth("auto");e.getTemplate().setWrapping(true)});var a=this.tableControl.getSelectedIndices();t.setVisibleRowCountMode(sap.ui.table.VisibleRowCountMode.Fixed);t.setVisibleRowCount(t.getModel().getData().tableData.length);t.onAfterRendering=function(){a.forEach(function(e){t.getRows()[e].getDomRef().classList.add("sapTableSelectionForPrint")})};var i={oRepresentation:t};return i};H.prototype.getViewSettingDialog=function(){if(!this.oViewSettingDialog){var e={oTableInstance:this};var t=new sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.apf.ui.reuse.view.viewSetting",viewData:e});this.oViewSettingDialog=t.getContent()[0];this.oViewSettingDialog.addStyleClass("sapUiSizeCompact")}return this.oViewSettingDialog};H.prototype.loadAll=function(){this.omitTopAndSkipOptionsForNextPathUpdate=true;if(this.loadAllButton){S(this)}this.oApi.selectionChanged()};H.prototype.exportExcel=function(e){var t=this;function a(){var e=I(t);var a=[];var i,n;for(i=0;i<e.value.length;i++){n=sap.apf.ui.utils.determineColumnSettingsForSpreadSheetExport(e.value[i],t.metadata);n.property=e.value[i];n.label=e.name[i];a.push(n)}return a}var i=this.getData();var n=a();var o={workbook:{columns:n},dataSource:i,fileName:e+".xlsx"};var r=new sap.ui.export.Spreadsheet(o);r.build()};H.prototype.onChartSwitch=function(){this.resetPaginationForTable()};H.prototype.destroy=function(){if(this.orderby){this.orderby=null}if(this.oParameter){this.oParameter=null}if(this.oViewSettingDialog){this.oViewSettingDialog.destroy()}if(this.aDataResponse){this.aDataResponse=null}if(this.aValidatedFilter){this.aValidatedFilter=[]}if(this.aFiltersInTable){this.aFiltersInTable=[]}sap.apf.ui.representations.BaseUI5ChartRepresentation.prototype.destroy.call(this)};return H},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/treeTable", ["sap/apf/core/constants","sap/apf/ui/utils/formatter","sap/apf/modeler/ui/utils/constants","sap/apf/ui/representations/BaseUI5ChartRepresentation","sap/apf/ui/representations/utils/paginationDisplayOptionHandler","sap/ui/table/TreeTable"],function(e,t,a,r,i,o){"use strict";function n(e){return e.metadata.getPropertyMetadata(e.requiredFilter).text}function l(e){return e.oTreeTableControlObject.parameters.treeAnnotationProperties.hierarchyNodeExternalKeyFor}function s(e,t){if(e){if(t.getPropertyMetadata(e)["filter-restriction"]==="single-value"){return sap.ui.table.SelectionMode.Single}return sap.ui.table.SelectionMode.MultiToggle}return sap.ui.table.SelectionMode.None}function p(e,t,a){var r;var i=function(e){return function(t){if(a.metadata!==undefined){var r;if(t){r=a.oFormatter.getFormattedValue(e,t);if(r!==undefined){return r}}}return t}};r=new sap.ui.table.TreeTable({showNoData:false,title:t,enableSelectAll:false,visibleRowCountMode:sap.ui.table.VisibleRowCountMode.Auto});r.setLayoutData(new sap.m.FlexItemData({growFactor:1}));r.addStyleClass("sapUiSizeCompact");r.setSelectionMode(s(a.requiredFilter,a.metadata));var o=[],n,l;e.name.forEach(function(t,a){n=(new sap.m.Text).bindText(e.value[a],i(e.value[a]),sap.ui.model.BindingMode.OneWay);l=new sap.ui.table.Column({label:new sap.m.Label({text:t}),template:n,tooltip:t});o.push(l)});o.forEach(function(e){r.addColumn(e)});a.oTreeTableModel.attachBatchRequestCompleted(function(){if(a.oApi.getUiApi().getLayoutView().getController()&&a.oApi.getUiApi().getLayoutView().getController().byId("stepContainer")){a.oApi.getUiApi().getLayoutView().getController().byId("stepContainer").getContent()[0].byId("idStepLayout").setBusy(false)}d(a,r,e);if(a.oRepresentationFilterHandler!==null){if(a.oRepresentationFilterHandler!==undefined){if(a.oRepresentationFilterHandler.getFilterValues().length>0){u(a)}else{a.oTreeTable.clearSelection()}}}});a.oTreeTableModel.attachBatchRequestSent(function(e){if(a.oApi.getUiApi().getLayoutView().getController()&&a.oApi.getUiApi().getLayoutView().getController().byId("stepContainer")){a.oApi.getUiApi().getLayoutView().getController().byId("stepContainer").getContent()[0].byId("idStepLayout").setBusy(true)}});r.setModel(a.oTreeTableModel);r.bindRows(a.oTreeTableControlObject);return r}function u(e){var t=e.oTreeTable.getRows();e.oTreeTable.clearSelection();setTimeout(function(){t.forEach(function(t,a){var r=t.getBindingContext();if(r){var i=r.getProperty(e.requiredFilter);e.oRepresentationFilterHandler.getFilterValues().forEach(function(t){if(i===t){e.oTreeTable.addSelectionInterval(a,a)}})}})},1)}function d(e,t,a){if(e.metadata!==null){if(e.metadata!==undefined){for(var r=0;r<a.name.length;r++){var i=e.metadata.getPropertyMetadata(a.value[r]);if(i["aggregation-role"]==="measure"){var o=t.getColumns()[r];o.setHAlign(sap.ui.core.HorizontalAlign.End)}}}}}function c(e,t){var a=e.oTreeTable.getContextByIndex(t).getProperty(e.requiredFilter);var r=e.oTreeTable.getSelectionMode(e.requiredFilter);var i=e.oTreeTable.isIndexSelected(t);var o=e.oTreeTable.getContextByIndex(t).getProperty(n(e));var s=e.oTreeTable.getContextByIndex(t).getProperty(l(e));e.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(a,o,s);var p=e.oRepresentationFilterHandler.getFilterValues();if(i){p=g(e,r,a,p)}else{p=h(e,r,a,p)}b(e,p)}function f(e){e.oRepresentationFilterHandler.clearFilters()}function T(e){return e.filter(function(e,t,a){return a.indexOf(e)===t})}function g(e,t,a,r){if(t===sap.ui.table.SelectionMode.Single){r=[a]}else{r.push(a)}return T(r)}function h(e,t,a,r){if(t===sap.ui.table.SelectionMode.Single){r=[]}else{var i=r.indexOf(a);if(i!==-1){r.splice(i,1)}}return r}function b(e,t){f(e);e.oRepresentationFilterHandler.updateFilterFromSelection(t);e.oApi.selectionChanged()}function y(e){var t={name:[],value:[]};var a=e.oParameters.hierarchicalProperty.concat(e.oParameters.properties);a.forEach(function(a,r){var i=a.fieldName;var o=e.metadata.getPropertyMetadata(i).label||e.metadata.getPropertyMetadata(i).name;if(a.kind===sap.apf.modeler.ui.utils.CONSTANTS.propertyTypes.HIERARCHIALCOLUMN){if(a.labelDisplayOption==="text"){i=e.metadata.getPropertyMetadata(e.oTreeTableControlObject.parameters.treeAnnotationProperties.hierarchyNodeFor).text}else{i=e.oTreeTableControlObject.parameters.treeAnnotationProperties.hierarchyNodeExternalKeyFor}}t.name[r]=a.fieldDesc===undefined||!e.oApi.getTextNotHtmlEncoded(a.fieldDesc).length?o:e.oApi.getTextNotHtmlEncoded(a.fieldDesc);t.value[r]=i});return t}var m=function(e,t){var a=this;a.oParameters=t;a.requiredFilter=a.oParameters.requiredFilters[0];a.oKeyTextLookup={};a.type=sap.apf.ui.utils.CONSTANTS.representationTypes.TREE_TABLE_REPRESENTATION;sap.apf.ui.representations.BaseUI5ChartRepresentation.apply(a,[e,t]);a.oPaginationDisplayOptionHandler=new sap.apf.ui.representations.utils.PaginationDisplayOptionHandler;a._selectRowInTreeTable=function(e){var t=e.getParameter("userInteraction");var r=e.getParameter("rowIndex");if(!t||r===undefined||r===null){return}c(a,r)};a.handleRowSelectionInTreeTable=function(e){a._selectRowInTreeTable(e)}};m.prototype=Object.create(sap.apf.ui.representations.BaseUI5ChartRepresentation.prototype);m.prototype.constructor=m;m.prototype.getMainContent=function(e){if(!this.oTreeTable){var t=y(this);this.oTreeTable=p(t,e,this);this.oTreeTable.attachRowSelectionChange(this.handleRowSelectionInTreeTable.bind(this))}return new sap.m.VBox({fitContainer:true,items:[this.oTreeTable]})};m.prototype.getSelections=function(){var e=[],t=this,a;this.oRepresentationFilterHandler.getFilterValues().forEach(function(r){a=t.oPaginationDisplayOptionHandler.getDisplayNameForPaginatedFilter(r,t.parameter.requiredFilterOptions,t.requiredFilter,t.oFormatter,t.metadata);e.push({id:r,text:a})});return e};m.prototype.removeAllSelection=function(){this.oRepresentationFilterHandler.clearFilters();this.oTreeTable.clearSelection();this.oApi.selectionChanged()};m.prototype.getFilter=function(){var e=this.oApi.createFilter();var t=e.getTopAnd().addOr("exprssionOr");this.oRepresentationFilterHandler.getFilterValues().forEach(function(e){var a={id:e,name:this.requiredFilter,operator:"EQ",value:e};t.addExpression(a)}.bind(this));return e};m.prototype.setFilterValues=function(e){var t=this,a=[];var r=t.requiredFilter;t.oRepresentationFilterHandler.clearFilters();e.forEach(function(e){var i=e[r];var o=e[n(t)];var s=e[l(t)];t.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(i,o,s);a.push(i)});t.oRepresentationFilterHandler.updateFilterFromSelection(a)};m.prototype.updateTreetable=function(e,t,a,r){this.oTreeTableModel=t;this.oTreeTableControlObject=e;this.metadata=a;this.oFormatter=new sap.apf.ui.utils.formatter({getEventCallback:this.oApi.getEventCallback.bind(this.oApi),getTextNotHtmlEncoded:this.oApi.getTextNotHtmlEncoded,getExits:this.oApi.getExits()},this.metadata);if(this.oTreeTable&&r){this.oTreeTable.bindRows(this.oTreeTableControlObject)}};m.prototype.getPrintContent=function(e){var t=this.oTreeTable.clone();var a={oRepresentation:t};return a};m.prototype.getSelectedFilterPropertyLabel=function(e){return this.metadata.getPropertyMetadata(e)["hierarchy-node-for"]};m.prototype.destroy=function(){if(this.oParameters){this.oParameters=null}if(this.oTreeTableModel){this.oTreeTableModel=null}if(this.oTreeTableControlObject){this.oTreeTableControlObject=null}if(this.oTreeTable){this.oTreeTable.destroy()}if(this.metadata){this.metadata=null}if(this.oRepresentationFilterHandler){this.oRepresentationFilterHandler=null}sap.apf.ui.representations.BaseUI5ChartRepresentation.prototype.destroy.call(this)};return m},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/chartDataSetHelper", ["sap/apf/ui/representations/utils/displayOptionHandler","sap/ui/thirdparty/jquery"],function(t,jQuery){"use strict";sap.apf.ui.representations.utils.ChartDataSetHelper=function(t,e){this.oFormatter=t;this.aDataResponseWithDisplayValue=[];this.oDisplayOptionHandler=new sap.apf.ui.representations.utils.DisplayOptionHandler;this.oTimeAxisDateConverter=e;this.oChartDataSet={}};sap.apf.ui.representations.utils.ChartDataSetHelper.getFieldNameForOriginalContentOfProperty=function(t){return"original_"+t};function e(t,e){var a=t.map(function(t){return t.fieldName});return a.indexOf(e)===-1?true:false}function a(t){var e=t.dimensions.concat(t.measures),a;e.forEach(function(t){for(a in t){if(a!=="name"&&a!=="value"&&a!=="dataType"&&a!=="displayValue"&&a!=="identity"){delete t[a]}}})}function i(t,e,a,i){var r=jQuery.extend(true,[],i);var n,s={};t.oTimeAxisDateConverter.createPropertyInfo(e.dimensions);var o=e.dimensions.concat(e.requiredFilters);o.forEach(function(i,o){var p=e.requiredFilterOptions?e.requiredFilterOptions.labelDisplayOption:undefined;var l=i.labelDisplayOption?i.labelDisplayOption:p;var u=i.fieldName?i.fieldName:i;if(l===undefined||l===sap.apf.core.constants.representationMetadata.labelDisplayOptions.TEXT){return r}r.forEach(function(e,o){e[u]=e[u]===null||e[u]===undefined?e[u]:e[u].toString();if(l===sap.apf.core.constants.representationMetadata.labelDisplayOptions.KEY){n="formatted_"+u;if(!r[o][n]){r[o][n]=t.oFormatter.getFormattedValue(u,r[o][u])}}if(l===sap.apf.core.constants.representationMetadata.labelDisplayOptions.KEY_AND_TEXT){var p=a.getPropertyMetadata(u).text;n=u+"_"+p;var d={text:r[o][p],key:r[o][u]};r[o][n]=t.oFormatter.getFormattedValueForTextProperty(u,d)}if(t.oTimeAxisDateConverter.bIsConversionToDateRequired(i.fieldName,a)){var f=e[u];var h=sap.apf.ui.representations.utils.ChartDataSetHelper.getFieldNameForOriginalContentOfProperty(u);if(e[h]){s[f]=e[h]}else{var D=sap.apf.utils.convertFiscalYearMonthDayToDateString(f)+"";s[D]=f;e[u]=D;e[h]=f}}})});t.oTimeAxisDateConverter.setConvertedDateLookUp(s);return r}sap.apf.ui.representations.utils.ChartDataSetHelper.prototype.constructor=sap.apf.ui.representations.utils.ChartDataSetHelper;sap.apf.ui.representations.utils.ChartDataSetHelper.prototype.createFlattenDataSet=function(t,r,n,s){var o=this;this.aDataResponseWithDisplayValue=i(this,t,r,n);t.dimensions.forEach(function(t,e){t.name=o.oDisplayOptionHandler.getDisplayNameForDimension(t,r,s);t.value="{"+t.fieldName+"}";t.identity=t.fieldName;t.displayValue="{"+o.oDisplayOptionHandler.getColumnNameBasedOnDisplayOption(t.fieldName,t.labelDisplayOption,r)+"}"});t.measures.forEach(function(t){t.name=o.oDisplayOptionHandler.getDisplayNameForMeasure(t,r,n,s);t.value="{"+t.fieldName+"}";t.identity=t.fieldName});var p={dimensions:t.dimensions,measures:t.measures};var l=t.requiredFilters[0];this.oChartDataSet=jQuery.extend(true,{},p);this.oChartDataSet.context=[];a(this.oChartDataSet);if(l&&e(t.dimensions,l)){this.oChartDataSet.context.push(l);this.oChartDataSet.dimensions.push({name:l,value:"{"+l+"}",identity:l})}this.oChartDataSet.data={path:"/data"}};sap.apf.ui.representations.utils.ChartDataSetHelper.prototype.addUnusedDimensionsToChartContext=function(t,e){if(e.length===0){return}var a=[];this.oChartDataSet.dimensions.forEach(function(e){var i=e.identity;a.push(i);var r=t.getPropertyMetadata(i).text;if(r){a.push(r)}});this.oChartDataSet.measures.forEach(function(t){a.push(t.identity)});var i=Object.keys(e[0]);i.forEach(function(e){if(a.indexOf(e)>=0||e==="__metadata"){return}var i=t.getPropertyMetadata(e);if(i&&i["aggregation-role"]==="measure"){return}this.addPropertyToContext(e,i)}.bind(this))};sap.apf.ui.representations.utils.ChartDataSetHelper.prototype.addPropertyToContext=function(t,e){var a=e&&e.label?e.label:t;this.oChartDataSet.context.push(t);this.oChartDataSet.dimensions.push({name:a,value:"{"+t+"}",identity:t})};sap.apf.ui.representations.utils.ChartDataSetHelper.prototype.getFlattenDataSet=function(){return new sap.viz.ui5.data.FlattenedDataset(this.oChartDataSet)};sap.apf.ui.representations.utils.ChartDataSetHelper.prototype.getModel=function(){var t=new sap.ui.model.json.JSONModel({data:this.aDataResponseWithDisplayValue});return t}});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/paginationDisplayOptionHandler", ["sap/apf/ui/representations/utils/displayOptionHandler","sap/apf/utils/utils","sap/apf/core/metadataProperty"],function(t,e,a){"use strict";sap.apf.ui.representations.utils.PaginationDisplayOptionHandler=function(){this.oKeyTextForProperties={};this.oDisplayValueForProperties={}};sap.apf.ui.representations.utils.PaginationDisplayOptionHandler.prototype.createDisplayValueLookupForPaginatedFilter=function(t,e,a){this.oKeyTextForProperties[t]=e;if(a){this.oDisplayValueForProperties[t]=a}};sap.apf.ui.representations.utils.PaginationDisplayOptionHandler.prototype.getDisplayNameForPaginatedFilter=function(t,e,a,i,r){var o=t,s;var p=new sap.apf.core.MetadataProperty(r.getPropertyMetadata(a));if(this.oDisplayValueForProperties[t]){o=this.oDisplayValueForProperties[t]}if(e&&e.labelDisplayOption){if(e.labelDisplayOption===sap.apf.core.constants.representationMetadata.labelDisplayOptions.TEXT&&this.oKeyTextForProperties[t]){return this.oKeyTextForProperties[t]}else if(e.labelDisplayOption===sap.apf.core.constants.representationMetadata.labelDisplayOptions.KEY_AND_TEXT&&this.oKeyTextForProperties[t]){s={key:sap.apf.utils.convertToExternalFormat(o,p),text:this.oKeyTextForProperties[t]};return i.getFormattedValueForTextProperty(a,s)}}return sap.apf.utils.convertToExternalFormat(o,p)}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/representationFilterHandler", ["sap/apf/ui/representations/utils/displayOptionHandler","sap/apf/utils/utils","sap/apf/core/metadataProperty","sap/ui/thirdparty/jquery"],function(e,t,r,jQuery){"use strict";function a(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})}function i(e,t,r){var a,i;var s=e.oParameter.requiredFilters[0];if(s){var n=e.oParameter.requiredFilterOptions?e.oParameter.requiredFilterOptions.labelDisplayOption:undefined;var o=e.oDisplayOptionHandler.getColumnNameBasedOnDisplayOption(s,n,t);var l=new sap.apf.core.MetadataProperty(t.getPropertyMetadata(o));e.aFilterValues.forEach(function(t){for(a=0;a<r.length;a++){if(r[a][s]===t){if(r[a]["formatted_"+o]){i=r[a]["formatted_"+o]}else{i=sap.apf.utils.convertToExternalFormat(r[a][o],l)}break}}e.filterValueLookup[t]=i})}}sap.apf.ui.representations.utils.RepresentationFilterHandler=function(e,t,r){this.oApi=e;this.aFilterValues=[];this.oParameter=t;this.sRequiredFilter=this.oParameter.requiredFilters[0];this.oDisplayOptionHandler=new sap.apf.ui.representations.utils.DisplayOptionHandler;this.filterValueLookup={};this.oTimeAxisDateConverter=r};sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.constructor=sap.apf.ui.representations.utils.RepresentationFilterHandler;sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.setMetadataAndDataResponse=function(e,t){this.oMetadata=e;this.aDataResponse=t};sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.validateFiltersWithDataset=function(){var e=[];var t=this.aDataResponse.map(function(e){return e[this.sRequiredFilter]}.bind(this));e=this.aFilterValues.filter(function(e){return t.indexOf(e)!==-1});this.aFilterValues=e};sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.createFilterFromSelectedValues=function(e){var t=this,r=false,i;var s=this.oApi.createFilter();if(e&&e.length>0){this.aFilterValues=a(e.concat(this.aFilterValues))}var n=s.getTopAnd().addOr("exprssionOr");var o=s.getOperators().EQ;r=t.oTimeAxisDateConverter.bIsConversionToDateRequired(this.oParameter.requiredFilters[0],this.oMetadata);this.aFilterValues.forEach(function(e){if(r){i=t.oTimeAxisDateConverter.getConvertedDateLookUp()[e]||e}else{i=e}var a={id:e,name:t.sRequiredFilter,operator:o,value:i};n.addExpression(a)});return s};sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.updateFilterFromSelection=function(e){var t=a(e);this.aFilterValues=t.slice(0)};sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.clearFilters=function(){this.aFilterValues=[]};sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.getDisplayInfoForFilters=function(e,t){var r=[],a=this;i(a,e,t);a.aFilterValues.forEach(function(e){var t={id:e,text:a.filterValueLookup[e]};r.push(t)});return r};sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.getFilterValues=function(){return this.aFilterValues};sap.apf.ui.representations.utils.RepresentationFilterHandler.prototype.getIfSelectedFilterChanged=function(e){var t=jQuery(this.aFilterValues).not(e).length===0&&jQuery(e).not(this.aFilterValues).length===0;return!t}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/timeAxisDateConverter", [],function(){"use strict";sap.apf.ui.representations.utils.TimeAxisDateConverter=function(){this.oConversionDate={};this.oDimensionInfo={}};sap.apf.ui.representations.utils.TimeAxisDateConverter.prototype.constructor=sap.apf.ui.representations.utils.TimeAxisDateConverter;sap.apf.ui.representations.utils.TimeAxisDateConverter.prototype.bIsConversionToDateRequired=function(e,t){if(!this.oDimensionInfo||!this.oDimensionInfo[e]){return false}if(this.oDimensionInfo[e].conversionEvaluated){return this.oDimensionInfo[e].conversionRequired}this.oDimensionInfo[e].conversionEvaluated=true;if(this.oDimensionInfo[e].dataType==="date"&&t.getPropertyMetadata(e).semantics==="yearmonthday"){this.oDimensionInfo[e].conversionRequired=true;return true}this.oDimensionInfo[e].conversionRequired=false;return false};sap.apf.ui.representations.utils.TimeAxisDateConverter.prototype.setConvertedDateLookUp=function(e){this.oConversionDate=e};sap.apf.ui.representations.utils.TimeAxisDateConverter.prototype.getConvertedDateLookUp=function(){return this.oConversionDate};sap.apf.ui.representations.utils.TimeAxisDateConverter.prototype.createPropertyInfo=function(e){var t=this;e.forEach(function(e){t.oDimensionInfo[e.fieldName]=e})}});
/*!

 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/vizFrameSelectionHandler", ["sap/apf/ui/representations/utils/chartDataSetHelper"],function(t){"use strict";function r(t,r){this.oParameter=t;this.oApi=r}var e=r.prototype;e.constructor=r;var a={isFilterMatch:function(t){var r=t.filterValue;var e=t.dataRow;var a=t.sRequiredProperty;var i=t.fieldForOriginalValue;return r==e[a]||r==e[i]},determine1Selection:function(t){var r=t.dataRow;var e=t.sRequiredProperty;var i=t.aDataPoint;if(a.isFilterMatch(t)){var n={data:{}};n.data[e]=r[e];i.push(n)}}};function i(t,r){var e=[];r.forEach(function(r){var a={data:{}};a.data[t]=r.data?r.data[t]:r;e.push(a)});return e}function n(t){return t.filter(function(t,r,e){return e.indexOf(t)===r})}e.getSelectionInfoFromEvent=function(t,r,e){var a,o,u=this;var f=u.oParameter.requiredFilters[0];var c=t.mParameters.data.map(function(t){return t.data[f]});var l=e.map(function(t){return t.data[f]});if(r){o=n(l).filter(function(t){return c.indexOf(t)===-1})}else{o=n(c.concat(l))}a=i(f,o);return{dataPointsFromSelection:a,aUniqueFilterValueFromChart:o}};e.getSelectionInfoFromFilter=function(t,r,e){var i=[];var n=this.oParameter.requiredFilters[0];var o=sap.apf.ui.representations.utils.ChartDataSetHelper.getFieldNameForOriginalContentOfProperty(n);if(n){r.forEach(function(r){t.forEach(function(t){a.determine1Selection({dataRow:r,filterValue:t,sRequiredProperty:n,aDataPoint:i,fieldForOriginalValue:o})})})}return i};function o(){return a}sap.apf.ui.representations.utils.VizFrameSelectionHandler=r;return{constructor:r,_getLocal:o}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/analysisPath.controller", ["sap/ui/core/mvc/Controller","sap/apf/utils/trace"],function(t,e){"use strict";return t.extend("sap.apf.ui.reuse.controller.analysisPath",{refreshAnalysisPath:function(t){if(this.getView().getCarouselView().getController().oCoreApi.getSteps().length<2){this.getView().getCarouselView().getController().getView().moveDownButton.setEnabled(false);this.getView().getCarouselView().getController().getView().moveUpButton.setEnabled(false)}this.getView().getCarouselView().getController().showStepChartChartAfterUpdate()},isOpenPath:false,isNewPath:false,isBackNavigation:false,bLastValidState:false,onInit:function(){this.oCoreApi=this.getView().getViewData().oCoreApi;this.oUiApi=this.getView().getViewData().uiApi;if(sap.ui.Device.system.desktop){this.getView().addStyleClass("sapUiSizeCompact")}},refresh:function(t){e.logCall("AnalysisPath.refresh"," inx=",t);function i(){var e=this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep());if(e>t){var i=this.oUiApi.getStepContainer();i.stepLayout.setBusy(true)}}i.bind(this)();if(!this.oCoreApi.isDirty()&&this.oCoreApi.getSteps().length!==0){this.oCoreApi.setDirtyState(true);this.oUiApi.getLayoutView().getController().setPathTitle()}e.logReturn("refresh")},updateCustomListView:function(t,e,i){this.getView().getCarouselView().getController().updateCustomListView(t,e,i)},callBackForUpdatePath:function(t,i){e.logCall("AnalysisPath.callBackForUpdatePath"," changed?",i," chart=",t.getSelectedRepresentation().chart?t.getSelectedRepresentation().chart.sId:"NULL");try{var a=this.oCoreApi.getSteps().indexOf(t);if(a===0){this.refreshAnalysisPath(a)}this.updateCurrentStep(t,a,i);this.updateCustomListView(t,a,i)}catch(t){window.console.error("sap.apf .. analysisPath.controller catch exception: ",t);window.console.trace("trace ")}e.logReturn("callBackForUpdatePath")},callBackForUpdatePathAndSetLastStepAsActive:function(t,i){e.logCall("AnalysisPath.callBackForUpdatePathAndSetLastStepAsActive"," changed?",i," chart=",t.getSelectedRepresentation().chart?t.getSelectedRepresentation().chart.sId:"NULL");try{var a=this.oCoreApi.getSteps().indexOf(t);if(a===0){var s=this.oCoreApi.getSteps()[this.oCoreApi.getSteps().length-1];this.oCoreApi.setActiveStep(s);this.refreshAnalysisPath()}this.updateCurrentStep(t,a,i);this.updateCustomListView(t,a,i);this.oUiApi.getLayoutView().setBusy(false)}catch(t){window.console.error("sap.apf .. analysisPath.controller catch exception: ",t);window.console.trace("trace ")}e.logReturn("AnalysisPath.callBackForUpdatePathAndSetLastStepAsActive")},getIsOpenPath:function(){return this.isOpenPath===true?true:false},setIsOpenPath:function(t){this.isOpenPath=t?true:false},updateCurrentStep:function(t,i,a){e.logCall("AnalysisPath.updateCurrentStep",", inx=",i,", changed?",a,", #core.path=",this.oCoreApi.getSteps().length);try{var s=this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep());var o=i===s;e.log("updateCurrentStep",", isOpenPath=",this.isOpenPath,", nActiveIndex=",s);if(o){this.drawMainChart(a,o)}if(this.isOpenPath&&this.oCoreApi.getSteps().indexOf(t)===this.oCoreApi.getSteps().length-1){this.oUiApi.getLayoutView().setBusy(false);this.isOpenPath=false}if(this.isBackNavigation&&this.oCoreApi.getSteps().indexOf(t)===this.oCoreApi.getSteps().length-1){this.oUiApi.getLayoutView().setBusy(false);this.isBackNavigation=false}if(this.bLastValidState&&this.oCoreApi.getSteps().indexOf(t)===this.oCoreApi.getSteps().length-1){this.oUiApi.getLayoutView().setBusy(false);this.bLastValidState=false}this.isNewPath=false}catch(t){window.console.error("sap.apf .. analysisPath.controller catch exception: ",t);window.console.trace("trace ")}e.logReturn("updateCurrentStep",", isOpenPath="+this.isOpenPath)},drawMainChart:function(t,i){e.logCall("AnalysisPath.drawMainChart");var a=this.oUiApi.getStepContainer();a.getController().drawStepContent(t,i);e.logReturn("drawMainChart")},navigateToStep:function(t){this.getView().getCarouselView().getController().changeActiveStep(t)},apfDestroy:function(){e.logCall("AnalysisPath.apfDestroy ******");this.getView().getToolbar().getController().apfDestroy();this.getView().getCarouselView().getController().apfDestroy()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/carousel.controller", ["sap/apf/utils/utils","sap/apf/ui/utils/wrappedChartWithCornerTexts","sap/apf/utils/trace","sap/base/Log"],function(e,t,i,o){"use strict";var n=0;var s=" ************************************** ";var r=" -------------------------------------- ";function a(e,t,o,n,s){if(jQuery.sap.log.apfTrace===undefined){return}var r=p(e,t,o,n,s);i.log("Carousel."+t,r)}function h(e){var t="";e.forEach(function(e,i){var o=e.oChart;if(o){t+="'"+o.sId+"',"}else{t+="'"+o+"',"}});t=e.length===0?"[]":"["+t.slice(0,t.length-1)+"]";return t}function l(e){var t="";var i=e.getView().getCustomItemList();i.forEach(function(e,i){t+="'"+e.sId+"',"});t=i.length===0?"[]":"["+t.slice(0,t.length-1)+"]";return t}function g(e){return", relation="+h(e._relateChartsToItems)+" // "+l(e)+" #path="+e.oCoreApi.getSteps().length}function p(e,t,i,o,n){n=n||"";var s="";var r="-";var a;var h="-";if(o){a=o.getSelectedRepresentation();h=a.type}var l="";if(i===-1){return s+n}l+=": inx="+i;l+=r==="-"||r===false?"":", is iconic";l+=h==="-"?"":", repr.type="+h;l+=g(e);l+=n===""?"":"\n --- "+n+"---";return s+l}var u=sap.ui.controller("sap.apf.ui.reuse.controller.carousel",{cloneCnt:0,paddingLeft:10,paddingRight:10,paddingBottom:15,paddingTop:15,_relateChartsToItems:[],onAfterRendering:function(){},onInit:function(){if(sap.ui.Device.system.desktop){this.getView().addStyleClass("sapUiSizeCompact")}var e=this.getView().getViewData().oInject;this.oCoreApi=e.oCoreApi;this.oUiApi=e.uiApi;this._relateChartsToItems=[]},showStepGallery:function(){this.getView().getStepGallery().getController().openHierarchicalSelectDialog()},onBeforeRendering:function(){if(!sap.ui.Device.system.desktop){this.oUiApi.getLayoutView().getController().showMasterFooter(this.getView().addStepButton,this.getView().moveUpButton,this.getView().moveDownButton)}else{this.oUiApi.getLayoutView().getController().addMasterFooterContentLeft(this.getView().addStepButton);this.oUiApi.getLayoutView().getController().addMasterFooterContentLeft(this.getView().moveUpButton);this.oUiApi.getLayoutView().getController().addMasterFooterContentLeft(this.getView().moveDownButton)}},getStepData:function(e){var t={};t.index=this.oCoreApi.getSteps().indexOf(e);t.title=this.oCoreApi.getTextNotHtmlEncoded(e.title);t.oStepTexts=this.getTextsForCustomListItem(e);return t},update1CustomItemChartWhenChange:function(e,t){i.logCall("update1CustomItemChartWhenChange",t,e);var o=e.getSelectedRepresentation();var n=this._relateChartsToItems[t].oChart;if(!n){i.logReturn("update1CustomItemChartWhenChange: chart reference is undefined");return}i.log("...",", #oClonedChart.oModel before update:",n.getModel().getData().data.length);o.createDataset();n.setModel(o.oModel);this._setSelectionsOnThumbnailAndEnforceRendering(e,t);i.logReturn("update1CustomItemChartWhenChange",", #oClonedChart.oModel:",n.getModel().getData().data.length)},_setSelectionsOnThumbnailAndEnforceRendering:function(e,t){var o=this;var s=n++;i.emphasize("_setSelectionsOnThumbnailAndEnforceRendering, nIndex="+t," set timeout, tick=",s);setTimeout(function(){i.emphasize("_setSelectionsOnThumbnailAndEnforceRendering, nIndex="+t," resolved timeout, tick=",s);o.setSelectionsOnThumbnail(e,t)},1)},getActiveStepIndex:function(){if(this.oCoreApi.getSteps().length>1){this.getView().moveDownButton.setEnabled(true);this.getView().moveUpButton.setEnabled(true)}return this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep())},deleteFromBookkeeping:function(e){if(e>=0){this._relateChartsToItems.splice(e,1)}},setSelectionsOnThumbnail:function(e,n){var s=e.getSelectedRepresentation();if(t.isIconDisplayed(s)){i.log("setSelectionsOnThumbnail","iconic, no selections applied, return");return}var r=this._relateChartsToItems[n].oChart;i.logCall("setSelectionsOnThumbnail",", nIndex",n);if(!r){o.error("***** setSelectionsOnThumbnail: chart reference is undefined");return}var a=s.oRepresentationFilterHandler.getFilterValues();var h=s.oVizFrameSelectionHandler.getSelectionInfoFromFilter(a,s.aDataResponse);i.log("setSelectionsOnThumbnail",", call oClonedChart.vizSelection"," apfId="+s.apfId,"  chart.id="+r.sId," selections&filters:",h,a);r.vizSelection(h,{clearSelection:true});var l=" #filters:"+a.length;l+=" #vizSelection="+(r.vizSelection()?r.vizSelection().length:"undefined");i.logReturn("setSelectionsOnThumbnail",l)},_createWrappedChartClone:function(e){var i=t.getClonedChart(e);var o=new t.constructor(this,e,i);return{oChart:i,oWrappedView:o.getContent(),wrappedChartWithCornerTexts:o}},_createRelation:function(e){var o=this._createWrappedChartClone(e);var n=this.getView().createCustomListItem(o.oWrappedView);var s=e.getSelectedRepresentation();var r=o.oChart;if(t.isIconDisplayed(s)){r=null}var a={oChart:r,oTable:s.toggleInstance,typeOfChart:s.type,bIsAlternateView:s.bIsAlternateView,customListItem:n,wrappedChartWithCornerTexts:o.wrappedChartWithCornerTexts};i.log("_createRelation"," return=",a);return a},_addStepAsCustomItem:function(e){var t=this._createRelation(e);this.getView().addCustomListItem(t.customListItem);t.wrappedChartWithCornerTexts.setHighlighted();this._relateChartsToItems.push(t);a(this,"_addStepAsCustomItem <<",this._relateChartsToItems.length,e)},_replaceChangedRepresentation:function(e,t){a(this,"_replaceChangedRepresentation",t,e);var o=this._createRelation(e);i.log("",", relation=",o);this._relateChartsToItems[t]=o;this.getView().removeCustomItem(t);this.getView().insertCustomItem(o.customListItem,t);this._setSelectionsOnThumbnailAndEnforceRendering(e,t);a(this,"_replaceChangedRepresentation",t,e)},isChangeOfRepresentation:function(e,t){var o=t.type!==this._relateChartsToItems[e].typeOfChart||t.bIsAlternateView!==this._relateChartsToItems[e].bIsAlternateView;i.log("isChangeOfRepresentation"," return=",o);return o},updateCustomListView:function(e,t,o){var n;try{n=e.getSelectedRepresentation();i.logCall(" --API-- Carousel.updateCustomListView",", nIndex="+t," bStepChanged="+o,"apfId=",n.apfId,g(this),r);if(t>=this._relateChartsToItems.length){this._addCustomItemAndSetHighlighting(e,t)}else if(this.isChangeOfRepresentation(t,n)){this._replaceChangedRepresentation(e,t)}else if(!o){this._setSelectionsOnThumbnailAndEnforceRendering(e,t)}else{this.update1CustomItemChartWhenChange(e,t)}this._pruneRelateChartsToItems();this._setBusyOnCustomListItem(this._relateChartsToItems[t],false)}catch(e){window.console.error("sap.apf .. carousel.controller catch exception: ",e);window.console.trace("trace ")}i.logReturn("updateCustomListView",g(this),r)},_pruneRelateChartsToItems:function(){if(this.oCoreApi.getSteps().length<this._relateChartsToItems.length){this._relateChartsToItems.splice(this.oCoreApi.getSteps().length);i.emphasize("updateCustomListView"," deletion of superfluous custom items")}},_addCustomItemAndSetHighlighting:function(e,t){var i;this._addStepAsCustomItem(e);this._setSelectionsOnThumbnailAndEnforceRendering(e,t);i=this.getActiveStepIndex();this._removeHighlightingOfAnyStep(i);if(i<=t){this._setHighlightingOfActiveStep(i)}},_setBusyOnCustomListItem:function(e,t){setTimeout(function(){e.customListItem.setBusy(t)},1)},setBusyFromIndex:function(e){var t=this;e=e||0;this._relateChartsToItems.forEach(function(i,o){if(o>=e){t._setBusyOnCustomListItem(i,true)}})},showStepChartChartAfterUpdate:function(){var e=this.oCoreApi.getSteps();if(e.length>this.getView().getCustomItemList().length){this.oUiApi.getLayoutView().setBusy(true);jQuery(this.oUiApi.getStepContainer().getDomRef()).show()}},handleMove:function(e){var t=this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep());var o=t+1;var n=t-1;i.log("Carousel.handleMove",", parameter",e,", activeStepIndex="+t,s);if(e.down&&o<this.oCoreApi.getSteps().length){this._moveStep(t,o,t)}else{if(e.down!==true&&n>=0&&n<this.oCoreApi.getSteps().length){this._moveStep(t,n,n)}}},_moveInBookkeeping:function(e){i.logCall("_moveInBookkeeping",g(this));var t;t=this._relateChartsToItems[e+1];this._relateChartsToItems[e+1]=this._relateChartsToItems[e];this._relateChartsToItems[e]=t;t=this.getView().getCustomItemList()[e+1];this.getView().removeCustomItem(e+1);this.getView().insertCustomItem(t,e);i.logReturn("_moveInBookkeeping",g(this))},_moveStep:function(e,t,o){i.logCall("Carousel._moveStep"," from "+e+" to "+t,"relation=",this._relateChartsToItems);if(e!==t){this.setBusyFromIndex(o);this._moveInBookkeeping(o);var n=this.oCoreApi.getSteps()[e];var s=this.oUiApi.getAnalysisPath().getController();i.log("Carousel._moveStep"," move step in core and update path");this.oCoreApi.moveStepToPosition(n,t,s.callBackForUpdatePath.bind(s))}i.logReturn("_moveStep","relation=",this._relateChartsToItems)},setActiveStepAfterRemove:function(e){var t=this.getActiveStepIndex();if(e===t){var i;if(t===0){i=1;this._setHighlightingOfActiveStep(0)}else if(t===this.oCoreApi.getSteps().length-1){i=t-1;this._setHighlightingOfActiveStep(i)}else{i=t+1;this._setHighlightingOfActiveStep(t)}this.oCoreApi.setActiveStep(this.oCoreApi.getSteps()[i])}},removeStep:function(e){var t=this.oUiApi.getAnalysisPath().getController();var i=this.getActiveStepIndex();if(i===e&&this.oCoreApi.getSteps().length>1){this.setActiveStepAfterRemove(e)}var o=this.oCoreApi.getSteps()[e];this.oCoreApi.removeStep(o,t.callBackForUpdatePath.bind(t));this.oCoreApi.setDirtyState(true);this.oUiApi.getLayoutView().getController().setPathTitle();if(this.oCoreApi.getSteps().length>=1){this.getView().moveDownButton.setEnabled(false);this.getView().moveUpButton.setEnabled(false)}this.oUiApi.getLayoutView().getController().enableDisableOpenIn()},removeAllThumbnails:function(){this._removeItemsAndBookkeepingRelations()},_removeItemsAndBookkeepingRelations:function(){var e=this;e.getView().oCustomItemList.removeAllItems();e._relateChartsToItems.forEach(function(t){e._destroyItemAndChart(t)});e._relateChartsToItems=[]},getTextsForCustomListItem:function(e){var t=this;var i=["leftUpper","rightUpper","leftLower","rightLower"];var o=e.thumbnail;var n=e.getSelectedRepresentationInfo().thumbnail;var s={};i.forEach(function(e){var i=n&&n[e];i=i&&!t.oCoreApi.isInitialTextKey(n[e]);var r=o&&o[e];r=r&&!t.oCoreApi.isInitialTextKey(o[e]);if(i){s[e]=t.oCoreApi.getTextNotHtmlEncoded(n[e]);return}else if(r){s[e]=t.oCoreApi.getTextNotHtmlEncoded(o[e]);return}});return s},_getIndexOfCustomItem:function(e){return this.getView().getCustomItemList().findIndex(function(t){return t.sId===e})},deleteCustomListItem:function(e){var t=this._getIndexOfCustomItem(e);i.log("deleteCustomListItem",", indexOfItem=",t,s);var o=null;if(t>=0){o=this._relateChartsToItems[t];this.getView().removeCustomItem(t);this.deleteFromBookkeeping(t);this.setBusyFromIndex(t);this.removeStep(t);this._destroyItemAndChart(o)}a(this,"deleteCustomListItem",t,null)},_destroyItemAndChart:function(e){if(e.oChart){e.oChart.destroy()}if(e.oTable){e.oTable.tableControl.destroy();e.oTable.destroy()}e.customListItem.destroy();e.customListItem=null;e.oChart=null},listItemPressed:function(e){var t=this._getIndexOfCustomItem(e.getParameters().id);this.changeActiveStep(t)},changeActiveStep:function(e){i.logCall("changeActiveStep -- changes the active step, index=",e,s);if(e===this.getActiveStepIndex()){i.logReturn("changeActiveStep",", index=",e,"******");return}var t=this.oCoreApi.getSteps()[e];this._removeHighlightingOfActiveStep();this.oCoreApi.setActiveStep(t);this.oUiApi.selectionChanged(false);this._setHighlightingOfActiveStep(e);i.logReturn("changeActiveStep",", index=",e,"******")},apfDestroy:function(){var t=this.getView().getStepGallery().getController();e.checkAndCloseDialog(t.oHierchicalSelectDialog)},_removeHighlightingOfActiveStep:function(){var e=this.getActiveStepIndex();var t=this._relateChartsToItems[e];t.wrappedChartWithCornerTexts.setNonHighlighted()},_removeHighlightingOfAnyStep:function(e){i.log("_removeHighlightingOfAnyStep",", nExclude",e);this._relateChartsToItems.forEach(function(t,i){if(i!==e){t.wrappedChartWithCornerTexts.setNonHighlighted()}})},_setHighlightingOfActiveStep:function(e){i.log("_setHighlightingOfActiveStep",", nActive",e);var t=this._relateChartsToItems[e];t.wrappedChartWithCornerTexts.setHighlighted()}});return u});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/deleteAnalysisPath.controller", ["sap/m/Dialog","sap/m/DialogType","sap/m/Text","sap/m/Button","sap/ui/model/json/JSONModel","sap/ui/core/mvc/Controller"],function(e,t,o,i,a,s){"use strict";return s.extend("sap.apf.ui.reuse.controller.deleteAnalysisPath",{onInit:function(){this.oCoreApi=this.getView().getViewData().oInject.oCoreApi;this.oUiApi=this.getView().getViewData().oInject.uiApi;this.oSerializationMediator=this.getView().getViewData().oInject.oSerializationMediator},openPathGallery:function(){var e=new a;e.setData(this.getView().getViewData().jsonData);this.oDialog=this.getView().getContent()[0];this.oDialog.getContent()[0].setModel(e);this.oDialog.setInitialFocus(this.oDialog);this.oDialog.open()},handleDeleteOfDialog:function(e){var t=e.getParameter("listItem").getProperty("title");var o={item:e.getParameter("listItem"),list:this.getView().getContent()[0].getContent()[0],guid:this.getGuidForPath(t,this.getView().getViewData().jsonData.GalleryElements),sPathName:t};this.openConfirmDelDialog(o)},getGuidForPath:function(e,t){var o;for(o=0;o<t.length;o++){var i=t[o];if(i.AnalysisPathName===e){return i.guid}}},deleteSavedPath:function(e,t){var o=this;var i=t.guid;var a=e;var s;var n=o.oUiApi.getLayoutView().getController().oSavedPathName.getText();o.oSerializationMediator.deletePath(i,function(e,i,n){if(n===undefined&&typeof e==="object"){t.list.removeItem(t.item);t.list.rerender();o.oCoreApi.readPaths(function(e,t,i){if(i===undefined&&typeof e==="object"){var n=e.paths.length;if(n===0){jQuery(".pathText").removeClass("pathTextDontShow");jQuery(".pathText").addClass("pathTextShow")}}else{s=o.oCoreApi.createMessageObject({code:"6005",aParameters:[a]});s.setPrevious(i);o.oCoreApi.putMessage(s)}})}else{s=o.oCoreApi.createMessageObject({code:"6009",aParameters:[a]});s.setPrevious(n);o.oCoreApi.putMessage(s)}});if(o.oCoreApi.isDirty()){n=n.substring(1)}if(n===a){o.oUiApi.getAnalysisPath().getToolbar().getController().resetAnalysisPath()}},openConfirmDelDialog:function(a){var s=this;var n=a.sPathName;var r=(new o).addStyleClass("textStyle");r.setText(s.oCoreApi.getTextNotHtmlEncoded("do-you-want-to-delete-analysis-path",["'"+n+"'"]));s.delConfirmDialog=new e({type:t.Standard,title:s.oCoreApi.getTextNotHtmlEncoded("delPath"),content:r,beginButton:new i({text:s.oCoreApi.getTextNotHtmlEncoded("yes"),press:function(){s.deleteSavedPath(n,a);s.delConfirmDialog.close()}}),endButton:new i({text:s.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){s.delConfirmDialog.close()}}),afterClose:function(){s.oUiApi.getLayoutView().setBusy(false);s.delConfirmDialog.destroy()}});if(sap.ui.Device.system.desktop){s.delConfirmDialog.addStyleClass("sapUiSizeCompact")}s.delConfirmDialog.open()}})});
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/reuse/controller/facetFilter.controller", ["sap/apf/ui/utils/facetFilterListHandler","sap/apf/ui/utils/facetFilterListConverter","sap/apf/ui/utils/facetFilterValueFormatter","sap/m/FacetFilter"],function(e,t,i,a){"use strict";function r(e){e.getView().byId("idAPFFacetFilter").removeAllLists();var t=e.getView().getViewData();var i=t.aConfiguredFilters;i.forEach(function(i){var a=new sap.apf.ui.utils.FacetFilterListHandler(t.oCoreApi,t.oUiApi,i);e.getView().byId("idAPFFacetFilter").addList(a.createFacetFilterList())})}sap.ui.controller("sap.apf.ui.reuse.controller.facetFilter",{onInit:function(){var e=this;if(sap.ui.Device.system.desktop){e.getView().addStyleClass("sapUiSizeCompact")}r(e)},onResetPress:function(){var e=this;e.getView().getViewData().oStartFilterHandler.resetVisibleStartFilters();e.getView().getViewData().oUiApi.selectionChanged(true)}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/messageHandler.controller", ["sap/m/MessageBox","sap/ui/thirdparty/jquery","sap/base/security/encodeXML","sap/base/Log"],function(e,jQuery,t,a){"use strict";var o;function s(e){var t=e.getMessage();while(e.getPrevious()){e=e.getPrevious();t=t+"\n"+e.getMessage()}return t}function i(e,t){var a=e.getView().getViewData().oCoreApi;var o=a.getGenericExit("closeFatalErrorDialog");if(o){o(a,e,t)}else{window.history.go(-1)}}function n(e,t){sap.m.MessageBox.information(t.getMessage(),{styleClass:sap.ui.Device.system.desktop?"sapUiSizeCompact":""})}function r(e,t){sap.m.MessageToast.show(t.getMessage(),{width:"20em"})}function l(e){var t=o.oCoreApi.getLogMessages();var a=false;for(var s=0;s<t.length;s++){if(t[s].search(5021)!==-1){a=true;break}}return a}function g(e,a){var i=new sap.m.Dialog(e.createId("idShowDetailsDialog"),{contentWidth:jQuery(window).height()*.6+"px",contentHeight:jQuery(window).height()*.6+"px",title:o.oCoreApi.getTextNotHtmlEncoded("error"),type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:new sap.ui.core.HTML({content:["<div><p> "+t(s(a))+"</p></div>"].join(""),sanitizeContent:true}),beginButton:new sap.m.Button({text:o.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){i.close()}}),afterClose:function(){i.destroy()}});i.setInitialFocus(i);i.open()}function p(e,t){var a=l(e);var s=new sap.m.Dialog(e.createId("idFatalDialog"),{title:o.oCoreApi.getTextNotHtmlEncoded("error"),type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:[new sap.m.Text({text:a?o.oCoreApi.getTextNotHtmlEncoded("application-reload"):o.oCoreApi.getTextNotHtmlEncoded("fatalErrorMessage")}),new sap.m.VBox({alignItems:sap.m.FlexAlignItems.End,items:[new sap.m.Link({text:o.oCoreApi.getTextNotHtmlEncoded("showDetails"),press:function(){g(e,t)}})]})],beginButton:new sap.m.Button({text:o.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){i(e,s)}}),afterClose:function(){s.destroy()}});s.setInitialFocus(s);s.open()}function c(e,t){var a=o.oCoreApi;var s=o.uiApi;var i=new sap.m.Dialog(e.createId("idShowValidStateDialog"),{title:a.getTextNotHtmlEncoded("error"),type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Error,content:[new sap.m.Text({text:a.getTextNotHtmlEncoded("lastValidStateMessage")}),new sap.m.VBox({alignItems:sap.m.FlexAlignItems.End,items:[new sap.m.Link({text:a.getTextNotHtmlEncoded("showDetails"),press:function(){g(e,t)}})]})],beginButton:new sap.m.Button({text:a.getTextNotHtmlEncoded("gobackToValidState"),press:function(){var e=a.restoreApfState();e.then(function(){s.getAnalysisPath().getController().bLastValidState=true;s.getAnalysisPath().getCarouselView().getController().removeAllThumbnails();a.updatePath(s.getAnalysisPath().getController().callBackForUpdatePath.bind(s.getAnalysisPath().getController()));s.getLayoutView().getController().setPathTitle();i.close();s.getAnalysisPath().getCarouselView().rerender();s.getLayoutView().setBusy(false)},function(){i.close()})}}),endButton:new sap.m.Button({text:a.getTextNotHtmlEncoded("startNewAnalysis"),press:function(){s.getAnalysisPath().getToolbar().getController().resetAnalysisPath();i.close()}}),afterClose:function(){i.destroy()}});i.setInitialFocus(i);i.open()}function u(e,t){var a=o.oCoreApi.isApfStateAvailable();if(a){c(e,t)}else{p(e,t)}}sap.ui.controller("sap.apf.ui.reuse.controller.messageHandler",{onInit:function(){var e=this;if(sap.ui.Device.system.desktop){e.getView().addStyleClass("sapUiSizeCompact")}o=e.getView().getViewData()},showMessage:function(e){var t=this;var s=e.getSeverity();var i=sap.apf.core.constants.message.severity;switch(s){case i.fatal:o.uiApi.getLayoutView().setBusy(false);u(t,e);break;case i.error:o.uiApi.getLayoutView().setBusy(false);break;case i.information:n(t,e);break;case i.success:r(t,e);break;default:a.error("Error type not defined");break}if(s===i.warning||s===i.error){sap.m.MessageToast.show(e.getMessage(),{width:"40%",offset:"0 -50",animationDuration:2e3})}}})});
sap.ui.predefine("sap/apf/ui/reuse/controller/pathFilterDisplay.controller", ["sap/ui/model/json/JSONModel","sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,i,o){"use strict";return t.extend("sap.apf.ui.reuse.controller.pathFilterDisplay",{getCoreApi:function(){return this.getView().getViewData().oCoreApi},onInit:function(){var t=this.getView().getViewData().pathFilterInformation;var i=new e(t);this.getView().setModel(i);if(sap.ui.Device.system.desktop){this.getView().byId("pathFilterDisplayDialog").addStyleClass("sapUiSizeCompact")}this.getView().byId("pathFilterDisplayDialog").setContentWidth(jQuery(window).height()*.6+"px");this.getView().byId("pathFilterDisplayDialog").setContentHeight(jQuery(window).height()*.6+"px");this.getView().byId("stepPage").setTitle(this.getCoreApi().getTextNotHtmlEncoded("pathFilterDisplay-SelectedFilters"));this.getView().byId("stepPage").setTooltip(this.getCoreApi().getTextNotHtmlEncoded("pathFilterDisplay-SelectedFilters"));this.getView().byId("pathFilterDisplayDialog").getEndButton().setText(this.getCoreApi().getTextNotHtmlEncoded("close"));this.getView().byId("pathFilterDisplayDialog").getBeginButton().setText(this.getCoreApi().getTextNotHtmlEncoded("closeAndNavigate"))},onStepPress:function(e){this.getView().byId("pathFilterDisplayDialog").getBeginButton().setVisible(true);var t=this.getView().byId("navContainer");var i=this.getView().byId("filterValuesPage");var o=e.getSource().getBindingContext();i.setBindingContext(o);t.to(i)},onCloseButton:function(){this.getView().byId("pathFilterDisplayDialog").close()},onClose:function(){this.getView().byId("pathFilterDisplayDialog").destroy();this.getView().destroy()},onSearch:function(e){var t=e.getParameters().newValue;var s=this.getView().byId("navContainer").getCurrentPage().getContent()[0];var n=s.getBinding("items");var a=[];if(t){a.push(new i("text",o.Contains,t))}n.filter(a)},getDescriptionForStep:function(e,t){if(e){if(t&&t.length>0){return e+", "+this.getCoreApi().getTextNotHtmlEncoded("amountSelected",[t.length])}return e+", "+this.getCoreApi().getTextNotHtmlEncoded("nothingSelected")}return this.getCoreApi().getTextNotHtmlEncoded("noSelectionPossible")},onBackPress:function(){this.getView().byId("pathFilterDisplayDialog").getBeginButton().setVisible(false);var e=this.getView().byId("navContainer");e.back()},onCloseAndNavigatePress:function(e){var t=this.getView().byId("filterValuesPage").data("stepIndex");this.getView().getViewData().oUiApi.getAnalysisPath().getController().navigateToStep(t);this.getView().byId("pathFilterDisplayDialog").close()}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/pathGallery.controller", ["sap/apf/utils/trace"],function(e){"use strict";sap.ui.controller("sap.apf.ui.reuse.controller.pathGallery",{onInit:function(){this.oCoreApi=this.getView().getViewData().oInject.oCoreApi;this.oUiApi=this.getView().getViewData().oInject.uiApi;this.oSerializationMediator=this.getView().getViewData().oInject.oSerializationMediator;if(sap.ui.Device.system.desktop){this.getView().addStyleClass("sapUiSizeCompact")}},openPathGallery:function(){if(this.oDialog){this.oDialog.destroy()}this.oDialog=new sap.ui.jsfragment("sap.apf.ui.reuse.fragment.pathGallery",this);var e=new sap.ui.model.json.JSONModel;var t=this.getPathGalleryData();e.setData(t);this.oDialog.setModel(e);if(sap.ui.Device.system.desktop){this.oDialog.addStyleClass("sapUiSizeCompact")}this.oDialog.setInitialFocus(this.oDialog);this.oDialog.open()},getPathGalleryData:function(){var e=this;var t=this.getView().getViewData()?this.getView().getViewData().jsonData:{};var i=function(){var t={steps:e.oCoreApi.getStepTemplates()};return t};if(t.GalleryElements.length!==0){var a=t.GalleryElements;var s=i();var o,r,n,l;for(o=0;o<a.length;o++){for(r=0;r<a[o].StructuredAnalysisPath.steps.length;r++){for(n=0;n<s.steps.length;n++){var p=a[o].StructuredAnalysisPath.steps[r].stepId;var h=a[o].StructuredAnalysisPath.steps[r].selectedRepresentationId;if(p===s.steps[n].id){for(l in s.steps[n].getRepresentationInfo()){if(h===s.steps[n].getRepresentationInfo()[l].representationId){t.GalleryElements[o].StructuredAnalysisPath.steps[r].imgSrc=s.steps[n].getRepresentationInfo()[l].picture;t.GalleryElements[o].StructuredAnalysisPath.steps[r].title=e.oCoreApi.getTextNotHtmlEncoded(s.steps[n].title.key)}}}}}}}return t},openPath:function(t,i,a){e.log("pathGallery.openPath",", ",a,", guid",i,"***********************");var s=this;var o;var r=s.oUiApi.getAnalysisPath().getCarouselView();this.oUiApi.getAnalysisPath().getCarouselView().oController.removeAllThumbnails();s.oSerializationMediator.openPath(i,function(s){return function(n,l,p){var h=s.oUiApi.getLayoutView().getController();var u=s.oUiApi.getAnalysisPath().getController();e.log("pathGallery.openPath continuation",", activeStepindex=",a,", guid=",i);if(p===undefined&&typeof n==="object"){u.setIsOpenPath(true);s.oUiApi.contextChanged();u.refresh(-1);s.oCoreApi.updatePath(u.callBackForUpdatePath.bind(u));s.oCoreApi.setDirtyState(false);h.setPathTitle();if(s.oDialog!==undefined){s.oDialog.close()}r.rerender();s.oUiApi.getLayoutView().setBusy(false)}else{o=s.oCoreApi.createMessageObject({code:"6008",aParameters:[t]});o.setPrevious(p);s.oUiApi.getLayoutView().setBusy(false);s.oCoreApi.putMessage(o)}}}(this),a)}})});
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/reuse/controller/smartFilterBar.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/odata/ODataUtils","sap/ui/model/odata/v2/ODataModel","sap/ui/model/odata/CountMode"],function(e,t,a,i){"use strict";return e.extend("sap.apf.ui.reuse.controller.smartFilterBar",{onInit:function(){var e=this;var r=e.getView().getViewData().oSmartFilterBarConfiguration.service;var n=e.getView().getViewData().oCoreApi.getAnnotationsForService(r);var o={annotationURI:n,json:true};if(n&&n.length>0){o.loadAnnotationsJoined=true}var s=e.getView().getViewData().oCoreApi.getStartParameterFacade().getSapSystem();if(s){r=t.setOrigin(r,{force:true,alias:s})}var g=new a(r,o);g.getMetaModel().loaded().then(function(){e.getView().getViewData().oCoreApi.getMetadata(r).done(function(t){if(t.getAllEntitySetsExceptParameterEntitySets().indexOf(e.getView().getViewData().oSmartFilterBarConfiguration.entitySet)<0){e.getView().getViewData().oCoreApi.putMessage(e.getView().getViewData().oCoreApi.createMessageObject({code:"5053",aParameters:[e.getView().getViewData().oSmartFilterBarConfiguration.entitySet,r]}))}g.setDefaultCountMode(i.None);e.byId("idAPFSmartFilterBar").setModel(g)})});g.attachMetadataFailed(function(){e.getView().getViewData().oCoreApi.putMessage(e.getView().getViewData().oCoreApi.createMessageObject({code:"5052",aParameters:[r]}))})},afterInitialization:function(){this.handleSplitterSize();this.setFilterData();this.validateFilters();this.registerSFBInstanceWithCore()},registerSFBInstanceWithCore:function(){var e=this;e.getView().getViewData().oCoreApi.registerSmartFilterBarInstance(e.byId("idAPFSmartFilterBar"))},handlePressOfGoButton:function(){var e=this;var t=this.byId("idAPFSmartFilterBar");if(!t._apfOpenPath&&e.getView().getViewData().oCoreApi.getActiveStep()){e.getView().getViewData().oUiApi.selectionChanged(true)}delete t._apfOpenPath},setFilterData:function(){var e=this;var t=this.byId("idAPFSmartFilterBar");var a=e.getView().getViewData().oCoreApi.getStartParameterFacade().getAnalyticalConfigurationId();var i=e.getView().getViewData().oCoreApi.getStartParameterFacade().getXappStateId();var r=t.getUiState();var n=t.mProperties;t.setUiState(r,n);if(a!==undefined||i!==null&&i!==undefined){var o=e.getView().getViewData().oCoreApi;var s=o.getComponent();if(sap.ushell.Container!==undefined){var g=sap.ushell.Container.getService("CrossApplicationNavigation");var d=g.getStartupAppState(s);d.done(function(e){var t=e.getData();if(t){t=JSON.parse(JSON.stringify(t));var a=t.selectionVariant;var i=new sap.ui.comp.state.UIState({selectionVariant:a});var r=this.byId("idAPFSmartFilterBar");r.setUiState(i,{replace:true,strictMode:false})}}.bind(this))}var l=t.getVariantManagement().getDefaultVariantKey();t.setCurrentVariantId(l)}},validateFilters:function(){var e=this.byId("idAPFSmartFilterBar");var t=e.validateMandatoryFields();this.getView().getViewData().oUiApi.getAddAnalysisStepButton().setEnabled(t);this.getView().getViewData().oUiApi.getAddAnalysisStepButton().rerender()},handleSplitterSize:function(){var e=this;var t=this.byId("idAPFSmartFilterBar");var a=t.mAggregations.content[0];var i=a.mAggregations.content[2];i.attachPress(function(){var t=this.getParent().getParent();if(t.getFilterBarExpanded()){e.getView().getViewData().oUiApi.getLayoutView().byId("idSplitterLayoutData").setSize("127px")}else{e.getView().getViewData().oUiApi.getLayoutView().byId("idSplitterLayoutData").setSize("65px")}})}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/stepContainer.controller", ["sap/apf/ui/utils/helper","sap/apf/core/constants","sap/ui/core/mvc/Controller","sap/apf/ui/utils/constants","sap/suite/ui/commons/ChartContainerContent","sap/suite/ui/commons/ChartContainerToolbarPlaceholder","sap/ui/core/Icon","sap/ui/core/CustomData","sap/m/Link","sap/m/ToggleButton","sap/m/Label","sap/m/Button","sap/m/ToolbarSpacer","sap/m/List","sap/m/ListMode","sap/m/ListSeparators","sap/m/StandardListItem","sap/m/Popover","sap/m/PlacementType","sap/apf/utils/trace"],function(e,t,n,a,r,i,o,s,l,d,p,c,u,g,f,v,h,C,y,m){"use strict";var I,S,T,b=false;function w(){var e=T.getSelectedRepresentation();return e.type===a.representationTypes.TABLE_REPRESENTATION}function R(){var e=T.getSelectedRepresentation();return e.type===a.representationTypes.TREE_TABLE_REPRESENTATION}function A(){if(T.getSelectedRepresentation().bIsAlternateView===undefined||T.getSelectedRepresentation().bIsAlternateView===false){return false}return true}function P(e){var t=e.getCurrentRepresentation();var n=t.getParameter().requiredFilters;if(n===undefined||n.length===0){return undefined}return n[0]}function x(e){m.logCall("StepContainer._setChartContainerContent");var t=e.byId("idChartContainer");var n=e.getCurrentRepresentation();var a=T.longTitle&&!I.isInitialTextKey(T.longTitle.key)?T.longTitle:T.title;var i=I.getTextNotHtmlEncoded(a);m.log("_setChartContainerContent"," title=",i);var o=n.getMainContent(i);var s={onBeforeRendering:function(){D(e,o)}};o.addEventDelegate(s);t.removeAllContent();var l=new r({content:o});t.addContent(l);m.logReturn("_setChartContainerContent")}function D(e,t){var n=e.byId("idChartContainer");var a="0";var r=jQuery(window).width();var i=n.getId();if(jQuery("#"+i).length!==0){a=jQuery("#"+i+" > div:first-child > div:nth-child(2)").offset().top;r=jQuery("#"+i+" > div:first-child > div:nth-child(2)").width()}var o=jQuery(window).height()-a-jQuery(".applicationFooter").height();var s=r;t.setHeight(o+"px");t.setWidth(s+"px")}function E(e,t){var n=e.byId("idSelectedText");var a=e.getCurrentRepresentation();var r=_(e);var i=a.getSelectionFilterLabel();var o=i+" ("+r+") ";var s=e.byId("idSelPropertyAndCount");if(!s){s=new l({id:e.createId("idSelPropertyAndCount"),press:e.handlePressSelectedPropertyCountLink.bind(e)});s.addAriaLabelledBy(n.getId())}else{if(s&&a.chart!==undefined&&(a.chart!==null&&a.chart.setFocusOnSelectLink)){a.chart.detachEvent("setFocusOnSelectedLinkEvent",a.chart.setFocusOnSelectLink)}}if(s&&a.chart!==undefined&&a.chart!==null){a.chart.setFocusOnSelectLink=function(){s.focus()}}s.setVisible(true);s.setText(o);t.addContent(s);t.onAfterRendering=function(){if(s&&a.chart!==undefined&&a.chart!==null){a.chart.fireEvent("setFocusOnSelectedLinkEvent");a.chart.detachEvent("setFocusOnSelectedLinkEvent",a.chart.setFocusOnSelectLink)}}}function V(e){var t=e.byId("idChartContainer");t.removeAllCustomIcons();N(e);L(e);B(e)}function N(t){var n=t.byId("idChartContainer");var a=T.getSelectedRepresentationInfo();var r;if(a.parameter&&a.parameter.orderby){var i=a.parameter.orderby;new e(I).getRepresentationSortInfo(a).done(function(e){for(var s=0;s<e.length;s++){r=i[0].property}var l=i[0].ascending==true?"Sort Order: Ascending":"Sort Order: Descending";var d=I.getTextNotHtmlEncoded(a.label)+"\n"+(r!==undefined?I.getTextNotHtmlEncoded("sortBy")+": "+r:"")+"\n"+l;var p=new o({src:a.picture,tooltip:d,press:function(e){t.handlePressChartIcon(e)}});n.addCustomIcon(p)})}else{var s=I.getTextNotHtmlEncoded(a.label)+"\n"+(r!==undefined?I.getTextNotHtmlEncoded("sortBy")+": "+r:"");var l=new o({src:a.picture,tooltip:s,press:function(e){t.handlePressChartIcon(e)}});n.addCustomIcon(l)}}function L(e){var t=e.byId("idChartContainer");var n=I.getTextNotHtmlEncoded("listView");var a=new sap.ui.core.Icon({src:"sap-icon://table-view",tooltip:n,press:e.handlePressAlternateRepIcon.bind(e)});var r=e.getCurrentRepresentation();var i=r.type;if(w()||R()||i=="TableRepresentation"){t.removeCustomIcon(a);return}t.addCustomIcon(a)}function B(e){if(e.getCurrentRepresentation().topN!==undefined||!A()&&!w()||R()){return}var t=e.byId("idChartContainer");var n=I.getTextNotHtmlEncoded("view-Settings-Button");var a=new o({src:"sap-icon://drop-down-list",tooltip:n,press:function(){e.getView().addDependent(e.getCurrentRepresentation().getViewSettingDialog());e.getCurrentRepresentation().getViewSettingDialog().open()}});t.addCustomIcon(a)}function F(e,t){var n=e.byId("idSelectedText");if(!n){n=new p({id:e.createId("idSelectedText"),text:I.getTextNotHtmlEncoded("selectedValue")})}n.setVisible(true);t.addContent(n)}function H(e,t){var n=e.byId("idReset");if(!n){n=new c({text:I.getTextNotHtmlEncoded("reset"),id:e.createId("idReset"),type:"Transparent",press:e.handlePressResetButton.bind(e)}).addStyleClass("chartContainerResetStyle")}n.setVisible(true);t.addContent(n)}function O(e,t){var n=_(e);if(n>0&&P(e)!==undefined){F(e,t);E(e,t);H(e,t)}}function j(e,t){var n=e.byId("idPathFilterDisplayButton");if(!n){n=new c({text:I.getTextNotHtmlEncoded("pathFilterDisplayButton"),id:e.createId("idPathFilterDisplayButton"),icon:"sap-icon://message-information",type:"Transparent",press:function(){if(e.byId("idStepLayout").getBusy()===false){I.getPathFilterInformation().then(function(t){var n=new sap.ui.core.mvc.XMLView({viewName:"sap.apf.ui.reuse.view.pathFilterDisplay",viewData:{pathFilterInformation:t,oCoreApi:I,oUiApi:S},id:e.createId("pathFilterDisplay")});n.setParent(e.getView(),"content",true);n.getContent()[0].open()})}}})}t.addContent(n)}function k(e,t){var n=e.getCurrentRepresentation();var a=n.type;var r=undefined;var i=false;if(a!=="TableRepresentation"&&a!=="listView"&&a!=="TreeTableRepresentation"){if(n.chart!==undefined){if(Object.getOwnPropertyNames(n.chart).length!==0){r=n.chart.vizSelection();i=n.chart.getVizProperties().plotArea.dataLabel.visible}}if(n!==undefined){if(n.aDataResponse!==0){var o=e.byId("idToggleDisplayButton");if(!o){o=new sap.m.ToggleButton({id:e.createId("idToggleDisplayButton"),pressed:false,text:I.getTextNotHtmlEncoded("values"),tooltip:I.getTextNotHtmlEncoded("displayValues"),press:e.handleToggleDisplay.bind(e)})}else{n=e.getCurrentRepresentation();o.setPressed(i)}if(r!==undefined){e.getCurrentRepresentation().chart.vizSelection(r,{clearSelection:false})}t.addContent(o)}}}}function M(e){var t=e.byId("idChartContainer");var n=t.getToolbar();n.removeAllContent();var a=new p({text:I.getTextNotHtmlEncoded("currentStep")});n.addContent(a);var r=new u;n.addContent(r);k(e,n);O(e,n);j(e,n);n.addContent(new i);t.setToolbar(n)}function Q(e,t,n){m.logCall("StepContainer._drawChartContainer",", isActiveStep=",n,", oActiveStep=",t);if(t!==undefined){x(e);V(e);M(e)}m.logReturn("_drawChartContainer")}function _(e){var t=e.getCurrentRepresentation();var n=t.getSelections().length;return n}function z(t,n){var a=new g({mode:f.SingleSelectMaster,showSeparators:v.None,includeItemInSelection:true,selectionChange:t.handleSelectionChartSwitchIcon.bind(t)});var r;var i;for(var o=0;o<T.getRepresentationInfo().length;o++){i=T.getRepresentationInfo()[o];r=undefined;if(i.parameter&&i.parameter.orderby){new e(I).getRepresentationSortInfo(i).done(function(e){var t=[];for(var n=0;n<e.length;n++){e[n].done(function(e){t.push(e)})}r=t.join(", ");var o=r!==undefined?I.getTextNotHtmlEncoded("sortBy")+": "+r:"";var l=new h({description:o,icon:i.picture,title:I.getTextNotHtmlEncoded(i.label),customData:[new s({key:"data",value:{oRepresentationType:i,icon:i.picture}})]});a.addItem(l)})}else{var l=r!==undefined?I.getTextNotHtmlEncoded("sortBy")+": "+r:"";var d=new h({description:l,icon:i.picture,title:I.getTextNotHtmlEncoded(i.label),customData:[new s({key:"data",value:{oRepresentationType:i,icon:i.picture}})]});a.addItem(d)}}if(!t.byId("idAllChartPopover")){var p=new C({id:t.createId("idAllChartPopover"),placement:y.Bottom,showHeader:false,content:[a],afterClose:function(){p.destroy()}})}t.byId("idAllChartPopover").openBy(n)}function U(e,t){e.byId("idReset").setVisible(t);e.byId("idSelPropertyAndCount").setVisible(t);e.byId("idSelectedText").setVisible(t)}return n.extend("sap.apf.ui.reuse.controller.stepContainer",{onInit:function(){var e=this;I=e.getView().getViewData().oCoreApi;S=e.getView().getViewData().uiApi;T=I.getActiveStep();this.initialText=new p({id:this.createId("idInitialText")}).addStyleClass("initialText");this.initialText.setText(I.getTextNotHtmlEncoded("initialText"))},onAfterRendering:function(){jQuery(S.getStepContainer().getDomRef()).hide();if(jQuery("#"+this.initialText.getId()).length===0&&I.getSteps().length===0){jQuery("#"+S.getStepContainer().getId()).parent().append(sap.ui.getCore().getRenderManager().getHTML(this.initialText))}else if(I.getSteps().length>0){jQuery(S.getStepContainer().getDomRef()).show()}if(S.getAnalysisPath().getController().isOpenPath){jQuery(".initialText").remove()}},getCurrentRepresentation:function(){var e=T.getSelectedRepresentation();if(A()){e=T.getSelectedRepresentation().toggleInstance}return e},handlePressSelectedPropertyCountLink:function(){var e=this;e.oCoreApi=I;var t=new sap.ui.jsfragment("idSelectionDisplayFragment","sap.apf.ui.reuse.fragment.selectionDisplay",e);t.open()},handleToggleDisplay:function(){var e=this;e.oCoreApi=I;var t=e.getCurrentRepresentation();var n=e.byId("idToggleDisplayButton");if(t.measures!==undefined){var a=t.getFormatStringForMeasure(t.measures[0]);if(t.type==="PieChart"){t.chart.setVizProperties({plotArea:{dataLabel:{visible:n.getPressed(),type:"percentage"}}})}else{t.chart.setVizProperties({plotArea:{dataLabel:{visible:n.getPressed(),formatString:a}}})}return t.chart.getVizProperties().plotArea.dataLabel.visible}var r=t.chartPlotArea.plotArea.dataLabel.visible;r=n.getPressed();return r},handlePressResetButton:function(){var e=this;if(A()){e.getCurrentRepresentation().removeAllSelection()}e.getCurrentRepresentation().removeAllSelection();U(e,false)},createToggleRepresentationInstance:function(e,n){var a={};function r(n){var a=n.dimensions;var r=e.getMetaData();n.isAlternateRepresentation=true;if(r===undefined){return n}var i,o;for(i=0;i<a.length;i++){var s=r.getPropertyMetadata(a[i].fieldName).hasOwnProperty("text");if(s&&a[i].labelDisplayOption===t.representationMetadata.labelDisplayOptions.KEY_AND_TEXT){o={};o.fieldName=r.getPropertyMetadata(a[i].fieldName).text;n.dimensions.splice(i+1,0,o)}else if(s&&a[i].labelDisplayOption===t.representationMetadata.labelDisplayOptions.TEXT){o={};o.fieldName=r.getPropertyMetadata(a[i].fieldName).text;n.dimensions.splice(i,1,o)}}return n}var i=jQuery.extend(true,{},e.getParameter());delete i.alternateRepresentationTypeId;delete i.alternateRepresentationType;i=r(i);if(n){i.orderby=n}a=I.createRepresentation(e.getParameter().alternateRepresentationType.constructor,i);var o=e.getData(),s=e.getMetaData();if(o!==undefined&&s!==undefined){a.setData(o,s)}return a},handlePressAlternateRepIcon:function(){var e=this;var t=T.getSelectedRepresentation();t.bIsAlternateView=true;if(A()){t.toggleInstance=e.createToggleRepresentationInstance(t)}b=true;e.getView().getViewData().uiApi.selectionChanged(true)},handlePressChartIcon:function(e){var t=this;var n=T.getSelectedRepresentation();var a=I.getSteps().indexOf(T);var r=null;if(T.getRepresentationInfo().length>1){r=e.getParameter("controlReference");z(t,r)}else{n.bIsAlternateView=false;b=true;t.getView().getViewData().uiApi.selectionChanged(true);n.createDataset();t.drawStepContent();S.getAnalysisPath().getController().updateCustomListView(T,a,false)}},handleSelectionChartSwitchIcon:function(e){this.byId("idAllChartPopover").close();var t=T.getSelectedRepresentation();var n=e.getParameter("listItem").getCustomData()[0].getValue();var a=T.getSelectedRepresentationInfo().representationId;var r=n.oRepresentationType.representationId;if(a===r&&t.bIsAlternateView===false){return}b=true;t.bIsAlternateView=false;T.setSelectedRepresentation(n.oRepresentationType.representationId);S.getAnalysisPath().getController().refresh(n.nActiveStepIndex);I.updatePath(S.getAnalysisPath().getController().callBackForUpdatePath.bind(S.getAnalysisPath().getController()));t.createDataset()},drawStepContent:function(e,t){m.logCall("StepContainer.drawStepContent"," bStepUpdated="+e);var n=this;var a=false;var r=T;T=I.getActiveStep();if(T===undefined){m.logReturn("drawStepContent",", the active step === undefined");return}if(r!==T){a=true}if(e||b||a){Q(n,T,t)}else{M(n)}b=false;n.initialText.destroy();n.byId("idStepLayout").setBusy(false);m.logReturn("drawStepContent",", bIsActiveStepChanged",a)}})},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/stepGallery.controller", ["sap/apf/ui/utils/helper","sap/apf/utils/trace"],function(e,t){"use strict";function i(e){var t=e.getMessage();while(e.getPrevious()){e=e.getPrevious();t=t+"\n"+e.getMessage()}return t}sap.ui.core.mvc.Controller.extend("sap.apf.ui.reuse.controller.stepGallery",{getGalleryElementsData:function(){var t=this;var i=[];var a=this.oCoreApi.getCategories();var s=this.oCoreApi.getTextNotHtmlEncoded("label");var o=this.oCoreApi.getTextNotHtmlEncoded("steps");var r=this.oCoreApi.getTextNotHtmlEncoded("category");var l;if(a.length===0){l=this.oCoreApi.createMessageObject({code:"6001",aParameters:["Categories"]});this.oCoreApi.putMessage(l)}var p;for(p=0;p<a.length;p++){var n={};var c=a[p];var g;if(!c.label){l=this.oCoreApi.createMessageObject({code:"6002",aParameters:[s,r+": "+g]});this.oCoreApi.putMessage(l)}else{g=this.oCoreApi.getTextNotHtmlEncoded(c.label);n.title=this.oCoreApi.getTextNotHtmlEncoded(c.label)}n.id=c.id;n.stepTemplates=[];c.stepTemplates.forEach(function(i){var a={};if(!i.title){l=t.oCoreApi.createMessageObject({code:"6003",aParameters:["Title"]});t.oCoreApi.putMessage(l)}else{a.title=t.oCoreApi.getTextNotHtmlEncoded(i.title)}a.id=i.id;a.representationtypes=i.getRepresentationInfo();a.representationtypes.forEach(function(i){i.title=t.oCoreApi.getTextNotHtmlEncoded(i.label);if(i.parameter&&i.parameter.orderby){new e(t.oCoreApi).getRepresentationSortInfo(i).done(function(e){var t=[];for(var a=0;a<e.length;a++){e[a].done(function(e){t.push(e)})}i.sortDescription=t})}});a.defaultRepresentationType=a.representationtypes[0];n.stepTemplates.push(a)});i.push(n)}var d=this.oCoreApi.getStepTemplates();if(d.length===0){l=this.oCoreApi.createMessageObject({code:"6002",aParameters:[o,r]});this.oCoreApi.putMessage(l)}var h={GalleryElements:i};return h},onInit:function(){if(sap.ui.Device.system.desktop){this.getView().addStyleClass("sapUiSizeCompact")}this.oCoreApi=this.getView().getViewData().oCoreApi;this.oUiApi=this.getView().getViewData().uiApi;var e=this.getGalleryElementsData().GalleryElements;var t=new sap.ui.model.json.JSONModel({GalleryElements:e});this.getView().setModel(t)},getStepDetails:function(e,t){var i=this.getGalleryElementsData().GalleryElements;var a=i[e].stepTemplates[t];return a},openHierarchicalSelectDialog:function(){if(this.oHierchicalSelectDialog){this.oHierchicalSelectDialog.destroy()}this.oHierchicalSelectDialog=new sap.ui.jsfragment("sap.apf.ui.reuse.fragment.stepGallery",this);this.oHierchicalSelectDialog.setModel(this.getView().getModel());if(sap.ui.Device.system.desktop){this.oHierchicalSelectDialog.addStyleClass("sapUiSizeCompact")}this.oHierchicalSelectDialog.open()},onStepPress:function(e,a){t.logCall("stepGallery.onStepPress -- adds an active step, id=",e," ************************************** ");var s=this;var o=s.oUiApi.getAnalysisPath().getController();this.oCoreApi.checkAddStep(e).done(function(r,l){t.log("onStepPress->continuation",", bCanStepBeAdded",r," oRepresentationType=",a);if(r){s.oHierchicalSelectDialog.close();s.oCoreApi.createStep(e,o.callBackForUpdatePathAndSetLastStepAsActive.bind(o),a);o.refresh(-1)}else{var p=i(l);var n={oController:s,sMessageText:p};var c=new sap.ui.jsfragment("sap.apf.ui.reuse.fragment.addStepCheckDialog",n);c.open();s.oUiApi.getLayoutView().setBusy(false)}});var r=this.oCoreApi.getSteps();var l=r.length>0?r[r.length-1].getSelectedRepresentation():{};t.logReturn("onStepPress",", step id=",e,", repr.apfId="+(l?l.apfId:"--"),", selectedRepr=",l?l:"error: no step existing")}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/toolbar.controller", ["sap/ui/core/mvc/Controller","sap/apf/ui/utils/print"],function(e,t){"use strict";return e.extend("sap.apf.ui.reuse.controller.toolbar",{resetAnalysisPath:function(){this.oUiApi.getAnalysisPath().getCarouselView().getController().removeAllThumbnails();this.oCoreApi.resetPath();this.oUiApi.getAnalysisPath().getController().isNewPath=true;this.oStartFilterHandler.resetAll();this.oUiApi.contextChanged(true);this.oUiApi.getAnalysisPath().getController().refreshAnalysisPath();this.oCoreApi.setDirtyState(false);this.oCoreApi.setPathName("");this.oUiApi.getLayoutView().getController().setPathTitle();this.oUiApi.getStepContainer().rerender()},onInit:function(){this.view=this.getView();if(sap.ui.Device.system.desktop){this.view.addStyleClass("sapUiSizeCompact")}this.oViewData=this.getView().getViewData();this.oCoreApi=this.oViewData.oCoreApi;this.oSerializationMediator=this.oViewData.oSerializationMediator;this.oUiApi=this.oViewData.uiApi;this.oStartFilterHandler=this.oViewData.oStartFilterHandler;this.bIsPathGalleryWithDelete=false;this.oPathGalleryDialog={}},addCompactStyleClassForDialog:function(e){if(sap.ui.Device.system.desktop){e.addStyleClass("sapUiSizeCompact")}},onSaveAndSaveAsPress:function(e){var t=this;if(t.oCoreApi.getSteps().length!==0){t.oUiApi.getLayoutView().setBusy(true);t.oCoreApi.readPaths(function(a,i,s){var o=a.paths;if(i!==undefined){t.getView().maxNumberOfSteps=i.getEntityTypeMetadata().maximumNumberOfSteps;t.getView().maxNumberOfPaths=i.getEntityTypeMetadata().maxOccurs}if(s===undefined&&typeof a==="object"){t.getSaveDialog(e,function(){},o)}else{var n=t.oCoreApi.createMessageObject({code:"6005",aParameters:[]});n.setPrevious(s);t.oCoreApi.putMessage(n)}t.oUiApi.getLayoutView().setBusy(false)})}else{var a=t.oCoreApi.createMessageObject({code:"6012",aParameters:[]});t.oCoreApi.putMessage(a)}},openPathGallery:function(e){var t={};var a=this;var i,s;a.oCoreApi.readPaths(function(o,n,l){if(l===undefined&&typeof o==="object"){var r=o.paths;for(i=0;i<r.length;i++){var p=r[i].StructuredAnalysisPath.steps.length;var g=r[i].LastChangeUTCDateTime;var u=/\d+/g;var h=parseInt(g.match(u)[0],10);var c=new Date(h).toString().split(" ");var d=c[1]+"-"+c[2]+"-"+c[3];r[i].title=r[i].AnalysisPathName;r[i].guid=r[i].AnalysisPath;r[i].StructuredAnalysisPath.noOfSteps=p;r[i].description=d+"  -   ("+a.oCoreApi.getTextNotHtmlEncoded("no-of-steps",[p])+")";r[i].summary=r[i].AnalysisPathName+"- ("+d+") - ("+a.oCoreApi.getTextNotHtmlEncoded("no-of-steps",[p])+")"}t={GalleryElements:r};if(e){a.openSavedPathGallery(t,a,"deleteAnalysisPath")}else{a.openSavedPathGallery(t,a,"pathGallery")}a.oUiApi.getLayoutView().setBusy(false)}else{s=a.oCoreApi.createMessageObject({code:"6005",aParameters:[]});s.setPrevious(l);a.oCoreApi.putMessage(s);a.oUiApi.getLayoutView().setBusy(false)}})},openSavedPathGallery:function(e,t,a){if(t.oPathGalleryDialog[a]===undefined||t.oPathGalleryDialog[a]&&t.oPathGalleryDialog[a].bIsDestroyed){t.oPathGalleryDialog[a]=new sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.apf.ui.reuse.view."+a,viewData:{oInject:t.oViewData}})}t.oPathGalleryDialog[a].getViewData().jsonData=e;var i=t.oPathGalleryDialog[a].getController().oDialog;if(!i||i&&!i.isOpen()){t.oPathGalleryDialog[a].getController().openPathGallery()}},doPrint:function(){var e=new sap.apf.ui.utils.Print(this.oViewData);e.doPrint()},getSaveDialog:function(e,t,a){var i=this;var s=this.oCoreApi.getTextNotHtmlEncoded("saveName");var o=this.oUiApi.getLayoutView().getController().oSavedPathName.getText();var n=new sap.ui.model.json.JSONModel;n.setData(a);if(o){if(this.oCoreApi.isDirty()){o=o.split("*")[1]}}this.oInput=new sap.m.Input({type:sap.m.InputType.Text,placeholder:s,showSuggestion:true,maxLength:100,suggestionItems:{path:"/",template:new sap.ui.core.Item({text:"{AnalysisPathName}",additionalText:"{AnalysisPath}"})}}).addStyleClass("textStyle");this.oInput.setModel(n);if(!e){this.oInput.destroySuggestionItems()}this.oInput.attachEvent("click",function(e){jQuery(e.currentTarget).attr("value","")});function l(e,t,a,s){i.oInput.setValueState(e);i.oInput.setShowValueStateMessage(t);i.saveDialog.getBeginButton().setEnabled(a);if(s){i.oInput.setValueStateText(s)}}this.oInput.attachLiveChange(function(e){var t=this.getValue();var a=new RegExp("[*]","g");if(t.trim()===""){l(sap.ui.core.ValueState.Error,true,false)}else{l(sap.ui.core.ValueState.None,false,true)}if(t.match(a)!==null){var s=i.oCoreApi.getTextNotHtmlEncoded("invalidPathName");l(sap.ui.core.ValueState.Error,true,false,s)}i.oInput.setValue(t)});if(o!==i.oCoreApi.getTextNotHtmlEncoded("unsaved")){this.oInput.setValue(o)}this.analysisPathName=i.oInput.getValue().trim();if(i.saveDialog===undefined||i.saveDialog&&i.saveDialog.bIsDestroyed){i.saveDialog=new sap.m.Dialog({type:sap.m.DialogType.Message,title:i.oCoreApi.getTextNotHtmlEncoded("save-analysis-path"),content:i.oInput,contentWidth:"110px",contentHeight:"110px",beginButton:new sap.m.Button({text:i.oCoreApi.getTextNotHtmlEncoded("ok"),enabled:false,press:function(){i.saveDialog.getBeginButton().setEnabled(false);i.saveDialog.getEndButton().setEnabled(false);var a=i.oInput.getValue().trim();i.saveAnalysisPath(a,t,e);i.saveDialog.close()}}),endButton:new sap.m.Button({text:i.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){i.saveDialog.close()}}),afterClose:function(){i.oUiApi.getLayoutView().setBusy(false);i.saveDialog.destroy()}}).addStyleClass("saveDialog");this.addCompactStyleClassForDialog(i.saveDialog);if(this.oInput.getValue()===o){i.saveDialog.getBeginButton().setEnabled(true)}}if(i.oCoreApi.getSteps().length>=1){if(!e&&o===i.oCoreApi.getTextNotHtmlEncoded("unsaved")){if(!i.saveDialog||i.saveDialog&&!i.saveDialog.isOpen()){i.saveDialog.open()}}else if(e){if(!i.saveDialog||i.saveDialog&&!i.saveDialog.isOpen()){i.saveDialog.open()}}else{i.saveAnalysisPath(o,t,e)}}},doOkOnNewAnalysisPath:function(){var e=this;this.isOpen=false;e.oCoreApi.readPaths(function(t,a,i){var s=true;var o=t.paths;if(a!==undefined){e.getView().maxNumberOfSteps=a.getEntityTypeMetadata().maximumNumberOfSteps;e.getView().maxNumberOfPaths=a.getEntityTypeMetadata().maxOccurs}if(i===undefined&&typeof t==="object"){e.getSaveDialog(s,function(){e.resetAnalysisPath()},o)}else{var n=e.oCoreApi.createMessageObject({code:"6005",aParameters:[]});n.setPrevious(i);e.oCoreApi.putMessage(n)}})},doOkOnOpenAnalysisPath:function(e){var t=this;this.isOpen=true;this.bIsPathGalleryWithDelete=e;t.oCoreApi.readPaths(function(e,a,i){var s=true;var o=e.paths;if(a!==undefined){t.getView().maxNumberOfSteps=a.getEntityTypeMetadata().maximumNumberOfSteps;t.getView().maxNumberOfPaths=a.getEntityTypeMetadata().maxOccurs}if(i===undefined&&typeof e==="object"){t.getSaveDialog(s,function(){return},o)}else{var n=t.oCoreApi.createMessageObject({code:"6005",aParameters:[]});n.setPrevious(i);t.oCoreApi.putMessage(n)}})},getNewAnalysisPathDialog:function(){var e=this;if(this.oCoreApi.isDirty()&&e.oCoreApi.getSteps().length!==0){e.newDialog=new sap.m.Dialog({type:sap.m.DialogType.Message,title:e.oCoreApi.getTextNotHtmlEncoded("newPath"),content:new sap.m.Text({text:e.oCoreApi.getTextNotHtmlEncoded("analysis-path-not-saved")}).addStyleClass("textStyle"),beginButton:new sap.m.Button({text:e.oCoreApi.getTextNotHtmlEncoded("yes"),type:"Emphasized",press:function(){e.doOkOnNewAnalysisPath();e.newDialog.close()}}),endButton:new sap.m.Button({text:e.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){e.resetAnalysisPath();e.newDialog.close()}}),afterClose:function(){e.oUiApi.getLayoutView().setBusy(false);e.newDialog.destroy()}});this.addCompactStyleClassForDialog(e.newDialog);e.newDialog.setInitialFocus(e.newDialog);e.newDialog.open()}else{this.resetAnalysisPath()}},getOpenDialog:function(e){var t=this;t.newOpenDialog=new sap.m.Dialog({type:sap.m.DialogType.Message,title:t.oCoreApi.getTextNotHtmlEncoded("newPath"),content:new sap.m.Text({text:t.oCoreApi.getTextNotHtmlEncoded("analysis-path-not-saved")}).addStyleClass("textStyle"),beginButton:new sap.m.Button({text:t.oCoreApi.getTextNotHtmlEncoded("yes"),type:"Emphasized",press:function(){t.doOkOnOpenAnalysisPath(t.bIsPathGalleryWithDelete);t.newOpenDialog.close()}}),endButton:new sap.m.Button({text:t.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){t.resetAnalysisPath();t.openPathGallery(t.bIsPathGalleryWithDelete);t.newOpenDialog.close()}}),afterClose:function(){t.oUiApi.getLayoutView().setBusy(false);t.newOpenDialog.destroy()}});this.addCompactStyleClassForDialog(t.newOpenDialog);t.newOpenDialog.setInitialFocus(t.newOpenDialog);t.newOpenDialog.open()},getConfirmDialog:function(e){var t=this;var a=e||{};var i={success:a.success||function(){return},fail:a.fail||function(){return},msg:a.msg||""};t.confirmDialog=new sap.m.Dialog({title:t.oCoreApi.getTextNotHtmlEncoded("caution"),type:sap.m.DialogType.Message,content:new sap.m.Text({text:i.msg}).addStyleClass("textStyle"),beginButton:new sap.m.Button({text:t.oCoreApi.getTextNotHtmlEncoded("yes"),type:"Emphasized",press:function(){t.overWriteAnalysisPath();t.confirmDialog.close()}}),endButton:new sap.m.Button({text:t.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){var e=true;var a=t.oInput.getModel().getData();t.getSaveDialog(e,function(){return},a);t.confirmDialog.close()}}),afterClose:function(){t.oUiApi.getLayoutView().setBusy(false);t.confirmDialog.destroy()}});this.addCompactStyleClassForDialog(t.confirmDialog);t.confirmDialog.open()},callbackforSave:function(e){e()},onOpenPathGallery:function(e){if(this.oCoreApi.isDirty()&&this.oCoreApi.getSteps().length!==0){this.getOpenDialog(e)}else{this.openPathGallery(e)}this.isOpen=false},saveAnalysisPath:function(e,t,a){var i=this;this.saveCallback=t;this.analysisPathName=e;this.aData=i.oInput.getModel().getData();var s=false;this.guid="";for(var o=0;o<this.aData.length;o++){var n=this.aData[o].AnalysisPathName;if(this.analysisPathName===n){s=true;this.guid=this.aData[o].AnalysisPath;break}}var l=s?this.aData.length:this.aData.length+1;var r=i.oCoreApi.getSteps().length;if(l>this.getView().maxNumberOfPaths){i.oCoreApi.putMessage(i.oCoreApi.createMessageObject({code:"6014"}));return false}else if(r>this.getView().maxNumberOfSteps){i.oCoreApi.putMessage(i.oCoreApi.createMessageObject({code:"6015"}));return false}if(!s){i.oSerializationMediator.savePath(i.analysisPathName,function(e,t,a){if(a===undefined&&typeof e==="object"){i.oCoreApi.setDirtyState(false);i.oUiApi.getLayoutView().getController().setPathTitle();i.getSuccessToast(i.analysisPathName,false);if(typeof i.saveCallback==="function"){i.saveCallback()}}else{var s=i.oCoreApi.createMessageObject({code:"6006",aParameters:[i.analysisPathName]});s.setPrevious(a);i.oCoreApi.putMessage(s)}})}else{var p;if(this.oCoreApi.isDirty()&&this.oCoreApi.getSteps().length!==0){p=i.oUiApi.getLayoutView().getController().oSavedPathName.getText().slice(1,i.oUiApi.getLayoutView().getController().oSavedPathName.getText().length)}else{p=i.oUiApi.getLayoutView().getController().oSavedPathName.getText()}if(!a&&p===i.analysisPathName){i.overWriteAnalysisPath()}else{this.getConfirmDialog({msg:i.oCoreApi.getTextNotHtmlEncoded("path-exists",["'"+i.analysisPathName+"'"])})}}},getSuccessToast:function(e,t){var a=this;var i=a.oCoreApi.createMessageObject({code:t?"6017":"6016",aParameters:[e]});a.oCoreApi.putMessage(i);if(a.isOpen&&a.bIsPathGalleryWithDelete){a.openPathGallery(a.bIsPathGalleryWithDelete)}else if(a.isOpen){a.openPathGallery()}},overWriteAnalysisPath:function(){var e=this;var t=this.analysisPathName;var a=this.guid;e.oSerializationMediator.savePath(a,t,function(a,i,s){if(s===undefined&&typeof a==="object"){e.oCoreApi.setDirtyState(false);e.oUiApi.getLayoutView().getController().setPathTitle();if(e.saveDialog&&e.saveDialog.isOpen()){e.saveDialog.close()}e.getSuccessToast(t,true);if(typeof e.saveCallback==="function"){e.saveCallback()}}else{var o=e.oCoreApi.createMessageObject({code:"6007",aParameters:[t]});o.setPrevious(s);e.oCoreApi.putMessage(o)}})},apfDestroy:function(){sap.apf.utils.checkAndCloseDialog(this.saveDialog);sap.apf.utils.checkAndCloseDialog(this.newOpenDialog);sap.apf.utils.checkAndCloseDialog(this.newDialog);sap.apf.utils.checkAndCloseDialog(this.confirmDialog);sap.apf.utils.checkAndCloseDialog(this.errorMsgDialog);sap.apf.utils.checkAndCloseDialog(this.noPathAddedDialog);if(this.deleteAnalysisPath!==undefined){sap.apf.utils.checkAndCloseDialog(this.deleteAnalysisPath.getController().oDialog)}if(this.pathGallery!==undefined){sap.apf.utils.checkAndCloseDialog(this.pathGallery.getController().oDialog)}}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/fragment/addStepCheckDialog.fragment", ["sap/ui/thirdparty/jquery","sap/base/security/encodeXML"],function(jQuery,e){"use strict";sap.ui.jsfragment("sap.apf.ui.reuse.fragment.addStepCheckDialog",{createContent:function(t){var o=t.oController;var n=new sap.m.Dialog(o.createId("idAddStepCheckDialog"),{title:o.oCoreApi.getTextNotHtmlEncoded("warning"),type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Warning,content:[new sap.m.Text({text:o.oCoreApi.getTextNotHtmlEncoded("addStepCheck")}),new sap.m.VBox({alignItems:sap.m.FlexAlignItems.End,items:[new sap.m.Link(o.createId("idShowDetailsLinkForAddStep"),{text:o.oCoreApi.getTextNotHtmlEncoded("showDetails"),press:function(){var n=new sap.m.Dialog(o.createId("idShowDetailsDialogForAddStep"),{contentWidth:jQuery(window).height()*.6+"px",contentHeight:jQuery(window).height()*.6+"px",title:o.oCoreApi.getTextNotHtmlEncoded("warning"),type:sap.m.DialogType.Message,state:sap.ui.core.ValueState.Warning,content:new sap.ui.core.HTML({content:["<div><p> "+e(t.sMessageText)+"</p></div>"].join(""),sanitizeContent:true}),beginButton:new sap.m.Button({text:o.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){n.close()}}),afterClose:function(){n.destroy()}});n.setInitialFocus(n);n.open()}})]})],beginButton:new sap.m.Button({text:o.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){n.close()}}),afterClose:function(){n.destroy()}});return n}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/analysisPath.view", ["sap/m/Popover","sap/m/PlacementType","sap/m/ObjectHeader","sap/ui/layout/VerticalLayout","sap/ui/core/mvc/ViewType"],function(t,e,i,a,o){"use strict";return sap.ui.jsview("sap.apf.ui.reuse.view.analysisPath",{getCarouselView:function(){return this.oCarousel},getToolbar:function(){return this.oActionListItem},getPathGallery:function(){return this.pathGallery},getPathGalleryWithDeleteMode:function(){return this.deleteAnalysisPath},getControllerName:function(){return"sap.apf.ui.reuse.controller.analysisPath"},createContent:function(i){var o=this;this.oController=i;this.oActionListPopover=new t({id:this.createId("idAnalysisPathMenuPopOver"),showHeader:false,placement:e.Bottom,contentWidth:"165px"});var s=this.getViewData();o.oCoreApi=s.oCoreApi;o.oUiApi=s.uiApi;this.oActionListItem=o.oUiApi.getToolbar().addStyleClass("toolbarView");this.oCarousel=o.oUiApi.createCarouselSingleton();this.oCarousel.getViewData().analysisPath=o;this.pathGallery=o.oUiApi.getPathGallery();this.deleteAnalysisPath=o.oUiApi.getDeleteAnalysisPath();this.oAnalysisPath=new a({content:[o.oContentTitle,o.oCarousel],width:"100%"});return this.oAnalysisPath}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/carousel.view", ["sap/apf/ui/utils/constants","sap/m/CustomListItem","sap/m/List","sap/m/ListType","sap/m/Button","sap/m/ScrollContainer"],function(t,e,o,s,n,i){"use strict";var r=sap.ui.jsview("sap.apf.ui.reuse.view.carousel",{onListItemPressed:function(t){this.getController().listItemPressed(t)},createCustomListItem:function(t){var o=new e({content:t,type:s.Active,press:this.onListItemPressed.bind(this)});o.addEventDelegate({onAfterRendering:function(){}},this);return o},addCustomListItem:function(t){this.oCustomItemList.addItem(t)},onDeleteCustomListItem:function(t){this.getController().deleteCustomListItem(t.getParameters().listItem.sId)},getCustomItemList:function(){return this.oCustomItemList.getItems()},removeCustomItem:function(t){return this.oCustomItemList.removeItem(t)},insertCustomItem:function(t,e){return this.oCustomItemList.insertItem(t,e)},getStepGallery:function(){return this.stepGalleryView},oldCarouselContent:function(t){},getAddStepButton:function(){return this.addStepButton},createCarouselContent:function(t){var e=this;this.addStepButton=new n({id:t.createId("idAddAnalysisStepButtonInFooter"),tooltip:e.oCoreApi.getTextNotHtmlEncoded("add-step"),icon:"sap-icon://add",press:function(e){t.showStepGallery()}});this.moveUpButton=new n({id:t.createId("idMoveStepUpButtonInFooter"),icon:"sap-icon://arrow-top",tooltip:e.oCoreApi.getTextNotHtmlEncoded("moveStepUp"),enabled:false,press:function(e){t.handleMove({down:false})}});this.moveDownButton=new n({id:t.createId("idMoveStepDownButtonInFooter"),icon:"sap-icon://arrow-bottom",tooltip:e.oCoreApi.getTextNotHtmlEncoded("moveStepDown"),enabled:false,press:function(e){t.handleMove({down:true})}});this.oCustomItemList=new o({id:"stepList",mode:"Delete",delete:function(t){e.onDeleteCustomListItem(t)}}).addStyleClass("sapMCarousel");this.oCarousel=this.oCustomItemList;this.stepGalleryView=e.oUiApi.getStepGallery();return this.oCarousel},getControllerName:function(){return"sap.apf.ui.reuse.controller.carousel"},createContent:function(t){var e=this.getViewData().oInject;this.oController=t;this.oCoreApi=e.oCoreApi;this.oUiApi=e.uiApi;return this.createCarouselContent(t)}});return r});
/*!
 * SAP APF Analysis Path Framework 
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/stepContainer.view", ["sap/suite/ui/commons/ChartContainer","sap/suite/ui/commons/ChartContainerToolbarPlaceholder","sap/m/OverflowToolbar","sap/ui/layout/VerticalLayout"],function(e,t,a,r){"use strict";return sap.ui.jsview("sap.apf.ui.reuse.view.stepContainer",{getControllerName:function(){return"sap.apf.ui.reuse.controller.stepContainer"},createContent:function(i){if(sap.ui.Device.system.desktop){i.getView().addStyleClass("sapUiSizeCompact")}var o=new e({id:i.createId("idChartContainer"),showFullScreen:true}).addStyleClass("chartContainer ChartArea");var n=new a({id:i.createId("idChartContainerToolbar")});n.addContent(new t);o.setToolbar(n);this.stepLayout=new r({id:i.createId("idStepLayout"),content:[o],width:"100%"});this.stepLayout.setBusy(true);return this.stepLayout}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/toolbar.view", ["sap/m/List","sap/m/ListType","sap/m/StandardListItem"],function(e,t,i){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.toolbar",{getControllerName:function(){return"sap.apf.ui.reuse.controller.toolbar"},createContent:function(s){this.maxNumberOfSteps=32;this.maxNumberOfPaths=255;var a=this;var n=this.getViewData();a.oCoreApi=n.oCoreApi;a.oUiApi=n.uiApi;var o=new i({id:this.createId("idAnalysisPathMenuNewAnalysisPath"),icon:"sap-icon://add-product",type:t.Active,title:a.oCoreApi.getTextNotHtmlEncoded("new"),press:function(){a.getParent().close();a.oUiApi.getLayoutView().setBusy(true);s.getNewAnalysisPathDialog();a.oUiApi.getLayoutView().setBusy(false)}});var r=new i({id:this.createId("idAnalysisPathMenuOpenAnalysisPath"),icon:"sap-icon://open-folder",type:t.Active,title:a.oCoreApi.getTextNotHtmlEncoded("open"),press:function(){s.bIsPathGalleryWithDelete=false;a.oUiApi.getLayoutView().setBusy(true);a.getParent().close();s.onOpenPathGallery(s.bIsPathGalleryWithDelete)}});var l=new i({id:this.createId("idAnalysisPathMenuSaveAnalysisPath"),icon:"sap-icon://save",type:t.Active,title:a.oCoreApi.getTextNotHtmlEncoded("save"),press:function(){a.getParent().close();s.onSaveAndSaveAsPress(false)}});var c=new i({id:this.createId("idAnalysisPathMenuSaveAnalysisPathAs"),icon:"sap-icon://save",type:t.Active,title:a.oCoreApi.getTextNotHtmlEncoded("savePathAs"),press:function(){a.getParent().close();s.onSaveAndSaveAsPress(true)}});var p=new i({id:this.createId("idAnalysisPathMenuDeleteAnalysisPath"),icon:"sap-icon://delete",type:t.Active,title:a.oCoreApi.getTextNotHtmlEncoded("delete"),press:function(){s.bIsPathGalleryWithDelete=true;a.getParent().close();a.oUiApi.getLayoutView().setBusy(true);s.openPathGallery(s.bIsPathGalleryWithDelete)}});var d=new i({id:this.createId("idAnalysisPathMenuPrintAnalysisPath"),icon:"sap-icon://print",type:t.Active,title:a.oCoreApi.getTextNotHtmlEncoded("print"),press:function(){a.getParent().close();s.doPrint()}});this.oActionListItem=new e({items:[o,r,l,c,p,d]});return this.oActionListItem}})});
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/utils/constants", function(){var T={step:{OPEN_OVERLAY_IMAGE_HEIGHT:15,DROP_MARKER_HEIGHT:1},representationTypes:{FORM_REPRESENTATION:"FormRepresentation",TABLE_REPRESENTATION:"TableRepresentation",COLUMN_CHART:"ColumnChart",LINE_CHART:"LineChart",PIE_CHART:"PieChart",DONUT_CHART:"DonutChart",GEO_MAP:"GeoMap",STACKED_COLUMN_CHART:"StackedColumnChart",SCATTERPLOT_CHART:"ScatterPlotChart",PERCENTAGE_STACKED_COLUMN_CHART:"PercentageStackedColumnChart",BUBBLE_CHART:"BubbleChart",BAR_CHART:"BarChart",STACKED_BAR_CHART:"StackedBarChart",PERCENTAGE_STACKED_BAR_CHART:"PercentageStackedBarChart",HEATMAP_CHART:"HeatmapChart",LINE_CHART_WITH_TWO_VERTICAL_AXES:"LineChartWithTwoVerticalAxes",LINE_CHART_WITH_TIME_AXIS:"LineChartWithTimeAxis",TREE_TABLE_REPRESENTATION:"TreeTableRepresentation",COMBINATION_CHART:"CombinationChart",STACKED_COMBINATION_CHART:"StackedCombinationChart",DUAL_COMBINATION_CHART:"DualCombinationChart",DUAL_STACKED_COMBINATION_CHART:"DualStackedCombinationChart"},vizChartTypes:{COLUMN:"Column",LINE:"Line",PIE:"Pie",STACKED_COLUMN:"StackedColumn",PERCENTAGE_STACKED_COLUMN:"StackedColumn100",SCATTERPLOT:"Scatter",BUBBLE:"Bubble"},vizFrameChartTypes:{COLUMN:"column",LINE:"line",PIE:"pie",DONUT:"donut",STACKED_COLUMN:"stacked_column",PERCENTAGE_STACKED_COLUMN:"100_stacked_column",SCATTERPLOT:"scatter",BUBBLE:"bubble",BAR:"bar",STACKED_BAR:"stacked_bar",PERCENTAGE_STACKED_BAR:"100_stacked_bar",HEATMAP:"heatmap",LINE_CHART_WITH_TWO_VERTICAL_AXES:"dual_line",LINE_CHART_WITH_TIME_AXIS:"timeseries_line",COMBINATION:"combination",STACKED_COMBINATION:"stacked_combination",DUAL_COMBINATION:"dual_combination",DUAL_STACKED_COMBINATION:"dual_stacked_combination"},axisTypes:{AXIS:"axis",GROUP:"group"},thumbnailDimensions:{HEIGHT:"75px",WIDTH:"180px",STEP_WIDTH:"202px",STEP_HEIGHT:"170px",STEP_MARGIN:"20px",SEPARATOR_HEIGHT:"25px",REMOVE_ICON_HEIGHT:"20px",TOTAL_STEP_HEIGHT:215},printChartDimensions:{WIDTH:"0.89",POTRAITWIDTH:"793.700787402",LANDSCAPEWIDTH:"1122.519685039"},analysisPathArea:{HEADERHEIGHT:140},chartArea:{CHARTHEADERHEIGHT:120},carousel:{SCROLLCONTAINER:275,DNDBOX:280},landingPage:"landingPage"};sap.apf.ui.utils.CONSTANTS=T;return T},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/dateTimeFormatter", ["sap/ui/core/format/DateFormat"],function(t){"use strict";var e=function(){this.oDisplayFormatterMap=r()};e.prototype.constructor=e;function r(){var t=new Map;t.set("Date",a);t.set(undefined,n);return t}function a(e){var r=t.getDateInstance({style:"short"});var a=r.format(e,true);return a}function n(t){return t}e.prototype.getFormattedValue=function(t,e){var r=t["sap:display-format"]!==undefined?t["sap:display-format"]:undefined;var a=new Date(e);if(a.toLocaleString()==="Invalid Date"){return"-"}var n=this.oDisplayFormatterMap.get(r)!==undefined?this.oDisplayFormatterMap.get(r).call(this,a):a;return n};return e},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/decimalFormatter", ["sap/ui/core/format/NumberFormat"],function(t){"use strict";var e=function(){this.aSupportedSemantics=["currency-code",undefined];this.oSemanticsFormatterMap=r()};e.prototype.constructor=e;function r(){var t=new Map;t.set("currency-code",n);t.set(undefined,a);return t}function n(e,r){var n=t.getCurrencyInstance();return n.format(r)}function a(e,r,n){var a=t.getFloatInstance({style:"standard",minFractionDigits:n});return a.format(r)}e.prototype.getFormattedValue=function(t,e,r){var n;if(this.aSupportedSemantics.indexOf(t["semantics"])!==-1){n=t["semantics"]}return this.oSemanticsFormatterMap.get(n).call(self,t,e,r)};return e},true);
sap.ui.predefine("sap/apf/ui/utils/determineColumnSettingsForSpreadSheetExport", ["sap/ui/export/Spreadsheet"],function(e){"use strict";var t=function(e,t){var p={};var a,i;if(t){a=t.getPropertyMetadata(e);var r=a.dataType.type;if(r==="Edm.Int32"){p.type=sap.ui.export.EdmType.Number;p.scale=0}else if(r==="Edm.Decimal"){p.type=sap.ui.export.EdmType.Number;p.precision=parseInt(a.precision,10);p.scale=parseInt(a.scale,10);if(a["sap:unit"]){i=t.getPropertyMetadata(a["sap:unit"]);if(i&&i["sap:semantics"]&&i["sap:semantics"]==="currency-code"){p.type=sap.ui.export.EdmType.Currency;p.unitProperty=i.name;p.displayUnit=true}}}else if(r==="Edm.DateTime"){if(a["sap:display-format"]&&a["sap:display-format"]==="Date"){p.type=sap.ui.export.EdmType.Date}else{p.type=sap.ui.export.EdmType.DateTime}}else if(r==="Edm.DateTimeOffset"){p.type=sap.ui.export.EdmType.DateTime}else if(r==="Edm.String"){p.type=sap.ui.export.EdmType.String;if(a.MaxLength){p.width=parseInt(a.MaxLength,10)}}else{p.type=sap.ui.export.EdmType.String}}return p};return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/facetFilterListConverter", [],function(){"use strict";sap.apf.ui.utils.FacetFilterListConverter=function(){"use strict";this.getFFListDataFromFilterValues=function(t,e,i){var n=[];t.forEach(function(t){var s={};s.key=t[e];s.text=t.formattedValue;s.selected=false;if(i){i.forEach(function(i){if(i instanceof Date&&t[e]instanceof Date){if(i.toISOString()===t[e].toISOString()){s.selected=true}}else if(i==t[e]){s.selected=true}})}n.push(s)});return n}}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/facetFilterListHandler", ["sap/m/FacetFilterList","sap/m/FacetFilterItem","sap/apf/ui/utils/facetFilterListConverter","sap/apf/ui/utils/facetFilterValueFormatter","sap/ui/thirdparty/jquery"],function(e,t,i,s,jQuery){"use strict";sap.apf.ui.utils.FacetFilterListHandler=function(e,t,i){"use strict";var s=[];var a;var r=new sap.apf.ui.utils.FacetFilterListConverter;function l(t){if(t===null||t.length===0){var s=e.createMessageObject({code:"6010",aParameters:[e.getTextNotHtmlEncoded(i.getLabel())]});e.putMessage(s);a.setActive(false)}}function n(i,l,n,o){var c=new sap.apf.ui.utils.FacetFilterValueFormatter(t,e);var u=c.getFormattedFFData(i,l,n);var d=r.getFFListDataFromFilterValues(u,l,s);var F=a.getModel();F.setSizeLimit(500);F.setData(d);var f=F.getData();if(o){f.forEach(function(e){if(e.selected==false){if(!sap.ui.Device.browser.msie){if(Object.values(a.getSelectedKeys()).indexOf(e.text)>-1){a.removeSelectedKey(e.key)}}else{if(Object.keys(a.getSelectedKeys()).indexOf(e.text)>-1){a.removeSelectedKey(e.key)}}}})}F.updateBindings()}this.createFacetFilterList=function(){var t=this;a=new sap.m.FacetFilterList({title:e.getTextNotHtmlEncoded(i.getLabel()),multiSelect:i.isMultiSelection(),key:i.getPropertyName(),growing:false,growingScrollToLoad:true,listClose:this.onListClose.bind(this),listOpen:this.onListOpen.bind(this)});a.bindItems("/",new sap.m.FacetFilterItem({key:"{key}",text:"{text}",selected:"{selected}"}));var r=new sap.ui.model.json.JSONModel([]);r.setDefaultBindingMode(sap.ui.model.BindingMode.OneWay);a.setModel(r);if(!i.hasValueHelpRequest()){this.getFacetFilterListData().done(l)}this.getSelectedFFValues().then(function(e){o(e)});return a;function o(e){e.oFilterRestrictionPropagationPromiseForSelectedValues.done(function(e,t){o({aSelectedFilterValues:e,oFilterRestrictionPropagationPromiseForSelectedValues:t})});if(e.aSelectedFilterValues.length>0||s.length>0){s=e.aSelectedFilterValues;t.getFacetFilterListData().done(function(e,t,i){n(e,t,i,true)})}}};this.getFacetFilterListData=function(){var e;var t=jQuery.Deferred();var s=i.getValues();s.then(function(s){e=i.getAliasNameIfExistsElsePropertyName()||i.getPropertyName();i.getMetadata().then(function(i){t.resolve(s,e,i)})});return t.promise()};this.getSelectedFFValues=function(){var e=jQuery.Deferred();var t=i.getSelectedValues();t.then(function(t,i){e.resolve({aSelectedFilterValues:t,oFilterRestrictionPropagationPromiseForSelectedValues:i})});return e.promise()};this.setSelectedFFValues=function(e){i.setSelectedValues(e)};this.onListClose=function(){var e=[],i,r,l,n;i=a.getSelectedItems();e=i.map(function(e){return e.getKey()});r=JSON.stringify(e.sort());l=JSON.stringify(s.sort());n=r!==l;if(n){s=e;this.setSelectedFFValues(e);t.selectionChanged(true)}};this.onListOpen=function(){a.setBusy(true);this.getFacetFilterListData().done(function(e,t,i){n(e,t,i,false);a.setBusy(false)})}}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/facetFilterValueFormatter", ["sap/apf/ui/utils/formatter"],function(t){"use strict";sap.apf.ui.utils.FacetFilterValueFormatter=function(t,e){"use strict";this.getFormattedFFData=function(a,i,n){var u,r;var o=new sap.apf.ui.utils.formatter({getEventCallback:t.getEventCallback.bind(t),getTextNotHtmlEncoded:e.getTextNotHtmlEncoded,getExits:t.getCustomFormatExit()},n,a);var f=n.text;a.forEach(function(t){u=o.getFormattedValue(i,t[i]);r=u;if(f!==undefined&&t[f]!==undefined){r=u+" - "+t[f]}t.formattedValue=r});return a}}});
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/utils/formatter", ["sap/apf/ui/utils/stringToDateFormatter","sap/apf/ui/utils/dateTimeFormatter","sap/apf/ui/utils/timeFormatter","sap/apf/ui/utils/decimalFormatter"],function(t,e,r,a){"use strict";var n=function(t,e,r){this.metadata=e;this.dataResponse=r;this.oFormatterArgs=t;this.oDataTypeFormatterMap=i()};n.prototype.constructor=n;function i(){var t=new Map;t.set("Edm.String",o);t.set("Edm.DateTime",u);t.set("Edm.Time",s);t.set("Edm.Decimal",d);return t}function o(e,r){var a=new t;return a.getFormattedValue(e,r,this.oFormatterArgs)}function u(t,r){var a=new e;return a.getFormattedValue(t,r)}function s(t,e){var a=new r;return a.getFormattedValue(t,e)}function d(t,e){var r=new a;var n=t.unit!==undefined?m(this,t.unit):t;var i=0;if(t!==undefined&&this.dataResponse!==undefined&&this.dataResponse[0]!==undefined){i=isNaN(t.scale)?this.dataResponse[0][t.scale]:t.scale}return r.getFormattedValue(n,e,i)}function m(t,e){if(t.metadata&&t.metadata.getPropertyMetadata){return t.metadata.getPropertyMetadata(e)}return t.metadata}n.prototype.getFormattedValue=function(t,e){if(e===null){return"null"}var r;var a=m(this,t);var n=a.dataType!==undefined?a.dataType.type:undefined;if(n===undefined){n=a.type}if(this.oDataTypeFormatterMap.has(n)){r=this.oDataTypeFormatterMap.get(n).call(this,a,e)}else{r=e}var i=jQuery.extend(true,{},a);r=p(i,t,e,r,this.oFormatterArgs);return r};n.prototype.getFormattedValueAsString=function(t,e){return this.getFormattedValue(t,e)+""};n.prototype.getFormatStringTooltip=function(t){return this.getFormatString(t)};n.prototype.getFormatString=function(t){var e=this;var r=sap.viz.ui5.format.ChartFormatter.getInstance();sap.viz.ui5.api.env.Format.numericFormatter(r);var a=t.fieldName;r.registerCustomFormatter("measureFormatter",function(t){var r="-";if(t!==null){r=e.getFormattedValue(a,t)}return r});var n="measureFormatter";return n};n.prototype.getFormattedValueForTextProperty=function(t,e){var r;if(e.key){r=e.text+" ("+e.key+")"}else{r=e.text}var a=jQuery.extend(true,{},m(this,t));r=p(a,t,e.text,r,this.oFormatterArgs);return r};function p(t,e,r,a,n){var i;var o=n.getExits!==undefined?n.getExits.customFormat:undefined;if(o===undefined){return a}i=n.getExits.customFormat.apply(n,[t,e,r,a]);a=i!==undefined?i:a;return a}return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/helper", [],function(){"use strict";var e=function(e){this.oCoreApi=e;this.getRepresentationSortInfo=function(e){var r=this;var t=jQuery.Deferred();var o=e.parameter.dimensions.concat(e.parameter.measures);var a=e.parameter.orderby;var i=a.map(function(e){var t;var a=jQuery.Deferred();o.forEach(function(o){if(e.property===o.fieldName&&o.fieldDesc&&r.oCoreApi.getTextNotHtmlEncoded(o.fieldDesc)){t=r.oCoreApi.getTextNotHtmlEncoded(o.fieldDesc);a.resolve(t)}});if(!t){r.oCoreApi.getMetadataFacade().getProperty(e.property).done(function(e){if(e.label||e.name){if(e.label){a.resolve(e.label)}else if(e.name){a.resolve(e.name)}else{a.resolve("")}}})}return a.promise()});t.resolve(i);return t.promise()}};sap.apf.ui.utils.Helper=e;return e},true);
/*
 * ! SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/print", ["sap/apf/ui/utils/printView","sap/apf/ui/utils/formatter","sap/viz/ui5/types/legend/Common","sap/base/util/isEmptyObject","sap/ui/thirdparty/jquery"],function(t,e,i,n,jQuery){"use strict";sap.apf.ui.utils.Print=function(t){"use strict";var e=t.oCoreApi;var i=t.uiApi;var a=null;var r=new sap.apf.ui.utils.PrintModel(t);var o=new sap.apf.ui.utils.PrintView(t,r);this.oPrintLayout={};function s(t){if(!n(t.oPrintLayout)){t.oPrintLayout.removeContent()}jQuery("#apfPrintArea").remove();jQuery("body").append('<div id="apfPrintArea"></div>');i.createApplicationLayout(false).then(function(t){t.setBusy(true)})}this.doPrint=function(t){t=t||0;e.getApplicationConfigProperties().done(function(i){r.setApplicationConfig(i);var n,u,p;var d=2e3,f=this;r.nStepRenderCount=0;a=e.getSteps();r.nNoOfSteps=a.length;this.oPrintLayout=new sap.ui.layout.VerticalLayout({id:"idAPFPrintLayout"});s(this);p=new sap.ui.layout.VerticalLayout({id:"idAPFPrintFirstPageLayout",content:[o.getHeaderForFirstPage(),o.getPrintLayoutForFacetFiltersAndFooters()]}).addStyleClass("filterLayout");this.oPrintLayout.addContent(p);for(n=0;n<a.length;n++){u=parseInt(n,10)+1;this.oPrintLayout.addContent(o.getPrintLayoutForEachStep(a[n],u,a.length))}this.oPrintLayout.placeAt("apfPrintArea");l(f.oPrintLayout,d,t)}.bind(this))};function l(t,e,n){new Promise(function(t){setTimeout(function(){t()},e)}).then(function(){d(t);if(n==1){p(n)}else{p()}u(t);return i.createApplicationLayout(false)}).then(function(t){t.setBusy(false)})}function u(t){var e,i;var n,r;for(var o=0;o<jQuery("#apfPrintArea").siblings().length;o++){jQuery("#apfPrintArea").siblings()[o].hidden=false}for(var s=0;s<a.length;s++){e=a[s].getSelectedRepresentation();e=e.bIsAlternateView?e.toggleInstance:e;if(e&&e.titleControl&&e.titleControl.oParent){n=e.titleControl.oParent.getItems();if(n&&n.length>1){for(var l=0;l<n.length;l++){if(n[l].getMetadata()._sClassName==="sap.m.HBox"){r=n[l];r.setVisible(true)}}}}if(e.type!==sap.apf.ui.utils.CONSTANTS.representationTypes.TREE_TABLE_REPRESENTATION&&e.type!==sap.apf.ui.utils.CONSTANTS.representationTypes.TABLE_REPRESENTATION){i=t.getContent()[s+1].getContent()[1].getContent()[0];i.destroy();i=null}}t.destroy();t=null;jQuery("div[id^=idAPFStepLayout]").remove();jQuery("#apfPrintArea").remove()}function p(t){t=t||0;var e=sap.ui.Device.system.tablet;var i=sap.ui.Device.os.ios;if(e===true&&i===true){var n=jQuery("html").clone();var a=jQuery(n).find("body");jQuery(a).children("div").each(function(t,e){if(jQuery(e).attr("id")==="apfPrintArea"){jQuery(e).show()}else{jQuery(e).remove()}});jQuery(jQuery(n).find("body")).html(jQuery(a.html()));var r="<html>"+jQuery(n).html()+"</html>";var o=window.open("","_blank","width=300,height=300");o.opener=null;o.document.write(r);o.print()}else{if(t==0){var s=window.open("","_blank","height=600,width=700");var l=document.getElementById("apfPrintArea").innerHTML;s.opener=null;s.document.write("<html><head><title>Analysis Path Framework</title>");s.document.write("</head><body >");s.document.write(l);s.document.write("</body></html>");s.document.close();s.print();s.close()}else{window.print()}}}function d(t){var e=t.getDomRef();jQuery("#apfPrintArea").empty();jQuery("#apfPrintArea").append(jQuery(e).html());for(var i=0;i<jQuery("#apfPrintArea").siblings().length;i++){jQuery("#apfPrintArea").siblings()[i].hidden=true}}}});
/* (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
/* (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/printModel", ["sap/apf/ui/utils/formatter","sap/viz/ui5/types/legend/Common"],function(t,e){"use strict";sap.apf.ui.utils.PrintModel=function(t){this.oUiApi=t.uiApi;this.oCoreApi=t.oCoreApi;this.oFilterIdHandler=t.oFilterIdHandler};sap.apf.ui.utils.PrintModel.prototype.constructor=sap.apf.ui.utils.PrintModel;function r(t,e,r,i,a,o){var n=new sap.apf.ui.utils.formatter({getEventCallback:t.oUiApi.getEventCallback.bind(t.oUiApi),getTextNotHtmlEncoded:t.oCoreApi.getTextNotHtmlEncoded,getExits:t.oUiApi.getCustomFormatExit()},e);var l=n.getFormattedValue(r,a);var s=n.getFormattedValue(r,o);var p=t.oCoreApi.getTextNotHtmlEncoded(i,[l,s]);return p}function i(t){var e=t.oUiApi.getSmartFilterForPrint();var i=[];if(e!==undefined&&e!==null){var a=e.getFilterData();var o=e.getAnalyticalParameters();if(o&&o.length>0){o.forEach(function(e){var o=a[e.fieldName];var n=e.fieldNameOData;t.oCoreApi.getMetadataFacade().getProperty(n).done(function(e){i.push({sFilterName:n,sFilterValue:r(t,e,n,"EQ",o)})})})}var n=e.getFilters();if(n.length>0){var l=sap.apf.core.utils.Filter.transformUI5FilterToInternal(t.oCoreApi.getMessageHandler(),n[0]);for(var s in a){var p="";var u=l.getFilterTermsForProperty(s);if(u.length>0){t.oCoreApi.getMetadataFacade().getProperty(s).done(function(e){for(var a=0;a<u.length;a++){p+=r(t,e,s,u[a]["operator"],u[a]["value"],u[a]["highValue"]);if(a!==u.length-1){p+=", "}}i.push({sFilterName:s,sFilterValue:p})})}}}}return i}function a(t){var e,r="",i;var a,n,l=[],s=[],p=[];a=t.oUiApi.getFacetFilterForPrint();if(a){n=a.getLists();for(e=0;e<n.length;e++){r=n[e].getTitle();p=n[e].getSelectedItems();if(p.length>0){s=o(p);if(r!==undefined&&r!==null){i="";for(var u=0;u<s.length;u++){if(u!==s.length-1){i+=s[u]+", "}else{i+=s[u]}}l.push({sFilterName:r,sFilterValue:i})}}else{l.push({sFilterName:r,sFilterValue:t.oCoreApi.getTextNotHtmlEncoded("noSelectionInFilter")})}}}return l}function o(t){var e=[];t.forEach(function(t){e.push(t.getText())});return e}function n(t){var e=t.oFilterIdHandler.getAllInternalIds();var r,i=[],a;if(e.length>0){for(a=0;a<e.length;a++){r=t.oFilterIdHandler.get(e[a]).getExpressions();i.push(r[0])}}return i}function l(t,e){var r=[],i,a,o="",n,l,s;var p=[];for(i=0;i<e.length;i++){for(a=0;a<e[i].length;a++){t.oCoreApi.getMetadataFacade().getProperty(e[i][a].name).done(function(e){s=e;o="";p=[];o=e.label;l=new sap.apf.ui.utils.formatter({getEventCallback:t.oUiApi.getEventCallback.bind(t.oUiApi),getTextNotHtmlEncoded:t.oCoreApi.getTextNotHtmlEncoded,getExits:t.oUiApi.getCustomFormatExit()},e)});p.push(l.getFormattedValue(s.name,e[i][a].value));if(o!==undefined&&o!==null){n="";for(var a=0;a<p.length;a++){if(a!==p.length-1){n+=p[a]+", "}else{n+=p[a]}}r.push({sFilterName:o,sFilterValue:n})}}}return r}function s(t){var e=t.oUiApi.getEventCallback(sap.apf.core.constants.eventTypes.printTriggered);var r=l(t,n(t));if(e!==undefined){var i={getTextNotHtmlEncoded:t.oCoreApi.getTextNotHtmlEncoded};r=e.apply(i,n(t))}return r}function p(t){var e,r,o;var n=a(t);r=i(t);e=s(t);o=e.concat(r,n);return o}sap.apf.ui.utils.PrintModel.prototype.getFiltersToPrint=function(){var t=this;var e=p(t);return e};sap.apf.ui.utils.PrintModel.prototype.getHeaderForFirstPage=function(){return this.oUiApi.getLayoutView().getController().oSavedPathName.getText()};sap.apf.ui.utils.PrintModel.prototype.getApplicationName=function(){var t;var e=this.applicationConfig.appName;if(!e){t=this.oCoreApi.createMessageObject({code:"6003",aParameters:["sAppName"]});this.oCoreApi.putMessage(t)}return e};sap.apf.ui.utils.PrintModel.prototype.setApplicationConfig=function(t){this.applicationConfig=t};sap.apf.ui.utils.PrintModel.prototype.getRepresentationForPrint=function(t){var e;var r;var i;var a;var o=this.oCoreApi.getTextNotHtmlEncoded(t.title);var n=t.getSelectedRepresentation();var l=n.bIsAlternateView?n.toggleInstance:n;if(l&&l.titleControl&&l.titleControl.oParent){i=l.titleControl.oParent.getItems();if(i&&i.length>1){for(r=0;r<i.length;r++){if(i[r].getMetadata()._sClassName==="sap.m.HBox"){a=i[r];a.setVisible(false)}}}}e=l.getPrintContent(o);return e.oRepresentation}});
sap.ui.predefine("sap/apf/ui/utils/printView", ["sap/apf/ui/utils/printModel","sap/base/security/encodeXML"],function(t,e){"use strict";sap.apf.ui.utils.PrintView=function(t,e){this.oUiApi=t.uiApi;this.oCoreApi=t.oCoreApi;this.printModel=e};sap.apf.ui.utils.PrintView.prototype.constructor=sap.apf.ui.utils.PrintView;sap.apf.ui.utils.PrintView.prototype.getHeaderForFirstPage=function(){var t=new Date;var e=this.printModel.getApplicationName();e=this.oCoreApi.getTextNotHtmlEncoded(e);var i=this.printModel.getHeaderForFirstPage();var a,r,n;a=new sap.m.Text({text:e+":"}).addStyleClass("printHeaderTitle");r=new sap.m.Text({text:i}).addStyleClass("printHeaderTitle");n=new sap.m.Text({text:t.toTimeString()}).addStyleClass("printHeaderDate");var o=new sap.ui.layout.HorizontalLayout({id:"idAPFheaderLayout",content:[a,r,n],sanitizeContent:true}).addStyleClass("subHeaderPrintWrapper");return o};sap.apf.ui.utils.PrintView.prototype.getPrintLayoutForFacetFiltersAndFooters=function(){var t=[];var e="",i="";var a=new sap.ui.layout.VerticalLayout({id:"idAPFFacetAndFooterLayout"});t=this.printModel.getFiltersToPrint();for(var r=0;r<t.length;r++){e=new sap.m.Text({text:t[r].sFilterName}).addStyleClass("printFilterName");i=new sap.m.Text({text:t[r].sFilterValue}).addStyleClass("printFilterValue");a.addContent(e);a.addContent(i)}return a};sap.apf.ui.utils.PrintView.prototype.getPrintLayoutForEachStep=function(t,e,a){var r=new sap.ui.layout.VerticalLayout({id:"idAPFChartLayout"+e});r.addContent(this.printModel.getRepresentationForPrint(t));var n=new sap.ui.layout.VerticalLayout({id:"idAPFStepLayout"+e,content:[i(e,a,this),r]}).addStyleClass("representationContent");return n};function i(t,i,a){var r=new Date;var n=a.printModel.getApplicationName();var o=a.printModel.getHeaderForFirstPage();var p=new sap.ui.core.HTML({id:"idAPFHeaderForEachStep"+t,content:['<div class="subHeaderPrintWrapper"><p class="printHeaderTitle"> '+a.oCoreApi.getTextHtmlEncoded(n)+" : "+e(o)+"</p>",'<p class="printHeaderDate"> '+r.toTimeString()+' </p></div><div class="clear"></div>','<br><div class="printChipName"><p>'+a.oCoreApi.getTextHtmlEncoded("print-step-number",[t,i])+"</p></div>"].join(""),sanitizeContent:true});return p}});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/representationTypesHandler", ["sap/apf/modeler/ui/utils/labelForRepresentationTypes","sap/apf/modeler/ui/utils/constants","sap/apf/core/representationTypes"],function(e,t,r){"use strict";var n=function(){this.aRepresentationTypes=jQuery.extend(true,[],r())};function i(e,t,r){var n=[],i,a;i=e.indexOfRepresentationType(t);if(i===-1){return n}a=e.aRepresentationTypes[i].metadata.dimensions.supportedKinds;a.forEach(function(e){if(e.defaultCount===r){n.push(e.kind)}});return n}function a(e){if(e==="TableRepresentation"){return true}return false}function p(e){if(e==="TreeTableRepresentation"){return true}return false}n.prototype.getLabelsForChartType=function(t,r,n){var i=new e(t);return i.getLabelsForChartType(r,n)};n.prototype.indexOfRepresentationType=function(e){var t;for(t=0;t<this.aRepresentationTypes.length;t++){if(this.aRepresentationTypes[t].id===e){return t}}return-1};n.prototype.getConstructorOfRepresentationType=function(e){var t=this.indexOfRepresentationType(e);if(t===-1){return null}return this.aRepresentationTypes[t].constructor};n.prototype.getPictureOfRepresentationType=function(e){var t=this.indexOfRepresentationType(e);if(t===-1){return null}return this.aRepresentationTypes[t].picture};n.prototype.getKindsForDimensionPropertyType=function(e){return i(this,e,1)};n.prototype.getKindsForLegendPropertyType=function(e){return i(this,e,0)};n.prototype.getKindsForMeasurePropertyType=function(e){var t,r=[];t=this.indexOfRepresentationType(e);if(t===-1){return r}r=this.aRepresentationTypes[t].metadata.measures.supportedKinds.map(function(e){return e.kind});return r};n.prototype.getKindsForPropertyType=function(e){var t,r=[];t=this.indexOfRepresentationType(e);if(t===-1){return r}if(this.aRepresentationTypes[t].metadata.properties){r=this.aRepresentationTypes[t].metadata.properties.supportedKinds.map(function(e){return e.kind})}return r};n.prototype.getKindsForHierarchicalPropertyType=function(e){var t,r=[];t=this.indexOfRepresentationType(e);if(t===-1){return r}if(this.aRepresentationTypes[t].metadata.hierarchicalColumn){r=this.aRepresentationTypes[t].metadata.hierarchicalColumn.supportedKinds.map(function(e){return e.kind})}return r};n.prototype.isChartTypeSimilar=function(e,r){var n=t.similarChartTypes;return n.indexOf(e)!==-1&&n.indexOf(r)!==-1};n.prototype.isAdditionToBeEnabled=function(e,r,n){var i=false;var o=t.propertyTypes;var s=this.indexOfRepresentationType(e);if(s===-1){return i}if(r===o.PROPERTY){if(a(e)||p(e)){i=true}return i}if(r===o.LEGEND){r=o.DIMENSION}this.aRepresentationTypes[s].metadata[r].supportedKinds.forEach(function(e){if(n===e.kind&&e.max==="*"){i=true}});return i};n.prototype.isCombinationChart=function(e){var t=this.indexOfRepresentationType(e);if(t===-1){return false}if(this.aRepresentationTypes[t].isCombinationChart){return true}return false};n.prototype.getDefaultCountForRepresentationKind=function(e,t){var r=this.indexOfRepresentationType(e);if(r===-1){return 0}var n=this.aRepresentationTypes[r].metadata;for(var i in n){for(var a=0;a<n[i].supportedKinds.length;a++){var p=n[i].supportedKinds[a];if(p.kind===t){return p.defaultCount}}}return 0};return n});
sap.ui.predefine("sap/apf/ui/utils/stringToDateFormatter", ["sap/apf/utils/utils","sap/ui/core/format/DateFormat"],function(t,e){"use strict";var r=function(){this.oSemanticsFormatterMap=n();this.oAnnotationFormatterMap=a()};r.prototype.constructor=r;function a(){var t=new Map;t.set("isCalendarYearMonth",m);t.set("isCalendarDate",u);t.set("isCalendarYearQuarter",d);t.set("isCalendarYearWeek",c);return t}function n(){var t=new Map;t.set("yearmonth",s);t.set("yearmonthday",i);t.set(undefined,o);return t}function o(t,e){return e}function s(t,e,r){var a=r.getTextNotHtmlEncoded("month-1-shortName");var n=r.getTextNotHtmlEncoded("month-2-shortName");var o=r.getTextNotHtmlEncoded("month-3-shortName");var s=r.getTextNotHtmlEncoded("month-4-shortName");var i=r.getTextNotHtmlEncoded("month-5-shortName");var m=r.getTextNotHtmlEncoded("month-6-shortName");var u=r.getTextNotHtmlEncoded("month-7-shortName");var d=r.getTextNotHtmlEncoded("month-8-shortName");var c=r.getTextNotHtmlEncoded("month-9-shortName");var v=r.getTextNotHtmlEncoded("month-10-shortName");var l=r.getTextNotHtmlEncoded("month-11-shortName");var h=r.getTextNotHtmlEncoded("month-12-shortName");var f=[a,n,o,s,i,m,u,d,c,v,l,h];var N=e.substr(0,4);var g=f[e.substr(4,6)-1];return g+" "+N}function i(r,a){var n="-";var o;if(a.length===8){o=t.convertFiscalYearMonthDayToDate(a)}else{o=new Date(Date.parse(a))}if(!isNaN(o.getTime())){var s=e.getDateInstance({style:"short"});n=s.format(o,true)}return n}function m(t,e,r){if(t.isCalendarYearMonth===undefined){return""}var a=s(this,e,r);return a}function u(t,e){if(t.isCalendarDate===undefined){return""}var r=i(this,e);return r}function d(t,e){if(t.isCalendarYearQuarter===undefined){return""}var r=e.substr(0,4);var a=e.substr(4,1);var n=new Date(r);var o=n.getFullYear();var s;s="Q"+a;var i=s+" "+o;return i}function c(t,e){if(t.isCalendarYearWeek===undefined){return""}var r=e.substr(0,4);var a=e.substr(4,2);var n=new Date(r);var o=n.getFullYear();var s;s="CW"+a;var i=s+" "+o;return i}r.prototype.getFormattedValue=function(t,e,r){var a="";var n=t["sap:semantics"]!==undefined&&t["sap:semantics"].String!==undefined?t["sap:semantics"].String:t["sap:semantics"];if(e!==null){var o=this;o.oAnnotationFormatterMap.forEach(function(n,s){if(a===""){a=o.oAnnotationFormatterMap.get(s).call(o,t,e,r)}});if(a===""){a=o.oSemanticsFormatterMap.get(n)!==undefined?o.oSemanticsFormatterMap.get(n).call(o,t,e,r):e}}else{a=e}return a};return r},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/utils/timeFormatter", ["sap/ui/model/odata/type/Time"],function(e){"use strict";var t=function(){};t.prototype.constructor=t;t.prototype.getFormattedValue=function(t,r){var n=r;if(r.__edmType!=undefined&&r.__edmType==="Edm.Time"){var o=new e;n=o.formatValue(r,"string")}return n};return t},true);
/*/
 * Created on 19.04.2019.
 * Copyright(c) 2019 SAP SE
 */
sap.ui.predefine("sap/apf/ui/utils/wrappedChartWithCornerTexts", ["sap/m/VBox","sap/m/FlexBox","sap/m/Text","sap/m/FlexAlignItems","sap/m/FlexJustifyContent","sap/apf/ui/utils/constants","sap/apf/utils/trace"],function(e,t,i,a,s,l,n){"use strict";var o="120px";var r="200px";var u="80px";var p="100px";var u="150px";var c="carouselActiveBorderedChartWithCornerTexts";var h="carouselBorderedChartWithCornerTexts";var d=0;function g(e){return e.type===l.representationTypes.TREE_TABLE_REPRESENTATION}function f(e){return e.type===l.representationTypes.TABLE_REPRESENTATION||e.type===l.representationTypes.TREE_TABLE_REPRESENTATION||e.bIsAlternateView===true}function m(e){n.logCall("getClonedChart");var t=e.getSelectedRepresentation();var i=t.chart;var a;var s;if(V.isIconDisplayed(t)){n.logReturn("getClonedChart"," return createIconThumbnail()");return V.createIconThumbnail(t)}if(!i){i=t.getChartForCustomListItem();n.log("getClonedChart",",  switches to substitute for main chart ",", cloning:",t.chart4CustomItemList?t.chart4CustomItemList.sId:"undefined");s=t.chart4CustomItemList.clone(1e3+d++)}else{n.log("getClonedChart"," takes oRepr.chart",", cloning:",i.sId);s=i.clone(d++);if(t.fnHandleSelection){s.detachSelectData(t.fnHandleSelection);s.detachDeselectData(t.fnHandleDeselection)}}if(i.getVizProperties){a=i.getVizProperties()}if(s.getVizProperties){s.setVizProperties(a);V.setAllLabelsInvisible(s);V.setAllAxisInvisible(s)}else{n.emphasize("getClonedChart"," cannot set setVizProperties since method is missing")}n.logReturn("getClonedChart"," cloned ID="+(s?s.sId:"-"));return s}function T(e){var t="sap-icon://table-chart";if(V.isTreeTable(e)){t="sap-icon://tree"}var i=new sap.ui.core.Icon({src:t,size:"400%"}).addStyleClass("carouselTableIconOldStyle");return i}function y(e){var t=e.getVizProperties();t.title={visible:false};t.categoryAxis={visible:false};t.valueAxis={visible:false};t.categoryAxis2={visible:false};t.valueAxis2={visible:false}}function x(e){var t=e.getVizProperties();if(t){Object.keys(t).forEach(function(e){if(t[e].label){t[e].label.visible=false}})}t.legend={visible:false,title:{visible:false}};t.timeAxis={visible:false,title:{visible:false}};t.plotArea={window:{start:"firstDataPoint",end:"lastDataPoint"}};t.interaction={noninteractiveMode:true,selectability:false};if(t.toolTip){t.toolTip.visible=false}if(!t.general||!t.general.layout){t.general={layout:{}}}t.general.layout.paddingLeft=this.paddingLeft;t.general.layout.paddingRight=this.paddingRight;t.general.layout.paddingBottom=this.paddingBottom;t.general.layout.paddingTop=this.paddingTop;e.setVizProperties(t)}function C(e,t){var i=t.longTitle&&!e.isInitialTextKey(t.longTitle.key)?t.longTitle:t.title;return e.getTextNotHtmlEncoded(i)}function v(e,l){e.oTopLayout=new t({items:[new i({text:l.leftUpper,tooltip:l.leftUpper,wrapping:true,maxLines:2,textAlign:sap.ui.core.TextAlign.Left}).addStyleClass("thumbanilText"),new i({text:l.rightUpper,tooltip:l.rightUpper,wrapping:true,maxLines:2,textAlign:sap.ui.core.TextAlign.Right}).addStyleClass("thumbanilText")],alignItems:a.Start,justifyContent:s.SpaceBetween}).addStyleClass("topLayout")}function b(e,l){e.oBottomLayout=new t({items:[new i({text:l.leftLower,tooltip:l.leftLower,wrapping:true,maxLines:2,textAlign:sap.ui.core.TextAlign.Left}).addStyleClass("thumbanilText"),new i({text:l.rightLower,tooltip:l.rightLower,wrapping:true,maxLines:2,textAlign:sap.ui.core.TextAlign.Right}).addStyleClass("thumbanilText")],alignItems:a.Start,justifyContent:s.SpaceBetween}).addStyleClass("bottomLayout")}function L(t,i){t.oThumbnailChartLayout=new e({items:[i],alignItems:sap.ui.core.TextAlign.Center}).addStyleClass("carouselChartVerticalBox")}function A(e,t){e.oStepTitle=new i({text:"\n"+t,wrapping:true,maxLines:2}).addStyleClass("carouselThumbnailTitle")}function S(t,i,a){t.oThumbnailVLayout=new e({items:[t.oTopLayout,t.oThumbnailChartLayout,t.oBottomLayout]}).addStyleClass(h);if(a){t.setHighlighted()}}function I(t){return new e({items:[t.oStepTitle,t.oThumbnailVLayout]}).addStyleClass("carouselItemVerticalLayout")}function w(e,t){if(e){if(t){e.setHeight(p);e.setWidth(u)}else{e.setHeight(o);e.setWidth(r)}}}function E(e,t,i,a){a=a||{};var s;var l={},n=false,o="initial";var r=a.mode==="preview";if(!r){l=e.getStepData(t).oStepTexts;o=C(e.oCoreApi,t);n=e.oCoreApi.stepIsActive(t)}else{l=a.oCornerTexts;o=a.titleText}var u=true;this.setHighlighted=function(){u=true;this.oThumbnailVLayout.removeStyleClass(h);this.oThumbnailVLayout.addStyleClass(c)};this.setNonHighlighted=function(){u=false;this.oThumbnailVLayout.removeStyleClass(c);this.oThumbnailVLayout.addStyleClass(h)};this.isHighlighted=function(){return u};this.getContent=function(){return s};w(i,r);v(this,l);b(this,l);L(this,i);A(this,o);S(this,t,n);s=I(this)}var V={constructor:E,itemChartHeightWithTexts:o,itemChartWidthWithTexts:r,activeBoxStyleName:c,inactiveBoxStyleName:h,createIconThumbnail:T,setAllAxisInvisible:y,setAllLabelsInvisible:x,getClonedChart:m,isIconDisplayed:f,isTreeTable:g};return V});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/executeFilterMapping", ["sap/apf/core/utils/filter","sap/apf/core/constants"],function(e,n){"use strict";var t=function(t,a,r,s,f){a.sendGetInBatch(t,i);function i(t){var a;if(t&&t.type&&t.type==="messageObject"){f.putMessage(t);s(undefined,t)}else{a=new e(f);t.data.forEach(function(t){var s=new e(f);r.forEach(function(a){s.addAnd(new e(f,a,n.FilterOperators.EQ,t[a]))});a.addOr(s)});s(a,undefined,t.data)}}};return t},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2015 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/externalContext", ["sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/apf/core/constants"],function(e,t,r){var a=function(a){"use strict";var n=jQuery.Deferred();var s=a.instances.startParameter.getEvaluationId();var i=a.instances.startParameter.getXappStateId();var o=a.instances.messageHandler;var c=this;var u=a.functions.ajax;this.getCombinedContext=function(){if(i){l()}else if(s){f()}else{n.resolve(new e(o))}return n.promise();function t(t){if(t.levelOperator===r.BooleFilterOperators.OR){return new e(o,t)}return t}function l(){sap.ushell.Container.getService("CrossApplicationNavigation").getAppState(a.instances.component,i).done(function(r){var a=r.getData();if(a&&a.sapApfCumulativeFilter){n.resolve(t(e.transformUI5FilterToInternal(o,a.sapApfCumulativeFilter)))}else if(a&&a.selectionVariant){n.resolve(t(c.convertSelectionVariantToFilter(a.selectionVariant)))}else{n.resolve(new e(o))}}).fail(function(){var e=o.createMessageObject({code:5045,aParameters:[i]});o.putMessage(e)})}function f(){a.functions.getConfigurationProperties().done(function(r){var a=r&&r.smartBusiness&&r.smartBusiness.runtime;if(a&&a.service){var i=a.service+"/EVALUATIONS('"+s+"')/FILTERS?$format=json";u({url:i,success:function(r){var a;var s;var i=new e(o);var c=[];var u={};r.d.results.forEach(l);for(a in u){if(u.hasOwnProperty(a)){s=new e(o);u[a].forEach(f);c.push(s)}}c.forEach(p);n.resolve(t(i));function l(t){if(!u[t.NAME]){u[t.NAME]=[]}u[t.NAME].push(new e(o,t.NAME,t.OPERATOR,t.VALUE_1,t.VALUE_2))}function f(e){s.addOr(e)}function p(e){i.addAnd(e)}},error:function(e,t,r,a){var n=o.createMessageObject({code:5043,aParameters:[s,t]});if(a){n.setPrevious(a)}o.putMessage(n)}})}else{var c=o.createMessageObject({code:5044,aParameters:[s]});o.putMessage(c)}})}};this.convertParameterObject=function(e){var a;if(!e.PropertyName||e.PropertyValue===undefined||e.PropertyValue===null){if(!e.PropertyName){a=o.createMessageObject({code:5046,aParameters:[i]})}else{a=o.createMessageObject({code:5047,aParameters:[i,e.PropertyName]})}o.putMessage(a)}return new t(o,e.PropertyName,r.FilterOperators.EQ,e.PropertyValue)};this.convertSelectOption=function(t){var r=this;var a=null;var n;var s;if(!t.PropertyName||!t.Ranges||!jQuery.isArray(t.Ranges)){if(!t.PropertyName){s=o.createMessageObject({code:5048,aParameters:[i]})}else{s=o.createMessageObject({code:5049,aParameters:[i,t.PropertyName]})}o.putMessage(s)}a=new e(o);for(n=0;n<t.Ranges.length;n++){var c=r.convertRange(t.Ranges[n],t.PropertyName);a.addOr(c)}return a};this.convertRange=function(e,r){var a,n,s,c;if(e.Sign!="I"){a=o.createMessageObject({code:5050,aParameters:[i,r]});o.putMessage(a)}if(e.Option==="BT"&&(e.High===undefined||e.High===null)){a=o.createMessageObject({code:5051,aParameters:[i,r]});o.putMessage(a)}if(e.Option==="CP"){c=e.Low.split("*");if(c.length>3||c.length===3&&(c[0].length!==0||c[2].length!==0)||c.length===1){a=o.createMessageObject({code:5069,aParameters:[i,r]});o.putMessage(a)}if(e.Low.indexOf("*")===0&&e.Low.lastIndexOf("*")===e.Low.length-1){n=e.Low.substr(1,e.Low.lastIndexOf("*")-1);s="Contains"}else if(e.Low.indexOf("*")===0){n=e.Low.substr(1,e.Low.length-1);s="EndsWith"}else if(e.Low.lastIndexOf("*")===e.Low.length-1){n=e.Low.substring(0,e.Low.indexOf("*"));s="StartsWith"}return new t(o,r,s,n,e.High)}return new t(o,r,e.Option,e.Low,e.High)};this.convertSelectionVariantToFilter=function(t){var r=this;var a=new e(o);var n;if(!t){return a}if(t.Parameters&&!jQuery.isArray(t.Parameters)){return a}if(t.SelectOptions&&!jQuery.isArray(t.SelectOptions)){return a}if(t.Parameters){for(n=0;n<t.Parameters.length;n++){var s=r.convertParameterObject(t.Parameters[n]);a.addAnd(s)}}if(t.SelectOptions){for(n=0;n<t.SelectOptions.length;n++){var i=r.convertSelectOption(t.SelectOptions[n]);a.addAnd(i)}}return a}};sap.apf.utils.ExternalContext=a;return a},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/filter", ["sap/apf/core/utils/filter","sap/apf/core/constants","sap/base/Log"],function(e,t,r){"use strict";var n=function(e){var t;var s=this;var a=function(){t=new i(e,n.topAndId)};this.getById=function(e){if(t){if(e===n.topAndId){return t}return t.getById(e)}return undefined};this.type="filter";this.getExpressions=function(){if(t){return t.getExpressions()}return[]};this.getInternalFilter=function(){return t.getInternalFilter()};this.getTopAnd=function(){return t};this.updateExpression=function(t,r){e.check(t===r.id,"sId differs from oExpression.id");var n=this.getById(t);n.update(r)};this.updateValue=function(t,r,n){e.check(t!==undefined,"Filter updateValue: parameter id required");e.check(r!==undefined,"Filter updateValue: parameter value is required");var i=this.getById(t);e.check(i!==undefined,"Filter updateValue: id for expression not valid");i.updateValue(r,n)};this.serialize=function(){function e(t,r){var n={id:r.getId(),type:r.type,expressions:[],terms:[]};t.forEach(function(t,i){if(t instanceof Array){if(r.type==="filterAnd"){n.terms.push(e(t,r.getAndTerms()[i]))}else if(r.type==="filterOr"){n.terms.push(e(t,r.getOrTerms()[i]))}}else{n.expressions.push(t)}});return n}return e(this.getTopAnd().getExpression(),this.getTopAnd())};this.deserialize=function(e){t=undefined;a();function r(e,t){if(e.type==="filterAnd"&&e.id!==n.topAndId){t=t.addAnd(e.id)}else if(e.type==="filterOr"&&e.id!==n.topAndId){t=t.addOr(e.id)}e.expressions.forEach(function(e){t.addExpression(e)});e.terms.forEach(function(e){r(e,t)})}r(e,this.getTopAnd());return this};this.addAnd=function(e){r.error("Method 'addAnd' is deprecated since 1.23.0","Will be discarded with 1.26.0.")};this.intersectWith=function(t){var r=0;var i=[];var a;var o=new n(e);var d=s.serialize();u(d);switch(arguments.length){case 1:a=arguments[0];if(a instanceof Array){i=a}else{i.push(a)}break;default:i=Array.prototype.slice.call(arguments,0)}i.forEach(function(t){e.check(t instanceof n,"Parameter value is not of type sap.apf.utils.Filter");var r=t.serialize();u(r);Array.prototype.push.apply(d.expressions,r.expressions);Array.prototype.push.apply(d.terms,r.terms)});o.deserialize(d);return o;function u(e){if(e.id!==n.topAndId){e.id="#"+r+++"#"}e.terms.forEach(u)}};a();return this};n.createFilterFromSapUi5FilterJSON=function(e,t){var r=new n(e);function i(e,t,r){var n;t++;if(r.aFilters){if(r.bAnd){if(t!==1){n=e.addAnd()}else{n=e}}else{n=e.addOr()}r.aFilters.forEach(function(e){i(n,t,e)})}else if(r.sOperator){e.addExpression({name:r.sPath,operator:r.sOperator,value:r.oValue1,high:r.oValue2})}}i(r.getTopAnd(),0,t);return r};n.getOperators=function(){return t.FilterOperators};n.prototype.getOperators=n.getOperators;n.topAndId="filterTopAnd";var i=function(n,i){var o=i;var d=[];var u=this;this.type="filterAnd";this.getById=function(e){if(e===o){return this}var t;var r;for(r=0;r<d.length;r++){t=d[r].getById(e);if(t!==undefined){return t}}return undefined};this.getExpressions=function(){var e=[];var t;var r;for(r=0;r<d.length;r++){t=d[r].getExpression();if(t instanceof Array&&t.length===0){continue}if(t instanceof Array){e.push(t)}else{e.push([t])}}return e};this.getExpression=function(){var e=[];var t;var r;for(r=0;r<d.length;r++){t=d[r].getExpression();if(t instanceof Array&&t.length===0){continue}e.push(t)}return e};this.getCompoundExpressions=function(){r.error("Method 'getExpressions' is deprecated since 1.23.0","Will be discarded with 1.26.0.")};this.getId=function(){return i};this.getInternalFilter=function(){var t=new e(n);var r=d.length;var i;for(i=0;i<r;i++){t.addAnd(d[i].getInternalFilter())}return t};this.addAndTerm=function(e){r.error("Method 'addAndTerm' is deprecated since 1.23.0","Will be discarded with 1.26.0.")};this.getAndTerms=function(){return d};this.addOr=function(e){n.check(e===undefined||this.getById(e)===undefined,"Filter includes duplicated identifiers (IDs)");var t=new s(n,e,u);d.push(t);return t};this.addExpression=function(e){if(e.operator.length==2){e.operator=e.operator.toUpperCase()}n.check(e.id===undefined||this.getById(e.id)===undefined,"Filter includes duplicated identifiers (IDs)");n.check(e.operator!==undefined,"sap.apf.utils.Filter oExpression.operator undefined");n.check(jQuery.inArray(e.operator,t.aSelectOpt)>-1,"Filter oExpression.operator "+e.operator+" not supported");d.push(new a(n,e));return this}};var s=function(n,s,o){var d=s;var u=[];var p=o;this.type="filterOr";this.getById=function(e){if(e===d){return this}var t;for(var r=0;r<u.length;r++){t=u[r].getById(e);if(t!==undefined){return t}}return undefined};this.getExpression=function(){var e=[];var t;for(var r=0;r<u.length;r++){t=u[r].getExpression();if(t instanceof Array&&t.length===0){continue}e.push(t)}return e};this.getId=function(){return s};this.getInternalFilter=function(){var t=new e(n);for(var r=0;r<u.length;r++){t.addOr(u[r].getInternalFilter())}return t};this.getAndObject=function(){return p};this.addOrTerm=function(e){r.error("Method 'addOr' is deprecated since 1.23.0","Will be discarded with 1.26.0.")};this.getOrTerms=function(){return u};this.addExpression=function(e){if(e.operator.length==2){e.operator=e.operator.toUpperCase()}n.check(e.id===undefined||this.getAndObject().getById(e.id)===undefined,"Filter includes duplicated identifiers (IDs)");n.check(e.operator!==undefined,"sap.apf.utils.Filter oExpression.operator undefined");n.check(jQuery.inArray(e.operator,t.aSelectOpt)>-1,"Filter oExpression.operator "+e.operator+" not supported");u.push(new a(n,e));return this};this.addAnd=function(e){n.check(e===undefined||this.getById(e)===undefined,"Filter includes duplicated identifiers (IDs)");var t=new i(n,e);u.push(t);return t}};var a=function(r,n){u(n.high,n.operator);var i=n.id;var s=n.name;var a=n.operator;var o=n.value;var d=n.high;this.getById=function(e){if(i===e){return this}return undefined};this.getExpression=function(){if(!a||a!==t.FilterOperators.BT){return{name:s,operator:a,value:o}}return{name:s,operator:a,value:o,high:d}};this.getInternalFilter=function(){return new e(r,s,a,o,d)};this.update=function(e){u(e.high,e.operator);s=e.name;a=e.operator;o=e.value;d=e.high};this.updateValue=function(e,t){o=e;if(t!==undefined){d=t}u(d,a)};function u(e,n){if(!n){return}if(n===t.FilterOperators.BT&&(e===null||e===undefined)){r.check(false,"sap.apf.utils.FilterExpression: High value needed for 'between' selection")}else if(n!==t.FilterOperators.BT&&(e!==null&&e!==undefined)){r.check(false,"sap.apf.utils.FilterExpression: High value only needed for 'between' selection")}}};sap.apf=sap.apf||{};sap.apf.utils=sap.apf.utils||{};sap.apf.utils.Filter=n;return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/filterIdHandler", function(){"use strict";var e=function(e){var t=e.instances.messageHandler;var r=1;var n=[];var i={};this.add=function(a){if(!u(a)){t.putMessage(t.createMessageObject({code:"5301"}))}i[r]=s(a);n.push(r);e.functions.setRestrictionByProperty(a);return r++};this.update=function(n,a){if(typeof n==="number"){if(n<=0||n>=r){t.putMessage(t.createMessageObject({code:"5100",aParameters:["Passed invalid numeric identifier during update of path filter"]}));return}}else if(!n||typeof n!=="string"){t.putMessage(t.createMessageObject({code:"5100",aParameters:['Passed falsity (0,"",undefined,null) or an object as identifier during update of path filter']}));return}var c=s(a);if(i[n]&&i[n]!==c){t.putMessage(t.createMessageObject({code:"5100",aParameters:["Updating filter with different property not allowed"]}));return}if(!u(a)){t.putMessage(t.createMessageObject({code:"5301"}))}e.functions.setRestrictionByProperty(a);i[n]=c};this.get=function(n){switch(typeof n){case"number":t.check(n>0&&n<r,"Passed unknown numeric identifier during get from path context handler");break;case"string":t.check(i[n],"Passed unknown string identifier during get from path context handler");break;default:t.check(false,"Filter Id handler - wrong type of the id parameter in get")}return e.functions.getRestrictionByProperty(i[n])};this.getAllInternalIds=function(e){return jQuery.sap.extend(true,[],n)};this.serialize=function(){return jQuery.extend(true,{},i)};this.deserialize=function(e){r=1;var t;for(t in e){if(typeof a(t)==="number"){r++}}i=jQuery.extend(true,{},e)};function s(e){return e.getInternalFilter().getProperties()[0]}function a(e){if(isNaN(Number(e))){return e}return Number(e)}function u(e){var t=e.getInternalFilter();var r=t.getProperties();if(r.length>1){return false}var n=new i;t.traverse(n);return n.isAccepted();function i(){var e=this;var t=false;var r=false;var n=true;this.isAccepted=function(){return n};this.processEmptyFilter=function(){return};this.processTerm=function(e){var i=e.getOp();if(!r&&!t){if(i==="GE"||i==="LE"||i==="EQ"){return}}if(r&&(i==="GE"||i==="LE")){return}if(t&&i==="EQ"){return}n=false};this.processAnd=function(t,n){if(n&&n.length>0){r=true}this.process(t);n.forEach(function(t){e.process(t)})};this.processOr=function(r,n){if(n&&n.length>0){t=true}this.process(r);n.forEach(function(t){e.process(t)})};this.process=function(e){if(t&&r){n=false}if(!n){return}e.traverse(this)}}}};sap.apf.utils.FilterIdHandler=e;return e},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/hashtable", function(){"use strict";var e=function(e){var n=0;var t={};var i=[];this.type="hashTable";this.setItem=function(s,u){var f;e.check(s!==undefined&&s!==null,"sap.apf.utils.HashTable.setItem: key undefined");e.check(u!==undefined&&u!==null,"sap.apf.utils.HashTable.setItem: value undefined");if(this.hasItem(s)){f=t[s]}else{n++;i.push(s)}t[s]=u;return f};this.getNumberOfItems=function(){return n};this.getItem=function(n){e.check(n!==undefined&&n!==null,"sap.apf.utils.HashTable.getItem key undefined");return this.hasItem(n)?t[n]:undefined};this.hasItem=function(n){e.check(n!==undefined&&n!==null,"sap.apf.utils.HashTable.hasItem key undefined");return t.hasOwnProperty(n)};this.removeItem=function(s){e.check(s!==undefined&&s!==null,"sap.apf.utils.HashTable.removeItem key undefined");var u;if(this.hasItem(s)){u=t[s];n--;i.splice(i.indexOf(s),1);delete t[s];return u}return undefined};this.getKeys=function(){var e=[];var n;for(n in t){if(this.hasItem(n)){e.push(n)}}return e};this.each=function(e){var n;for(n in t){if(this.hasItem(n)){e(n,t[n])}}};this.forEachOrdered=function(n){var s=this;i.forEach(function(i){if(!s.hasItem(i)){e.check(false,"sap.apf.utils.HashTable.forEachOrdered: key not contained")}else{n(i,t[i])}})};this.getKeysOrdered=function(){var e=[];this.forEachOrdered(function(n){e.push(n)});return e};this.moveUpOrDown=function(n,t){e.check(n!==undefined&&n!==null,"sap.apf.utils.HashTable.moveItemUpOrDown movedKey undefined");var s=i.indexOf(n);var u=s+t;if(s<0){return null}if(t<0){i.splice(s,1);if(u<0){i.splice(0,0,n);return 0}i.splice(s+t,0,n);return s+t}else if(t===0){return s}else if(t>0){i.splice(s,1);if(u>=i.length){i.splice(i.length,0,n);return i.length}i.splice(u,0,n);return u}};this.moveBefore=function(e,n){if(i.indexOf(e)<0||i.indexOf(n)<0){return null}if(e===n){return i.indexOf(n)}i.splice(i.indexOf(n),1);i.splice(i.indexOf(e),0,n);return i.indexOf(n)};this.moveToEnd=function(e){if(i.indexOf(e)<0){return null}i.splice(i.indexOf(e),1);i.push(e);return i.indexOf(e)};this.reset=function(){t={};i=[];n=0}};sap.apf=sap.apf||{};sap.apf.utils=sap.apf.utils||{};sap.apf.utils.Hashtable=e;return e},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/navigationHandler", ["sap/apf/core/utils/filterSimplify","sap/apf/utils/utils","sap/apf/utils/executeFilterMapping","sap/ui/core/routing/HashChanger","sap/base/util/uid"],function(e,t,i,a,n){"use strict";var r=function(r){var s;var o;var c;var u=r.instances.messageHandler;var p=this;var l=r.constructors&&r.constructors.FilterReduction||e.FilterReduction;var f;var v=false;this.getNavigationTargets=function(){var e,i;var a=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");if(!a){if(!v){i=u.createMessageObject({code:5074});u.putMessage(i);v=true}o={global:[],stepSpecific:[]};return t.createPromise(o)}e=jQuery.Deferred();r.functions.getCumulativeFilterUpToActiveStep().done(function(t){if(o&&t.isEqual(c)){e.resolve(h(o));return e.promise()}c=t;if(!s){g()}o=jQuery.extend(true,[],s);o.forEach(function(e){e.text=""});n(t).done(function(t){o=t;e.resolve(h(o))})});return e.promise();function n(e){var t=jQuery.Deferred();var i=[];var n=[];var s;o.forEach(function(t){var o;if(t.useDynamicParameters){s=s||S(e);t.parameters=A(t.parameters,s)}o=jQuery.Deferred();n.push(o);a.getLinks({semanticObject:t.semanticObject,action:t.action,params:m(t.parameters),ignoreFormFactor:false,ui5Component:r.instances.component}).then(function(e){e.forEach(function(e){var a=e.intent.split("-");var n=a[1].split("?");n=n[0].split("~");if(e.text!==""&&n[0]===t.action){t.text=e.text;i.push(t)}});o.resolve()},function(){o.resolve()})});jQuery.when.apply(jQuery,n).done(function(){t.resolve(i)});return t.promise()}};this.navigateToApp=function(e){if(!s){g()}var t=d(e);if(!t){return}var n=a&&a.getInstance();r.functions.getCumulativeFilterUpToActiveStep().done(function(e){if(r.functions.isFilterReductionActive&&r.functions.isFilterReductionActive()){f=f||new l;var a=f.reduceFilter(u,e);if(a===null){u.putMessage(u.createMessageObject({code:5235}))}else{e=a}}if(!t.filterMapping||!t.filterMapping.requestForMappedFilter){o(null,null)}else{var s=r.functions.createRequest(t.filterMapping.requestForMappedFilter);i(e,s,t.filterMapping.target,o,u)}function o(i,a){var s;if(a){return}if(i){e=e.addAnd(i)}var o=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");if(o){r.instances.serializationMediator.serialize(true).done(function(i){p.generateSelectionVariant(e).done(function(a){var c;var u={};if(t.useDynamicParameters){c=S(e)}u.sapApfState=i;u.sapApfCumulativeFilter=e.mapToSapUI5FilterExpression();u.selectionVariant=a;s=o.createEmptyAppState(r.instances.component);s.setData(u);s.save();if(n){n.replaceHash("sap-iapp-state="+s.getKey())}var p=t.parameters;if(t.useDynamicParameters){p=A(p,c)}o.toExternal({target:{semanticObject:t.semanticObject,action:t.action},appStateKey:s.getKey(),params:m(p)},r.instances.component)})})}}})};this.checkMode=function(){var e=jQuery.Deferred();var t=a&&a.getInstance&&a.getInstance();var i=/(?:sap-iapp-state=)([^&=]+)/;var n,s,o,c;if(t){o=i.exec(t.getHash());if(o){n=o[1]}}s=r.functions.getXappStateId();if(n){sap.ushell.Container.getService("CrossApplicationNavigation").getAppState(r.instances.component,n).done(function(t){c=t.getData();if(c.sapApfState){r.instances.serializationMediator.deserialize(c.sapApfState).done(function(){e.resolve({navigationMode:"backward"})})}})}else if(s){sap.ushell.Container.getService("CrossApplicationNavigation").getAppState(r.instances.component,s).done(function(t){c=t.getData();if(c&&c.sapApfCumulativeFilter){e.resolve({navigationMode:"forward",sapApfCumulativeFilter:c.sapApfCumulativeFilter})}else{e.resolve({navigationMode:"forward"})}})}else{e.resolve({navigationMode:"forward"})}if(t){t.replaceHash("")}return e.promise()};this.generateSelectionVariant=function(e){var t=jQuery.Deferred();if(!r.functions.isFilterReductionActive||!r.functions.isFilterReductionActive()){f=f||new l;e=f.reduceFilter(u,e)}if(!f||!f.isContradicted()){var i=e.mapToSelectOptions(r.functions.getAllParameterEntitySetKeyProperties);i.done(function(e){e.SelectionVariantID=n();t.resolve(e)})}else{var a={};a={SelectionVariantID:n(),Text:"Filter could not be converted to a selectionVariant"};t.resolve(a)}return t.promise()};function g(){s=r.functions.getNavigationTargets()}function d(e){for(var t=0,i=s.length;t<i;t++){if(s[t].id===e){return s[t]}}}function m(e){var t;if(e&&e.length>0){t={};e.forEach(function(e){t[e.key]=e.value})}return t}function h(e){var t=jQuery.extend(true,[],e);var i={global:[],stepSpecific:[]};t.forEach(function(e){if(e.isStepSpecific&&a(e.id)){delete e.isStepSpecific;i.stepSpecific.push(e)}else if(!e.isStepSpecific){delete e.isStepSpecific;i.global.push(e)}});return i;function a(e){var t=false;var i;var a=r.functions.getActiveStep();if(a&&a.getAssignedNavigationTargets){i=a.getAssignedNavigationTargets();if(i&&jQuery.isArray(i)){i.forEach(function(i){if(e===i.id){t=true}})}}return t}}function S(e){f=f||new l;var t=f.reduceFilter(u,e)||e;return t.getSingleValueTerms()}function A(e,t){t.forEach(function(t){e=e||[];e.push({key:t.property,value:t.value})});return e}};sap.apf.utils.NavigationHandler=r;return r},true);
sap.ui.predefine("sap/apf/utils/parseTextPropertyFile", ["sap/apf/utils/utils","sap/ui/core/format/DateFormat","sap/apf/core/constants"],function(e,t,n){"use strict";var a=function(a,i){var s=i.instances.messageHandler;var r=t.getDateTimeInstance({pattern:"yyyy/MM/dd HH:mm:ss"});var l;var u=a.split(/\r?\n/);var c=u.length;var o,p;var f=-1;var m=-1;var g;var h,v,T;var x=false;var A={Application:undefined,TextElements:[],Messages:[]};var d=false;function L(e,t){var n=s.createMessageObject({code:e,aParameters:[t]});A.Messages.push(n)}function M(e){L(11013,e)}function D(e){L(5411,e)}function y(t,n){var a=e.isValidGuid(t);if(!a){L(5412,n);return false}return true}function E(e){L(5415,e)}function H(e){L(5412,e)}for(o=0;o<c;o++){if(!x){var C=/^\#\s*ApfApplicationId=[0-9A-F]+\s*$/.exec(u[o]);if(C!==null){A.Application=u[o].split("=")[1];if(!e.isValidGuid(A.Application)){A.Application="";M(o)}x=true;continue}}if(u[o]===""){continue}if(d){d=false;continue}if(m===o&&/^\#\s*LastChangeDate/.exec(u[o])){T=u[o].split("=");if(T.length===2){l=r.parse(T[1]);if(!l){E(o);g.LastChangeUTCDateTime=""}else{g.LastChangeUTCDateTime="/Date("+l.getTime()+")/"}A.TextElements.push(g)}else{E(o)}g=null;continue}if(f===o){T=u[o].split("=");if(T.length>1){if(T[0]==="AnalyticalConfigurationName"){m=0;d=true;continue}if(y(T[0],o)){g.TextElement=T[0];g.TextElementDescription=T[1];for(p=2;p<T.length;p++){g.TextElementDescription+="="+T[p]}}else{H(o)}}else{D(o)}continue}h=/^\#(X|Y)[A-Z]{3},[0-9]+:/.exec(u[o]);if(h){if(f===o){D(o)}g={};g.Language=n.developmentLanguage;g.Application=A.Application;g.TextElementType=u[o].match(/(X|Y)[A-Z]{3}/)[0];g.MaximumLength=u[o].match(/,[0-9]+/);g.MaximumLength=parseInt(g.MaximumLength[0].substring(1),10);g.TranslationHint=u[o].match(/:\s*[0-9a-zA-Z\s]+$/);g.TranslationHint=g.TranslationHint[0].substring(1);f=o+1;m=o+2}else{v=/^\#(X|Y)[A-Z]{3},[0-9]+/.exec(u[o]);if(v){if(f===o){D(o)}g={};g.Language=n.developmentLanguage;g.Application=A.Application;g.TextElementType=u[o].match(/(X|Y)[A-Z]{3}/)[0];g.MaximumLength=u[o].match(/,[0-9]+/);g.MaximumLength=parseInt(g.MaximumLength[0].substring(1),10);g.TranslationHint="";f=o+1;m=o+2}}}if(!x){L(5410,0)}return A};return a},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/proxyTextHandlerForLocalTexts", ["sap/apf/utils/parseTextPropertyFile","sap/apf/utils/hashtable","sap/apf/utils/utils"],function(e,t,n){"use strict";var r=function(r){var i=r.instances.messageHandler;var a={};this.initApplicationTexts=function(n,r){var s=a[n]||new t(i);if(r===""||r===null){a[n]=s;return}var u=e(r,{instances:{messageHandler:i}});u.TextElements.forEach(function(e){if(e.TextElement){s.setItem(e.TextElement,e)}});a[n]=s};this.createTextFileOfApplication=function(e){if(!a[e]){return""}var t=n.renderHeaderOfTextPropertyFile(e,i);return t+n.renderTextEntries(a[e],i)};this.getTextElements=function(e){if(!a[e]){return[]}var t=[];a[e].each(function(e,n){t.push(n)});return t};this.addText=function(e){if(!e.TextElement){e.TextElement=n.createPseudoGuid(32)}var r=a[e.Application]||new t(i);r.setItem(e.TextElement,e);a[e.Application]=r;return e.TextElement};this.removeText=function(e){var n=e.application;var r=e.inputParameters[0].value;var s=a[n]||new t(i);if(s.hasItem(r)){s.removeItem(r)}}};sap.apf.utils.ProxyTextHandlerForLocalTexts=r;return r},true);
sap.ui.predefine("sap/apf/utils/sbAdapter", ["sap/apf/abap/LrepConnector","sap/base/Log","sap/ui/thirdparty/datajs"],function(e,n){"use strict";var a={semanticObject:"FioriApplication",action:"executeAPFConfiguration"};var t={semanticObject:"FioriApplication",action:"editAPFConfiguration"};var r={semanticObject:"FioriApplication",action:"executeAPFConfigurationS4HANA"};var i={semanticObject:"FioriApplication",action:"editAPFConfigurationS4HANA"};var o="/sap/hba/r/apf/core/odata/modeler/AnalyticalConfiguration.xsodata/AnalyticalConfigurationQueryResults";var s=undefined;var u={};u._hanaConfigurations=undefined;u._lrepConfigurations=undefined;u.getConfigurations=function(e,n){var t=jQuery.Deferred();var i=[];jQuery.when(p(),c()).then(function(o,s){i=s.concat(o);var u=C(e,n);if(u&&!m(u,a)&&!m(u,r)){i.forEach(function(e){e.runtimeIntent=u})}t.resolve(i)});return t.promise()};u.getTargetMappingInstaceIDsWithConfigurations=function(e,n,t,i){var o=jQuery.Deferred();var s=[];var u=[];jQuery.when(p(),c()).then(function(c,p){l(t,i).then(function(t){return f(1e3).then(function(){s=p.concat(c);var i=C(e,n);t.forEach(function(e){if(e.semanticParameters["sap-apf-configuration-id"]){var n=e.semanticParameters["sap-apf-configuration-id"].defaultValue;s.forEach(function(t){if(n.value===t.id){t.targetMappingInstanceId=e;if(i&&!m(i,a)&&!m(i,r)){t.runtimeIntent=i}u.push(t)}})}});o.resolve(u)})})});return o.promise();function f(e,n){return new Promise(function(a){setTimeout(a.bind(null,n),e)})}};u.getConfigurationNameById=function(e){var n=jQuery.Deferred();if(!e){return n.resolve("")}if(e.indexOf(".")>-1){p().done(a)}else{c().done(a)}return n.promise();function a(a){a.forEach(function(a){if(a.id===e){n.resolve(a.title)}});if(n.state!=="resolved"){n.resolve("")}}};function c(){var e=jQuery.Deferred();if(!u._hanaConfigurations){var n={requestUri:o+"?$select=AnalyticalConfiguration,AnalyticalConfigurationName,Application",async:true,method:"GET"};OData.request(n,r,i)}else{e.resolve(jQuery.extend(true,[],u._hanaConfigurations))}return e.promise();function r(n){var r=[];n.results.forEach(function(e){r.push({title:e.AnalyticalConfigurationName,id:e.AnalyticalConfiguration,runtimeIntent:a,modelerIntent:t,configurationId:e.AnalyticalConfiguration,applicationId:e.Application})});u._hanaConfigurations=jQuery.extend(true,[],r);e.resolve(r)}function i(){u._hanaConfigurations=[];e.resolve([])}}function p(){var e=jQuery.Deferred();if(!u._lrepConfigurations){g().then(function(n){var a=[];n.response.forEach(function(e){var n;var t;if(e.fileType&&e.fileType==="apfconfiguration"){n=v(e);t=e.name;a.push({title:h(e,"apfdt-configname"),id:n+"."+t,runtimeIntent:r,modelerIntent:i,configurationId:t,applicationId:n})}});u._lrepConfigurations=jQuery.extend(true,[],a);e.resolve(a)},function(){e.resolve([]);u._lrepConfigurations=[]})}else{e.resolve(jQuery.extend(true,[],u._lrepConfigurations))}return e.promise()}function f(e){var n;if(sap.ushell.Container&&sap.ushell.Container.getService){if(e=="S")n=sap.ushell.Container.getService("PageBuilding","CONF").getFactory();else if(e=="C")n=sap.ushell.Container.getService("PageBuilding","CUST").getFactory();else n=sap.ushell.Container.getService("PageBuilding","PERS").getFactory();return n}}function l(e,a){var t=jQuery.Deferred();var r=a;var i=[];var o=f(e);var u=o.getPageBuildingService();u.readCatalog(r,jQuery.proxy(function(e){if(e&&e.Chips&&e.Chips.results instanceof Array){jQuery.each(e.Chips.results,jQuery.proxy(function(e,a){try{if(a&&a.baseChipId==="X-SAP-UI2-CHIP:/UI2/ACTION"){s=a;var r=JSON.parse(s.configuration);var o=JSON.parse(r.tileConfiguration);var u=o.ui5_component;var c="smartbusiness";var p="sap.apf";if(u&&u.indexOf(c)===-1){d(u).then(function(e){jQuery.each(e.response.results,jQuery.proxy(function(e,a){if(a&&a["sap.ui5/dependencies/libs"]){if(a["sap.ui5/dependencies/libs"].indexOf(p)!==-1){var t;var r=JSON.parse(s.configuration);var o=JSON.parse(r.tileConfiguration);var u=o.signature&&o.signature.parameters;if(s.ChipBags&&s.ChipBags.results instanceof Array){jQuery.each(s.ChipBags.results,jQuery.proxy(function(e,a){if(a&&a.id==="tileProperties"){if(a.ChipProperties&&a.ChipProperties.results instanceof Array){jQuery.each(a.ChipProperties.results,jQuery.proxy(function(e,n){if(n&&n.name==="display_title_text"){t=n.value;return false}},this))}else{n.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID","Unable to read the properties inside the chip bag 'tileProperties' for "+s.catalogPageChipInstanceId)}return false}},this))}else{n.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID","Unable to read the chip bags for "+s.catalogPageChipInstanceId)}i.push({instanceID:s.catalogPageChipInstanceId||"",title:t||"",semanticObject:o.semantic_object||"",semanticAction:o.semantic_action||"",ui5Component:o.ui5_component||"",semanticParameters:u||{}});window.TargetMapping=i}}},this))},function(){t.resolve([])})}}}catch(e){n.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID",e&&e.message)}},this));t.resolve(i)}else{n.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID","Invalid catalog object");t.reject()}},this),jQuery.proxy(function(e,n){t.reject(n)},this));return t.promise()}function g(){var n=e.createConnector();var a={async:true,contentType:"application/json"};var t=[];t.push({name:"deep-read",value:true});t.push({name:"metadata",value:true});t.push({name:"layer",value:"CUSTOMER"});var r="/sap/bc/lrep/content/sap/apf/dt/";r+=n._buildParams(t);return n.send(r,"GET",{},a)}function d(n){var a=e.createConnector();var t={async:true,contentType:"application/json"};var r=[];r.push({name:"sap.app/id",value:n});r.push({name:"fields",value:"sap.ui5/dependencies/libs"});var i="/sap/bc/ui2/app_index";i+=a._buildParams(r);return a.send(i,"GET",{},t)}function v(e){var n=e.ns.split("/");return n[n.length-2]}function h(e,n){var a;e.metadata.forEach(function(e){if(e.name===n){a=e.value}});return a}function m(e,n){if(e.semanticObject===n.semanticObject&&e.action===n.action){return true}return false}function C(e,n){if(e&&n){return{semanticObject:e,action:n}}}return u},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/serializationMediator", ["sap/apf/core/constants"],function(e){"use strict";var t=function(t){this.savePath=function(e,i,a){this.serialize(false).done(function(n){if(typeof e==="string"&&typeof i==="function"){t.instances.coreApi.savePath(e,i,n)}else if(typeof e==="string"&&typeof i==="string"&&typeof a==="function"){t.instances.coreApi.savePath(e,i,a,n)}})};this.openPath=function(i,a,n){t.instances.coreApi.openPath(i,s.bind(this));function s(i,s,r){t.instances.coreApi.resetPath();t.instances.messageHandler.setCallbackForTriggeringFatal(c);this.deserialize(i.path.SerializedAnalysisPath,n).done(function(){t.instances.messageHandler.setCallbackForTriggeringFatal(undefined);a({},s)});function c(i){if(i.getSeverity()!==e.message.severity.warning){var a=t.instances.messageHandler.createMessageObject({code:"5210"});a.setPrevious(i);t.instances.messageHandler.putMessage(a)}}}};this.deletePath=function(e,i){t.instances.coreApi.deletePath(e,i)};this.readPaths=function(e){t.instances.coreApi.readPaths(e)};this.serialize=function(e,i){var a=jQuery.Deferred();var n={};t.instances.startFilterHandler.serialize(undefined,i).done(function(i){var s=t.instances.coreApi.serialize();n.startFilterHandler=i;n.filterIdHandler=t.instances.filterIdHandler.serialize();n.path=s.path;n.smartFilterBar=s.smartFilterBar;if(e){n.pathName=t.instances.coreApi.getPathName();n.dirtyState=t.instances.coreApi.isDirty()}a.resolve(n)});return a};this.deserialize=function(e,i){var a=jQuery.Deferred();var n;if(e.dirtyState!==undefined){t.instances.coreApi.setDirtyState(e.dirtyState)}if(e.pathName!==undefined){t.instances.coreApi.setPathName(e.pathName)}n={path:e.path,smartFilterBar:e.smartFilterBar};if(i!==undefined){n.path.indicesOfActiveSteps[0]=i}t.instances.coreApi.getApplicationConfigProperties().done(function(){t.instances.coreApi.deserialize(n);t.instances.filterIdHandler.deserialize(e.filterIdHandler);t.instances.startFilterHandler.getStartFilters().done(function(){if(e.startFilterHandler){t.instances.startFilterHandler.deserialize(e.startFilterHandler).done(function(){a.resolve()})}else{a.resolve()}})});return a.promise()}};sap.apf.utils.SerializationMediator=t;return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/startFilter", ["sap/apf/core/utils/filter"],function(e){"use strict";var t=function(t,i,r){var n;var s;var l=new e(t.instances.messageHandler);var u;var a;var o=0;var f=0;var c=jQuery.extend(true,[],r);var d;if(i.preselectionDefaults&&i.preselectionDefaults.length>0){d=jQuery.extend(true,[],i.preselectionDefaults)}else if(jQuery.isFunction(i.preselectionFunction)){d=jQuery.extend(true,[],i.preselectionFunction())}var p=false;if(i.valueHelpRequest||jQuery.isArray(i.valueList)&&i.valueList.length>0){p=true}var v=false;var y={};var h={};var g;D=D.bind(this);x=x.bind(this);E=E.bind(this);R=R.bind(this);F=F.bind(this);Q=Q.bind(this);this.hasValueHelpRequest=function(){return!!i.valueHelpRequest};this.setContext=function(e){if(i.notConfigured===true){r=e}else{t.instances.messageHandler.putMessage(t.instances.messageHandler.createMessageObject({code:"5100",aParameters:["Context of configured Startfilter cannot be changed"]}))}};this.getPropertyName=function(){return i.property};this.getLabel=function(){return i.label};this.getAliasNameIfExistsElsePropertyName=function(){return i.alias||i.property};this.isMultiSelection=function(){if(i.multiSelection==="true"||i.multiSelection===true){return true}return false};this.isVisible=function(){if(r&&r.type==="internalFilter"&&!i.filterResolutionRequest){return false}return!i.invisible};this.setRestriction=function(e){l=e.copy();if(!a){a=jQuery.Deferred()}m(++f)};this.setSelectedValues=function(e,t){if(!a){a=jQuery.Deferred()}if(!n){n=jQuery.Deferred();if(!t){F().done(function(e){if(n){n.resolve(e)}})}else{n.resolve(e)}}if(e.type==="internalFilter"){s=e}else{s=jQuery.extend(true,[],e)}if(!t){m(++f)}};this.getSelectedValues=function(){var e;if(!a){a=jQuery.Deferred();e=a;m(++f)}else if(a.state()==="pending"){e=a;if(n){n.done(function(){m(++f)})}else{m(++f)}}return e.promise()};this.getValues=function(){var e;if(!u||u.state()!=="pending"){u=jQuery.Deferred()}e=u;j(++o);return e.promise()};this.getMetadata=function(){if(i.metadataProperty){return jQuery.Deferred().resolve(i.metadataProperty)}return jQuery.Deferred().resolve({})};this.serialize=function(e,t){var i=jQuery.Deferred();var r={propertyName:this.getPropertyName()};F().done(function(s){if(s&&s.type==="internalFilter"){s=s.mapToSapUI5FilterExpression()}r.selectedValues=s;if(n){n.done(function(s){if(e===true){r.initiallySelectedValues=s}if(t!==true){n=null}i.resolve(r)})}else{i.resolve(r)}});return i};this.deserialize=function(i){if(i.selectedValues&&(i.selectedValues.aFilters||i.selectedValues.sPath)){i.selectedValues=e.transformUI5FilterToInternal(t.instances.messageHandler,i.selectedValues)}s=null;if(i.initiallySelectedValues){n=jQuery.Deferred().resolve(i.initiallySelectedValues)}else{n=null}if(jQuery.isArray(i.selectedValues)){c=jQuery.extend(true,[],i.selectedValues);r=jQuery.extend(true,[],i.selectedValues)}else{c=i.selectedValues;r=i.selectedValues}v=false};this.reset=function(){if(n){n.done(function(e){s=e})}};function j(e){Q(e,o).done(function(t){if(e===o){u.resolve(t)}})}function m(e){F(e).done(function(t){if(e===f){var i=a;a=jQuery.Deferred();i.resolve(t,a.promise())}})}function Q(e,t){var n=jQuery.Deferred();var s=[];l=l.bind(this);if(p&&jQuery.isArray(r)){V(e,t).then(function(e){var t=e.data;var i=D(c,t);n.resolve(i)})}else if(r&&r.type==="internalFilter"&&p&&i.filterResolutionRequest){jQuery.when(V(e,t),R(e,t)).then(function(e,t){var i=e.data;l(t.data,i);n.resolve(i)})}else if(p&&(i.preselectionDefaults&&i.preselectionDefaults.length>0||jQuery.isFunction(i.preselectionFunction))){V(e,t).then(function(e){var t=e.data;g=D(d,t);n.resolve(g)})}else if(p){V(e,t).then(function(e){n.resolve(e.data)})}else if(r&&r.type==="internalFilter"&&i.filterResolutionRequest){R(e,t).then(function(e){n.resolve(e.data)})}else if(jQuery.isArray(r)&&i.filterResolutionRequest&&!p){R(e,t).then(function(e){n.resolve(e.data)})}else if(jQuery.isArray(r)){s=D(c,s);n.resolve(s)}else if((i.preselectionDefaults&&i.preselectionDefaults.length>0||jQuery.isFunction(i.preselectionFunction))&&!p&&!i.filterResolutionRequest&&!r){if(this.isMultiSelection()){g=D(d,s)}else if(d.length>0){g=D([d[0]],s)}n.resolve(g)}else if((i.preselectionDefaults&&i.preselectionDefaults.length>0||jQuery.isFunction(i.preselectionFunction))&&i.filterResolutionRequest&&!r){if(this.isMultiSelection()){g=D(d,s)}else if(d.length>0){g=D([d[0]],s)}n.resolve(g)}else if(r&&r.type==="internalFilter"||!r){n.resolve(null)}return n.promise();function l(e,t){var i=E(t);for(var r=e.length-1;r>=0;r--){if(!i[e[r][this.getAliasNameIfExistsElsePropertyName()]]){t.unshift(e[r])}}}}function D(e,t){var i=jQuery.extend(true,[],t);var r=E(t);var n;for(var s=e.length-1;s>=0;s--){if(!r[e[s]]){n={};n[this.getAliasNameIfExistsElsePropertyName()]=e[s];i.unshift(n)}else if(!v){e.splice(s,1)}}v=true;return i}function F(e){var t=jQuery.Deferred();var n;var l;var u;var a=this;if(s){if(!i.invisible){c(jQuery.extend(true,[],s),e)}else{n=s;o()}}else if(jQuery.isFunction(i.preselectionFunction)&&!p){n=i.preselectionFunction();o()}else if(r&&r.type==="internalFilter"&&!i.filterResolutionRequest){t.resolve(r)}else if(i.preselectionDefaults===null&&!r){t.resolve([])}else if(i.filterResolutionRequest&&!r&&!p&&!(i.preselectionDefaults&&i.preselectionDefaults.length>0)){t.resolve(null)}else if(r&&r.type==="internalFilter"&&i.filterResolutionRequest){R(e,f).then(function(t){var i=x(t);c(jQuery.extend(true,[],i),e)})}else if(p&&!jQuery.isArray(r)&&!(i.preselectionDefaults&&i.preselectionDefaults.length>0)&&!i.preselectionFunction){V(e,f).then(function(e){var t=x(e);if(this.isMultiSelection()){n=t}else{n=[t[0]]}o()}.bind(this))}else if(p&&!jQuery.isArray(r)&&(i.preselectionDefaults&&i.preselectionDefaults.length>0||i.preselectionFunction)){if(jQuery.isFunction(i.preselectionFunction)){l=i.preselectionFunction()}else{l=i.preselectionDefaults}c(jQuery.extend(true,[],l),e)}else if(jQuery.isArray(r)){c(r,e)}else if(i.preselectionDefaults&&i.preselectionDefaults.length>0){n=i.preselectionDefaults;c(n,e)}else{t.resolve(null)}return t.promise();function o(){if(n&&n.type==="internalFilter"){t.resolve(n)}else{t.resolve(jQuery.extend(true,[],n))}}function c(e,t){Q(t,f).done(function(t){if(t!==null){n=[];u=E(t);e.forEach(function(e){if(u[e]){n.push(e)}});if(e.length!==0&&n.length===0&&i.preselectionDefaults!==null){n=x({data:t})}if(!a.isMultiSelection()){n=[n[0]]}if(s!==null){s=n}}else{n=null}o()})}}function R(n,s){var u;var a=jQuery.Deferred();if(n&&n!==s){return a.promise()}var o;if(jQuery.isArray(r)){o=new e(t.instances.messageHandler);r.forEach(function(e){o.addOr(this.getAliasNameIfExistsElsePropertyName(),"eq",e)}.bind(this))}else if(r instanceof e){o=r}else{o=new e(t.instances.messageHandler)}if(!l.isEmpty()){u=new e(t.instances.messageHandler);u.addAnd(l).addAnd(o)}else{u=o}if(y.lastMergedFilter&&y.lastMergedFilter.isEqual(u)){y.lastFilterResolutionPromise.done(function(e){a.resolve(e)})}else{y.lastMergedFilter=u.copy();y.lastFilterResolutionPromise=a;t.functions.createRequest(i.filterResolutionRequest).sendGetInBatch(u,f,undefined)}return a.promise();function f(e){a.resolve(e)}}function V(e,t){var r;if(i.valueHelpRequest){return q(e,t)}else if(i.valueList){r={data:D(i.valueList,[])};return jQuery.Deferred().resolve(r)}}function q(e,r){var n=jQuery.Deferred();var s={paging:{top:1e5,skip:0,inlineCount:true}};if(e&&r!==e){return n.promise()}if(h.lastRestriction&&h.lastRestriction.isEqual(l)){h.lastValueHelpPromise.done(function(e){n.resolve(e)})}else{h.lastRestriction=l.copy();h.lastValueHelpPromise=n;t.functions.createRequest(i.valueHelpRequest).sendGetInBatch(l,u,s)}return n.promise();function u(e){n.resolve(e)}}function x(e){var t=[];e.data.forEach(function(e){t.push(e[this.getAliasNameIfExistsElsePropertyName()])}.bind(this));return t}function E(e){var t={};e.forEach(function(e){var i=e[this.getAliasNameIfExistsElsePropertyName()];t[i]=true}.bind(this));return t}};sap.apf.utils.StartFilter=t;return t},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/startFilterHandler", ["sap/apf/utils/filter","sap/apf/core/utils/filter","sap/apf/utils/startFilter","sap/apf/utils/utils"],function(e,r,t,i){"use strict";var n=function(n){var a=[{isLevel:true}];var o=n&&n.constructors&&n.constructors.StartFilter||t;var s={};var f={};var u={};var l={};var c=n.instances.messageHandler;var v=jQuery.Deferred();var d=jQuery.Deferred();var p=false;var y=jQuery.Deferred();var g=0;var h=0;var m;var P=jQuery.Deferred();this.getStartFilters=function(){F().done(function(){v.resolve(Q())});return v.promise()};this.setRestrictionByProperty=function(e){if(!m){m=jQuery.Deferred()}g++;var r=e.getInternalFilter();var t=r.getProperties()[0];s[t]=e;F();m.done(function(){var i=true;w().forEach(function(e){if(e.getPropertyName()===t){if(r.isDisjunctionOverEqualities()){var n=P.state()==="pending";e.setSelectedValues(j(r),n)}else{e.setContext(r)}i=false}});if(i){a.unshift(new o(n,{multiSelection:true,property:t,invisible:true,notConfigured:true},r))}if(y.state()==="resolved"){y=jQuery.Deferred()}if(n.functions.getFacetFilterConfigurations().length===0){y.resolve(b(A()))}f[t]=e;delete s[t];if(!u[t]){u[t]=e.serialize()}h++;if(h===g){O();P.resolve()}})};this.getRestrictionByProperty=function(r){if(f[r]){return f[r]}else if(s[r]){return s[r]}return new e(c)};this.getCumulativeFilter=function(){var e=jQuery.Deferred();var t=new r(c);var i;F().done(function(){i=w().length;if(i===0){e.resolve(new r(c))}y.done(function(i,n,a){var o;o=new r(c);if(i&&i.type==="internalFilter"){o=i}if(jQuery.isArray(i)){i.forEach(function(e){o.addOr(new r(c,a,"eq",e))})}if(n){t.addAnd(n).addAnd(o)}else{t=o}e.resolve(t)})});return e.promise()};this.serialize=function(e,r){var t=jQuery.Deferred();var i;var n;var a={};a.startFilters=[];a.restrictionsSetByApplication={};for(n in f){a.restrictionsSetByApplication[n]=f[n].serialize()}i=w().length;if(w().length>0){w().forEach(function(n){n.serialize(e,r).done(function(e){a.startFilters.push(e);i--;if(i===0){t.resolve(a)}})})}else{t.resolve(a)}return t.promise()};this.deserialize=function(r){var t=jQuery.Deferred();y.done(function(){var i=w();var n;var a;f={};r.startFilters.forEach(function(e){for(var r=0,t=i.length;r<t;r++){if(e.propertyName===i[r].getPropertyName()){i[r].deserialize(e)}}});for(n in r.restrictionsSetByApplication){a=new e(c);a.deserialize(r.restrictionsSetByApplication[n]);f[n]=a}y=jQuery.Deferred();O();y.done(function(){t.resolve()})});return t};this.resetAll=function(){var r;w().forEach(function(e){e.reset()});f={};for(r in u){f[r]=new e(c).deserialize(u[r])}O()};this.resetVisibleStartFilters=function(){Q().forEach(function(e){e.reset()});var e=0;var r=a.length;for(var t=0;t<r;t++){if(a[t].isLevel){e=t+1;break}}if(a[e]){a[e].setRestriction(l[a[e].getPropertyName()])}};function F(){if(!p){p=true;n.instances.onBeforeApfStartupPromise.done(function(){n.functions.getReducedCombinedContext().done(function(e){var r=n.functions.getFacetFilterConfigurations();var t=e.getProperties();var s=t.length;var f=null;r.forEach(function(r){for(var u=0;u<s;u++){if(r.property===t[u]){f=t[u];break}}if(f){var l=N(e,f);if(i.isPropertyTypeWithDateSemantics(r.metadataProperty)){l=i.convertDateListToInternalFormat(l,r.metadataProperty)}a.push(new o(n,r,l));t.splice(t.indexOf(f),1);f=null}else{a.push(new o(n,r))}});t.forEach(function(r){a.unshift(new o(n,{property:r,invisible:true,multiSelection:true},N(e,r)))});if(!m){m=jQuery.Deferred();P.resolve()}m.resolve();P.done(function(){S().done(function(){E();d.resolve()})})})})}return d}function E(){var e=D();e.forEach(function(t){t.getSelectedValues().done(i);function i(n,a){var o;var s=new r(c);var f;a.done(i);for(var u=0;u<e.length;u++){if(e[u]===t){o=u;break}}if(o===e.length-1){if(y.state()==="resolved"){y=jQuery.Deferred()}y.resolve(n,l[t.getPropertyName()],t.getPropertyName());return}else if(y.state()==="resolved"){y=jQuery.Deferred()}if(n&&n.type==="internalFilter"){s=n}else if(jQuery.isArray(n)){n.forEach(function(e){s.addOr(t.getPropertyName(),"eq",e)})}if(l[t.getPropertyName()]){if(s.isEmpty()){f=l[t.getPropertyName()].copy()}else{if(l[t.getPropertyName()].isOr()){f=new r(c);f.addAnd(l[t.getPropertyName()]).addAnd(s)}else{f=l[t.getPropertyName()].copy().addAnd(s)}}}else{f=s}l[e[o+1].getPropertyName()]=f;e[o+1].setRestriction(f)}})}function j(e){var r=[];e.getFilterTerms().forEach(function(e){r.push(e.getValue())});return r}function N(e,r){var t=[];var i=e.getFilterTermsForProperty(r);var n=e.restrictToProperties([r]);if(n.toUrlParam().indexOf("%20and%20")>-1){return n}for(var a=0,o=i.length;a<o;a++){if(i[a].getOp()!=="EQ"){return n}t.push(i[a].getValue())}return t}function Q(){var e=[];w().forEach(function(r){if(r.isVisible()){e.push(r)}});return e}function D(){var e=false;var r=[];a.forEach(function(t){if(t.isLevel){e=true}else if(e===true){r.push(t)}});return r}function w(){var e=[];a.forEach(function(r){if(!r.isLevel){e.push(r)}});return e}function A(){var e=[];for(var r=0,t=a.length;r<t;r++){if(!a[r].isLevel){e.push(a[r])}else{break}}return e}function S(){var e=jQuery.Deferred();t(b(A()));return e;function t(t){var i;var n=a.length;var o=t;var s=0;for(i=0;i<n;i++){if(a[i].isLevel){s=i+1;break}}if(a[s]){a[s].setRestriction(o);l[a[s].getPropertyName()]=o.copy();f(s)}else{y.resolve(b(A()));e.resolve()}function f(t){if(a[t+1]){a[t].getSelectedValues().done(function(e){var i=new r(c);if(e&&e.type==="internalFilter"){i.addOr(e)}else if(jQuery.isArray(e)){e.forEach(function(e){i.addOr(a[t].getPropertyName(),"eq",e)})}if(!i.isEmpty()){o.addAnd(i)}a[t+1].setRestriction(o);l[a[t+1].getPropertyName()]=o.copy();f(t+1)})}else{e.resolve()}}}}function b(e){var t=new r(c);e.forEach(function(e){var i=new r(c);e.getSelectedValues().done(function(r){if(r.type==="internalFilter"){i.addOr(r)}else{r.forEach(function(r){i.addOr(e.getPropertyName(),"eq",r)})}});t.addAnd(i)});return t}function O(){var e=0;var r=a.length;for(var t=0;t<r;t++){if(a[t].isLevel){e=t+1;break}}if(a[e]){var i=b(A());l[a[e].getPropertyName()]=i;a[e].setRestriction(i)}else{y.resolve(b(A()))}}};sap.apf.utils.StartFilterHandler=n;return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/startParameter", ["sap/base/util/UriParameters"],function(t){"use strict";var a=function(a,i){var e=null;var n=null;var p=null;var r;var s;var f;var o;var u;var l;if(a&&a.getComponentData&&a.getComponentData()&&a.getComponentData().startupParameters){f=a.getComponentData().startupParameters;if(sap&&sap.flp&&sap.flp.FaasInitUtils&&sap.flp.FaasInitUtils.siteType&&sap.flp.FaasInitUtils.siteType=="flp"){if(f["sap-apf-configuration-id"]){l=f["sap-apf-configuration-id"][0].split(".");if(l.length===2){e=null}else{e=f["sap-apf-configuration-id"][0]}}}else if(f["sap-apf-configuration-id"]){e=f["sap-apf-configuration-id"][0]}if(f["sap-apf-step-id"]){n=f["sap-apf-step-id"][0]}if(f["sap-apf-representation-id"]){p=f["sap-apf-representation-id"][0]}if(f["sap-apf-app-config-path"]){r=f["sap-apf-app-config-path"][0]}if(f["evaluationId"]){s=f["evaluationId"][0]}if(f["sap-client"]){o=f["sap-client"][0]}if(f["sap-system"]){u=f["sap-system"][0]}}this.getSapSystem=function(){return u};this.getAnalyticalConfigurationId=function(){var a,i;if(!e){var n=new t(window.location.href);e=n.get("sap-apf-configuration-id")}if(e){i={};a=e.split(".");if(a.length===2){i.applicationId=a[0];i.configurationId=a[1]}else{i.configurationId=e}}return i};this.getSteps=function(){var a=new t(window.location.href);if(!n){n=a.get("sap-apf-step-id")}if(!p){p=a.get("sap-apf-representation-id")}if(!n){return null}return[{stepId:n,representationId:p}]};this.getXappStateId=function(){var t=/(?:sap-xapp-state=)([^&=]+)/;var a=t.exec(window.location.hash);if(a){return a[1]}return null};this.getApplicationConfigurationPath=function(){return r};this.getEvaluationId=function(){return s};this.isLrepActive=function(){if(i&&i.manifest&&i.manifest["sap.apf"]&&i.manifest["sap.apf"].activateLrep){return i.manifest["sap.apf"].activateLrep}return false};this.getSapClient=function(){return o};this.isFilterReductionActive=function(){if(f&&f["sap-apf-filter-reduction"]){return f["sap-apf-filter-reduction"][0]}if(i&&i.manifest&&i.manifest["sap.apf"]&&i.manifest["sap.apf"].activateFilterReduction){return i.manifest["sap.apf"].activateFilterReduction}return false};this.getParameter=function(a){if(f&&f[a]){return f[a][0]}var i=new t(window.location.href);return i.get(a)}};sap.apf.utils.StartParameter=a;return a},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/apf/utils/trace", [],function(){"use strict";var o={apfLogStyle:"color: blue; font-style: italic; background-color: wheat;padding: 1px",apfWarningStyle:"color: DarkMagenta; font-style: bold; background-color: wheat;padding: 1px",apfErrorStyle:"color: white; font-style: bold; background-color: red;padding: 1px",logCounter:0,_logBase:function(e,n,l,a,t,r,d,g,i){if(jQuery.sap.log.apfTrace===undefined){return}a=a===undefined?"":a||a;t=t===undefined?"":t||t;r=r===undefined?"":r||r;d=d===undefined?"":d||d;g=g===undefined?"":g||g;i=i===undefined?"":i||i;var u="%c%s %s %s ";window.console.log(u,e,n,o.logCounter,l,a,t,r,d,g,i)},log:function(e,n,l,a,t,r,d){o._logBase(o.apfLogStyle,"-APF-",e,n,l,a,t,r,d)},logCall:function(e,n,l,a,t,r,d){++o.logCounter;o._logBase(o.apfLogStyle,">APF>",e,n,l,a,t,r,d)},logReturn:function(e,n,l,a,t,r,d){o._logBase(o.apfLogStyle,"<APF<",e,n,l,a,t,r,d);--o.logCounter},emphasize:function(e,n,l,a,t,r,d){o._logBase(o.apfWarningStyle,"-APF-",e,n,l,a,t,r,d)}};return o});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/utils", ["sap/ui/core/format/DateFormat","sap/apf/utils/hashtable","sap/base/util/UriParameters","sap/m/ViewSettingsDialog"],function(e,t,r,a){"use strict";function n(e){var t=parseInt(e,10);if(t<10){return"0"+t}return e}var i;var s=0;var o={renderHeaderOfTextPropertyFile:function(e,t){var r=e.toLowerCase();var a=/^[0-9a-f]+$/;var n=a.test(r);if(!n||e.length!==32){t.putMessage(t.createMessageObject({code:"5409",aParameters:[e]}));r="<please enter valid translation uuid, if you want to upload into a SAP translation system>"}else{r=r.substring(0,8)+"-"+r.substring(8,12)+"-"+r.substring(12,16)+"-"+r.substring(16,20)+"-"+r.substring(20)}return"#FIORI: insert Fiori-Id\n"+"# __ldi.translation.uuid="+r+"\n"+"#ApfApplicationId="+e+"\n\n"},getUriParameters:function(){var e=new r(window.location.href);return e.mParams},createPromise:function(e,t){var r=jQuery.Deferred();if(!t){r.resolve(e)}else{setTimeout(function(){r.resolve(e)},t)}return r.promise()},renderTextEntries:function(e,t){i=false;var r=e.getKeys();r.sort(function(t,r){var a=e.getItem(t);var n=e.getItem(r);if(a.LastChangeUTCDateTime<n.LastChangeUTCDateTime){return-1}if(a.LastChangeUTCDateTime>n.LastChangeUTCDateTime){return 1}return 0});var a=r.length;var n="";var s;for(s=0;s<a;s++){n=n+o.renderEntryOfTextPropertyFile(e.getItem(r[s]),t)}return n},renderEntryOfTextPropertyFile:function(t,r){var a,n;if(!i&&(!t.TextElementType||!t.MaximumLength)){i=true;r.putMessage(r.createMessageObject({code:"5408",aParameters:[t.TextElement]}))}var s="#"+(t.TextElementType||"<Add text type>")+","+(t.MaximumLength||"<Add maximum length>");if(t.TranslationHint&&t.TranslationHint!==""){s=s+":"+t.TranslationHint}s=s+"\n"+t.TextElement+"="+t.TextElementDescription+"\n";var o=e.getDateTimeInstance({pattern:"yyyy/MM/dd HH:mm:ss"});if(t.LastChangeUTCDateTime&&t.LastChangeUTCDateTime!==""){a=t.LastChangeUTCDateTime.replace(/\/Date\(/,"").replace(/\)\//,"");n=new Date(parseInt(a,10))}else{n=new Date}s=s+"# LastChangeDate="+o.format(n)+"\n\n";return s},eliminateDuplicatesInArray:function(e,t){e.check(t!==undefined&&typeof t==="object"&&t.hasOwnProperty("length")===true,"Error - aArray is undefined");var r=[];var a,n;for(a=0;a<t.length;a++){for(n=a+1;n<t.length;n++){if(t[a]===t[n]){n=++a}}r.push(t[a])}return r},hashCode:function(e){var t=0;var r;var a=0;e=e.toString();var n=e.length;for(r=0;r<n;r++){a=e.charCodeAt(r);t=17*t+a<<0}return Math.abs(t)},escapeOdata:function(e){if(typeof e==="string"){return e.replace("'","''")}return e},json2javascriptFormat:function(e,t){var r;switch(t){case"Edm.Boolean":if(typeof e==="boolean"){return e}if(typeof e==="string"){return e.toLowerCase()==="true"}return false;case"Edm.Decimal":case"Edm.Guid":case"Edm.Int64":case"Edm.String":return e;case"Edm.Int16":case"Edm.Int32":return parseInt(e,10);case"Edm.Single":case"Edm.Float":return parseFloat(e);case"Edm.Time":return e;case"Edm.DateTime":r=e.replace("/Date(","").replace(")/","");r=parseFloat(r);return new Date(r);case"Edm.DateTimeOffset":r=e.replace("/Date(","");r=r.replace(")/","");r=parseFloat(r);return new Date(r);default:return e}},formatValue:function(t,r){function a(e){var t;var r=new RegExp("^[0-9]*$");if(e instanceof Date){return e}if(typeof e==="string"){if(e.substring(0,6)==="/Date("){t=e.replace("/Date(","");t=t.replace(")/","");t=parseInt(t,10);return new Date(t)}else if(e.length===8&&r.test(e)){return o.convertFiscalYearMonthDayToDate(e)}return new Date(e)}return undefined}var i;var s="";if(t===null||t===undefined){return"null"}var u=r.dataType.type;switch(u){case"Edm.String":if(r["sap-semantics"]==="yearmonthday"){if(typeof t==="object"&&t instanceof Date){var f=t.getUTCFullYear()+"";var c=n(t.getUTCMonth()+1+"");var m=n(t.getUTCDate()+"");t=f+c+m}}s="'"+String(t).replace(/'/g,"''")+"'";break;case"Edm.Time":if(typeof t==="number"){i=new Date;i.setTime(t);var l=i.getUTCHours();if(l<10){l="0"+l}var p=i.getUTCMinutes();if(p<10){p="0"+p}var d=i.getUTCSeconds();if(d<10){d="0"+d}s="time'"+l+":"+p+":"+d+"'"}else{s="time'"+t+"'"}break;case"Edm.DateTime":if(!o.formatValue.oDateTimeFormat){o.formatValue.oDateTimeFormat=e.getDateInstance({pattern:"'datetime'''yyyy-MM-dd'T'HH:mm:ss''"})}i=a(t);s=o.formatValue.oDateTimeFormat.format(i,true);break;case"Edm.DateTimeOffset":if(!o.formatValue.oDateTimeOffsetFormat){o.formatValue.oDateTimeOffsetFormat=e.getDateInstance({pattern:"'datetimeoffset'''yyyy-MM-dd'T'HH:mm:ss'Z'''"})}i=a(t);s=o.formatValue.oDateTimeOffsetFormat.format(i,true);break;case"Edm.Guid":s="guid'"+t+"'";break;case"Edm.Decimal":s=t+"M";break;case"Edm.Int64":s=String(t)+"L";break;case"Edm.Single":s=t+"f";break;case"Edm.Binary":s="binary'"+t+"'";break;default:s=t;break}return s},extractFunctionFromModulePathString:function(e){if(jQuery.isFunction(e)){return e}var t,r,a;r=e.split(".");t=window;var n;for(n=0;n<r.length-1;n++){t=t[r[n]];if(!t){return undefined}}a=r[r.length-1];return t[a]},isValidGuid:function(e){return/^[0-9A-F]{32}$/.test(e)},isValidPseudoGuid:function(e){return/^[0-9A-F]{32}$/.test(e)},createPseudoGuid:function(e){if(!e&&e!==0){e=32}var t=Date.now().toString();var r=e-t.length;t+=o.createRandomNumberString(r);return t},createRandomNumberString:function(e){var t="";var r,a,n;while(t.length<e){r=Math.min(10,e-t.length);a=Math.pow(10,r);n=u((new Date).getTime());t+=Math.floor(n*a)}return t},migrateConfigToCategoryStepAssignment:function(e,t){var r=t.constructors&&t.constructors.Hashtable||r;var a=new r(t.instances.messageHandler);if(e.steps){e.steps.forEach(function(e){if(e.categories){e.categories.forEach(function(t){var r=a.getItem(t.id);if(!r){r={category:t.id,steps:[{type:"step",id:e.id}]};a.setItem(t.id,r)}else{r.steps.push({type:"step",id:e.id})}});delete e.categories}})}if(e.categories){e.categories.forEach(function(e){if(!e.steps){var t=a.getItem(e.id);if(t){e.steps=t.steps}else{e.steps=[]}}})}},getComponentNameFromManifest:function(e){var t;if(e["sap.ui5"]&&e["sap.ui5"].componentName){t=e["sap.ui5"].componentName}else{t=e["sap.app"].id}if(t.search("Component")>-1){return t}return t+".Component"},validateSelectedValues:function(e,t){var r={valid:[],invalid:[]};if(!e||!jQuery.isArray(e)||e.length===0){return r}if(!t||!jQuery.isArray(t)||t.length===0){r.invalid=e;return r}e.forEach(function(e){if(jQuery.inArray(e,t)===-1){r.invalid.push(e)}else{r.valid.push(e)}});return r},extractPathnameFromUrl:function(e){var t="a";var r;var a=document.createElement(t);a.href=e;if(a.pathname){r=a.pathname;if(r&&r[0]!=="/"){r="/"+r}return r}return e},extractOdataErrorResponse:function(e){var t;if(typeof e==="string"){t=JSON.parse(e)}else{t=e}var r=t&&t.error&&t.error.message&&t.error.message.value||t&&t.error&&t.error.message&&t.error.message||e;if(t&&t.error&&t.error.innererror&&t.error.innererror.errordetails){r=r+"\n";t.error.innererror.errordetails.forEach(function(e){r=r+e.message+"\n"})}else if(t&&t.error&&t.error.details){r=r+"\n";t.error.details.forEach(function(e){r=r+e.message+"\n"})}return r},checkAndCloseDialog:function(e){if(e!==undefined){if(e instanceof a){e.destroy()}else if(e.isOpen()){e.close()}}},convertFiscalYearMonthDayToDate:function(e){var t=parseInt(e.substr(0,4),10);var r=parseInt(e.substr(4,2),10);var a=parseInt(e.substr(6,2),10);return new Date(Date.UTC(t,r-1,a))},convertFiscalYearMonthDayToDateString:function(e){return o.convertFiscalYearMonthDayToDate(e).toUTCString()},convertDateListToInternalFormat:function(e,t){function r(e){var t=parseInt(e,10);if(t<10){return"200"+t}else if(t<100){return"20"+t}return e}if(!e||!e.length){return e}var a=[];e.forEach(function(e){var i,s,o,u,f;if(new RegExp("^[0-9]{1,2}\\.[0-9]{1,2}\\.[0-9]+$").test(e)){u=e.split(".");o=n(u[0]);s=n(u[1]);i=r(u[2])}else if(new RegExp("^[0-9]{1,2}/[0-9]{1,2}/[0-9]+$").test(e)){u=e.split("/");s=n(u[0]);o=n(u[1]);i=r(u[2])}else if(new RegExp("^[0-9]{4}-[0-9]{2}-[0-9]{2}").test(e)){i=e.slice(0,4);s=e.slice(5,7);o=e.slice(8,10)}if(i!==undefined&&s!==undefined&&o!==undefined){if(t.getAttribute("type")==="Edm.String"){a.push(i+s+o)}else{f=new Date(Date.UTC(parseInt(i,10),parseInt(s,10)-1,parseInt(o,10)));a.push(f)}}else{a.push(e)}});return a},convertToExternalFormat:function(t,r){var a=r.getAttribute("type");var n,i;var s;switch(a){case"Edm.DateTime":s=r.getAttribute("sap:display-format");if(s==="Date"&&t instanceof Date){n=e.getDateInstance({style:"short"});return n.format(t,true)}else if(s==="Date"&&typeof t==="string"){if(t.length===8){i=o.convertFiscalYearMonthDayToDate(t);n=e.getDateInstance({style:"short"});return n.format(i,true)}i=new Date(Date.parse(t));if(isNaN(i.getTime())){return t}n=e.getDateInstance({style:"short"});return n.format(i,true)}return t.toString();case"Edm.String":s=r.getAttribute("sap:semantics");if(s==="yearmonthday"){if(t.length===8){i=o.convertFiscalYearMonthDayToDate(t)}else{i=new Date(Date.parse(t))}if(isNaN(i.getTime())){return t}n=e.getDateInstance({style:"short"});return n.format(i,true)}return t;default:return t}},sortByProperty:function(e,t,r){if(e.length===0){return[]}var a=r?r.type:undefined;var n=e[0][t];var i;if(typeof n==="number"){return e.sort(function(e,r){return e[t]-r[t]})}else if(typeof n==="object"&&n instanceof Date){return e.sort(function(e,r){return e[t].getTime()-r[t].getTime()})}else if(typeof n==="string"){switch(a){case"Edm.DateTime":return e.sort(function(e,r){return Date.parse(e[t])-Date.parse(r[t])});case"Edm.String":i=r["sap:semantics"];if(i==="yearmonthday"&&n.length===8){return e.sort(function(e,r){return e[t].localeCompare(r[t])})}else if(i==="yearmonthday"){return e.sort(function(e,r){return Date.parse(e[t])-Date.parse(r[t])})}return e.sort(function(e,r){return e[t].localeCompare(r[t])});default:return e.sort(function(e,r){return e[t].localeCompare(r[t])})}}},isPropertyTypeWithDateSemantics:function(e){var t=e["type"];var r=e["sap:display-format"];return t==="Edm.DateTime"&&r==="Date"||t==="Edm.String"&&e["sap:semantics"]==="yearmonthday"}};function u(e){s++;var t,r,a;e=s.toString()+e.toString();t=o.hashCode(e);r=t.toString().length;a=t/Math.pow(10,r);return a}Object.keys(o).forEach(function(e){sap.apf.utils[e]=o[e]});return o},true);
sap.ui.require.preload({
	"sap/apf/base/manifest.json":'{"_version":"1.1.0","sap.app":{"_version":"1.1.0","id":"sap.apf.base","type":"component","embeddedBy":"../","i18n":"../resources/i18n/apfUi.properties","title":"{{AnalysisPathFramework}}","description":"{{AnalysisPathFrameworkDescription}}","ach":"CA-EPT-ANL-APF","resources":"resources.json","offline":false},"sap.ui":{"_version":"1.1.0","technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":false},"supportedThemes":["sap_hcb","sap_bluecrystal"]},"sap.ui5":{"_version":"1.1.0","dependencies":{"libs":{"sap.ui.core":{"minVersion":"1.30.0"},"sap.m":{"minVersion":"1.30.0"},"sap.ui.layout":{"minVersion":"1.30.0"},"sap.ushell":{"minVersion":"1.30.0"},"sap.viz":{"minVersion":"1.30.0"},"sap.ui.comp":{"minVersion":"1.30.0"},"sap.suite.ui.commons":{"minVersion":"1.30.0"},"sap.ui.export":{"minVersion":"1.50.0"}}},"contentDensities":{"compact":false,"cozy":false},"config":{"fullWidth":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"../resources/i18n/apfUi.properties"}}}}',
	"sap/apf/cloudFoundry/ui/sharedialog/fragment/ShareDialog.fragment.xml":'<core:FragmentDefinition\r\n\txmlns="sap.m"\r\n\txmlns:l="sap.ui.layout"\r\n\txmlns:f="sap.ui.layout.form"\r\n\txmlns:core="sap.ui.core" ><Dialog id="shareDialog" title="{value: \'shareConfiguration\', formatter: \'.translate\'}" contentWidth="750px" ><content><FlexBox direction="Column" ><FlexBox alignItems="Center" justifyContent="Center" ><items><FlexBox alignItems="Center" justifyContent="Center" ><layoutData><FlexItemData growFactor="1" /></layoutData><GenericTile id="tilePreview" header="{path: \'ui>/TileHeader\'}" subheader="{path: \'ui>/TileSubheader\'}" tooltip="{path: \'ui>/TileTooltip\'}" ><TileContent><ImageContent id="tileImage" src="{path: \'ui>/TileIcon\'}" /></TileContent></GenericTile></FlexBox><FlexBox alignItems="Center" justifyContent="Start" ><layoutData><FlexItemData growFactor="1" /></layoutData><f:SimpleForm id="formTile"\r\n\t\t\t\t\t\t\teditable="true"\r\n\t\t\t\t\t\t\tlayout="ResponsiveGridLayout"\r\n\t\t\t\t\t\t\tlabelSpanXL="3"\r\n\t\t\t\t\t\t\tlabelSpanL="3"\r\n\t\t\t\t\t\t\tlabelSpanM="3"\r\n\t\t\t\t\t\t\tlabelSpanS="3"\r\n\t\t\t\t\t\t\twidth="400px" ><f:content><Label id="labelHeader" text="{value: \'bookmarkHeader\', formatter: \'.translate\'}" labelFor="inputHeader" /><Input id="inputHeader" placeholder="{path: \'ui>/TileHeaderDefault\'}" liveChange="onHeaderChange" /><Label id="labelSubheader" text="{value: \'bookmarkSubheader\', formatter: \'.translate\'}" labelFor="inputSubheader" /><Input id="inputSubheader" placeholder="{value: \'bookmarkSubheaderDefault\', formatter: \'.translate\'}" liveChange="onSubheaderChange" /><Label id="labelIcon" text="{value: \'bookmarkIcon\', formatter: \'.translate\'}" labelFor="inputIcon" /><Input id="inputIcon" change="onIconChange" valueState="{path: \'ui>/TileIconValueState\'}" valueStateText="{value: \'bookmarkIconInvalid\', formatter: \'.translate\'}" /><Label id="labelGroup" text="{value: \'bookmarkGroup\', formatter: \'.translate\'}" labelFor="inputGroup" /><Input id="inputGroup" liveChange="onGroupChange" /></f:content></f:SimpleForm></FlexBox></items></FlexBox><FlexBox justifyContent="Center" ><Button id="buttonLink" text="{value: \'showLink\', formatter: \'.translate\'}" type="Transparent" icon="sap-icon://copy" press="onShowLink" class="sapUiMediumMarginEnd" tooltip="{value: \'showLinkTooltip\', formatter: \'.translate\'}" /><Button id="buttonEmail" text="{value: \'sendInEmail\', formatter: \'.translate\'}" type="Transparent" icon="sap-icon://email" press="onSendEmail" class="sapUiMediumMarginEnd" tooltip="{value: \'sendInEmailTooltip\', formatter: \'.translate\'}" /><Button id="buttonFavorite" text="{value: \'markAsFavorite\', formatter: \'.translate\'}" type="Transparent" icon="sap-icon://add-favorite" press="onMarkFavorite" class="sapUiMediumMarginEnd" tooltip="{value: \'markAsFavoriteTooltip\', formatter: \'.translate\'}" /></FlexBox><Input id="inputCopy" editable="false" visible="false" /></FlexBox></content><buttons><Button id="buttonClose" text="{value: \'close\', formatter: \'.translate\'}" press="onClose" /></buttons></Dialog></core:FragmentDefinition>',
	"sap/apf/cloudFoundry/ui/sharedialog/fragment/ShowLinkDialog.fragment.xml":'<core:FragmentDefinition\r\n\txmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog\r\n\t\tid="showLinkDialog"\r\n\t\ttitle="{value: \'configurationLink\', formatter: \'.translate\'}"\r\n\t\ttype="Message"\r\n\t\tstate="None"\r\n\t\tbeforeOpen=".onBeforeOpen"\r\n\t\tafterOpen=".onAfterOpen"\r\n\t\tafterClose=".onAfterClose"><content><TextArea id="textAreaLink" width="100%" editable="false" growing="true"/></content><endButton><Button id="buttonCloseLinkDialog" text="{value: \'close\', formatter: \'.translate\'}" press=".onButtonClosePress"/></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/cloudFoundry/ui/sharedialog/view/ShareDialog.view.xml":'<mvc:View\r\n\tcontrollerName="sap.apf.cloudFoundry.ui.sharedialog.controller.ShareDialog"\r\n\txmlns="sap.m"\r\n\txmlns:mvc="sap.ui.core.mvc"></mvc:View>',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/CatalogBrowser.fragment.xml":'<core:FragmentDefinition\r\n    xmlns="sap.m"\r\n\txmlns:l="sap.ui.layout"\r\n\txmlns:f="sap.ui.layout.form"\r\n    xmlns:core="sap.ui.core" ><Dialog\r\n        id="catalogBrowser"\r\n        title="{path: \'ui>/Title\'}"\r\n        contentWidth="60%"\r\n        contentHeight="1000px"><subHeader><Bar visible="{path: \'ui>/SearchEnabled\'}"><contentMiddle><SearchField \r\n                        id="searchField"\r\n                        liveChange="onLiveChangeSearch"\r\n                        search="onSearch" /></contentMiddle></Bar></subHeader><content><NavContainer\r\n                id="navContainer"><ScrollContainer horizontal="false" vertical="true" height="100%"><List\r\n                        id="selectDestination"\r\n                        items="{destinations>/destinations}"><items><StandardListItem\r\n                                title="{destinations>name}"\r\n                                description="{destinations>description}"\r\n                                info="{destinations>url}"\r\n                                icon="{path: \'destinations>proxyType\', formatter: \'.proxyTypeIcon\'}"\r\n                                adaptTitleSize="false"\r\n                                type="Navigation"\r\n                                press="onSelectDestination" /></items></List></ScrollContainer><ScrollContainer horizontal="false" vertical="true" height="100%"><Table id="selectService"\r\n                        fixedLayout="false"\r\n                        sticky="ColumnHeaders"\r\n                        inset="false"\r\n                        items="{\r\n                            path: \'catalog>/ServiceCollection\',\r\n                            sorter: { path: \'TechnicalServiceName\', descending: false }\r\n                        }"><columns><Column><Text id="columnTextTechnicalServiceName" text="{value: \'technicalServiceName\', formatter: \'.translate\'}" /></Column><Column\r\n                                minScreenWidth="Tablet"\r\n                                demandPopin="true"><Text id="columnTextUrl" text="{value: \'url\', formatter: \'.translate\'}" /></Column></columns><items><ColumnListItem type="Navigation" press="onSelectService" vAlign="Middle"><cells><ObjectIdentifier\r\n                                        title="{catalog>TechnicalServiceName}"\r\n                                        text="{catalog>Description}"/><Text\r\n                                        text="{path: \'catalog>ServiceUrl\', formatter: \'.getRelativeServiceURL\'}" /></cells></ColumnListItem></items></Table></ScrollContainer><ScrollContainer horizontal="false" vertical="true" height="100%"><f:SimpleForm id="urlInputForm"\r\n                        editable="true"\r\n                        layout="ResponsiveGridLayout"\r\n                        labelSpanXL="1"\r\n                        labelSpanL="1"\r\n                        labelSpanM="1"\r\n                        labelSpanS="12"\r\n                        adjustLabelSpan="false"\r\n                        columnsXL="1"\r\n                        columnsL="1"\r\n                        columnsM="1"\r\n                        singleContainerFullSize="false" ><f:content><Label text="{value: \'url\', formatter: \'.translate\'}" /><ComboBox id="urlInput"\r\n                                placeholder="{value: \'serviceURLExample\', formatter: \'.translate\'}"\r\n                                valueState="{path: \'ui>/ServiceUrlValueState\'}"\r\n                                valueStateText="{value: \'serviceURLFormatWarning\', formatter: \'.translate\'}"\r\n                                showButton="false" /><Label /></f:content></f:SimpleForm></ScrollContainer><core:Fragment fragmentName="sap.apf.cloudFoundry.ui.valuehelp.fragment.Overview" type="XML" /><core:Fragment fragmentName="sap.apf.cloudFoundry.ui.valuehelp.fragment.OverviewReduced" type="XML" /><core:Fragment fragmentName="sap.apf.cloudFoundry.ui.valuehelp.fragment.OverviewServiceOnly" type="XML" /></NavContainer></content><buttons><Button id="buttonOk" text="{value: \'ok\', formatter: \'.translate\'}" visible="{ui>/ButtonOkEnabled}" press="onOk" type="Emphasized" /><Button id="buttonSelect" text="{value: \'select\', formatter: \'.translate\'}" visible="{ui>/ButtonSelectEnabled}" press="onSelectServiceUrl" /><Button id="buttonBack" text="{value: \'back\', formatter: \'.translate\'}" visible="{ui>/ButtonBackEnabled}" press="onBack" /><Button id="buttonCancel" text="{value: \'cancel\', formatter: \'.translate\'}" press="onCancel" /></buttons></Dialog></core:FragmentDefinition>',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/Overview.fragment.xml":'<core:FragmentDefinition\r\n    xmlns="sap.m"\r\n    xmlns:l="sap.ui.layout"\r\n    xmlns:f="sap.ui.layout.form"\r\n    xmlns:core="sap.ui.core" ><ScrollContainer horizontal="false" vertical="true" height="100%"><f:SimpleForm id="destinationOverview"\r\n            editable="false"\r\n            layout="ResponsiveGridLayout"\r\n            labelSpanXL="3"\r\n            labelSpanL="3"\r\n            labelSpanM="3"\r\n            labelSpanS="12"\r\n            adjustLabelSpan="false"\r\n            columnsXL="1"\r\n            columnsL="1"\r\n            columnsM="1"\r\n            singleContainerFullSize="false" ><Title text="{value: \'selectedDestination\', formatter: \'.translate\'}" /><f:content><Label id="destinationOverviewName" text="{value: \'destinationName\', formatter: \'.translate\'}" /><Text text="{destinations>name}" /><Label id="destinationOverviewDescription" text="{value: \'destinationDescription\', formatter: \'.translate\'}" /><Text text="{destinations>description}" /><Label id="destinationOverviewProxyType" text="{value: \'destinationProxyType\', formatter: \'.translate\'}" /><Text text="{path: \'destinations>proxyType\', formatter: \'.proxyTypeText\'}" /><Label id="destinationOverviewUrl" text="{value: \'url\', formatter: \'.translate\'}" /><Text text="{destinations>url}" /></f:content></f:SimpleForm><f:SimpleForm id="serviceOverview"\r\n            editable="false"\r\n            layout="ResponsiveGridLayout"\r\n            labelSpanXL="3"\r\n            labelSpanL="3"\r\n            labelSpanM="3"\r\n            labelSpanS="12"\r\n            adjustLabelSpan="false"\r\n            columnsXL="1"\r\n            columnsL="1"\r\n            columnsM="1"\r\n            singleContainerFullSize="false" ><Title text="{value: \'selectedService\', formatter: \'.translate\'}" /><f:content><Label id="serviceOverviewTechnicalServiceName" text="{value: \'technicalServiceName\', formatter: \'.translate\'}" /><Text text="{catalog>TechnicalServiceName}" /><Label id="serviceOverviewUrl" text="{value: \'url\', formatter: \'.translate\'}" /><Text text="{path: \'catalog>ServiceUrl\', formatter: \'.getRelativeServiceURL\'}" /><Label id="serviceOverviewDescription" text="{value: \'description\', formatter: \'.translate\'}" /><Text text="{catalog>Description}" /><Label id="serviceOverviewUpdatedDate" text="{value: \'updatedDate\', formatter: \'.translate\'}" /><Text text="{path: \'catalog>UpdatedDate\', type: \'sap.ui.model.type.DateTime\'}" /><Label id="serviceOverviewTechnicalServiceVersion" text="{value: \'technicalServiceVersion\', formatter: \'.translate\'}" /><Text text="{path: \'catalog>TechnicalServiceVersion\'}" /><Label id="serviceOverviewStatus" text="{value: \'serviceStatus\', formatter: \'.translate\'}" /><ObjectStatus\r\n                    icon="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusIcon\'}"\r\n                    state="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusState\'}"\r\n                    text="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusText\'}" /></f:content></f:SimpleForm></ScrollContainer></core:FragmentDefinition>\r\n',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/OverviewReduced.fragment.xml":'<core:FragmentDefinition\r\n    xmlns="sap.m"\r\n    xmlns:l="sap.ui.layout"\r\n    xmlns:f="sap.ui.layout.form"\r\n    xmlns:core="sap.ui.core" ><ScrollContainer horizontal="false" vertical="true" height="100%"><f:SimpleForm id="reducedDestinationOverview"\r\n            editable="false"\r\n            layout="ResponsiveGridLayout"\r\n            labelSpanXL="3"\r\n            labelSpanL="3"\r\n            labelSpanM="3"\r\n            labelSpanS="12"\r\n            adjustLabelSpan="false"\r\n            columnsXL="1"\r\n            columnsL="1"\r\n            columnsM="1"\r\n            singleContainerFullSize="false" ><Title text="{value: \'selectedDestination\', formatter: \'.translate\'}" /><f:content><Label id="reducedDestinationOverviewName" text="{value: \'destinationName\', formatter: \'.translate\'}" /><Text text="{destinations>name}" /><Label id="reducedDestinationOverviewDescription" text="{value: \'destinationDescription\', formatter: \'.translate\'}" /><Text text="{destinations>description}" /><Label id="reducedDestinationOverviewProxyType" text="{value: \'destinationProxyType\', formatter: \'.translate\'}" /><Text text="{path: \'destinations>proxyType\', formatter: \'.proxyTypeText\'}" /><Label id="reducedDestinationOverviewUrl" text="{value: \'url\', formatter: \'.translate\'}" /><Text text="{destinations>url}" /></f:content></f:SimpleForm><f:SimpleForm id="reducedServiceOverview"\r\n            editable="false"\r\n            layout="ResponsiveGridLayout"\r\n            labelSpanXL="3"\r\n            labelSpanL="3"\r\n            labelSpanM="3"\r\n            labelSpanS="12"\r\n            adjustLabelSpan="false"\r\n            columnsXL="1"\r\n            columnsL="1"\r\n            columnsM="1"\r\n            singleContainerFullSize="false" ><Title text="{value: \'selectedService\', formatter: \'.translate\'}" /><f:content><Label id="reducedServiceOverviewUrl" text="{value: \'url\', formatter: \'.translate\'}" /><Text text="{ui>/Service}" /><Label id="reducedServiceOverviewStatus" text="{value: \'serviceStatus\', formatter: \'.translate\'}" /><ObjectStatus\r\n                    icon="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusIcon\'}"\r\n                    state="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusState\'}"\r\n                    text="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusText\'}" /></f:content></f:SimpleForm></ScrollContainer></core:FragmentDefinition>\r\n',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/OverviewServiceOnly.fragment.xml":'<core:FragmentDefinition\r\n    xmlns="sap.m"\r\n    xmlns:l="sap.ui.layout"\r\n    xmlns:f="sap.ui.layout.form"\r\n    xmlns:core="sap.ui.core" ><ScrollContainer horizontal="false" vertical="true" height="100%"><MessageStrip text="{value: \'directServiceDestination\', formatter: \'.translate\'}" type="Information" showIcon="true" class="sapUiSmallMargin" /><f:SimpleForm id="serviceOnlyOverview"\r\n            editable="false"\r\n            layout="ResponsiveGridLayout"\r\n            labelSpanXL="3"\r\n            labelSpanL="3"\r\n            labelSpanM="3"\r\n            labelSpanS="12"\r\n            adjustLabelSpan="false"\r\n            columnsXL="1"\r\n            columnsL="1"\r\n            columnsM="1"\r\n            singleContainerFullSize="false" ><f:content><Label id="serviceOnlyOverviewName" text="{value: \'destinationName\', formatter: \'.translate\'}" /><Text text="{destinations>name}" /><Label id="serviceOnlyOverviewDescription" text="{value: \'destinationDescription\', formatter: \'.translate\'}" /><Text text="{destinations>description}" /><Label id="serviceOnlyOverviewProxyType" text="{value: \'destinationProxyType\', formatter: \'.translate\'}" /><Text text="{path: \'destinations>proxyType\', formatter: \'.proxyTypeText\'}" /><Label id="serviceOnlyOverviewUrl" text="{value: \'url\', formatter: \'.translate\'}" /><Text text="{destinations>url}" /><Label id="serviceOnlyOverviewStatus" text="{value: \'serviceStatus\', formatter: \'.translate\'}" /><ObjectStatus\r\n                    icon="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusIcon\'}"\r\n                    state="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusState\'}"\r\n                    text="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusText\'}" /></f:content></f:SimpleForm></ScrollContainer></core:FragmentDefinition>\r\n',
	"sap/apf/cloudFoundry/ui/valuehelp/view/CatalogBrowser.view.xml":'<mvc:View\r\n    controllerName="sap.apf.cloudFoundry.ui.valuehelp.controller.CatalogBrowser"\r\n    xmlns="sap.m"\r\n    xmlns:mvc="sap.ui.core.mvc"></mvc:View>',
	"sap/apf/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.apf","type":"library","embeds":["base","modeler"],"applicationVersion":{"version":"1.108.2"},"title":"Analysis Path Framework","description":"Analysis Path Framework","ach":"CA-EPT-ANL-APF","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.108","libs":{"sap.ui.core":{"minVersion":"1.108.16"},"sap.suite.ui.commons":{"minVersion":"1.108.7"},"sap.m":{"minVersion":"1.108.16"},"sap.ui.layout":{"minVersion":"1.108.16"},"sap.ushell":{"minVersion":"1.108.19"},"sap.viz":{"minVersion":"1.108.16"},"sap.ui.comp":{"minVersion":"1.108.16"},"sap.ui.export":{"minVersion":"1.108.16"},"sap.ui.table":{"minVersion":"1.108.16"}}},"library":{"i18n":false,"css":false,"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/apf/modeler/core/applicationHandler.js":function(){
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.apf.modeler.core.applicationHandler");jQuery.sap.require("sap.apf.utils.hashtable");(function(){"use strict";sap.apf.modeler.core.ApplicationHandler=function(t,e){var i=this;var n=t.instances.persistenceProxy;var a=t.instances.messageHandler;var c=t.constructors.Hashtable;var p;this.type="application";this.setAndSave=function(t,e,i,a){if(typeof t==="object"&&typeof e==="function"&&typeof i==="string"&&!a){var c=function(i,n){if(n){e(undefined,i,n)}else{p.setItem(t.Application,t);e(t.Application,i,n)}};if(!t.SemanticObject){t.SemanticObject=""}t.Application=i;n.update(this.type,t,c,[{name:"Application",value:i}])}else if(typeof t==="object"&&typeof e==="function"){var o=function(t,i,n){if(n){e(t,i,n)}else{p.setItem(t.Application,{Application:t.Application,ApplicationName:t.ApplicationName,SemanticObject:t.SemanticObject});e(t.Application,i,n)}};if(!t.SemanticObject){t.SemanticObject=""}if(a&&i){t.Application=i}else{t.Application=""}n.create(this.type,t,o)}};this.removeApplication=function(e,i){var a=function(n,a){if(!a){p.removeItem(e)}t.functions.resetConfigurationHandler(e);i(e,n,a)};n.remove(this.type,[{name:"Application",value:e}],a)};this.getList=function(){var t=[];var e=function(e,i){t.push(i)};p.forEachOrdered(e);t=t.sort(function(t,e){return t.ApplicationName.localeCompare(e.ApplicationName)});return t};this.getApplication=function(t){return p.getItem(t)};this.registerApplicationCreatedOnServer=function(t,e){var n=i.getList();var a=false;n.forEach(function(e){if(e.Application===t){a=true}});if(!a){p.setItem(t,{Application:t,ApplicationName:e,SemanticObject:""})}};function o(){p=new c(a);var t=function(t,n,a){if(t instanceof Array&&a===undefined){t.forEach(function(t){p.setItem(t.Application,{Application:t.Application,ApplicationName:t.ApplicationName,SemanticObject:t.SemanticObject})})}e(i,a)};n.readCollection(i.type,t)}o()}})();
},
	"sap/apf/modeler/core/configurationObjects.js":function(){
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.apf.modeler.core.configurationObjects");(function(){"use strict";sap.apf.modeler.core.ConfigurationObjects=function(e){var t=this;var i,r,a,n;var s=e.instances.metadataFactory;if(e.constructors&&e.constructors.Hashtable){i=e.constructors.Hashtable}if(e.instances.textPool){r=e.instances.textPool}if(e.instances.persistenceProxy){a=e.instances.persistenceProxy}if(e.instances.messageHandler){n=e.instances.messageHandler}function o(e,t){var i=[];if(t){i.push(t)}n.putMessage(n.createMessageObject({code:e,aParameters:i}))}function l(e){var t=e&&e.type&&e.type==="label"&&e.kind&&e.kind==="text"&&e.key&&typeof e.key==="string";if(!t){o(11030,e.key)}return t}this.serializeLabelKey=function(e){return{type:"label",kind:"text",key:r.getPersistentKey(e)}};this.serializeAndAddThumbnail=function(e,t){var i=e.getLeftLowerCornerTextKey();var r=e.getLeftUpperCornerTextKey();var a=e.getRightUpperCornerTextKey();var n=e.getRightLowerCornerTextKey();var s={type:"thumbnail"};if(r){s.leftUpper=this.serializeLabelKey(r)}if(i){s.leftLower=this.serializeLabelKey(i)}if(a){s.rightUpper=this.serializeLabelKey(a)}if(n){s.rightLower=this.serializeLabelKey(n)}if(s.leftLower||s.leftUpper||s.rightLower||s.rightUpper){t.thumbnail=s}};this.serializeCategory=function(e,i){var a=r.get(e.labelKey);var n=[];if(i){i.forEach(function(e){n.push({type:"step",id:e})})}var s=a&&a.TextElementDescription||"";return{type:"category",description:s,id:e.getId(),label:t.serializeLabelKey(e.labelKey),steps:n}};this.validateCategory=function(e){var t=e&&e.type&&e.type==="category"&&e.id&&e.steps&&l(e.label);if(t){e.steps.forEach(function(e){if(!e.type||e.type!=="step"||!e.id){t=false}})}if(!t){o(11031,e.id)}return t};this.validateRequest=function(e){var t=e&&e.id&&e.type==="request"&&e.service&&typeof e.service==="string"&&(e.entityType&&typeof e.entityType==="string"||e.entitySet&&typeof e.entitySet==="string")&&e.selectProperties&&e.selectProperties&&e.selectProperties instanceof Array&&e.selectProperties.length>=0;if(!t){o(11032,e.id)}return t};this.validateBinding=function(e){var t=e&&e.id&&e.type==="binding"&&e.requiredFilters&&e.requiredFilters instanceof Array&&e.requiredFilters.length>=0&&e.representations&&e.representations instanceof Array;if(!t){o(11033,e.id)}return t};this.validateFacetFilter=function(e){var t=e&&e.id&&e.property&&e.type==="facetFilter";if(!t){o(11034,e.id)}return t};this.validateNavigationTarget=function(e){var t=e&&e.id&&e.semanticObject&&e.action&&e.type==="navigationTarget"&&e.hasOwnProperty("isStepSpecific");if(!t){o(11040,e.id)}return t};this.validateStep=function(e){var t=e&&e.id&&e.type==="step"&&l(e.title)&&l(e.longTitle)&&e.hasOwnProperty("navigationTargets");if(!t){o(11035,e.id)}return t};this.validateConfiguration=function(e){var t=e&&e.applicationTitle&&e.applicationTitle.key&&typeof e.applicationTitle.key==="string"&&e.steps&&e.steps instanceof Array&&e.steps.length>=0&&e.requests&&e.requests instanceof Array&&e.requests.length>=0&&e.bindings&&e.bindings instanceof Array&&e.bindings.length>=0&&e.representationTypes&&e.representationTypes instanceof Array&&e.representationTypes.length>=0&&e.categories&&e.categories instanceof Array&&e.categories.length>=0;if(!t){o(11036)}return t};function p(e){var i=[];var r,a;var n,s;var o;var l;var p;var c;var f=e.getRepresentations();f.forEach(function(e){r=[];a=e.getDimensions();a.forEach(function(t){var i={fieldName:t};if(e.getDimensionKind(t)){i.kind=e.getDimensionKind(t)}if(e.getDimensionTextLabelKey(t)){i.fieldDesc={type:"label",kind:"text",key:e.getDimensionTextLabelKey(t)}}if(e.getLabelDisplayOption(t)){i.labelDisplayOption=e.getLabelDisplayOption(t)}r.push(i)});n=[];s=e.getMeasures();s.forEach(function(t){var i={fieldName:t};if(e.getMeasureKind(t)){i.kind=e.getMeasureKind(t)}if(e.getMeasureTextLabelKey(t)){i.fieldDesc={type:"label",kind:"text",key:e.getMeasureTextLabelKey(t)}}if(e.getMeasureDisplayOption(t)){i.measureDisplayOption=e.getMeasureDisplayOption(t)}n.push(i)});o=[];e.getProperties().forEach(function(t){var i={fieldName:t};if(e.getPropertyKind(t)){i.kind=e.getPropertyKind(t)}if(e.getPropertyTextLabelKey(t)){i.fieldDesc={type:"label",kind:"text",key:e.getPropertyTextLabelKey(t)}}o.push(i)});var f=[{}];if(e.getHierarchyProperty()){f[0].fieldName=e.getHierarchyProperty();f[0].kind="hierarchicalColumn";if(e.getHierarchyPropertyTextLabelKey()){f[0].fieldDesc={type:"label",kind:"text",key:e.getHierarchyPropertyTextLabelKey()}}f[0].labelDisplayOption=e.getHierarchyPropertyLabelDisplayOption()}l=[];e.getOrderbySpecifications().forEach(function(e){l.push({property:e.property,ascending:e.ascending})});p={id:e.getId(),representationTypeId:e.getRepresentationType(),parameter:{dimensions:r,measures:n,properties:o,hierarchicalProperty:f,alternateRepresentationTypeId:e.getAlternateRepresentationType()}};if(e.getWidthProperties()){p.parameter.width=e.getWidthProperties()}if(l.length>0){p.parameter.orderby=l}c=e.getTopN();if(c&&c>0){p.parameter.top=c}t.serializeAndAddThumbnail(e,p);i.push(p)});return i}this.serializeBinding=function(e,t){var i="binding-for-"+e.getId();var a=r.get(e.getTitleId());var n=a&&a.TextElementDescription||"";if(e.getFilterPropertyLabelKey()||e.getFilterPropertyLabelDisplayOption()){var s={labelDisplayOption:e.getFilterPropertyLabelDisplayOption()};if(e.getFilterPropertyLabelKey()){s.fieldDesc=this.serializeLabelKey(e.getFilterPropertyLabelKey())}}t.bindings.push({type:"binding",id:i,stepDescription:n,requiredFilters:e.getFilterProperties(),requiredFilterOptions:s,representations:p(e)});return i};this.serializeRequest=function(e,t){var i;var r="request-for-"+e.getId();i={type:"request",id:r,service:e.getService(),entitySet:e.getEntitySet(),selectProperties:e.getSelectProperties()};t.requests.push(i);return r};this.serializeFilterMappingRequest=function(e,t){var i="request-for-FilterMapping"+e.getId();var r={type:"request",id:i,service:e.getFilterMappingService(),entitySet:e.getFilterMappingEntitySet(),selectProperties:e.getFilterMappingTargetProperties()};t.requests.push(r);return i};this.serializeStep=function(e,i){var a=t.serializeRequest(e,i);var n=t.serializeBinding(e,i);var s=r.get(e.getTitleId());var o=s&&s.TextElementDescription||"";var l=e.getLongTitleId();var p;var c={type:e.getType(),description:o,request:a,binding:n,id:e.getId(),title:t.serializeLabelKey(e.getTitleId()),navigationTargets:[]};if(e.getHierarchyProperty&&e.getHierarchyProperty()){c.hierarchyProperty=e.getHierarchyProperty()}if(e.getFilterMappingService()){c.filterMapping={requestForMappedFilter:t.serializeFilterMappingRequest(e,i),target:e.getFilterMappingTargetProperties(),targetPropertyLabelKey:e.getFilterMappingTargetPropertyLabelKey(),targetPropertyDisplayOption:e.getFilterMappingTargetPropertyLabelDisplayOption(),keepSource:e.getFilterMappingKeepSource()?"true":"false"}}p=e.getTopN();if(p){c.topNSettings=p}if(l!==""&&l!==undefined){c.longTitle=t.serializeLabelKey(e.getLongTitleId())}this.serializeAndAddThumbnail(e,c);e.getNavigationTargets().forEach(function(e){c.navigationTargets.push({type:"navigationTarget",id:e})});return c};this.serializeFacetFilter=function(e,i){var a,n,s;if(e.getServiceOfFilterResolution()){a=p("FilterResolution",e,i)}if(e.getUseSameRequestForValueHelpAndFilterResolution()){n=a}else if(e.getServiceOfValueHelp()){n=p("ValueHelp",e,i)}var o=r.get(e.getLabelKey());var l=o&&o.TextElementDescription||"";if(e.getValueList().length>0){s=e.getValueList()}return{type:"facetFilter",description:l,id:e.getId(),alias:e.getAlias(),property:e.getProperty(),multiSelection:e.isMultiSelection()+"",preselectionFunction:e.getPreselectionFunction(),preselectionDefaults:c(),valueList:s,label:t.serializeLabelKey(e.getLabelKey()),invisible:!e.isVisible(),filterResolutionRequest:a,valueHelpRequest:n,hasAutomaticSelection:e.getAutomaticSelection()+"",useSameRequestForValueHelpAndFilterResolution:e.getUseSameRequestForValueHelpAndFilterResolution()+""};function p(e,t,i){var r;var a;var n;var s;switch(e){case"ValueHelp":a=t.getServiceOfValueHelp();n=t.getEntitySetOfValueHelp();s=t.getSelectPropertiesOfValueHelp();break;case"FilterResolution":a=t.getServiceOfFilterResolution();n=t.getEntitySetOfFilterResolution();s=t.getSelectPropertiesOfFilterResolution();break;default:a="";n="";s="";break}var o=e+"-request-for-"+t.getId();r={type:"request",id:o,service:a,entitySet:n,selectProperties:s};i.requests.push(r);return o}function c(){if(e.getNoneSelection()===true){return null}return e.getPreselectionDefaults()}};this.serializeNavigationTarget=function(e,i){var r={type:"navigationTarget",id:e.getId(),semanticObject:e.getSemanticObject(),action:e.getAction(),isStepSpecific:e.isStepSpecific(),useDynamicParameters:e.getUseDynamicParameters(),parameters:e.getAllNavigationParameters()};if(e.getFilterMappingService()){r.filterMapping={requestForMappedFilter:t.serializeFilterMappingRequest(e,i),target:e.getFilterMappingTargetProperties()}}if(e.getTitleKey()){r.title={key:e.getTitleKey(),type:"label",kind:"text"}}return r};this.serializeSmartFilterBar=function(e){if(e){if(!e.isEntityTypeConverted()){return{id:e.getId(),type:"smartFilterBar",service:e.getService(),entityType:e.getEntitySet()}}return{id:e.getId(),type:"smartFilterBar",service:e.getService(),entitySet:e.getEntitySet()}}};this.serializeConfiguration=function(e){var i={analyticalConfigurationName:e.getConfigurationName(),applicationTitle:t.serializeLabelKey(e.getApplicationTitle()),steps:[],requests:[],bindings:[],representationTypes:[],categories:[],navigationTargets:[]};var r={requests:i.requests,bindings:i.bindings};e.getCategories().forEach(function(r){var a=e.getCategoryStepAssignments(r.getId());i.categories.push(t.serializeCategory(r,a))});e.getSteps().forEach(function(e){var a=t.serializeStep(e,r);i.steps.push(a)});e.getFacetFilters().forEach(function(e){var a=t.serializeFacetFilter(e,r);if(i.facetFilters===undefined){i.facetFilters=[]}i.facetFilters.push(a)});if(e.getFilterOption().facetFilter===true&&i.facetFilters===undefined){i.facetFilters=[]}e.getNavigationTargets().forEach(function(e){var a=t.serializeNavigationTarget(e,r);i.navigationTargets.push(a)});var a=this.serializeSmartFilterBar(e.getSmartFilterBar());if(a!==undefined){i.smartFilterBar=a}return i};function c(e,t){var i=e.thumbnail;if(!i){return}if(i.leftLower){t.setLeftLowerCornerTextKey(i.leftLower.key)}if(i.leftUpper){t.setLeftUpperCornerTextKey(i.leftUpper.key)}if(i.rightLower){t.setRightLowerCornerTextKey(i.rightLower.key)}if(i.rightUpper){t.setRightUpperCornerTextKey(i.rightUpper.key)}}function f(e,t,i){var r=[];var a;var n;if(e.type==="hierarchicalStep"){a=i.createHierarchicalStepWithId(e.id);n=i.getStep(a);n.setHierarchyProperty(e.hierarchyProperty)}else{a=i.createStepWithId(e.id);n=i.getStep(a)}var s=t.getItem(e.request);if(s.entityType){s.entitySet=s.entityType;delete s.entityType}if(s.service){r.push(i.registerServiceAsPromise(s.service))}n.setService(s.service);n.setEntitySet(s.entitySet);n.setTitleId(e.title.key);if(e.longTitle&&e.longTitle.key){n.setLongTitleId(e.longTitle.key)}if(e.navigationTargets){e.navigationTargets.forEach(function(e){n.addNavigationTarget(e.id)})}c(e,n);s.selectProperties.forEach(function(e){n.addSelectProperty(e)});var o=t.getItem(e.binding);o.requiredFilters.forEach(function(e){n.addFilterProperty(e)});if(o.requiredFilterOptions){n.setFilterPropertyLabelDisplayOption(o.requiredFilterOptions.labelDisplayOption);if(o.requiredFilterOptions.fieldDesc){n.setFilterPropertyLabelKey(o.requiredFilterOptions.fieldDesc.key)}}o.representations.forEach(function(e){var t;var i=n.getRepresentation(n.createRepresentation({id:e&&e.id}).getId());i.setRepresentationType(e.representationTypeId);i.setAlternateRepresentationType(e.parameter.alternateRepresentationTypeId);if(e.parameter.hierarchicalProperty&&e.parameter.hierarchicalProperty[0]&&e.parameter.hierarchicalProperty[0].fieldDesc){i.setHierarchyPropertyTextLabelKey(e.parameter.hierarchicalProperty[0].fieldDesc.key)}if(e.parameter.hierarchicalProperty&&e.parameter.hierarchicalProperty[0]){i.setHierarchyPropertyLabelDisplayOption(e.parameter.hierarchicalProperty[0].labelDisplayOption)}e.parameter.dimensions.forEach(function(e){i.addDimension(e.fieldName);if(e.fieldDesc){i.setDimensionTextLabelKey(e.fieldName,e.fieldDesc.key)}if(e.kind){i.setDimensionKind(e.fieldName,e.kind)}if(e.labelDisplayOption){i.setLabelDisplayOption(e.fieldName,e.labelDisplayOption)}});e.parameter.measures.forEach(function(e){i.addMeasure(e.fieldName);if(e.fieldDesc){i.setMeasureTextLabelKey(e.fieldName,e.fieldDesc.key)}if(e.kind){i.setMeasureKind(e.fieldName,e.kind)}if(e.measureDisplayOption){i.setMeasureDisplayOption(e.fieldName,e.measureDisplayOption)}});if(e.parameter.properties){e.parameter.properties.forEach(function(e){i.addProperty(e.fieldName);if(e.fieldDesc){i.setPropertyTextLabelKey(e.fieldName,e.fieldDesc.key)}if(e.kind){i.setPropertyKind(e.fieldName,e.kind)}})}if(e.parameter.width){for(t in e.parameter.width){if(e.parameter.width.hasOwnProperty(t)){i.setWidthProperty(t,e.parameter.width[t])}}}if(e.parameter.orderby&&!e.parameter.topN){e.parameter.orderby.forEach(function(e){i.addOrderbySpec(e.property,e.ascending)})}c(e,i)});if(e.filterMapping){r.push(g(e.filterMapping,n,t,i))}if(e.topNSettings){n.setTopN(e.topNSettings.top,e.topNSettings.orderby)}return Promise.all(r)}function y(e,t,i){var r=[];var a=i.createFacetFilterWithId(e.id);var n=i.getFacetFilter(a);n.setLabelKey(e.label.key);n.setAlias(e.alias);n.setProperty(e.property);if(e.preselectionFunction&&e.preselectionFunction!==""){n.setPreselectionFunction(e.preselectionFunction)}else if(e.preselectionDefaults===null){n.setNoneSelection(true)}else{n.setPreselectionDefaults(e.preselectionDefaults)}if(e.valueList){n.setValueList(e.valueList)}if(e.useSameRequestForValueHelpAndFilterResolution&&e.useSameRequestForValueHelpAndFilterResolution==="true"){n.setUseSameRequestForValueHelpAndFilterResolution(true)}else{n.setUseSameRequestForValueHelpAndFilterResolution(false)}if(e.multiSelection==="true"){n.setMultiSelection(true)}if(e.invisible===true){n.setInvisible()}if(e.hasAutomaticSelection==="true"){n.setAutomaticSelection(true)}else{n.setAutomaticSelection(false)}if(e.valueHelpRequest){var s=t.getItem(e.valueHelpRequest);if(s.entityType){s.entitySet=s.entityType;delete s.entityType}if(s.service){r.push(i.registerServiceAsPromise(s.service));n.setServiceOfValueHelp(s.service)}if(s.entitySet){n.setEntitySetOfValueHelp(s.entitySet)}s.selectProperties.forEach(function(e){n.addSelectPropertyOfValueHelp(e)})}if(e.filterResolutionRequest){var o=t.getItem(e.filterResolutionRequest);if(o.entityType){o.entitySet=o.entityType;delete o.entityType}if(o.service){r.push(i.registerServiceAsPromise(o.service));n.setServiceOfFilterResolution(o.service)}if(o.entitySet){n.setEntitySetOfFilterResolution(o.entitySet)}o.selectProperties.forEach(function(e){n.addSelectPropertyOfFilterResolution(e)})}return Promise.all(r)}function u(e,t,i){return new Promise(function(r,a){var n=i.createNavigationTargetWithId(e.id);var s=i.getNavigationTarget(n);s.setSemanticObject(e.semanticObject);s.setAction(e.action);if(e.parameters){e.parameters.forEach(function(e){s.addNavigationParameter(e.key,e.value)})}if(e.isStepSpecific===true){s.setStepSpecific()}else{s.setGlobal()}if(e.useDynamicParameters===true){s.setUseDynamicParameters(true)}if(e.filterMapping){g(e.filterMapping,s,t,i).then(function(){r()})}else{r()}if(e.title&&e.title.key){s.setTitleKey(e.title.key)}})}function g(e,t,i,r){return new Promise(function(a,n){var s=i.getItem(e.requestForMappedFilter);if(s.entityType){s.entitySet=s.entityType;delete s.entityType}if(s.service){r.registerServiceAsPromise(s.service).done(function(){a()})}else{a()}t.setFilterMappingService(s.service);t.setFilterMappingEntitySet(s.entitySet);e.target.forEach(function(e){t.addFilterMappingTargetProperty(e)});if(e.targetPropertyLabelKey){t.setFilterMappingTargetPropertyLabelKey(e.targetPropertyLabelKey)}if(e.targetPropertyDisplayOption){t.setFilterMappingTargetPropertyLabelDisplayOption(e.targetPropertyDisplayOption)}if(e.hasOwnProperty("keepSource")){if(e.keepSource==="true"){t.setFilterMappingKeepSource(true)}else{t.setFilterMappingKeepSource(false)}}})}function d(e,t){var i=[];i.unshift(new Promise(function(r){var a=e.getItem("SmartFilterBar-1");if(a){t.setFilterOption({smartFilterBar:true});var n=t.getSmartFilterBar();n.setService(a.service);if(a.service){i.push(t.registerServiceAsPromise(a.service))}if(a.entitySet){n.setEntitySet(a.entitySet);r(true)}else if(a.entityType){s.getMetadata(a.service).done(function(e){if(e){var t=e.getEntitySetByEntityType(a.entityType);if(t){n.setEntitySet(t)}else{n.setEntitySet(a.entityType,true);o("11524",[a.entityType])}}r(true)}).fail(function(){n.setEntitySet(a.entityType,true);o("11524",[a.entityType]);r(true)})}else{r(true)}}else{r(false)}}));return Promise.all(i)}this.mapToDesignTimeAsPromise=function(e,t){var i;var r=false;var a=[];t.setApplicationTitle(e.getItem("applicationTitle").key);e.getSteps().forEach(function(i){a.push(f(i,e,t))});e.getCategories().forEach(function(e){t.createCategoryWithId({labelKey:e.label.key},e.id);e.steps.forEach(function(i){t.addCategoryStepAssignment(e.id,i.id)})});i=e.getFacetFilters();if(i.emptyArray===true){r=true;t.setFilterOption({facetFilter:true})}else{i.forEach(function(i){r=true;t.setFilterOption({facetFilter:true});a.push(y(i,e,t))})}e.getNavigationTargets().forEach(function(i){a.push(u(i,e,t))});a.push(new Promise(function(i){d(e,t).then(function(e){var a=e[0];if(!r&&!a){t.setFilterOption({none:true})}i()})}));return Promise.all(a)};this.loadAllConfigurations=function(e,t){var i=new sap.apf.core.utils.Filter(n,"Application","eq",e);a.readCollection("configuration",function(e,i,r){t(e,i,r)},undefined,["AnalyticalConfiguration","SerializedAnalyticalConfiguration"],i)};this.getTextKeysFromAllConfigurations=function(e,t){this.loadAllConfigurations(e,function(e,r,a){var s=new i(n);if(a){t(undefined,a);return}e.forEach(function(e){var t=JSON.parse(e.SerializedAnalyticalConfiguration);var i=sap.apf.modeler.core.ConfigurationObjects.getTextKeysFromConfiguration(t);i.forEach(function(e){s.setItem(e,e)})});t(s,undefined)})}};sap.apf.modeler.core.ConfigurationObjects.deepDataCopy=function e(t){var i;if(!t){i=t}else if(t.copy&&typeof t.copy==="function"){i=t.copy()}else if(t&&typeof t==="object"){if(t instanceof Array){i=[];t.forEach(function(t){i.push(e(t))})}else{i={};for(var r in t){if(!t.hasOwnProperty(r)){continue}i[r]=e(t[r])}}}else{i=t}return i};sap.apf.modeler.core.ConfigurationObjects.getTextKeysFromConfiguration=function e(t){var i=[];if(!t){return undefined}if(t.type==="label"&&t.kind==="text"&&t.key){return[t.key]}for(var r in t){if(typeof t[r]!=="object"||!t.hasOwnProperty(r)){continue}Array.prototype.push.apply(i,e(t[r]))}return i}})();
},
	"sap/apf/modeler/core/facetFilter.js":function(){
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.apf.modeler.core.facetFilter");(function(){"use strict";sap.apf.modeler.core.FacetFilter=function(e,t,i){var n,r,o,l,s,u,c,f,a,h,p,d,v,S,F,y=true;if(!i){n={forValueHelp:{service:undefined,entitySet:undefined},forFilterResolution:{service:undefined,entitySet:undefined}};r=new t.constructors.ElementContainer("SelectPropertyValueHelp",undefined,t);o=new t.constructors.ElementContainer("SelectPropertyFilterResolution",undefined,t);l={};s={};u=[];v=false;F=false}else{n=i.request;r=i.selectPropertyForValueHelp;o=i.selectPropertyForFilterResolution;l=i.metadata;s=i.label;p=i.preselectionFunction;u=i.preselectionDefaults;c=i.valueList;f=i.property;a=i.alias;h=i.labelKey;S=i.invisible;v=i.isMultiSelectionActive;d=i.hasAutomaticSelection;F=i.useSameRequestForValueHelpAndFilterResolution;y=i.hasNoneSelection}this.getId=function(){return e};this.setMultiSelection=function(e){v=e};this.isMultiSelection=function(){return v};this.setInvisible=function(){S=true};this.setVisible=function(){S=undefined};this.isVisible=function(){return!S};this.setAlias=function(e){a=e};this.getAlias=function(){return a};this.setNoneSelection=function(e){y=e;if(y){d=false;this.removePreselectionDefaults();this.removePreselectionFunction()}};this.getNoneSelection=function(){return y};this.setAutomaticSelection=function(e){t.instances.messageHandler.check(typeof e==="boolean","facetFilter wrong input for setAutomaticSelection");d=e;if(d){y=false;this.removePreselectionFunction();this.removePreselectionDefaults()}};this.getAutomaticSelection=function(){return d};this.setPreselectionFunction=function(e){p=e;d=false;y=false;this.removePreselectionDefaults()};this.getPreselectionFunction=function(){return p};this.removePreselectionFunction=function(){p=undefined};this.setPreselectionDefaults=function(e){u=e;d=false;y=false;this.removePreselectionFunction()};this.getPreselectionDefaults=function(){return u};this.removePreselectionDefaults=function(){u=[]};this.setValueList=function(e){var t=jQuery.isArray(e);if(t&&e.length>0&&i(e)){c=jQuery.extend([],e)}else if(t&&e.length==0){c=undefined}function i(e){for(var t=0,i=e.length;t<i;t++){if(typeof e[t]!="string"){return false}}return true}};this.getValueList=function(){if(!c){return[]}return jQuery.extend([],c)};this.setLabelKey=function(e){h=e};this.getLabelKey=function(){return h};this.setProperty=function(e){f=e};this.getProperty=function(){return f};this.setUseSameRequestForValueHelpAndFilterResolution=function(e){var t=this;if(e){var i=this.getServiceOfValueHelp();this.setServiceOfFilterResolution(i);var n=this.getEntitySetOfValueHelp();this.setEntitySetOfFilterResolution(n);var r=this.getSelectPropertiesOfFilterResolution();r.forEach(function(e){t.removeSelectPropertyOfFilterResolution(e)});r=this.getSelectPropertiesOfValueHelp();r.forEach(function(e){t.addSelectPropertyOfFilterResolution(e)})}F=e};this.getUseSameRequestForValueHelpAndFilterResolution=function(){return F};this.setServiceOfValueHelp=function(e){n.forValueHelp.service=e;if(F){n.forFilterResolution.service=e}};this.getServiceOfValueHelp=function(){return n.forValueHelp.service};this.setEntitySetOfValueHelp=function(e){n.forValueHelp.entitySet=e;if(F){n.forFilterResolution.entitySet=e}};this.getEntitySetOfValueHelp=function(){return n.forValueHelp.entitySet};this.getSelectPropertiesOfValueHelp=function(){var e=[];var t;t=r.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.removeSelectPropertyOfValueHelp=function(e){r.removeElement(e);if(F){o.removeElement(e)}};this.addSelectPropertyOfValueHelp=function(e){r.createElementWithProposedId(undefined,e);if(F){o.createElementWithProposedId(undefined,e)}};this.setServiceOfFilterResolution=function(e){if(F){return}n.forFilterResolution.service=e};this.getServiceOfFilterResolution=function(){return n.forFilterResolution.service};this.setEntitySetOfFilterResolution=function(e){if(F){return}n.forFilterResolution.entitySet=e};this.getEntitySetOfFilterResolution=function(){return n.forFilterResolution.entitySet};this.getSelectPropertiesOfFilterResolution=function(){var e=[];var t;t=o.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.removeSelectPropertyOfFilterResolution=function(e){if(F){return}o.removeElement(e)};this.addSelectPropertyOfFilterResolution=function(e){if(F){return}o.createElementWithProposedId(undefined,e)};this.copy=function(e){var i={request:n,selectPropertyForValueHelp:r,selectPropertyForFilterResolution:o,metadata:l,label:s,preselectionFunction:p,preselectionDefaults:u,valueList:c,property:f,alias:a,labelKey:h,invisible:S,isMultiSelectionActive:v,hasAutomaticSelection:d,hasNoneSelection:y};var F=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(i);return new sap.apf.modeler.core.FacetFilter(e||this.getId(),t,F)}}})();
},
	"sap/apf/modeler/core/lazyLoader.js":function(){
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.apf.modeler.core.lazyLoader");(function(){"use strict";sap.apf.modeler.core.LazyLoader=function(n,e,i){var t=n.constructors.Hashtable;var s={id:null,instance:null,messageObject:null,isInitializing:false,callbacksFromAsyncGet:new t(n.instances.messageHandler)},a=null;if(i){s.id=i.id;s.instance=i.instance}this.type="lazyLoader";this.getId=function(){return s.id};this.getInstance=function(){return s.instance};this.isInitializing=function(){return s.isInitializing};this.reset=function(){a=s.instance;s={id:null,instance:null,messageObject:null,isInitializing:false,callbacksFromAsyncGet:new t(n.instances.messageHandler)}};this.asyncGetInstance=function(n,i){function t(n){if(n===null){return undefined}return n}var r;if(!n){return}if(s.id&&n!==s.id){this.reset()}if(s.id&&(s.instance||s.messageObject)){r=t(s.messageObject);i(s.instance,r,s.id);return}l(i);if(!s.isInitializing){s.isInitializing=true;s.id=n;e(n,c,a)}};function c(n,e,i){if(n!==s.id){return}s.isInitializing=false;if(!i){s.instance=e}else{s.messageObject=i}s.callbacksFromAsyncGet.each(function(n,e){e.forEach(function(n){n(s.instance,i,s.id)})});s.callbacksFromAsyncGet=null}function l(n){var e;var i,t;t=s.callbacksFromAsyncGet.getItem(n);if(!t){s.callbacksFromAsyncGet.setItem(n,[n]);return}i=false;for(e=0;e<t.length;e++){if(t[e]===n){i=true;break}}if(!i){t.push(n)}}}})();
},
	"sap/apf/modeler/core/messageDefinition.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.apf.modeler.core.messageDefinition");sap.apf.modeler.core.messageDefinition=[{code:"11005",severity:"technError",text:"Bad HTTP request returned status code {0} with status text {1}."},{code:"11006",severity:"technError",text:"Unknown identifier: {0}"},{code:"11007",severity:"technError",text:"Cannot export unsaved configuration. Configuration ID: {0}"},{code:"11013",severity:"technError",text:"Metadata request {0} to server failed."},{code:"11016",severity:"error",description:"Sorting options must be supplied when setting top n",key:"11016"},{code:"11020",severity:"error",description:"Text property has invalid format and cannot be imported - see previous messages for details",key:"11020"},{code:"11021",severity:"error",description:"ApfApplicationId {0} referenced in the text property is not yet existing - please load one configuration of the application before importing the texts.",key:"11021"},{code:"11030",severity:"error",description:"Label {0} is not valid",key:"11030"},{code:"11031",severity:"error",description:"Category {0} is not valid",key:"11031"},{code:"11032",severity:"error",description:"Request {0} is not valid",key:"11032"},{code:"11033",severity:"error",description:"Binding {0} is not valid",key:"11033"},{code:"11034",severity:"error",description:"Facet filter {0} is not valid",key:"11034"},{code:"11035",severity:"error",description:"Step {0} is not valid",key:"11035"},{code:"11036",severity:"error",description:"Configuration is not valid",key:"11036"},{code:"11037",severity:"error",description:"Invalid application guid {0}",key:"11037"},{code:"11038",severity:"error",description:"Invalid configuration guid {0}",key:"11038"},{code:"11039",severity:"error",description:"Invalid text guid {0}",key:"11039"},{code:"11040",severity:"error",description:"Navigation target {0} is not valid",key:"11040"},{code:"11041",severity:"technError",text:"Network service for retrieving semantic objects failed - see console."},{code:"11042",severity:"technError",text:"Error occurred when retrieving actions for semantic object - see console."},{code:"11500",severity:"error",description:"An error occurred while attempting to save the application.",key:"11500"},{code:"11501",severity:"error",description:"An error occurred while attempting to delete the application.",key:"11501"},{code:"11502",severity:"error",description:"An error occurred while importing the configuration.",key:"11502"},{code:"11503",severity:"error",description:"An error occurred while importing the text properties file.",key:"11503"},{code:"11504",severity:"technError",description:"An error occurred while retrieving the semantic objects available.",key:"11504"},{code:"11505",severity:"technError",description:"An error occurred while retrieving the actions for the given semantic object.",key:"11505"},{code:"11506",severity:"error",description:"An error occurred while getting the unused texts.",key:"11506"},{code:"11507",severity:"error",description:"An error occurred while doing the text pool cleanup.",key:"11507"},{code:"11508",severity:"fatal",description:"The app has stopped working due to a technical error.",key:"11508"},{code:"11509",severity:"fatal",description:"OData service is not available. You cannot create a new application or change existing ones.",key:"11509"},{code:"11510",severity:"success",description:"Application has been deleted.",key:"11510"},{code:"11511",severity:"success",description:"Cleanup of text pool completed.",key:"11511"},{code:"11512",severity:"success",description:"Application has been saved.",key:"11512"},{code:"11513",severity:"success",description:"Configuration is saved.",key:"11513"},{code:"11514",severity:"error",description:"Error in saving the configuration.",key:"11514"},{code:"11515",severity:"success",description:"Configuration file imported.",key:"11515"},{code:"11516",severity:"success",description:"Text properties file imported",key:"11516"},{code:"11517",severity:"success",description:"Incorrect extension used for configuration file. Please use .json format.",key:"11517"},{code:"11518",severity:"success",description:"Incorrect extension used for text properties file. Please use .properties format.",key:"11518"},{code:"11519",severity:"success",description:"The configuration file cannot be imported because of an error while reading the file. See the previous messages for details.",key:"11519"},{code:"11520",severity:"success",description:"The application you referenced does not yet exist. You must also upload a configuration file.",key:"11520"},{code:"11521",severity:"success",description:"The configuration file and text properties file do not belong to the same application. The text properties file cannot be imported.",key:"11521"},{code:"11522",severity:"success",description:"The text properties file cannot be imported because of an error while reading the file. See the previous messages for details.",key:"11522"},{code:"11523",severity:"information",description:"Sorting field in section Data Reduction has been changed. Please check and adjust if necessary.",key:"11523"},{code:"11524",severity:"technError",text:"The entity type {0} in smart filter bar configuration is not valid - please check service"}];
},
	"sap/apf/modeler/core/navigationTarget.js":function(){
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2015 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.apf.modeler.core.navigationTarget");(function(){"use strict";sap.apf.modeler.core.NavigationTarget=function(e,t,i){var n,r,a=false,s,o,c;var u=false;var p=[];if(i){n=i.semObject;r=i.actn;a=i.isStepSpecific;s=i.requestForFilterMapping;o=i.targetPropertiesForFilterMapping;p=i.parameters;c=i.titleKey;u=i.useDynamicParameters}else{s={};o=new t.constructors.ElementContainer("TargetPropertyForFilterMapping",undefined,t)}this.getId=function(){return e};this.setSemanticObject=function(e){n=e};this.getSemanticObject=function(){return n};this.setAction=function(e){r=e};this.getAction=function(){return r};this.isGlobal=function(){return!a};this.isStepSpecific=function(){return a};this.setGlobal=function(){a=false};this.setStepSpecific=function(){a=true};this.setFilterMappingService=function(e){s.service=e};this.getFilterMappingService=function(){return s.service};this.setFilterMappingEntitySet=function(e){s.entitySet=e};this.getFilterMappingEntitySet=function(){return s.entitySet};this.addFilterMappingTargetProperty=function(e){o.createElementWithProposedId(undefined,e)};this.getFilterMappingTargetProperties=function(){var e=[];var t=o.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.removeFilterMappingTargetProperty=function(e){o.removeElement(e)};this.getNavigationParameter=function(e){var t;p.forEach(function(i){if(i.key===e){t=i}});return t};this.getAllNavigationParameters=function(){return p};this.addNavigationParameter=function(e,t,i){if(i===undefined||i>p.length){i=p.length}p.splice(i,0,{key:e,value:t})};this.removeNavigationParameter=function(e){var t;p.forEach(function(i,n){if(i.key===e){t=n}});if(t>=0){p.splice(t,1)}};this.setTitleKey=function(e){c=e};this.setUseDynamicParameters=function(e){u=e};this.getUseDynamicParameters=function(){return u};this.getTitleKey=function(){return c};this.copy=function(e){var i={semObject:n,actn:r,isStepSpecific:a,requestForFilterMapping:s,targetPropertiesForFilterMapping:o,parameters:p,titleKey:c,useDynamicParameters:u};var f=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(i);return new sap.apf.modeler.core.NavigationTarget(e||this.getId(),t,f)}}})();
},
	"sap/apf/modeler/core/registryWrapper.js":function(){
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.apf.modeler.core.registryWrapper");(function(){"use strict";sap.apf.modeler.core.RegistryWrapper=function(t){function e(e){var r=[];t.each(function(t,i){if(i.type===e){r.push(i)}});return r}this.getItem=function(e){return t.getItem(e)};this.getSteps=function(){var t=e("step");t=jQuery.merge(t,e("hierarchicalStep"));return t};this.getCategories=function(){return e("category")};this.getFacetFilters=function(){if(t.getItem(sap.apf.core.constants.existsEmptyFacetFilterArray)===true){return{emptyArray:true}}return e("facetFilter")};this.getNavigationTargets=function(){return e("navigationTarget")}}})();
},
	"sap/apf/modeler/core/smartFilterBar.js":function(){
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.apf.modeler.core.smartFilterBar");(function(){"use strict";sap.apf.modeler.core.SmartFilterBar=function(t){var e,r;var n=false;this.getId=function(){return t};this.setService=function(t){e=t};this.getService=function(){return e};this.setEntitySet=function(t,e){r=t;n=e};this.getEntitySet=function(){return r};this.isEntityTypeConverted=function(){return!n}}})();
},
	"sap/apf/modeler/core/step.js":function(){
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.apf.modeler.core.step");(function(){"use strict";sap.apf.modeler.core.Step=function(e,t,r){var n,i,o,s,p,a,u,c,f,l,g,h,y,d,v,m,P,b,E,T,F;P=t.instances.messageHandler;if(!r){n=new t.constructors.ElementContainer(e+"-Representation",t.constructors.Representation,t);i={};o=new t.constructors.ElementContainer("SelectProperty",undefined,t);s=new t.constructors.ElementContainer("FilterProperty",undefined,t);p={};a=new t.constructors.ElementContainer("SelectPropertyForFilterMapping",undefined,t);u=new t.constructors.ElementContainer("TargetPropertyForFilterMapping",undefined,t);f=false;c=new t.constructors.ElementContainer("NavigationTarget",undefined,t)}else{n=r.representationContainer;i=r.request;o=r.selectProperties;s=r.filterProperties;b=r.filterPropertyLabelKey;E=r.filterPropertyLabelDisplayOption;T=r.targetPropertyLabelKey;F=r.targetPropertyLabelDisplayOption;p=r.requestForFilterMapping;a=r.selectPropertiesForFilterMapping;u=r.targetPropertiesForFilterMapping;f=r.keepSourceForFilterMapping;c=r.navigationTargets;l=r.titleId;g=r.longTitleId;h=r.leftUpperCornerTextKey;y=r.rightUpperCornerTextKey;d=r.leftLowerCornerTextKey;v=r.rightLowerCornerTextKey;m=r.topNSettings}this.getType=function(){return"step"};this.getId=function(){return e};this.setTopN=function(e,t){if(t&&t instanceof Array&&t.length>0){this.resetTopN();m={};m.top=e;m.orderby=t}else{P.putMessage(P.createMessageObject({code:11016}));return}n.getElements().forEach(function(t){t.setTopN(e);m.orderby.forEach(function(e){t.addOrderbySpec(e.property,e.ascending)})})};this.setTopNValue=function(e){if(!m){m={}}m.top=e;if(m.orderby){S()}};this.setTopNSortProperties=function(e){if(!m){m={}}if(e&&e.length>0){e.forEach(function(e){if(e.ascending==="true"){e.ascending=true}})}m.orderby=e;if(m.top){S()}};function S(){n.getElements().forEach(function(e){e.setTopN(m.top);e.removeAllOrderbySpecs();m.orderby.forEach(function(t){e.addOrderbySpec(t.property,t.ascending)})})}this.getTopN=function(){if(m&&m.top>0){if(jQuery.isArray(m.orderby)){var e=this.getSelectProperties();var t;for(t=m.orderby.length-1;t>=0;t--){if(jQuery.inArray(m.orderby[t].property,e)<0){m.orderby.splice(t,1);S()}}}return jQuery.extend({},true,m)}};this.resetTopN=function(){m=undefined;n.getElements().forEach(function(e){if(e.getTopN()){e.setTopN(undefined)}})};this.getService=function(){return i.service};this.setService=function(e){i.service=e};this.getEntitySet=function(){return i.entitySet};this.setEntitySet=function(e){i.entitySet=e};this.setTitleId=function(e){l=e};this.getTitleId=function(){return l};this.setLongTitleId=function(e){g=e};this.getLongTitleId=function(){return g};this.getSelectProperties=function(){var e=[];var t=o.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.addSelectProperty=function(e){o.createElementWithProposedId(undefined,e)};this.removeSelectProperty=function(e){o.removeElement(e)};this.getFilterProperties=function(){var e=[];var t=s.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.addFilterProperty=function(e){b=undefined;E=undefined;return s.createElementWithProposedId(undefined,e).getId()};this.removeFilterProperty=function(e){b=undefined;E=undefined;s.removeElement(e)};this.setFilterPropertyLabelKey=function(e){b=e};this.getFilterPropertyLabelKey=function(){return b};this.setFilterPropertyLabelDisplayOption=function(e){E=e};this.getFilterPropertyLabelDisplayOption=function(){return E};this.setFilterMappingService=function(e){p.service=e};this.getFilterMappingService=function(){return p.service};this.setFilterMappingEntitySet=function(e){p.entitySet=e};this.getFilterMappingEntitySet=function(){return p.entitySet};this.addFilterMappingTargetProperty=function(e){T=undefined;F=undefined;u.createElementWithProposedId(undefined,e)};this.getFilterMappingTargetProperties=function(){var e=[];var t=u.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.removeFilterMappingTargetProperty=function(e){T=undefined;F=undefined;u.removeElement(e)};this.setFilterMappingTargetPropertyLabelKey=function(e){T=e};this.getFilterMappingTargetPropertyLabelKey=function(){return T};this.setFilterMappingTargetPropertyLabelDisplayOption=function(e){F=e};this.getFilterMappingTargetPropertyLabelDisplayOption=function(){return F};this.addNavigationTarget=function(e){c.createElementWithProposedId(undefined,e)};this.getNavigationTargets=function(){var e=[];var t=c.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.removeNavigationTarget=function(e){c.removeElement(e)};this.setFilterMappingKeepSource=function(e){f=e};this.getFilterMappingKeepSource=function(){return f};this.getRepresentations=n.getElements;this.getRepresentation=n.getElement;this.createRepresentation=function(e){var t;if(e&&e.id){t=n.createElementWithProposedId(e,e.id)}else{t=n.createElement(e)}if(m&&m.top){t.setTopN(m.top);m.orderby.forEach(function(e){t.addOrderbySpec(e.property,e.ascending)})}return t};this.removeRepresentation=n.removeElement;this.copyRepresentation=n.copyElement;this.moveRepresentationBefore=function(e,t){return n.moveBefore(e,t)};this.moveRepresentationUpOrDown=function(e,t){return n.moveUpOrDown(e,t)};this.moveRepresentationToEnd=function(e){return n.moveToEnd(e)};this.setLeftUpperCornerTextKey=function(e){h=e};this.getLeftUpperCornerTextKey=function(){return h};this.setRightUpperCornerTextKey=function(e){y=e};this.getRightUpperCornerTextKey=function(){return y};this.setLeftLowerCornerTextKey=function(e){d=e};this.getLeftLowerCornerTextKey=function(){return d};this.setRightLowerCornerTextKey=function(e){v=e};this.getRightLowerCornerTextKey=function(){return v};this.getConsumablePropertiesForTopN=function(){var e=jQuery.Deferred();this.getAvailableProperties().done(function(t){var r=[];if(m&&m.orderby&&m.orderby.length>0){m.orderby.forEach(function(e){r.push(e.property)})}e.resolve({available:t,consumable:this.getConsumableProperties(t,r)})}.bind(this));return e.promise()};this.getConsumablePropertiesForRepresentation=function(e){var t=jQuery.Deferred();function r(e){var t=[];jQuery.merge(t,e.getDimensions());jQuery.merge(t,e.getMeasures());jQuery.merge(t,e.getProperties());return t}this.getAvailableProperties().done(function(i){if(this.getHierarchyProperty&&this.getHierarchyProperty()){i.push(this.getHierarchyProperty())}var o=[];var s=n.getElement(e);if(s){o=r(s);if(s.getHierarchyProperty){o.push(s.getHierarchyProperty())}}else{o=this.getSelectProperties()}t.resolve({available:i,consumable:this.getConsumableProperties(i,o)})}.bind(this));return t.promise()};this.getConsumableSortPropertiesForRepresentation=function(e){var t=jQuery.Deferred();this.getAvailableProperties().done(function(r){t.resolve({available:r,consumable:this.getConsumableProperties(r,this.getSortPropertiesFromRepresentation(e))})}.bind(this));return t.promise()};this.getSortPropertiesFromRepresentation=function(e){var t=[];var r=n.getElement(e);var i=r.getOrderbySpecifications();i.forEach(function(e){t.push(e.property)});return t};this.getConsumableProperties=function(e,t){var r=[];e.forEach(function(e){if(jQuery.inArray(e,t)===-1){r.push(e)}});return r};this.getAvailableProperties=function(){var e=jQuery.Deferred();var r=[];if(i.service&&i.entitySet){t.instances.metadataFactory.getMetadata(i.service).then(function(t){if(t){var n=t.getAllPropertiesOfEntitySet(i.entitySet);var o=this.getSelectProperties();o.forEach(function(e){if(jQuery.inArray(e,n)!==-1){r.push(e)}})}e.resolve(r)}.bind(this),function(){e.resolve([])})}else{e.resolve([])}return e.promise()};this.copy=function(e){var r=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(this.getDataForCopy());r.representationContainer=n.copy((e||this.getId())+"-Representation");return new sap.apf.modeler.core.Step(e||this.getId(),t,r)};this.getDataForCopy=function(){return{request:i,selectProperties:o,filterProperties:s,filterPropertyLabelKey:b,filterPropertyLabelDisplayOption:E,requestForFilterMapping:p,selectPropertiesForFilterMapping:a,targetPropertiesForFilterMapping:u,targetPropertyLabelKey:T,targetPropertyLabelDisplayOption:F,navigationTargets:c,keepSourceForFilterMapping:f,titleId:l,longTitleId:g,leftUpperCornerTextKey:h,rightUpperCornerTextKey:y,leftLowerCornerTextKey:d,rightLowerCornerTextKey:v,topNSettings:m}};this.getRepresentationContainer=function(){return n}}})();
},
	"sap/apf/modeler/core/textHandler.js":function(){
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.apf.modeler.core.textHandler");(function(){"use strict";sap.apf.modeler.core.TextHandler=function(){var e;this.getMessageText=function(e,r){return this.getText(e,r)};this.getText=function(r,t){return e.getResourceBundle().getText(r,t)};function r(){var r;var t;var s=jQuery.sap.getModulePath("sap.apf");r=s+"/modeler/resources/i18n/texts.properties";e=new sap.ui.model.resource.ResourceModel({bundleUrl:r});t=s+"/resources/i18n/apfUi.properties";e.enhance({bundleUrl:t})}r()}})();
},
	"sap/apf/modeler/core/textPool.js":function(){
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.apf.modeler.core.textPool");sap.ui.define(["sap/apf/utils/hashtable","sap/apf/core/utils/filter","sap/ui/core/format/DateFormat","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,t,n,a,jQuery){"use strict";sap.apf.modeler.core.TextPool=function(e,t,n){var a=e.instances.messageHandler;var r=e.instances.persistenceProxy;var i=e.isUsingCloudFoundryProxy;var s=e.constructors.Hashtable;var o=new s(a);var m=new s(a);var l=new s(a);var u=0;var p={TextElement:sap.apf.core.constants.textKeyForInitialText,Language:sap.apf.core.constants.developmentLanguage,TextElementType:"XFLD",TextElementDescription:"",MaximumLength:10,Application:t,TranslationHint:""};function x(e,t){var n=o.getKeys();var a,r=n.length;var i=t.MaximumLength||10;var s=t.TranslationHint||"";var m;for(a=0;a<r;a++){m=o.getItem(n[a]);if(m.TextElementDescription===e&&m.MaximumLength===i&&m.TranslationHint===s){return n[a]}}return undefined}this.removeTexts=function(e,t,n){var a=[];var s,m;function l(t){var a;if(!t){for(a=0;a<m;a++){o.removeItem(e[a])}}n(t)}m=e.length;if(m===0){n(undefined);return}for(s=0;s<m;s++){if(e[s]===sap.apf.core.constants.textKeyForInitialText){continue}a.push({method:"DELETE",entitySetName:"texts",inputParameters:[{name:"TextElement",value:e[s]},{name:"Language",value:sap.apf.core.constants.developmentLanguage}]})}if(i){r.doChangeOperationsInBatch(a,l,t,true)}else{r.doChangeOperationsInBatch(a,l,t)}};this.isInitialTextKey=function(e){return e===sap.apf.core.constants.textKeyForInitialText};this.addTextsAndSave=function(e,t,n){function a(e,t){return e.TextElement===t.TextElement&&e.TextElementDescription===t.TextElementDescription&&e.MaximumLength===t.MaximumLength&&e.Language===t.Language&&e.TranslationHint===t.TranslationHint}var s;var m=e.length;var l;var u=[];var p=[];var x=[];var f;for(s=0;s<m;s++){if(e[s]===sap.apf.core.constants.textKeyForInitialText){continue}l=o.getItem(e[s].TextElement);if(l){if(!a(l,e[s])){u.push(e[s]);o.setItem(e[s].TextElement,e[s])}}else{p.push(e[s]);o.setItem(e[s].TextElement,e[s])}}m=u.length;for(s=0;s<m;s++){f=[{name:"TextElement",value:u[s].TextElement},{name:"Language",value:u[s].Language}];u[s].MaximumLength=parseInt(u[s].MaximumLength,10);x.push({method:"PUT",entitySetName:"texts",data:u[s],inputParameters:f})}m=p.length;for(s=0;s<m;s++){p[s].MaximumLength=parseInt(p[s].MaximumLength,10);x.push({method:"POST",entitySetName:"texts",data:p[s]})}if(x.length>0){if(i){r.doChangeOperationsInBatch(x,t,n,false)}else{r.doChangeOperationsInBatch(x,t,n)}}else{t(undefined)}};this.exportTexts=function(e){var n=sap.apf.utils.renderHeaderOfTextPropertyFile(t,a);var r={TextElement:"AnalyticalConfigurationName",Language:sap.apf.core.constants.developmentLanguage,TextElementType:"XTIT",TextElementDescription:e,MaximumLength:250,Application:t,TranslationHint:""};return n+sap.apf.utils.renderTextEntries(o,a)+sap.apf.utils.renderEntryOfTextPropertyFile(r,a)};this.get=function(e){var t,n;if(e===sap.apf.core.constants.textKeyForInitialText){return p}if(o.hasItem(e)){return o.getItem(e)}if(m.hasItem(e)){t=m.getItem(e);if(t.TextElementDescription){return t}return o.getItem(t)}n=jQuery.extend({},true,p);n.TextElement=e;n.TextElementDescription=e;return n};this.getPersistentKey=function(e){return e};this.setTextAsPromise=function(e,n){var i;var s=jQuery.Deferred();var m=function(e,t,n){if(n){a.putMessage(n)}if(e){o.setItem(e.TextElement,e);i=e.TextElement}s.resolve(e&&e.TextElement)};var l={TextElement:"",Language:sap.apf.core.constants.developmentLanguage,TextElementType:n.TextElementType,TextElementDescription:e,MaximumLength:n.MaximumLength||10,Application:t,TranslationHint:n.TranslationHint||""};if(!e){s.resolve(sap.apf.core.constants.textKeyForInitialText)}i=x(e,n);if(i){s.resolve(i)}else{u++;r.create("texts",l,m,true)}return s.promise()};this.getTextKeys=function(e){var t=o.getKeys();var n,a,r=t.length;var i=[];for(n=0;n<r;n++){a=o.getItem(t[n]);if(e&&a.TextElementType!==e){continue}if(l.hasItem(t[n])){i.push(l.getItem(t[n]))}else{i.push(t[n])}}return i};this.getTextsByTypeAndLength=function(e,t){var n=o.getKeys();var a,r,i=n.length;var s=[];for(a=0;a<i;a++){r=o.getItem(n[a]);if(r.TextElementType===e&&r.MaximumLength===t){if(l.hasItem(n[a])){s.push({TextElement:l.getItem(n[a]),TextElementDescription:r.TextElementDescription})}else{s.push({TextElement:n[a],TextElementDescription:r.TextElementDescription})}}}return s};function f(){var e,t;t=n.length;for(e=0;e<t;e++){if(n[e].TextElement){o.setItem(n[e].TextElement,n[e])}}}f()}});
},
	"sap/apf/modeler/manifest.json":'{"_version":"1.1.0","sap.app":{"_version":"1.1.0","id":"sap.apf.modeler","type":"component","embeddedBy":"../","i18n":"./resources/i18n/texts.properties","title":"{{configModelerTitle}}","description":"{{configModelerDescription}}","ach":"CA-EPT-ANL-APF","resources":"resources.json","offline":false,"dataSources":{"GatewayCatalogService":{"uri":"/sap/opu/odata/iwfnd/catalogservice;v=2"}},"crossNavigation":{"outbounds":{"navigateToGenericRuntime":{"semanticObject":"FioriApplication","action":"executeAPFConfiguration"}}}},"sap.ui":{"_version":"1.1.0","technology":"UI5","deviceTypes":{"desktop":true,"tablet":false,"phone":false},"supportedThemes":["sap_hcb","sap_bluecrystal"]},"sap.ui5":{"_version":"1.1.0","dependencies":{"libs":{"sap.ui.core":{"minVersion":"1.30.0"},"sap.m":{"minVersion":"1.30.0"},"sap.ui.layout":{"minVersion":"1.30.0"},"sap.ui.table":{"minVersion":"1.30.0"},"sap.ui.commons":{"minVersion":"1.30.0"}}},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","viewPath":"sap.apf.modeler.ui.view","clearTarget":"false"},"routes":{"applicationList":{"pattern":"","view":"applicationList","targetAggregation":"pages","targetControl":"applicationList","subroutes":[{"pattern":"app/{appId}","view":"configurationList","name":"configurationList","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}","view":"configurationList","name":"configuration","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/category/{categoryId}","view":"configurationList","name":"category","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/facetFilter/{facetFilterId}","view":"configurationList","name":"facetFilter","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/smartFilter/{smartFilterId}","view":"configurationList","name":"smartFilterBar","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/category/{categoryId}/step/{stepId}","view":"configurationList","name":"step","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/category/{categoryId}/step/{stepId}/repn/{representationId}","view":"configurationList","name":"representation","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/navigationTarget/{navTargetId}","view":"configurationList","name":"navigationTarget","targetAggregation":"pages"}]}}},"contentDensities":{"compact":true,"cozy":false},"config":{"fullWidth":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"./resources/i18n/texts.properties"}},"rootView":"sap.apf.modeler.ui.view.applicationList"}}',
	"sap/apf/modeler/ui/controller/navigationTargetParameter.controller.js":function(){
(function(){"use strict";var e;function a(e){var a;var t=r(e);var i=o(e);if(e.oldKey&&e.navigationTarget.getNavigationParameter(e.oldKey)){e.navigationTarget.removeNavigationParameter(e.oldKey);e.configurationEditor.setIsUnsaved()}if(!e.navigationTarget.getNavigationParameter(t)){if(t&&i){a=e.oParentController.getNavigationParameters().indexOf(e.getView());e.configurationEditor.setIsUnsaved();e.navigationTarget.addNavigationParameter(t,i,a)}e.byId("idNavigationParametersKey").setValueState(sap.ui.core.ValueState.None);e.oldKey=t}else{e.byId("idNavigationParametersKey").setValueState(sap.ui.core.ValueState.Error);e.oldKey=null}}function t(e){var a=r(e);if(a&&e.navigationTarget.getNavigationParameter(a)){e.configurationEditor.setIsUnsaved();e.navigationTarget.removeNavigationParameter(a)}}function i(a){a.byId("idNavigationParametersKey").setValueStateText(e("navigationParametersKeyErrorState"));a.byId("idNavigationParametersValue").setValueStateText(e("navigationParametersValueErrorState"));a.byId("idNavigationParametersLabel").setText(e("navigationStaticParametersLabel"));a.byId("idNavigationParametersKey").setPlaceholder(e("navigationParametersKey"));a.byId("idNavigationParametersValue").setPlaceholder(e("navigationParametersValue"))}function r(e){return e.byId("idNavigationParametersKey").getValue()}function o(e){return e.byId("idNavigationParametersValue").getValue()}function n(e,a){if(a){e.byId("idNavigationParametersKey").setValue(a.key);e.oldKey=a.key;e.byId("idNavigationParametersValue").setValue(a.value)}}sap.ui.controller("sap.apf.modeler.ui.controller.navigationTargetParameter",{onInit:function(){var a=this.getView().getViewData();e=a.oTextReader;this.oParentController=a.oParentController;this.navigationTarget=a.oNavigationTarget;this.configurationEditor=a.oConfigurationEditor;i(this);n(this,a.parameter)},onExit:function(){var e=this;e.destroy()},onPlus:function(){this.oParentController.addNavigationParameter()},onMinus:function(){t(this);this.oParentController.removeNavigationParameter(this.getView());this.getView().destroy()},checkVisibilityOfPlusMinus:function(){var e=this.oParentController.getNavigationParameters();if(e.length===1){this.byId("idRemoveNavigationParameter").setVisible(false)}else{this.byId("idRemoveNavigationParameter").setVisible(true)}if(e[e.length-1]===this.getView()){this.byId("idAddNavigationParameter").setVisible(true);if(!this.byId("idRemoveNavigationParameter").hasStyleClass("lessIcon")){this.byId("idRemoveNavigationParameter").addStyleClass("lessIcon")}}else{this.byId("idAddNavigationParameter").setVisible(false);this.byId("idRemoveNavigationParameter").removeStyleClass("lessIcon")}},onKeyEntered:function(){this.byId("idNavigationParametersKey").setValueState(sap.ui.core.ValueState.None);a(this)},onValueEntered:function(){this.byId("idNavigationParametersValue").setValueState(sap.ui.core.ValueState.None);a(this)},validate:function(){if(o(this)&&!r(this)){this.byId("idNavigationParametersKey").setValueState(sap.ui.core.ValueState.Error);return false}if(!o(this)&&r(this)){this.byId("idNavigationParametersValue").setValueState(sap.ui.core.ValueState.Error);return false}if(this.byId("idNavigationParametersKey").getValueState()===sap.ui.core.ValueState.Error){return false}return true}})})();
},
	"sap/apf/modeler/ui/controller/smartFilterBar.controller.js":function(){
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";var e,t,i,r,a;function o(t){if(e&&e.arguments&&e.arguments.smartFilterId){a=r.getSmartFilterBar()}}function n(e){var o,n;var s={oTextReader:t,oConfigurationHandler:i,oConfigurationEditor:r,oParentObject:a,getCalatogServiceUri:e.getView().getViewData().getCalatogServiceUri,oCoreApi:e.getView().getViewData().oCoreApi};o=new sap.ui.controller("sap.apf.modeler.ui.controller.smartFilterBarRequest");n=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.requestOptions",type:sap.ui.core.mvc.ViewType.XML,id:e.createId("idSFBRequestView"),viewData:s,controller:o});e.byId("idSFBRequestVBox").insertItem(n)}sap.ui.controller("sap.apf.modeler.ui.controller.smartFilterBar",{onInit:function(){var a=this;var s=a.getView().getViewData();t=s.getText;e=s.oParams;i=s.oConfigurationHandler;r=s.oConfigurationEditor;o(a);n(a)},setDetailData:function(){},getValidationState:function(){var e=this;return e.byId("idSFBRequestView").getController().getValidationState()},onExit:function(){var e=this;e.byId("idSFBRequestView").destroy()}})})();
},
	"sap/apf/modeler/ui/controller/titleBreadCrumb.controller.js":function(){
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
(function(){"use strict";sap.ui.controller("sap.apf.modeler.ui.controller.titleBreadCrumb",{setTitleForDetailPage:function(t){var e=this;e.byId("IdFormTitle").setText(t)}})})();
},
	"sap/apf/modeler/ui/fragment/addMenu.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns:u="sap.ui.unified"><u:Menu id="idAddMenu"><u:MenuItem id="idNewConfig" enabled="true" select="_handleAddMenuItemPress" /><u:MenuItem id="idNewFacetFilter" enabled="true" select="_handleAddMenuItemPress"/><u:MenuItem id="idNewCategory" enabled="true" select="_handleAddMenuItemPress"/><u:MenuItem id="idNewNavigationTarget" enabled="false" select="_handleAddMenuItemPress"/><u:MenuItem id="idStep" enabled="false" select="_handleAddMenuItemPress"><u:Menu><u:MenuItem id="idNewStep" select="_handleAddMenuItemPress"/><u:MenuItem id="idHierarchicalStep" select="_handleAddMenuItemPress"/><u:MenuItem id="idExistingStep" select="_handleAddMenuItemPress"/></u:Menu></u:MenuItem><u:MenuItem id="idNewRepresentation" enabled="false" select="_handleAddMenuItemPress"/></u:Menu></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/deleteConfirmationDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idDeleteConfirmation" showHeader="true"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding" type="Standard" ><beginButton><Button xmlns="sap.m" id="idDeleteButton" press="handleConfirmDeletion" initialFocus="true"></Button></beginButton><endButton><Button xmlns="sap.m" id="idCancelButtonDialog" press="closeDialog"></Button></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/dialogWithTwoButtons.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n\txmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idDialogWithTwoButtons" type="Message"\n\t\tclass="sapUiSizeCompact dialogContentPadding" afterClose="handleCancel"><content><Label xmlns="sap.m" id="idLabelForDialog" class="dialogText" /></content><beginButton><Button xmlns="sap.m" id="idBeginButtonForDialog"\n\t\t\t\tinitialFocus="true" press="handleBeginButtonDialogWithTwoButtons" /></beginButton><endButton><Button xmlns="sap.m" id="idEndButtonForDialog" press="handleCancel" /></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/existingStepDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><SelectDialog xmlns="sap.m" id="idExistingStepDialog" class="sapUiSizeCompact dialogContentPadding"\r\n\t\tmultiSelect="true" rememberSelections="false"\r\n\t\tconfirm="_handleExistingStepDialogOK" cancel="_handleExistingStepDialogClose"\r\n\t\tliveChange="_handleExistingStepDialogSearch"\r\n\t\titems="{path:\'/existingStepData\'}"><StandardListItem title="{name}"/></SelectDialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/exportConfiguration.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form"><Dialog xmlns="sap.m" id="idExportConfigDialog" icon="" class="sapUiSizeCompact dialogContentPadding"\r\n\t\tshowHeader="true" type="Standard" initialFocus="idExportConfigDialog"><VBox><HBox><Link xmlns="sap.m" id="idDownloadConfig" press="_handleOpenConfigLinkPress" /></HBox><HBox><Link xmlns="sap.m" id="idDownloadTextProperty" press="_handleOpenTextsLinkPress" /></HBox></VBox><beginButton><Button xmlns="sap.m" id="idCloseButton" type="Default" width=""\r\n\t\t\t\tenabled="true" visible="true" press="_handleCloseOfExportDialog"></Button></beginButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/mandatoryDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idMandatoryValidationDialog" class="sapUiSizeCompact dialogContentPadding"\r\n\t\tshowHeader="true" type="Standard" state="Warning" initialFocus="idMandatoryValidationDialog"><beginButton><Button xmlns="sap.m" id="idYesButton" type="Default" enabled="true"\r\n\t\t\t\tvisible="true" iconFirst="true" iconDensityAware="true"\r\n\t\t\t\tpress="handleValidationNavigation"></Button></beginButton><endButton><Button xmlns="sap.m" id="idNoButton" type="Default" enabled="true"\r\n\t\t\t\tvisible="true" iconFirst="true" iconDensityAware="true"\r\n\t\t\t\tpress="handlePreventNavigation"></Button></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/overwriteConfirmation.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idOverwriteConfirmationDialog"\r\n\t\tshowHeader="true" type="Standard" class="sapUiSizeCompact dialogContentPadding"\r\n\t\tinitialFocus="idOverwriteConfirmationDialog" afterClose="handleCancelOfOverwriteDialog"><VBox xmlns="sap.m"><items><Text xmlns="sap.m" id="idConfirmationMessage" /><RadioButtonGroup xmlns="sap.m"\r\n\t\t\t\t\tid="idOverwriteConfigRadioGroup" select="handleChangeForOverwriteConfigOptions"\r\n\t\t\t\t\tariaLabelledBy="idConfirmationMessage"><buttons><RadioButton id="idOverwriteConfig" /><RadioButton id="idDoNotOverwriteConfig" /></buttons></RadioButtonGroup><HBox id="idNewConfigTitleLayout" class="newConfigTitleLabel"\r\n\t\t\t\t\tvisible="false"><items><Label xmlns="sap.m" id="idNewConfigTitleLabel" width="65px" /><Input xmlns="sap.m" id="idNewConfigTitleInput" editable="true"\r\n\t\t\t\t\t\t\twidth="290px" ariaLabelledBy="idNewConfigTitleLabel"></Input></items></HBox></items></VBox><beginButton><Button xmlns="sap.m" id="idOkButton" press="handleOkButtonPress" /></beginButton><endButton><Button xmlns="sap.m" id="idCancelButton" press="handleCancelOfOverwriteDialog" /></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/textpoolCleanupConfirmationDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog id="idTextpoolCleanupConfirmation" showHeader="true"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding" type="Standard" aria-describedby="textpoolCleanupConfirmation"><beginButton><Button id="idConfirmTextpoolCleanupButton" press="handleConfirmTextpoolCleanup"  initialFocus="true"></Button></beginButton><endButton><Button id="idCancelTextpoolCleanupButton" press="handleCancelTextpoolCleanup"></Button></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/unsavedDataConfirmationDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idMessageDialog" showHeader="true"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding" type="Standard" state="Warning" initialFocus="idMessageDialog"><buttons><Button xmlns="sap.m" id="idYesButton" press="handleNavigationWithSave"></Button><Button xmlns="sap.m" id="idNoButton" press="handleNavigationWithoutSave"></Button><Button xmlns="sap.m" id="idCancelButton" press="handlePreventNavigation"></Button></buttons></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/utils/navigationHandler.js":function(){
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.apf.modeler.ui.utils.navigationHandler");sap.apf.modeler.ui.utils.navigationHandler=function(){"use strict";var a,i={};var o=function(a){a.close()};var n=function(){var a=this.configListInstance;var n=this.callback;var t=function(i){a.configEditor.save(function(o,n,t){a.configId=o;a.configurationHandler.memorizeConfiguration(o);if(t===undefined){if(typeof i==="function"){i()}var e=a.oCoreApi.createMessageObject({code:"11513"});a.oCoreApi.putMessage(e)}else{var e=a.oCoreApi.createMessageObject({code:"11514"});a.oCoreApi.putMessage(e)}})};o(i.oConfirmNavigationDialog);if(typeof n.yes==="function"){n.yes(t)}};var t=function(){var a=this.configListInstance;var n=this.callback;o(i.oConfirmNavigationDialog);a.configurationHandler.resetConfiguration(a.configId);if(typeof n.no==="function"){n.no()}};var e=function(){var a=this.isValidationCheck;var n=this.callback;if(!a){o(i.oConfirmNavigationDialog)}else{o(i.oConfirmValidationDialog)}if(typeof n.cancel==="function"){n.cancel()}else if(typeof n.no==="function"&&a){n.no()}};var r=function(a,i){if(i==="naviagtionDialog"){sap.ui.core.Fragment.byId("idMessageDialogFragment","idMessageDialog").setTitle(a.getText("warning"));sap.ui.core.Fragment.byId("idMessageDialogFragment","idYesButton").setText(a.getText("yes"));sap.ui.core.Fragment.byId("idMessageDialogFragment","idNoButton").setText(a.getText("no"));sap.ui.core.Fragment.byId("idMessageDialogFragment","idCancelButton").setText(a.getText("cancel"))}else if(i==="validationDialog"){sap.ui.core.Fragment.byId("idMandatoryValidationDialogFragement","idMandatoryValidationDialog").setTitle(a.getText("warning"));sap.ui.core.Fragment.byId("idMandatoryValidationDialogFragement","idYesButton").setText(a.getText("yes"));sap.ui.core.Fragment.byId("idMandatoryValidationDialogFragement","idNoButton").setText(a.getText("no"))}};var g=function(a,o,g){var l=a.oCoreApi;var s=l.getText("unsavedConfiguration");var d=Object.keys(o)[0];var f={handleNavigationWithSave:n,handleNavigationWithoutSave:t,handlePreventNavigation:e,configListInstance:a,callback:g};f[d]=o[d];i.oConfirmNavigationDialog=sap.ui.xmlfragment("idMessageDialogFragment","sap.apf.modeler.ui.fragment.unsavedDataConfirmationDialog",f);a.getView().addDependent(i.oConfirmNavigationDialog);r(l,"naviagtionDialog");var c=new sap.m.Text;c.setText(s);i.oConfirmNavigationDialog.removeAllContent();i.oConfirmNavigationDialog.addContent(c);i.oConfirmNavigationDialog.attachAfterClose(function(){i.oConfirmNavigationDialog.destroy()});i.oConfirmNavigationDialog.open()};var l=function(a,i){g(a,{isSwitchConfiguration:true},i)};var s=function(){var a=this.callback;o(i.oConfirmValidationDialog);if(typeof a.yes==="function"){a.yes()}};var d=function(a,o,n){var t=a.oCoreApi;var g=t.getText("mandatoryField");var l=Object.keys(o)[0];var d={handleValidationNavigation:s,handlePreventNavigation:e,configListInstance:a,callback:n};d[l]=o[l];i.oConfirmValidationDialog=sap.ui.xmlfragment("idMandatoryValidationDialogFragement","sap.apf.modeler.ui.fragment.mandatoryDialog",d);a.getView().addDependent(i.oConfirmValidationDialog);r(t,"validationDialog");var f=new sap.m.Text;f.setText(g);i.oConfirmValidationDialog.removeAllContent();i.oConfirmValidationDialog.addContent(f);i.oConfirmValidationDialog.attachAfterClose(function(){i.oConfirmValidationDialog.destroy()});i.oConfirmValidationDialog.open()};var f=function(a,i){d(a,{isValidationCheck:true},i)};var c=function(){return{throwLossOfDataPopup:l,throwMandatoryPopup:f}};return{getInstance:function(){return a||(a=c())}}}();
},
	"sap/apf/modeler/ui/view/application.view.xml":'<mvc:View resourceBundleAlias="i18n" xmlns:mvc="sap.ui.core.mvc"\r\n\txmlns="sap.m" xmlns:f="sap.ui.layout.form"><Button xmlns="sap.m" id="idButton"></Button></mvc:View>\r\n\r\n',
	"sap/apf/modeler/ui/view/applicationList.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.applicationList"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><App xmlns="sap.m" id="applicationList" height="100%" width="100%"\r\n\t\tbackgroundRepeat="false" backgroundOpacity="1"><Page id="idAppPage" showNavButton="true" enableScrolling="false"\r\n\t\t\tnavButtonType="Back" navButtonPress="handleNavBack"><content><VBox xmlns="sap.m" id="idAppLayout"><items><Panel width="auto"><HBox xmlns="sap.m" alignItems="Start" justifyContent="SpaceBetween"><items><Label xmlns="sap.m" id="idAppTitle" class="applicationTitle"/></items></HBox></Panel><Toolbar id="idApplicationToolbar" class="applicationTitleLayout"><content><Label xmlns="sap.m" id="idAppNumberTitle" class="appCountLabel"></Label><Label xmlns="sap.m" id="idAppCount" class="applicationCount"></Label><ToolbarSpacer/><SearchField liveChange="onSearch" id="idApplicationListSearchField" width="300px" class="sapUiSmallMarginEnd"/><Button xmlns="sap.m" id="idNewButton"\r\n\t\t\t\t\t\t\t\t\ttype="Transparent" press="handleAddNewAppPress" class="newButton" /><Button xmlns="sap.m" id="idImportButton" type="Transparent" press="handleImportPress"/></content></Toolbar><ScrollContainer xmlns="sap.m" id="idAppListScrollContainer"\r\n\t\t\t\t\t\t\tclass="applicationListScroll" width="100%" horizontal="true"\r\n\t\t\t\t\t\t\tvertical="true"><Table xmlns="sap.m" id="idApplicationTable" inset="false"\r\n\t\t\t\t\t\t\t\trememberSelections="true" mode="None"\r\n\t\t\t\t\t\t\t\titems="{/Objects}"\r\n\t\t\t\t\t\t\t\titemPress="handleListItemPress"><columns><Column><Label xmlns="sap.m" id="idDescriptionLabel" /></Column><Column id="idSemanticObjectColumn"><Label xmlns="sap.m" id="idSemanticObjectLabel" /></Column><Column id="idTextpoolCleanupColumn" width="5%"><Label xmlns="sap.m" text=""/></Column><Column id="idEditColumn" width="5%"><Label xmlns="sap.m" text=""/></Column><Column xmlns="sap.m" width="5%" demandPopin="true"><Label text="" /></Column></columns><items><ColumnListItem type="Navigation" vAlign="Middle"><cells><Text xmlns="sap.m" id="idAppDescription" text="{description}"/><Text xmlns="sap.m" id="idSemanticObject" text="{semanticObject}"/><Button id="idTextpoolCleanupIcon" icon="sap-icon://attachment-text-file"\r\n\t\t\t\t\t\t\t\t\t\t\t\tpress="handleTextpoolCleanupPress" type="Transparent"\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby="idAriaPropertyForTextpoolCleanup"></Button><Button id="idEditIcon" icon="sap-icon://edit" \r\n\t\t\t\t\t\t\t\t\t\t\t\tpress="handleEditPress" type="Transparent"\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby="idAriaPropertyForEdit"></Button><Button id="idDeleteIcon" icon="sap-icon://delete"\r\n\t\t\t\t\t\t\t\t\t\t\t\tpress="handleDeletePress" type="Transparent"\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby="idAriaPropertyForDelete"></Button></cells></ColumnListItem></items></Table></ScrollContainer></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForEdit" /><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForDelete" /><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForTextpoolCleanup" /></content></Page></App></mvc:View>',
	"sap/apf/modeler/ui/view/catalogService.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.catalogService"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><SelectDialog id="idGatewayCatalogListDialog"\r\n\t\tcontentHeight="60%" class="dialogPadding" search="handleSearch"\r\n\t\tconfirm="handleConfirm" cancel="handleCancel" multiSelect="false"\r\n\t\titems="{\r\n\t\t\tpath: \'/ServiceCollection\',\r\n\t\t\tsorter: { path: \'ServiceUrl\', descending: false}\r\n\t\t}"><StandardListItem\r\n\t\t\ttitle="{ path: \'ServiceUrl\', formatter: \'.handleFormatting\'}" /></SelectDialog></mvc:View>',
	"sap/apf/modeler/ui/view/category.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.category" xmlns:core="sap.ui.core"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\r\n\txmlns:f="sap.ui.layout.form" class="sapUiSizeCompact"><VBox xmlns="sap.m" id="idCategoryform" visible="true"\r\n\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlabelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2"\r\n\t\t\t\t\temptySpanS="2" columnsL="1" columnsM="1"><f:content><core:Title id="idCategoryBasicData" level="H4" /><Label xmlns="sap.m" id="idCategoryTitleLabel" required="true" /><Input xmlns="sap.m" id="idCategoryTitle" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeDetailValue" showSuggestion="true"\r\n\t\t\t\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /></Input><Label xmlns="sap.m" id="idTotalStepsLabel" /><Input xmlns="sap.m" id="idTotalSteps" editable="false" /></f:content></f:SimpleForm></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/configuration.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.configuration" xmlns:core="sap.ui.core"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:f="sap.ui.layout.form"\r\n\txmlns:l="sap.ui.layout"\r\n\txmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\r\n\tclass="sapUiSizeCompact"><VBox xmlns="sap.m" id="idConfigform" visible="true"\r\n\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlabelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2"\r\n\t\t\t\t\temptySpanS="2" columnsL="1" columnsM="1"><f:content><core:Title id="idConfigurationBasicData" level="H4" /><Label xmlns="sap.m" id="idConfigTitleLabel" required="true" /><Input xmlns="sap.m" id="idConfigTitle" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeDetailValue" /><Label xmlns="sap.m" id="idConfigurationIdLabel" /><Input xmlns="sap.m" id="idConfigurationId" editable="false" /><Label xmlns="sap.m" id="idSemanticObjectLabel" /><Input xmlns="sap.m" id="idSemanticObject" editable="false" /><Label xmlns="sap.m" id="idNoOfCategoriesLabel" /><Input xmlns="sap.m" id="idNoOfCategories" editable="false" /><Label xmlns="sap.m" id="idNoOfStepsLabel" /><Input xmlns="sap.m" id="idNoOfSteps" editable="false" /><core:Title id="idFilterTypeData" level="H4" /><Label xmlns="sap.m" id="idFilterTypeLabel" width="100%" /><VBox xmlns="sap.m" id="idFilterTypeRadioGroupVBox" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m"\r\n\t\t\t\t\t\t\t\t\tid="idFilterTypeRadioGroup" select="handleChangeForFilterType"\r\n\t\t\t\t\t\t\t\t\tenabled="false"\tariaLabelledBy="idAriaPropertyForFilterRadioGp"><buttons><RadioButton id="smartFilterBar" app:value="smartFilterBar" /><RadioButton id="facetFilter" app:value="facetFilter" class="facetFilterRadioLabel"/><RadioButton id="none" app:value="none" /></buttons></RadioButtonGroup></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForFilterRadioGp" /></f:content></f:SimpleForm></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/configurationList.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.configurationList"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\r\n\txmlns:core="sap.ui.core" xmlns:t="sap.apf.modeler.ui.utils"><Page xmlns="sap.m" showNavButton="true" showHeader="true"\r\n\t\tenableScrolling="false" navButtonType="Back" showFooter="true" id="configPage"\r\n\t\tnavButtonPress="handleNavBack"><content><Label xmlns="sap.m" id="idConfigTitleMaster" design="Standard"\r\n\t\t\t\ttext="Configuration" visible="true" textAlign="Begin" textDirection="Inherit"\r\n\t\t\t\twidth="" required="false"></Label><HBox xmlns="sap.m" id="idHorizontalLayout" visible="true"><items><VBox xmlns="sap.m" id="idConfigMasterData" visible="true"\r\n\t\t\t\t\t\twidth="34%"><items><ScrollContainer id="idMasterScroll" vertical="true" horizontal="false" ><t:APFTree id="idConfigTree" mode="SingleSelectMaster" toggleOpenState="_handleToggleTreeNode" \r\n\t\t\t\t\t\t\t\tselect="_onTreeNodeSelection" items="{/aConfigDetails}" includeItemInSelection="{selectable}"><StandardTreeItem title="{name}" icon="{icon}"></StandardTreeItem></t:APFTree></ScrollContainer></items></VBox><VBox xmlns="sap.m" id="idConfigDetail" visible="true" width="66%"><l:Grid defaultSpan="L12 M12 S12" id="idConfigDetailData" /></VBox></items></HBox></content><footer><Bar xmlns="sap.m" id="idFooterBarMain" visible="true"><contentRight><Button xmlns="sap.m" id="idSavebutton" type="Default"\r\n\t\t\t\t\t\twidth="" enabled="true" visible="true" press="handleSavePress"></Button><Button xmlns="sap.m" id="idCancelbutton" type="Default"\r\n\t\t\t\t\t\twidth="" enabled="true" visible="true" press="handleNavBack"></Button><Button xmlns="sap.m" id="idExportbutton" type="Default"\r\n\t\t\t\t\t\twidth="" enabled="false" visible="true" press="_handleExportButtonPress"></Button><Button xmlns="sap.m" id="idExecuteButton" type="Default"\r\n\t\t\t\t\t\twidth="" enabled="false" visible="true" press="handleExecuteButtonPress"></Button><Button xmlns="sap.m" id="idPublishbutton" type="Default"\r\n\t\t\t\t\t\twidth="" enabled="false" visible="false" press="handlePublishPress"></Button></contentRight></Bar></footer></Page><core:InvisibleText id="idAriaPropertyForBreadCrumb" /></mvc:View>',
	"sap/apf/modeler/ui/view/cornerTexts.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\tvisible="true" xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout"\r\n\txmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\tlabelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4"\r\n\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2"\r\n\t\temptySpanS="2" columnsL="1" columnsM="1"><f:content><core:Title id="idThumbnailTexts" level="H4" /><Input xmlns="sap.m" id="idLeftUpper" editable="true"\r\n\t\t\t\tchange="handleChangeForCornerText" width="60%" showSuggestion="true"\r\n\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /><customData><core:CustomData key="setLeftUpperCornerTextKey"\r\n\t\t\t\t\t\tvalue="setLeftUpperCornerTextKey" /><core:CustomData key="getLeftUpperCornerTextKey"\r\n\t\t\t\t\t\tvalue="getLeftUpperCornerTextKey" /></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6" /></layoutData></Input><Input xmlns="sap.m" id="idRightUpper" editable="true" width="60%"\r\n\t\t\t\tchange="handleChangeForCornerText" showSuggestion="true"\r\n\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /><customData><core:CustomData key="setRightUpperCornerTextKey"\r\n\t\t\t\t\t\tvalue="setRightUpperCornerTextKey" /><core:CustomData key="getRightUpperCornerTextKey"\r\n\t\t\t\t\t\tvalue="getRightUpperCornerTextKey" /></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6" /></layoutData></Input><Icon xmlns="sap.ui.core" id="idChartIcon" color="black"\r\n\t\t\t\tvisible="true" decorative="true" size="30px" tooltip="sampleChart"><layoutData><GridData xmlns="sap.ui.layout" span="L12 M12 S12" /></layoutData></Icon><Input xmlns="sap.m" id="idLeftLower" editable="true"\r\n\t\t\t\tchange="handleChangeForCornerText" width="60%" showSuggestion="true"\r\n\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /><customData><core:CustomData key="setLeftLowerCornerTextKey"\r\n\t\t\t\t\t\tvalue="setLeftLowerCornerTextKey" /><core:CustomData key="getLeftLowerCornerTextKey"\r\n\t\t\t\t\t\tvalue="getLeftLowerCornerTextKey" /></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6" /></layoutData></Input><Input xmlns="sap.m" id="idRightLower" editable="true"\r\n\t\t\t\tchange="handleChangeForCornerText" width="60%" showSuggestion="true"\r\n\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /><customData><core:CustomData key="setRightLowerCornerTextKey"\r\n\t\t\t\t\t\tvalue="setRightLowerCornerTextKey" /><core:CustomData key="getRightLowerCornerTextKey"\r\n\t\t\t\t\t\tvalue="getRightLowerCornerTextKey" /></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6" /></layoutData></Input></f:content></f:SimpleForm></mvc:View>',
	"sap/apf/modeler/ui/view/editApplication.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.editApplication"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"><Dialog xmlns="sap.m" id="idEditAppDialog" showHeader="true"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding"><VBox><items><HBox class="newAppLayout"><items><Label id="idDescriptionLabel" required="true"\r\n\t\t\t\t\t\t\twidth="110px" labelFor="idDescriptionInput" /><Input id="idDescriptionInput" liveChange="handleAppDescriptionLiveChange"\r\n\t\t\t\t\t\t\trequired="true" aria-required="true" initialFocus="true" ariaLabelledBy="idDescriptionLabel" /></items></HBox><HBox class="newAppLayout" id="idSemanticObjectBox"><items><Label id="idSemanticObjectLabel" width="110px" /><Input id="idSemanticObjectInput" liveChange="handleSemanticObjectLiveChange"\r\n\t\t\t\t\t\t\tariaLabelledBy="idSemanticObjectLabel" /></items></HBox></items></VBox><buttons><Button id="idSaveButton" enabled="false" press="handleSavePress" /><Button id="idCancelButton" press="handleCancelPress" /></buttons></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/facetFilter.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.facetFilter"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\r\n\txmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" class="sapUiSizeCompact viewInline"><VBox xmlns="sap.m" id="idFacetFilterVBox" visible="true" width="100%"\r\n\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm id="idFFForm" maxContainerCols="1"\r\n\t\t\t\t\teditable="true" labelMinWidth="300" layout="ResponsiveGridLayout"\r\n\t\t\t\t\tlabelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2"\r\n\t\t\t\t\temptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1"\r\n\t\t\t\t\tclass="formBottomPadding"><f:content><core:Title id="idFacetFilterBasicData" level="H4" /><Label xmlns="sap.m" id="idFFLabel" width="100%" required="true" /><Input xmlns="sap.m" id="idLabel" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeForLabel" showSuggestion="true"\r\n\t\t\t\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /></Input><Label xmlns="sap.m" id="idFFPropertyLabel" width="100%"\r\n\t\t\t\t\t\t\trequired="true" /><Select xmlns="sap.m" id="idFFProperty" visible="true"\r\n\t\t\t\t\t\t\tenabled="true" width="100%" maxWidth="100%" autoAdjustWidth="false"\r\n\t\t\t\t\t\t\tforceSelection="false" change="handleChangeForProperty" items="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Label xmlns="sap.m" id="idDoNotShowAtRuntimeLabel" width="100%" /><CheckBox xmlns="sap.m" id="idDoNotShowAtRuntimeCheckBox"\r\n\t\t\t\t\t\t\tselected="false" width="0px" visible="true" enabled="true"\r\n\t\t\t\t\t\t\tactiveHandling="true" select="handleChangeForVisibilityAtRuntime"></CheckBox><Label xmlns="sap.m" id="idSelectionModeLabel" width="100%" /><VBox xmlns="sap.m" id="idSelectionMode" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m"\r\n\t\t\t\t\t\t\t\t\tid="idSelectionModeRadioGroup" select="handleChangeForSelectionMode"\r\n\t\t\t\t\t\t\t\t\tariaLabelledBy="idAriaPropertyForSelection"><buttons><RadioButton id="idSingleSelectionMode" /><RadioButton id="idMultiSelectionMode" /></buttons></RadioButtonGroup></items></VBox><core:Title id="idDefaultValuesTitle" level="H4" /><Label xmlns="sap.m" id="idPreselectionModeLabel" width="100%" /><VBox xmlns="sap.m" id="idPreselectionMode" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m"\r\n\t\t\t\t\t\t\t\t\tid="idPreselectionModeRadioGroup" select="handleChangeForPreselectionMode"\r\n\t\t\t\t\t\t\t\t\tariaLabelledBy="idAriaPropertyForDefaultMode"><buttons><RadioButton id="idNoneSelection" /><RadioButton id="idAutomaticSelection" /><RadioButton id="idFixedValue" /><RadioButton id="idFunction" /></buttons></RadioButtonGroup></items></VBox><Label xmlns="sap.m" id="idPreselectionDefaultsLabel" width="100%"\r\n\t\t\t\t\t\t\tvisible="false" required="true" /><MultiInput id="idPreselectionDefaults" width="100%"\r\n\t\t\t\t\t\t\tenableMultiLineMode="true" visible="false"\r\n\t\t\t\t\t\t\tchange="handleChangeForPreselectionDefaults" showValueHelp="false" /><Label xmlns="sap.m" id="idPreselectionFunctionLabel" width="100%"\r\n\t\t\t\t\t\t\tvisible="false" required="true" /><Input xmlns="sap.m" id="idPreselectionFunction" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeForPreselectionFunction" visible="false" /><core:Title id="idValueHelpTitle" level="H4" /></f:content><Label xmlns="sap.m" id="idValueHelpLabel" width="100%" /><VBox xmlns="sap.m" id="idValueHelp" visible="true"\r\n\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\r\n\t\t\t\t\t\trenderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m" id="idValueHelpRadioGroup"\r\n\t\t\t\t\t\t\t\tselect="handleChangeForValueHelpOption" ariaLabelledBy="idAriaPropertyForVHR"><buttons><RadioButton id="idVHNone" /><RadioButton id="idValueHelpRequest" /><RadioButton id="idConfigListOfValues" /></buttons></RadioButtonGroup></items></VBox><Label xmlns="sap.m" id="idConfigListOfValuesLabel" width="100%"\r\n\t\t\t\t\t\tvisible="false" required="true" /><MultiInput id="idConfigListOfValuesMultiInput" width="100%"\r\n\t\t\t\t\t\tenableMultiLineMode="true" visible="false"\r\n\t\t\t\t\t\tchange="handleChangeForConfigListOfValues" showValueHelp="false" /></f:SimpleForm><VBox id="idVHRVBox" /><f:SimpleForm id="idFFForm1" maxContainerCols="1"\r\n\t\t\t\t\teditable="true" labelMinWidth="300" layout="ResponsiveGridLayout"\r\n\t\t\t\t\tlabelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2"\r\n\t\t\t\t\temptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1"\r\n\t\t\t\t\tclass="formTopPadding"><f:content><core:Title id="idFilterResolutionTitle" level="H4" /><Label xmlns="sap.m" id="idUseVHRAsFRRCheckBoxLabel" width="100%"\r\n\t\t\t\t\t\t\tvisible="false" /><CheckBox xmlns="sap.m" id="idUseVHRAsFRRCheckBox"\r\n\t\t\t\t\t\t\tselected="false" width="0px" visible="false" enabled="true"\r\n\t\t\t\t\t\t\tactiveHandling="true" select="handleChangeForUseVHRAsFRRCheckBox"></CheckBox></f:content></f:SimpleForm><VBox id="idFRRVBox" /></ScrollContainer></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForSelection" /><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForDefaultMode" /><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForVHR" /></mvc:View>',
	"sap/apf/modeler/ui/view/importDeliveredContent.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.importDeliveredContent"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\r\n\tclass="sapUiSizeCompact"><Dialog xmlns="sap.m" id="idImportDeliveredContentDialog"\r\n\t\tshowHeader="true" class="sapUiSizeCompact dialogContentPadding"\r\n\t\tcontentWidth="700px" initialFocus="idImportDeliveredContentDialog"><VBox xmlns="sap.m"><HBox xmlns="sap.m"><Label xmlns="sap.m" id="idConfigLabel" class="importFileUploaderDialogLabels" /><ComboBox xmlns="sap.m" id="idAppConfigCombobox"\r\n\t\t\t\t\tshowSecondaryValues="true" items="{/Objects}"\r\n\t\t\t\t\tselectionChange="handleSelectionChangeOfAppConfigTextField" change="handleChangeOfAppConfigTextField"\r\n\t\t\t\t\tclass="appCofigCombo" ariaLabelledBy="idConfigLabel"><core:ListItem text="{applicationText}"\r\n\t\t\t\t\t\tadditionalText="{configurationText}" app:value="{value}"></core:ListItem></ComboBox></HBox></VBox><beginButton><Button xmlns="sap.m" id="idImportOfConfig" press="handleImportPress"></Button></beginButton><endButton><Button xmlns="sap.m" id="idCancelImportOfConfig" press="handleCancelOfImportDialog"></Button></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/importFiles.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.importFiles"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" class="sapUiSizeCompact"><Dialog xmlns="sap.m" id="idImportFilesDialog" showHeader="true"\r\n\t\tafterOpen="addAcceptAttribute"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding" initialFocus="idImportFilesDialog" afterClose="handleCancelOfImportFilesDialog"><VBox xmlns="sap.m"><HBox xmlns="sap.m"><Label xmlns="sap.m" id="idJsonFileLabel" class="importFileUploaderDialogLabels" textAlign="Center" width="170px"/><FileUploader xmlns="sap.ui.unified" id="idJsonFileUploader"\r\n\t\t\t\t\tclass="jsonfileuploader" fileType="json" width="600px"\r\n\t\t\t\t\ttypeMissmatch="handleTypeMissmatchForJSONFile" uploadComplete="handleJSONFileUploadComplete"\r\n\t\t\t\t\tsameFilenameAllowed="true" ariaLabelledBy="idJsonFileLabel"></FileUploader></HBox><HBox xmlns="sap.m"><Label xmlns="sap.m" id="idTextFileLabel" class="importFileUploaderDialogLabels" textAlign="Center" width="170px"/><FileUploader xmlns="sap.ui.unified" id="idTextFileUploader"\r\n\t\t\t\t\tclass="propertiesfileuploader" fileType="properties" width="600px"\r\n\t\t\t\t\ttypeMissmatch="handleTypeMissmatchForPropertiesFile"\r\n\t\t\t\t\tuploadComplete="handleTextFileUploadComplete" sameFilenameAllowed="true"\r\n\t\t\t\t\tariaLabelledBy="idTextFileLabel"></FileUploader></HBox></VBox><beginButton><Button xmlns="sap.m" id="idUploadOfConfig" press="handleUploadOfConfig"></Button></beginButton><endButton><Button xmlns="sap.m" id="idCancelImportOfConfig" press="handleCancelOfImportFilesDialog"></Button></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/messageHandler.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.messageHandler"\r\n\txmlns:mvc="sap.ui.core.mvc" class="sapUiSizeCompact"></mvc:View>',
	"sap/apf/modeler/ui/view/navigationTarget.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.navigationTarget"\r\n\txmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\r\n\txmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" class="sapUiSizeCompact"><VBox xmlns="sap.m" id="idNavTargetform" visible="true"\r\n\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlabelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2"\r\n\t\t\t\t\temptySpanS="2" columnsL="1" columnsM="1" class="formBottomPadding"><f:content><core:Title id="idNavigationTargetHeaderLabel" level="H4" /><Label xmlns="sap.m" id="idSemanticObjectLabel" required="true" /><ComboBox xmlns="sap.m" id="idSemanticObjectField"\r\n\t\t\t\t\t\t\tvisible="true" enabled="true" width="100%" maxWidth="100%" type="Default"\r\n\t\t\t\t\t\t\tautoAdjustWidth="false" change="handleChangeSemanticObjectValue"\r\n\t\t\t\t\t\t\titems="{/Objects}"><core:Item key="{id}" text="{id}" /></ComboBox><Label xmlns="sap.m" id="idActionLabel" required="true" /><ComboBox xmlns="sap.m" id="idActionField" visible="true"\r\n\t\t\t\t\t\t\tenabled="true" width="100%" maxWidth="100%" type="Default"\r\n\t\t\t\t\t\t\tautoAdjustWidth="false" change="handleChangeofAction" items="{/Objects}"><core:Item key="{id}" text="{id}" /></ComboBox><Label xmlns="sap.m" id="idDescriptionLabel" /><Input xmlns="sap.m" id="idDescription" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeForTitleText" showSuggestion="true"\r\n\t\t\t\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /></Input><core:Title id="idNavigationParametersHeaderLabel" level="H4" /><Label xmlns="sap.m" id="idUseDynamicParametersCheckBoxLabel" width="100%"></Label><HBox\r\n\t\t\t\t\t\t\talignItems="Start"\r\n\t\t\t\t\t\t\tjustifyContent="Start"><items><CheckBox xmlns="sap.m" id="idUseDynamicParametersCheckBox"\r\n\t\t\t\t \t\t\t\t\tselect="handleChangeForUseDynamicParameters"/><Button xmlns="sap.m" type="Transparent" id="idDisplayHelpAboutDynamicParameters" press="displayHelpAboutDynamicParameters" icon="sap-icon://sys-help"/></items></HBox><VBox id="idNavigationParameterBox"><layoutData><l:GridData span="L12 M12 S12" /></layoutData></VBox><core:Title id="idNavigationTargetTypeHeaderLabel" level="H4" /><Label xmlns="sap.m" id="idNavigationTargetTypeLabel" /><Select xmlns="sap.m" id="idNavigationTargetTypeField"\r\n\t\t\t\t\t\t\tvisible="true" enabled="true" width="100%" type="Default"\r\n\t\t\t\t\t\t\tautoAdjustWidth="false" change="handleChangeOfNavigationTargetType"\r\n\t\t\t\t\t\t\titems="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Label xmlns="sap.m" id="idAssignedStepsLabel" visible="false" /><MultiComboBox xmlns="sap.m" id="idAssignedStepsCombo"\r\n\t\t\t\t\t\t\tenabled="true" visible="false" editable="true" valueState="None"\r\n\t\t\t\t\t\t\tselectionFinish="handleChangeForAssignedSteps" items="{/Objects}"\r\n\t\t\t\t\t\t\twidth="100%"><core:Item key="{stepKey}" text="{stepName}" /></MultiComboBox><core:Title id="idContextMapping" level="H4" /></f:content></f:SimpleForm><VBox id="idContextMappingVBox" /></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/navigationTargetParameter.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:l="sap.ui.layout" visible="true" xmlns:f="sap.ui.layout.form"\r\n\txmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idNavigationTargetParameterForm" maxContainerCols="1"\r\n\t\teditable="true" labelMinWidth="300" layout="ResponsiveGridLayout"\r\n\t\tlabelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2"\r\n\t\temptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1" width="100%"\r\n\t\tclass="formTopPadding formBottomPadding"><f:content><Label xmlns="sap.m" id="idNavigationParametersLabel"></Label><Input xmlns="sap.m" id="idNavigationParametersKey" change="onKeyEntered"><layoutData><l:GridData span="L3 M3 S3" /></layoutData></Input><Input xmlns="sap.m" id="idNavigationParametersValue" change="onValueEntered"><layoutData><l:GridData span="L3 M3 S3" /></layoutData></Input><HBox xmlns="sap.m" id="idIconLayout" class="plusMinusLayout"><layoutData><l:GridData span="L2 M2 S2" /></layoutData><items><Button id="idAddNavigationParameter" icon="sap-icon://add" type="Transparent"\r\n\t\t\t\t\t\t\t press="onPlus" aria-describedby="idAriaPropertyForAdd"></Button><Button id="idRemoveNavigationParameter" icon="sap-icon://less" type="Transparent"\r\n\t\t\t\t\t\t\tpress="onMinus" \r\n\t\t\t\t\t\t\taria-describedby="idAriaPropertyForDelete"></Button></items></HBox></f:content></f:SimpleForm><core:InvisibleText id="idAriaPropertyForAdd" /><core:InvisibleText id="idAriaPropertyForDelete" /></mvc:View>',
	"sap/apf/modeler/ui/view/newApplication.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.newApplication"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><Dialog xmlns="sap.m" id="idNewAppDialog" showHeader="true"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding"><VBox xmlns="sap.m"><items><HBox xmlns="sap.m" class="newAppLayout"><items><Label xmlns="sap.m" id="idDescriptionLabel" required="true" textAlign="Center"\r\n\t\t\t\t\t\t\twidth="135px" labelFor="idDescriptionInput" /><Input xmlns="sap.m" id="idDescriptionInput" liveChange="handleAppDescriptionLiveChange"\r\n\t\t\t\t\t\t\t required="true" aria-required="true" initialFocus="true" ariaLabelledBy="idDescriptionLabel" /></items></HBox><HBox xmlns="sap.m" class="newAppLayout" id="idSemanticObjectBox"><items><Label xmlns="sap.m" id="idSemanticObjectLabel" textAlign="Center"\r\n\t\t\t\t\t\t       width="135px" labelFor="idSemanticObjectInput"/><Input xmlns="sap.m" id="idSemanticObjectInput"\r\n\t\t\t\t\t\t\tariaLabelledBy="idSemanticObjectLabel" /></items></HBox></items></VBox><beginButton><Button xmlns="sap.m" id="idSaveButton" enabled="false"\r\n\t\t\t\tpress="handleSavePress"></Button></beginButton><endButton><Button xmlns="sap.m" id="idCancelButton" press="handleCancelPress" /></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/previewContent.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.previewContent"\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><Dialog xmlns="sap.m" type="Standard" id="idPreviewContentDialog"\n\t\t class="previewDialogStyle" afterClose="handleClose"><VBox xmlns="sap.m" id="idThumbnail" height="240px" width="30%"\n\t\t\tinitialFocus="true" displayInline="false" direction="Column" fitContainer="true"\n\t\t\trenderType="Div" justifyContent="Left" alignItems="Left"\n\t\t\tclass="previewThumbnailHolder"><items></items></VBox><VBox xmlns="sap.m" id="idMainChart" width="70%" displayInline="false"\n\t\t\tdirection="Column" fitContainer="false" renderType="Div"\n\t\t\tjustifyContent="Right" alignItems="Right"\n\t\t\tclass="previewTable previewMainChartHolder"><items></items></VBox><endButton><Button xmlns="sap.m" id="idCloseButtonDialog" press="handleCloseButtonOfDialog"></Button></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/propertyType.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:l="sap.ui.layout" visible="true" xmlns:f="sap.ui.layout.form"\r\n\txmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idPropertyTypeForm" maxContainerCols="1"\r\n\t\teditable="true" labelMinWidth="300" layout="ResponsiveGridLayout"\r\n\t\tlabelSpanL="3" labelSpanM="4" labelSpanS="4" emptySpanL="1"\r\n\t\temptySpanM="1" emptySpanS="1" columnsL="1" columnsM="1" width="100%"\r\n\t\tclass="formTopPadding formBottomPadding" ariaLabelledBy="idAriaPropertyForBasicDataGroup"><core:InvisibleText id="idAriaPropertyForBasicDataGroup"/><f:content><Label id="idPropertyTypeLabel"><layoutData><l:GridData span="L2 M2 S2" /></layoutData></Label><Select id="idPropertyType" visible="true" enabled="true"\r\n\t\t\t\twidth="100%" maxWidth="100%" type="Default" autoAdjustWidth="false"\r\n\t\t\t\tchange="handleChangeForPropertyTypeAsPromise" items="{/Objects}"><core:Item key="{key}" text="{name}" /><layoutData><l:GridData id="idPropertyTypeLayout" span="L2 M2 S2" /></layoutData></Select><Select id="idLabelDisplayOptionType" visible="true" enabled="true"\r\n\t\t\t\twidth="100%" maxWidth="100%" type="Default" autoAdjustWidth="false"\r\n\t\t\t\tchange="handleChangeForLabelDisplayOptionType" items="{/Objects}"><core:Item key="{key}" text="{name}" /><layoutData><l:GridData span="L2 M2 S2" /></layoutData></Select><Label id="idPropertyLabel"><layoutData><l:GridData span="L2 M2 S1" /></layoutData></Label><Input id="idPropertyLabelText" editable="true"\r\n\t\t\t\tchange="handleChangeForLabelText" showSuggestion="true"\r\n\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /><layoutData><l:GridData span="L3 M3 S2" /></layoutData></Input><HBox xmlns="sap.m" id="idIconLayout" class="plusMinusLayout"><layoutData><l:GridData span="L1 M1 S1" /></layoutData><items><Button id="idAddPropertyIcon" icon="sap-icon://add" type="Transparent"\r\n\t\t\t\t\t\t press="handlePressOfAddPropertyIcon" aria-describedby="idAriaPropertyForAdd"></Button><Button id="idRemovePropertyIcon" icon="sap-icon://less" type="Transparent"\r\n\t\t\t\t\t\tpress="handlePressOfRemovePropertyIcon" \r\n\t\t\t\t\t\taria-describedby="idAriaPropertyForDelete"></Button></items></HBox></f:content></f:SimpleForm><core:InvisibleText id="idAriaPropertyForAdd" /><core:InvisibleText id="idAriaPropertyForDelete" /></mvc:View>',
	"sap/apf/modeler/ui/view/propertyTypeHandler.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\tvisible="true" xmlns="sap.m"\r\n\tcontrollerName="sap.apf.modeler.ui.controller.propertyTypeHandler"\r\n\tclass="sapUiSizeCompact"><VBox xmlns="sap.m" id="idPropertyTypeVBox" /></mvc:View>',
	"sap/apf/modeler/ui/view/representation.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.representation"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\r\n\txmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" class="sapUiSizeCompact viewInline"><VBox xmlns="sap.m" id="idRepresentationform" visible="true"\r\n\t\twidth="100%" displayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlabelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="3"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="1" emptySpanM="1"\r\n\t\t\t\t\temptySpanS="1" columnsL="1" columnsM="1"><f:content><core:Title id="idVisualization" level="H4" /><Label xmlns="sap.m" id="idChartTypeLabel"><layoutData><GridData xmlns="sap.ui.layout" span="L2 M2 S2" /></layoutData></Label><Select xmlns="sap.m" id="idChartType" visible="true"\r\n\t\t\t\t\t\t\tenabled="true" width="95%" maxWidth="100%" type="Default"\r\n\t\t\t\t\t\t\tautoAdjustWidth="false" change="handleChangeForChartType" items="{/Objects}"><core:Item key="{key}" text="{name}" /><layoutData><GridData xmlns="sap.ui.layout" span="L4 M4 S4" /></layoutData></Select></f:content></f:SimpleForm><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlabelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="3"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="1" emptySpanM="1"\r\n\t\t\t\t\temptySpanS="2" columnsL="1" columnsM="1" class="formTopPadding"><f:content><core:Title id="idBasicData" level="H4" /><VBox xmlns="sap.m" id="idBasicDataLayout" width="100%"\r\n\t\t\t\t\t\t\tvisible="true" displayInline="false" direction="Column"\r\n\t\t\t\t\t\t\tfitContainer="false" renderType="Div" justifyContent="Start"\r\n\t\t\t\t\t\t\talignItems="Stretch"></VBox></f:content></f:SimpleForm><f:SimpleForm id="idSecondForm" maxContainerCols="1"\r\n\t\t\t\t\teditable="true" labelMinWidth="300" layout="ResponsiveGridLayout"\r\n\t\t\t\t\tlabelSpanL="3" labelSpanM="4" labelSpanS="4" emptySpanL="1"\r\n\t\t\t\t\temptySpanM="1" emptySpanS="2" columnsL="1" columnsM="1"\r\n\t\t\t\t\tclass="formTopPadding"><f:content><core:Title id="idSorting" level="H4" /><VBox xmlns="sap.m" id="idSortLayout" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"></VBox></f:content></f:SimpleForm><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlabelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="3"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="1" emptySpanM="1"\r\n\t\t\t\t\temptySpanS="2" columnsL="1" columnsM="1" class="formTopPadding"><f:content><VBox xmlns="sap.m" id="idCornerTextsVBox" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"></VBox></f:content></f:SimpleForm></ScrollContainer></items></VBox></mvc:View>\r\n',
	"sap/apf/modeler/ui/view/requestOptions.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\n\tvisible="true" xmlns:f="sap.ui.layout.form" xmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idRequestOptionsForm" maxContainerCols="1"\n\t\teditable="true" labelMinWidth="300" layout="ResponsiveGridLayout"\n\t\tlabelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2"\n\t\temptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1" width="100%"><f:content><Label id="idSourceLabel" /><Input id="idSource" editable="true" showValueHelp="true"\n\t\t\t\tshowSuggestion="true" suggestionItems="{/Objects}"\n\t\t\t\tchange="handleChangeForSourceAsPromise" valueHelpRequest="handleShowValueHelpRequest"\n\t\t\t\tsuggest="handleSuggestionsForSource"><core:Item key="{key}" text="{name}" /></Input><Label id="idEntityLabel" /><Select id="idEntity" visible="true" enabled="true" width="100%"\n\t\t\t\tmaxWidth="100%" type="Default" autoAdjustWidth="false"\n\t\t\t\tchange="handleChangeForEntity" items="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Label id="idOptionalPropertyLabel" visible="false" /><Select id="idOptionalProperty" visible="false" enabled="true"\n\t\t\t\twidth="100%" maxWidth="100%" type="Default" autoAdjustWidth="false"\n\t\t\t\tchange="handleChangeForOptionalProperty" items="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Label id="idSelectPropertiesLabel" /><MultiComboBox id="idSelectProperties" value="" width="100%"\n\t\t\t\tenabled="true" visible="true" valueState="None" editable="true"\n\t\t\t\tselectionFinish="handleChangeForSelectProperty" items="{/Objects}"><core:Item key="{key}" text="{name}" /></MultiComboBox><Label id="idOptionalRequestFieldLabel" visible="false" /><Select id="idOptionalRequestField" visible="false" enabled="true"\n\t\t\t\twidth="100%" maxWidth="100%" type="Default" autoAdjustWidth="false"\n\t\t\t\tchange="handleChangeForOptionalRequestField" items="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Select id="idOptionalLabelDisplayOptionType" visible="false"\n\t\t\t\tenabled="true" width="100%" maxWidth="100%" type="Default"\n\t\t\t\tautoAdjustWidth="false" change="handleChangeForOptionalLabelDisplayOptionType"\n\t\t\t\titems="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Label id="idOptionalSelectedPropertyLabel" visible="false"></Label><Input id="idOptionalSelectedPropertyLabelText" editable="true"\n\t\t\t\tvisible="false" change="handleChangeForOptionalSelectedPropertyLabelText"\n\t\t\t\tshowSuggestion="true" suggestionItems="{/Objects}" suggest="handleSuggestionsForSelectedPropertyLabel"><core:Item key="{key}" text="{name}" /></Input></f:content></f:SimpleForm></mvc:View>',
	"sap/apf/modeler/ui/view/smartFilterBar.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.smartFilterBar"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\r\n\tclass="sapUiSizeCompact"><VBox xmlns="sap.m" id="idSFBVBox" visible="true" displayInline="false"\r\n\t\tdirection="Column" fitContainer="false" renderType="Div"\r\n\t\tjustifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><VBox id="idSFBRequestVBox"></VBox></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/sortPropertyType.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:l="sap.ui.layout" visible="true" xmlns:f="sap.ui.layout.form"\r\n\txmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idSortPropertyTypeForm"\r\n\t\tmaxContainerCols="1" editable="true" labelMinWidth="300"\r\n\t\tlayout="ResponsiveGridLayout" labelSpanL="3" labelSpanM="4"\r\n\t\tlabelSpanS="4" emptySpanL="1" emptySpanM="1" emptySpanS="1" columnsL="1"\r\n\t\tcolumnsM="1" width="100%" class="formTopPadding formBottomPadding" ariaLabelledBy="idAriaPropertyForSortGroup"><core:InvisibleText id="idAriaPropertyForSortGroup"/><f:content><Label id="idSortLabel"><layoutData><l:GridData id="idGridSortLabel" /></layoutData></Label><Select id="idSortProperty" visible="true" width="100%"\r\n\t\t\t\tmaxWidth="100%" type="Default" autoAdjustWidth="false"\r\n\t\t\t\tchange="handleChangeForSortProperty" items="{/Objects}"><core:Item key="{key}" text="{name}" /><layoutData><l:GridData id="idGridSortProperty" /></layoutData></Select><Label id="idSortDirectionLabel"><layoutData><l:GridData id="idGridSortDirectionLabel" /></layoutData></Label><Select id="idSortDirection" visible="true" width="100%"\r\n\t\t\t\tmaxWidth="100%" type="Default" autoAdjustWidth="false"\r\n\t\t\t\tchange="handleChangeForSortDirection" items="{/Objects}"><core:Item key="{key}" text="{name}" /><layoutData><l:GridData id="idGridSortDirection" /></layoutData></Select><HBox xmlns="sap.m" id="idIconLayout" class="plusMinusLayout"><layoutData><l:GridData id="idGridIconLayout" /></layoutData><items><Button id="idAddPropertyIcon" icon="sap-icon://add" type="Transparent"\r\n\t\t\t\t\t\t press="handlePressOfAddPropertyIcon" aria-describedby="idAriaPropertyForAdd"></Button><Button id="idRemovePropertyIcon" icon="sap-icon://less" type="Transparent"\r\n\t\t\t\t\t\t press="handlePressOfRemovePropertyIcon" \r\n\t\t\t\t\t\taria-describedby="idAriaPropertyForDelete"></Button></items></HBox></f:content></f:SimpleForm><core:InvisibleText id="idAriaPropertyForAdd" /><core:InvisibleText id="idAriaPropertyForDelete" /></mvc:View>\r\n',
	"sap/apf/modeler/ui/view/step.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.step"\r\n\txmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\r\n\txmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout" class="sapUiSizeCompact viewInline"><VBox xmlns="sap.m" id="idStepform" visible="true" displayInline="false"\r\n\t\tdirection="Column" fitContainer="false" renderType="Div"\r\n\t\tjustifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm id="idBasicDataForm" maxContainerCols="1"\r\n\t\t\t\t\teditable="true" labelMinWidth="300" layout="ResponsiveGridLayout"\r\n\t\t\t\t\tlabelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2"\r\n\t\t\t\t\temptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1"\r\n\t\t\t\t\tclass="formBottomPadding"><f:content><core:Title id="idStepBasicData" level="H4" /><Label id="idStepTitleLabel" required="true" /><Input id="idStepTitle" editable="true" change="handleChangeForStepTitle"\r\n\t\t\t\t\t\t\tshowSuggestion="true" suggestionItems="{/Objects}"\r\n\t\t\t\t\t\t\tsuggest="handleSuggestionsForStepTitle"><core:Item key="{key}" text="{name}" /></Input><Label id="idStepLongTitleLabel" /><Input id="idStepLongTitle" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeForStepLongTitle" showSuggestion="true"\r\n\t\t\t\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestionsForStepLongTitle"><core:Item key="{key}" text="{name}" /></Input><Label id="idCategoryTitleLabel" required="true" /><MultiComboBox id="idCategorySelect" enabled="true"\r\n\t\t\t\t\t\t\tvisible="true" valueState="None" editable="true"\r\n\t\t\t\t\t\t\tselectionChange="handleChangeForCategory" items="{/Objects}"><core:Item key="{CategoryId}" text="{CategoryTitle}" /></MultiComboBox><core:Title id="idDataRequest" level="H4" /></f:content></f:SimpleForm><VBox id="idStepRequestVBox" /><f:SimpleForm id="idDataReductionForm"\r\n\t\t\t\t\tmaxContainerCols="1" editable="true" labelMinWidth="300"\r\n\t\t\t\t\tlayout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4"\r\n\t\t\t\t\tlabelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2"\r\n\t\t\t\t\tcolumnsL="1" columnsM="1" class="formTopPadding formBottomPadding"><f:content><core:Title id="idDataReduction" level="H4" /><Label id="idDataReductionLabel" width="100%" visible="true" /><VBox id="idDataReductionRadioButton" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start"><items><RadioButtonGroup id="idDataReductionRadioGroup"\r\n\t\t\t\t\t\t\t\t\tselect="handleChangeForDataReductionType" ariaLabelledBy="idAriaPropertyForDataReduction"><buttons><RadioButton groupName="groupDataReduction" id="idNoDataReduction" /><RadioButton groupName="groupDataReduction" id="idTopN" /></buttons></RadioButtonGroup></items></VBox><Label id="idNumberOfRecordsLabel" width="100%" required="true"\r\n\t\t\t\t\t\t\tvisible="false" /><Input id="idNumberOfRecordsValue" busy="false" width="100%"\r\n\t\t\t\t\t\t\tvisible="false" type="Number" enabled="true"\r\n\t\t\t\t\t\t\tliveChange="handleValidationForNumberOfRecords" change="handleChangeForNoOfRecords"></Input></f:content></f:SimpleForm><VBox id="idSortLayout" visible="true" displayInline="false"\r\n\t\t\t\t\tdirection="Column" fitContainer="false" renderType="Div"\r\n\t\t\t\t\tjustifyContent="Start" alignItems="Stretch"></VBox><f:SimpleForm id="idFilterMappingHeaderForm"\r\n\t\t\t\t\tmaxContainerCols="1" editable="true" labelMinWidth="300"\r\n\t\t\t\t\tlayout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4"\r\n\t\t\t\t\tlabelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2"\r\n\t\t\t\t\tcolumnsL="1" columnsM="1" class="formTopPadding"><f:content><core:Title id="idFilterMapping" level="H4" /></f:content></f:SimpleForm><VBox id="idStepFilterMappingVBox" visible="false" /><f:SimpleForm id="idFilterMapKeepSourceAndNavTargetForm"\r\n\t\t\t\t\tmaxContainerCols="1" editable="true" labelMinWidth="300"\r\n\t\t\t\t\tlayout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4"\r\n\t\t\t\t\tlabelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2"\r\n\t\t\t\t\tcolumnsL="1" columnsM="1" class="formTopPadding formBottomPadding"><f:content><Label id="idFilterMapKeepSourceLabel" visible="false" /><CheckBox xmlns="sap.m" id="idFilterKeepSourceCheckBox"\r\n\t\t\t\t\t\t\tvisible="false" selected="false" select="handleFilterMapKeepSource" /><core:Title id="idNavigationTarget" level="H4" /><Label id="idStepSpecificLabel" /><MultiComboBox id="idStepSpecificCombo" enabled="true"\r\n\t\t\t\t\t\t\tvisible="true" valueState="None" editable="true"\r\n\t\t\t\t\t\t\tselectionChange="handleChangeForStepSpecificNavTargets" items="{/Objects}"\r\n\t\t\t\t\t\t\twidth="100%"><core:Item key="{navTargetKey}" text="{navTargetName}" /></MultiComboBox><Label id="idGlobalLabel" /><MultiComboBox id="idGlobalCombo" enabled="true"\r\n\t\t\t\t\t\t\tvisible="true" valueState="None" editable="false" items="{/Objects}"\r\n\t\t\t\t\t\t\twidth="100%"><core:Item key="{navTargetKey}" text="{navTargetName}" /></MultiComboBox></f:content></f:SimpleForm><VBox id="idStepCornerTextVBox" /></ScrollContainer></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForDataReduction" /></mvc:View>\r\n',
	"sap/apf/modeler/ui/view/titleBreadCrumb.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.titleBreadCrumb"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"><VBox xmlns="sap.m" id="idFormTitleLayout" visible="true" height=""\r\n\t\twidth="" displayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><Text xmlns="sap.m" id="IdFormTitle" textDirection="Inherit"\r\n\t\t\t\tvisible="true" wrapping="true" textAlign="Begin" width="" class="formTitle"></Text><l:HorizontalLayout xmlns="sap.m" id="IdBreadCrumb"\r\n\t\t\t\tvisible="true" class="breadCrumb"></l:HorizontalLayout></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/toolbar.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.toolbar"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"><Toolbar xmlns="sap.m" id="idTreeToolbar" visible="true" width="100%"\r\n\t\tactive="false" enabled="true" design="Auto"><content><FlexBox alignItems="Start" width="100%"><items><Button xmlns="sap.m" id="idAddButton" type="Default" width="100%"\r\n\t\t\t\t\t\ttap="" press="_handlePressAddButton"><layoutData><FlexItemData growFactor="1" /></layoutData></Button><Button xmlns="sap.m" id="idCopyButton" enabled="false"\r\n\t\t\t\t\t\twidth="100%" type="Default" tap="" press="_handlePressCopyButton"><layoutData><FlexItemData growFactor="1" /></layoutData></Button><Button xmlns="sap.m" id="idDeleteButton" type="Default"\r\n\t\t\t\t\t\tenabled="false" width="100%" tap="" press="_handlePressDeleteButton"><layoutData><FlexItemData growFactor="1" /></layoutData></Button><Button xmlns="sap.m" id="idMoveUp" type="Default" width="100%"\r\n\t\t\t\t\t\ttap="" press="_handlePressMoveUpButton" icon="sap-icon://up"><layoutData><FlexItemData growFactor="1" /></layoutData></Button><Button xmlns="sap.m" id="idMoveDown" type="Default" width="100%"\r\n\t\t\t\t\t\ttap="" press="_handlePressMoveDownButton" icon="sap-icon://down"><layoutData><FlexItemData growFactor="1" /></layoutData></Button></items></FlexBox></content></Toolbar></mvc:View>',
	"sap/apf/ui/representations/utils/displayOptionHandler.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.apf.ui.representations.utils.displayOptionHandler");sap.ui.define(["sap/apf/core/constants"],function(e){"use strict";sap.apf.ui.representations.utils.DisplayOptionHandler=function(){};function t(e,t){var a,n=false;var i=e[0][t];for(a=0;a<e.length;a++){if(i!==e[a][t]){n=true;break}}return n}sap.apf.ui.representations.utils.DisplayOptionHandler.prototype.constructor=sap.apf.ui.representations.utils.DisplayOptionHandler;sap.apf.ui.representations.utils.DisplayOptionHandler.prototype.getColumnNameBasedOnDisplayOption=function(e,t,a){var n;var i=e;if(t===undefined){n=i}if(t===sap.apf.core.constants.representationMetadata.labelDisplayOptions.TEXT){n=a.getPropertyMetadata(i).text}if(t===sap.apf.core.constants.representationMetadata.labelDisplayOptions.KEY){n="formatted_"+i}if(t===sap.apf.core.constants.representationMetadata.labelDisplayOptions.KEY_AND_TEXT){n=i+"_"+a.getPropertyMetadata(i).text}return n};sap.apf.ui.representations.utils.DisplayOptionHandler.prototype.getDisplayNameForMeasure=function(e,a,n,i){var r=a.getPropertyMetadata(e.fieldName);var s=r.label?r.label:r.name;var p=a.getPropertyMetadata(r.name).unit;var o=n[0]?n[0][p]:undefined;if(e.fieldDesc){s=i.getTextNotHtmlEncoded(e.fieldDesc)}if(p&&o&&!t(n,p)){s=i.getTextNotHtmlEncoded("displayUnit",[s,o])}return s};sap.apf.ui.representations.utils.DisplayOptionHandler.prototype.getDisplayNameForDimension=function(e,t,a){var n=t.getPropertyMetadata(e.fieldName);var i=n.label?n.label:n.name;if(e.fieldDesc){i=a.getTextNotHtmlEncoded(e.fieldDesc)}return i}}());
},
	"sap/apf/ui/representations/utils/paginationHandler.js":function(){
/* SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.apf.ui.representations.utils.paginationHandler");(function(){"use strict";sap.apf.ui.representations.utils.PaginationHandler=function(){this.pagingOption={top:100,skip:0}};sap.apf.ui.representations.utils.PaginationHandler.prototype.constructor=sap.apf.ui.representations.utils.PaginationHandler;function t(t,i){t.pagingOption.skip=i.getData().tableData.length;t.pagingOption.top=99}function i(i,n){var a=n.tableControl.getModel();var e=a.getData();t(i,a);if(!i.bPaginationTriggered&&i.pagingOption.skip<n.nDataResponseCount){n.tableControl.getParent().setBusy(true);sap.ui.getCore().applyChanges();var o=n.oApi.getActiveStep();i.bPaginationTriggered=true;n.oApi.updatePath(function(t,p){i.bPaginationTriggered=false;if(t===o){a.setData(e);n.markSelectionInTable();n.tableControl.getParent().setBusy(false);if(a.getData().tableData.length>=n.nDataResponseCount){n.oLoadMoreLink.setVisible(false)}}})}}function n(t,n){n.oLoadMoreLink.setVisible(true);n.oLoadMoreLink.attachPress(function(){i(t,n)})}function a(t,n){var a=n.tableControl;n.tableControl.attachFirstVisibleRowChanged(function(e){var o=e.getParameter("firstVisibleRow");var p=a.getVisibleRowCount();var s=t.pagingOption.top+t.pagingOption.skip;if(o+p+10>s){i(t,n)}})}sap.apf.ui.representations.utils.PaginationHandler.prototype.attachPaginationOnTable=function(t){if(sap.ui.Device.system.desktop){a(this,t)}else{n(this,t)}};sap.apf.ui.representations.utils.PaginationHandler.prototype.getPagingOption=function(t){var i,n;if(t){i=t;n=0}else if(this.pagingOption.top!==100&&this.pagingOption.skip!==0){i=this.pagingOption.top;n=this.pagingOption.skip}else{i=100;n=0}this.pagingOption={inlineCount:t?false:true,top:i,skip:n};return this.pagingOption};sap.apf.ui.representations.utils.PaginationHandler.prototype.resetPaginationOption=function(){this.pagingOption={top:100,skip:0}}})();
},
	"sap/apf/ui/reuse/controller/layout.controller.js":function(){
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";sap.ui.controller("sap.apf.ui.reuse.controller.layout",{onInit:function(){this.oCoreApi=this.getView().getViewData().oCoreApi;this.oUiApi=this.getView().getViewData().uiApi;this.oNavigationHandler=this.getView().getViewData().oNavigationHandler;var t;this.oCoreApi.getApplicationConfigProperties().done(function(e){if(e){t=e.appName}this.applicationTitle=this.oCoreApi.getTextNotHtmlEncoded(t);this.getView().byId("applicationPage").setTitle(this.applicationTitle);this.loadLayout()}.bind(this));var e=this;this.oActionListPopover=new sap.m.Popover({id:this.createId("idAnalysisPathMenuPopOver"),showHeader:false,placement:sap.m.PlacementType.Bottom,contentWidth:"165px"});this.oActionListItem=e.oUiApi.getToolbar().addStyleClass("toolbarView");this.oActionListPopover.addContent(this.oActionListItem);this.oSavedPathName=this.getView().byId("analysisPathTitle");if(this.byId("analysisPath")){this.setPathTitle()}},showMenu:function(t){this.oActionListPopover.openBy(t.getSource())},getAnalysisPathTitleText:function(){this.getView.byId("analysisPathTitle")},setPathTitle:function(){var t=this.oCoreApi.getPathName();if(t.length==0){t=this.oCoreApi.getTextNotHtmlEncoded("unsaved")}if(this.oCoreApi.isDirty()){t="*"+t}this.getView().byId("analysisPathTitle").setText(t);this.getView().byId("analysisPathTitle").setTooltip(t)},loadLayout:function(){this.oCoreApi.getSmartFilterBarConfigurationAsPromise().done(function(t){if(sap.ui.Device.system.desktop){this.getView().addStyleClass("sapUiSizeCompact");this.getView().byId("deviceFooter").destroy()}if(t===undefined){this.getView().byId("idSplitterLayoutData").setSize("0px")}var e=this.oUiApi.getStepContainer();var i=this.oUiApi.getAnalysisPath();this.getView().byId("applicationPage").setTitle(this.applicationTitle);this.getView().byId("stepContainer").addContent(e);this.getView().byId("analysisDynamicPage").setContent(i);if(this.getView().byId("menuButton")){this.getView().byId("menuButton").setTooltip(this.oCoreApi.getTextNotHtmlEncoded("options"))}this.addOpenInButton()}.bind(this))},onAfterRendering:function(){var t=this;if(!sap.ui.Device.system.desktop){var e=new sap.m.Button({text:this.oCoreApi.getTextNotHtmlEncoded("showAnalyticalPath"),press:function(){t.getView().byId("applicationView").showMaster()},type:"Transparent"});this.getView().byId("applicationView").attachAfterMasterClose(function(){if(t.getView().byId("masterFooter")&&t.getView().byId("masterFooter").getContentLeft().length===0){t.getView().byId("masterFooter").addContentLeft(e)}});this.getView().byId("applicationView").attachAfterMasterOpen(function(){if(t.getView().byId("masterFooter")){t.getView().byId("masterFooter").removeContentLeft(e)}});if(this.getView().byId("applicationView").isMasterShown()===false&&this.getView().byId("masterFooter").getContentLeft().length===0){this.addMasterFooterContentLeft(e)}}},hideMaster:function(){if(sap.ui.Device.system.phone||sap.ui.Device.system.tablet){this.getView().byId("applicationView").hideMaster();if(sap.ui.Device.system.phone){this.getView().byId("applicationView").toDetail(this.getView().byId("stepContainer").getId())}}},showMasterFooter:function(t,e,i){if(!sap.ui.Device.system.desktop){var o=this;o.getView().byId("analysisPath").showFooter=true;o.getView().byId("analysisPath").enableScrolling=true;o.getView().byId("deviceFooter").addContentLeft(t);o.getView().byId("deviceFooter").addContentLeft(e);o.getView().byId("deviceFooter").addContentLeft(i)}},showMaster:function(){this.getView().byId("applicationView").showMaster()},addMasterFooterContentLeft:function(t){this.getView().byId("masterFooter").addContentLeft(t)},addMasterFooterContentRight:function(t){if(this.getView().byId("masterFooter").getContentRight().length===0){this.getView().byId("masterFooter").insertContentRight(t)}else{this.addMasterFooterContent(t)}},addMasterFooterContent:function(t){var e=this;if(this.oActionListPopover===undefined){this.oActionListPopover=new sap.m.Popover({showHeader:false,placement:sap.m.PlacementType.Top})}if(typeof t.getWidth==="function"){t.setWidth("100%")}if(this.footerContentButton===undefined){this.getView().byId("masterFooter").getContentRight()[0].setWidth("71%");this.footerContentButton=new sap.m.Button({icon:"sap-icon://overflow",press:function(t){e.oActionListPopover.openBy(t.getSource())},type:"Transparent",tooltip:this.oCoreApi.getTextNotHtmlEncoded("moreIcon")})}this.oActionListPopover.addContent(t);this.getView().byId("masterFooter").insertContentRight(this.footerContentButton,1)},addDetailFooterContentLeft:function(t){this.getView().byId("masterFooter").addContentLeft(t)},addFacetFilter:function(t){this.getView().byId("subHeader").addContent(t)},enableDisableOpenIn:function(){var t=this;if(!t.openInBtn){return}var e=false;var i=this.oNavigationHandler.getNavigationTargets();i.then(function(i){if(i.global.length===0&&i.stepSpecific.length===0){if(t.openInBtn.getEnabled()){e=true;t.openInBtn.setEnabled(false)}}else{if(!t.openInBtn.getEnabled()){e=true;t.openInBtn.setEnabled(true)}}if(e){t.openInBtn.rerender()}})},addOpenInButton:function(){var t=this;if(this.oNavListPopover===undefined){this.oNavListPopover=new sap.m.Popover({showHeader:false,placement:sap.m.PlacementType.Top})}this.openInBtn=new sap.m.Button({id:this.createId("idOpenInButton"),text:this.oCoreApi.getTextNotHtmlEncoded("openIn"),tooltip:this.oCoreApi.getTextNotHtmlEncoded("openIn"),type:"Transparent",enabled:false,press:function(e){t.oNavTargetsView=sap.ui.view({viewName:"sap.apf.ui.reuse.view.navigationTarget",type:sap.ui.core.mvc.ViewType.JS,viewData:{oNavigationHandler:t.oNavigationHandler,oNavListPopover:t.oNavListPopover,oOpenInButtonEventSource:e.getSource(),oUiApi:t.oUiApi,oCoreApi:t.oCoreApi}})}});this.getView().byId("masterFooter").insertContentRight(this.openInBtn,1);this.enableDisableOpenIn()},doOkOnNavAnalysisPath:function(){var t=this;var e=this.oUiApi.getAnalysisPath().getToolbar();this.oCoreApi.readPaths(function(i,o,n){var a=true;var s=i.paths;if(o!==undefined){e.maxNumberOfSteps=o.getEntityTypeMetadata().maximumNumberOfSteps;e.maxNumberOfPaths=o.getEntityTypeMetadata().maxOccurs}if(n===undefined&&typeof i==="object"){e.getController().getSaveDialog(a,function(){window.history.go(-1)},s)}else{var r=t.oCoreApi.createMessageObject({code:"6005",aParameters:[]});r.setPrevious(n);t.oCoreApi.putMessage(r)}})},handleNavBack:function(){var t=this;if(t.oUiApi.getLayoutView().getController().oSavedPathName.getText().slice(0,1)==="*"&&t.oCoreApi.getSteps().length!==0){var e=new sap.ui.jsfragment("sap.apf.ui.reuse.fragment.newMessageDialog",this);t.getView().byId("idYesButton").attachPress(function(){e.close();t.doOkOnNavAnalysisPath()});t.getView().byId("idNoButton").attachPress(function(){e.close();window.history.go(-1)});var i=new sap.m.Button(t.createId("idCancelButton"),{text:t.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){e.close()}});e.addButton(i);if(sap.ui.Device.system.desktop){e.addStyleClass("sapUiSizeCompact")}e.setInitialFocus(e);e.open()}else{window.history.go(-1)}}})})();
},
	"sap/apf/ui/reuse/controller/navigationTarget.controller.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
(function(){"use strict";sap.ui.core.mvc.Controller.extend("sap.apf.ui.reuse.controller.navigationTarget",{onInit:function(){this.oNavigationHandler=this.getView().getViewData().oNavigationHandler;if(sap.ui.Device.system.desktop){this.getView().addStyleClass("sapUiSizeCompact")}},handleNavigation:function(i){this.oNavigationHandler.navigateToApp(i)}})})();
},
	"sap/apf/ui/reuse/controller/viewSetting.controller.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";function e(e,t){var r={},n;if(e.orderby&&e.orderby.length&&e.orderby[0].ascending!==undefined){n=e.orderby[0].ascending}if(e.orderby&&e.orderby.length>1){r=undefined}else if(e.orderby&&e.orderby.length==1){r=e.orderby[0].property}else{r=undefined;n=true}t.setSortDescending(!n);t.setSelectedSortItem(r)}function t(e,t){var r;if(e.getParameters().sortItem&&e.getParameters().sortItem.getKey()){r=e.getParameters().sortItem.getKey()}else{return false}var n={property:r,ascending:!e.getParameters().sortDescending};var i={property:t._oPreviousState.sortItem?t._oPreviousState.sortItem.getKey():undefined,ascending:!t._oPreviousState.sortDescending};if(i.property===n.property&&i.ascending===n.ascending){return false}return true}sap.ui.controller("sap.apf.ui.reuse.controller.viewSetting",{onInit:function(){var t=this;this.oViewSettingDialog=t.getView().getContent()[0];this.oSelectedRepresentation=t.getView().getViewData().oTableInstance;e(this.oSelectedRepresentation,this.oViewSettingDialog)},handleConfirmForSort:function(e){if(!t(e,this.oViewSettingDialog)){return}if(this.oSelectedRepresentation){this.oSelectedRepresentation.resetPaginationForTable()}this.oSelectedRepresentation.oApi.selectionChanged(true)},handleCancel:function(e){this.oViewSettingDialog.destroy();this.oSelectedRepresentation.oViewSettingDialog=undefined}})})();
},
	"sap/apf/ui/reuse/fragment/newMessageDialog.fragment.js":function(){
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
(function(){"use strict";sap.ui.jsfragment("sap.apf.ui.reuse.fragment.newMessageDialog",{createContent:function(t){var e=new sap.m.Button(t.createId("idYesButton"),{text:t.oCoreApi.getTextNotHtmlEncoded("yes")});var o=new sap.m.Button(t.createId("idNoButton"),{text:t.oCoreApi.getTextNotHtmlEncoded("no")});var a=new sap.m.Dialog(t.createId("idNewDialog"),{type:sap.m.DialogType.Standard,title:t.oCoreApi.getTextNotHtmlEncoded("newPath"),content:new sap.m.Text({text:t.oCoreApi.getTextNotHtmlEncoded("analysis-path-not-saved")}).addStyleClass("textStyle"),buttons:[e,o],afterClose:function(){a.destroy()}});return a}})})();
},
	"sap/apf/ui/reuse/fragment/pathGallery.fragment.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";sap.ui.jsfragment("sap.apf.ui.reuse.fragment.pathGallery",{createContent:function(t){var e=this;this.contentWidth=jQuery(window).height()*.6+"px";this.contentHeight=jQuery(window).height()*.6+"px";this.oCoreApi=t.oCoreApi;this.oUiApi=t.oUiApi;var a=function(t){var a=[];var i=t.getSource().getValue();var n=e.pathGalleryHierarchicalDialog.getContent()[0].getCurrentPage().getContent()[0];if(i&&i.length>0){var o=new sap.ui.model.Filter("title",sap.ui.model.FilterOperator.Contains,i);a.push(o)}var r=n.getBinding("items");r.filter(a)};var i=(new sap.m.List).bindItems({path:"StructuredAnalysisPath/steps",template:new sap.m.StandardListItem({title:"{title}",tooltip:"{title}",type:"Active",icon:"{imgSrc}",press:function(a){e.oUiApi.getLayoutView().setBusy(true);var i=a.getSource().getBindingContext().sPath.split("/");var n=this.getModel().getData().GalleryElements[i[2]].AnalysisPathName;var o=this.getModel().getData().GalleryElements[i[2]].AnalysisPath;var r=i[5];t.openPath(n,o,r);e.oUiApi.getLayoutView().setBusy(false)}})});var n=new sap.m.Page({subHeader:new sap.m.Bar({contentLeft:[new sap.m.SearchField({liveChange:a})]}),content:i,showNavButton:true,navButtonPress:function(){e.oPathGalleryNavContainer.back()}});var o=(new sap.m.List).bindItems({path:"/GalleryElements",template:new sap.m.StandardListItem({title:"{title}",tooltip:"{title}",description:"{description}",type:"Navigation",press:function(t){var a=t.getSource().getBindingContext();n.setBindingContext(a);n.setTitle(t.getSource().getTitle());e.oPathGalleryNavContainer.to(e.oPathGalleryNavContainer.getPages()[1])}})});var r=new sap.m.Page({title:e.oCoreApi.getTextNotHtmlEncoded("select-analysis-path"),subHeader:new sap.m.Bar({contentLeft:[new sap.m.SearchField({liveChange:a})]}),content:o});this.oPathGalleryNavContainer=new sap.m.NavContainer({pages:[r,n]});this.oPathGalleryNavContainer.setModel(t.getView().getModel());e.pathGalleryHierarchicalDialog=new sap.m.Dialog({contentWidth:e.contentWidth,contentHeight:e.contentHeight,showHeader:false,content:[this.oPathGalleryNavContainer],endButton:new sap.m.Button({text:e.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){e.pathGalleryHierarchicalDialog.close()}}),afterClose:function(){e.pathGalleryHierarchicalDialog.destroy()}});return this.pathGalleryHierarchicalDialog}})})();
},
	"sap/apf/ui/reuse/fragment/selectionDisplay.fragment.js":function(){
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
(function(){"use strict";sap.ui.jsfragment("sap.apf.ui.reuse.fragment.selectionDisplay",{createContent:function(e){var t=e.getCurrentRepresentation();var a=t.getParameter().requiredFilterOptions;var i=t.getSortedSelections();var r=t.getMetaData().getPropertyMetadata(t.getParameter().requiredFilters[0]);var n=r.label||r.name;if(a&&a.fieldDesc){n=e.oCoreApi.getTextNotHtmlEncoded(a.fieldDesc)}var o=new sap.m.Dialog({id:this.createId("idSelectionDisplayDialog"),title:e.oCoreApi.getTextNotHtmlEncoded("selected-required-filter",[n])+" ("+i.length+")",contentWidth:jQuery(window).height()*.6+"px",contentHeight:jQuery(window).height()*.6+"px",buttons:[new sap.m.Button({text:e.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){o.close();o.destroy()}})],afterClose:function(){o.destroy()}});var s={selectionData:i};var l=new sap.m.List({items:{path:"/selectionData",template:new sap.m.StandardListItem({title:"{text}"})}});var d=new sap.ui.model.json.JSONModel;d.setSizeLimit(i.length);d.setData(s);l.setModel(d);o.addContent(l);return o}})})();
},
	"sap/apf/ui/reuse/fragment/stepGallery.fragment.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";sap.ui.jsfragment("sap.apf.ui.reuse.fragment.stepGallery",{createContent:function(e){var t=this;this.contentWidth=jQuery(window).height()*.6+"px";this.contentHeight=jQuery(window).height()*.6+"px";this.oCoreApi=e.oCoreApi;this.oUiApi=e.oUiApi;var a=function(e){var a=[];var n=e.getSource().getValue();var i=t.oStepGalleryHierarchicalDialog.getContent()[0].getCurrentPage().getContent()[0];if(n&&n.length>0){var r=new sap.ui.model.Filter("title",sap.ui.model.FilterOperator.Contains,n);a.push(r)}var o=i.getBinding("items");o.filter(a)};var n=function(a){t.oUiApi.getLayoutView().setBusy(true);var n=a.getSource().getBindingContext().sPath.split("/");var i=n[2];var r=n[4];var o=n[6];var l=e.getStepDetails(i,r);e.onStepPress(l.id,l.representationtypes[o].representationId)};var i=(new sap.m.List).bindItems({path:"representationtypes",template:new sap.m.StandardListItem({title:"{title}",icon:"{picture}",tooltip:"{title}",type:"Active",wrapping:true,press:n}).bindProperty("description","sortDescription",function(e){var a=[];if(e===undefined||e===null){return null}a=e.length?e.join(", "):e;return t.oCoreApi.getTextNotHtmlEncoded("sortBy")+": "+a})});var r=new sap.m.Page({id:this.createId("idStepGalleryRepresentationPage"),subHeader:new sap.m.Bar({contentLeft:[new sap.m.SearchField({liveChange:a})]}).addStyleClass("searchMargin"),content:i,showNavButton:true,navButtonPress:function(){t.oStepGalleryNavContainer.back()}});var o=(new sap.m.List).bindItems({path:"stepTemplates",template:new sap.m.StandardListItem({title:"{title}",tooltip:"{title}",type:"Navigation",press:function(e){var a=e.getSource().getBindingContext();r.setBindingContext(a);r.setTitle(e.getSource().getTitle());t.oStepGalleryNavContainer.to(t.oStepGalleryNavContainer.getPages()[2])}})});var l=new sap.m.Page({id:this.createId("idStepGalleryStepPage"),subHeader:new sap.m.Bar({contentLeft:[new sap.m.SearchField({liveChange:a})]}).addStyleClass("searchMargin"),content:o,showNavButton:true,navButtonPress:function(){t.oStepGalleryNavContainer.back()}});var s=(new sap.m.List).bindItems({path:"/GalleryElements",template:new sap.m.StandardListItem({title:"{title}",tooltip:"{title}",type:"Navigation",press:function(e){var a=e.getSource().getBindingContext();l.setBindingContext(a);l.setTitle(e.getSource().getTitle());t.oStepGalleryNavContainer.to(t.oStepGalleryNavContainer.getPages()[1])}})});var p=new sap.m.Page({id:this.createId("idStepGalleryCategoryPage"),title:t.oCoreApi.getTextNotHtmlEncoded("category"),tooltip:t.oCoreApi.getTextNotHtmlEncoded("category"),subHeader:new sap.m.Bar({contentLeft:[new sap.m.SearchField({liveChange:a})]}).addStyleClass("searchMargin"),content:s});this.oStepGalleryNavContainer=new sap.m.NavContainer({pages:[p,l,r]});this.oStepGalleryNavContainer.setModel(e.getView().getModel());this.oStepGalleryHierarchicalDialog=new sap.m.Dialog({contentWidth:t.contentWidth,contentHeight:t.contentHeight,showHeader:false,content:[this.oStepGalleryNavContainer],endButton:new sap.m.Button({text:t.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){t.oStepGalleryHierarchicalDialog.close();t.oStepGalleryHierarchicalDialog.destroy()}}),afterClose:function(){t.oStepGalleryHierarchicalDialog.destroy()}});return this.oStepGalleryHierarchicalDialog}})})();
},
	"sap/apf/ui/reuse/view/deleteAnalysisPath.view.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.deleteAnalysisPath",{getControllerName:function(){return"sap.apf.ui.reuse.controller.deleteAnalysisPath"},createContent:function(e){var t=jQuery(window).height()*.6+"px";var i=jQuery(window).height()*.6+"px";this.oCoreApi=this.getViewData().oInject.oCoreApi;this.oUiApi=this.getViewData().oInject.uiApi;var s=this;var a=new sap.m.List({mode:sap.m.ListMode.Delete,items:{path:"/GalleryElements",template:new sap.m.StandardListItem({title:"{AnalysisPathName}",description:"{description}",tooltip:"{AnalysisPathName}"})},delete:e.handleDeleteOfDialog.bind(e)});var o=new sap.m.Dialog({title:s.oCoreApi.getTextNotHtmlEncoded("delPath"),contentWidth:t,contentHeight:i,content:a,leftButton:new sap.m.Button({text:s.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){o.close();s.oUiApi.getLayoutView().setBusy(false)}}),afterClose:function(){s.destroy()}});if(sap.ui.Device.system.desktop){this.addStyleClass("sapUiSizeCompact");o.addStyleClass("sapUiSizeCompact")}return o}})})();
},
	"sap/apf/ui/reuse/view/facetFilter.view.js":function(){
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
*/
(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.facetFilter",{getControllerName:function(){return"sap.apf.ui.reuse.controller.facetFilter"},createContent:function(e){var t=new sap.m.FacetFilter(e.createId("idAPFFacetFilter"),{type:"Simple",showReset:true,showPopoverOKButton:true,reset:e.onResetPress.bind(e)}).addStyleClass("facetFilterInitialAlign");if(sap.ui.Device.system.desktop){t.addStyleClass("facetfilter")}return t}})})();
},
	"sap/apf/ui/reuse/view/layout.view.xml":'\r\n<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns:fiori="sap.f" xmlns:l="sap.ui.layout"\r\n\tcontrollerName="sap.apf.ui.reuse.controller.layout" xmlns="sap.m" class="layoutView"><Page id="applicationPage" xmlns="sap.m" showNavButton="true" floatingFooter = "true" showHeader="false"\r\n\t\tnavButtonPress="handleNavBack" showFooter="true" enableScrolling="false" class="apfAppPage"><content><l:Splitter id="idSplitter" orientation="Vertical" defaultPane="splitPane2"><ScrollContainer xmlns="sap.m" id="subHeader" width="100%"><layoutData><l:SplitterLayoutData id="idSplitterLayoutData" size="127px" ></l:SplitterLayoutData></layoutData></ScrollContainer><SplitApp xmlns="sap.m" id="applicationView" mode="ShowHideMode"><layoutData><l:SplitterLayoutData size="auto"></l:SplitterLayoutData></layoutData><masterPages><Page xmlns="sap.m" id="analysisPath" showHeader="false" showFooter="true" enableScrolling="false"><content><fiori:DynamicPage id="analysisDynamicPage" enableScrolling="false" preserveHeaderStateOnScroll="false" showFooter="false"><fiori:title><fiori:DynamicPageTitle areaShrinkRatio="1:5:0"><fiori:content><Title id="analysisPathTitle" text="" /></fiori:content><fiori:actions><Button id="menuButton" type="Transparent" icon="sap-icon://drop-down-list" press="showMenu" ariaLabelledBy="analysisPathTitle"><layoutData><OverflowToolbarLayoutData priority="NeverOverflow" /></layoutData></Button></fiori:actions></fiori:DynamicPageTitle></fiori:title></fiori:DynamicPage></content><footer><Bar xmlns="sap.m" id="deviceFooter" class="applicationFooter" ></Bar></footer></Page></masterPages><detailPages><Page xmlns="sap.m" id="stepContainer" showFooter="false" showHeader="false" enableScrolling="false"/></detailPages></SplitApp></l:Splitter></content><footer><Bar xmlns="sap.m" id="masterFooter" class="applicationFooter" ></Bar></footer></Page></mvc:View>\r\n',
	"sap/apf/ui/reuse/view/messageHandler.view.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.messageHandler",{getControllerName:function(){return"sap.apf.ui.reuse.controller.messageHandler"},createContent:function(){}})})();
},
	"sap/apf/ui/reuse/view/navigationTarget.view.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.navigationTarget",{getControllerName:function(){return"sap.apf.ui.reuse.controller.navigationTarget"},createContent:function(t){var e=this.getViewData();this.oNavListPopover=e.oNavListPopover;this.oOpenInButtonEventSource=e.oOpenInButtonEventSource;this.oNavigationHandler=e.oNavigationHandler;this.oUiApi=e.oUiApi;this.oController=t;this.oUiApi.getLayoutView().byId("applicationPage").setBusy(true);var i=this.oNavigationHandler.getNavigationTargets();i.then(this._prepareActionListModel.bind(this),function(){this.oUiApi.getLayoutView().byId("applicationPage").setBusy(false)})},_prepareActionListModel:function(t){var e=this;var i=[];var a=[];t.global.forEach(function(t){if(t.title){t.text=e.getViewData().oCoreApi.getTextNotHtmlEncoded(t.title)}i.push(t)});t.stepSpecific.forEach(function(t){if(t.title){t.text=e.getViewData().oCoreApi.getTextNotHtmlEncoded(t.title)}a.push(t)});this.oNavListPopover.removeAllContent();var o,n;var s=this;if(a.length!==0){var r=new sap.ui.model.json.JSONModel;var p={navTargets:a};n=new sap.m.List({items:{path:"/navTargets",template:new sap.m.StandardListItem({title:"{text}",type:sap.m.ListType.Navigation,press:function(t){var e=t.getSource().getBindingContext().getObject().id;s.oController.handleNavigation(e)}})}});r.setData(p);n.setModel(r);var v=new sap.ui.core.HTML({content:'<hr class="lineSeparator">',sanitizeContent:true});this.oNavListPopover.addContent(n);this.oNavListPopover.addContent(v)}if(i.length!==0){var l=new sap.ui.model.json.JSONModel;var g={navTargets:i};o=new sap.m.List({items:{path:"/navTargets",template:new sap.m.StandardListItem({title:"{text}",type:sap.m.ListType.Navigation,press:function(t){var e=t.getSource().getBindingContext().getObject().id;s.oController.handleNavigation(e)}})}});l.setData(g);o.setModel(l);this.oNavListPopover.addContent(o)}this.oUiApi.getLayoutView().byId("applicationPage").setBusy(false);this.oNavListPopover.openBy(this.oOpenInButtonEventSource)}})})();
},
	"sap/apf/ui/reuse/view/pathFilterDisplay.view.xml":'\r\n<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="sap.apf.ui.reuse.controller.pathFilterDisplay" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"><Dialog id="pathFilterDisplayDialog" showHeader="false" resizable="true" draggable="true" afterClose=".onClose"><content><NavContainer id="navContainer"><pages><Page id="stepPage"><subHeader><Bar class="filterMargin"><contentLeft><SearchField liveChange=".onSearch"/></contentLeft></Bar></subHeader><content><List items = "{path: \'/\', templateShareable:false}"><CustomListItem type="Navigation" press=".onStepPress" class="sapUiSmallMargin"><content><HBox class="sapUiSmallMargin" width="100%" wrap="Wrap"><items><VBox class="sapUiSmallMargin" width="100%"><items><Label text="{text}" design="Bold" tooltip="{text}"/><Label text="{parts:[\'selectablePropertyLabel\', \'filterValues\'], formatter: \'.getDescriptionForStep\'}"/></items></VBox><HBox justifyContent="End" alignItems="Center" width="100%"><items><core:Icon src="sap-icon://message-warning" class="sapUiSmallMarginBegin" visible="{warningIcon}" tooltip="{warningText}"/><core:Icon src="sap-icon://message-information" class="sapUiSmallMarginBegin" visible="{infoIcon}" tooltip="{infoText}"/></items></HBox></items></HBox></content></CustomListItem></List></content></Page><Page id="filterValuesPage" title="{text}" showNavButton="true" navButtonPress=".onBackPress" app:stepIndex="{stepIndex}"><subHeader><Bar><contentLeft><SearchField liveChange=".onSearch"/></contentLeft></Bar></subHeader><content><List items="{filterValues}"><StandardListItem title="{text}"/></List></content></Page></pages></NavContainer></content><beginButton><Button visible="false" press=".onCloseAndNavigatePress"></Button></beginButton><endButton><Button press=".onCloseButton"/></endButton></Dialog></mvc:View>',
	"sap/apf/ui/reuse/view/pathGallery.view.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.pathGallery",{getControllerName:function(){return"sap.apf.ui.reuse.controller.pathGallery"},createContent:function(e){this.viewData=this.getViewData()}})})();
},
	"sap/apf/ui/reuse/view/smartFilterBar.view.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.smartFilterBar",{getControllerName:function(){return"sap.apf.ui.reuse.controller.smartFilterBar"},createContent:function(t){var e=this,a,r,i,n;a=e.getViewData().oSmartFilterBarConfiguration.entitySet;r=e.getViewData().oSmartFilterBarConfiguration.id;i=e.getViewData().oCoreApi.getSmartFilterBarPersistenceKey(r);n=new sap.ui.comp.smartfilterbar.SmartFilterBar(t.createId("idAPFSmartFilterBar"),{entitySet:a,controlConfiguration:e.getViewData().controlConfiguration,initialized:t.afterInitialization.bind(t),search:t.handlePressOfGoButton.bind(t),persistencyKey:i,considerAnalyticalParameters:true,customData:{key:"dateFormatSettings",value:{UTC:true}},useDateRangeType:true,liveMode:true,filterChange:t.validateFilters.bind(t)});e.setParent(e.getViewData().parent);return n}})})();
},
	"sap/apf/ui/reuse/view/stepGallery.view.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.stepGallery",{getControllerName:function(){return"sap.apf.ui.reuse.controller.stepGallery"},createContent:function(e){this.oController=e}})})();
},
	"sap/apf/ui/reuse/view/viewSetting.view.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.viewSetting",{getControllerName:function(){return"sap.apf.ui.reuse.controller.viewSetting"},createContent:function(e){var t=this.getViewData().oTableInstance;var n=t.tableControl;var a=[];n.getColumns().forEach(function(e){var t=new sap.m.ViewSettingsItem({text:e.getCustomData()[0].getValue().text,key:e.getCustomData()[0].getValue().key});a.push(t)});var i=new sap.m.ViewSettingsDialog({sortItems:a,confirm:e.handleConfirmForSort.bind(e),cancel:e.handleCancel.bind(e)});return i}})})();
}
});
//# sourceMappingURL=library-preload.js.map
