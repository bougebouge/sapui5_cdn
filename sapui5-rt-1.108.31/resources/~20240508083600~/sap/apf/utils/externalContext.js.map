{"version":3,"file":"externalContext.js","names":["sap","ui","define","Filter","FilterTerm","constants","ExternalContext","inject","deferredContext","jQuery","Deferred","smartBusinessEvaluationId","instances","startParameter","getEvaluationId","xAppStateId","getXappStateId","msgH","messageHandler","externalContext","this","ajax","functions","getCombinedContext","resolveContextFromXAppState","resolveContextFromBusinessEvaluationId","resolve","promise","normalizeFilter","filter","levelOperator","BooleFilterOperators","OR","ushell","Container","getService","getAppState","component","done","appContainer","containerData","getData","sapApfCumulativeFilter","transformUI5FilterToInternal","selectionVariant","convertSelectionVariantToFilter","fail","msgObject","createMessageObject","code","aParameters","putMessage","getConfigurationProperties","configurationProperties","smartBusinessConfig","smartBusiness","runtime","service","requestUrl","url","success","data","property","orFilter","andFilter","filtersForConjuction","termsPerProperty","d","results","forEach","collectTermsPerProperty","hasOwnProperty","combineTermsPerProperty","push","combineDifferentProperties","sbFilter","NAME","OPERATOR","VALUE_1","VALUE_2","addOr","addAnd","error","jqXHR","textStatus","errorThrown","messageObject","setPrevious","convertParameterObject","parameterObject","PropertyName","PropertyValue","undefined","FilterOperators","EQ","convertSelectOption","selectOption","i","Ranges","isArray","length","converted","convertRange","rangeObject","propertyName","low","option","split","Sign","Option","High","Low","indexOf","lastIndexOf","substr","substring","Parameters","SelectOptions","convertedParameter","convertedSelectOptions","apf","utils"],"sources":["externalContext-dbg.js"],"mappings":"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"}