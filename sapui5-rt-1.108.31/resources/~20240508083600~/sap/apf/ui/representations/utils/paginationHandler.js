/* SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
jQuery.sap.declare("sap.apf.ui.representations.utils.paginationHandler");(function(){"use strict";sap.apf.ui.representations.utils.PaginationHandler=function(){this.pagingOption={top:100,skip:0}};sap.apf.ui.representations.utils.PaginationHandler.prototype.constructor=sap.apf.ui.representations.utils.PaginationHandler;function t(t,i){t.pagingOption.skip=i.getData().tableData.length;t.pagingOption.top=99}function i(i,n){var a=n.tableControl.getModel();var e=a.getData();t(i,a);if(!i.bPaginationTriggered&&i.pagingOption.skip<n.nDataResponseCount){n.tableControl.getParent().setBusy(true);sap.ui.getCore().applyChanges();var o=n.oApi.getActiveStep();i.bPaginationTriggered=true;n.oApi.updatePath(function(t,p){i.bPaginationTriggered=false;if(t===o){a.setData(e);n.markSelectionInTable();n.tableControl.getParent().setBusy(false);if(a.getData().tableData.length>=n.nDataResponseCount){n.oLoadMoreLink.setVisible(false)}}})}}function n(t,n){n.oLoadMoreLink.setVisible(true);n.oLoadMoreLink.attachPress(function(){i(t,n)})}function a(t,n){var a=n.tableControl;n.tableControl.attachFirstVisibleRowChanged(function(e){var o=e.getParameter("firstVisibleRow");var p=a.getVisibleRowCount();var s=t.pagingOption.top+t.pagingOption.skip;if(o+p+10>s){i(t,n)}})}sap.apf.ui.representations.utils.PaginationHandler.prototype.attachPaginationOnTable=function(t){if(sap.ui.Device.system.desktop){a(this,t)}else{n(this,t)}};sap.apf.ui.representations.utils.PaginationHandler.prototype.getPagingOption=function(t){var i,n;if(t){i=t;n=0}else if(this.pagingOption.top!==100&&this.pagingOption.skip!==0){i=this.pagingOption.top;n=this.pagingOption.skip}else{i=100;n=0}this.pagingOption={inlineCount:t?false:true,top:i,skip:n};return this.pagingOption};sap.apf.ui.representations.utils.PaginationHandler.prototype.resetPaginationOption=function(){this.pagingOption={top:100,skip:0}}})();
//# sourceMappingURL=paginationHandler.js.map