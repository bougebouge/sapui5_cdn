/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.define(["sap/apf/cloudFoundry/utils"],function(a){"use strict";function e(e,i){var t=i.instances.messageHandler;var n=i.instances.coreApi;var r=i.manifests.manifest;var s=r["sap.app"].dataSources;var o=sap.ui.getCore().getConfiguration().getLanguage();var c={"Content-Type":"application/json; charset=utf-8","Accept-Language":o};var u=s&&s["apf.runtime.analyticalConfigurationAndTextFiles"]&&s["apf.runtime.analyticalConfigurationAndTextFiles"].uri;if(!u){t.putMessage(t.createMessageObject({code:"5236",aParameters:["apf.runtime.analyticalConfigurationAndTextFiles"]}))}var l=a.resolveUri.bind(this,i.instances.coreApi);function f(){return{}}this.readEntity=function(a,e,i){t.check(a==="configuration");var r=i[0].value;var s=this;this.textFiles=undefined;var o=l(u+"/"+r);n.ajax({url:o,success:function(a){var i=JSON.parse(a.analyticalConfiguration.serializedAnalyticalConfiguration);var t=i.configHeader&&i.configHeader.Application;var n={SerializedAnalyticalConfiguration:a.analyticalConfiguration.serializedAnalyticalConfiguration,AnalyticalConfiguration:r,Application:t,AnalyticalConfigurationName:a.analyticalConfiguration.analyticalConfigurationName};s.textFiles=a.textFiles;e(n,f())},error:function(a,i,n,r){var s=t.createMessageObject({code:"5057",aParameters:[o]});if(r){s.setPrevious(r)}e(undefined,f(),s)},headers:c})};this.readCollection=function(e,i,n,r,s){t.check(e==="texts");var o=s.getFilterTermsForProperty("Application");var c=o[0].getValue();if(!this.textFiles){i(undefined,f(),t.createMessageObject({code:"5222",aParameters:[c]}));return}var u=a.mergeReceivedTexts(this.textFiles,t);i(u.texts,f(),u.messageObject)}}sap.apf.cloudFoundry.RuntimeProxy=e;return e},true);
//# sourceMappingURL=runtimeProxy.js.map