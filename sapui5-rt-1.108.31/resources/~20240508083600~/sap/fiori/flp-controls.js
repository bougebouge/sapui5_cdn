//@ui5-bundle sap/fiori/flp-controls.js
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Layout", ["sap/ushell/Config","sap/ui/Device","sap/ui/thirdparty/jquery"],function(t,e,jQuery){"use strict";var i=function(t){this.init(t)};i.prototype={settings:null,tileWidth:0,tileHeight:0,tileMargin:0,curTouchMatrixCords:null,tilesInRow:null,groupsList:null,item:null,matrix:null,tiles:null,collisionLeft:false,startGroup:null,currentGroup:null,endGroup:null,init:function(t){this.curTouchMatrixCords={column:null,row:null};this.endGroup=null;this.groupSwitched=false;this.item=null;this.matrix=null;this.tiles=null;this.collisionLeft=false;this.startArea=null;this.currentArea=null;this.endArea=undefined;this.startGroup=null;this.draggedTileDomRef=null;this.sDragStartGroupModelId=undefined;this.sDragTargetGroupModelId=undefined;this.currentGroup=null;this.groupsList=null;this.allGroups=null;this.settings=this.settings||t;jQuery.extend(this,this.settings);this.tileWidth=this.thisLayout.styleInfo.tileWidth;this.tileHeight=this.thisLayout.styleInfo.tileHeight;this.tileMargin=this.thisLayout.styleInfo.tileMarginWidth;this.aExcludedControlClass=this.aExcludedControlClass||[];this.reorderElementsCallback=this.reorderElementsCallback||function(){};this.rightToLeft=sap.ui.getCore().getConfiguration().getRTL();this.tabBarArrowCollisionRight=false;this.tabBarArrowCollisionLeft=false;this.collidedLinkAreas=[];this.intersectedLink=null;this.aLinksBoundingRects=[];this.intersectedLinkPlaceHolder=undefined;this.isLinkPersonalizationSupported=this.thisLayout.oLaunchPageService?this.thisLayout.oLaunchPageService.isLinkPersonalizationSupported():null;this.isLinkMarkerShown=false;this.bIsTabBarCollision=false},moveDraggable:function(t,e,i){var r=this.getCollisionObject(t,e,i),s;if(r){this._toggleAnchorItemHighlighting(false);if(r.collidedObjectType!=="TabBar"){this._toggleTabBarOverflowArrows(false);this.thisLayout.setOnTabBarElement(false);this._resetOverFlowButtonElements();this.bIsTabBarCollision=false}else{this.bIsTabBarCollision=true;this._toggleTabBarOverflowArrows(true);this.removePlaceHolders();this._handleTabBarCollision(t,i)}if(this.isLinkPersonalizationSupported&&r.collidedObjectType==="Group-link"){s=this._handleLinkAreaIntersection(r.collidedObject,t,e)}else if(r.collidedObjectType==="Group-tile"){s=this._handleTileAreaIntersection(r.collidedObject,t,e);this._toggleTileCloneHoverOpacity(false)}if(s||this.endAreaChanged){this.handlePlaceHolder(r.collidedObject)}}else{this._removeEmptyLinkAreaMark()}},_toggleAnchorItemHighlighting:function(t){if(this.targetGroup){this.targetGroup.classList.toggle("sapUshellAnchorItemDropCollision",t);this.targetGroup.firstElementChild.classList.toggle("sapUshellAnchorInnerMarker",t)}},removePlaceHolders:function(){this._removeLinkDropMarker();this._removeEmptyLinkAreaMark();this._handleChangedGroup(this.currentGroup)},handlePlaceHolder:function(t){if(this.endArea==="tiles"){if(this.endAreaChanged){this._removeLinkDropMarker()}this.handlePlaceholderChange()}else if(this.endArea==="links"&&this.intersectedLink){this._changeLinkPlaceholder(this.intersectedLink,t);if(this.endAreaChanged){this.handlePlaceholderChange()}}},switchLinkWithClone:function(t){if(t){this.intersectedLinkPlaceHolder=t.getDomRef().cloneNode(true);this.intersectedLinkPlaceHolder.id="sapUshellIntersectedLinkPlaceHolder";jQuery(t.getDomRef()).replaceWith(this.intersectedLinkPlaceHolder)}},_removeLinkDropMarker:function(){jQuery("#sapUshellLinkDropMarker").remove();this.isLinkMarkerShown=false},saveLinkBoundingRects:function(t){var e=sap.ui.getCore().byId(t.id);this.draggedLinkBoundingRects=e.getBoundingRects()},_getMarkerOffset:function(t,e){var i=jQuery(e.getDomRef()).find(".sapUshellLineModeContainer")[0].getBoundingClientRect().left,r=jQuery(e.getDomRef()).find(".sapUshellLineModeContainer")[0].getBoundingClientRect().top,s=this.rightToLeft?20:-1,n=this.rightToLeft?42:21,o=t[t.length-1].offset.x-i+t[t.length-1].width-s,a=t[this.rightToLeft?t.length-1:0].offset.x-i-n,l=t[this.rightToLeft?t.length-1:0].offset.y-r,h=t[this.rightToLeft?0:t.length-1].offset.y-r;if(jQuery("body.sapUiSizeCompact").length){l-=6;h-=6}if(this.rightToLeft){if(jQuery(e.getDomRef()).find(".sapUshellLineModeContainer")[0].getBoundingClientRect().right-t[t.length-1].offset.x-t[t.length-1].width<16){o=o-8}}else if(a<16){a=0}return{right:o,left:a,topLeft:l,topRight:h}},_changeLinkPlaceholder:function(t,e){var i=this.aLinksBoundingRects[t.link.getId()],r=i.left,s=i.topLeft,n=i.topRight,o=i.right;if(jQuery(e.getDomRef()).find("#sapUshellLinkDropMarker").length===0){this._removeLinkDropMarker();jQuery(e.getDomRef()).find(".sapUshellLinksInnerContainer").prepend(this.LinkDropMarker)}jQuery(this.LinkDropMarker).css({left:t.leftSide?r:o,top:t.leftSide?s:n});this.isLinkMarkerShown=true},showTilePlaceholder:function(t,e,i){var r,s=this.curTouchMatrixCords.row,n=this.curTouchMatrixCords.column;this.domRef=this.item.getDomRef()?this.item.getDomRef():this.domRef;jQuery(this.domRef).show();this.removeExcludedElementsFromMatrix(this.aExcludedControlClass);r=this.tiles||this.thisLayout.getGroupTiles(this.endGroup).slice(0);if(this.matrix[s]&&typeof this.matrix[s][n]==="object"){this.handleMatrixCollision(r,t,e,i);return}this._handleMoveOutOfBorders(r,t)},removeTilePlaceholder:function(){this.domRef=this.item.getDomRef()?this.item.getDomRef():this.domRef;var t=this.thisLayout.getGroupTiles(this.currentGroup);t=t.slice(0);if(this.startArea!=="links"&&t.indexOf(this.item)>-1){t.splice(t.indexOf(this.item),1)}if(!jQuery(this.domRef.parentNode).hasClass("sapUshellLinksInnerContainer")){jQuery(this.domRef).hide()}this.thisLayout.initGroupDragMode(this.endGroup);var e=this.thisLayout.organizeGroup(t);this.thisLayout.renderLayoutGroup(this.currentGroup,e)},handlePlaceholderChange:function(){var t=this.currentGroup,e=this.endGroup!==this.currentGroup,i=this.endAreaChanged&&this.endArea==="links",r=this.thisLayout.isTabBarActive()&&this.groupSwitched;this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0);this.matrix=this.thisLayout.organizeGroup(this.tiles);if(r){this.handleTabBarSwitch(t)}if(e){this._handleChangedGroup(t)}else if(i){this.removeTilePlaceholder()}if(!i){this.showTilePlaceholder(t,e,i)}},handleMatrixCollision:function(t,e,i,r){var s,n,o,a;s=this.matrix[this.curTouchMatrixCords.row][this.curTouchMatrixCords.column];n=t.indexOf(s);o=t.indexOf(this.item);if(this.rightToLeft){this.collisionLeft=!this.collisionLeft}if(o>-1&&o<n){s=t[n+1]}if(s===this.item){if(i||r){t.splice(t.indexOf(this.item),1)}this._handleTileReplace(t,e);return}a=this.changeTilesOrder(this.item,s,t,this.matrix);if(a&&!this.isLinkMarkerShown){this._handleTileReplace(a,e)}},handleTabBarSwitch:function(t){this._appendTargetGroupDomRefWithDraggedTile();if(!this.item.getDomRef()){this.endGroup.getInnerContainersDomRefs()[0].appendChild(this.draggedTileDomRef)}else{this.endGroup.getInnerContainersDomRefs()[0].appendChild(this.item.getDomRef())}this.currentGroup=this.endGroup;var e=this.thisLayout.getGroupTiles(t);this.thisLayout.initGroupDragMode(this.endGroup);var i=this.thisLayout.organizeGroup(e);this.thisLayout.renderLayoutGroup(t,i)},_handleMoveOutOfBorders:function(t,e){var i=this.findTileToPlaceAfter(this.matrix,t),r;if(t[i+1]==this.item){return}if(t[i+1]){r=t[i+1]}else if(this.currentGroup.getShowPlaceholder()){r=t[0]}var s=this.changeTilesOrder(this.item,r,t,this.matrix);if(s){this._handleTileReplace(s,e)}},_handleChangedGroup:function(t){var e=this.thisLayout.getGroupTiles(this.currentGroup),i;if(this.currentGroup===this.startGroup&&(this.startArea==="tiles"||this.intersectedLinkPlaceHolder)){e=e.slice(0);if(e.indexOf(this.item)>-1){e.splice(e.indexOf(this.item),1)}}if(this.startGroup===this.endGroup&&this.startArea==="tiles"){this.tiles.splice(this.tiles.indexOf(this.item),1)}i=this.item.getDomRef()||this.domRef;if(this.startArea==="links"&&!this.intersectedLinkPlaceHolder){this.switchLinkWithClone(this.item)}if(this.endArea==="tiles"){this.endGroup.getInnerContainersDomRefs()[0].appendChild(i)}if(!jQuery(i.parentNode).hasClass("sapUshellLinksInnerContainer")){jQuery(i).hide()}this.currentGroup=this.endGroup;this.thisLayout.initGroupDragMode(this.endGroup);var r=this.thisLayout.organizeGroup(e);this.thisLayout.renderLayoutGroup(t,r)},_handleTileReplace:function(t,e){this.reorderElementsCallback({currentGroup:e,endGroup:this.endGroup,tiles:t,item:this.item});this.reorderTilesView(t,this.endGroup);this.reorderTilesInDom();this.thisLayout.renderLayoutGroup(this.endGroup,this.matrix)},_getIntersectedLink:function(t,e,i){var r=jQuery(".sapUshellLinkTile")[0];if(!r){return}var s=t.getDomRef().querySelector(".sapUshellLineModeContainer").getBoundingClientRect(),n=!jQuery("body.sapUiSizeCompact").length,o=Math.floor((i-s.top)/(n?45:31)),a=this.collidedLinkAreas[t.getId()],l;if(this.rightToLeft){l=Math.floor((s.right-e)/20)}else{l=Math.floor((e-s.left)/20)}if(o<a.length&&a[o]&&l<a[o].length){return a[o][l]}else if(a.length){var h=a.length;if(o>=h){o=h-1}if(!this.collidedLinkAreas[t.getId()][o]){return}l=this.collidedLinkAreas[t.getId()][o].length;return this.collidedLinkAreas[t.getId()][o][l-1]}},_mapGroupLinks:function(t){var e=t.getId(),i,r,s=0;if(!this.collidedLinkAreas[e]||this.bElapseGroupLinksMap){this.bElapseGroupLinksMap=false;var n=t.getLinks(),o=[];this.collidedLinkAreas.push(t.getId());n.forEach(function(e){r=this._getLinkBoundingRects(e,t);r.forEach(function(r){if(r.offset.y>i){s++}i=r.offset.y;this._addLinkToHashMap(o,t,r,s,e)}.bind(this))}.bind(this));this.collidedLinkAreas[e]=o}},_getLinkBoundingRects:function(t,e){var i=t.getBoundingRects();if(this.item&&this.item.getId()===t.getId()){i=this.draggedLinkBoundingRects}if(i.length){this.aLinksBoundingRects[t.getId()]=this._getMarkerOffset(i,e)}return i},_addLinkToHashMap:function(t,e,i,r,s){if(!t[r]){t[r]=[]}for(var n=0;n<=(i.width+20)/20;n++){var o={link:s,leftSide:!this.rightToLeft};if(n>(i.width+20)/20/2){o.leftSide=this.rightToLeft}t[r].push(o)}},_isLinkAreaIntersection:function(t,e,i){var r=t.getInnerContainersDomRefs();if(r[1]){return this._isElementCollideByGivenCordinates(r[1],e,i)}return false},_isLinksEquals:function(t,e){if(!t||!e){return false}if(t.link.getId()!==e.link.getId()){return false}return t.link.leftSide===e.link.leftSide},_toggleTileCloneHoverOpacity:function(t){jQuery(".sapUshellTile-clone").toggleClass("sapUshellTileDragOpacity",t)},_handleLinkAreaIntersection:function(t,e,i){var r,s=false;if(this.isLinkPersonalizationSupported){this._toggleTileCloneHoverOpacity(true)}this._mapGroupLinks(t);this.matrix=this.matrix||this.thisLayout.organizeGroup(this.thisLayout.getGroupTiles(t));r=this._getIntersectedLink(t,e,i);if(r){s=this._isLinksEquals(this.intersectedLink,r);this.intersectedLink=r}else{this.removeTilePlaceholder()}this._markEmptyLinkArea(t);return s},_markEmptyLinkArea:function(t){if(!t.getLinks().length){jQuery(t.getDomRef()).find(".sapUshellLineModeContainer").addClass("sapUshellEmptyLinkAreaHover")}},_removeEmptyLinkAreaMark:function(){jQuery(".sapUshellLineModeContainer").removeClass("sapUshellEmptyLinkAreaHover")},reorderTilesInDom:function(){var t=this.item.getDomRef()?this.item.getDomRef():this.domRef,e=jQuery(t).index(),i=jQuery(t).closest(".sapUshellTilesContainer-sortable"),r=this.calcDestIndexInGroup(),s=jQuery(this.endGroup.getDomRef()).find(".sapUshellTilesContainer-sortable"),n=s.find(".sapUshellTile");if(this.startArea==="tiles"){i.find(n[e]).remove()}else if(!this.intersectedLinkPlaceHolder){this.switchLinkWithClone(this.item)}if(this.endArea!=="links"){n=s.find(".sapUshellTile");s[0].insertBefore(t,n[r])}},isLinkIntersected:function(){return this.intersectedLink!==undefined},calcDestIndexInGroup:function(){var t,e=0,i,r,s=false;for(i=0;i<this.matrix.length&&!s;i++){for(r=0;r<this.matrix[i].length;r++){if(this.matrix[i][r]!==undefined){if(this.item.sId!==this.matrix[i][r].sId){if(t!==this.matrix[i][r].sId){t=this.matrix[i][r].sId;e++}}else{s=true;break}}}}return e},layoutStartCallback:function(t){this.init();this.item=sap.ui.getCore().byId(t.id);this.tilesInRow=this.thisLayout.getTilesInRow();this.groupsList=this.thisLayout.getGroups();this.allGroups=this.thisLayout.getAllGroups();this.startGroup=this.currentGroup=this.item.getParent();this.groupSwitched=false;this.startArea=this.isLinkPersonalizationSupported&&this.item.getMode&&this.item.getMode()==="LineMode"?"links":"tiles";this.currentArea=this.startArea;this.thisLayout.initDragMode();if(this.isLinkPersonalizationSupported){this.LinkDropMarker=this._getLinkDropMarkerElement()}},_getLinkDropMarkerElement:function(){var t=document.createElement("DIV"),e=document.createElement("DIV"),i=document.createElement("DIV");t.setAttribute("id","sapUshellLinkDropMarker");e.setAttribute("id","sapUshellLinkDropMarkerDot");i.setAttribute("id","sapUshellLinkDropMarkerLine");t.appendChild(e);t.appendChild(i);return t},isAreaChanged:function(){return this.currentArea&&this.endArea?this.currentArea!==this.endArea:false},isOriginalAreaChanged:function(){return this.startArea&&this.endArea?this.startArea!==this.endArea:false},_getDestinationIndex:function(t){if(t==="links"){if(this.intersectedLink){var e=this.endGroup.getLinks().indexOf(this.intersectedLink.link),i=this.endGroup.getLinks().indexOf(this.item);if(this.intersectedLink.leftSide){e=this.rightToLeft?e+1:e-1}if(i<0||i>e){e=this.rightToLeft?e:e+1}return e}return this.endGroup.getLinks().length}return this._getDestinationTileIndex()},layoutEndCallback:function(){var t,e,i;this._removeLinkDropMarker();if(this.endArea!=="links"&&!this.tiles){return{tile:this.item}}e=this._getDragSourceGroup();if(!s.isTabBarActive()||!this.bIsTabBarCollision){this.targetGroup=""}i=this._getDestGroupObject(this.targetGroup);t={srcGroup:e,dstGroup:i,dstGroupData:this._getDropTargetGroup(),tile:this.item,dstTileIndex:this._getDestinationIndex(this.endArea),tileMovedFlag:true,srcArea:this.startArea,dstArea:this.bIsTabBarCollision?undefined:this.endArea};return t},_getDestGroupObject:function(t){return t?sap.ui.getCore().byId(t.getAttribute("id")):this.endGroup},_getDragSourceGroup:function(){var t;t=this.startGroup;if(this.thisLayout.isTabBarActive()&&this.groupSwitched===true){t={groupId:this.sDragStartGroupModelId}}return t},_getDropTargetGroup:function(){var t;if(this.thisLayout.isTabBarActive()&&this.thisLayout.isOnTabBarElement()){t={groupId:this.sDragTargetGroupModelId}}else{t=this.endGroup}return t},_getDestinationTileIndex:function(){var t,e;if(this.thisLayout.isTabBarActive()&&this.thisLayout.isOnTabBarElement()){t=this._getDropTargetGroup().groupId;e=this._getModelGroupById(t);return e.tiles.length}return this.tiles.indexOf(this.item)},compareArrays:function(t,e){if(t.length!==e.length){return false}for(var i=0;i<t.length;i++){if(t[i]!==e[i]){return false}}return true},reorderTilesView:function(t){this.tiles=t;this.matrix=this.thisLayout.organizeGroup(t)},changeTilesOrder:function(t,e,i,r){var s=i.slice(0),n=s.indexOf(t),o,a,l;if(n>-1){s.splice(n,1)}if(e){s.splice(s.indexOf(e),0,this.item)}else{s.push(t)}if(this.currentGroup==this.endGroup){if(this.compareArrays(i,s)){return false}o=this.thisLayout.organizeGroup(s);a=this.thisLayout.getTilePositionInMatrix(t,r);l=this.thisLayout.getTilePositionInMatrix(t,o);if(a.row==l.row&&a.col==l.col){return false}}this.tiles=s;this.currentGroup=this.endGroup;return s},setMatrix:function(t){this.matrix=t},findTileToPlaceAfter:function(t,e){var i=this.thisLayout.rightToLeft?0:this.curTouchMatrixCords.column,r=this.thisLayout.rightToLeft?1:-1,s=0,n,o,a,l=t[0].length;for(n=this.curTouchMatrixCords.row;n>=0;n--){for(o=i;o>=0&&o<l;o+=r){if(!t[n]||typeof t[n][o]!=="object"){continue}a=e.indexOf(t[n][o]);s=a>s?a:s}i=t[0].length-1}return s||e.length-1},_isElementCollideByGivenCordinates:function(t,e,i){var r=t.getBoundingClientRect(),s=false,n=false;if(r.height===0&&!t.classList.contains("sapUshellNoLinksAreaPresent")){r=t.parentNode.getBoundingClientRect()}s=r.right>=e&&r.left<=e;n=r.bottom>=i&&r.top<=i;return s&&n},_getMatrixCordinatesOfTouchedTile:function(t,e,i){var r=jQuery.extend({},this.curTouchMatrixCords),s=t.getInnerContainersDomRefs()[0].getBoundingClientRect();this.matrix=this.matrix||this.thisLayout.organizeGroup(this.thisLayout.getGroupTiles(t));var n=this.rightToLeft?s.right+-1*e:s.left*-1+e,o=(s.top*-1+i)/(this.tileHeight+this.tileMargin),a=n/(this.tileWidth+this.tileMargin);r={row:Math.floor(o),column:Math.floor(a)};return r},_getCollidedGroup:function(t,e){for(var i=0;i<this.groupsList.length;i++){var r=this.groupsList[i],s=r.getInnerContainersDomRefs();if(!s){continue}for(var n=0;n<s.length;n++){if(s[n]&&this._isElementCollideByGivenCordinates(s[n],t,e)){var o=!r.groupHasTiles();for(var a=this.groupsList.length-1;a>=i;a--){if(o){break}if(!this.groupsList[a].groupHasTiles()){var l=this.groupsList[a].$();if(!l.hasClass("sapUshellInDragMode")){continue}l.find(".sapUshellInner").removeAttr("style")}}return r}}}},_handleTileAreaIntersection:function(t,e,i){var r=this._getMatrixCordinatesOfTouchedTile(t,e,i);if(t===this.endGroup&&r.column===this.curTouchMatrixCords.column&&r.row===this.curTouchMatrixCords.row){return false}if(this.rightToLeft){this.collisionLeft=this.curTouchMatrixCords.column-r.column>0}else{this.collisionLeft=r.column-this.curTouchMatrixCords.column>0}if(r.column===this.curTouchMatrixCords.column){this.collisionLeft=false}jQuery.extend(this.curTouchMatrixCords,r);return true},_getGroupCollisionObject:function(t,e){var i,r;i=this._getCollidedGroup(t,e);if(!i||i.getIsGroupLocked()){return undefined}r=this._isLinkAreaIntersection(i,t,e);this.endGroup=i;if(!this.tiles){this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0)}this.endArea=r?"links":"tiles";this.endAreaChanged=this.isAreaChanged();this.currentArea=this.endArea;return{collidedObjectType:r?"Group-link":"Group-tile",collidedObject:i}},getCollisionObject:function(t,e){if(this.thisLayout.oTabBarItemClickTimer){clearTimeout(this.thisLayout.oTabBarItemClickTimer)}if(this.thisLayout.isTabBarActive()&&this._isTabBarCollision(e)){return{collidedObjectType:"TabBar"}}return this._getGroupCollisionObject(t,e)},_isTabBarScrollArea:function(t){var e=jQuery("#anchorNavigationBar").height()||0,i=jQuery("#anchorNavigationBar").offset(),r=i?i.top:0,s=e+r;return e>0&&t>s&&t<s+30},_cancelLongDropTimmer:function(){clearTimeout(this.thisLayout.oTabBarItemClickTimer)},_isTabBarCollision:function(t){var e=jQuery("#anchorNavigationBar").height()||0,i=jQuery("#anchorNavigationBar").offset(),r=i?i.top:0;return t<e+r&&t>r},_handleTabBarCollision:function(t,e){var i=this,r=this._getTabBarHoverItem(t,e),n,o,a,l,h;if(s.isTabBarActive()){this._toggleTileCloneHoverOpacity(true)}this.lastHighlitedTabItem=r;this.thisLayout.setOnTabBarElement(true);a=this._handleOverflowCollision(t);if(a){return}if(!r){return}this.targetGroup=r;this.sDragTargetGroupModelId=r.getAttribute("modelGroupId");n=this._getTabBarGroupIndexByModelId(this.sDragTargetGroupModelId);if(this.thisLayout.oTabBarItemClickTimer){clearTimeout(this.thisLayout.oTabBarItemClickTimer)}h=this._getModelGroupById(this._getDropTargetGroup().groupId);if(h.isGroupLocked){this._toggleTabBarOverflowArrows(false);this.thisLayout.setOnTabBarElement(false);this._resetOverFlowButtonElements();return}this._toggleAnchorItemHighlighting(true);if(!this.sDragStartGroupModelId){this.sDragStartGroupModelId=this.startGroup.getGroupId()}this.thisLayout.oTabBarItemClickTimer=setTimeout(function(){var t=i._getSelectedTabBarItem();if(i.lastHighlitedTabItem===t){return}i.draggedTileModelPath=i.item.getBindingContext().getPath();i._prepareDomForDragAndDrop();i.startGroup.removeAggregation("tiles",i.item,true);l=i.sDragStartGroupModelId===i.sDragTargetGroupModelId;i.item.getBindingContext().oModel.setProperty(i.draggedTileModelPath+"/draggedInTabBarToSourceGroup",l);i.groupSwitched=true;sap.ui.getCore().getEventBus().publish("launchpad","switchTabBarItem",{iGroupIndex:n});var e=i.thisLayout.getGroups();i.endGroup=e[0];i.bElapseGroupLinksMap=true},800);if(this.tiles===null&&this.endGroup){this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0)}o=jQuery(".sapUshellTabBarHoverOn");o.removeClass("sapUshellTabBarHoverOn");r.classList.add("sapUshellTabBarHoverOn");return true},_prepareDomForDragAndDrop:function(){if(e.system.tablet){var t=this.item.$().clone();var i=this.item.$();var r=i.parent();this.origItemId=i.attr("id");this.origItemDataSapUi=i.attr("data-sap-ui");i.removeAttr("id").removeAttr("data-sap-ui");i.hide();t.hide();jQuery("#dashboardGroups").parent().append(i);r.append(t);this.draggedTileDomRef=i.get(0)}else if(!this.draggedTileDomRef){this.draggedTileDomRef=this.item.getDomRef()}},_appendTargetGroupDomRefWithDraggedTile:function(){var t=this.endGroup.getInnerContainerDomRefs()?this.endGroup.getInnerContainerDomRefs()[0]:null;if(!this.item.getDomRef()){if(e.system.tablet){jQuery(this.draggedTileDomRef).attr("id",this.origItemId);jQuery(this.draggedTileDomRef).attr("data-sap-ui",this.origItemDataSapUi);jQuery(this.draggedTileDomRef).show()}if(t){t.appendChild(this.draggedTileDomRef)}}else{if(t){t.appendChild(this.item.getDomRef())}if(e.system.tablet){jQuery(this.item.getDomRef()).show()}}},_getSelectedTabBarItem:function(){return jQuery(".sapUshellAnchorItemSelected")[0]},_getTabBarGroupIndexByModelId:function(t){var e,i;for(e=0;e<this.allGroups.length;e++){i=this.allGroups[e].groupId;if(t===i){return e}}},_getModelGroupById:function(t){var e=this.thisLayout.getAllGroups(),i,r,s;for(i=0;i<e.length;i++){r=e[i];s=r.groupId;if(s===t){return r}}},_handleOverflowCollision:function(t){var e=sap.ui.getCore().byId("anchorNavigationBar"),i=this._calculateOverflowButtonSideCollision(t);if(i=="right"){if(!this.tabBarArrowCollisionRight){e._scrollToGroupByGroupIndex(e.anchorItems.length-1,5e3);this.tabBarArrowCollisionRight=true}return true}else if(i=="left"){if(!this.tabBarArrowCollisionLeft){e._scrollToGroupByGroupIndex(0,5e3);this.tabBarArrowCollisionLeft=true}return true}this._resetOverFlowButtonElements();return false},_calculateOverflowButtonSideCollision:function(t){var e=jQuery(".sapUshellAnchorRightOverFlowButton"),i=e.offset().left,r=jQuery(".sapUshellAnchorItemOverFlow"),s=r.offset().left,n=jQuery(".sapUshellAnchorLeftOverFlowButton"),o=n.offset().left,a=32,l=jQuery("#anchorNavigationBar"),h=l.offset().left;if(t>i&&t<s){return"right"}if(t>h&&t<o+a){return"left"}},_resetOverFlowButtonElements:function(){var t=e.system.tablet,i=jQuery(t?".sapUshellAnchorNavigationBarItemsScroll":".sapUshellAnchorNavigationBarItems");i.stop();this.tabBarArrowCollisionRight=false;this.tabBarArrowCollisionLeft=false},_toggleTabBarOverflowArrows:function(t){var e=jQuery(".sapUshellAnchorRightOverFlowButton"),i=jQuery(".sapUshellAnchorLeftOverFlowButton");i.toggleClass("sapUshellTabBarOverflowButton",t);e.toggleClass("sapUshellTabBarOverflowButton",t)},_getTabBarHoverItem:function(t,e){var i,r,s,n,o;r=jQuery(".sapUshellAnchorItem:not(.sapUshellShellHidden)").eq(0).offset().left;if(t-r<=0){return}i=Math.round((t-r)/10);if(i>=e.length){i=e.length-1}s=e[i];n=jQuery(".sapUshellAnchorItem");o=n[s];return o},removeExcludedElementsFromMatrix:function(t){if(!t.length){return}if(!this.matrix){return}var e=this.matrix.map(function(e){return e.map(function(e){var i=t.some(function(t){return e instanceof t});return i?undefined:e})});this.setMatrix(e)},setExcludedControl:function(t){if(t){this.aExcludedControlClass.push(t)}},setReorderTilesCallback:function(t){if(typeof t==="function"){this.reorderElementsCallback=t}}};var r=function(){};r.prototype={_initDeferred:jQuery.Deferred(),init:function(t){var e=function(){if(this.container&&this.container.id&&this.container.id.includes("destroyed")){return}var t=this.getStyleInfo(this.container);if(t.tileWidth>0){this.isInited=true;this.reRenderGroupsLayout();this.layoutEngine=new i({thisLayout:this});this._initDeferred.resolve();return}setTimeout(e,100)}.bind(this);this.cfg=t||this.cfg;this.minTilesinRow=2;this.container=this.cfg.container||document.getElementById("dashboardGroups");this.oTabBarItemClickTimer=new Date;this.bTabBarModeActive=false;this.bOnTabBarElement=false;if(sap.ushell.Container){sap.ushell.Container.getServiceAsync("LaunchPage").then(function(t){this.oLaunchPageService=t;e()}.bind(this))}else{e()}sap.ui.getCore().getEventBus().subscribe("launchpad","tabBarChange",this._onTabBarChange,this);return this.getInitPromise()},setOnTabBarElement:function(t){this.bOnTabBarElement=t},isOnTabBarElement:function(){return this.bOnTabBarElement},_onTabBarChange:function(t,e,i){if(i==="tabs"){this.bTabBarModeActive=true}else{this.bTabBarModeActive=false}},tabBarTileDropped:function(){if(this.oTabBarItemClickTimer){clearTimeout(this.oTabBarItemClickTimer)}},getInitPromise:function(){return this._initDeferred.promise()},getLayoutEngine:function(){return this.layoutEngine},getStyleInfo:function(e){var i=document.createElement("div"),r=e.getAttribute("id");e=r?document.getElementById(r):e;i.className="sapUshellTile";var s=t.last("/core/home/sizeBehavior");if(s==="Small"){i.classList.add("sapUshellSmall")}i.style.position="absolute";i.style.visibility="hidden";e.appendChild(i);var n=window.getComputedStyle(i);var o=window.getComputedStyle(e);var a={tileMarginHeight:parseFloat(n.marginBottom,10)+parseFloat(n.marginTop,10),tileMarginWidth:parseFloat(n.marginLeft,10)+parseFloat(n.marginRight,10),tileWidth:i.offsetWidth,tileHeight:i.offsetHeight,containerWidth:o.width?parseInt(o.width,10):e.offsetWidth};e.removeChild(i);return a},getGroups:function(){return this.cfg.getGroups()},getAllGroups:function(){return this.cfg.getAllGroups?this.cfg.getAllGroups():[]},isTabBarActive:function(){return this.cfg.isTabBarActive?this.cfg.isTabBarActive():false},getTilesInRow:function(){return this.tilesInRow},setTilesInRow:function(t){this.tilesInRow=t},checkPlaceForTile:function(t,e,i,r,s){if(typeof e[i.y]==="undefined"){e.push(new Array(e[0].length))}if(typeof e[i.y+1]==="undefined"){e.push(new Array(e[0].length))}if(typeof e[i.y][i.x]!=="undefined"){return false}var n=jQuery.extend({},i);if(s||t&&t.getLong&&!t.getLong()){return[n]}var o=[n];if(t&&t.getLong&&t.getLong()){if(i.x+1>=e[0].length||typeof e[n.y][n.x+1]!=="undefined"){return false}o.push({y:n.y,x:n.x+1})}return o},placeTile:function(t,e,i){for(var r=0;r<i.length;r++){e[i[r].y][i[r].x]=t}},getTilePositionInMatrix:function(t,e){for(var i=0;i<e.length;i++){for(var r=0;r<e[0].length;r++){if(e[i][r]===t){return{row:i,col:r}}}}return false},fillRowsInLine:function(t,e,i,r){if(!e.length){return 0}var s;for(var n=0;n<t[0].length&&e.length;n++){s=this.checkPlaceForTile(e[0],t,{x:n,y:i},r);if(s){this.placeTile(e[0],t,s);e.shift()}}},organizeGroup:function(t,e){var i=t.slice(0);var r=[];var s=0;r.push(new Array(e?Math.floor(this.tilesInRow/2):this.tilesInRow));while(i.length){this.fillRowsInLine(r,i,s,e);s++}if(this.rightToLeft){for(var n=0;n<r.length;n++){r[n].reverse()}}r=this.cleanRows(r);return r},cleanRows:function(t){var e=false;for(var i=t.length-1;i>0&&!e;i--){for(var r=0;r<t[i].length&&!e;r++){if(typeof t[i][r]==="object"){e=true}}if(!e){t.pop()}}return t},setGroupsLayout:function(t,e){if(t.getIsGroupLocked()&&e.length>0){var i=t.getDomRef().parentElement;t.getDomRef().style.width="";i.style.width="";i.style.display=""}},calcTilesInRow:function(t,e,i){var r=Math.floor(t/(e+i));r=r<this.minTilesinRow?this.minTilesinRow:r;return r},getGroupTiles:function(t){var e=t.getTiles();if(t.getShowPlaceholder()){e.push(t.oPlusTile)}return e},reRenderGroupsLayout:function(t){if(!this.isInited){return}var e=this.getStyleInfo(this.container);if(!e.tileWidth){return}this.styleInfo=e;this.tilesInRow=this.calcTilesInRow(e.containerWidth,e.tileWidth,e.tileMarginWidth);t=t||this.getGroups();for(var i=0;i<t.length;i++){if(t[i].getDomRef&&!t[i].getDomRef()){continue}var r=this.getGroupTiles(t[i]);var s=this.organizeGroup(r);this.setGroupsLayout(t[i],s)}},initDragMode:function(){this.initGroupDragMode(this.layoutEngine.currentGroup)},endDragMode:function(){var t=this.getGroups();for(var e=0;e<t.length;e++){var i=t[e].$();if(!i.hasClass("sapUshellInDragMode")){continue}i.removeClass("sapUshellInDragMode");var r=this.getGroupTiles(t[e]);for(var s=0;s<r.length;s++){r[s].$().removeAttr("style")}i.find(".sapUshellInner").removeAttr("style")}},initGroupDragMode:function(t){if(t.$().hasClass("sapUshellInDragMode")){return}var e=this.getGroupTiles(t);var i=this.organizeGroup(e);t.$().addClass("sapUshellInDragMode");this.renderLayoutGroup(t,i)},calcTranslate:function(t,e){var i=e*(this.styleInfo.tileWidth+this.styleInfo.tileMarginWidth);var r=t*(this.styleInfo.tileHeight+this.styleInfo.tileMarginHeight);if(this.layoutEngine.rightToLeft){i=-i}return{x:i,y:r}},renderLayoutGroup:function(t,e){var i;this.styleInfo=this.getStyleInfo(this.container);for(var r=0;r<e.length;r++){for(var s=0;s<e[r].length;s++){if(i===e[r][s]){continue}else{i=e[r][s]}if(typeof i==="undefined"){break}}}}};var s=new r;return s},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/UIActions", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";function e(){var e=document.activeElement?document.activeElement.tagName:"";return e==="INPUT"||e==="TEXTAREA"}var t=function(t){if(!t||!t.rootSelector||!t.containerSelector||!t.draggableSelector){throw new Error("No configuration object to initialize User Interaction module.")}this.captureStart=null;this.captureMove=null;this.captureEnd=null;this.clickCallback=null;this.clickEvent=null;this.clickHandler=null;this.clone=null;this.cloneClass=null;this.container=null;this.contextMenuEvent=null;this.debug=null;this.defaultDragStartEvent=null;this.defaultMouseMoveEvent=null;this.deltaTop=0;this.disabledDraggableSelector=null;this.dragAndScrollCallback=null;this.dragAndScrollDuration=null;this.dragAndScrollTimer=null;this.draggable=null;this.placeHolderClass=null;this.draggableSelector=null;this.draggableSelectorExclude=null;this.doubleTapCallback=null;this.doubleTapDelay=null;this.element=null;this.endDragAndScrollCallback=null;this.endX=null;this.endY=null;this.isLayoutEngine=null;this.isTouch=null;this.isCombi=null;this.lastElement=null;this.lastTapTime=null;this.lockMode=null;this.log=null;this.mode=null;this.mouseDownEvent=null;this.mouseMoveEvent=null;this.mouseUpEvent=null;this.moveTolerance=null;this.moveX=null;this.moveY=null;this.noop=null;this.onDragStartUIHandler=null;this.onDragEndUIHandler=null;this.preventClickFlag=null;this.preventClickTimeoutId=null;this.scrollContainer=null;this.scrollContainerSelector=null;this.scrollEvent=null;this.scrollTimer=null;this.startX=null;this.startY=null;this.switchModeDelay=null;this.tapsNumber=null;this.timer=null;this.scrollHandler=null;this.touchCancelEvent=null;this.dragCallback=null;this.onBeforeCreateClone=null;this.endCallback=null;this.touchEndEvent=null;this.touchMoveEvent=null;this.startCallback=null;this.touchStartEvent=null;this.wrapper=null;this.wrapperRect=null;this.scrollCallback=null;this.draggableElement=null;this.offsetLeft=0;this.elementsToCapture=null;this.init=function(t){this.startX=-1;this.startY=-1;this.moveX=-1;this.moveY=-1;this.endX=-1;this.endY=-1;this.noop=function(){};this.isLayoutEngine=t.isLayoutEngine||false;if(this.isLayoutEngine){this.moveDraggable=this.noop}this.isTouch=t.isTouch?!!t.isTouch:false;this.isCombi=t.isCombi?!!t.isCombi:false;this.container=document.querySelector(t.containerSelector);this.scrollContainerSelector=t.scrollContainerSelector||t.containerSelector;this.switchModeDelay=t.switchModeDelay||1500;this.dragAndScrollDuration=t.dragAndScrollDuration||160;this.moveTolerance=t.moveTolerance===0?0:t.moveTolerance||16;this.draggableSelector=t.draggableSelector;this.draggableSelectorBlocker=t.draggableSelectorBlocker||t.rootSelector;this.draggableSelectorExclude=t.draggableSelectorExclude;this.mode="normal";this.debug=t.debug||false;this.root=document.querySelector(t.rootSelector)||document.querySelector("#canvas");this.tapsNumber=0;this.lastTapTime=0;this.log=this.debug?this.logToConsole:this.noop;this.lockMode=false;this.placeHolderClass=t.placeHolderClass||"";this.cloneClass=t.cloneClass||"";this.deltaTop=t.deltaTop||0;this.wrapper=t.wrapperSelector?document.querySelector(t.wrapperSelector):this.container.parentNode;this.clickCallback=typeof t.clickCallback==="function"?t.clickCallback:this.noop;this.startCallback=typeof t.startCallback==="function"?t.startCallback:this.noop;this.doubleTapCallback=typeof t.doubleTapCallback==="function"?t.doubleTapCallback:this.noop;this.endCallback=typeof t.endCallback==="function"?t.endCallback:this.noop;this.dragCallback=typeof t.dragCallback==="function"?t.dragCallback:this.noop;this.onBeforeCreateClone=typeof t.onBeforeCreateClone==="function"?t.onBeforeCreateClone:this.noop;this.dragAndScrollCallback=typeof t.dragAndScrollCallback==="function"?t.dragAndScrollCallback:this.noop;this.endDragAndScrollCallback=typeof t.endDragAndScrollCallback==="function"?t.endDragAndScrollCallback:this.noop;this.scrollCallback=typeof t.scrollCallback==="function"?t.scrollCallback:this.noop;this.doubleTapDelay=t.doubleTapDelay||500;this.wrapperRect=this.wrapper.getBoundingClientRect();this.scrollEvent="scroll";this.touchStartEvent="touchstart";this.touchMoveEvent="touchmove";this.touchEndEvent="touchend";this.mouseDownEvent="mousedown";this.mouseMoveEvent="mousemove";this.mouseUpEvent="mouseup";this.contextMenuEvent="contextmenu";this.touchCancelEvent="touchcancel";this.defaultDragStartEvent="dragstart";this.defaultMouseMoveEvent="mousemove";this.clickEvent="click";this.isVerticalDragOnly=t.isVerticalDragOnly||false;this.draggableElement=t.draggableElement;this.offsetLeft=t.offsetLeft;this.elementsToCapture=t.elementToCapture?jQuery(t.elementToCapture):this.root;this.disabledDraggableSelector=t.disabledDraggableSelector;this.onDragStartUIHandler=typeof t.onDragStartUIHandler==="function"?t.onDragStartUIHandler:this.noop;this.onDragEndUIHandler=typeof t.onDragEndUIHandler==="function"?t.onDragEndUIHandler:this.noop;this.defaultMouseMoveHandler=t.defaultMouseMoveHandler||function(t){if(e()){return}t.preventDefault()}};this.forEach=function(e,t){return Array.prototype.forEach.call(e,t)};this.indexOf=function(e,t){return Array.prototype.indexOf.call(e,t)};this.insertBefore=function(e,t,l){var i,s,n;n=Array.prototype.splice;i=this.indexOf(e,t);s=this.indexOf(e,l);n.call(e,s-(i<s?1:0),0,n.call(e,i,1)[0])};this.logToConsole=function(){window.console.log.apply(console,arguments)};this.getDraggableElement=function(e){var t,l=false,i=false;this.draggable=jQuery(this.draggableSelector,this.container);while(typeof t==="undefined"&&e!==this.root&&!jQuery(e).is(this.draggableSelectorBlocker)){l=l||jQuery(e).is(this.draggableElement)||this.draggableElement===undefined;if(!(jQuery(e).not(this.draggableSelectorExclude).length>0)){i=true}if(!i&&l&&this.indexOf(this.draggable,e)>=0){t=e}e=e.parentNode}return t};this.captureStart=function(e){var t;if(e.type==="touchstart"&&e.touches.length===1){t=e.touches[0]}else if(e.type==="mousedown"){t=e;if(e.which!==1){return}}if(t){this.element=this.getDraggableElement(t.target);this.startX=this.moveX=t.pageX;this.startY=this.moveY=t.pageY;this.lastMoveX=0;this.lastMoveY=0;if(this.lastTapTime&&this.lastElement&&this.element&&this.lastElement===this.element&&Math.abs(Date.now()-this.lastTapTime)<this.doubleTapDelay){this.lastTapTime=0;this.tapsNumber=2}else{this.lastTapTime=Date.now();this.tapsNumber=1;this.lastElement=this.element}this.log("captureStart("+this.startX+", "+this.startY+")")}};this.startHandler=function(e){this.log("startHandler");if(this.isCombi&&!(e instanceof MouseEvent)){this.isTouchEvent=true}clearTimeout(this.timer);delete this.timer;this.captureStart(e);if(this.element){this.startCallback(e,this.element);if(this.lockMode===false){if(this.tapsNumber===2){this.mode="double-tap";return}if(this.isTouch||this.isTouchEvent){this.timer=setTimeout(function(){if(!jQuery(this.element).hasClass(this.disabledDraggableSelector)){this.log("mode switched to drag");this.mode="drag";this.onBeforeCreateClone(e,this.element);this.createClone();this.dragCallback(e,this.element)}else{this.onDragStartUIHandler()}this.isTouchEvent=false}.bind(this),this.switchModeDelay)}}}}.bind(this);this.captureMove=function(e){var t;if(e.type==="touchmove"&&e.touches.length===1){t=e.touches[0]}else if(e.type==="mousemove"){t=e}if(t){this.moveX=t.pageX;this.moveY=t.pageY;this.log("captureMove("+this.moveX+", "+this.moveY+")")}};this.moveHandler=function(t){if(e()){return}var l;this.log("moveHandler");this.captureMove(t);if(this.element&&t.type==="mousemove"&&t.buttons===0){return this.endHandler(t)}switch(this.mode){case"normal":if(Math.abs(this.startX-this.moveX)>this.moveTolerance||Math.abs(this.startY-this.moveY)>this.moveTolerance){if(this.isTouch||this.isTouchEvent){this.log("-> normal");clearTimeout(this.timer);delete this.timer}else if(this.element){this.onDragStartUIHandler();if(!jQuery(this.element).hasClass(this.disabledDraggableSelector)){this.log("mode switched to drag");this.mode="drag";this.onBeforeCreateClone(t,this.element);this.createClone()}else{this.preventClick();this.element=null}}}break;case"drag":t.preventDefault();this.onDragStartUIHandler();this.log("-> drag");if(this.isVerticalDragOnly){this.mode="vertical-drag"}else{this.mode="drag-and-scroll"}window.addEventListener(this.mouseUpEvent,this.endHandler,true);this.translateClone();this.scrollContainer=document.querySelector(this.scrollContainerSelector);this.dragAndScroll();if(!this.isTouch){this.dragCallback(t,this.element)}break;case"drag-and-scroll":t.stopPropagation();t.preventDefault();this.log("-> drag-and-scroll");l=this.dragAndScroll();this.translateClone();if(!l){this.moveDraggable()}this.dragAndScrollCallback({evt:t,clone:this.clone,isScrolling:l,moveX:this.moveX,moveY:this.moveY});break;case"vertical-drag":t.stopPropagation();t.preventDefault();l=this.dragAndScroll();this.translateClone();if(!l){this.moveDraggableVerticalOnly(this.moveX,this.moveY)}this.dragAndScrollCallback({evt:t,clone:this.clone,isScrolling:l,moveX:this.moveX,moveY:this.moveY});break;default:break}}.bind(this);this.captureEnd=function(e){var t;if((e.type==="touchend"||e.type==="touchcancel")&&e.changedTouches.length===1){t=e.changedTouches[0]}else if(e.type==="mouseup"){t=e}if(t){this.endX=t.pageX;this.endY=t.pageY;this.log("captureEnd("+this.endX+", "+this.endY+")")}};this.contextMenuHandler=function(e){if(this.isTouch){e.preventDefault()}}.bind(this);this.clickHandler=function(e){if(this.preventClickFlag){this.preventClickFlag=false;e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();clearTimeout(this.preventClickTimeoutId)}this.clickCallback()}.bind(this);this.preventClick=function(){this.preventClickFlag=true;this.preventClickTimeoutId=setTimeout(function(){this.preventClickFlag=false}.bind(this),100)};this.endCallbackAdapter=function(e,t,l){var i=this.endCallback.apply(null,arguments);jQuery.when(i).then(function(){this.removeClone(t,l.clone);this.onDragEndUIHandler(e)}.bind(this));this.preventClick()};this.endHandler=function(e){this.log("endHandler");this.captureEnd(e);switch(this.mode){case"normal":this.onDragEndUIHandler(e);this.log("-> normal");break;case"drag":this.log("-> drag");this.endCallbackAdapter(e,this.element,{clone:this.clone});break;case"drag-and-scroll":this.log("-> drag-and-scroll");window.removeEventListener(this.mouseUpEvent,this.endHandler,true);this.endCallbackAdapter(e,this.element,{deltaX:this.moveX-this.startX,deltaY:this.moveY-this.startY,clone:this.clone});e.stopPropagation();e.preventDefault();break;case"vertical-drag":this.log("-> vertical-drag");window.removeEventListener(this.mouseUpEvent,this.endHandler,true);this.endCallbackAdapter(e,this.element,{clone:this.clone});e.stopPropagation();e.preventDefault();break;case"double-tap":this.log("-> double-tap");this.doubleTapCallback(e,this.element);break;default:break}clearTimeout(this.timer);delete this.timer;this.lastMoveX=0;this.lastMoveY=0;this.element=null;this.clone=null;this.mode="normal"}.bind(this);this.defaultDragStartHandler=function(e){e.preventDefault()};this.scrollHandler=function(){clearTimeout(this.scrollTimer);this.lockMode=true;this.scrollTimer=setTimeout(function(){this.lockMode=false}.bind(this),500)}.bind(this);this.createClone=function(){var e,t;this.preventClickFlag=true;if(sap.ui.getCore().byId(this.element.id)&&sap.ui.getCore().byId(this.element.id).getBoundingRects){t=sap.ui.getCore().byId(this.element.id).getBoundingRects()[0];t.top=t.offset.y;t.left=t.offset.x;t.width+=5}else{t=this.element.getBoundingClientRect()}this.clone=this.element.cloneNode(true);this.clone.removeAttribute("id");this.clone.removeAttribute("data-sap-ui");this.clone.className+=" "+this.cloneClass;this.element.className+=" "+this.placeHolderClass;e=this.clone.style;e.position="fixed";e.display="block";e.top=t.top+this.deltaTop+"px";e.left=t.left+"px";e.width=t.width+"px";e.zIndex="100";this.root.appendChild(this.clone);this.log("createClone")};this.removeClone=function(e,t){this.preventClick();e.className=e.className.split(" "+this.placeHolderClass).join("");t.parentElement.removeChild(t);this.log("removeClone")};this.translateClone=function(){var e,t;e=this.moveX-this.startX;t=this.moveY-this.startY;this.clone.style.webkitTransform="translate3d("+e+"px, "+t+"px, 0px)";this.clone.style.mozTransform="translate3d("+e+"px, "+t+"px, 0px)";this.clone.style.msTransform="translate("+e+"px, "+t+"px)";this.clone.style.transform="translate3d("+e+"px, "+t+"px, 0px)";this.log("translateClone ("+e+", "+t+")")};this.dragAndScroll=function(){var e,t,l=this;function i(){var e,t;if(l.clone){e=l.clone.getBoundingClientRect();t=l.wrapperRect.top-e.top;if(t>0){return t}t=l.wrapper.offsetTop+l.wrapper.offsetHeight-(e.top+l.clone.offsetHeight);if(t<0){return t}}return 0}function s(){if(l.endDragAndScrollCallback(l.moveY)){return false}if(e<0){return l.wrapper.getBoundingClientRect().top-(l.container.getBoundingClientRect().top+l.container.offsetHeight)+l.wrapper.offsetHeight<0}return l.container.getBoundingClientRect().top-(l.wrapper.getBoundingClientRect().top+l.container.offsetTop)<0}function n(){l.dragAndScrollTimer=setTimeout(function(){l.wrapper.scrollTop-=e;l.dragAndScrollTimer=undefined;if((e=i())!==0&&s()){n()}l.scrollCallback()},t)}e=i();if(e!==0&&!this.dragAndScrollTimer&&s()){t=this.dragAndScrollDuration;this.scrollContainer=this.scrollContainer||document.querySelector(this.scrollContainerSelector);n()}this.log("dragAndScroll ("+e+")");return e!=0&&s()};this.moveDraggableVerticalOnly=function(){var e,t,l,i=true;this.forEach(this.draggable,function(s,n){if(!e){l=s.getBoundingClientRect();t=!(l.bottom<this.moveY||l.top>this.moveY);if(t){e=s;if(l.top+l.height/2<this.moveY){i=false}}}}.bind(this));if(e&&this.element!==e){if(i){this.insertBefore(this.draggable,this.element,e);e.parentNode.insertBefore(this.element,e)}else{this.insertBefore(this.draggable,this.element,e.nextSibling);e.parentNode.insertBefore(this.element,e.nextSibling)}this.lastMoveX=this.moveX;this.lastMoveY=this.moveY}this.log("moveDraggableVerticalonly")};this.moveDraggable=function(e,t){var l,i,s,n,a,o;this.forEach(this.draggable,function(e,t){if(!i){o=e.getBoundingClientRect();n=!(o.right<this.moveX||o.left>this.moveX);a=!(o.bottom<this.moveY||o.top>this.moveY);if(n&&a){i=e;s=t}}}.bind(this));if(i&&this.element!==i){l=this.indexOf(this.draggable,this.element);if(Math.abs(this.lastMoveX-this.moveX)>=this.moveTolerance||Math.abs(this.lastMoveY-this.moveY)>=this.moveTolerance){if(s<=l){i.parentNode.insertBefore(this.element,i);this.insertBefore(this.draggable,this.element,i)}else if(s>l){i.parentNode.insertBefore(this.element,i.nextSibling);this.insertBefore(this.draggable,this.element,this.draggable[s+1])}this.lastMoveX=this.moveX;this.lastMoveY=this.moveY}}this.log("moveDraggable")};this.enable=function(){this.log("enable");this.root.addEventListener(this.touchMoveEvent,this.moveHandler,true);this.root.addEventListener(this.mouseMoveEvent,this.moveHandler,true);this.root.addEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.addEventListener(this.clickEvent,this.clickHandler,true);this.root.addEventListener(this.defaultDragStartEvent,this.defaultDragStartHandler,true);this.root.addEventListener(this.defaultMouseMoveEvent,this.defaultMouseMoveHandler,true);this.wrapper.addEventListener(this.scrollEvent,this.scrollHandler,false);if(this.elementsToCapture.length){var e=this;this.elementsToCapture.each(function(){this.addEventListener(e.touchStartEvent,e.startHandler,false);this.addEventListener(e.touchEndEvent,e.endHandler,false);this.addEventListener(e.touchCancelEvent,e.endHandler,false);this.addEventListener(e.mouseDownEvent,e.startHandler,false);this.addEventListener(e.mouseUpEvent,e.endHandler,false)})}else{this.elementsToCapture.addEventListener(this.touchStartEvent,this.startHandler,false);this.elementsToCapture.addEventListener(this.touchEndEvent,this.endHandler,false);this.elementsToCapture.addEventListener(this.touchCancelEvent,this.endHandler,false);this.elementsToCapture.addEventListener(this.mouseDownEvent,this.startHandler,false);this.elementsToCapture.addEventListener(this.mouseUpEvent,this.endHandler,false)}return this};this.delete=function(){this.log("delete");this.disable();this.dragCallback=null;this.onBeforeCreateClone=null;this.endCallback=null;this.startCallback=null;this.scrollCallback=null;this.doubleTapCallback=null;this.clickCallback=null;this.dragAndScrollCallback=null;delete this};this.disable=function(){this.log("disable");if(this.elementsToCapture.length){var e=this;this.elementsToCapture.each(function(){this.removeEventListener(e.touchStartEvent,e.startHandler,false);this.removeEventListener(e.touchEndEvent,e.endHandler,false);this.removeEventListener(e.touchCancelEvent,e.endHandler,false);this.removeEventListener(e.mouseDownEvent,e.startHandler,false);this.removeEventListener(e.mouseUpEvent,e.endHandler,false)})}else{this.elementsToCapture.removeEventListener(this.touchStartEvent,this.startHandler,false);this.elementsToCapture.removeEventListener(this.touchEndEvent,this.endHandler,false);this.elementsToCapture.removeEventListener(this.touchCancelEvent,this.endHandler,false);this.elementsToCapture.removeEventListener(this.mouseDownEvent,this.startHandler,false);this.elementsToCapture.removeEventListener(this.mouseUpEvent,this.endHandler,false)}this.root.removeEventListener(this.touchMoveEvent,this.moveHandler,true);this.root.removeEventListener(this.mouseMoveEvent,this.moveHandler,true);this.root.removeEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.removeEventListener(this.clickEvent,this.clickHandler,true);this.root.removeEventListener(this.defaultDragStartEvent,this.defaultDragStartHandler,true);this.root.removeEventListener(this.defaultMouseMoveEvent,this.defaultMouseMoveHandler,true);this.wrapper.removeEventListener(this.scrollEvent,this.scrollHandler,false);return this};this.init(t);this.getMove=function(){return{x:this.moveX,y:this.moveY}}};return t},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncher/StaticTile.controller", ["sap/ui/core/mvc/Controller","sap/ushell/components/tiles/utils","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/m/library","sap/ushell/library","sap/ui/model/json/JSONModel","sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/utils/UrlParsing"],function(e,t,i,a,n,o,r,s,l,jQuery,g){"use strict";var p=o.GenericTileScope;var c=o.GenericTileMode;var _=r.AppType;return e.extend("sap.ushell.components.tiles.applauncher.StaticTile",{_aDoableObject:{},onInit:function(){var e=this.getView(),n=e.getViewData(),o=n.chip,r=t.getAppLauncherConfig(o,o.configurationUi.isEnabled(),false),l,p,_,u=this,f=r.navigation_target_url,d,y;this.oShellModel=i.getElementsModel();d=o.url.getApplicationSystem();if(d){if(g.isIntentUrl(f)){y=g.parseShellHash(f);if(!y.params){y.params={}}y.params["sap-system"]=d;f="#"+g.constructShellHash(y)}else{f+=(f.indexOf("?")<0?"?":"&")+"sap-system="+d}}this.navigationTargetUrl=f;l=new s({sizeBehavior:a.last("/core/home/sizeBehavior"),wrappingType:a.last("/core/home/wrappingType"),mode:r.display_mode,config:r,nav:{navigation_target_url:o.configurationUi&&o.configurationUi.isEnabled()?"":f},search:{display_highlight_terms:[]}});e.setModel(l);this._aDoableObject=a.on("/core/home/sizeBehavior").do(function(e){l.setProperty("/sizeBehavior",e)});if(o.types){o.types.attachSetType(function(e){if(u.tileType!==e){if(e==="link"){l.setProperty("/mode",c.LineMode)}else{l.setProperty("/mode",l.getProperty("/config/display_mode"))}u.tileType=e}})}if(!this.tileType){this.tileType="tile"}if(o.search){p=e.getModel().getProperty("/config/display_search_keywords");_=p.split(/[, ]+/).filter(function(e){return e&&e!==""});if(r.display_title_text&&r.display_title_text!==""&&_.indexOf(r.display_title_text)===-1){_.push(r.display_title_text)}if(r.display_subtitle_text&&r.display_subtitle_text!==""&&_.indexOf(r.display_subtitle_text)===-1){_.push(r.display_subtitle_text)}if(r.display_info_text&&r.display_info_text!==""&&_.indexOf(r.display_info_text)===-1){_.push(r.display_info_text)}o.search.setKeywords(_);o.search.attachHighlight(function(t){e.getModel().setProperty("/search/display_highlight_terms",t)})}if(o.bag&&o.bag.attachBagsUpdated){o.bag.attachBagsUpdated(function(i){if(i.indexOf("tileProperties")>-1){t._updateTilePropertiesTexts(e,o.bag.getBag("tileProperties"))}})}if(o.configuration&&o.configuration.attachConfigurationUpdated){o.configuration.attachConfigurationUpdated(function(i){if(i.indexOf("tileConfiguration")>-1){t._updateTileConfiguration(e,o.configuration.getParameterValueAsString("tileConfiguration"))}})}if(o.preview){o.preview.setTargetUrl(f);o.preview.setPreviewIcon(r.display_icon_url);o.preview.setPreviewTitle(r.display_title_text);if(o.preview.setPreviewSubtitle&&typeof o.preview.setPreviewSubtitle==="function"){o.preview.setPreviewSubtitle(r.display_subtitle_text)}}if(o.configurationUi.isEnabled()){o.configurationUi.setAsyncUiProvider(function(){return t.getConfigurationUi(e,"sap.ushell.components.tiles.applauncher.Configuration").then(function(e){o.configurationUi.attachCancel(u.onCancelConfiguration.bind(null,e));o.configurationUi.attachSave(u.onSaveConfiguration.bind(null,e));return e})});this.getView().getContent()[0].setTooltip(t.getResourceBundleModel().getResourceBundle().getText("edit_configuration.tooltip"))}if(o.actions){var h=r.actions,v;if(h){v=h.slice()}else{v=[]}if(a.last("/core/shell/enablePersonalization")){var b=l.getProperty("/mode")===c.LineMode?"link":"tile",w=t.getTileSettingsAction(l,this.onSaveRuntimeSettings.bind(this),b);v.push(w)}o.actions.setActionsProvider(function(){return v})}},onExit:function(){this._aDoableObject.off()},onPress:function(e){var t=this.getView(),i=t.getViewData(),o=i.chip,r=t.getModel().getProperty("/config");if(e.getSource().getScope&&e.getSource().getScope()===p.Display){if(o.configurationUi.isEnabled()){o.configurationUi.display()}else if(this.navigationTargetUrl){if(this.navigationTargetUrl[0]==="#"){hasher.setHash(this.navigationTargetUrl)}else{var s=a.last("/core/shell/enableRecentActivity")&&a.last("/core/shell/enableRecentActivityLogging");if(s){var l={title:r.display_title_text,appType:_.URL,url:r.navigation_target_url,appId:r.navigation_target_url};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(l)}n.openURL(this.navigationTargetUrl,"_blank")}}}},onSaveRuntimeSettings:function(e){var t=e.getModel(),i=this.getView().getViewData().chip,a=this.getView().getModel().getProperty("/config");a.display_title_text=t.getProperty("/title")||"";a.display_subtitle_text=t.getProperty("/subtitle")||"";a.display_info_text=t.getProperty("/info")||"";a.display_search_keywords=t.getProperty("/keywords")||"";var n=i.bag.getBag("tileProperties");n.setText("display_title_text",a.display_title_text);n.setText("display_subtitle_text",a.display_subtitle_text);n.setText("display_info_text",a.display_info_text);n.setText("display_search_keywords",a.display_search_keywords);function o(e){l.error(e,null,"sap.ushell.components.tiles.applauncher.StaticTile.controller")}n.save(function(){l.debug("property bag 'tileProperties' saved successfully");this.getView().getModel().setProperty("/config/display_title_text",a.display_title_text);this.getView().getModel().setProperty("/config/display_subtitle_text",a.display_subtitle_text);this.getView().getModel().setProperty("/config/display_info_text",a.display_info_text);this.getView().getModel().setProperty("/config/display_search_keywords",a.display_search_keywords);this.getView().getModel().refresh()}.bind(this),o)},onSaveConfiguration:function(e){var i=new jQuery.Deferred;var a=e.getModel();var n=a.getProperty("/tileModel");var o=e.getViewData().chip;var r=t.tileActionsRows2TileActionsArray(a.getProperty("/config/tile_actions_rows"));var g={display_icon_url:a.getProperty("/config/display_icon_url"),navigation_use_semantic_object:a.getProperty("/config/navigation_use_semantic_object"),navigation_target_url:a.getProperty("/config/navigation_target_url"),navigation_semantic_object:jQuery.trim(a.getProperty("/config/navigation_semantic_object"))||"",navigation_semantic_action:jQuery.trim(a.getProperty("/config/navigation_semantic_action"))||"",navigation_semantic_parameters:jQuery.trim(a.getProperty("/config/navigation_semantic_parameters")),display_search_keywords:a.getProperty("/config/display_search_keywords")};var p=t.checkInputOnSaveConfig(e);if(!p){p=t.checkTileActions(e)}if(p){i.reject("mandatory_fields_missing");return i.promise()}if(g.navigation_use_semantic_object){g.navigation_target_url=t.getSemanticNavigationUrl(g);a.setProperty("/config/navigation_target_url",g.navigation_target_url)}var c=o.bag.getBag("tileProperties");c.setText("display_title_text",a.getProperty("/config/display_title_text"));c.setText("display_subtitle_text",a.getProperty("/config/display_subtitle_text"));c.setText("display_info_text",a.getProperty("/config/display_info_text"));c.setText("display_search_keywords",g.display_search_keywords);var _=o.bag.getBag("tileNavigationActions");t.populateTileNavigationActionsBag(_,r);function u(e,t){l.error(e,null,"sap.ushell.components.tiles.applauncher.StaticTile.controller");i.reject(e,t)}o.writeConfiguration.setParameterValues({tileConfiguration:JSON.stringify(g)},function(){var a=t.getAppLauncherConfig(o,false,false),r=t.getAppLauncherConfig(o,true,false),g=new s({config:a,nav:{navigation_target_url:""},tileModel:n});e.setModel(g);n.setData({config:r,nav:{navigation_target_url:""}},false);if(o.preview){o.preview.setTargetUrl(a.navigation_target_url);o.preview.setPreviewIcon(a.display_icon_url);o.preview.setPreviewTitle(a.display_title_text);if(o.preview.setPreviewSubtitle&&typeof o.preview.setPreviewSubtitle==="function"){o.preview.setPreviewSubtitle(a.display_subtitle_text)}}c.save(function(){l.debug("property bag 'tileProperties' saved successfully");if(o.title){o.title.setTitle(a.display_title_text,function(){i.resolve()},u)}else{i.resolve()}},u);_.save(function(){l.debug("property bag 'navigationProperties' saved successfully")},u)},u);e.destroy();return i.promise()},onCancelConfiguration:function(e){var i=e.getViewData(),a=e.getModel(),n=a.getProperty("/tileModel"),o=i.chip,r=t.getAppLauncherConfig(o,o.configurationUi.isEnabled(),false);e.getModel().setData({config:r,nav:{navigation_target_url:""},tileModel:n},false);e.destroy()},formatters:{leanURL:n.getLeanURL.bind(n)}})},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncher/StaticTile.view", ["sap/ui/core/mvc/View","sap/m/GenericTile","sap/m/ImageContent","sap/m/TileContent","sap/ushell/components/tiles/applauncher/StaticTile.controller"],function(e,t,n,i){"use strict";sap.ui.jsview("sap.ushell.components.tiles.applauncher.StaticTile",{getControllerName:function(){return"sap.ushell.components.tiles.applauncher.StaticTile"},createContent:function(){this.setHeight("100%");this.setWidth("100%");return this.getTileControl()},getTileControl:function(){var e=this.getController();if(this.getContent().length===1){return this.getContent()[0]}return new t({mode:"{= ${/mode} || (${/config/display_icon_url} ? 'ContentMode' : 'HeaderMode') }",header:"{/config/display_title_text}",subheader:"{/config/display_subtitle_text}",sizeBehavior:"{/sizeBehavior}",wrappingType:"{/wrappingType}",url:{parts:["/targetURL","/nav/navigation_target_url"],formatter:e.formatters.leanURL},size:"Auto",tileContent:new i({size:"Auto",footer:"{/config/display_info_text}",content:new n({src:"{/config/display_icon_url}"})}),press:[e.onPress,e]})},getMode:function(){return this.getModel().getProperty("/mode")||(this.getModel().getProperty("/config/display_icon_url")?"ContentMode":"HeaderMode")}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncherdynamic/DynamicTile.controller", ["sap/ushell/library","sap/ui/core/mvc/Controller","sap/ushell/components/tiles/utils","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/m/library","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/utils/DynamicTileRequest","sap/ushell/utils/UrlParsing","sap/ushell/utils"],function(e,t,i,a,r,s,n,o,jQuery,l,g,p,u){"use strict";var c=n.GenericTileScope;var f=n.GenericTileMode;var d=e.AppType;var _="sap.ushell.components.tiles.applauncherdynamic.DynamicTile";return t.extend(_,{_aDoableObject:{},oDataRequest:null,sConfigNavigationTargetUrlOld:"",REFRESH_INTERVAL_MIN:10,constructTargetUrlWithSapSystem:function(e,t){var i;if(t){if(p.isIntentUrl(e)){i=p.parseShellHash(e);if(!i.params){i.params={}}i.params["sap-system"]=t;e="#"+p.constructShellHash(i)}else{e+=(e.indexOf("?")<0?"?":"&")+"sap-system="+t}}return e},onInit:function(){var e=this;var t;var s;var n=this.getView();var g=n.getViewData();var p=g.chip;var u=i.getAppLauncherConfig(p,p.configurationUi.isEnabled(),false);var c=u.navigation_target_url;var d=p.url.getApplicationSystem();this.sConfigNavigationTargetUrlOld=u.navigation_target_url;l.setLevel(2,_);this.bIsRequestCompleted=false;this.oShellModel=a.getElementsModel();this.navigationTargetUrl=this.constructTargetUrlWithSapSystem(c,d);var h=new o({sizeBehavior:r.last("/core/home/sizeBehavior"),wrappingType:r.last("/core/home/wrappingType"),config:u,mode:u.display_mode||f.ContentMode,data:i.getDataToDisplay(u,{number:p.preview&&p.preview.isEnabled()?1234:"..."}),nav:{navigation_target_url:p.configurationUi&&p.configurationUi.isEnabled()?"":this.navigationTargetUrl},search:{display_highlight_terms:[]}});n.setModel(h);this._aDoableObject=r.on("/core/home/sizeBehavior").do(function(e){h.setProperty("/sizeBehavior",e)});if(p.types){p.types.attachSetType(function(t){if(e.tileType!==t){var i=e.getView().getModel();if(t==="link"){i.setProperty("/mode",f.LineMode)}else{i.setProperty("/mode",i.getProperty("/config/display_mode")||f.ContentMode)}e.tileType=t}})}if(!this.tileType){this.tileType="tile"}if(p.search){t=n.getModel().getProperty("/config/display_search_keywords");s=t.split(/[, ]+/).filter(function(e,t){return e&&e!==""});if(u.display_title_text&&u.display_title_text!==""&&s.indexOf(u.display_title_text)===-1){s.push(u.display_title_text)}if(u.display_subtitle_text&&u.display_subtitle_text!==""&&s.indexOf(u.display_subtitle_text)===-1){s.push(u.display_subtitle_text)}if(u.display_info_text&&u.display_info_text!==""&&s.indexOf(u.display_info_text)===-1){s.push(u.display_info_text)}if(u.display_number_unit&&u.display_number_unit!==""&&s.indexOf(u.display_number_unit)===-1){s.push(u.display_number_unit)}p.search.setKeywords(s);p.search.attachHighlight(function(e){n.getModel().setProperty("/search/display_highlight_terms",e)})}if(p.bag&&p.bag.attachBagsUpdated){p.bag.attachBagsUpdated(function(e){if(e.indexOf("tileProperties")>-1){i._updateTilePropertiesTexts(n,p.bag.getBag("tileProperties"))}})}if(p.configuration&&p.configuration.attachConfigurationUpdated){p.configuration.attachConfigurationUpdated(function(e){if(e.indexOf("tileConfiguration")>-1){i._updateTileConfiguration(n,p.configuration.getParameterValueAsString("tileConfiguration"))}})}if(p.preview){p.preview.setTargetUrl(this.navigationTargetUrl);p.preview.setPreviewIcon(u.display_icon_url);p.preview.setPreviewTitle(u.display_title_text);if(p.preview.setPreviewSubtitle&&typeof p.preview.setPreviewSubtitle==="function"){p.preview.setPreviewSubtitle(u.display_subtitle_text)}}if(p.configurationUi.isEnabled()){p.configurationUi.setAsyncUiProvider(function(){return i.getConfigurationUi(n,"sap.ushell.components.tiles.applauncherdynamic.Configuration").then(function(t){p.configurationUi.attachCancel(e.onCancelConfiguration.bind(null,t));p.configurationUi.attachSave(e.onSaveConfiguration.bind(null,t));return t})});this.getView().getContent()[0].setTooltip(i.getResourceBundleModel().getResourceBundle().getText("edit_configuration.tooltip"))}else if(!p.preview||!p.preview.isEnabled()){if(!d){sap.ushell.Container.addRemoteSystemForServiceUrl(u.service_url)}this.bNeedsRefresh=true;this.iNrOfTimerRunning=0}if(p.refresh){p.refresh.attachRefresh(this.refreshHandler.bind(this))}if(p.visible){p.visible.attachVisible(this.visibleHandler.bind(this))}if(p.actions){var v=u.actions,y;if(v){y=v.slice()}else{y=[]}if(r.last("/core/shell/enablePersonalization")){var b=h.getProperty("/mode")===f.LineMode?"link":"tile",m=i.getTileSettingsAction(h,this.onSaveRuntimeSettings.bind(this),b);y.push(m)}p.actions.setActionsProvider(function(){return y})}sap.ui.getCore().getEventBus().subscribe("launchpad","sessionTimeout",this._clearRequest,this)},stopRequests:function(){if(this.oDataRequest){if(this.oDataRequest.abort()){this.bNeedsRefresh=true}}},_clearRequest:function(){this.stopRequests();clearTimeout(this.timer)},onExit:function(){if(this.oDataRequest){this._clearRequest();this.oDataRequest.destroy()}sap.ui.getCore().getEventBus().unsubscribe("launchpad","sessionTimeout",this._clearRequest,this);this._aDoableObject.off()},onPress:function(e){var t=this.getView(),i=t.getViewData(),a=t.getModel(),n=a.getProperty("/nav/navigation_target_url"),o=i.chip,l=a.getProperty("/config");if(e.getSource().getScope&&e.getSource().getScope()===c.Display){if(o.configurationUi.isEnabled()){o.configurationUi.display()}else if(n){if(n[0]==="#"){hasher.setHash(n)}else{var g=r.last("/core/shell/enableRecentActivity")&&r.last("/core/shell/enableRecentActivityLogging");if(g){var p={title:l.display_title_text,appType:d.URL,url:l.navigation_target_url,appId:l.navigation_target_url};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(p)}s.openURL(n,"_blank")}}}},onSaveRuntimeSettings:function(e){var t=this.getView(),i=t.getModel(),a=t.getViewData().chip,r=i.getProperty("/config"),s=e.getModel();r.display_title_text=s.getProperty("/title")||"";r.display_subtitle_text=s.getProperty("/subtitle")||"";r.display_info_text=s.getProperty("/info")||"";r.display_search_keywords=s.getProperty("/keywords")||"";var n=a.bag.getBag("tileProperties");n.setText("display_title_text",r.display_title_text);n.setText("display_subtitle_text",r.display_subtitle_text);n.setText("display_info_text",r.display_info_text);n.setText("display_search_keywords",r.display_search_keywords);function o(e){l.error(e,null,_)}n.save(function(){l.debug("property bag 'tileProperties' saved successfully");i.setProperty("/config",r);i.setProperty("/data/display_title_text",r.display_title_text);i.setProperty("/data/display_subtitle_text",r.display_subtitle_text);i.setProperty("/data/display_info_text",r.display_info_text);i.refresh()},o)},onSaveConfiguration:function(e){var t=new jQuery.Deferred,a=e.getModel(),r=a.getProperty("/tileModel"),s=e.getViewData().chip,n=i.tileActionsRows2TileActionsArray(a.getProperty("/config/tile_actions_rows")),g={display_icon_url:a.getProperty("/config/display_icon_url"),display_number_unit:a.getProperty("/config/display_number_unit"),service_url:a.getProperty("/config/service_url"),service_refresh_interval:a.getProperty("/config/service_refresh_interval"),navigation_use_semantic_object:a.getProperty("/config/navigation_use_semantic_object"),navigation_target_url:a.getProperty("/config/navigation_target_url"),navigation_semantic_object:jQuery.trim(a.getProperty("/config/navigation_semantic_object"))||"",navigation_semantic_action:jQuery.trim(a.getProperty("/config/navigation_semantic_action"))||"",navigation_semantic_parameters:jQuery.trim(a.getProperty("/config/navigation_semantic_parameters")),display_search_keywords:a.getProperty("/config/display_search_keywords")};var p=i.checkInputOnSaveConfig(e);if(!p){p=i.checkTileActions(e)}if(p){t.reject("mandatory_fields_missing");return t.promise()}if(g.navigation_use_semantic_object){g.navigation_target_url=i.getSemanticNavigationUrl(g);a.setProperty("/config/navigation_target_url",g.navigation_target_url)}var u=s.bag.getBag("tileProperties");u.setText("display_title_text",a.getProperty("/config/display_title_text"));u.setText("display_subtitle_text",a.getProperty("/config/display_subtitle_text"));u.setText("display_info_text",a.getProperty("/config/display_info_text"));u.setText("display_search_keywords",g.display_search_keywords);var c=s.bag.getBag("tileNavigationActions");i.populateTileNavigationActionsBag(c,n);function f(e,i){l.error(e,null,_);t.reject(e,i)}s.writeConfiguration.setParameterValues({tileConfiguration:JSON.stringify(g)},function(){var a=i.getAppLauncherConfig(s,false,false),n=i.getAppLauncherConfig(s,true,false),g=new o({config:a,tileModel:r});e.setModel(g);r.setData({data:n,nav:{navigation_target_url:""}},false);if(s.preview){s.preview.setTargetUrl(a.navigation_target_url);s.preview.setPreviewIcon(a.display_icon_url);s.preview.setPreviewTitle(a.display_title_text);if(s.preview.setPreviewSubtitle&&typeof s.preview.setPreviewSubtitle==="function"){s.preview.setPreviewSubtitle(a.display_subtitle_text)}}u.save(function(){l.debug("property bag 'tileProperties' saved successfully");if(s.title){s.title.setTitle(a.display_title_text,function(){t.resolve()},f)}else{t.resolve()}},f);c.save(function(){l.debug("property bag 'navigationProperties' saved successfully")},f)},f);return t.promise()},successHandlerFn:function(e){var t=this.getView();var a=t.getModel();var r=a.getProperty("/config");var s=a.getProperty("/config/navigation_target_url");var n=a.getProperty("/config/service_refresh_interval");var o=a.getProperty("/config/service_url");var g=t.getViewData();var p=g.chip;var u=p.url.getApplicationSystem();if(g.properties&&g.properties.info){if(typeof e==="object"){e.info=g.properties.info}}var c=i.getDataToDisplay(r,e);a.setProperty("/data",c);if(this.sConfigNavigationTargetUrlOld!==s){this.navigationTargetUrl=this.constructTargetUrlWithSapSystem(s,u);this.sConfigNavigationTargetUrlOld=this.navigationTargetUrl}a.setProperty("/nav/navigation_target_url",i.addParamsToUrl(this.navigationTargetUrl,c));if(n>0){n=Math.max(n,this.REFRESH_INTERVAL_MIN);l.info("Wait "+n+" seconds before calling "+o+" again",null,_);this.refeshAfterInterval(n)}},errorHandlerFn:function(e,t){var i=this.getView();var a=i.getModel();var r=a.getProperty("/config/service_url");var s=e&&e.message?e.message:e;if(e.statusText==="Abort"||e.aborted===true){l.info("Data request from service "+r+" was aborted",null,_)}else{if(e.response){s+=" - "+e.response.statusCode+" "+e.response.statusText}var n=t?l.warning:l.error;n("Failed to update data via service\n service URL: "+r+"\n "+s,null,_);this._setTileIntoErrorState()}},_setTileIntoErrorState:function(){var e=i.getResourceBundleModel().getResourceBundle();var t=this.getView().getModel();var a=t.getProperty("/config");t.setProperty("/data",i.getDataToDisplay(a,{number:"???",info:e.getText("dynamic_data.error"),infoState:"Critical"}))},onCancelConfiguration:function(e){var t=e.getViewData(),a=e.getModel(),r=a.getProperty("/tileModel"),s=t.chip,n=i.getAppLauncherConfig(s,false,false);a.setData({config:n,tileModel:r},false)},loadData:function(){var e=this.getView();var t=e.getViewData().chip;var i=e.getModel();var a=i.getProperty("/config/service_url");if(/;o=([;/?]|$)/.test(a)){a=t.url.addSystemToServiceUrl(a)}if(!a){l.error("No service URL given!",_);this._setTileIntoErrorState();return}if(!this.oDataRequest||this.oDataRequest.sUrl!==a){if(this.oDataRequest){this.oDataRequest.destroy()}this.sRequestUrl=a;this.oDataRequest=new g(a,this.successHandlerFn.bind(this),this.errorHandlerFn.bind(this))}else if(this.oDataRequest){this.oDataRequest.refresh()}},refreshTile:function(){var e=this.getView(),t=e.getViewData(),i=t.chip.visible.isVisible();if(i&&this.bNeedsRefresh){this.bNeedsRefresh=false;this.loadData()}},refeshAfterInterval:function(e){this.iNrOfTimerRunning++;this.timer=window.setTimeout(function(){this.iNrOfTimerRunning--;if(this.iNrOfTimerRunning===0){this.bNeedsRefresh=true;this.refreshTile()}}.bind(this),u.sanitizeTimeoutDelay(e*1e3))},refreshHandler:function(){this.bNeedsRefresh=true;this.refreshTile()},visibleHandler:function(e){if(e){this.refreshTile()}else{this.stopRequests()}},formatters:{leanURL:s.getLeanURL.bind(s)}})},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/applauncherdynamic/DynamicTile.view", ["sap/ui/core/mvc/View","sap/m/GenericTile","sap/m/TileContent","sap/m/library","sap/m/NumericContent","sap/ushell/components/tiles/applauncherdynamic/DynamicTile.controller"],function(t,e,a,i,n){"use strict";var r=i.ValueColor;sap.ui.jsview("sap.ushell.components.tiles.applauncherdynamic.DynamicTile",{getControllerName:function(){return"sap.ushell.components.tiles.applauncherdynamic.DynamicTile"},createContent:function(){this.setHeight("100%");this.setWidth("100%");return this.getTileControl()},getTileControl:function(){var t=this.getController();if(this.getContent().length===1){return this.getContent()[0]}return new e({mode:"{/mode}",header:"{/data/display_title_text}",subheader:"{/data/display_subtitle_text}",size:"Auto",sizeBehavior:"{/sizeBehavior}",wrappingType:"{/wrappingType}",url:{parts:["/targetURL","/nav/navigation_target_url"],formatter:t.formatters.leanURL},tileContent:[new a({size:"Auto",footer:"{/data/display_info_text}",footerColor:{path:"/data/display_info_state",formatter:function(t){if(t==="Positive"){t=r.Good}if(t==="Negative"){t=r.Error}if(!r[t]){t=r.Neutral}return t}},unit:"{/data/display_number_unit}",content:[new n({scale:"{/data/display_number_factor}",value:"{/data/display_number_value}",truncateValueTo:5,indicator:"{/data/display_state_arrow}",valueColor:{path:"/data/display_number_state",formatter:function(t){if(!t||t==="Neutral"||!r[t]){return r.None}return t}},icon:"{/data/display_icon_url}",width:"100%",withMargin:false})]})],press:[t.onPress,t]})},getMode:function(){return this.getModel().getProperty("/mode")}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncher/Component", ["sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent"],function(t,e){"use strict";return e.extend("sap.ushell.components.tiles.cdm.applauncher.Component",{metadata:{interfaces:["sap.ui.core.IAsyncContentCreation"]},createContent:function(){var e=this.getComponentData();var n=e.properties.tilePersonalization||{};var o=e.startupParameters;if(o&&o["sap-system"]){n["sap-system"]=o["sap-system"][0]}return t.create({viewName:"sap.ushell.components.tiles.cdm.applauncher.StaticTile",viewData:{properties:e.properties,configuration:n}}).then(function(t){this._oController=t.getController();t.getContent()[0].bindTileContent({path:"/properties",factory:this._oController._getTileContent.bind(this._oController)});return t}.bind(this))},tileSetVisualProperties:function(t){if(this._oController){this._oController.updatePropertiesHandler(t)}},tileRefresh:function(){},tileSetVisible:function(t){},tileSetEditMode:function(t){if(this._oController){this._oController.editModeHandler(t)}},exit:function(){this._oController=null}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncher/StaticTile.controller", ["sap/ushell/library","sap/ui/core/mvc/Controller","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/ui/model/json/JSONModel","sap/m/library","sap/base/Log","sap/ushell/utils/UrlParsing"],function(e,t,r,i,o,n,a,s){"use strict";var l=n.GenericTileScope;var p=n.GenericTileMode;var c=e.DisplayFormat;var g=e.AppType;return t.extend("sap.ushell.components.tiles.cdm.applauncher.StaticTile",{_aDoableObject:{},_getConfiguration:function(){var e=this.getView().getViewData();e.properties.sizeBehavior=r.last("/core/home/sizeBehavior");e.properties.wrappingType=r.last("/core/home/wrappingType");return e},onInit:function(){var e=this.getView();var t=new o;t.setData(this._getConfiguration());e.setModel(t);this._aDoableObject=r.on("/core/home/sizeBehavior").do(function(e){t.setProperty("/properties/sizeBehavior",e)});var i=this.getView().getViewData();var n=i.properties;var s=i.properties.contentProviderId;n.mode=n.mode||(n.icon?"ContentMode":"HeaderMode");if(n.displayFormat===c.Compact&&n.title&&n.targetURL){t.setProperty("/properties/mode",p.LineMode)}switch(n.displayFormat){case c.Flat:t.setProperty("/properties/frameType","OneByHalf");break;case c.FlatWide:t.setProperty("/properties/frameType","TwoByHalf");break;case c.StandardWide:t.setProperty("/properties/frameType","TwoByOne");break;default:{t.setProperty("/properties/frameType","OneByOne")}}if(r.last("/core/contentProviders/providerInfo/show")){sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(e){return e.getSystemContext(s)}).then(function(e){t.setProperty("/properties/contentProviderLabel",e.label)}).catch(function(e){a.error("StaticTile.controller threw an error:",e)})}},onExit:function(){this._aDoableObject.off()},editModeHandler:function(e){var t=e?l.ActionMore:l.Display;this.getView().getModel().setProperty("/properties/scope",t)},onPress:function(e){var t=this.getView().getViewData().properties;if(e.getSource().getScope&&e.getSource().getScope()===l.Display){var o=this._createTargetUrl();if(!o){return}if(o[0]==="#"){hasher.setHash(o)}else{var n=r.last("/core/shell/enableRecentActivity")&&r.last("/core/shell/enableRecentActivityLogging");if(n){var a={title:t.title,appType:g.URL,url:t.targetURL,appId:t.targetURL};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(a)}i.openURL(o,"_blank")}}},updatePropertiesHandler:function(e){var t=this.getView().getContent()[0],r=t.getTileContent()[0];if(typeof e.title!=="undefined"){t.setHeader(e.title)}if(typeof e.subtitle!=="undefined"){t.setSubheader(e.subtitle)}if(typeof e.icon!=="undefined"){r.getContent().setSrc(e.icon)}if(typeof e.info!=="undefined"){r.setFooter(e.info)}},_createTargetUrl:function(){var e=this.getView().getViewData().properties.targetURL;var t=this.getView().getViewData().configuration["sap-system"];var r;if(e&&t){if(s.isIntentUrl(e)){r=s.parseShellHash(e);if(!r.params){r.params={}}r.params["sap-system"]=t;e="#"+s.constructShellHash(r)}else{e+=(e.indexOf("?")<0?"?":"&")+"sap-system="+t}}return e},_getLeanUrl:function(){return i.getLeanURL(this._createTargetUrl())},_getTileContent:function(e,t){var r=t.getPath().split("/");r.pop();var i=t.getProperty(r.join("/"));if(i!==this.oLastBindingObject||this.oTileContent&&this.oTileContent.bIsDestroyed){this.oLastBindingObject=i;this.oTileContent=this.getView().byId(i.icon?"imageTileContent":"standardTileContent").clone()}return this.oTileContent},_getCurrentProperties:function(){var e=this.getView().getContent()[0],t=e.getTileContent()[0],i=r.last("/core/home/sizeBehavior");return{title:e.getHeader(),subtitle:e.getSubheader(),info:t.getFooter(),icon:t.getContent().getSrc(),mode:e.getMode(),sizeBehavior:i}}})},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncher/StaticTile.view", ["sap/ui/core/mvc/View","sap/m/GenericTile","sap/m/ImageContent","sap/m/TileContent"],function(e,t,r,i){"use strict";return e.extend("sap.ushell.components.tiles.cdm.applauncher.StaticTile",{getControllerName:function(){return"sap.ushell.components.tiles.cdm.applauncher.StaticTile"},createContent:function(e){this.setHeight("100%");this.setWidth("100%");if(this.getContent().length===1){return this.getContent()[0]}return new t({mode:"{/properties/mode}",header:"{/properties/title}",scope:"{/properties/scope}",subheader:"{/properties/subtitle}",size:"Auto",sizeBehavior:"{/properties/sizeBehavior}",frameType:"{/properties/frameType}",wrappingType:"{/properties/wrappingType}",url:{path:"/properties/targetURL",formatter:e._getLeanUrl.bind(e)},tileContent:new i({size:"Auto",footer:"{/properties/info}",content:new r({src:"{/properties/icon}"})}),press:[e.onPress,e],additionalTooltip:"{/properties/contentProviderLabel}"})}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncherdynamic/Component", ["sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent"],function(e,t){"use strict";return t.extend("sap.ushell.components.tiles.cdm.applauncherdynamic.Component",{metadata:{interfaces:["sap.ui.core.IAsyncContentCreation"]},createContent:function(){var t=this.getComponentData();var r=t.properties||{};var i=r.tilePersonalization||{};var s=r.indicatorDataSource;if(s&&s.path){i.serviceUrl=s.path;i.serviceRefreshInterval=s.refresh}var o=t.startupParameters;if(o&&o["sap-system"]&&o["sap-system"][0]){i["sap-system"]=o["sap-system"][0]}if(i.serviceUrl&&i.serviceUrl.charAt(0)!=="/"&&r.dataSource&&r.dataSource.uri){var n=r.dataSource.uri;if(i["sap-system"]){if(n.charAt(n.length-1)==="/"){n=n.slice(0,n.length-1)}n+=";o="+i["sap-system"]}if(n.charAt(n.length-1)!=="/"){n+="/"}n+=i.serviceUrl;i.serviceUrl=n}return e.create({viewName:"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile",viewData:{properties:r,configuration:i}}).then(function(e){this._oController=e.getController();this._oController.visibleHandler(this.bIsVisible);return e}.bind(this))},tileSetVisualProperties:function(e){if(this._oController){this._oController.updateVisualPropertiesHandler(e)}},tileRefresh:function(){if(this._oController){this._oController.refreshHandler()}},tileSetVisible:function(e){if(this._oController){this._oController.visibleHandler(e)}else{this.bIsVisible=e}},tileSetEditMode:function(e){if(this._oController){this._oController.editModeHandler(e)}},exit:function(){this._oController=null}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncherdynamic/DynamicTile.controller", ["sap/ui/core/mvc/Controller","sap/ushell/components/tiles/utils","sap/ui/core/format/NumberFormat","sap/ushell/Config","sap/ushell/utils/WindowUtils","sap/ui/model/json/JSONModel","sap/m/library","sap/ushell/library","sap/base/Log","sap/base/util/merge","sap/ushell/utils/DynamicTileRequest","sap/ushell/utils","sap/ushell/utils/UrlParsing"],function(e,t,r,i,a,s,o,n,l,u,f,p,d){"use strict";var c=o.GenericTileScope;var m=o.DeviationIndicator;var h=o.ValueColor;var g=o.FrameType;var v=n.DisplayFormat;var b=n.AppType;var y="sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile";var R="<RESET>";var _={title:"",subtitle:"",icon:"",info:"",infoState:h.Neutral,targetURL:"",number_value:"...",number_unit:"",number_factor:"",number_state_arrow:m.None,number_value_state:h.Neutral};return e.extend(y,{_aDoableObject:{},timer:null,iLastTimeoutStart:0,oDataRequest:null,bShouldNotRefreshDataAfterInit:false,_getConfiguration:function(e){var t={};var r;t.configuration=e.configuration;t.properties=e.properties;t.properties.info=t.properties.info||_.info;t.properties.number_value=_.number_value;t.properties.number_value_state=_.number_value_state;t.properties.number_state_arrow=_.number_state_arrow;t.properties.number_factor=_.number_factor;t.properties.number_unit=t.properties.numberUnit||_.number_unit;var a=t.configuration["sap-system"];var s=t.properties.targetURL;if(s&&a){if(d.isIntentUrl(s)){r=d.parseShellHash(s);if(!r.params){r.params={}}r.params["sap-system"]=a;s="#"+d.constructShellHash(r)}else{s+=(s.indexOf("?")<0?"?":"&")+"sap-system="+a}t.properties.targetURL=s}t.properties.sizeBehavior=i.last("/core/home/sizeBehavior");t.properties.wrappingType=i.last("/core/home/wrappingType");switch(t.properties.displayFormat){case v.Flat:t.properties.frameType=g.OneByHalf;break;case v.FlatWide:t.properties.frameType=g.TwoByHalf;break;case v.StandardWide:t.properties.frameType=g.TwoByOne;break;default:{t.properties.frameType=g.OneByOne}}t.originalProperties=u({},e.properties);return t},onInit:function(){var e=this.getView();var t=new s;var r=e.getViewData();var a=r.properties;t.setData(this._getConfiguration(r));var o=a.contentProviderId;if(i.last("/core/contentProviders/providerInfo/show")){this.oSystemContextPromise=sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(e){return e.getSystemContext(o)}).then(function(e){t.setProperty("/properties/contentProviderLabel",e.label)}).catch(function(e){l.error("DynamicTile.controller threw an error:",e)})}e.setModel(t);this._aDoableObject=i.on("/core/home/sizeBehavior").do(function(e){t.setProperty("/properties/sizeBehavior",e)})},refreshHandler:function(){this.loadData(0,true)},visibleHandler:function(e){if(e){if(!this.oDataRequest||this.timer===null){this.initRequestInterval()}}else{this.stopRequests()}},editModeHandler:function(e){var t=e?c.ActionMore:c.Display;this.getView().getModel().setProperty("/properties/scope",t)},updateVisualPropertiesHandler:function(e){var t=this.getView().getModel().getProperty("/properties");var r=this.getView().getModel().getProperty("/originalProperties");if(p.isDefined(e.title)){t.title=e.title;r.title=e.title}if(p.isDefined(e.subtitle)){t.subtitle=e.subtitle;r.subtitle=e.subtitle}if(p.isDefined(e.icon)){t.icon=e.icon;r.icon=e.icon}if(p.isDefined(e.targetURL)){t.targetURL=e.targetURL;r.targetURL=e.targetURL}if(p.isDefined(e.info)){t.info=e.info;r.info=e.info}this.getView().getModel().refresh()},stopRequests:function(){if(this.timer){clearTimeout(this.timer);this.timer=null}if(this.oDataRequest){this.oDataRequest.abort()}},onPress:function(e){if(e.getSource().getScope&&e.getSource().getScope()===c.Display){var t=this.getView().getModel().getProperty("/properties/targetURL");var r=this.getView().getModel().getProperty("/properties/title");if(!t){return}else if(t[0]==="#"){hasher.setHash(t)}else{var s=i.last("/core/shell/enableRecentActivity")&&i.last("/core/shell/enableRecentActivityLogging");if(s){var o={title:r,appType:b.URL,url:t,appId:t};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(o)}a.openURL(t,"_blank")}}},initRequestInterval:function(){var e=this.getView().getModel();var t=e.getProperty("/configuration/serviceRefreshInterval");if(!t||t==="0"){t=0;if(this.oDataRequest){this.bShouldNotRefreshDataAfterInit=true}}else if(t<10){var r=e.getProperty("/configuration/serviceUrl");l.warning("Refresh Interval "+t+" seconds for service URL "+r+" is less than 10 seconds, which is not supported. Increased to 10 seconds automatically.",null,y);t=10}this.loadData(t,false)},loadData:function(e,t){if(!t&&this.bShouldNotRefreshDataAfterInit){return}var r=this.getView().getModel();var i=r.getProperty("/configuration/serviceUrl");if(!i){l.error("No service URL given!",y);this._setTileIntoErrorState();return}var a=e*1e3-(Date.now()-this.iLastTimeoutStart);if(!t&&!this.timer&&a>0){l.info("Started timeout to call "+i+" again in "+Math.ceil(a/1e3)+" seconds",null,y);this.timer=setTimeout(this.loadData.bind(this,e,false),p.sanitizeTimeoutDelay(a));return}if(!this.oDataRequest||this.oDataRequest.sUrl!==i){if(this.oDataRequest){this.oDataRequest.destroy()}var s=r.getProperty("/properties/contentProviderId");this.oDataRequest=new f(i,this.successHandlerFn.bind(this),this.errorHandlerFn.bind(this),s)}else if(this.oDataRequest){this.oDataRequest.refresh()}if(e>0){l.info("Started timeout to call "+i+" again in "+e+" seconds",null,y);this.iLastTimeoutStart=Date.now();this.timer=setTimeout(this.loadData.bind(this,e,false),p.sanitizeTimeoutDelay(e*1e3))}},successHandlerFn:function(e){this.updatePropertiesHandler(e)},errorHandlerFn:function(e){var t=e&&e.message?e.message:e;var r=this.getView().getModel().getProperty("/configuration/serviceUrl");if(e.statusText==="Abort"||e.aborted===true){l.info("Data request from service "+r+" was aborted",null,y);this.bShouldNotRefreshDataAfterInit=false}else{if(e.response){t+=" - "+e.response.statusCode+" "+e.response.statusText}l.error("Failed to update data via service "+r+": "+t,null,y);this._setTileIntoErrorState()}},_setTileIntoErrorState:function(){var e=t.getResourceBundleModel().getResourceBundle();this.updatePropertiesHandler({number:"???",info:e.getText("dynamic_data.error")})},_normalizeNumber:function(e,t,i,a){var s;if(isNaN(e)){s=e}else{var o=r.getFloatInstance({maxFractionDigits:a});if(!i){var n=Math.abs(e);if(n>=1e9){i="B";e/=1e9}else if(n>=1e6){i="M";e/=1e6}else if(n>=1e3){i="K";e/=1e3}}s=o.format(e)}var l=s;var u=l[t-1];t-=u==="."||u===","?1:0;l=l.substring(0,t);return{displayNumber:l,numberFactor:i}},updatePropertiesHandler:function(e){var t=this.getView().getModel().getProperty("/originalProperties");var a=this.getView().getModel().getProperty("/properties");var s=[{dataField:"title",modelField:"title"},{dataField:"subtitle",modelField:"subtitle"},{dataField:"icon",modelField:"icon"},{dataField:"info",modelField:"info"},{dataField:"infoState",modelField:"infoState"},{dataField:"targetURL",modelField:"targetURL"},{dataField:"stateArrow",modelField:"number_state_arrow"},{dataField:"numberState",modelField:"number_value_state"},{dataField:"numberUnit",modelField:"number_unit"},{dataField:"numberFactor",modelField:"number_factor"}];s.forEach(function(r){var i=e[r.dataField];var s=!i;var o=_[r.modelField];if(s){a[r.modelField]=t[r.modelField]||o}else if(this._isResetValue(i)){a[r.modelField]=o}else{a[r.modelField]=i}}.bind(this));a.number_value=!isNaN(e.number)?e.number:_.number_value;a.number_digits=e.numberDigits>=0?e.numberDigits:4;var o=[];if(e.targetParams){o.push(e.targetParams)}if(e.results){var n;var l;var u=0;e.results.forEach(function(e){l=e.number||0;if(typeof l==="string"){l=parseInt(l,10)}u+=l;n=e.targetParams;if(n){o.push(n)}});a.number_value=u}if(o.length>0){var f=a.targetURL.indexOf("?")!==-1?"&":"?";a.targetURL+=f+o.join("&")}if(!isNaN(e.number)){if(typeof e.number==="string"){e.number=e.number.trim()}var p=this._shouldProcessDigits(e.number,e.numberDigits);var d=a.icon?4:5;if(e.number&&e.number.toString().length>=d||p){var c=this._normalizeNumber(e.number,d,e.numberFactor,e.numberDigits);a.number_factor=c.numberFactor;a.number_value=c.displayNumber}else{var m=r.getFloatInstance({maxFractionDigits:d});a.number_value=m.format(e.number)}}a.sizeBehavior=i.last("/core/home/sizeBehavior");this.getView().getModel().refresh()},_shouldProcessDigits:function(e,t){var r;e=typeof e!=="string"?e.toString():e;if(e.indexOf(".")!==-1){r=e.split(".")[1].length;if(r>t){return true}}return false},_getLeanUrl:function(e){return a.getLeanURL(e)},_formatValueColor:function(e){if(e==="Positive"){return h.Good}if(e==="Negative"){return h.Error}return h[e]||h.Neutral},_getValueColor:function(e){var t=this._formatValueColor(e);if(t===h.Neutral){return h.None}return t},_isResetValue:function(e){if(typeof e!=="string"){return false}return e===R},onExit:function(){if(this.oDataRequest){this.stopRequests();this.oDataRequest.destroy()}this._aDoableObject.off()}})},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/cdm/applauncherdynamic/DynamicTile.view", ["sap/ui/core/mvc/View","sap/m/GenericTile","sap/m/TileContent","sap/m/NumericContent","sap/m/library"],function(e,t,r,i,o){"use strict";var n=o.ValueColor;return e.extend("sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile",{getControllerName:function(){return"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile"},createContent:function(e){this.setHeight("100%");this.setWidth("100%");if(this.getContent().length===1){return this.getContent()[0]}return new t({size:"Auto",header:"{/properties/title}",scope:"{/properties/scope}",subheader:"{/properties/subtitle}",sizeBehavior:"{/properties/sizeBehavior}",frameType:"{/properties/frameType}",wrappingType:"{/properties/wrappingType}",url:{parts:["/properties/targetURL"],formatter:e.formatters&&e.formatters.leanURL},tileContent:new r({size:"Auto",footer:"{/properties/info}",footerColor:{path:"/properties/infoState",formatter:function(e){if(e==="Positive"){e=n.Good}if(e==="Negative"){e=n.Error}if(!n[e]){e=n.Neutral}return e}},unit:"{/properties/number_unit}",content:new i({truncateValueTo:5,scale:"{/properties/number_factor}",value:"{/properties/number_value}",indicator:"{/properties/number_state_arrow}",valueColor:{path:"/properties/number_value_state",formatter:function(e){if(!e||e==="Neutral"||!n[e]){return n.None}return e}},icon:"{/properties/icon}",withMargin:false,width:"100%"})}),additionalTooltip:"{/properties/contentProviderLabel}",press:[e.onPress,e]})}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/utils", ["sap/ushell/services/_ClientSideTargetResolution/PrelaunchOperations","sap/ushell/resources","sap/ui/thirdparty/datajs","sap/ui/core/mvc/View","sap/ui/model/json/JSONModel","sap/ui/core/library","sap/m/library","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/IconPool","sap/ui/core/Icon","sap/m/SelectDialog","sap/m/StandardListItem","sap/m/Text","sap/ui/core/CustomData","sap/ui/core/Item","sap/m/Label","sap/ui/model/Sorter","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/core/format/NumberFormat"],function(e,t,a,i,n,r,s,l,o,u,p,c,g,d,_,f,b,y,jQuery,I,v){"use strict";var m=r.MessageType;var V=r.ValueState;var h=r.mvc.ViewType;var w=s.ButtonType;var S={};S.isInitial=function(e){return e==="App Launcher – Static"||e==="App Launcher – Dynamic"||e==="Target Mapping"};S.getResourceBundleModel=function(){return t.i18nModel};S.getEmptyRowObj=function(e){return{name:"",mandatory:false,value:"",isRegularExpression:false,defaultValue:"",valEnabled:false||!e,defValEnabled:true,editable:e}};S.getEmptyTileActionsRowObj=function(e){var t=S.getResourceBundleModel().getResourceBundle();return{menu_title:"",target_type:t.getText("configuration.tile_actions.table.target_type.url"),navigation_target:"",action:"",icon:"",isTargetTypeIntent:false,editable:e}};S.getTileNavigationActionsRows=function(e,t){var a=[],i=[];i=this.getTileNavigationActions(e);if(i.length){for(var n=0;n<i.length;n++){a.push(x(i[n],t))}}else{a=[this.getEmptyTileActionsRowObj(t)]}return a};S.getTileNavigationActions=function(e){var t=[],a="";var i=e.bag.getBag("tileNavigationActions");if(i.getPropertyNames().indexOf("tile_navigation_actions")>=0){t=JSON.parse(i.getProperty("tile_navigation_actions"));for(var n=0;n<t.length;n++){if(t[n].text){if(i.getTextNames().indexOf("action_tile_"+(n+1))>=0){a=i.getText("action_tile_"+(n+1))}t[n].text=a}}}return t};var x=function(e,t){var a={},i=S.getResourceBundleModel().getResourceBundle();a.menu_title=e.text;a.icon=e.icon;if(e.targetURL.charAt(0)==="#"){a.target_type=i.getText("configuration.tile_actions.table.target_type.intent");var n=e.targetURL.split("-");a.navigation_target=n[0].substring(1,n[0].length);a.action=n[1];a.isTargetTypeIntent=true}else{a.target_type=i.getText("configuration.tile_actions.table.target_type.url");a.navigation_target=e.targetURL;a.action="";a.isTargetTypeIntent=false}a.editable=t;return a};S.tileActionsRows2TileActionsArray=function(e){var t=[];for(var a=0;a<e.length;a++){if(e[a].menu_title){t.push(T(e[a]))}}return t};var T=function(e){var t={};t.text=e.menu_title;t.icon=e.icon;if(e.action){t.targetURL="#"+e.navigation_target+"-"+e.action}else{t.targetURL=e.navigation_target}return t};S.populateTileNavigationActionsBag=function(e,t){e.setProperty("tile_navigation_actions",JSON.stringify(t));for(var a=0;a<t.length;a++){var i=t[a].text;e.setText("action_tile_"+(a+1),i)}};S.getDefaultFormFactors=function(){return{appDefault:false,manual:{desktop:true,tablet:true,phone:true},defaultParam:true}};S.buildFormFactorsObject=function(e){return{appDefault:e.getProperty("/config/appFormFactor"),manual:{desktop:e.getProperty("/config/desktopChecked"),tablet:e.getProperty("/config/tabletChecked"),phone:e.getProperty("/config/phoneChecked")}}};S.tableHasDuplicateParameterNames=function(e){var t={};for(var a=0;a<e.length;a++){var i=e[a].name;if(i!==""){if(t[i]){return true}t[i]=true}}return false};S.tableHasInvalidSapPrelaunchOperationValue=function(t){for(var a=0;a<t.length;a++){if(t[a].name==="sap-prelaunch-operations"){if(e.parseAndValidateOperations(t[a].defaultValue)===null){return false}break}}return true};S.getMappingSignatureString=function(e,t){var a="";for(var i=0;i<e.length;i++){if(e[i].name){a+=P(e[i])+"&"}}return t?a+"*=*":a.substring(0,a.length-1)};var P=function(e){var t="";if(e.mandatory){if(e.isRegularExpression){t="{"+e.name+"="+encodeURIComponent(e.value)+"}"}else{t=e.name+"="+encodeURIComponent(e.value)}}else{t="["+e.name+"="+encodeURIComponent(e.defaultValue)+"]"}return t};S.getMappingSignatureTableData=function(e,t){var a=[];var i=e.split("&");for(var n=0;n<i.length;n++){var r=i[n];if(r!=="*=*"){a.push(D(i[n],t))}}return a};var D=function(e,t){var a={};if(e.charAt(0)==="["){a.mandatory=false;a.isRegularExpression=false;a.value="";e=e.substring(1,e.length-1);a.name=e.substring(0,e.indexOf("="));a.defaultValue=decodeURIComponent(e.substring(e.indexOf("=")+1))}else{a.mandatory=true;a.defaultValue="";if(e.charAt(0)==="{"){a.isRegularExpression=true;e=e.substring(1,e.length-1)}else{a.isRegularExpression=false}a.name=e.substring(0,e.indexOf("="));a.value=decodeURIComponent(e.substring(e.indexOf("=")+1))}a.editable=t;if(t){a.valEnabled=a.mandatory;a.defValEnabled=!a.mandatory}else{a.valEnabled=true;a.defValEnabled=true}return a};S.getAllowUnknownParametersValue=function(e){if(e&&e.substring(e.length-3,e.length)==="*=*"){return true}return false};S.getMappingSignature=function(e,t){var a=t?"allowed":"ignored";var i=new RegExp("%%UserDefault[.].+%%");var n=[];var r={parameters:{},additional_parameters:a};e.forEach(function(e){r.parameters[e.name]={required:e.mandatory,rename_to:e.rename_to};if(e.defaultValue){n=i.exec(e.defaultValue);if(n){e.defaultValue=n[0]}r.parameters[e.name].defaultValue={value:e.defaultValue}}if(e.value){n=i.exec(e.value);if(n){e.value=n[0]}r.parameters[e.name].filter={value:e.value};if(e.isRegularExpression){r.parameters[e.name].filter.format="regexp"}}});return r};S.getSignatureTableData=function(e,t){var a=[];var i={};var n={};var r=e.parameters;for(var s in r){n=r[s];i={};i.editable=t;i.name=s;i.mandatory=n.required;if(n.rename_to){i.rename_to=n.rename_to}else{i.rename_to=n.renameTo}if(t){i.valEnabled=i.mandatory;i.defValEnabled=!i.mandatory}else{i.valEnabled=true;i.defValEnabled=true}if(n.filter){i.value=n.filter.value;if(n.filter.format&&n.filter.format==="regexp"){i.isRegularExpression=true}}if(n.defaultValue){i.defaultValue=n.defaultValue.value}a.push(i)}return a};S.getTranslatedTitle=function(e){if(e.bag){var t=e.bag.getBag("tileProperties");if(t.getTextNames().indexOf("display_title_text")>=0){return t.getText("display_title_text")}}if(e.title){return e.title.getTitle()}if(e.preview){return e.preview.getTitle()}return""};S.getTranslatedSubtitle=function(e,t){if(e.bag){var a=e.bag.getBag("tileProperties");if(a.getTextNames().indexOf("display_subtitle_text")>=0){return a.getText("display_subtitle_text")}}if(typeof t.display_subtitle_text==="string"){return t.display_subtitle_text}if(e.preview&&e.preview.getDescription&&e.preview.getDescription()){return e.preview.getDescription()}return""};S.getTranslatedProperty=function(e,t,a){if(e.bag){var i=e.bag.getBag("tileProperties");if(i.getTextNames().indexOf(a)>=0){return i.getText(a)}}return t[a]};S.getActionConfiguration=function(e,t){var a=e.configuration.getParameterValueAsString("tileConfiguration");var i=JSON.parse(a||"{}"),n;if(typeof t==="undefined"){t=e.configurationUi.isEnabled()}if(t){n=S.getResourceBundleModel().getResourceBundle()}i.semantic_object=i.semantic_object||(t?"["+n.getText("configuration.semantic_object")+"]":"");i.semantic_action=i.semantic_action||(t?"["+n.getText("configuration.semantic_action")+"]":"");i.navigation_provider=i.navigation_provider||"";i.navigation_provider_role=i.navigation_provider_role||"";i.navigation_provider_instance=i.navigation_provider_instance||"";i.target_application_id=i.target_application_id||"";i.target_application_alias=i.target_application_alias||"";i.display_info_text=i.display_info_text||"";i.editable=true;if(e.configurationUi&&e.configurationUi.isReadOnly){if(e.configurationUi.isReadOnly()){i.editable=false}}return i};S.getViewConfiguration=function(e){var t=e.getViewData();var a=t.chip;var i=S.getAppLauncherConfig(a,true,true);return i};S.getConfigurationUi=function(e,t){var a,r,s,l,o;var u=e.getViewData();var p=S.getViewConfiguration(e);var c=new n({config:p,tileModel:e.getModel()});return i.create({type:h.XML,viewData:u,viewName:t}).then(function(t){t.setModel(c);a=t.byId("navigation_semantic_objectInput")||t.byId("semantic_objectInput");if(a){a.getModel().setProperty("/enabled",p.navigation_use_semantic_object);a.getModel().setProperty("/value",p.semantic_object||p.navigation_semantic_object)}r=t.byId("navigation_provider_roleInput");if(r){r.getModel().setProperty("/value",p.navigation_provider_role)}s=t.byId("navigation_provider_instanceInput");if(s){s.getModel().setProperty("/value",p.navigation_provider_instance)}l=t.byId("target_application_aliasInput");if(l){l.getModel().setProperty("/value",p.target_application_alias)}o=t.byId("targetTypeInput");if(o){if(!t.getModel().getProperty("/config/transaction")){t.getModel().setProperty("/config/transaction",{})}if(!t.getModel().getProperty("/config/web_dynpro")){t.getModel().setProperty("/config/web_dynpro",{})}if(e.getModel().getProperty("/config/navigation_provider")==="LPD"){S.displayLpdCustApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="WCF"){o.setSelectedKey("WCF");S.displayWCFApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="SAPUI5"||e.getModel().getProperty("/config/navigation_provider")===""){o.setSelectedKey("SAPUI5");S.displaySapui5ApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="TR"){S.displayTransactionApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="WDA"){S.displayWebDynproApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="URL"){S.displayURLApplicationTypeFields(t)}else if(e.getModel().getProperty("/config/navigation_provider")==="URLT"){S.displayURLTApplicationTypeFields(t);c.setProperty("/config/editable",false);c.setProperty("/config/manualFormFactor",false)}}return t})};S._updateTilePropertiesTexts=function(e,t){var a=t.getTextNames(),i=e.getModel();a.forEach(function(e){i.setProperty("/data/"+e,t.getText(e));i.setProperty("/config/"+e,t.getText(e))})};S._updateTileConfiguration=function(e,t){var a=e.getModel(),i=JSON.parse(t),n;Object.keys(i).forEach(function(e){n=i[e];a.setProperty("/data/"+e,n);a.setProperty("/config/"+e,n);if(e==="navigation_target_url"){a.setProperty("/nav/"+e,n)}})};S.aData=[];S.aActionData=[];S.aRoleData=[];S.aAliasData=[];S.objectSelectDoSearch=function(e){var t=[],a=e.getParameter("value"),i,n,r;if(a!==undefined){i=e.getParameter("itemsBinding");n=new l("name",o.Contains,a);r=new l("obj",o.Contains,a);t.push(r);t.push(n);i.filter(new l(t,false))}};S.actionSelectDoSearch=function(e){var t=[],a=e.getParameter("value"),i,n;if(a!==undefined){i=e.getParameter("itemsBinding");n=new l("text",o.Contains,a);t.push(n);i.filter(new l(t,false))}};S.roleSelectDoSearch=function(e){var t=[],a=e.getParameter("value"),i,n,r;if(a!==undefined){i=e.getParameter("itemsBinding");n=new l("role",o.Contains,a);r=new l("instance",o.Contains,a);t.push(n);t.push(r);i.filter(new l(t,false))}};S.instanceSelectDoSearch=function(e){var t=[],a=e.getParameter("value"),i,n,r,s,u;i=e.getSource().getCustomData();n=i[0].getValue();if(a!==undefined){r=e.getParameter("itemsBinding");if(a!==""){u=new l("instance",o.Contains,a);t.push(u)}if(n!==""){s=new l("role",o.EQ,n);t.push(s)}if(t.length>0){r.filter(new l(t,true))}}};S.instanceSuggest=function(e,t){var a=e.getView(),i=[],n=t.getParameter("value"),r,s,u,p,c;r=a.byId("navigation_provider_roleInput");s=r.getValue();n=t.getParameter("suggestValue");if(n!==""){c=new l("instance",o.Contains,n);i.push(c)}if(s!==""){p=new l("role",o.EQ,s);i.push(p)}if(i.length>0){u=t.oSource.getBinding("suggestionItems");u.filter(new l(i,true))}};S.aliasSuggest=function(e,t){var a=e.getView(),i=[],n=t.getParameter("value"),r,s,u,p,c;r=a.byId("navigation_provider_instanceInput");s=r.getValue();n=t.getParameter("suggestValue");if(n!==""){c=new l("alias",o.Contains,n);i.push(c)}if(s!==""){p=new l("instance",o.EQ,s);i.push(p)}if(i.length>0){u=t.oSource.getBinding("suggestionItems");u.filter(new l(i,true))}};S.aliasSelectDoSearch=function(e){var t=[],a=e.getParameter("value"),i,n,r,s,u;i=e.getSource().getCustomData();n=i[0].getValue();if(a!==undefined){r=e.getParameter("itemsBinding");s=new l("instance",o.EQ,n);if(a!==""){u=new l("alias",o.Contains,a);t.push(u)}t.push(s);r.filter(new l(t,true))}};S.objectSelectUpdateDialog=function(e,t){var a=[],i=e.getBinding("items"),n;if(t!==undefined){n=new l("name",o.Contains,t);a.push(n);i.filter(a)}};S.actionSelectUpdateDialog=function(e,t){var a=[],i=e.getBinding("items"),n;if(t!==undefined){n=new l("text",o.Contains,t);a.push(n);i.filter(a)}};S.roleSelectUpdateDialog=function(e,t){var a=[],i=e.getBinding("items"),n;if(t!==undefined){n=new l("role",o.Contains,t);a.push(n);i.filter(a)}};S.instanceSelectUpdateDialog=function(e,t){var a=[],i,n=e.getBinding("items"),r,s,u;i=e.getCustomData();s=i[0].getValue();if(t!==undefined){r=new l("instance",o.Contains,t);a.push(r)}if(s!==""){u=new l("role",o.EQ,s);a.push(u)}if(a.length>0){n.filter(a,true)}};S.aliasSelectUpdateDialog=function(e,t){var a=[],i,n,r=e.getBinding("items"),s,u;i=e.getCustomData();n=i[0].getValue();if(t!==undefined){u=new l("alias",o.Contains,t);a.push(u)}if(n!==""){s=new l("instance",o.EQ,n);a.push(s)}if(a.length>0){r.filter(a,true)}};S.sSelectedColor=(jQuery(".sapMStdTileIconDiv").css("color")||"#007cc0").split(" ").join("");S.sDeselectedColor=(jQuery(".sapMLabel:not(.sapFioriDropZoneText )").css("color")||"#666666").split(" ").join("");S.iconSelect=function(e,t){e.setColor(t?S.sSelectedColor:S.sDeselectedColor);e.setActiveColor(t?S.sDeselectedColor:S.sSelectedColor)};S.onSelectIcon=function(e,t,a,i){var n=e.getView().getModel(),r;if(t){r=n.getProperty("/config/tile_actions_selected_icon")}else{r=n.getProperty("/config/selected_icon")}if(r){S.iconSelect(r,false)}r=i.getSource();S.iconSelect(r,true);n.setProperty("/config/ok.enabled",true);if(t){n.setProperty("/config/tile_actions_selected_icon",r)}else{n.setProperty("/config/selected_icon",r)}e.byId("selectIconDialog").setTitle(r.getSrc())};S.onSelectIconClose=function(e){e.byId("selectIconDialog").close()};S.onSelectIconOk=function(e,t){var a=e.getModel().getProperty("/config/selected_icon");if(!t){e.getModel().setProperty("/config/display_icon_url",a.getSrc());e.byId("iconInput").setValueState(V.None)}else{a=e.getModel().getProperty("/config/tile_actions_selected_icon");if(a){t.setValue(a.getSrc());t.setValueState(V.None)}}S.onSelectIconClose(e)};S.iconSelectOnValueHelpRequest=function(e,t,a){var i=e.getView().getModel();var n=e.getView().byId("icons");var r=u.getIconCollectionNames();var s=e.getView().byId("selectIconDialog");var l=e.getView().byId("ok");var o,c,g,d,_,f,b,y=false;n.destroyContent();if(a){g=sap.ui.getCore().byId(t.getParameter("id"));c=g.getValue()}else{c=i.getProperty("/config/display_icon_url")}l.attachEventOnce("press",function(){S.onSelectIconOk(e.getView(),g)});r.sort();r=jQuery.grep(r,function(e){if(e==="BusinessSuiteInAppSymbols"){y=true;return false}return true});if(y){r.push("BusinessSuiteInAppSymbols")}for(_=0;_<r.length;_+=1){d=u.getIconNames(r[_]);d.sort();for(f=0;f<d.length;f+=1){b=u.getIconURI(d[f],r[_]);n.addContent(new p({height:"38px",press:S.onSelectIcon.bind(null,e,a,g),size:"2rem",src:b,tooltip:b,width:"38px"}))}}o=n.getContent();i.setProperty("/config/ok.enabled",false);s.bindProperty("title",{model:"i18n",path:"configuration.select_icon"});for(_=0;_<o.length;_+=1){if(o[_].getSrc()===c){if(a){i.setProperty("/config/tile_actions_selected_icon",o[_])}else{i.setProperty("/config/selected_icon",o[_])}S.iconSelect(o[_],true);i.setProperty("/config/ok.enabled",true);s.setTitle(c)}else{S.iconSelect(o[_],false)}}s.open()};S.objectSelectOnValueHelpRequest=function(e,t,a){var i=e.getView();var r=S.getResourceBundleModel().getResourceBundle().getText("configuration.semantic_object");var s;var l;var o=new n;var u=new c("semantic_object_select_dialog",{title:r,search:S.objectSelectDoSearch,liveChange:S.objectSelectDoSearch}),p=new g({title:"{obj}"});if(a){s=sap.ui.getCore().byId(t.getParameter("id"))}else{s=i.byId("semantic_objectInput")||i.byId("navigation_semantic_objectInput")}l=s.getValue();u.open(l);o.setData(e.aDefaultObjects.concat(S.aData));u.bindAggregation("items","/",p);u.setModel(o);S.objectSelectUpdateDialog(u,l);u.attachCancel(function(e){s.setValue(l);if(!a){s.fireChange()}u.destroy();u=null});u.attachConfirm(function(e){var t=e.getParameter("selectedItem");if(t){s.setValue(t.getTitle());if(!a){s.fireChange()}}u.destroy();u=null})};S.actionSelectOnValueHelpRequest=function(e,t,a){var i=e.getView();var r=S.getResourceBundleModel().getResourceBundle().getText("configuration.semantic_action");var s;var l;var o=new n;var u=new c("semantic_action_select_dialog",{title:r,search:S.actionSelectDoSearch,liveChange:S.actionSelectDoSearch}),p=new g({title:"{text}"});if(a){s=sap.ui.getCore().byId(t.getParameter("id"))}else{s=i.byId("semantic_actionInput")||i.byId("navigation_semantic_actionInput")}l=s.getValue();u.open(l);o.setData(S.aActionData);u.bindAggregation("items","/items",p);u.setModel(o);S.actionSelectUpdateDialog(u,l);u.attachCancel(function(e){s.setValue(l);if(!a){s.fireChange()}u.destroy();u=null});u.attachConfirm(function(e){var t=e.getParameter("selectedItem");if(t){s.setValue(t.getTitle());if(!a){s.fireChange();s.fireLiveChange({newValue:t.getTitle()})}}u.destroy();u=null})};S.roleSelectOnValueHelpRequest=function(e){var t=e.getView(),a=S.getResourceBundleModel().getResourceBundle().getText("configuration.navigation_provider_role"),i,r,s,l=new n,o=new sap.m.TableSelectDialog("role_select_dialog",{title:a,search:S.roleSelectDoSearch,liveChange:S.roleSelectDoSearch,columns:[new sap.m.Column({header:[new d({text:S.getResourceBundleModel().getResourceBundle().getText("configuration.navigation_provider_role")})]}),new sap.m.Column({header:[new d({text:S.getResourceBundleModel().getResourceBundle().getText("configuration.navigation_provider_instance")})]})]}),u=new sap.m.ColumnListItem({cells:[new d({text:"{role}"}),new d({text:"{instance}"})]});i=t.byId("navigation_provider_roleInput");r=t.byId("navigation_provider_instanceInput");s=i.getValue();o.open(s);l.setData(e.aDefaultObjects.concat(S.aRoleData));o.bindAggregation("items","/",u);o.setModel(l);S.roleSelectUpdateDialog(o,s);o.attachCancel(function(e){i.setValue(s);i.fireChange();o.destroy();o=null});o.attachConfirm(function(e){var t=e.getParameter("selectedItem");if(t){i.setValue(t.getCells()[0].getText());r.setValue(t.getCells()[1].getText());i.fireChange();r.fireChange()}o.destroy();o=null})};S.instanceSelectOnValueHelpRequest=function(e){var t=e.getView();var a;var i=S.getResourceBundleModel().getResourceBundle().getText("configuration.navigation_provider_instance");var r;var s;var l=new n;var o=new c("instance_select_dialog",{title:i,search:S.instanceSelectDoSearch,liveChange:S.instanceSelectDoSearch}),u=new g({title:"{instance}"});r=t.byId("navigation_provider_instanceInput");s=r.getValue();a=t.byId("navigation_provider_roleInput").getValue();o.addCustomData(new _({key:"role",value:a}));o.open(s);l.setData(e.aDefaultObjects.concat(S.aRoleData));o.bindAggregation("items","/",u);o.setModel(l);S.instanceSelectUpdateDialog(o,s);o.attachCancel(function(e){r.setValue(s);r.fireChange();o.destroy();o=null});o.attachConfirm(function(e){var t=e.getParameter("selectedItem");if(t){r.setValue(t.getTitle());r.fireChange()}o.destroy();o=null})};S.applicationAliasSelectOnValueHelpRequest=function(e){var t=e.getView();var a=S.getResourceBundleModel().getResourceBundle().getText("configuration.target_application_alias");var i;var r;var s;var l=new n;var o=new c("alias_select_dialog",{title:a,search:S.aliasSelectDoSearch,liveChange:S.aliasSelectDoSearch}),u=new g({title:"{alias}"});i=t.byId("target_application_aliasInput");r=i.getValue();s=t.byId("navigation_provider_instanceInput").getValue();o.addCustomData(new _({key:"instance",value:s}));o.open(r);l.setData(e.aDefaultObjects.concat(S.aAliasData));o.bindAggregation("items","/",u);o.setModel(l);S.aliasSelectUpdateDialog(o,r);o.attachCancel(function(e){i.setValue(r);i.fireChange();o.destroy();o=null});o.attachConfirm(function(e){var t=e.getParameter("selectedItem");if(t){i.setValue(t.getTitle());i.fireChange()}o.destroy();o=null})};S.onTargetTypeChange=function(e){var t=e.getParameter("id");var a=sap.ui.getCore().byId(t).getParent().getCells();var i=e.getSource().getSelectedKey();if(i==="INT"){a[3].setEnabled(true);a[2].setShowValueHelp(true);a[2].setValue("")}else{a[2].setShowValueHelp(false);a[2].setValue("");a[3].setEnabled(false);a[3].setValue("")}};S.addTileActionsRow=function(e){var t=e.getModel();var a=t.getProperty("/config/tile_actions_rows");var i=this.getEmptyTileActionsRowObj();a.push(i);t.setProperty("/config/tile_actions_rows",a)};S.deleteTileActionsRow=function(e){var t=e.getModel();var a=t.getProperty("/config/tile_actions_rows");var i=e.byId("tileActions");var n=i.getSelectedIndices();var r=n.sort(function(e,t){return t-e}).slice();for(var s=0;s<r.length;s++){i.removeSelectionInterval(r[s],r[s]);a.splice(r[s],1)}t.setProperty("/config/tile_actions_rows",a)};S.checkInput=function(e,t){var a=S.getResourceBundleModel().getResourceBundle(),i=e.byId("iconInput"),n=e.byId("useLpdCheckbox"),r=e.byId("navigation_semantic_objectInput")||e.byId("semantic_objectInput"),s=e.byId("navigation_semantic_actionInput")||e.byId("semantic_actionInput"),l=V.None,o=null,u=jQuery.trim(t.getParameter("newValue"));switch(t.getSource()){case i:if(u!==""&&u.substring(0,11)!=="sap-icon://"){l=V.Error;o=a.getText("configuration.display_icon_url.warning")}break;case n:if(!n.getSelected()){s.setValueState(V.None);r.setValueState(V.None)}break;case r:if(/[-#&? ]/.test(u)){l=V.Error;o=a.getText("configuration.semantic_object.error_invalid_chars")}else if(u===""){l=V.Error}break;case s:if(/[-#&? ]/.test(u)){l=V.Error;o=a.getText("configuration.semantic_action.error_invalid_chars")}else if(u===""){l=V.Error}break;default:break}if(l){t.getSource().setValueState(l);if(o!==null){t.getSource().setValueStateText(o||"")}}};S.checkInputOnSaveConfig=function(e){var t=e.byId("iconInput");var a=e.byId("navigation_semantic_objectInput");var i=e.byId("navigation_semantic_actionInput");var n=e.byId("useLpdCheckbox");var r=S.getResourceBundleModel().getResourceBundle();var s=false;if(t.getValue()!==""&&!S.isIconURIValid(t.getValue())){t.setValueState(V.Error);t.setValueStateText(r.getText("configuration.display_icon_url.warning"));s=true}if(n.getSelected()&&/[-#&? ]/.test(a.getValue())){a.setValueState(V.Error);a.setValueStateText(r.getText("configuration.semantic_object.error_invalid_chars"));s=true}else if(n.getSelected()&&a.getValue()===""){a.setValueState(V.Error);s=true}if(/[-#&? ]/.test(i.getValue())){i.setValueState(V.Error);i.setValueStateText(r.getText("configuration.semantic_action.error_invalid_chars"));s=true}else if(n.getSelected()&&i.getValue()===""){i.setValueState(V.Error);s=true}return s};S.checkTileActions=function(e){var t=e.getModel().getProperty("/config/tile_actions_rows");var a=S.getResourceBundleModel().getResourceBundle();var i=false;for(var n=0;n<t.length;n++){if(!t[n].menu_title&&(t[n].navigation_target||t.length>1)){t[n].valueState=V.Error;i=true}else{t[n].valueState=V.None}if(t[n].icon){if(!S.isIconURIValid(t[n].icon)){t[n].iconValueState=V.Error;t[n].iconValueStateText=a.getText("configuration.display_icon_url.warning");i=true}}}e.getModel().setProperty("/config/tile_actions_rows",t);return i};S.isIconURIValid=function(e){var t=[];var a="";var i="";var n="";t=/sap-icon:\/\/(.+)\//.exec(e);if(t){a=t[1];t=/\/\/.+\/(.+)/.exec(e);if(t){i=t[1]}else{i=""}n=u.getIconURI(i,a);if(n!==e){return false}}else{t=/sap-icon:\/\/(.+)/.exec(e);if(t){i=t[1];if(!u.getIconInfo(i)){return false}}else{return false}}return true};S.checkTMInput=function(e,t){var a=S.getResourceBundleModel().getResourceBundle(),i=e.byId("semantic_objectInput"),n=e.byId("semantic_actionInput"),r=e.byId("target_application_descriptionInput"),s=e.byId("target_application_urlInput"),l=e.byId("target_application_componentInput"),o=e.byId("navigation_provider_roleInput"),u=e.byId("navigation_provider_instanceInput"),p=e.byId("target_application_aliasInput"),c=e.byId("target_application_idInput"),g=jQuery.trim(t.getParameter("newValue")),d=V.None,_=null;switch(t.getSource()){case i:if(/[-#&? ]/.test(g)){d=V.Error;_=a.getText("configuration.semantic_object.error_invalid_chars")}if(n.getValue()===""){n.setValueState(V.Error)}break;case n:if(/[-#&? ]/.test(g)){d=V.Error;_=a.getText("configuration.semantic_action.error_invalid_chars")}else if(g===""){d=V.Error}break;case r:if(g===""){d=V.Error}break;case s:if(g!==""&&!/^[-~+,;:?%&#=/.\w]+$/.test(g)){d=V.Error;_=a.getText("configuration.target_application.url.error_invalid_chars")}break;case l:if(g===""){d=V.Error}else if(g.substring(0,17)==="SAPUI5.Component="){d=V.Error;_=a.getText("configuration.target_application.component.error_invalid_input")}break;case o:if(g===""){d=V.Error}else if(!/^[\w/]+$/.test(g)){d=V.Error;_=a.getText("configuration.target_application.role.error_invalid_chars")}break;case u:if(g===""){d=V.Error}else if(!/^[\w/]+$/.test(g)){d=V.Error;_=a.getText("configuration.target_application.instance.error_invalid_chars")}break;case p:if(g===""&&c.getValue()===""){d=V.Error;_=a.getText("configuration.target_application.alias_id.warning")}else if(g!==""&&c.getValue()!==""){d=V.Error;_=a.getText("configuration.target_application.alias_id.warning");c.setValueState(d);c.setValueStateText(_)}else{c.setValueState(V.None)}break;case c:if(g===""&&p.getValue()===""){d=V.Error;_=a.getText("configuration.target_application.alias_id.warning")}else if(g!==""&&p.getValue()!==""){d=V.Error;_=a.getText("configuration.target_application.alias_id.warning");p.setValueState(d);p.setValueStateText(_)}else if(g!==""&&!/^[A-Fa-f0-9]+$/.test(g)){d=V.Error;_=a.getText("configuration.target_application.alias_id.error_invalid_chars")}else{p.setValueState(V.None)}break;default:break}if(d){t.getSource().setValueState(d);if(_!==null){t.getSource().setValueStateText(_||"")}}};S.checkTMInputOnSaveConfig=function(e){var t=S.getResourceBundleModel().getResourceBundle();var a=e.byId("semantic_objectInput");var i=e.byId("semantic_actionInput");var n=e.byId("target_application_descriptionInput");var r=e.byId("target_application_urlInput");var s=e.byId("target_application_componentInput");var l=e.byId("navigation_provider_roleInput");var o=e.byId("navigation_provider_instanceInput");var u=e.byId("target_application_aliasInput");var p=e.byId("target_application_idInput");var c=e.byId("targetTypeInput");var g=e.byId("target_transactionInput");var d=e.byId("target_web_dynpro_applicationInput");var _=e.byId("target_wcf_application_idInput");var f=e.byId("desktopCB");var b=e.byId("tabletCB");var y=e.byId("phoneCB");var I=false;a.setValue(a.getValue().trim());if(/[-#&? ]/.test(a.getValue())){a.setValueState(V.Error);a.setValueStateText(t.getText("configuration.semantic_object.error_invalid_chars"));I=true}i.setValue(i.getValue().trim());if(/[-#&? ]/.test(i.getValue())){i.setValueState(V.Error);i.setValueStateText(t.getText("configuration.semantic_action.error_invalid_chars"));I=true}else if(i.getValue()===""){i.setValueState(V.Error);I=true}var v=e.getModel().getProperty("/config/navigation_provider"),m;if(v==="SAPUI5"){if(n.getValue()===""){n.setValueState(V.Error);I=true}if(r.getValue()!==""&&!/^[-~+,;:?%&#=/.\w]+$/.test(r.getValue())){r.setValueState(V.Error);r.setValueStateText(t.getText("configuration.target_application.url.error_invalid_chars"));I=true}if(s.getValue()===""){s.setValueState(V.Error);I=true}else if(s.getValue().substring(0,17)==="SAPUI5.Component="){s.setValueState(V.Error);s.setValueStateText(t.getText("configuration.target_application.component.error_invalid_input"));I=true}}else if(v==="LPD"){if(l.getValue()===""){l.setValueState(V.Error);I=true}if(!/^[\w]+$/.test(l.getValue())){l.setValueState(V.Error);m=t.getText("configuration.target_application.role.error_invalid_chars");l.setValueStateText(m);I=true}if(o.getValue()===""){o.setValueState(V.Error);I=true}if(!/^[\w]+$/.test(o.getValue())){o.setValueState(V.Error);m=t.getText("configuration.target_application.instance.error_invalid_chars");o.setValueStateText(m);I=true}if(u.getValue()===""&&p.getValue()===""){m=t.getText("configuration.target_application.alias_id.warning");u.setValueState(V.Error);u.setValueStateText(m);p.setValueState(V.Error);p.setValueStateText(m);I=true}if(u.getValue()!==""&&p.getValue()!==""){m=t.getText("configuration.target_application.alias_id.warning");u.setValueState(V.Error);u.setValueStateText(m);p.setValueState(V.Error);p.setValueStateText(m);I=true}if(p.getValue()!==""&&!/^[A-Fa-f0-9]+$/.test(p.getValue())){p.setValueState(V.Error);p.setValueStateText(t.getText("configuration.target_application.alias_id.error_invalid_chars"));I=true}}else if(v==="TR"){if(g.getValue()===""){g.setValueState(V.Error);I=true}}else if(v==="WDA"){if(d.getValue()===""){d.setValueState(V.Error);I=true}}else if(v==="WCF"){if(_.getValue()===""){_.setValueState(V.Error);I=true}}else if(v==="URL"){if(r.getValue()===""){r.setValueState(V.Error);I=true}else if(!/^[-~+,;:?%&#=/.\w]+$/.test(r.getValue())){r.setValueState(V.Error);r.setValueStateText(t.getText("configuration.target_application.url.error_invalid_chars"));I=true}}else{c.setValueState(V.Error);c.setValueStateText(t.getText("configuration.navigation_provider.error_invalid_provider"));I=true}if(!f.getSelected()&&!b.getSelected()&&!y.getSelected()){m=t.getText("configuration.form_factor.warning");f.setValueState(V.Error);f.setValueStateText(m);b.setValueState(V.Error);b.setValueStateText(m);y.setValueState(V.Error);y.setValueStateText(m);I=true}return I};S.updateTooltipForDisabledProperties=function(e){var t=e.getModel();var a=t.getProperty("/config/isLocaleSuitable");if(!a){var i=S.getResourceBundleModel().getResourceBundle();var n=i.getText("edit_configuration.original_locale_not_fit_tooltip",[t.getProperty("/config/userLocale"),t.getProperty("/config/orgLocale")]);e.byId("titleInput").setTooltip(n);e.byId("subtitleInput").setTooltip(n);e.byId("keywordsInput").setTooltip(n);e.byId("infoInput").setTooltip(n)}};S.updateMessageStripForOriginalLanguage=function(e){var t=e.getModel();if(t.getProperty("/config/isLocaleSuitable")===false){var a=S.getResourceBundleModel().getResourceBundle().getText("edit_configuration.original_locale_not_fit_message",[t.getProperty("/config/orgLocale").toUpperCase(),t.getProperty("/config/userLocale").toUpperCase()]);var i=e.byId("messageStrip");i.setVisible(true);i.setText(a);i.setType(m.Warning)}};S.createSemanticObjectModel=function(e,t,i){var r=e.getView(),s="/sap/opu/odata/UI2/INTEROP/SemanticObjects",l=[{obj:"",name:""},{obj:"*",name:"*"}],o=(i||l).slice(0),u=new n;u.setSizeLimit(999999);u.setProperty("/value","");u.setProperty("/enabled",true);t.bindAggregation("suggestionItems","suggest>/items",new f({text:"{suggest>obj}"}));t.setModel(u,"suggest");if(S.aData.length>0){setTimeout(function(){u.setData({items:o.concat(S.aData)},true)},0);return}a.read({requestUri:s,headers:{Accept:"application/json"}},function(e){var t,a,i;for(i=0;i<e.results.length;i=i+1){t=e.results[i].id;a=e.results[i].text;S.aData.push({obj:t,name:a||t})}u.setData({items:o.concat(S.aData)},true)},function(e){var t=e&&e.message?e.message:e;if(e.response){t+=" - "+e.response.statusCode+" "+e.response.statusText}I.error("Could not fetch data: "+s+": "+t,null,r.getViewName()||"sap.ushell.components.tiles.utils")})};S.createRoleModel=function(e,t,i){var r=e.getView(),s="/sap/opu/odata/UI2/INTEROP/GetLPDInstances",l=new n,o=new n;l.setSizeLimit(999999);o.setSizeLimit(999999);l.setProperty("/value","");l.setProperty("/enabled",true);o.setProperty("/value","");o.setProperty("/enabled",true);var u=new sap.m.ColumnListItem({cells:[new b({text:"{role}"}),new b({text:"{instance}"})]});t.bindAggregation("suggestionRows","/items",u);i.bindAggregation("suggestionItems","/items",new f({text:"{instance}"}));i.setModel(o);t.setModel(l);t.attachSuggestionItemSelected(function(e){i.setValue(e.getParameter("selectedRow").getCells()[1].getText());i.fireChange()});if(S.aRoleData.length>0){l.setData({items:S.aRoleData},false);o.setData({items:S.aRoleData},false);return}a.read({requestUri:s,headers:{Accept:"application/json"}},function(e){var t,a,i;for(i=0;i<e.results.length;i=i+1){t=e.results[i].lpdRole;a=e.results[i].instance;S.aRoleData.push({role:t,instance:a})}l.setData({items:S.aRoleData},true);o.setData({items:S.aRoleData},true)},function(e){var t=e&&e.message?e.message:e;if(e.response){t+=" - "+e.response.statusCode+" "+e.response.statusText}I.error("Could not fetch data: "+s+": "+t,null,r.getViewName()||"sap.ushell.components.tiles.utils")})};S.createAliasModel=function(e,t){var i=e.getView(),r,s="/sap/opu/odata/UI2/INTEROP/GetLPDAppAlias",l=new n;l.setSizeLimit(999999);l.setProperty("/value","");l.setProperty("/enabled",true);t.bindAggregation("suggestionItems","/items",new f({text:"{alias}"}));t.setModel(l);r=S.getAppLauncherConfig(i.oViewData.chip,true,true);if(r&&r.navigation_provider_role&&r.navigation_provider_instance){if(r.navigation_provider_role!==""&&r.navigation_provider_instance!==""){s=s+"?role='"+r.navigation_provider_role+"'&instance='"+r.navigation_provider_instance+"'"}}a.read({requestUri:s,headers:{Accept:"application/json"}},function(e){var t,a,i,n,r;S.aAliasData=[];for(n=0;n<e.results.length;n=n+1){t=e.results[n].lpdApplicationAlias;a=e.results[n].lpdRole;i=e.results[n].lpdInstance;S.aAliasData.push({role:a,instance:i,alias:t})}r=l.getData();if(r){r.items=S.aAliasData}else{r={items:S.aAliasData}}l.setData(r,false)},function(e){var t=e&&e.message?e.message:e;if(e.response){t+=" - "+e.response.statusCode+" "+e.response.statusText}I.error("Could not fetch data: "+s+": "+t,null,i.getViewName()||"sap.ushell.components.tiles.utils")})};S.updateAliasModel=function(e,t){var i,n,r,s=t.getModel();n=e.byId("navigation_provider_instanceInput").getValue();r=e.byId("navigation_provider_roleInput").getValue();i="/sap/opu/odata/UI2/INTEROP/GetLPDAppAlias?role='"+r+"'&instance='"+n+"'";a.read({requestUri:i,headers:{Accept:"application/json"}},function(e){var t,a,i,n,r;S.aAliasData=[];for(n=0;n<e.results.length;n=n+1){t=e.results[n].lpdApplicationAlias;a=e.results[n].lpdRole;i=e.results[n].lpdInstance;S.aAliasData.push({role:a,instance:i,alias:t})}r=s.getData();if(r){r.items=S.aAliasData}else{r={items:S.aAliasData}}s.setData(r,false)},function(t){var a=t&&t.message?t.message:t;if(t.response){a+=" - "+t.response.statusCode+" "+t.response.statusText}I.error("Could not fetch data: "+i+": "+a,null,e.getViewName()||"sap.ushell.components.tiles.utils")})};S.createActionModel=function(e,t){var a=new n;var i=e.getView(),r,s;a.setData({items:[{text:"display"},{text:"approve"},{text:"displayFactSheet"},{text:"manage"},{text:"create"},{text:"monitor"},{text:"track"},{text:"change"},{text:"register"},{text:"release"},{text:"analyzeKPIDetails"},{text:"lookup"},{text:"manageLineItems"}]});S.aActionData=a.getData();r=S.getAppLauncherConfig(i.oViewData.chip,true,true);s=r.navigation_semantic_action||r.semantic_action;if(s){if(!a.getData().items.some(function(e){return e.text===s})){a.getData().items.push({text:s})}}t.bindAggregation("suggestionItems","items>/items",new f({text:"{items>text}"}));t.setModel(a,"items");t.getBinding("suggestionItems").sort(new y("text",false))};S.createNavigationProviderModel=function(e,t){var a=new n;var i=S.getResourceBundleModel().getResourceBundle();var r=[{key:"SAPUI5",text:i.getText("configuration.target_application.sapui5")},{key:"LPD",text:i.getText("configuration.target_application.lpd_cust")},{key:"TR",text:i.getText("configuration.target_application.transaction")},{key:"WDA",text:i.getText("configuration.target_application.web_dynpro")},{key:"URL",text:i.getText("configuration.target_application.url")}];var s=S.getViewConfiguration(e.getView()).navigation_provider;if(s==="WCF"){r.push({key:"WCF",text:i.getText("configuration.target_application.wcf")})}else if(s==="URLT"){r.push({key:"URLT",text:i.getText("configuration.target_application.urlt")})}a.setData({items:r});t.bindItems("items>/items",new f({key:"{items>key}",text:"{items>text}"}));t.setModel(a,"items");t.getBinding("items").sort(new y("text",false))};S.displayApplicationTypeFields=function(e,t){switch(e){case"LPD":S.displayLpdCustApplicationTypeFields(t);break;case"SAPUI5":S.displaySapui5ApplicationTypeFields(t);break;case"TR":S.displayTransactionApplicationTypeFields(t);break;case"WDA":S.displayWebDynproApplicationTypeFields(t);break;case"URL":S.displayURLApplicationTypeFields(t);break;case"WCF":S.displayWCFApplicationTypeFields(t);break;case"URLT":S.displayURLTApplicationTypeFields(t);break}};S.displayWCFApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(true);e.byId("target_wcf_application_idInput").setVisible(true);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};S.displaySapui5ApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(true);e.byId("target_application_urlInput").setVisible(true);e.byId("application_component").setVisible(true);e.byId("target_application_componentInput").setVisible(true);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(false);e.byId("target_system_aliasInput").setVisible(false);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};S.displayLpdCustApplicationTypeFields=function(e){e.byId("application_description").setVisible(false);e.byId("target_application_descriptionInput").setVisible(false);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("navigation_provider_role").setVisible(true);e.byId("navigation_provider_roleInput").setVisible(true);e.byId("navigation_provider_instance").setVisible(true);e.byId("navigation_provider_instanceInput").setVisible(true);e.byId("target_application_alias").setVisible(true);e.byId("target_application_aliasInput").setVisible(true);e.byId("target_application_id").setVisible(true);e.byId("target_application_idInput").setVisible(true);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(false);e.byId("target_system_aliasInput").setVisible(false);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(true)};S.displayTransactionApplicationTypeFields=function(e){e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("target_transaction").setVisible(true);e.byId("target_transactionInput").setVisible(true);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};S.displayWebDynproApplicationTypeFields=function(e){e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(true);e.byId("target_web_dynpro_applicationInput").setVisible(true);e.byId("target_web_dynpro_configuration").setVisible(true);e.byId("target_web_dynpro_configurationInput").setVisible(true);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};S.displayURLApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(true);e.byId("target_application_urlInput").setVisible(true);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(true);e.byId("target_system_aliasInput").setVisible(true);e.byId("urlt_application_component").setVisible(false);e.byId("urlt_application_componentInput").setVisible(false);e.byId("target_urlt_system_alias").setVisible(false);e.byId("target_urlt_system_aliasInput").setVisible(false);e.byId("application_type_deprecated").setVisible(false)};S.displayURLTApplicationTypeFields=function(e){e.byId("navigation_provider_role").setVisible(false);e.byId("navigation_provider_roleInput").setVisible(false);e.byId("navigation_provider_instance").setVisible(false);e.byId("navigation_provider_instanceInput").setVisible(false);e.byId("target_application_alias").setVisible(false);e.byId("target_application_aliasInput").setVisible(false);e.byId("target_application_id").setVisible(false);e.byId("target_application_idInput").setVisible(false);e.byId("application_description").setVisible(true);e.byId("target_application_descriptionInput").setVisible(true);e.byId("application_url").setVisible(false);e.byId("target_application_urlInput").setVisible(false);e.byId("application_component").setVisible(false);e.byId("target_application_componentInput").setVisible(false);e.byId("target_transaction").setVisible(false);e.byId("target_transactionInput").setVisible(false);e.byId("target_wcf_application_id").setVisible(false);e.byId("target_wcf_application_idInput").setVisible(false);e.byId("target_web_dynpro_application").setVisible(false);e.byId("target_web_dynpro_applicationInput").setVisible(false);e.byId("target_web_dynpro_configuration").setVisible(false);e.byId("target_web_dynpro_configurationInput").setVisible(false);e.byId("target_system_alias").setVisible(false);e.byId("target_system_aliasInput").setVisible(false);e.byId("urlt_application_component").setVisible(true);e.byId("urlt_application_componentInput").setVisible(true);e.byId("target_urlt_system_alias").setVisible(true);e.byId("target_urlt_system_aliasInput").setVisible(true);e.byId("application_type_deprecated").setVisible(false)};S.getAppLauncherConfig=function(e,t,a){var i;var n=e.configuration.getParameterValueAsString("tileConfiguration");var r;try{r=JSON.parse(n||"{}")}catch(e){I.error("Error while trying to parse tile configuration",e,"sap.ushell.components.tiles.utils");return{}}r.editable=true;if(e.configurationUi&&e.configurationUi.isReadOnly){if(e.configurationUi.isReadOnly()){r.editable=false}}var s=S.getTranslatedTitle(e);var l=S.getTranslatedSubtitle(e,r);var o=S.getTranslatedProperty(e,r,"display_info_text");var u=S.getTranslatedProperty(e,r,"display_search_keywords");if(t){i=S.getResourceBundleModel().getResourceBundle();if(a&&e.bag){var p=e.bag.getOriginalLanguage();var c=sap.ui.getCore().getConfiguration().getLocale().getSAPLogonLanguage();var g=sap.ui.getCore().getConfiguration().getLanguage();r.isLocaleSuitable=p===""||p.toLowerCase()===c.toLowerCase()||p.toLowerCase()===g.toLowerCase();r.orgLocale=p;r.userLocale=c}}r.display_icon_url=r.display_icon_url||"";if(o!==undefined){r.display_info_text=o}else if(r.display_info_text===undefined){if(t&&!a){r.display_info_text="["+i.getText("configuration.display_info_text")+"]"}else{r.display_info_text=""}}r.navigation_semantic_object=r.navigation_semantic_object||"";r.navigation_semantic_action=r.navigation_semantic_action||"";r.navigation_semantic_parameters=r.navigation_semantic_parameters||"";r.display_number_unit=r.display_number_unit||"";r.display_number_factor=r.display_number_factor||"";r.service_refresh_interval=r.service_refresh_interval?parseInt(r.service_refresh_interval,10):0;r.service_url=r.service_url||"";r.navigation_target_url=r.navigation_target_url||"";if(t&&S.isInitial(s)){r.display_title_text=a?"":"["+i.getText("configuration.display_title_text")+"]";r.display_subtitle_text=a?"":"["+i.getText("configuration.display_subtitle_text")+"]"}else{r.display_title_text=s||r.display_title_text||"";if(l!==undefined){r.display_subtitle_text=l}else if(r.display_subtitle_text===undefined){r.display_subtitle_text=""}}r.navigation_use_semantic_object=r.navigation_use_semantic_object!==false;r.display_search_keywords=u||r.display_search_keywords||"";if(t){r.display_number_value=r.display_number_value||1234}r.form_factors=r.form_factors?r.form_factors:S.getDefaultFormFactors();r.desktopChecked=r.form_factors.manual.desktop;r.tabletChecked=r.form_factors.manual.tablet;r.phoneChecked=r.form_factors.manual.phone;r.manualFormFactor=!r.form_factors.appDefault&&r.editable;r.appFormFactor=r.form_factors.appDefault;r.formFactorConfigDefault=!!r.form_factors.defaultParam;if(r.signature){r.rows=S.getSignatureTableData(r.signature,a&&r.editable)}else{r.rows=r.mapping_signature&&r.mapping_signature!=="*=*"?S.getMappingSignatureTableData(r.mapping_signature,a&&r.editable):[S.getEmptyRowObj(r.editable)]}if(r.signature){r.isUnknownAllowed=r.signature.additional_parameters==="allowed"||r.signature.additionalParameters==="allowed"}else{r.isUnknownAllowed=r.mapping_signature!==undefined?S.getAllowUnknownParametersValue(r.mapping_signature):true}if(t){r.tile_actions_rows=S.getTileNavigationActionsRows(e,r.editable)}else if(!r.actions){r.actions=S.getTileNavigationActions(e)}if(t){var d=e.bag.getBag("deprecationProperties"),_=d.getProperty("deprecation"),f=null;if(_){f=i.getText(_==="D"?"configuration.app_deprecated":"configuration.app_archived",[d.getProperty("successor")])}r.deprecation_text=f}return r};S.getDataToDisplay=function(e,t){var a=0,i,n,r,s,l={display_icon_url:t.icon||e.display_icon_url||"",display_title_text:t.title||e.display_title_text||"",display_number_value:!isNaN(t.number)?t.number:"...",display_number_unit:t.numberUnit||e.display_number_unit||"",display_info_text:t.info||e.display_info_text||"",display_info_state:t.infoState||"Neutral",display_subtitle_text:t.subtitle||e.display_subtitle_text||"",display_state_arrow:t.stateArrow||"None",display_number_state:t.numberState||"None",display_number_digits:t.numberDigits>=0?t.numberDigits:4,display_number_factor:t.numberFactor||"",display_search_keyword:t.keywords||e.display_search_keyword||"",targetParams:[]};if(t.infoStatus){l.display_info_state=t.infoStatus}if(t.targetParams){l.targetParams.push(t.targetParams)}if(t.results){for(i=0,n=t.results.length;i<n;i=i+1){r=t.results[i].number||0;if(typeof r==="string"){r=parseFloat(r,10)}a=a+r;s=t.results[i].targetParams;if(s){l.targetParams.push(s)}}l.display_number_value=a}if(!isNaN(t.number)){if(typeof t.number==="string"){t.number=t.number.trim()}if(t.number===""){l.display_number_value="..."}else{var o=this._shouldProcessDigits(t.number,t.numberDigits),u=l.display_icon_url?4:5;if(t.number&&t.number.toString().length>=u||o){var p=this._normalizeNumber(t.number,u,t.numberFactor,t.numberDigits);l.display_number_factor=p.numberFactor;l.display_number_value=p.displayNumber}else{var c=v.getFloatInstance({maxFractionDigits:u});l.display_number_value=c.format(t.number)}}}if(l&&l.display_number_state){switch(l.display_number_state){case"Positive":l.display_number_state="Good";break;case"Negative":l.display_number_state="Error";break}}return l};S._normalizeNumber=function(e,t,a,i){var n;if(isNaN(e)){n=e}else{var r=v.getFloatInstance({maxFractionDigits:i});if(!a){var s=Math.abs(e);if(s>=1e9){a="B";e/=1e9}else if(s>=1e6){a="M";e/=1e6}else if(s>=1e3){a="K";e/=1e3}}n=r.format(e)}var l=n;var o=l[t-1];t-=o==="."||o===","?1:0;l=l.substring(0,t);return{displayNumber:l,numberFactor:a}};S._shouldProcessDigits=function(e,t){var a;e=typeof e!=="string"?e.toString():e;if(e.indexOf(".")!==-1){a=e.split(".")[1].length;if(a>t){return true}}return false};S.getTileSettingsAction=function(e,t,a){var i=S.getResourceBundleModel().getResourceBundle();var r=!a||a==="tile"?"tileSettingsBtn":"linkSettingsBtn";return{id:r,text:i.getText(r),press:function(){return new Promise(function(r){sap.ui.require(["sap/m/Button","sap/m/Dialog","sap/ui/core/mvc/View","sap/ui/layout/form/SimpleForm","sap/ui/layout/form/SimpleFormLayout"],function(s,l,o,u,p){var c={showGroupSelection:false,title:e.getProperty("/config/display_title_text"),subtitle:e.getProperty("/config/display_subtitle_text")};if(!a||a==="tile"){c.info=e.getProperty("/config/display_info_text");c.icon=e.getProperty("/config/display_icon_url");c.keywords=e.getProperty("/config/display_search_keywords")}else if(a==="link"){c.showInfo=false;c.showIcon=false;c.showPreview=false}o.create({viewName:"module:sap/ushell/ui/footerbar/SaveAsTile.view"}).then(function(e){var o=new n(c);e.setModel(o);var g=new u({id:"tileSettings",layout:p.GridLayout,content:[e]}).addStyleClass("sapUshellAddBookmarkForm");var d=new s("bookmarkOkBtn",{text:i.getText("okBtn"),type:w.Emphasized,press:function(){t(e);b.close()},enabled:true});var _=new s("bookmarkCancelBtn",{text:i.getText("cancelBtn"),press:function(){b.close()}});var f=function(e){d.setEnabled(!!e.trim())};e.getTitleInput().attachLiveChange(function(){f(this.getValue())});var b=new l({id:"settingsDialog",title:!a||a==="tile"?i.getText("tileSettingsDialogTitle"):i.getText("linkSettingsDialogTitle"),contentWidth:"400px",content:g,beginButton:d,endButton:_,horizontalScrolling:false,afterClose:function(){b.destroy()}}).addStyleClass("sapContrastPlus");b.open();r(b)})})})}}};S.getSemanticNavigationUrl=function(e){var t="#"+jQuery.trim(e.navigation_semantic_object);t+="-"+jQuery.trim(e.navigation_semantic_action);if(e.navigation_semantic_parameters&&jQuery.trim(e.navigation_semantic_parameters).length>0){t+="?"+jQuery.trim(e.navigation_semantic_parameters)}return t};S.addParamsToUrl=function(e,t){var a="",i=e.indexOf("?")!==-1,n=t.targetParams,r;if(n&&n.length>0){for(r=0;r<n.length;r=r+1){a+=n[r];if(r<n.length-1){a+="&"}}}if(a.length>0){if(!i){e+="?"}else{e+="&"}e+=a}return e};return S},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AccessibilityCustomData", ["sap/ui/core/CustomData"],function(e){"use strict";var t=e.extend("sap.ushell.ui.launchpad.AccessibilityCustomData",{metadata:{library:"sap.ushell"}});t.prototype._checkWriteToDom=function(){var t=sap.ui.getCore().getConfiguration().getAccessibility();if(!t){return null}var a=this.getKey();var i=e.prototype._checkWriteToDom.apply(this,arguments);if(i&&(a.indexOf("aria-")===0||a==="role"||a==="tabindex")){i.key=i.key.replace(/^data-/,"")}return i};return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorItem", ["sap/ui/core/Control","sap/ushell/library","sap/ushell/ui/launchpad/AnchorItemRenderer"],function(e){"use strict";var t=e.extend("sap.ushell.ui.launchpad.AnchorItem",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},selected:{type:"boolean",group:"Misc",defaultValue:false},groupId:{type:"string",group:"Misc",defaultValue:null},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},helpId:{type:"string",group:"Misc",defaultValue:null},index:{type:"int",group:"Misc",defaultValue:null},isGroupVisible:{type:"boolean",group:"Misc",defaultValue:true},isGroupRendered:{type:"boolean",group:"Misc",defaultValue:false},isGroupDisabled:{type:"boolean",group:"Misc",defaultValue:false},locked:{type:"boolean",group:"Misc",defaultValue:false},posinset:{type:"int",group:"Misc",defaultValue:0},setsize:{type:"int",group:"Misc",defaultValue:0}},events:{press:{},afterRendering:{},visibilityChanged:{}}}});t.prototype.init=function(){this.addDelegate({onAfterRendering:this.fireAfterRendering.bind(this),onclick:this.firePress.bind(this),onsapenter:this.firePress.bind(this),onsapspace:function(e){e.preventDefault();this.firePress()}.bind(this)})};t.prototype.setVisible=function(e,t){this.setProperty("visible",e,t);this.fireVisibilityChanged();return this};return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorItemRenderer", function(){"use strict";var e={apiVersion:2,render:function(e,t){var s=t.getGroupId(),a=t.getSelected();e.openStart("li",t);e.attr("modelGroupId",s);e.attr("role","tab");e.attr("aria-selected",a);e.class("sapUshellAnchorItem");if(t.getSetsize()){e.attr("aria-posinset",t.getPosinset());e.attr("aria-setsize",t.getSetsize())}if(t.getHelpId()){if(t.getDefaultGroup()){e.class("help-id-homeAnchorNavigationBarItem")}else{e.class("help-id-anchorNavigationBarItem")}e.attr("data-help-id",t.getHelpId())}if(a){e.attr("tabindex","0");e.class("sapUshellAnchorItemSelected")}if(!t.getVisible()||!t.getIsGroupVisible()){e.class("sapUshellShellHidden")}e.openEnd();e.openStart("div",t.getId()+"-inner");e.class("sapUshellAnchorItemInner");if(t.getIsGroupDisabled()){e.class("sapUshellAnchorItemDisabled")}e.openEnd();e.text(t.getTitle());e.close("div");e.close("li")}};return e});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorNavigationBar", ["sap/m/Bar","sap/ui/Device","sap/ui/thirdparty/jquery","sap/base/util/isEmptyObject","sap/m/Button","sap/ushell/resources","sap/ushell/library","./AnchorNavigationBarRenderer"],function(t,e,jQuery,s,o,i){"use strict";var r=t.extend("sap.ushell.ui.launchpad.AnchorNavigationBar",{metadata:{library:"sap.ushell",properties:{accessibilityLabel:{type:"string",defaultValue:null},selectedItemIndex:{type:"int",group:"Misc",defaultValue:0},overflowEnabled:{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{groups:{type:"sap.ushell.ui.launchpad.AnchorItem",multiple:true,singularName:"group"}},events:{afterRendering:{},itemPress:{}}}});r.prototype.init=function(){e.resize.attachHandler(this.reArrangeNavigationBarElements,this);this.bGroupWasPressed=false;this.bIsRtl=sap.ui.getCore().getConfiguration().getRTL();this._bIsRenderedCompletely=false;this.fnNavigationBarItemsVisibility=this.setNavigationBarItemsVisibility.bind(this);this.fnAdjustVisibleAnchorItemsAccessibility=this.adjustVisibleAnchorItemsAccessibility.bind(this)};r.prototype.onBeforeRendering=function(){var t=window.document.getElementsByClassName("sapUshellAnchorNavigationBarItemsScroll")[0];if(t){t.removeEventListener("scroll",this.fnNavigationBarItemsVisibility)}};r.prototype.onAfterRendering=function(){if(this._bIsRenderedCompletely){this.reArrangeNavigationBarElements();this.adjustVisibleAnchorItemsAccessibility();var t=window.document.getElementsByClassName("sapUshellAnchorNavigationBarItemsScroll")[0];if(t){t.addEventListener("scroll",this.fnNavigationBarItemsVisibility)}}};r.prototype.openOverflowPopup=function(){var t=jQuery(".sapUshellAnchorItemOverFlow").hasClass("sapUshellAnchorItemOverFlowOpen");if(this.oOverflowButton&&!t){this.oOverflowButton.firePress()}};r.prototype.closeOverflowPopup=function(){if(this.oPopover){this.oPopover.close()}};r.prototype.reArrangeNavigationBarElements=function(){this.anchorItems=this.getVisibleGroups();var t=this.getSelectedItemIndex()||0;if(this.anchorItems.length){this.adjustItemSelection(t)}if(e.system.phone&&this.anchorItems.length){this.anchorItems.forEach(function(t){t.setIsGroupVisible(false)});this.anchorItems[this.getSelectedItemIndex()].setIsGroupVisible(true)}else{setTimeout(function(){this.setNavigationBarItemsVisibility()}.bind(this),200)}};r.prototype._scrollToGroupByGroupIndex=function(t,s){var o=e.system.tablet?".sapUshellAnchorNavigationBarItemsScroll":".sapUshellAnchorNavigationBarItems";var i=document.documentElement.querySelector(o);var r=this.anchorItems[t].getDomRef();if(i&&r){var l=i.getBoundingClientRect();var n=r.getBoundingClientRect();var h=jQuery(i);var a=this.bIsRtl?h.scrollLeftRTL():i.scrollLeft;var f;if(n.left<l.left){f=n.left-l.left-16}else if(n.right>l.right){f=n.right-l.right+16}if(f){if(this.bIsRtl){h.scrollLeftRTL(a+f)}else{i.scrollLeft=a+f}}this.setNavigationBarItemsVisibility()}};r.prototype.setNavigationBarItemsVisibility=function(){if(!e.system.phone){this.setNavigationBarItemsVisibilityOnDesktop()}else if(this.anchorItems&&this.anchorItems.length>0){this.oOverflowButton.removeStyleClass("sapUshellShellHidden");var t=this.getSelectedItemIndex()||0;if(this.oPopover){this.oPopover.setTitle(this.anchorItems[t].getTitle())}}};r.prototype.setNavigationBarItemsVisibilityOnDesktop=function(){if(this.anchorItems.length&&(!this.isMostRightAnchorItemVisible()||!this.isMostLeftAnchorItemVisible())){this.oOverflowButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowButton){this.oOverflowButton.addStyleClass("sapUshellShellHidden")}if(this.bIsRtl){if(this.anchorItems.length&&!this.isMostLeftAnchorItemVisible()){this.oOverflowRightButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowRightButton){this.oOverflowRightButton.addStyleClass("sapUshellShellHidden")}if(this.anchorItems.length&&!this.isMostRightAnchorItemVisible()){this.oOverflowLeftButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowLeftButton){this.oOverflowLeftButton.addStyleClass("sapUshellShellHidden")}}else{if(this.anchorItems.length&&!this.isMostLeftAnchorItemVisible()){this.oOverflowLeftButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowLeftButton){this.oOverflowLeftButton.addStyleClass("sapUshellShellHidden")}if(this.anchorItems.length&&!this.isMostRightAnchorItemVisible()){this.oOverflowRightButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowRightButton){this.oOverflowRightButton.addStyleClass("sapUshellShellHidden")}}};r.prototype.adjustItemSelection=function(t){setTimeout(function(){if(this.anchorItems&&this.anchorItems.length){this.anchorItems.forEach(function(t){t.setSelected(false)});if(t>=0&&t<this.anchorItems.length){this.anchorItems[t].setSelected(true);this._scrollToGroupByGroupIndex(t)}}}.bind(this),50)};r.prototype.isMostRightAnchorItemVisible=function(){var t=jQuery(".sapUshellAnchorNavigationBarInner"),e=!s(t)?t.width():0,o=!s(t)&&t.offset()?t.offset().left:0,i=this.bIsRtl?this.anchorItems[0].getDomRef():this.anchorItems[this.anchorItems.length-1].getDomRef(),r=!s(i)?jQuery(i).width():0,l;if(r<0){r=80}l=i&&jQuery(i).offset()?jQuery(i).offset().left:0;return Math.ceil(l)+r<=o+e};r.prototype.isMostLeftAnchorItemVisible=function(){var t=jQuery(".sapUshellAnchorNavigationBarInner"),e=!s(t)&&t.offset()&&t.offset().left||0,o=this.bIsRtl?this.anchorItems[this.anchorItems.length-1].getDomRef():this.anchorItems[0].getDomRef(),i=!s(o)&&jQuery(o).offset()?jQuery(o).offset().left:0;return Math.ceil(i)>=e};r.prototype.setSelectedItemIndex=function(t){if(t!==undefined){this.setProperty("selectedItemIndex",t,true)}};r.prototype.setOverflowEnabled=function(t){this.setProperty("overflowEnabled",t);if(this.oOverflowButton){this.oOverflowButton.setEnabled(t)}};r.prototype._getOverflowLeftArrowButton=function(){if(!this.oOverflowLeftButton){this.oOverflowLeftButton=new o({icon:"sap-icon://slim-arrow-left",tooltip:i.i18n.getText("scrollToTop"),press:function(){this._scrollToGroupByGroupIndex(0)}.bind(this)}).addStyleClass("sapUshellShellHidden");this.oOverflowLeftButton._bExcludeFromTabChain=true}return this.oOverflowLeftButton};r.prototype._getOverflowRightArrowButton=function(){if(!this.oOverflowRightButton){this.oOverflowRightButton=new o({icon:"sap-icon://slim-arrow-right",tooltip:i.i18n.getText("scrollToEnd"),press:function(){this._scrollToGroupByGroupIndex(this.anchorItems.length-1)}.bind(this)}).addStyleClass("sapUshellShellHidden");this.oOverflowRightButton._bExcludeFromTabChain=true}return this.oOverflowRightButton};r.prototype._getOverflowButton=function(){if(!this.oOverflowButton){this.oOverflowButton=new o("sapUshellAnchorBarOverflowButton",{icon:"sap-icon://slim-arrow-down",tooltip:i.i18n.getText("more_groups"),enabled:this.getOverflowEnabled(),press:function(){this._togglePopover()}.bind(this)}).addStyleClass("sapUshellShellHidden")}return this.oOverflowButton};r.prototype._togglePopover=function(){sap.ui.require(["sap/m/Popover","sap/ui/model/Filter","sap/ushell/ui/launchpad/GroupListItem","sap/m/List","sap/m/library"],function(t,e,s,o,i){var r=i.ListMode;if(!this.oPopover){this.oList=new o({mode:r.SingleSelectMaster,rememberSelections:false,selectionChange:function(t){this.fireItemPress({group:t.getParameter("listItem")});this.oPopover.close()}.bind(this)});this.oPopover=new t("sapUshellAnchorBarOverflowPopover",{showArrow:false,showHeader:false,placement:"Left",content:[this.oList],horizontalScrolling:false,beforeOpen:function(){var t=jQuery(".sapUshellAnchorItemOverFlow"),e=sap.ui.getCore().getConfiguration().getRTL(),s=e?-1*t.outerWidth():t.outerWidth();this.setOffsetX(s)},afterClose:function(){jQuery(".sapUshellAnchorItemOverFlow").removeClass("sapUshellAnchorItemOverFlowOpen");jQuery(".sapUshellAnchorItemOverFlow").toggleClass("sapUshellAnchorItemOverFlowPressed",false)}}).addStyleClass("sapUshellAnchorItemsPopover").addStyleClass("sapContrastPlus")}if(this.oPopover.isOpen()){this.oPopover.close()}else{this.anchorItems=this.getVisibleGroups();this.oList.setModel(this.getModel());var l=this.getModel().getProperty("/tileActionModeActive");var n=new e("","EQ","a");n.fnTest=function(t){if(!t.visibilityModes[l?1:0]){return false}return t.isGroupVisible||l};this.oList.bindItems({path:"/groups",template:new s({title:"{title}",groupId:"{groupId}",index:"{index}"}),filters:[n]});var h=jQuery(".sapUshellAnchorItemSelected").attr("id");var a=sap.ui.getCore().byId(h);this.oList.getItems().forEach(function(t){if(a.mProperties.groupId===t.mProperties.groupId){t.addStyleClass("sapUshellAnchorPopoverItemSelected")}else{t.addStyleClass("sapUshellAnchorPopoverItemNonSelected")}});jQuery(".sapUshellAnchorItemOverFlow").toggleClass("sapUshellAnchorItemOverFlowPressed",true);this.oPopover.openBy(this.oOverflowButton)}}.bind(this))};r.prototype.getVisibleGroups=function(){return this.getGroups().filter(function(t){return t.getVisible()})};r.prototype._setRenderedCompletely=function(t){this._bIsRenderedCompletely=t};r.prototype.handleAnchorItemPress=function(t){this.bGroupWasPressed=true;this.fireItemPress({group:t.getSource(),manualPress:true})};r.prototype.adjustVisibleAnchorItemsAccessibility=function(){var t=this.getVisibleGroups(),e=t.length;t.forEach(function(t,s){t.setPosinset(s+1);t.setSetsize(e)})};r.prototype.addGroup=function(t,e){t.attachVisibilityChanged(this.fnAdjustVisibleAnchorItemsAccessibility);return this.addAggregation("groups",t,e)};r.prototype.insertGroup=function(t,e,s){t.attachVisibilityChanged(this.fnAdjustVisibleAnchorItemsAccessibility);return this.insertAggregation("groups",t,e,s)};r.prototype.removeGroup=function(t,e){t.detachVisibilityChanged(this.fnAdjustVisibleAnchorItemsAccessibility);return this.removeAggregation("groups",t,e)};r.prototype.exit=function(){if(this.oOverflowLeftButton){this.oOverflowLeftButton.destroy()}if(this.oOverflowRightButton){this.oOverflowRightButton.destroy()}if(this.oOverflowButton){this.oOverflowButton.destroy()}if(this.oPopover){this.oPopover.destroy()}if(t.prototype.exit){t.prototype.exit.apply(this,arguments)}};return r});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorNavigationBarRenderer", ["sap/ushell/resources"],function(e){"use strict";var t={apiVersion:2};t.render=function(t,o){t.openStart("div",o);t.attr("data-sap-ui-customfastnavgroup","true");t.class("sapUshellAnchorNavigationBar");t.openEnd();t.openStart("div");t.class("sapUshellAnchorNavigationBarInner");t.openEnd();if(o.getGroups().length>0){o._setRenderedCompletely(true);t.openStart("div");t.class("sapUshellAnchorLeftOverFlowButton");t.accessibilityState(o._getOverflowLeftArrowButton(),{hidden:true});t.openEnd();t.renderControl(o._getOverflowLeftArrowButton());t.close("div");t.openStart("div");t.class("sapUshellAnchorNavigationBarItems");t.openEnd();t.openStart("ul");t.class("sapUshellAnchorNavigationBarItemsScroll");t.accessibilityState(o,{role:"tablist",label:e.i18n.getText("AnchorNavigationBar_AriaLabel")});t.openEnd();this.renderAnchorNavigationItems(t,o);t.close("ul");t.close("div");t.openStart("div");t.class("sapUshellAnchorRightOverFlowButton");t.accessibilityState(o._getOverflowRightArrowButton(),{hidden:true});t.openEnd();t.renderControl(o._getOverflowRightArrowButton());t.close("div");t.openStart("div");t.class("sapUshellAnchorItemOverFlow");t.accessibilityState(o._getOverflowButton(),{hidden:true});t.openEnd();t.renderControl(o._getOverflowButton());t.close("div")}t.close("div");t.close("div")};t.renderAnchorNavigationItems=function(e,t){t.getGroups().forEach(function(t){e.renderControl(t)})};t.shouldAddIBarContext=function(){return false};return t},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/DashboardGroupsContainer", ["sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/InvisibleText","sap/ushell/Config","sap/ushell/library","sap/ushell/override","sap/ushell/resources","sap/ushell/utils","./DashboardGroupsContainerRenderer"],function(e,t,i,r,o,s,a,n){"use strict";var l=t.extend("sap.ushell.ui.launchpad.DashboardGroupsContainer",{metadata:{library:"sap.ushell",properties:{accessibilityLabel:{type:"string",defaultValue:null},displayMode:{type:"string",defaultValue:null}},aggregations:{groups:{type:"sap.ui.core.Control",multiple:true,singularName:"group"}},events:{afterRendering:{}}}});l.prototype.init=function(){this.addInvisibleAccessabilityTexts()};l.prototype.exit=function(){if(this.oTileText){this.oTileText.destroy()}if(this.oTileEditModeText){this.oTileEditModeText.destroy()}t.prototype.exit.apply(this,arguments)};l.prototype.updateGroups=s.updateAggregatesFactory("groups");l.prototype.onAfterRendering=function(){var e=this,t={bUseUniqueMark:true};n.setPerformanceMark("FLP-TimeToInteractive_tilesLoaded",t);e.fireAfterRendering()};l.prototype.getGroupControlByGroupId=function(e){try{var t=this.getGroups();for(var i=0,r=t.length;i<r;++i){if(t[i].getGroupId()===e){return t[i]}}}catch(e){}return null};l.prototype.addLinksToUnselectedGroups=function(){var t=this.getGroups();t.forEach(function(t,i){if(!t.getIsGroupSelected()){e.prototype.updateAggregation.call(t,"links")}})};l.prototype.removeLinksFromAllGroups=function(){var e=this.getGroups();e.forEach(function(e,t){var i=e.getLinks();if(i.length){if(i[0].getMetadata().getName()==="sap.m.GenericTile"){e.removeAllLinks()}else{for(var r=0;r<i.length;r++){i[r].destroy()}}}})};l.prototype.removeLinksFromUnselectedGroups=function(){var e=this.getGroups();e.forEach(function(e,t){var i=e.getLinks();if(i.length&&!e.getIsGroupSelected()){if(i[0].getMetadata().getName()==="sap.m.GenericTile"){e.removeAllLinks()}else{for(var r=0;r<i.length;r++){i[r].destroy()}}}})};l.prototype.addInvisibleAccessabilityTexts=function(){this.oTileText=new i("sapUshellDashboardAccessibilityTileText",{text:a.i18n.getText("tile")}).toStatic();var e=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(e){this.oTileEditModeText=new i("sapUshellDashboardAccessibilityTileEditModeText",{text:e.getText("LIST_ITEM_NAVIGATION")}).toStatic()}};return l});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/DashboardGroupsContainerRenderer", ["sap/ushell/utils"],function(e){"use strict";var a={apiVersion:2};a.render=function(a,r){a.openStart("div",r);a.attr("data-sap-ui-customfastnavgroup","true");a.class("sapUshellDashboardGroupsContainer");if(r.getAccessibilityLabel()){a.accessibilityState(r,{role:"navigation",label:r.getAccessibilityLabel()})}a.openEnd();var s=r.getGroups();var t;for(var o=0;o<s.length;o++){t=s[o];a.openStart("div");a.class("sapUshellDashboardGroupsContainerItem");if(t.getIsGroupLocked()||t.getDefaultGroup()){a.class("sapUshellDisableDragAndDrop")}a.openEnd();a.renderControl(t);a.close("div")}a.close("div");e.setPerformanceMark("FLP -- dashboardgroupscontainer renderer")};return a},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/ExtendedChangeDetection", ["sap/ui/base/ManagedObject","sap/ushell/Config"],function(e,t){"use strict";var i=e.extend("sap.ushell.ui.launchpad.ExtendedChangeDetection",{metadata:{library:"sap.ushell",events:{itemDeleted:{},itemAdded:{},itemsReordered:{}}},constructor:function(i,n,r){e.call(this);this._oAggregation=n.getMetadata().getAggregation(i);this._oControl=n;this._sAggregationName=i;this._aSiblingAggregationNames=r;var a=t.last("/core/spaces/extendedChangeDetection/enabled");if(a){this._oControl[this._oAggregation._sUpdater]=this._updateAggregation.bind(this);this._oControl.bUseExtendedChangeDetection=true}}});i.oUpdateFromSiblingCache={};i.prototype._updateAggregation=function(){var e=this._oControl.getBindingInfo(this._sAggregationName);var t=e.binding;var i=this._isUpdateFromSibiling();var n=t.aLastContextData||[];var r=n.map(function(t){try{var i=JSON.parse(t);return i[e.key]}catch(e){return t}});var a=t.getContexts();var o=a.map(function(t){return t.getProperty(e.key)});var g=a.diff;var s;var d;var h=[];var l=[];var f={};var u=false;var _=false;if(g){for(d=0;d<g.length;d++){s=g[d];if(s.type==="insert"){h.push({item:o[s.index],index:s.index})}if(s.type==="delete"){l.push({item:r[s.index-h.length],index:s.index-h.length});r.splice(s.index-h.length,1)}}for(d=0;d<l.length;d++){f[l[d].item]=this._oControl.removeAggregation(this._sAggregationName,l[d].index,true)}var p;var m;for(d=0;d<h.length;d++){p=h[d];m=f[p.item];if(m&&!(g.length>=2&&g[0].index===g[1].index)){this._oControl.insertAggregation(this._sAggregationName,m,p.index,true);delete f[p.item]}else{this._createAndInsertItem(a[p.index],e,p.index);_=true}}u=!!Object.keys(f).length;for(var c in f){f[c].destroy();delete f[c]}}else if(!(i&&o.length===0&&r.length===0)){this._createAndInsertItems(a,e);_=true}else{return}this._updateBindingContexts(a);if(a.length===0){this._oControl.invalidate()}if(u){this.fireItemDeleted()}if(_){this.fireItemAdded()}if(!u&&!_&&g){this.fireItemsReordered()}if(g&&g.length&&!i){this._refreshSiblingBindings()}};i.prototype._isUpdateFromSibiling=function(){var e=this._oControl.getId()+":"+this._sAggregationName;if(i.oUpdateFromSiblingCache[e]){delete i.oUpdateFromSiblingCache[e];return true}return false};i.prototype._refreshSiblingBindings=function(){if(this._aSiblingAggregationNames){for(var e=0;e<this._aSiblingAggregationNames.length;++e){var t=this._aSiblingAggregationNames[e];var n=this._oControl.getId()+":"+t;var r=this._oControl.getBinding(t);i.oUpdateFromSiblingCache[n]=true;r.refresh(true)}}};i.prototype._createAndInsertItems=function(e,t){this._oAggregation.destroy(this._oControl);for(var i=0;i<e.length;i++){this._createAndInsertItem(e[i],t,i)}};i.prototype._createAndInsertItem=function(e,t,i){var n=t.factory(null,e);this._oControl.insertAggregation(this._sAggregationName,n,i,true)};i.prototype._updateBindingContexts=function(e){var t=this._oAggregation.get(this._oControl);for(var i=0;i<t.length;i++){t[i].setBindingContext(e[i])}};return i});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/GroupHeaderActions", ["sap/m/Button","sap/m/library","sap/ui/core/Control","sap/ushell/library"],function(t,e,o){"use strict";var n=e.ButtonType;var i=e.PlacementType;var r=o.extend("sap.ushell.ui.launchpad.GroupHeaderActions",{metadata:{library:"sap.ushell",properties:{isOverflow:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}},renderer:{apiVersion:2,render:function(t,e){t.openStart("div",e);t.openEnd();var o=e.getContent();if(e.getTileActionModeActive()){if(e.getIsOverflow()){var n=o.some(function(t){return t.getVisible()});if(n){t.renderControl(e._getOverflowButton())}}else{o.forEach(function(e){t.renderControl(e)})}}t.close("div")}}});r.prototype.exit=function(){if(this._oOverflowButton){this._oOverflowButton.destroy()}if(this._oActionSheet){this._oActionSheet.destroy()}};r.prototype._getOverflowButton=function(){if(!this._oOverflowButton){this._oOverflowButton=new t({icon:"sap-icon://overflow",type:n.Transparent,enabled:"{= !${/editTitle}}",press:function(){sap.ui.require(["sap/m/ActionSheet"],function(t){if(!this._oActionSheet){this._oActionSheet=new t({placement:i.Auto})}this._oActionSheet.destroyButtons();this.getContent().forEach(function(t){var e=t.clone();e.setModel(t.getModel());e.setBindingContext(t.getBindingContext());this._oActionSheet.addButton(e)}.bind(this));this._oActionSheet.openBy(this._oOverflowButton)}.bind(this))}.bind(this)}).addStyleClass("sapUshellHeaderActionButton");this._oOverflowButton.setParent(this)}return this._oOverflowButton};return r});
/*!
 * Copyright (c) 2009-2022 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/ui/launchpad/GroupListItem", ["sap/m/ListItemBase","sap/ushell/library","sap/ushell/utils","./GroupListItemRenderer"],function(e,t,i){"use strict";var r=e.extend("sap.ushell.ui.launchpad.GroupListItem",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},show:{type:"boolean",group:"Misc",defaultValue:true},groupId:{type:"string",group:"Misc",defaultValue:null},index:{type:"int",group:"Misc",defaultValue:null},numberOfTiles:{type:"int",group:"Misc",defaultValue:0},isGroupVisible:{type:"boolean",group:"Misc",defaultValue:true}},events:{press:{},afterRendering:{}}}});r.prototype.exit=function(){e.prototype.exit.apply(this,arguments)};r.prototype.onAfterRendering=function(){this.fireAfterRendering()};r.prototype.groupHasVisibleTiles=function(){var e=this.getModel().getProperty("/groups/"+this.getIndex()+"/tiles");var t=this.getModel().getProperty("/groups/"+this.getIndex()+"/links");return i.groupHasVisibleTiles(e,t)};r.prototype.onclick=function(){this.firePress({id:this.getId()})};r.prototype.setGroupId=function(e){this.setProperty("groupId",e,true);return this};r.prototype.setTitle=function(e){this.setProperty("title",e);this.$().find(".sapMSLITitleOnly").text(e);return this};return r});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/GroupListItemRenderer", ["sap/m/ListItemBaseRenderer","sap/ui/core/Renderer"],function(e,s){"use strict";var t=s.extend(e);t.apiVersion=2;t.renderLIAttributes=function(e){e.class("sapUshellGroupLI");e.class("sapUshellGroupListItem")};t.renderLIContent=function(e,s){e.openStart("div",s);e.class("sapMSLIDiv");e.class("sapMSLITitleDiv");if(!s.getVisible()){e.style("display","none")}e.openEnd();e.openStart("div",s);e.class("sapMSLITitleOnly");e.openEnd();e.text(s.getTitle());e.close("div");e.close("div")};return t},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LinkTileWrapper", ["sap/base/Log","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/ui/launchpad/AccessibilityCustomData","./LinkTileWrapperRenderer"],function(e,t,i,jQuery,s,o){"use strict";var l=i.extend("sap.ushell.ui.launchpad.LinkTileWrapper",{metadata:{library:"sap.ushell",properties:{uuid:{type:"string",group:"Misc",defaultValue:null},tileCatalogId:{type:"string",group:"Misc",defaultValue:null},tileCatalogIdStable:{type:"string",group:"Misc",defaultValue:null},target:{type:"string",group:"Misc",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},debugInfo:{type:"string",group:"Misc",defaultValue:null},animationRendered:{type:"boolean",group:"Misc",defaultValue:false},isLocked:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tileViews:{type:"sap.ui.core.Control",multiple:true,singularName:"tileView"},footItems:{type:"sap.ui.core.Control",multiple:true,singularName:"footItem"}},events:{press:{},coverDivPress:{},afterRendering:{},showActions:{}}}});l.prototype.destroy=function(e){this.destroyTileViews();i.prototype.destroy.call(this,e)};l.prototype.addTileView=function(e,i){e.setParent(null);e.addCustomData(new o({key:"tabindex",value:"-1",writeToDom:true}));t.prototype.addAggregation.call(this,"tileViews",e,i)};l.prototype.destroyTileViews=function(){if(this.mAggregations.tileViews){this.mAggregations.tileViews.length=0}};l.prototype.onAfterRendering=function(){this.fireAfterRendering()};l.prototype.onclick=l.prototype._onPress;l.prototype.onsapenter=l.prototype._launchTileViaKeyboard;l.prototype.onsapspace=l.prototype._launchTileViaKeyboard;l.prototype._launchTileViaKeyboard=function(t){e.info("Tile pressed:",this.getDebugInfo(),"sap.ushell.ui.launchpad.LinkTileWrapper");sap.ui.getCore().getEventBus().publish("launchpad","dashboardTileLinkClick");if(this.getTileActionModeActive()){return}else if(this._getTileState()==="Failed"){this._onFailedStatePress()}else if(t.target.tagName!=="BUTTON"){var i=this.getTileViews()[0],s=false;if(i.firePress){i.firePress()}else{while(i.getContent&&!s){i=i.getContent()[0];if(i.firePress){i.firePress();s=true}}}}};l.prototype._onPress=function(t){e.info("Tile pressed:",this.getDebugInfo(),"sap.ushell.ui.launchpad.LinkTileWrapper");sap.ui.getCore().getEventBus().publish("launchpad","dashboardTileLinkClick");if(!this.getTileActionModeActive()&&this._getTileState()==="Failed"){this._onFailedStatePress()}};l.prototype._onFailedStatePress=function(){if(!this.getTileActionModeActive()&&this._getTileState()==="Failed"){if(!this.FailedTileDialog){sap.ui.require(["sap/ushell/ui/launchpad/FailedTileDialog"],function(e){this.FailedTileDialog=new e;this._onFailedStatePress()}.bind(this))}else{this.FailedTileDialog.openFor(this)}return}};l.prototype._getTileState=function(){var e=this.getTileViews();var t;for(var i=0;i<e.length&&!t;++i){if(e[i].isA("sap.m.GenericTile")){t=e[i]}}if(!t){throw new Error("Could not find the wrapped Tile")}return t.getState()};l.prototype.setVisible=function(e){this.setProperty("visible",e,true);return this.toggleStyleClass("sapUshellHidden",!e)};l.prototype.setAnimationRendered=function(e){this.setProperty("animationRendered",e,true)};l.prototype._handleTileShadow=function(e,t){if(e.length){e.unbind("mouseenter mouseleave");var i,s=e.css("border").split("px")[0],o=this.getModel();if(s>0){i=e.css("border-color")}else{i=this.getRgba()}e.hover(function(){if(!o.getProperty("/tileActionModeActive")){var t=jQuery(e).css("box-shadow"),s=t?t.split(") ")[1]:null,l;if(s){l=s+" "+i;jQuery(this).css("box-shadow",l)}}},function(){jQuery(this).css("box-shadow","")})}};l.prototype.setUuid=function(e){this.setProperty("uuid",e,true);return this};return l});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LinkTileWrapperRenderer", ["sap/base/Log","sap/m/GenericTile","sap/m/library","sap/ushell/resources"],function(e,a,t,i){"use strict";var l=t.GenericTileMode;var n=t.LoadState;var s={apiVersion:2};s.render=function(t,s){var r=null;var o=s.getModel();function d(){r=new a({header:i.i18n.getText("cannotLoadTile"),mode:l.LineMode,state:n.Failed})}try{r=s.getTileViews()[0]}catch(a){e.warning("Failed to load tile view: ",a.message);d()}if(!r){e.warning("Failed to load tile view: the control has no tileViews");d()}t.openStart("div",s);if(o&&o.getProperty("/enableHelp")){t.attr("data-help-id",s.getTileCatalogId());if(s.getTileCatalogIdStable()){t.attr("data-help-id2",s.getTileCatalogIdStable())}}t.class("sapUshellLinkTile");if(!s.getVisible()){t.class("sapUshellHidden")}if(s.getIsLocked()){t.class("sapUshellLockedTile")}t.attr("tabindex","-1");t.openEnd();t.renderControl(r);t.close("div")};return s},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/Page", ["sap/m/Button","sap/m/library","sap/m/Text","sap/ui/core/Control","sap/ui/core/dnd/DragDropInfo","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/ExtendedChangeDetection","./PageRenderer"],function(e,t,i,n,o,s,a,r,u,d,c){"use strict";var l=t.ButtonType;var p=a.TextAlign;var g=a.InvisibleMessageMode;var h=r.DisplayFormat;var f=n.extend("sap.ushell.ui.launchpad.Page",{metadata:{library:"sap.ushell",properties:{edit:{type:"boolean",group:"Misc",defaultValue:false},enableSectionReordering:{type:"boolean",group:"Misc",defaultValue:false},dataHelpId:{type:"string",group:"Misc",defaultValue:""},noSectionsText:{type:"string",group:"Misc",defaultValue:""},showNoSectionsText:{type:"boolean",group:"Misc",defaultValue:true},showTitle:{type:"boolean",group:"Misc",defaultValue:false},title:{type:"string",group:"Misc",defaultValue:""}},defaultAggregation:"sections",aggregations:{sections:{type:"sap.ushell.ui.launchpad.Section",multiple:true,dnd:true},messageStrip:{type:"sap.m.MessageStrip",multiple:false},_addSectionButtons:{type:"sap.m.Button",multiple:true,visibility:"hidden"},_noSectionText:{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{addSectionButtonPressed:{parameters:{index:{type:"int"}}},sectionDrop:{parameters:{draggedControl:{type:"sap.ushell.ui.launchpad.Section"},droppedControl:{type:"sap.ushell.ui.launchpad.Section"},dropPosition:{type:"string"}}}}},renderer:c});f.prototype.enhanceAccessibilityState=function(e,t){delete t.readonly};f.prototype.init=function(){this.setAggregation("_noSectionText",new i({text:u.i18n.getText("Page.NoSectionText"),width:"100%",textAlign:p.Center}));this._oDragDropInfo=new o({sourceAggregation:"sections",targetAggregation:"sections",dropPosition:"Between",dragStart:function(e){if(e.getParameter("target").getDefault()){e.preventDefault()}},dragEnter:function(e){if(e.getParameter("target").getDefault()){e.preventDefault()}},drop:function(e){this.fireSectionDrop(e.getParameters())}.bind(this)});this.addDelegate({onsappageup:this._handleKeyboardPageNavigation.bind(this),onsappagedown:this._handleKeyboardPageNavigation.bind(this),onsapdown:this._handleKeyboardArrowNavigation.bind(this,false),onsapdownmodifiers:this._handleKeyboardArrowNavigation.bind(this,true),onsapup:this._handleKeyboardArrowNavigation.bind(this,false),onsapupmodifiers:this._handleKeyboardArrowNavigation.bind(this,true),onsaphome:this._handleKeyboardHomeEndNavigation.bind(this),onsaphomemodifiers:this._handleKeyboardHomeEndNavigation.bind(this),onsapend:this._handleKeyboardHomeEndNavigation.bind(this),onsapendmodifiers:this._handleKeyboardHomeEndNavigation.bind(this),onfocusin:this._saveFocus.bind(this),onsapskipback:this._handleSkipBack.bind(this),onsapskipforward:this._handleSkipForward.bind(this),onBeforeFastNavigationFocus:this._handleBeforeFastNavigationFocus.bind(this)});this._oSectionsChangeDetection=new d("sections",this);this._oSectionsChangeDetection.attachItemDeleted(this.invalidate,this);this._oSectionsChangeDetection.attachItemsReordered(this.invalidate,this);this._oInvisibleMessageInstance=s.getInstance()};f.prototype._saveFocus=function(e){var t=e.srcControl;if(t.isA("sap.m.VBox")){var i=t.getParent();if(i){if(i.indexOfVisualization(this._oLastFocusedViz)===-1){this._oLastFocusedViz=i.getVisualizations()[0];this._oLastFocusedSection=this._oLastFocusedViz?undefined:i}}else{this._oLastFocusedViz=undefined;this._oLastFocusedSection=undefined}}else if(t.isA("sap.f.GridContainer")){var n=t.getItems();this._oLastFocusedViz=n.find(function(t){var i=t.getDomRef();return i&&i.parentNode===e.target})}else if(t.isA("sap.ushell.ui.launchpad.VizInstanceLink")){this._oLastFocusedViz=t}};f.prototype._handleSkipBack=function(e){if(this.getEdit()){var t;var i=e.srcControl;if(i.isA("sap.f.GridContainer")||i.isA("sap.ushell.ui.launchpad.VizInstanceLink")){t=this._getAncestorSection(i)}if(t){e.preventDefault();t.focus()}}};f.prototype._handleSkipForward=function(e){var t,i;var n=e.srcControl;if(n.isA("sap.m.VBox")){i=n.getParent()}if(i){if(i.indexOfVisualization(this._oLastFocusedViz)!==-1){t=this._oLastFocusedViz}else{t=i.getAllItems()[0]}}if(t){e.preventDefault();this._focusVisualization(t)}};f.prototype._handleBeforeFastNavigationFocus=function(e){var t=this.getSections();var i=this.getEdit();if(i&&this._oLastFocusedSection){this._oLastFocusedSection.focus()}else if(i&&e.forward&&this._oLastFocusedViz){this._getAncestorSection(this._oLastFocusedViz).focus()}else if(this._oLastFocusedViz&&this._oLastFocusedViz.getDomRef()){this._focusVisualization(this._oLastFocusedViz)}else if(i&&e.forward&&t.length>0){this._getFirstVisibleSection().focus()}else if(i&&!e.forward&&t.length>0){var n=t[0];if(n.getAllItems().length===0){n.focus()}else{this._focusVisualization(n.getAllItems()[0])}}else{var o=t.find(function(e){return e.getDomRef()&&e.getAllItems().length>0});this._focusVisualization(o.getAllItems()[0])}e.preventDefault()};f.prototype._getAncestorSection=function(e){if(!e){return null}if(e.isA("sap.ushell.ui.launchpad.Section")){return e}else if(e.getParent){return this._getAncestorSection(e.getParent())}return null};f.prototype.exit=function(){this._oDragDropInfo.destroy();this._oSectionsChangeDetection.destroy()};f.prototype.onBeforeRendering=function(){var t=this.getSections().length;var i=this.getAggregation("_addSectionButtons")||[];var n;for(var o=i.length;o<t+1;o++){n=new e({type:l.Transparent,icon:"sap-icon://add",text:u.i18n.getText("Page.Button.AddSection"),press:this.fireAddSectionButtonPressed.bind(this,{index:o})});n.addStyleClass("sapUshellPageAddSectionButton");this.addAggregation("_addSectionButtons",n)}};f.prototype.getFocusDomRef=function(){var e=this.getAggregation("_addSectionButtons")||[];if(!this.getSections().length&&e.length&&this.getEdit()){return e[0].getFocusDomRef()}return this.getDomRef()};f.prototype.setEnableSectionReordering=function(e){if(e===undefined||this.getEnableSectionReordering()===e){return this}this.setProperty("enableSectionReordering",!!e,true);if(e){this.addDragDropConfig(this._oDragDropInfo)}else{this.removeDragDropConfig(this._oDragDropInfo)}return this};f.prototype.setNoSectionsText=function(e){if(e===undefined||this.getNoSectionsText()===e){return this}this.setProperty("noSectionsText",e,true);var t=this.getAggregation("_noSectionText");t.setText(e||u.i18n.getText("Page.NoSectionText"));return this};f.prototype._focusVisualization=function(e){if(!e){return}else if(e.isA("sap.ushell.ui.launchpad.VizInstanceLink")){e.focus()}else{e.getDomRef().parentElement.focus()}};f.prototype._focusNextVisualization=function(e){var t=this.getSections();var i=this.indexOfSection(e.section);var n=e.event.getParameter?e.event.getParameter("event"):e.event;var o=n.target.firstElementChild;var s,a;while(true){if(e.direction==="up"){i--}else{i++}s=t[i];if(!s){return}a=s.focusVisualization({keycode:n.keyCode,ref:o});if(a){n.preventDefault();return}}};f.prototype._handleKeyboardPageNavigation=function(e){if(this._isFocusInInput()){return}var t=this.getSections();for(var i=0;i<t.length;i++){var n=t[i].getDomRef();if(n.contains(window.document.activeElement)){this._focusNextVisualization({event:e,section:t[i],direction:e.type==="sappagedown"?"down":"up",prefIndex:0});return}}};f.prototype._handleKeyboardArrowNavigation=function(e,t){if(e&&!this.getEnableSectionReordering()||e&&!t.ctrlKey){return}var i=this.getSections();var n,o,s;for(var a=0;a<i.length;a++){n=i[a-1];o=i[a];s=i[a+1];if(window.document.activeElement===o.getFocusDomRef()){if(t.type==="sapup"&&n){n.focus()}else if(t.type==="sapdown"&&s){s.focus()}else if(t.type==="sapupmodifiers"&&n){if(n.getDefault()){return}this.fireSectionDrop({draggedControl:o,droppedControl:n,dropPosition:"Before"});t.preventDefault();t.stopPropagation()}else if(t.type==="sapdownmodifiers"&&s){if(o.getDefault()){return}this.fireSectionDrop({draggedControl:o,droppedControl:s,dropPosition:"After"});t.preventDefault();t.stopPropagation()}return}}};f.prototype._isFocusInInput=function(){var e=(document.activeElement||{}).tagName;return e==="INPUT"||e==="TEXTAREA"};f.prototype._handleKeyboardHomeEndNavigation=function(e){if(this._isFocusInInput()){return}var t,i;var n=false;if(e.type==="saphome"){i=this._getSectionAreaItems(e.srcControl)}else if(e.type==="saphomemodifiers"){t=this._getFirstVisibleSection(true)}else if(e.type==="sapend"){i=this._getSectionAreaItems(e.srcControl);n=true}else if(e.type==="sapendmodifiers"){t=this._getLastVisibleSection(true);n=true}if(t){i=t.getAllItems()}if(n){this._focusVisualization(i[i.length-1])}else{this._focusVisualization(i[0])}e.preventDefault();e.stopPropagation()};f.prototype._getFirstVisibleSection=function(e){var t=this.getSections();return t.find(function(t){return this._isSectionVisible(t,e)}.bind(this))};f.prototype._getLastVisibleSection=function(e){var t=this.getSections().reverse();return t.find(function(t){return this._isSectionVisible(t,e)}.bind(this))};f.prototype._isSectionVisible=function(e,t){var i=t?false:this.getEdit();return i||e.getVisualizations().length>0&&e.getDomRef()&&e.getShowSection()};f.prototype._getSectionAreaItems=function(e){var t,i;var n=e.getBindingContext();if(n){i=n.getProperty("displayFormatHint")}var o=this.getSections();var s=o.find(function(t){var i=t.getDomRef();return i&&i.contains(e.getDomRef())});if(s){switch(i){case h.Compact:return s.getCompactItems();case h.Standard:case h.StandardWide:return s.getDefaultItems();case h.Flat:case h.FlatWide:return s.getFlatItems();default:t=s.getDefaultItems();if(t.length>0){return t}t=s.getFlatItems();if(t.length>0){return t}t=s.getCompactItems();return t}}return[]};f.prototype._getCurrentlyFocusedSection=function(){var e=this.getSections();var t=window.document.activeElement;return e.find(function(e){return e.getDomRef().contains(t)})};f.prototype._handleSectionBorderReached=function(e){this._focusNextVisualization(e.getParameters())};f.prototype.addAggregation=function(e,t){n.prototype.addAggregation.apply(this,arguments);if(e==="sections"){t.attachEvent("borderReached",this._handleSectionBorderReached.bind(this))}return this};f.prototype.insertAggregation=function(e,t){n.prototype.insertAggregation.apply(this,arguments);if(e==="sections"){t.attachEvent("borderReached",this._handleSectionBorderReached.bind(this))}return this};f.prototype.announceMove=function(){var e=u.i18n.getText("PageRuntime.Message.SectionMoved");this._oInvisibleMessageInstance.announce(e,g.Polite)};return f});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/PageRenderer", [],function(){"use strict";var e={apiVersion:2};e.render=function(e,t){var a=t.getSections();var i=a.length;var r=t.getDataHelpId();var n=t.getTitle();var o;var s;e.openStart("div",t);e.class("sapUshellPage");e.class("sapContrastPlus");e.attr("aria-label",n);e.attr("data-sap-ui-customfastnavgroup","true");if(r){e.attr("data-help-id",r)}e.openEnd();if(t.getEdit()&&t.getAggregation("messageStrip")){e.renderControl(t.getAggregation("messageStrip"))}e.openStart("h2",t.getId()+"-title");e.class("sapMTitle");e.class("sapUshellPageTitle");if(!t.getShowTitle()){e.class("sapUiPseudoInvisibleText")}e.attr("aria-level","2");e.openEnd();e.text(n);e.close("h2");if(t.getEdit()&&!i){e.renderControl(t.getAggregation("_addSectionButtons")[0])}if(!i&&t.getShowNoSectionsText()){e.renderControl(t.getAggregation("_noSectionText"))}for(s=0;s<i;s++){o=a[s];if(t.getEdit()||o.getShowSection()&&o.getVisible()){e.openStart("div");e.class("sapUshellPageSection");e.openEnd();e.renderControl(o);if(t.getEdit()){e.renderControl(t.getAggregation("_addSectionButtons")[s+1])}e.close("div")}}e.close("div")};return e});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/PlusTile", ["sap/ui/core/Icon","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/PlusTileRenderer","sap/ushell/ui/launchpad/Tile"],function(e,t,o,i,s){"use strict";var n=s.extend("sap.ushell.ui.launchpad.PlusTile",{metadata:{library:"sap.ushell",properties:{groupId:{type:"string",group:"Misc",defaultValue:""},enableHelp:{type:"boolean",group:"Misc",defaultValue:false}},events:{press:{}}}});n.prototype.init=function(){this.oIcon=new e({src:"sap-icon://add",tooltip:o.i18n.getText("openAppFinder_tooltip")})};n.prototype.exit=function(){if(this.oIcon){this.oIcon.destroy()}};n.prototype.onclick=function(){var e=this.getParent().getBindingContext().getObject();if(!e.object){return}this.firePress()};n.prototype.onsapspace=n.onclick;n.prototype.onsapenter=n.onclick;return n});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/PlusTileRenderer", ["sap/ushell/resources","sap/ushell/Config"],function(l,s){"use strict";var e={apiVersion:2,render:function(e,a){e.openStart("li",a);e.attr("tabindex","-1");e.class("sapUshellTile");e.class("sapUshellPlusTile");e.class("sapContrastPlus");e.class("sapMGT");if(s.last("/core/home/sizeBehavior")==="Small"){e.class("sapUshellSmall")}if(a.getEnableHelp()){e.class("help-id-plusTile")}e.attr("aria-label",l.i18n.getText("TilePlus_label"));e.openEnd();e.renderControl(a.oIcon);e.close("li")}};return e},true);
//Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/Section", ["sap/base/Log","sap/base/util/deepClone","sap/f/GridContainerItemLayoutData","sap/m/library","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/core/XMLComposite","sap/ui/events/KeyCodes","sap/ui/model/Filter","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ushell/ui/launchpad/ExtendedChangeDetection","sap/ushell/library","sap/f/dnd/GridDropInfo","sap/f/GridContainer","sap/ushell/ui/launchpad/section/CompactArea"],function(t,e,a,i,r,o,n,s,l,jQuery,u,d,p,g,f,h){"use strict";var c=i.TileSizeBehavior;var m=o.InvisibleMessageMode;var y=p.DisplayFormat;function v(t,e,a){if(!Array.isArray(e)||!e.length){return null}if(t&&t.getDomRef){t=t.getDomRef()}if(!t){return e[a?e.length-1:0]}function i(t,e){var a=t.left+t.right-e.left-e.right;var i=t.top+t.bottom-e.top-e.bottom;return a*a+i*i}function r(t){var e=t.querySelector(".sapMGTLineStyleHelper");return(e||t).getBoundingClientRect()}var o=r(t);var n=null;var s=0;var l;var u;var d;for(var p=e.length-1;p>=0;p--){u=e[p].getDomRef();if(u){l=r(u);if(!l.width&&!l.height){continue}if(a&&l.top>=o.top||!a&&l.bottom<=o.bottom){continue}d=i(l,o);if(!n||d<s){n=e[p];s=d}}}return n}var b=n.extend("sap.ushell.ui.launchpad.Section",{metadata:{library:"sap.ushell",properties:{editable:{type:"boolean",group:"Misc",defaultValue:false},dataHelpId:{type:"string",group:"Misc",defaultValue:""},default:{type:"boolean",group:"Misc",defaultValue:false},enableAddButton:{type:"boolean",group:"Behavior",defaultValue:true},enableDeleteButton:{type:"boolean",group:"Behavior",defaultValue:true},enableGridBreakpoints:{type:"boolean",group:"Appearance",defaultValue:false},enableGridContainerQuery:{type:"boolean",group:"Appearance",defaultValue:false},enableResetButton:{type:"boolean",group:"Behavior",defaultValue:true},enableShowHideButton:{type:"boolean",group:"Behavior",defaultValue:true},enableVisualizationReordering:{type:"boolean",group:"Behavior",defaultValue:false},noVisualizationsText:{type:"string",group:"Appearance",defaultValue:u.i18n.getText("Section.NoVisualizationsText")},title:{type:"string",group:"Appearance",defaultValue:""},showNoVisualizationsText:{type:"boolean",group:"Behavior",defaultValue:false},showSection:{type:"boolean",group:"Misc",defaultValue:true},showLinks:{type:"boolean",group:"Behavior",defaultValue:true},sizeBehavior:{type:"sap.m.TileSizeBehavior",group:"Misc",defaultValue:c.Responsive},gridContainerGap:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerGapXS:{type:"string",group:"Appearance",defaultValue:"0.475rem"},gridContainerGapS:{type:"string",group:"Appearance",defaultValue:"0.475rem"},gridContainerGapM:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerGapL:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerGapXL:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerRowSize:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeXS:{type:"string",group:"Appearance",defaultValue:"4.375rem"},gridContainerRowSizeS:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeM:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeL:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeXL:{type:"string",group:"Appearance",defaultValue:"5.25rem"},_duringDrag:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"visualizations",aggregations:{visualizations:{type:"sap.ui.core.Control",bindable:"bindable",multiple:true},defaultItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"--defaultArea",aggregation:"items",forwardBinding:false},dnd:true},flatItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"--flatArea",aggregation:"items",forwardBinding:false},dnd:true},compactItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"--compactArea",aggregation:"items",forwardBinding:false},dnd:true}},events:{add:{},delete:{},reset:{},titleChange:{},visualizationDrop:{parameters:{draggedControl:{type:"sap.ui.core.Control"},droppedControl:{type:"sap.ui.core.Control"},dropPosition:{type:"string"}}},areaDragEnter:{parameters:{originalEvent:{type:"sap.ui.base.Event"},dragControl:{type:"sap.ui.core.Control"},sourceArea:{type:"string"},targetArea:{type:"string"}}},sectionVisibilityChange:{parameters:{visible:{type:"boolean"}}},borderReached:{parameters:{event:{type:"jQuery.Event"}}}}},resourceModel:u.i18nModel});function A(e){for(var a in y){if(e.displayFormatHint===y[a]){return y[a]}}if(e.displayFormatHint&&e.displayFormatHint!=="tile"){t.error("DisplayFormat '"+e.displayFormatHint+"' not valid - 'standard' is used")}return y.Standard}function C(){return new l({path:"",caseSensitive:true,test:function(t){var e=A(t);return e===y.Standard||e===y.StandardWide}})}function I(){return new l({path:"",caseSensitive:true,test:function(t){var e=A(t);return e===y.Flat||e===y.FlatWide}})}function V(){return new l({path:"",caseSensitive:true,test:function(t){return A(t)===y.Compact}})}b.prototype.bindAggregation=function(a,i){if(a==="visualizations"){if(i.filters){t.error("bind visualizations with pre-existing filters is not implemented.")}var r=e(i);r.filters=C();n.prototype.bindAggregation.call(this,"defaultItems",r);var o=e(i);o.filters=I();n.prototype.bindAggregation.call(this,"flatItems",o);var s=e(i);s.filters=V();n.prototype.bindAggregation.call(this,"compactItems",s)}else{n.prototype.bindAggregation.call(this,a,i)}return this};b.prototype.getAllItems=function(){return this.getDefaultItems().concat(this.getFlatItems(),this.getCompactItems())};b.prototype.getVisualizations=function(){var t=this.getAllItems();t.sort(function(e,a){var i=e.getBindingContext().getPath();var r=parseInt(i.split("/").pop(),10);i=a.getBindingContext().getPath();var o=parseInt(i.split("/").pop(),10);if(r===o){r=t.indexOf(e);o=t.indexOf(a)}return r<o?-1:1});return t};b.prototype.filterVisualizations=function(t){var e=t?new l({filters:[C(),t],and:true}):C();var a=t?new l({filters:[I(),t],and:true}):I();var i=t?new l({filters:[V(),t],and:true}):V();this.getBinding("defaultItems").filter(e);this.getBinding("flatItems").filter(a);this.getBinding("compactItems").filter(i)};b.prototype.indexOfVisualization=function(t){return this.getVisualizations().indexOf(t)};b.prototype.addVisualization=function(e,a){t.error("Section.prototype.addVisualization should not be called");return this.addAggregation("visualizations",e,a)};b.prototype.insertVisualization=function(e,a,i){t.error("Section.prototype.insertVisualization should not be called");return this.insertAggregation("visualizations",e,a,i)};b.prototype.removeVisualization=function(e,a){t.error("Section.prototype.removeVisualization should not be called");return this.removeAggregation("visualizations",e,a)};b.prototype.onBorderReached=function(t){var e;var a=t.getParameter("event");var i=a.keyCode;var r=a.type;var o=jQuery(a.target.firstElementChild).control(0);switch(i){case s.ARROW_UP:e=this.getClosestVizualization(o,true);break;case s.ARROW_DOWN:e=this.getClosestVizualization(o,false);break;case s.ARROW_LEFT:e=this._getPreviousViz(o);break;case s.ARROW_RIGHT:e=this._getNextViz(o);break;default:return}if(e){this._focusItem(this.getItemPosition(e));a.preventDefault()}else{this.fireBorderReached({event:t,section:this,direction:r==="sapnext"?"down":"up"})}};b.prototype._getNextViz=function(t){var e=this.getAllItems();var a=e.indexOf(t);return a===-1?e[0]:e[a+1]};b.prototype._getPreviousViz=function(t){var e=this.getAllItems();var a=e.indexOf(t);return a===-1?e[e.length-1]:e[a-1]};b.prototype.handleEmptyContentAreas=function(){var t=!!this.getDefaultItems().length,e=!!this.getFlatItems().length,a=!!this.getCompactItems().length,i=!t&&!a&&!e;this.oVBox.toggleStyleClass("sapUshellSectionNoVisualizations",i);this.oDefaultArea.toggleStyleClass("sapUshellSectionDefaultArea",t);this.oFlatArea.toggleStyleClass("sapUshellSectionFlatArea",e);if(!t){this._removeTabIndexFromGridContainer(this.oDefaultArea)}if(!e){this._removeTabIndexFromGridContainer(this.oFlatArea)}var r=this.oVBox.getDomRef&&this.oVBox.getDomRef();if(r&&this.getEditable()&&this.getShowNoVisualizationsText()&&i){r.setAttribute("aria-describedBy",this.byId("noVisualizationsText").getId())}else if(r){r.removeAttribute("aria-describedBy")}};b.prototype._removeTabIndexFromGridContainer=function(t){var e=t.getFocusDomRef();if(e){e.setAttribute("tabindex","-1");for(var a=0;a<e.children.length;++a){e.children[a].setAttribute("tabindex","-1")}}};b.prototype.init=function(){this.oVBox=this.byId("content");this.oDefaultArea=this.byId("defaultArea");this.oFlatArea=this.byId("flatArea");this.oCompactArea=this.byId("compactArea");this.oNoVisualizationsText=this.byId("noVisualizationsText");this.oCompactArea.setVisible(true);var t=function(){var t=this.oVBox.getDomRef();if(t){var e;if(this.getTitle().trim()){e=u.i18n.getText("Section.Description",this.getTitle())}else{e=u.i18n.getText("Section.Description.EmptySectionTitle")}t.setAttribute("aria-label",e)}}.bind(this);this.oVBox.addEventDelegate({onBeforeRendering:function(){this.byId("title-edit").detachChange(t)}.bind(this),onAfterRendering:function(){var e=this.oVBox.getDomRef();if(this.getEditable()){e.setAttribute("tabindex","0")}t();e.setAttribute("role","group");this.byId("title-edit").attachChange(t)}.bind(this)});this.oDefaultArea.addEventDelegate({onAfterRendering:this.handleEmptyContentAreas.bind(this)});this.oFlatArea.addEventDelegate({onAfterRendering:this.handleEmptyContentAreas.bind(this)});this.oCompactArea.addEventDelegate({onAfterRendering:this.handleEmptyContentAreas.bind(this)});this.oDefaultArea.attachBorderReached(this.onBorderReached.bind(this));this.oFlatArea.attachBorderReached(this.onBorderReached.bind(this));this.oCompactArea.attachBorderReached(this.onBorderReached.bind(this));this._oInvisibleMessageInstance=r.getInstance();this._oDefaultItemsChangeDetection=new d("defaultItems",this,["flatItems","compactItems"]);this._oFlatItemsChangeDetection=new d("flatItems",this,["defaultItems","compactItems"]);this._oCompactItemsChangeDetection=new d("compactItems",this,["defaultItems","flatItems"]);this._fnGlobalDragStart=function(){this.setProperty("_duringDrag",true)}.bind(this);this._fnGlobalDragEnd=function(){this.setProperty("_duringDrag",false)}.bind(this);document.addEventListener("dragstart",this._fnGlobalDragStart,false);document.addEventListener("dragend",this._fnGlobalDragEnd,false)};b.prototype.destroy=function(){n.prototype.destroy.apply(this,arguments);this._oDefaultItemsChangeDetection.destroy();this._oFlatItemsChangeDetection.destroy();this._oCompactItemsChangeDetection.destroy();document.removeEventListener("dragstart",this._fnGlobalDragStart,false);document.removeEventListener("dragend",this._fnGlobalDragEnd,false);if(this.oCompactItemsNavigation){this.oCompactArea.removeDelegate(this.oCompactItemsNavigation);this.oCompactItemsNavigation.destroy();this.oCompactItemsNavigation=null}if(this._oInvisibleMessageInstance){this._oInvisibleMessageInstance.destroy()}n.prototype.destroy.apply(this,arguments)};b.prototype.setEditable=function(t){if(t===undefined||this.getEditable()===t){return this}this.setProperty("editable",!!t,true);this.oVBox.toggleStyleClass("sapUshellSectionEdit",!!t);return this};b.prototype._showHidePressed=function(t){var e=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._oInvisibleMessageInstance.announce([u.i18n.getText(t?"Section.nowBeingShown":"Section.nowBeingHidden"),u.i18n.getText("Section.ButtonLabelChanged"),u.i18n.getText(t?"Section.Button.Hide":"Section.Button.Show"),e.getText("ACC_CTR_TYPE_BUTTON")].join(" "),m.Polite);this.setShowSection(t)};b.prototype.setShowSection=function(t){if(t===undefined||this.getShowSection()===t){return this}this.setProperty("showSection",t,true);this.oVBox.toggleStyleClass("sapUshellSectionHidden",!t);this.fireSectionVisibilityChange({visible:t});return this};b.prototype._reorderVisualizations=function(t){this.fireVisualizationDrop(t.getParameters())};b.prototype.getClosestVizualization=function(t,e){var a=this.getAllItems();return v(t,a,e)};b.prototype.getClosestVizIndex=function(t,e){var a=this.getClosestVizualization(t,e);return a?this.indexOfVisualization(a):-1};b.prototype.getClosestCompactItemIndex=function(t,e){var a=v(t,this.getCompactItems(),e);if(a){return this.indexOfVisualization(a)}return e?this.getVisualizations().length:0};b.prototype._onDragEnter=function(t){var e=t.getParameter("dragSession");var a=e.getDragControl();var i=a.getParent();var r=e.getDropControl&&e.getDropControl();if(!r){return}if(!r.data("area")){r=r.getParent()}if(r.data("default")&&!i.data("default")){t.preventDefault()}this.fireAreaDragEnter({originalEvent:t,dragControl:a,sourceArea:i.data("area"),targetArea:r.data("area")})};b.prototype.addAggregation=function(t,e){if(t==="defaultItems"||t==="flatItems"){this._addVisualizationLayoutData(e)}n.prototype.addAggregation.apply(this,arguments);this.handleEmptyContentAreas();return this};b.prototype.insertAggregation=function(t,e){if(t==="defaultItems"||t==="flatItems"){this._addVisualizationLayoutData(e,t)}n.prototype.insertAggregation.apply(this,arguments);this.handleEmptyContentAreas();return this};b.prototype._getVisualizationLayoutData=function(t){if(t.getLayout){return t.getLayout()}return{rows:2,columns:2}};b.prototype._getFlatVisualizationLayoutData=function(t){if(t.getLayout){return t.getLayout()}return{rows:1,columns:2}};b.prototype._addVisualizationLayoutData=function(t,e){if(!t.getLayoutData()){var i=e==="defaultItems"?this._getVisualizationLayoutData(t):this._getFlatVisualizationLayoutData(t);t.setLayoutData(new a(i))}};b.prototype._getDefaultDropIndicatorSize=function(t){return this._getDropIndicatorSize(t,y.Standard)};b.prototype._getFlatDropIndicatorSize=function(t){return this._getDropIndicatorSize(t,y.Flat)};b.prototype._getDropIndicatorSize=function(t,e){var a=t.getParent();var i=a&&a.data("area");if(e===i&&t.getLayoutData){var r=t.getLayoutData();return{rows:r.getRows(),columns:r.getColumns()}}var o={};var n=[];if(t.getSupportedDisplayFormats){n=t.getSupportedDisplayFormats()}if(e===y.Flat){o.rows=1;o.columns=2;if(!n.includes(y.Flat)&&n.includes(y.FlatWide)){o.columns=4}}else{o.rows=2;o.columns=2;if(!n.includes(y.Standard)&&n.includes(y.StandardWide)){o.columns=4}}return o};b.prototype.getItemPosition=function(t){if(isFinite(t)){t=this.getVisualizations()[t]}var e=this.oDefaultArea.getItems().indexOf(t);if(e>=0){return{index:e,area:y.Standard}}e=this.oFlatArea.getItems().indexOf(t);if(e>=0){return{index:e,area:y.Flat}}e=this.oCompactArea.getItems().indexOf(t);if(e>=0){return{index:e,area:y.Compact}}return{index:-1,area:y.Standard}};b.prototype._focusItem=function(t){window.setTimeout(function(){var e=t&&t.area?t.area:y.Standard;var a=t&&t.index?t.index:t;var i=this.oDefaultArea.getItems().length;var r=this.oFlatArea.getItems().length;var o=this.oCompactArea.getItems().length;if(isNaN(a)||a<0){a=0}if(e===y.Standard&&i===0){e=y.Flat}if(e===y.Flat&&r===0){e=y.Compact}if(e===y.Compact&&o===0){e=y.Standard}if(i+r+o===0){e="section"}switch(e){case"section":this.focus();break;case y.Flat:if(a>=r){a=r-1}this.oFlatArea.focusItem(a);break;case y.Compact:this.oCompactArea.focusItem(a);break;default:if(a>=i){a=i-1}this.oDefaultArea.focusItem(a);break}}.bind(this),0)};b.prototype.focusVisualization=function(t){var e;if(!this.getShowSection()&&!this.getEditable()){return false}var a=this.getAllItems();if(!a.length){return false}if(t&&t.area){this._focusItem(t);return true}if(t&&t.getMetadata){e=t}if(!e&&t&&t.keycode){switch(t.keycode){case s.ARROW_UP:e=this.getClosestVizualization(t.ref,true);break;case s.ARROW_DOWN:e=this.getClosestVizualization(t.ref,false);break;case s.ARROW_LEFT:t=-1;break;default:break}}if(!e&&t===-1){e=a[a.length-1]}if(!e){e=a[0]}this._focusItem(this.getItemPosition(e));return true};return b});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/Tile", ["sap/base/Log","sap/m/Text","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/Icon","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","./TileRenderer"],function(e,t,i,o,s,jQuery,n,a,l){"use strict";var r=o.extend("sap.ushell.ui.launchpad.Tile",{metadata:{library:"sap.ushell",properties:{long:{type:"boolean",group:"Misc",defaultValue:false},uuid:{type:"string",group:"Misc",defaultValue:null},tileCatalogId:{type:"string",group:"Misc",defaultValue:null},tileCatalogIdStable:{type:"string",group:"Misc",defaultValue:null},isCustomTile:{type:"boolean",group:"Misc",defaultValue:false},target:{type:"string",group:"Misc",defaultValue:null},debugInfo:{type:"string",group:"Misc",defaultValue:null},rgba:{type:"string",group:"Misc",defaultValue:null},animationRendered:{type:"boolean",group:"Misc",defaultValue:false},isLocked:{type:"boolean",group:"Misc",defaultValue:false},showActionsIcon:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false},navigationMode:{type:"string",group:"Misc",defaultValue:null},isDraggedInTabBarToSourceGroup:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tileViews:{type:"sap.ui.core.Control",multiple:true,singularName:"tileView"},pinButton:{type:"sap.ui.core.Control",multiple:true,singularName:"pinButton"}},events:{press:{},coverDivPress:{},afterRendering:{},showActions:{},deletePress:{}}}});r.prototype.init=function(){this.addDelegate({onsapenter:this._launchTileViaKeyboard,onsapspace:this._launchTileViaKeyboard},this)};r.prototype.exit=function(){if(this.actionSheetIcon){this.actionSheetIcon.destroy()}if(this.actionIcon){this.actionIcon.destroy()}if(this.failedToLoadViewText){this.failedToLoadViewText.destroy()}};r.prototype.getFailedtoLoadViewText=function(){if(!this.failedToLoadViewText){this.failedToLoadViewText=new t({text:a.i18n.getText("Tile.failedToLoadView")})}return this.failedToLoadViewText};r.prototype.getActionSheetIcon=function(){if(!this.getTileActionModeActive()){return undefined}if(!this.actionSheetIcon){this.actionSheetIcon=new s({src:"sap-icon://overflow",tooltip:a.i18n.getText("configuration.category.tile_actions")}).addStyleClass("sapUshellTileActionIconDivBottomInner")}return this.actionSheetIcon};r.prototype.ontap=function(){e.info("Tile clicked:",this.getDebugInfo(),"sap.ushell.ui.launchpad.Tile");this.firePress()};r.prototype.destroy=function(e){this.destroyTileViews();o.prototype.destroy.call(this,e)};r.prototype.addTileView=function(e,t){e.setParent(null);i.prototype.addAggregation.call(this,"tileViews",e,t)};r.prototype.destroyTileViews=function(){if(this.mAggregations.tileViews){this.mAggregations.tileViews.length=0}};r.prototype.onBeforeRendering=function(){var e=this.getDomRef();if(e){var t=e.querySelector("a.sapUshellTileInner");if(t){t.onclick=null}if(document.activeElement===e){this.bFocused=true}this.sTabIndex=e.getAttribute("tabindex");if(this.sTabIndex){e.removeAttribute("tabindex")}}};r.prototype.onAfterRendering=function(){if(this.getIsDraggedInTabBarToSourceGroup()){var e=this.getParent();e.removeAggregation("tiles",this,false)}var t=this.getDomRef();if(t){if(this.sTabIndex){t.setAttribute("tabindex",this.sTabIndex);delete this.sTabIndex}if(this.bFocused){t.focus();delete this.bFocused}}this._redrawRGBA();this._disableInnerLink();this.fireAfterRendering()};r.prototype._disableInnerLink=function(){var e=this.getDomRef();var t=e.querySelector("a.sapUshellTileInner");if(t){t.onclick=function(e){e.preventDefault()}}};r.prototype._launchTileViaKeyboard=function(e){if(this.getTileActionModeActive()){this.fireCoverDivPress({id:this.getId()})}else{this._announceLoadingApplication();if(e.target.tagName!=="BUTTON"){var t=this.getTileViews()[0],i=false,o,s;if(t.firePress){t.firePress({id:this.getId()})}else if(t.getComponentInstance){o=t.getComponentInstance();if(o._oController&&o._oController.oView.getContent()){s=o._oController.oView.getContent()[0];if(s&&s.firePress){s.firePress({id:this.getId()})}}}else{while(t.getContent&&!i){t=t.getContent()[0];if(t.firePress){t.firePress({id:this.getId()});i=true}}}}}};r.prototype.onfocusin=function(){var t=this.getDomRef();if(!t.classList.contains("sapUshellPlusTile")){var i=this.$().prevUntil("h3"),o;if(i.length>0){o=i[i.length-1].previousSibling}else{o=t.previousSibling}var s=t.querySelector(".sapUshellTileInner");if(s&&s.children&&s.children[0]){var n=[];if(o){n.push("sapUshellCatalogAccessibilityTileText")}else{n.push("sapUshellDashboardAccessibilityTileText")}var l=this.getNavigationMode();if(l){var r=a.i18n.getText(l+"NavigationMode");if(r){var c=this.getId()+"-navigationMode";if(!document.getElementById(c)){var u=document.createElement("div");u.setAttribute("id",c);u.style.display="none";u.innerText=r;s.appendChild(u)}n.push(c)}else{e.warning("The navigation mode is of a unkown mode, it can not be read!")}}n.push(s.children[0].getAttribute("id"));var d=t.querySelector(".sapUshellTileDeleteClickArea .sapUiIcon");if(d){n.push(d.id)}if(o){n.push(o.getAttribute("id"))}if(this.getTileActionModeActive()){n.push("sapUshellDashboardAccessibilityTileEditModeText")}t.setAttribute("aria-labelledby",n.join(" "))}}};r.prototype.onclick=function(e){if(this.getTileActionModeActive()){var t=e.originalEvent.srcElement;if(jQuery(t).closest(".sapUshellTileDeleteClickArea").length>0){this.fireDeletePress()}else{this.fireCoverDivPress({id:this.getId()})}}else{this._announceLoadingApplication()}};r.prototype._announceLoadingApplication=function(){var e=document.getElementById("sapUshellLoadingAccessibilityHelper-appInfo"),t=a.i18n.getText("screenReaderNavigationLoading");if(e){e.setAttribute("role","alert");e.innerText=t;setTimeout(function(){e.removeAttribute("role");e.innerText=""},0)}};r.prototype._initDeleteAction=function(){var e=this;if(!this.deleteIcon){this.deleteIcon=new s({src:"sap-icon://decline",tooltip:a.i18n.getText("removeButtonTitle")});this.deleteIcon.addEventDelegate({onclick:function(t){e.fireDeletePress();t.stopPropagation()}});this.deleteIcon.addStyleClass("sapUshellTileDeleteIconInnerClass");this.deleteIcon.addCustomData(new l({key:"aria-label",value:a.i18n.getText("removeButtonLabel"),writeToDom:true}))}return this.deleteIcon};r.prototype.setShowActionsIcon=function(e){if(e){if(!this.actionIcon){this.actionIcon=new s({size:"1rem",src:"sap-icon://overflow",press:function(){this.fireShowActions();this.addStyleClass("showTileActionsIcon");var e=sap.ui.getCore().getEventBus(),t=function(i,o,s){s.removeStyleClass("showTileActionsIcon");e.unsubscribe("dashboard","actionSheetClose",t)};e.subscribe("dashboard","actionSheetClose",t)}.bind(this)}).addStyleClass("sapUshellTileActionsIconClass")}}this.setProperty("showActionsIcon",e)};r.prototype.setIsDraggedInTabBarToSourceGroup=function(e){this.setProperty("isDraggedInTabBarToSourceGroup",e);this.setVisible(!e)};r.prototype.setRgba=function(e){this.setProperty("rgba",e);this._redrawRGBA()};r.prototype._redrawRGBA=function(){var e=this.getRgba(),t=this.$();if(e&&t){var i=this.getModel();t.css("background-color",e);t.unbind("mouseenter mouseleave");var o,s=t.css("border").split("px")[0];if(s>0){o=t.css("border-color")}else{o=e}t.hover(function(){if(i&&!i.getProperty("/tileActionModeActive")){var e=t.css("box-shadow"),s=e?e.split(") ")[1]:null;if(s){t.css("box-shadow",s+" "+o)}}},function(){t.css("box-shadow","")})}};return r});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileContainer", ["sap/base/Log","sap/m/Input","sap/m/library","sap/m/Text","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/Icon","sap/ushell/override","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/PlusTile","sap/ushell/utils","sap/ushell/ui/launchpad/TileContainerRenderer"],function(e,t,i,o,s,a,r,l,n,u,p,d){"use strict";var f=i.HeaderLevel;var h=a.extend("sap.ushell.ui.launchpad.TileContainer",{metadata:{library:"sap.ushell",properties:{scrollType:{type:"string",group:"Misc",defaultValue:"item"},animationSpeed:{type:"int",group:"Misc",defaultValue:500},groupId:{type:"string",group:"Misc",defaultValue:null},showHeader:{type:"boolean",group:"Misc",defaultValue:true},showPlaceholder:{type:"boolean",group:"Misc",defaultValue:true},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},isLastGroup:{type:"boolean",group:"Misc",defaultValue:false},headerText:{type:"string",group:"Misc",defaultValue:null},headerLevel:{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:f.H2},groupHeaderLevel:{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:f.H4},showGroupHeader:{type:"boolean",group:"Misc",defaultValue:true},homePageGroupDisplay:{type:"string",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},sortable:{type:"boolean",group:"Misc",defaultValue:true},showNoData:{type:"boolean",group:"Misc",defaultValue:false},noDataText:{type:"string",group:"Misc",defaultValue:u.i18n.getText("noFilteredItems")},isGroupLocked:{type:"boolean",group:"Misc",defaultValue:null},isGroupSelected:{type:"boolean",group:"Misc",defaultValue:false},editMode:{type:"boolean",group:"Misc",defaultValue:false},showBackground:{type:"boolean",group:"Misc",defaultValue:false},icon:{type:"string",group:"Misc",defaultValue:"sap-icon://locked"},showIcon:{type:"boolean",group:"Misc",defaultValue:false},deluminate:{type:"boolean",group:"Misc",defaultValue:false},showMobileActions:{type:"boolean",group:"Misc",defaultValue:false},enableHelp:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksArea:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksAreaPlaceHolder:{type:"boolean",group:"Misc",defaultValue:false},hidden:{type:"boolean",group:"Misc",defaultValue:false},transformationError:{type:"boolean",group:"Misc",defaultValue:false},supportLinkPersonalization:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tiles:{type:"sap.ui.core.Control",multiple:true,singularName:"tile"},links:{type:"sap.ui.core.Control",multiple:true,singularName:"link"},beforeContent:{type:"sap.ui.core.Control",multiple:true,singularName:"beforeContent"},afterContent:{type:"sap.ui.core.Control",multiple:true,singularName:"afterContent"},headerActions:{type:"sap.ui.core.Control",multiple:true,singularName:"headerAction"}},events:{afterRendering:{},add:{},titleChange:{}}}});h.prototype.init=function(){this.bIsFirstTitleChange=true;this._sDefaultValue=u.i18n.getText("new_group_name");this.oNoLinksText=new o({text:u.i18n.getText("emptyLinkContainerInEditMode")}).addStyleClass("sapUshellNoLinksAreaPresentTextInner");this.oTransformationErrorText=new o({text:u.i18n.getText("transformationErrorText")}).addStyleClass("sapUshellTransformationErrorText");this.oTransformationErrorIcon=new r({src:"sap-icon://message-error"}).addStyleClass("sapUshellTransformationErrorIcon");this.oIcon=new r({src:this.getIcon()}).addStyleClass("sapUshellContainerIcon");this.oPlusTile=new p({groupId:this.getGroupId(),enableHelp:this.getEnableHelp(),press:[this.fireAdd,this]}).setParent(this);var e=function(){this.getDomRef("groupheader").focus();this._stopEdit();var t=this.oEditInputField.getDomRef();if(t){t.removeEventListener("focusout",e)}}.bind(this);this.oEditInputField=new t({placeholder:this._sDefaultValue,value:this.getHeaderText()}).addEventDelegate({onBeforeRendering:function(){var t=this.oEditInputField.getDomRef();if(t){t.removeEventListener("focusout",e)}}.bind(this),onAfterRendering:function(){var t=this.oEditInputField.$("inner");t.focus();t.selectText(0,t.val().length);var i=this.oEditInputField.getDomRef();if(i){i.addEventListener("focusout",e)}}.bind(this)}).addStyleClass("sapUshellTileContainerTitleInput");if(sap.ushell.Container){sap.ushell.Container.getServiceAsync("LaunchPage").then(function(e){if(e.isLinkPersonalizationSupported()){h.prototype.isLinkPersonalizationOveride()}})}this.fnTitleTextClickHandler=this._titleTextClickHandler.bind(this)};h.prototype.onBeforeRendering=function(){var e=this.getDomRef("titleText");if(e){e.removeEventListener("click",this.fnTitleTextClickHandler)}var t=this.getTiles();var i=this.getLinks();var o=t.concat(i);o.forEach(function(e){var t=e.getDomRef();if(t){var i=t.getAttribute("data-oldTabindex");if(i){t.setAttribute("tabindex",i);t.removeAttribute("data-oldTabindex")}else{t.removeAttribute("tabindex")}}})};h.prototype.onAfterRendering=function(){var e=this.getDomRef("titleText");if(e){e.addEventListener("click",this.fnTitleTextClickHandler)}var t=this.getTiles();var i=this.getLinks();var o=t.concat(i);o.forEach(function(e){var t=e.getDomRef();if(t){var i=t.getAttribute("tabindex");if(i){t.setAttribute("data-oldTabindex",i)}t.setAttribute("tabindex","-1")}});var s=t.filter(function(e){return e.isA("sap.ui.integration.widgets.Card")});this._resizeCards(s);var a=sap.ui.getCore().getEventBus();a.publish("launchpad","GroupHeaderVisibility");this.fireAfterRendering()};h.prototype._titleTextClickHandler=function(){var e=this.getModel()&&this.getModel().getProperty("/enableRenameLockedGroup"),t=(e||!this.getIsGroupLocked())&&!this.getDefaultGroup()&&this.getTileActionModeActive();this.setEditMode(t)};h.prototype.updateAggregation=l.updateAggregation;h.prototype.setGroupId=function(e,t){this.setProperty("groupId",e,t);this.oPlusTile.setGroupId(e,t);return this};h.prototype.setShowIcon=function(e,t){this.setProperty("showIcon",e,t);this.oIcon.toggleStyleClass("sapUshellContainerIconHidden",!e);return this};h.prototype.groupHasTiles=function(){var e="",t=this.getTiles(),i=[];if(this.getBindingContext()){e=this.getBindingContext().sPath;t=this.getModel().getProperty(e).tiles}return d.groupHasVisibleTiles(t,i)};h.prototype.getInnerContainersDomRefs=function(){var e=this.getDomRef();if(!e){return null}return[e.querySelector(".sapUshellTilesContainer-sortable"),e.querySelector(".sapUshellLineModeContainer")]};h.prototype.isLinkPersonalizationOveride=function(){h.prototype.updateLinks=function(e){var t=this.getParent(),i=t&&t.getDisplayMode&&t.getDisplayMode()==="tabs";if(i&&!this.getTileActionModeActive()){t.removeLinksFromUnselectedGroups()}if(this.getLinks().length>0){this.removeAllLinks()}s.prototype.updateAggregation.call(this,"links")};h.prototype.destroyLinks=function(t){e.debug("link is destroyed because: "+t,null,"sap.ushell.ui.launchpad.TileContainer")}};h.prototype._resizeCards=function(e){var t,i,o=5.5,s=.4375,a,r,l,n;for(var u=0;u<e.length;u++){t=e[u];i=t.getManifest();a=i["sap.flp"].rows;r=i["sap.flp"].columns;l=r*o+(r-3)*s+"rem";n=a*o+(a-1)*s+"rem";t.setHeight(n);t.setWidth(l)}};h.prototype.setEditMode=function(e,t){this.setProperty("editMode",e,t);if(e){this.oEditInputField.setValue(this.getHeaderText())}var i=this.getModel();if(i){i.setProperty("/editTitle",e)}};h.prototype._stopEdit=function(){var e=this.getHeaderText();var t=this.oEditInputField.getValue(),i;t=t.substring(0,256).trim()||this._sDefaultValue;i=t!==e;if(this.bIsFirstTitleChange&&t===this.oEditInputField.getPlaceholder()){i=true}this.bIsFirstTitleChange=false;if(this.getModel()&&this.getModel().getProperty("/editTitle")){this.getModel().setProperty("/editTitle",false,false)}if(i){this.fireTitleChange({newTitle:t});this.setHeaderText(t)}this.setEditMode(false)};h.prototype.exit=function(){if(this.oNoLinksText){this.oNoLinksText.destroy()}if(this.oTransformationErrorText){this.oTransformationErrorText.destroy()}if(this.oTransformationErrorIcon){this.oTransformationErrorIcon.destroy()}if(this.oIcon){this.oIcon.destroy()}if(this.oPlusTile){this.oPlusTile.destroy()}if(this.oEditInputField){this.oEditInputField.destroy()}var e=this.getDomRef("titleText");if(e){e.removeEventListener("click",this.fnTitleTextClickHandler)}if(a.prototype.exit){a.prototype.exit.apply(this,arguments)}};return h});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileContainerRenderer", ["sap/ushell/resources","sap/ushell/utils","sap/ushell/bootstrap/common/common.load.model","sap/ushell/Config","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ui/core/CustomData"],function(e,t,o,a,s,i){"use strict";var r={apiVersion:2};r.oModel=o.getModel();r.render=function(o,a){var r=a.getHeaderActions(),n=a.getBeforeContent(),l=a.getAfterContent(),d=a.getLinks(),c=d.length,p=this;o.openStart("div",a);o.class("sapUshellTileContainer");if(!a.getVisible()){o.class("sapUshellHidden")}if(a.getDeluminate()){o.class("sapUshellDisableLockedGroupDuringDrag")}if(a.getEditMode()){o.class("sapUshellEditing")}if(a.getHidden()){o.class("sapUshellTileContainerEditModeHidden")}if(!a.getShowEmptyLinksArea()){o.class("sapUshellLinksAreaHidden")}if(a.getShowEmptyLinksAreaPlaceHolder()){o.class("sapUshellTileContainerEditMode");o.class("sapUshellTileContainerTabsModeEmptyLinksArea")}else{o.class("sapUshellEmptyLinksAreaPlaceHolder")}o.openEnd();if(n.length&&a.getTileActionModeActive()){o.openStart("div");o.class("sapUshellTileContainerBeforeContent");o.class("sapContrastPlus");o.openEnd();n.forEach(function(e){o.renderControl(e)});o.close("div")}o.openStart("div");o.class("sapUshellTileContainerContent");if(a.getIsGroupLocked()){o.class("sapUshellTileContainerLocked")}if(a.getDefaultGroup()){o.class("sapUshellTileContainerDefault")}if(a.getShowBackground()){o.class("sapUshellTileContainerEditMode")}o.openEnd();if(a.getShowBackground()){o.openStart("div");o.class("sapUshellGroupBackgroundContainer");o.class("sapContrastPlus");o.openEnd();o.close("div")}if(a.getShowHeader()){o.openStart("div",a.getId()+"-groupheader");o.class("sapUshellTileContainerHeader");o.class("sapContrastPlus");if(!a.getShowGroupHeader()){o.class("sapUshellFirstGroupHeaderHidden");o.class("sapUiPseudoInvisibleText")}if(a.getTileActionModeActive()){o.attr("tabindex","0")}var g;if(a.getDefaultGroup()){g=e.i18n.getText("ariaLabelEditModeGroupDefault",a.getHeaderText())}else if(a.getIsGroupLocked()){g=e.i18n.getText("ariaLabelEditModeGroupLocked",a.getHeaderText())}else{g=e.i18n.getText("ariaLabelEditModeGroup",a.getHeaderText())}o.attr("aria-label",g);o.openEnd();o.openStart("div",a.getId()+"-title");o.class("sapUshellContainerTitleFlex");o.openEnd();if(a.getEditMode()){o.renderControl(a.oEditInputField)}else{var u=a.getHeaderLevel().toLowerCase();o.openStart(u,a.getId()+"-titleText");o.class("sapUshellContainerTitle");o.attr("title",a.getHeaderText());o.attr("data-role","group");if(a.getTileActionModeActive()&&!a.getIsGroupLocked()&&!a.getDefaultGroup()){o.attr("tabindex","0")}o.openEnd();o.text(a.getHeaderText());o.close(u)}if(a.getIsGroupLocked()){o.renderControl(a.oIcon)}else if(a.getTileActionModeActive()){o.openStart("div");o.class("sapUshellContainerHeaderActions");o.openEnd();r.forEach(function(e){o.renderControl(e)});o.close("div")}o.close("div");o.close("div")}o.openStart("ul");o.class("sapUshellTilesContainer-sortable");o.class("sapUshellInner");o.openEnd();var f=false;a.getTiles().forEach(function(e){if(e.getVisible()){f=true}if(p._isUserActivityCard(e)){p._updateUserActivityCardVisibility(e)}o.renderControl(e)});if(a.getShowPlaceholder()){o.renderControl(a.oPlusTile)}if(a.getShowNoData()){this.renderNoData(o,a,!f)}o.close("ul");var h=a.getSupportLinkPersonalization();if(c>0||h){o.openStart("div");o.class("sapUshellLineModeContainer");if(!c&&h){o.class("sapUshellNoLinksAreaPresent");if(a.getTransformationError()){o.class("sapUshellNoLinksAreaPresentError")}o.openEnd();o.openStart("div");o.class("sapUshellNoLinksAreaPresentText");o.openEnd();o.renderControl(a.oNoLinksText);o.close("div")}else{o.openEnd()}if(h){if(a.getTransformationError()){o.openStart("div");o.class("sapUshellTransformationError");if(!a.transformationError){o.style("display","none")}o.openEnd();o.openStart("div");o.class("sapUshellTransformationErrorInnerWrapper");o.openEnd();o.renderControl(a.oTransformationErrorIcon);o.renderControl(a.oTransformationErrorText);o.close("div");o.close("div")}o.openStart("div");o.class("sapUshellLinksInnerContainer");o.openEnd();var C,T,v,E;d.forEach(function(e,t){C=e.getCustomData();T=false;v=false;E=false;C.forEach(function(o){if(o.getKey()==="aria-posinset"){o.setValue((t+1).toString());o.setWriteToDom(true);T=true}else if(o.getKey()==="aria-setsize"){o.setValue(c.toString());o.setWriteToDom(true);v=true}else if(o.getKey()==="help-id"){o.setValue(e.getBindingContext()&&e.getBindingContext().getProperty("tileCatalogId"));o.setWriteToDom(true);E=true}else if(o.getKey()==="help-id2"){o.setValue(e.getBindingContext()&&e.getBindingContext().getProperty("tileCatalogIdStable"));o.setWriteToDom(true);E=true}});if(!T){e.addCustomData(new s({key:"aria-posinset",value:(t+1).toString(),writeToDom:true}))}if(!v){e.addCustomData(new s({key:"aria-setsize",value:c.toString(),writeToDom:true}))}if(e.getModel()&&e.getModel().getProperty("/enableHelp")&&!E){e.addCustomData(new i({key:"help-id",value:e.getBindingContext()&&e.getBindingContext().getProperty("tileCatalogId"),writeToDom:true}));e.addCustomData(new i({key:"help-id2",value:e.getBindingContext()&&e.getBindingContext().getProperty("tileCatalogIdStable"),writeToDom:true}))}e.addStyleClass("sapUshellLinkTile");if(a.getIsGroupLocked()){e.addStyleClass("sapUshellLockedTile")}o.renderControl(e)});o.close("div")}else{d.forEach(function(e){o.renderControl(e)})}o.close("div")}o.close("div");if(l.length&&a.getTileActionModeActive()){o.openStart("div");o.class("sapUshellTileContainerAfterContent");o.class("sapContrastPlus");o.openEnd();l.forEach(function(e){o.renderControl(e)});o.close("div")}o.close("div");t.setPerformanceMark("FLP -- tile container renderer")};r.renderNoData=function(e,t,o){e.openStart("div",t.getId()+"-listNoData");e.class("sapUshellNoFilteredItems");e.class("sapUiStrongBackgroundTextColor");e.openEnd();e.text(o?t.getNoDataText():"");e.close("div")};r._isUserActivityCard=function(t){if(typeof t.getManifest!=="function"){return false}var o=t.getManifest();var a=o&&o["sap.card"]&&o["sap.card"].header&&o["sap.card"].header.title;return a===e.i18n.getText("recentActivities")||a===e.i18n.getText("frequentActivities")};r._updateUserActivityCardVisibility=function(e){e.setVisible(a.last("/core/shell/model/enableTrackingActivity"));a.on("/core/shell/model/enableTrackingActivity").do(function(t){e.setVisible(t)})};return r},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileRenderer", ["sap/ushell/Config","sap/base/Log","sap/m/Text"],function(e,t,i){"use strict";var l={apiVersion:2};l.render=function(i,l){var n=null,s;try{n=l.getTileViews()[0]}catch(e){t.warning("Failed to load tile view: ",e.message);n=l.getFailedtoLoadViewText()}var a=l.getParent();var o=[];if(a&&a.getTiles){o=a.getTiles()}else if(a&&a.getAppBoxesContainer&&a.getCustomTilesContainer){o=a.getAppBoxesContainer().concat(a.getCustomTilesContainer())}var r=o.filter(function(e){return e.getVisible()});var d=r.indexOf(l)>-1?r.indexOf(l)+1:"";if(!a){return}i.openStart("li",l);if(e.last("/core/shell/model/enableHelp")){i.attr("data-help-id",l.getTileCatalogId());if(l.getTileCatalogIdStable()){i.attr("data-help-id2",l.getTileCatalogIdStable())}}i.class("sapUshellTile");if(l.getTileActionModeActive()){i.class("sapUshellTileWrapper")}if(n&&n.getContent){s=n.getContent();s.forEach(function(e){if(e.isA("sap.m.GenericTile")){i.class("sapUshellFeedTileBG")}})}if(l.getLong()){i.class("sapUshellLong")}if(!l.getVisible()){i.class("sapUshellHidden")}if(l.getIsLocked()){i.class("sapUshellLockedTile")}if(e.last("/core/home/sizeBehavior")==="Small"){i.class("sapUshellSmall")}i.attr("aria-posinset",d);i.attr("aria-setsize",r.length);var c=a.getId()+"-titleText";i.attr("aria-describedby",c);i.openEnd();if(l.getTileActionModeActive()){this.renderTileActionMode(i,l);this.renderTileView(i,l,n)}else{i.openStart("div");i.class("sapUshellTileWrapper");i.openEnd();this.renderTileView(i,l,n);if(l.getShowActionsIcon()){i.renderControl(l.actionIcon)}i.close("div");this.renderTileActionsContainer(i,n,l.getPinButton())}i.close("li")};l.renderTileActionsContainer=function(e,t,i){i=i.length?i[0]:undefined;if(i){i.addStyleClass("sapUshellActionButton");e.openStart("div");e.class("sapUshellTilePinButtonOverlay");if(t.getHeader){e.attr("role","toolbar");e.attr("aria-label",t.getHeader())}e.openEnd();e.renderControl(i);e.close("div")}};l.renderTileView=function(e,t,i){e.openStart("div");e.class("sapUshellTileInner");if(t.getTileActionModeActive()){e.class("sapUshellTileActionBG")}e.openEnd();e.renderControl(i);e.close("div")};l.renderTileActionMode=function(e,t){e.openStart("div");e.class("sapUshellTileActionLayerDiv");e.openEnd();if(!t.getIsLocked()){e.openStart("div");e.class("sapUshellTileDeleteClickArea");e.openEnd();e.openStart("div");e.class("sapUshellTileDeleteIconOuterClass");e.openEnd();e.renderControl(t._initDeleteAction());e.close("div");e.close("div")}e.openStart("div");e.class("sapUshellTileActionDivCenter");e.openEnd();e.close("div");e.openStart("div");e.class("sapUshellTileActionIconDivBottom");e.openEnd();e.openStart("div");e.class("sapUshellTileActionIconDivBottomInnerDiv");e.openEnd();e.renderControl(t.getActionSheetIcon());e.close("div");e.close("div");e.close("div")};return l},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileState", ["sap/ui/core/Control","sap/ui/core/Icon","sap/ushell/resources","sap/ui/core/HTML","sap/ushell/library","./TileStateRenderer"],function(t,e,i,s){"use strict";var n=t.extend("sap.ushell.ui.launchpad.TileState",{metadata:{library:"sap.ushell",properties:{state:{type:"string",group:"Misc",defaultValue:"Loaded"}},events:{press:{}}}});n.prototype.init=function(){this._rb=i.i18n;this._sFailedToLoad=this._rb.getText("cannotLoadTile");this._oWarningIcon=new e(this.getId()+"-warn-icon",{src:"sap-icon://notification",size:"1.37rem"}).addStyleClass("sapSuiteGTFtrFldIcnMrk");this.attachPress(this._onPress)};n.prototype.onclick=function(){this.firePress()};n.prototype._onPress=function(t){if(this.getState()!=="Failed"){return}if(!this.FailedTileDialog){sap.ui.require(["sap/ushell/ui/launchpad/FailedTileDialog"],function(e){this.FailedTileDialog=new e;this._onPress(t)}.bind(this))}else{this.FailedTileDialog.openFor(this)}};n.prototype._getBusyContainer=function(){if(!this._oBusyContainer){this._oBusyContainer=new s({content:"<div class='sapUshellTileStateLoading'><div>"});this._oBusyContainer.setBusy(true)}return this._oBusyContainer};n.prototype.exit=function(){this._oWarningIcon.destroy();if(this._oBusyContainer){this._oBusyContainer.destroy()}};n.prototype.setState=function(t,e){this.setProperty("state",t,e);return this};return n});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileStateRenderer", [],function(){"use strict";var e={apiVersion:2};e.render=function(e,t){e.openStart("div",t);e.class("sapUshellGT");e.openEnd();var a=t.getState();e.openStart("div",t.getId()+"-overlay");e.class("sapUshellOverlay");if(a==="Failed"){e.attr("title",t._sFailedToLoad)}e.openEnd();switch(a){case"Loading":var l=t._getBusyContainer();e.renderControl(l);break;case"Failed":e.openStart("div",t.getId()+"-failed-ftr");e.class("sapUshellTileStateFtrFld");e.openEnd();e.openStart("div",t.getId()+"-failed-icon");e.class("sapUshellTileStateFtrFldIcn");e.openEnd();e.renderControl(t._oWarningIcon);e.close("div");e.openStart("div",t.getId()+"-failed-text");e.class("sapUshellTileStateFtrFldTxt");e.openEnd();e.text(t._sFailedToLoad);e.close("div");e.close("div");break;default:}e.close("div");e.close("div")};return e},true);
//Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/section/CompactArea", ["sap/ui/core/Control","sap/ui/events/KeyCodes","sap/ushell/library","./CompactAreaRenderer"],function(e,t,o){"use strict";var r=e.extend("sap.ushell.ui.launchpad.section.CompactArea",{metadata:{library:"sap.ushell",properties:{showEmptyLinksArea:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksAreaPlaceHolder:{type:"boolean",group:"Misc",defaultValue:false},enableLinkReordering:{type:"boolean",group:"Behavior",defaultValue:false}},dnd:{draggable:false,droppable:true},aggregations:{items:{type:"sap.ui.core.Control",singularName:"item",multiple:true,dnd:true}},events:{borderReached:{parameters:{event:{type:"jQuery.Event"}}},itemDrop:{parameters:{draggedControl:{type:"sap.ui.core.Control"},droppedControl:{type:"sap.ui.core.Control"},dropPosition:{type:"string"}}}}}});r.prototype.onBorderReached=this.fireBorderReached;r.prototype.onsapnext=function(e){e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_RIGHT){var o=this.getFocusedItemIndex();if(o>=0&&o<this.getItems().length-1){this.focusItem(o+1);return}}this.fireBorderReached({event:e})};r.prototype.onsapprevious=function(e){e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_LEFT){var o=this.getFocusedItemIndex();if(o>0){this.focusItem(o-1);return}}this.fireBorderReached({event:e})};r.prototype.onsapnextmodifiers=function(e){if(!this.getEnableLinkReordering()){return}var o=this.getFocusedItemIndex();var r=this.getItems();e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_RIGHT&&o>-1&&o<r.length-1){this.fireItemDrop({draggedControl:r[o],droppedControl:r[o+1],dropPosition:"After",browserEvent:e})}if(e.keyCode===t.ARROW_DOWN&&o>-1){this.fireItemDrop({draggedControl:r[o],droppedControl:null,dropPosition:"After",browserEvent:e})}};r.prototype.onsappreviousmodifiers=function(e){if(!this.getEnableLinkReordering()){return}var o=this.getFocusedItemIndex();var r=this.getItems();e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_LEFT&&o>0){this.fireItemDrop({draggedControl:r[o],droppedControl:r[o-1],dropPosition:"Before",browserEvent:e})}if(e.keyCode===t.ARROW_UP&&o>-1){this.fireItemDrop({draggedControl:r[o],droppedControl:null,dropPosition:"Before",browserEvent:e})}};r.prototype.focusItem=function(e){e=e||0;var t=this.getItems();if(e===-1||e>=t.length){e=t.length-1}if(e>=0){var o=t[e].getFocusDomRef()||t[e].getDomRef();(o.querySelector("a")||o).focus()}else{this.focus()}};r.prototype.onmousedown=function(e){var t=this.getDOMItemIndex(e.srcControl.getDomRef());var o=this.getFocusedItemIndex();if(o<0){o=0}if(t<0){window.setTimeout(function(){this.focusItem(o)}.bind(this),0)}};r.prototype.getDOMItemIndex=function(e){var t=-1;this.getItems().forEach(function(o,r){var n=o.getDomRef();if(n&&n.contains(e)){t=r}});return t};r.prototype.onfocusin=function(e){if(document.activeElement===this.getDomRef()){this.focusItem(0)}};r.prototype.getFocusedItemIndex=function(){return this.getDOMItemIndex(document.activeElement)};return r});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/section/CompactAreaRenderer", ["sap/ushell/resources"],function(e){"use strict";var t={apiVersion:2};t.render=function(t,r){t.openStart("div",r);if(!r.getVisible()){t.style("display","none")}t.attr("role","group");t.attr("aria-label",e.i18n.getText("Section.CompactArea.Description"));t.style("width","100%");t.class("sapUshellSectionCompactArea");t.openEnd();r.getItems().forEach(t.renderControl);t.close("div")};return t},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/DynamicTile", ["sap/ushell/library","./TileBase","./DynamicTileRenderer"],function(e,a){"use strict";var t=e.ui.tile.State;var r=e.ui.tile.StateArrow;var u=a.extend("sap.ushell.ui.tile.DynamicTile",{metadata:{library:"sap.ushell",properties:{numberValue:{type:"string",group:"Data",defaultValue:"0.0"},numberState:{type:"State",group:"Appearance",defaultValue:t.Neutral},numberUnit:{type:"string",group:"Data",defaultValue:null},numberDigits:{type:"int",group:"Appearance",defaultValue:0},stateArrow:{type:"StateArrow",group:"Appearance",defaultValue:r.None},numberFactor:{type:"string",group:"Data",defaultValue:null}}}});return u});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/DynamicTileRenderer", ["sap/ui/core/Renderer","sap/ui/core/format/NumberFormat","../../library","./TileBaseRenderer","sap/ushell/resources"],function(e,t,a,i,r){"use strict";var s=a.ui.tile.State;var l=a.ui.tile.StateArrow;var n=r.i18n;var o=e.extend(i);o.apiVersion=2;o.renderPart=function(e,a){var i=a.getNumberValue(),r=a.getNumberFactor(),o=i.toString(),c=a.getIcon()?4:5,u=this._shouldProcessDigits(o,a);if(o.length>c||u){var m=this._normalizeNumber(i,c,r,a);r=m.numberFactor;o=m.displayNumber}else if(o!==""){var d=t.getFloatInstance({maxFractionDigits:c});o=d.format(i)}e.openStart("div");e.class("sapUshellDynamicTile");e.openEnd();e.openStart("div");e.class("sapUshellDynamicTileData");e.class(s[a.getNumberState()]?"sapUshellDynamicTileData"+a.getNumberState():"sapUshellDynamicTileData"+s.Neutral);e.openEnd();e.openStart("div");e.class("sapUshellDynamicTileIndication");e.openEnd();if(l[a.getStateArrow()]){e.openStart("div");e.class("sapUshellDynamicTileStateArrow");e.class("sapUshellDynamicTileData"+l[a.getStateArrow()]);e.openEnd();e.close("div")}e.voidStart("br");e.voidEnd();e.openStart("div");e.class("sapUshellDynamicTileNumberFactor");e.accessibilityState(a,{label:n.getText("TileUnits_lable")+r});e.openEnd();e.text(r);e.close("div");e.close("div");e.openStart("div");e.class("sapUshellDynamicTileNumber");if(o&&o!==""){e.accessibilityState(a,{label:n.getText("TileValue_lable")+o});e.openEnd();e.text(o)}else{e.openEnd();e.text(a.getNumberValue())}e.close("div");e.close("div");e.close("div")};o._normalizeNumber=function(e,a,i,r){var s;if(isNaN(e)){s=e}else{var l=t.getFloatInstance({maxFractionDigits:r.getNumberDigits()});if(!i){var n=Math.abs(e);if(n>=1e9){i="B";e/=1e9}else if(n>=1e6){i="M";e/=1e6}else if(n>=1e3){i="K";e/=1e3}}s=l.format(e)}var o=s;var c=o[a-1];a-=c==="."||c===","?1:0;o=o.substring(0,a);return{displayNumber:o,numberFactor:i}};o._shouldProcessDigits=function(e,t){var a=t.getNumberDigits(),i;if(e.indexOf(".")!==-1){i=e.split(".")[1].length;if(i>a){return true}}return false};o.getInfoPrefix=function(e){return e.getNumberUnit()};return o});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/StaticTile", ["sap/ushell/library","sap/ushell/ui/tile/TileBase","sap/ushell/ui/tile/StaticTileRenderer"],function(e,l,i){"use strict";var a=l.extend("sap.ushell.ui.tile.StaticTile",{metadata:{library:"sap.ushell"}});return a});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/StaticTileRenderer", ["sap/ui/core/Renderer","./TileBaseRenderer"],function(e,n){"use strict";var r=e.extend(n);r.apiVersion=2;r.renderPart=function(e,n){e.openStart("span");e.class("sapUshellStaticTile");e.openEnd();e.close("span")};return r});
/*!
 * Copyright (c) 2009-2022 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/ui/tile/TileBase", ["sap/ui/core/Control","sap/ushell/library","./TileBaseRenderer"],function(e,t){"use strict";var a=e.extend("sap.ushell.ui.tile.TileBase",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Data",defaultValue:null},subtitle:{type:"string",group:"Data",defaultValue:null},icon:{type:"string",group:"Data",defaultValue:null},info:{type:"string",group:"Data",defaultValue:null},infoState:{type:"sap.ushell.ui.tile.State",defaultValue:sap.ushell.ui.tile.State.Neutral},targetURL:{type:"string",group:"Behavior",defaultValue:null},highlightTerms:{type:"any",group:"Appearance",defaultValue:[]}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},events:{press:{}}}});a.prototype.ontap=function(e){this.firePress({})};a.prototype.onsapenter=function(e){this.firePress({})};a.prototype.onsapspace=function(e){this.firePress({})};return a});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/TileBaseRenderer", ["sap/ushell/resources","sap/base/security/encodeXML","sap/ui/core/Icon"],function(e,t,l){"use strict";var i={apiVersion:2};var s=e.i18n;i.highlight=function(e,l){var i,s,a=t(l).replace(/&#xa;/g,"<br>");if(e&&e.length&&e.length>0){for(i=0;i<e.length;i=i+1){s=new RegExp("("+t(e[i]).replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")+")","gi");a=a.replace(s,"<b>$1</b>")}}return a};i.render=function(e,t){var i,a;e.openStart("div",t);if(t.getTargetURL()){e.attr("data-targeturl",t.getTargetURL())}e.class("sapUshellTileBase");e.openEnd();e.openStart("div");e.class("sapUshellTileBaseHeader");e.openEnd();e.openStart("h3");e.class("sapUshellTileBaseTitle");e.accessibilityState(t,{label:s.getText("tileTypeListItem")+s.getText("TileDetails_lable")+s.getText("TileTitle_lable")+t.getTitle(),level:"3"});e.openEnd();e.unsafeHtml(this.highlight(t.getHighlightTerms(),t.getTitle()||""));e.close("h3");if(t.getSubtitle()){e.openStart("h4");e.class("sapUshellTileBaseSubtitle");e.accessibilityState(t,{label:s.getText("TileSubTitle_lable")+t.getSubtitle(),level:"4"});e.openEnd();e.unsafeHtml(this.highlight(t.getHighlightTerms(),t.getSubtitle()));e.close("h4")}e.close("div");if(typeof this.renderPart==="function"){this.renderPart(e,t)}if(t.getIcon()){a=new l({src:t.getIcon()});a.addStyleClass("sapUshellTileBaseIcon");e.renderControl(a)}if(t.getInfo()||typeof this.getInfoPrefix==="function"&&this.getInfoPrefix(t)){e.openStart("div");e.class("sapUshellTileBaseInfo");e.class(t.getInfoState()?"sapUshellTileBase"+t.getInfoState():"sapUshellTileBase"+sap.ushell.ui.tile.State.Neutral);e.accessibilityState(t,{label:s.getText("TileInfo_lable")+t.getInfo()});e.openEnd();if(typeof this.getInfoPrefix==="function"){i=this.getInfoPrefix(t);e.text(i)}if(t.getInfo()){if(i){e.text(", ")}e.unsafeHtml(this.highlight(t.getHighlightTerms(),t.getInfo()))}e.close("div")}e.close("div")};return i});
//Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/DynamicTileRequest", ["sap/ushell/utils/HttpClient","sap/ui/thirdparty/URI","sap/base/util/isEmptyObject","sap/base/util/UriParameters","sap/base/Log"],function(e,t,r,n,s){"use strict";function i(r,n,i,o){this.fnSuccess=n;this.fnError=i;this.sUrl=r;this.oPromise=this._resolveDefaults(r,o).then(function(r){if(r){var n=sap.ui.getCore().getConfiguration().getSAPLogonLanguage();var s=new t(r).escapeQuerySpace(false);if(n&&!s.hasQuery("sap-language")){s.addQuery("sap-language",n)}if(s.is("relative")){s=s.absoluteTo(location.href)}this.sBasePath=s.origin()+s.directory()+"/";this.sRequestPath=s.relativeTo(this.sBasePath).href();var i=this._getHeaders(r);this.oConfig={headers:i};this.oClient=new e(this.sBasePath,this.oConfig);this.refresh()}}.bind(this)).catch(function(e){s.error("Was not able to create a DynamicTileRequest:",e)})}i.prototype._getRequestUrl=function(){return this.sBasePath+this.sRequestPath};i.prototype.refresh=function(){if(!this.oRequest&&this.oClient){this.oRequest=this.oClient.get(this.sRequestPath).then(this._onSuccess.bind(this)).catch(this._onError.bind(this))}};i.prototype.abort=function(){if(this.oRequest&&this.oClient){this.oClient.abortAll();this.oRequest=null;return true}return false};i.prototype._onSuccess=function(e){var t;try{t=JSON.parse(e.responseText)}catch(e){throw new Error("Was not able to parse response of dynamic tile request")}this.oRequest=null;var r;if(typeof t==="object"){t=t.d?t.d:t;var s=new n(this.sRequestPath);if(s.get("$inlinecount")==="allpages"){r={number:t.__count}}else if(s.get("$count")==="true"){r={number:t["@odata.count"]}}else{r=this._extractData(t)}}else if(typeof t==="string"||typeof t==="number"){r={number:t}}this.fnSuccess(r)};i.prototype._onError=function(e){this.oRequest=null;this.fnError(e)};i.prototype._extractData=function(e){var t=["results","icon","title","number","numberUnit","info","infoState","infoStatus","targetParams","subtitle","stateArrow","numberState","numberDigits","numberFactor"];var n=Object.keys(e).reduce(function(r,n){if(t.indexOf(n)>-1){r[n]=e[n]}return r},{});if(!r(n)){return n}var s=Object.keys(e)[0];if(s!==undefined&&Object.keys(e).length===1){return Object.keys(e[s]).reduce(function(r,n){if(t.indexOf(n)>-1){r[n]=e[s][n]}return r},{})}return{}};i.prototype._getHeaders=function(e){var r={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","Accept-Language":sap.ui.getCore().getConfiguration().getLanguage()||"",Accept:"application/json, text/plain"};var n=sap.ui.getCore().getConfiguration().getSAPLogonLanguage();if(n){r["sap-language"]=n}var s=sap.ushell.Container.getLogonSystem();var i=s&&s.getClient();var o=new t(e);if(i&&!o.protocol()){r["sap-client"]=i}return r};i.prototype._resolveDefaults=function(e,t){return sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(e){return Promise.all([e.getSystemContext(t),sap.ushell.Container.getServiceAsync("ReferenceResolver")])}).then(function(t){var r=t[0];var n=t[1];return new Promise(function(t,s){n.resolveUserDefaultParameters(e,r).done(t).fail(s)})}).then(function(e){if(e.defaultsWithoutValue&&e.defaultsWithoutValue.length>0){s.error("The service URL contains User Default(s) with no set value: "+e.defaultsWithoutValue.join(", "));return}if(e.ignoredReferences&&e.ignoredReferences.length>0){s.error("The service URL contains invalid Reference(s): "+e.ignoredReferences.join(", "));return}return e.url})};i.prototype.destroy=function(){this.abort();this.fnError=null;this.fnSuccess=null};return i});
sap.ui.require.preload({
	"sap/ushell/components/tiles/cdm/applauncher/StaticTile.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.tiles.cdm.applauncher.StaticTile"\n    height="100%"\n    width="100%"><GenericTile\n        additionalTooltip="{/properties/contentProviderLabel}"\n        frameType="{/properties/frameType}"\n        header="{/properties/title}"\n        mode="{/properties/mode}"\n        scope="{/properties/scope}"\n        sizeBehavior="{/properties/sizeBehavior}"\n        subheader="{/properties/subtitle}"\n        url="{\n            path: \'/properties/targetURL\',\n            formatter: \'._getLeanUrl\'\n        }"\n        wrappingType="{/properties/wrappingType}"\n        press=".onPress"><dependents><TileContent id="standardTileContent" footer="{/properties/info}" /><TileContent id="imageTileContent" footer="{/properties/info}"><ImageContent src="{/properties/icon}" /></TileContent></dependents></GenericTile></mvc:View>\n',
	"sap/ushell/components/tiles/cdm/applauncher/manifest.json":'{"_version":"1.21.0","sap.flp":{"type":"tile","tileSize":"1x1","vizOptions":{"displayFormats":{"supported":["standard","standardWide","compact","flat","flatWide"],"default":"standard"}}},"sap.app":{"id":"sap.ushell.components.tiles.cdm.applauncher","type":"component","applicationVersion":{"version":"1.0.0"},"title":"","tags":{"keywords":[]},"ach":"CA-FE-FLP-COR"},"sap.ui":{"_version":"1.1.0","technology":"UI5","icons":{"icon":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_hcb","sap_belize","sap_belize_plus"]},"sap.ui5":{"_version":"1.1.0","componentName":"sap.ushell.components.tiles.cdm.applauncher","dependencies":{"minUI5Version":"1.42","libs":{"sap.m":{}}},"rootView":{"viewName":"sap.ushell.components.tiles.cdm.applauncher.StaticTile","type":"XML"},"handleValidation":false,"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/tiles/cdm/applauncherdynamic/manifest.json":'{"_version":"1.21.0","sap.flp":{"type":"tile","tileSize":"1x1","vizOptions":{"displayFormats":{"supported":["standard","standardWide","compact","flat","flatWide"],"default":"standard"}}},"sap.app":{"id":"sap.ushell.components.tiles.cdm.applauncherdynamic","_version":"1.0.0","type":"component","applicationVersion":{"version":"1.0.0"},"title":"","description":"","tags":{"keywords":[]},"ach":"CA-FLP-FE-COR"},"sap.ui":{"_version":"1.1.0","icons":{"icon":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_hcb","sap_belize","sap_belize_plus"]},"sap.ui5":{"_version":"1.1.0","componentName":"sap.ushell.components.tiles.cdm.applauncherdynamic","dependencies":{"minUI5Version":"1.42","libs":{"sap.m":{}}},"rootView":{"viewName":"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile","type":"JS"},"handleValidation":false}}',
	"sap/ushell/ui/launchpad/Section.control.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:dnd="sap.ui.core.dnd"\n    xmlns:f="sap.f"\n    xmlns:fdnd="sap.f.dnd"\n    xmlns:section="sap.ushell.ui.launchpad.section"\n    core:require="{\n        ushellLibrary: \'sap/ushell/library\'\n    }"><VBox id="content" class="sapUshellSection"><items><Title\n                id="title"\n                class="sapUshellSectionTitle sapContrastPlus"\n                text="{$this>title}"\n                level="H3"\n                visible="{= !${$this>editable} &amp;&amp; ${$this>showSection}}" /><OverflowToolbar id="header" class="sapUshellSectionHeader" visible="{$this>editable}"><Text\n                    id="titleLabel"\n                    text="{$this>title}"\n                    visible="{= ${$this>editable} &amp;&amp; ${$this>default}}"><layoutData><OverflowToolbarLayoutData priority="NeverOverflow" /></layoutData></Text><Label\n                    id="label"\n                    text="{$this.i18n>Section.Label.Title}"\n                    labelFor="title-edit"\n                    visible="{= ${$this>editable} &amp;&amp; !${$this>default}}"\n                    showColon="true"><layoutData><OverflowToolbarLayoutData priority="NeverOverflow" /></layoutData></Label><Input\n                    id="title-edit"\n                    value="{$this>title}"\n                    editable="{= !${$this>default}}"\n                    visible="{= !${$this>default}}"\n                    placeholder="{$this.i18n>Section.TitlePlaceholder}"\n                    valueLiveUpdate="true"\n                    maxLength="100"\n                    change=".fireTitleChange"><layoutData><OverflowToolbarLayoutData priority="NeverOverflow" shrinkable="true" minWidth="10rem" maxWidth="40rem" /></layoutData></Input><ToolbarSpacer /><Button\n                    id="addVisualization"\n                    text="{$this.i18n>Section.Button.AddVisualization}"\n                    type="Transparent"\n                    press=".fireAdd"\n                    visible="{= ${$this>enableAddButton} &amp;&amp; !${$this>default}}" /><Button id="showHide"\n                    text="{= ${$this>showSection} ? ${$this.i18n>Section.Button.Hide} : ${$this.i18n>Section.Button.Show}}"\n                    type="Transparent"\n                    press="._showHidePressed(!${$this>showSection})"\n                    visible="{= ${$this>enableShowHideButton} &amp;&amp; !${$this>default}}" /><Button id="reset"\n                    text="{$this.i18n>Section.Button.Reset}"\n                    type="Transparent"\n                    press=".fireReset"\n                    visible="{= ${$this>enableResetButton} &amp;&amp; !${$this>default}}" /><Button\n                    id="delete"\n                    text="{$this.i18n>Section.Button.Delete}"\n                    type="Transparent"\n                    press=".fireDelete"\n                    visible="{= ${$this>enableDeleteButton} &amp;&amp; !${$this>default}}" /></OverflowToolbar><Text id="noVisualizationsText"\n                class="sapUshellSectionNoVisualizationsText"\n                text="{$this>noVisualizationsText}"\n                textAlign="Center"\n                visible="{= ${$this>editable} &amp;&amp; ${$this>showNoVisualizationsText}}" /><f:GridContainer\n                id="defaultArea"\n                class="sapUshellSectionGridContainer"\n                containerQuery="{$this>enableGridContainerQuery}"\n                minHeight="0"\n                visible="{= ${$this>editable} || ${$this>showSection} }"><f:customData><core:CustomData key="default" value="{$this>default}" /><core:CustomData key="area" value="{= ushellLibrary.DisplayFormat.Standard}" /></f:customData><f:layout><f:GridContainerSettings\n                        rowSize="{= ${$this>gridContainerRowSize}}"\n                        columnSize="{= ${$this>gridContainerRowSize}}"\n                        gap="{= ${$this>gridContainerGap}}" /></f:layout><f:layoutXS><f:GridContainerSettings\n                        columns="{= ${$this>enableGridBreakpoints} ? 4 : 0 }"\n                        rowSize="{= ${$this>gridContainerRowSizeXS}}"\n                        columnSize="{= ${$this>gridContainerRowSizeXS}}"\n                        gap="{= ${$this>gridContainerGapXS}}" /></f:layoutXS><f:layoutS><f:GridContainerSettings\n                        columns="{= ${$this>enableGridBreakpoints} ? 4 : 0 }"\n                        rowSize="{= ${$this>gridContainerRowSizeS}}"\n                        columnSize="{= ${$this>gridContainerRowSizeS}}"\n                        gap="{= ${$this>gridContainerGapS}}" /></f:layoutS><f:layoutM><f:GridContainerSettings\n                        columns="{= ${$this>enableGridBreakpoints} ? 6 : 0 }"\n                        rowSize="{= ${$this>gridContainerRowSizeM}}"\n                        columnSize="{= ${$this>gridContainerRowSizeM}}"\n                        gap="{= ${$this>gridContainerGapM}}" /></f:layoutM><f:layoutL><f:GridContainerSettings\n                        columns="{= ${$this>enableGridBreakpoints} ? ${$this>sizeBehavior} === \'Small\' ? 12 : 10 : 0 }"\n                        rowSize="{= ${$this>gridContainerRowSizeL}}"\n                        columnSize="{= ${$this>gridContainerRowSizeL}}"\n                        gap="{= ${$this>gridContainerGapL}}" /></f:layoutL><f:layoutXL><f:GridContainerSettings\n                        columns="{= ${$this>enableGridBreakpoints} ? ${$this>sizeBehavior} === \'Small\' ? 16 : 14 : 0 }"\n                        rowSize="{= ${$this>gridContainerRowSizeXL}}"\n                        columnSize="{= ${$this>gridContainerRowSizeXL}}"\n                        gap="{= ${$this>gridContainerGapXL}}" /></f:layoutXL><f:dragDropConfig><dnd:DragInfo enabled="{$this>enableVisualizationReordering}" groupName="Section" sourceAggregation="items" /><fdnd:GridDropInfo\n                        enabled="{$this>enableVisualizationReordering}"\n                        groupName="Section"\n                        dropLayout="Horizontal"\n                        dropPosition="Between"\n                        targetAggregation="items"\n                        dropIndicatorSize="._getDefaultDropIndicatorSize"\n                        dragEnter="._onDragEnter"\n                        drop="._reorderVisualizations" /></f:dragDropConfig></f:GridContainer><f:GridContainer\n                id="flatArea"\n                class="sapUshellSectionGridContainer"\n                containerQuery="{$this>enableGridContainerQuery}"\n                minHeight="0"\n                visible="{= ${$this>editable} || ${$this>showSection} }"><f:customData><core:CustomData key="default" value="{$this>default}" /><core:CustomData key="area" value="{= ushellLibrary.DisplayFormat.Flat}" /></f:customData><f:layout><f:GridContainerSettings\n                        rowSize="{= ${$this>gridContainerRowSize}}"\n                        columnSize="{= ${$this>gridContainerRowSize}}"\n                        gap="{= ${$this>gridContainerGap}}" /></f:layout><f:layoutXS><f:GridContainerSettings\n                        columns="{= ${$this>enableGridBreakpoints} ? 4 : 0 }"\n                        rowSize="{= ${$this>gridContainerRowSizeXS}}"\n                        columnSize="{= ${$this>gridContainerRowSizeXS}}"\n                        gap="0.5rem" /></f:layoutXS><f:layoutS><f:GridContainerSettings\n                        columns="{= ${$this>enableGridBreakpoints} ? 4 : 0 }"\n                        rowSize="{= ${$this>gridContainerRowSizeS}}"\n                        columnSize="{= ${$this>gridContainerRowSizeS}}"\n                        gap="0.5rem" /></f:layoutS><f:layoutM><f:GridContainerSettings\n                        columns="{= ${$this>enableGridBreakpoints} ? 6 : 0 }"\n                        rowSize="{= ${$this>gridContainerRowSizeM}}"\n                        columnSize="{= ${$this>gridContainerRowSizeM}}"\n                        gap="{= ${$this>gridContainerGapM}}" /></f:layoutM><f:layoutL><f:GridContainerSettings\n                        columns="{= ${$this>enableGridBreakpoints} ? ${$this>sizeBehavior} === \'Small\' ? 12 : 10 : 0 }"\n                        rowSize="{= ${$this>gridContainerRowSizeL}}"\n                        columnSize="{= ${$this>gridContainerRowSizeL}}"\n                        gap="{= ${$this>gridContainerGapL}}" /></f:layoutL><f:layoutXL><f:GridContainerSettings\n                        columns="{= ${$this>enableGridBreakpoints} ? ${$this>sizeBehavior} === \'Small\' ? 16 : 14 : 0 }"\n                        rowSize="{= ${$this>gridContainerRowSizeXL}}"\n                        columnSize="{= ${$this>gridContainerRowSizeXL}}"\n                        gap="{= ${$this>gridContainerGapXL}}" /></f:layoutXL><f:dragDropConfig><dnd:DragInfo\n                        enabled="{$this>enableVisualizationReordering}"\n                        groupName="{= ${$this>_duringDrag} ? \'Section\' : \'FlatArea\'}"\n                        sourceAggregation="items" /><fdnd:GridDropInfo\n                        enabled="{$this>enableVisualizationReordering}"\n                        groupName="{= ${$this>_duringDrag} ? \'Section\' : \'FlatArea\'}"\n                        dropLayout="Horizontal"\n                        dropPosition="Between"\n                        targetAggregation="items"\n                        dropIndicatorSize="._getFlatDropIndicatorSize"\n                        dragEnter="._onDragEnter"\n                        drop="._reorderVisualizations" /></f:dragDropConfig></f:GridContainer><section:CompactArea\n                id="compactArea"\n                class="sapUshellSectionGridContainer"\n                visible="{= ${$this>editable} || ${$this>showSection} }"\n                itemDrop="._reorderVisualizations"\n                enableLinkReordering="{$this>enableVisualizationReordering}"><section:customData><core:CustomData key="default" value="{$this>default}" /><core:CustomData key="area" value="{= ushellLibrary.DisplayFormat.Compact}" /></section:customData><section:dragDropConfig><dnd:DragInfo\n                        enabled="{$this>enableVisualizationReordering}"\n                        groupName="{= ${$this>_duringDrag} ? \'Section\' : \'CompactArea\'}"\n                        sourceAggregation="items" /><dnd:DropInfo\n                        enabled="{$this>enableVisualizationReordering}"\n                        groupName="{= ${$this>_duringDrag} ? \'Section\' : \'CompactArea\'}"\n                        dropLayout="Horizontal"\n                        dropPosition="Between"\n                        targetAggregation="items"\n                        dragEnter="._onDragEnter"\n                        drop="._reorderVisualizations" /><dnd:DropInfo\n                        enabled="{$this>enableVisualizationReordering}"\n                        groupName="{= ${$this>_duringDrag} ? \'Section\' : \'CompactArea\'}"\n                        dragEnter="._onDragEnter"\n                        drop="._reorderVisualizations" /></section:dragDropConfig></section:CompactArea></items><customData><core:CustomData\n                key="help-id"\n                value="{= ${$this>default} ? \'recently-added-apps\' : ${$this>dataHelpId}}"\n                writeToDom="{= ${$this>default} || !!${$this>dataHelpId}}" /></customData></VBox></core:FragmentDefinition>\n'
},"sap/ui/core/library-preload");
//# sourceMappingURL=flp-controls.js.map
