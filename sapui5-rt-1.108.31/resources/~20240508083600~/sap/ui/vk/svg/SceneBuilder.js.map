{"version":3,"file":"SceneBuilder.js","names":["sap","ui","define","Log","Element","Ellipse","Rectangle","Line","Polyline","Path","Text","Image","LinearGradient","OrthographicCamera","View","NodeContentType","TransformationMatrix","getResourceBundle","TotaraUtils","colorToCSSColor","SceneBuilder","rootNode","contentResource","resolve","reject","this","_rootNode","_contentResource","_resolve","_reject","_cameras","Map","_sceneIdTreeNodesMap","_sceneIdRootNodeMap","_materialMap","_annotationsMap","_annotationNodesMap","_materialNodesMap","_nodes","_viewGroups","_views","_viewThumbnails","_geometries","_geometryMeshes","_meshNodes","_meshSubmeshes","_images","_imageTextures","_fillStyles","_lineStyles","_textStyles","_joints","_yIndex","_materialsByTextureImageId","nodeProxy","getNodeProxy","nodeHierarchy","getNodeHierarchy","_vkScene","getScene","source","getSource","name","set","_currentSceneId","userData","skipIt","getName","prototype","setScene","info","result","err","status","errorText","getText","matrix","upAxis","camera","get","cameraId","JSON","stringify","node","backgroundTopColor","backgroundBottomColor","builder","setRootNode","nodeId","sceneId","vkScene","sid","setNodePersistentId","nodeRef","_resetCurrentScene","cleanup","clear","getNode","contextIterator","values","contextItem","next","done","value","nodes","createCamera","cameraInfo","setUpDirection","Array","isArray","up","setZoomFactor","zoom","setPosition","origin","id","getCamera","hasMesh","meshId","has","hasImage","imageId","hasAnnotation","annotationId","findBestLOD","lods","i","length","type","undefined","setMeshNode","_setMeshNode","setModelViewVisibilitySet","setAnimationPlaybacks","loadingFinished","createThumbnail","view","thumbnailData","window","btoa","String","fromCharCode","apply","data","_fireThumbnailLoaded","modelView","setSubmeshes","meshes","mesh","submeshes","submesh","j","len","count","insertSubmesh","submeshInfo","lod","boundingBox","geometry","ni","_addGeometryToNode","pushElementIntoMapArray","getViewGroup","viewGroupId","viewGroup","views","vi","viewId","push","insertViewGroup","createViewGroup","description","setViewGroupId","setName","setDescription","metadata","veids","insertView","viewInfo","createView","aspectRatio","safeAreaAspectRatio","autoPlayAnimation","thumbnailId","imageData","setCamera","flyToTime","preDelay","postDelay","navigationMode","topColor","_getSavedColor","topColour","localStorage","getItem","setTopColor","bottomColor","bottomColour","setBottomColor","dimension","query","addView","getView","setViewCamera","getChildNodeIds","includeMeshNode","ids","children","child","treeNode","setViewNodeInfos","nodeInfos","setNodeInfos","finalizeViewGroups","entries","removeViews","setVoxelThreshold","voxelThreshold","getVoxelThreshold","createNode","nodeInfo","transform","convertTo3x2","usageIds","parametricId","setVisible","visible","visualisable","joints","forEach","joint","parent","parentSid","jointNodes","concat","viewBox","parentId","add","contentType","_vkSetNodeContentType","Hotspot","Annotation","preferMeshes","createAnnotation","attributes","annotation","getAnnotation","createImageNote","remove","nodeIds","that","target","delete","_getMatrixFromBoundingBox","Float32Array","Math","max","Number","EPSILON","materialId","material","_getMaterial","indices","points","isPositionQuantized","i0","i1","i2","l","segments","isPolyline","Object","assign","lineColor","lineWidth","path","isTriangleMesh","materialID","fillStyle","colour","color","subelement","uid","setGeometry","geomInfo","geometryMeshes","mi","_fireSceneUpdated","DEFAULT_T","DEFAULT_R","DEFAULT_S","getTransformationMatrix","shape","_compose","t","r","s","setParametricContent","parametricContent","warning","shapes","_createObject","polarToCartesian","cx","cy","rx","ry","angle","cos","sin","stroke_id","lineStyle","fill_id","gradient","fillURL","style_id","style","textStyles","major","radius","minor","start","end","PI","short","abs","clockwise","po","label","imageNode","removeNode","createMaterial","materialInfo","textureIds","lineColour","width","haloWidth","lineHaloWidth","endCapStyle","lineEndRound","dashPattern","lineDashPattern","dashPatternScale","lineDashPatternScale","widthCoordinateSpace","lineWidthCoordinateSpace","emissiveColour","opacity","textureEmissive","textureImageId","texture","textureInfo","imageIdsToLoad","Set","textureWidth","textureHeight","height","nodeIdsToUpdate","setMaterial","_createTemporaryMaterial","checkMaterialExists","temporaryMaterialNeeded","materialNeeded","content","updateViewsForReplacedNodes","insertFillStyle","veid","insertLineStyle","insertTextStyle","textStyle","uint8ArrayToString","uint8Array","finalString","CHUNK_SIZE","index","slice","min","e","createImage","imageInfo","binaryData","dv","DataView","buffer","isPng","getUint8","parseInt","imageDataStr","dataUri","materialsAwaitingTexture","m","size","bind","setViewThumbnail","tileWidth","viewInfoColor","settingColor","red","floor","green","blue","alpha"],"sources":["SceneBuilder-dbg.js"],"mappings":"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"}