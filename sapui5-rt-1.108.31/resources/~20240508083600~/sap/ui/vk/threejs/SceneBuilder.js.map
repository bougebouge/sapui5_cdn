{"version":3,"file":"SceneBuilder.js","names":["sap","ui","define","THREE","Log","BBoxSubdivider","UsageCounter","TotaraUtils","OrthographicCamera","PerspectiveCamera","DetailView","AnimationHelper","Thrustline","View","Billboard","Callout","BillboardCoordinateSpace","BillboardTextEncoding","BillboardStyle","BillboardBorderLineStyle","BillboardHorizontalAlignment","LeaderLineMarkStyle","DetailViewType","DetailViewShape","AnimationPlayback","AnimationRotateType","RenderMode","Material","MaterialType","SphericalMapMaterial","ObjectType","MarchingCubes","ParametricGenerators","NodeContentType","ThreeExtensions","uid","ThreeUtils","assert","colorToCSSColor","SceneBuilder","rootNode","contentResource","resolve","reject","this","_rootNode","_contentResource","_resolve","_reject","_callouts","Map","_cameras","_images","_imageIdsAndTileWidths","_imageTextures","_geometries","_meshNodes","_meshSubmeshes","_geometryMeshes","_materialMeshes","_materialClones","_joints","_annotations","_imageAddedToMaterialHandlers","_nodes","_tracks","_trackIdSequenceNodeMap","_viewGroups","_views","_currentSceneId","_sceneIdTreeNodesMap","_sceneIdRootNodeMap","_animationHelper","nodeProxy","getNodeProxy","nodeHierarchy","getNodeHierarchy","_vkScene","getScene","source","getSource","name","set","userData","skipIt","getName","_viewThumbnails","_thrustlines","_animations","_animationTracks","_jointNodesMap","_jointParentsMap","_upAxis","_voxelThreshold","prototype","getVoxelThreshold","setVoxelThreshold","voxelThreshold","renderModes","Default","LineIllustration","SolidOutline","ShadedIllustration","setScene","info","setSceneBuilder","camera","get","cameraId","upAxis","node","backgroundTopColor","backgroundBottomColor","annotations","builder","setRootNode","nodeId","sceneId","vkScene","_sequenceIdToPlaybacks","_resetCurrentScene","nodes","getNode","contextIterator","values","contextItem","next","done","value","hasMesh","meshId","has","hasImage","imageId","hasAnnotation","annotationId","setNodePersistentId","nodeRef","treeNode","oldId","sid","delete","setAnnotationPersistentId","annotation","annotationInfo","id","arrayToMatrix","arr","matrix","Matrix4","length","setPosition","Vector3","fromArray","DefaultHighlightingEmissive","r","g","b","DefaultHighlightingSpecular","_createTemporaryMaterial","materialId","materialType","vkMaterial","MeshPhongMaterial","material","getMaterialRef","defaultHighlightingEmissive","defaultHighlightingSpecular","materialUsed","toBeUpdated","getDoubleSided","side","DoubleSide","originalMaterialSide","FrontSide","setMaterial","meshIds","forEach","_updateMeshSubmeshesMaterial","_getMaterialRef","getMaterial","checkMaterialExists","temporaryMaterialNeeded","materialNeeded","content","attachImageAddedToMaterial","func","listener","push","detachImageAddedToMaterial","i","item","splice","fireImageAddedToMaterial","parameters","handlers","slice","handler","call","_attachMaterialClone","materialClone","pushElementIntoMapArray","_addDynamicObject","updateFunction","is2D","_vkDynamicObjects","indexOf","_vkUpdate","createNode","nodeInfo","Group","jointObjects","jointObjectsForParent","parent","parentId","add","closed","selectable","visualisable","contentType","metadata","veids","usageIds","visible","undefined","ancestor","skipItClosed","symbolContent","renderOrder","renderMethod","renderStage","opacity","transform","applyMatrix4","isFinite","quaternion","x","y","z","w","updateMatrixWorld","transformType","originalTransform","p","position","clone","q","s","scale","_ortho2DUpdate","_billboardViewUpdate","_lockToViewportUpdate","geometryType","setMeshNode","parametricId","setParametricNode","objectType","Hotspot","PMI","_vkSetNodeContentType","Reference","Annotation","Background","Symbol","removeNode","_vkPersistentId","bind","children","hasNode","createSubmesh","geometry","lod","submesh","isPolyline","lineMaterial","type","LineBasicMaterial","color","linewidth","copy","LineSegments","Mesh","isPositionQuantized","updateMeshTransformWithBoundingBox","boundingBox","increaseGeometryUsed","getChildNodeIds","includeMeshNode","ids","child","submeshInfo","findInnerBoxLOD","lods","data","findBestLOD","Array","isArray","mesh","Math","max","Number","EPSILON","updateMatrix","setSubmeshes","meshes","submeshes","j","len","count","insertSubmesh","sceneBoundingbox","noNormal","updateMaterialForGeometryWithoutNormal","useMarchingCubes","xRatio","yRatio","zRatio","innerBoxGeometry","innerBoxLod","packedInnerBox","base64ToUint8Array","unpacked","unpackSubDividedBoundingBox","march","BoxBufferGeometry","mat","geometryId","lodInfo","submeshId","initialMaterialId","clonedSubmesh","_vkClone","setScalar","disposeMaterial","applyNodeOpacityToSubmeshMaterial","replaceSubmeshGeometry","disposeGeometry","newSubmesh","_setSubmeshMaterial","increaseMaterialUsed","originalMaterial","_vkUpdateMaterialOpacity","_updateMaterial","materialClones","prevMaterial","computeNormals","points","indices","normals","Float32Array","p0","p1","p2","normal","pi","sub","crossVectors","normalize","k","toArray","setGeometry","geoInfo","BufferGeometry","indexAttribute","BufferAttribute","Uint16Array","positionAttribute","setIndex","setAttribute","array","normalAttribute","uvs","computeBoundingBox","computeBoundingSphere","geometryUsed","mi","ni","_fireSceneUpdated","parametricVisible","progress","log","loadingFinished","_fireLoadingFinished","getGeometry","annotationStyles","rect","RectangularShape","circle","CircularShape","none","None","textGlow","TextGlow","annotationBorderLineStyles","solid","Solid","dash","Dash","dot","Dot","dashdot","DashDot","dashdotdot","DashDotDot","billboardHorizontalAlignments","left","Left","center","Center","right","Right","leaderLineMarkStyles","point","Point","arrow","Arrow","_color","Color","evaluateOrtho2DTransformation","matrixTotal","n","compose","premultiply","decompose","createAnnotation","warning","createLegacyAnnotation","targetNodes","leaderLines","leaderLine","start","attachment","label","text","colour","borderColour","params","style","shape","width","height","backgroundColor","getStyle","backgroundOpacity","borderColor","borderOpacity","borderWidth","borderLineStyle","horizontalAlignment","align","html","encoding","HtmlText","PlainText","font","fontFace","fontSize","abs","fontWeight","min","fontItalic","textColor","pos","billboard","setText","_update","anchorNode","depthTest","callout","legacyAnnotationStyles","legacyAnnotationCoordinateSpaces","Viewport","Screen","World","legacyAnnotationBorderLineStyles","legacyLeaderLineMarkStyles","legacyBillboardHorizontalAlignments","cssColor","hexColor","toString","substring","checkArray","l","coordinateSpace","backgroundColour","textColour","link","textHorizontalAlignment","positions","order","alwaysOnTop","getTransformType","createImageNote","projection","oldMaterial","map","_nativeMaterial","depthWrite","blending","CustomBlending","sign","planeMesh","_planeGeometry","createLegacyImageNote","properlyAligned","elements","labelMaterialId","insertLeaderLine","vertices","end","extension","addLeaderLine","size","startPointSid","startPointHeadStyle","endPointHeadStyle","pointHeadConstant","extensionLength","_findDetailViewNodes","nodeRefs","createDetailView","createLegacyDetailView","createCamera","cutaway","Cutaway","origin","Vector2","attachmentPoint","veId","veid","visibleNodes","leaderStyle","Box","BoxLine","Circle","line","CircleLine","pointer","CirclePointer","CircleArrow","bubbles","CircleBubbles","detailView","_vkDetailViews","BoxNoOutline","SolidPointer","SolidArrow","insertThrustline","thrustlineId","thrustline","principleAxis","items","basisAxisCount","boundPointCount","ii","itemCount","target","targets","majorAxisIndex","itemMajorAxisesIndices","bi","basisAxises","itemBasisAxisesCounts","basisAxis","itemBasisAxisesCoordinates","dimension","itemDimensionsCoordinates","itemCentersCoordinates","boundPoints","itemBoundPointsCounts","itemBoundPointsCoordinates","setItems","ratioCount","segments","si","segmentCount","segment","startItemIndex","segmentsStartItemIndices","endItemIndex","segmentsEndItemIndices","startBoundIndex","segmentsStartBoundIndices","endBoundIndex","segmentsEndBoundIndices","ratios","segmentRatioCounts","ri","ratio","segmentRatiosCoordinates","setSegments","updateViewsForReplacedNodes","nodeInfos","updates","replaceTarget","view","getNodeInfos","originalTarget","replaceAnimationNodes","playbacks","getPlaybacks","playback","sequence","getSequence","sequenceChanged","nodeAnimations","getNodeAnimation","nodeAnimation","animationNode","removeNodeAnimation","property","setNodeAnimation","joints","getJoint","ji","joint","parentSid","nodeSid","_fireSequenceChanged","viewId","_decrementResourceCounters","traverse","isMesh","decreaseMaterialUsed","decreaseGeometryUsed","decrementResourceCountersForDeletedTreeNode","nodeIds","that","concat","remove","resourcesCleanUp","geoMap","geo","geoCount","dispose","cameraInfo","near","far","ortho","rotate","nativeCamera","zoom","radToDeg","fov","up","notUseDirectionVector","lookAt","isOrthographicCamera","isPerspectiveCamera","setCameraRef","setUsingDefaultClipPlanes","camId","insertCamera","getCamera","emissive","createMaterial","materialInfo","texturesToLoad","lineWidth","isLineBasicMaterial","lineColour","lineStyle","haloWidth","lineHaloWidth","endCapStyle","lineEndRound","dashPattern","lineDashPattern","dashPatternScale","lineDashPatternScale","widthCoordinateSpace","lineWidthCoordinateSpace","previousMaterial","textureEmissive","isMeshBasicMaterial","MeshBasicMaterial","diffuseColour","specularColour","specular","useAmbientColour","emissiveColour","depthFunc","LessDepth","ambientColour","multiplyScalar","transparent","glossiness","specularLevel","shininess","imageIdsToAddAsTexture","Set","infos","textureDiffuse","textureDecal","textureBump","textureAmbientOcclusion","textureReflection","updateTextureMaps","imageIdsToLoad","ti","textureInfo","textureType","uint8ArrayToString","uint8Array","finalString","CHUNK_SIZE","index","String","fromCharCode","apply","e","createImage","imageInfo","binaryData","dv","DataView","buffer","isPng","getUint8","parseInt","imageDataStr","dataUri","btoa","textures","texture","updateTextureMap","textureLoader","TextureLoader","TextureType","Diffuse","Bump","Opacity","Reflection","Refraction","Specular","Ambient","Emissive","SpecularLevel","Glossiness","AmbientOcclusion","Decal","result","diffuseRes","decalRes","bumpRes","emissiveRes","setRGB","aoRes","reflectionRes","imageDataUri","parametricType","uvHorizontalScale","influence","updateMaterialTexture","m","startsWith","bumpMap","bumpScale","alphaMap","mapping","EquirectangularReflectionMapping","envMap","combine","AddOperation","reflectivity","emissiveMap","isSphericalMapMaterial","minFilter","LinearFilter","aoMap","needsUpdate","load","wrapS","uvHorizontalTilingEnabled","RepeatWrapping","ClampToEdgeWrapping","wrapT","uvVerticalTilingEnabled","magFilter","filterMode","NearestFilter","LinearMipMapLinearFilter","anisotropy","offsetS","uvHorizontalOffset","offsetT","uvVerticalOffset","repeat","uvVerticalScale","offset","rotation","uvRotationAngle","generateMipmaps","insertPlayback","playbackInfo","findSequence","sequenceId","timeScale","speed","preDelay","postDelay","repeats","reversed","startTime","addPlayback","insertSequence","duration","endTime","createSequence","setJoint","track","empty","binding","insertEmptyTrack","trackId","targetId","pivot","isAbsoluteValue","setSequence","insertTracks","tracks","insertJoints","childSid","jointObject","translation","t","finalizeAnimation","topNode","finalizePlaybacks","animationNodeOriginalData","viewGroup","entries","viewsInGroup","vi","getViews","finalizeViewGroups","viewGroupId","views","removeViews","viewInfo","thumbnailId","thumbnailData","imageData","addView","insertViewGroup","createViewGroup","description","setViewGroupId","setName","setDescription","getViewGroup","insertView","reg","RegExp","test","reg2","temporaryDescription","replace","createView","aspectRatio","safeAreaAspectRatio","autoPlayAnimation","animatedThumbnailId","imageData2","animatedThumbnailData","tileWidth","setCamera","flyToTime","navigationMode","topColor","_getSavedColor","topColour","localStorage","getItem","setTopColor","bottomColor","bottomColour","setBottomColor","renderMode","query","setModelViewVisibilitySet","visibleNodeInfos","from","updateNodeInfos","recordHighlightedNodeInView","highlightStyleId","addHighlightedNodes","insertHighlightStyle","highlightStyle","getHighlight","colours","opacities","createHighlight","insertModelViewHighlight","highlightNodes","highlight","cycles","generateUUID","toLowerCase","color1","color2","opacity1","opacity2","createThumbnail","window","_fireThumbnailLoaded","modelView","highlightStyleExists","getView","setViewCamera","setViewNodeInfos","setNodeInfos","setViewThumbnail","cleanup","clearMaterials","cl","destroy","clear","c","Camera","insertAnimationGroup","animationSequence","animationGroupRef","animations","modelViewRef","playbackSpeed","playbackPreDelay","playbackPostDelay","playbackRepeat","playbackReversed","insertAnimation","animation","animationRef","animationType","targetRefs","targetPivots","trackIds","includes","insertAnimationTarget","targetRef","targetPivotX","targetPivotY","targetPivotZ","insertAnimationTrack","animationTrack","animationTrackRef","targetPivot","times","cyclicInfo","cyclicStart","cyclicEnd","ki","dataType","keyCount","rotateType","AngleAxis","Euler","Quaternion","setAnimationTracks","setAnimationPlaybacks","setInitialNodePositionsFromSubsequentViews","setInitialNodePositionsFromPreviousViews","setInitialNodePositionsFromCurrenetViews","setPlaybackStartTimes","buildViewsInitialState","getSphere","parametricContent","parametricSphere","generateSphere","nodeContentType","getPlane","parametricRect","generatePlane","preferMeshes","setParametricContent","setParametricType","sphere","plane","materialID","insertFillStyle","fillStyle","insertLineStyle","insertTextStyle","textStyle","viewInfoColor","settingColor","red","floor","green","blue","alpha"],"sources":["SceneBuilder-dbg.js"],"mappings":"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"}