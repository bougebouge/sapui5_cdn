{"version":3,"file":"AnalyticMap.js","names":["sap","ui","define","GeoMap","VoBase","Parameters","jQuery","Log","library","AnalyticMapRenderer","AnalyticMap","extend","metadata","properties","aggregations","regions","type","multiple","singularName","events","regionClick","parameters","code","regionContextMenu","regionSelect","regionDeselect","renderer","DefaultABAPGeoJSONURL","DefaultGeoJSONURL","DefaultRegionColor","get","DefaultRegionColorBorder","DefaultRegionSelectColor","DefaultHotDeltaColor","AltBorderColor","nonSelectOpacity","DefaultRegionNonSelectColor","prototype","exit","apply","this","arguments","detachEvent","onAnalyticsSubmit","onAfterRendering","vbm","VBI","destroyRegions","mbRegionsDirty","destroyAggregation","addRegion","o","addAggregation","removeRegion","removeAggregation","insertRegion","index","insertAggregation","removeAllRegions","removeAllAggregation","destroyLegend","mbLegendDirty","setLegend","setAggregation","e","datEvent","JSON","parse","mParameters","data","oParams","Action","name","instance","split","findRegionInAggregation","fireContextMenu","fireRegionContextMenu","fireClick","fireRegionClick","Data","Merge","setSelectionPropFireSelect","init","mProperties","scaleVisible","mbThemingDirty","attachEvent","createRegions","colC","mColC","colCB","mColCB","_createRegion","id","array","color","colorBorder","tooltip","entity","xa","region","K","P","T","C","CB","HDC","ACB","G","S","XA","str","area","areaParts","nI","alen","length","nJ","blen","nK","clen","push","oData","aPathGeoJSON","oResponse","sPathGeoJSON","GeoJSONURL","oUri","window","URI","addQuery","getCore","getConfiguration","getLanguage","toString","resource","mI","syncGetJSON","statusCode","error","E","mRegionApplicationTable","mRegionBox","mNames","mRegionProps","minX","maxX","minY","maxY","af","features","tt","va","mpa","ppa","aflen","f","id2","NAME","coord","geometry","coordinates","acn","x","y","tmp","coordlen","Number","MAX_VALUE","nL","acmlen","MathLib","GetSurroundingBox","getRegionsTemplateObject","datasource","selectColor","nonSelectColor","getRegionsTypeObject","arr","alias","minSel","maxSel","key","A","getRegionsDataObjects","aElements","aElementsRegions","aElementsNonRegions","aElementsAll","oRegionMap","getRegionMap","len","oRegion","item","getColor","getPlugin","Utilities","String2VBColor","getTooltip","LT","getLabelText","getSelect","LP","LBC","getLabelBgColor","LBBC","getLabelBorderColor","AR","getLabelArrow","getLabelType","oElem","getLabelProps","LIC","LICC","LICTC","concat","addRegionsActions","aActions","refScene","refVO","refEvent","findSelected","select","aCP","getRegions","aSel","sId","dat","oGMDat","N","aN","oAgg","aEl","aChangedSel","aChangedDesel","bNonOverlaySelected","oEl","bEleSel","bModelSel","setProperty","mEventRegistry","fireRegionDeselect","deselected","fireRegionSelect","selected","invalidate","mbForceDataUpdate","call","getSelectedItems","aRegSel","cont","getAggregatorContainer","aContSel","updateVOData","saVO","saData","saRemoveData","saType","saAction","applyTheming","resetDirtyStates","minimizeApp","oApp","t","r","getMapConfiguration","SAPVB","Scenes","Set","SceneGeo","refMapLayerStack","oSource","Region","getCode","zoomToRegions","aCodes","oCorr","undefined","areaList","rb","scene","mVBIContext","GetMainScene","ZoomToAreas","getRegionsInfo","result","BBox","Name","Properties","Midpoint","i","box","maxArea","g1","g2","p1","p2","j","DegToRad","Math","abs","PI","GetPointFromGeo","center","RadToDeg","GetGeoFromPoint","onThemeChanged","oEvent","aRegions","core","theming","sColC","sColCB","isRegionSubscribed","event","hasListeners"],"sources":["AnalyticMap-dbg.js"],"mappings":"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"}