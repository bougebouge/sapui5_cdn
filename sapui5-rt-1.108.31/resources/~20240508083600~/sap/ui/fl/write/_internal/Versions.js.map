{"version":3,"file":"Versions.js","names":["sap","ui","define","Settings","ChangePersistenceFactory","Storage","Utils","Version","JSONModel","BindingMode","_mInstances","MODEL_SIZE_LIMIT","BACKEND_REQUEST_LIMIT","_isPublishVersionEnabled","aVersions","sDisplayedVersion","Number","Original","Draft","some","oVersion","version","isPublished","createModel","bVersioningEnabled","bBackendDraft","_doesDraftExistInVersions","aDraftFilenames","sActiveVersion","getUShellService","then","oURLParsingService","sPersistedBasisForDisplayedVersion","getParameter","UrlParameter","length","forEach","type","Type","filenames","Active","Inactive","oModel","publishVersionEnabled","versioningEnabled","versions","activeVersion","backendDraft","dirtyChanges","draftAvailable","activateEnabled","persistedVersion","displayedVersion","draftFilenames","setDefaultBindingMode","OneWay","setSizeLimit","setDirtyChanges","bDirtyChanges","setProperty","updateDraftVersion","updateBindings","getProperty","bDraftAvailable","splice","shift","bActivateEnabled","_removeDirtyChanges","mPropertyBag","oDirtyChangeInfo","aDirtyChanges","aChangePersistences","changePersistences","oChangePersistence","getDirtyChanges","concat","oChange","deleteChange","_getDirtyChangesInfo","oDirtyChangesInfo","dirtyChangesExist","reference","oChangePersistenceForAppDescriptorChanges","getChangePersistenceForComponent","push","nonNormalizedReference","Versions","initialize","sReference","sLayer","layer","limit","getInstance","oSettings","bVersionsEnabled","isVersioningEnabled","aVersionsPromise","load","Promise","resolve","getVersionsModel","hasVersionsModel","Error","clearInstances","onAllChangesSaved","normalizeReference","activate","bDraftExists","reject","bDirtyChangesExists","oVersionEntry","discardDraft","bBackendDraftExists","oDiscardPromise","bDirtyChangesRemoved","backendChangesDiscarded","dirtyChangesDiscarded","publish","sMessage","bIsPublishedOrOlderVersion"],"sources":["Versions-dbg.js"],"mappings":"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"}