/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/core/Core","sap/ui/Device","sap/ui/core/Configuration","sap/ui/dom/jquery/zIndex","sap/ui/dom/jquery/scrollLeftRTL"],function(jQuery,e,t,r){"use strict";var o={};o.getSize=function(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}};o.getOffsetFromParent=function(e,l){var i=l?jQuery(l):null;var n=i?i.scrollTop():null;var a=l?o.getScrollLeft(l):null;var s=i?i.offset():null;var c={left:e.position.left,top:e.position.top};if(s){c.left-=s.left-(a||0);c.top-=s.top-(n||0)}if(r.getRTL()){var f=i?i.outerWidth():jQuery(window).outerWidth();if(t.browser.safari&&!t.browser.mobile&&o.hasVerticalScrollBar(i)){c.left-=o.getScrollbarWidth()}c.left=c.left-(f-e.size.width)}return c};o.getScrollLeft=function(e){if(!r.getRTL()||!o.hasHorizontalScrollBar(e)){return jQuery(e).scrollLeft()}var t=jQuery(e).scrollLeftRTL();var l=e.scrollWidth-e.clientWidth;return t-l};o.getZIndex=function(t){var r=null;var o=t;do{r=window.getComputedStyle(o).getPropertyValue("z-index");o=o.parentElement;if(!o||o.id&&e.byId(o.id)){break}}while(isNaN(r));return isNaN(r)?r:+r};o._getElementDimensions=function(e,t,r){var o=e[0]||e;var l=o["offset"+t];var i=0;for(var n=0;n<2;n++){var a=window.getComputedStyle(o,null)["border"+r[n]+t];i-=a?parseInt(a.slice(0,-2)):0}return l+i};o._getElementWidth=function(e){return o._getElementDimensions(e,"Width",["Right","Left"])};o._getElementHeight=function(e){return o._getElementDimensions(e,"Height",["Top","Bottom"])};o.hasVerticalScrollBar=function(e){var t=jQuery(e);var r=t.css("overflow-y")==="auto"||t.css("overflow-y")==="scroll";return r&&t.get(0).scrollHeight>o._getElementHeight(e)};o.hasHorizontalScrollBar=function(e){var t=jQuery(e);var r=t.css("overflow-x")==="auto"||t.css("overflow-x")==="scroll";return r&&t.get(0).scrollWidth>o._getElementWidth(e)};o.hasScrollBar=function(e){return o.hasVerticalScrollBar(e)||o.hasHorizontalScrollBar(e)};o.getScrollbarWidth=function(){if(typeof o.getScrollbarWidth._cache==="undefined"){var e=jQuery("<div></div>").css({position:"absolute",top:"-9999px",left:"-9999px",width:"100px"}).appendTo("body");var t=e.width();e.css("overflow","scroll");var r=jQuery("<div></div>").css("width","100%").appendTo(e);var l=r.width();e.remove();o.getScrollbarWidth._cache=t-l}return o.getScrollbarWidth._cache};o.getOverflows=function(e){var t=jQuery(e);return{overflowX:t.css("overflow-x"),overflowY:t.css("overflow-y")}};o.getGeometry=function(e,t){if(e){var r=jQuery(e).offset();if(t){r.left=r.left-jQuery(window).scrollLeft();r.top=r.top-jQuery(window).scrollTop()}return{domRef:e,size:this.getSize(e),position:r,visible:this.isVisible(e)}}};o.syncScroll=function(e,t){var r=jQuery(t);var o=r.scrollTop();var l=r.scrollLeft();var i=jQuery(e);var n=i.scrollTop();var a=i.scrollLeft();if(n!==o){r.scrollTop(n)}if(a!==l){r.scrollLeft(a)}};o.getDomRefForCSSSelector=function(e,t){if(t&&e){var r=jQuery(e);if(t===":sap-domref"){return r}if(t.indexOf(":sap-domref")>-1){return r.find(t.replace(/:sap-domref/g,""))}return r.find(t)}return jQuery()};o.isVisible=function(e){if(e){var t=e.getBBox&&e.getBBox();var r=t?t.width:e.offsetWidth;var o=t?t.height:e.offsetHeight;return r>0&&o>0}return false};o.setDraggable=function(e,t){e.setAttribute("draggable",t)};o.getDraggable=function(e){switch(e.getAttribute("draggable")){case"true":return true;case"false":return false;default:return}};o._copyStylesTo=function(e,t){var r="";var o="";var l=e.length;for(var i=0;i<l;i++){o=e[i];r=r+o+":"+e.getPropertyValue(o)+";"}t.style.cssText=r};o._copyPseudoElement=function(e,t,r){var l=window.getComputedStyle(t,e);var i=l.getPropertyValue("content");if(i&&i!=="none"){i=String(i).trim();if(i.indexOf("attr(")===0){i=i.replace("attr(","");if(i.length){i=i.substring(0,i.length-1)}i=t.getAttribute(i)||""}var n=jQuery("<span></span>");if(e===":after"){n.appendTo(r)}else{n.prependTo(r)}n.text(i.replace(/(^['"])|(['"]$)/g,""));o._copyStylesTo(l,n.get(0));n.css("display","inline")}};o.copyComputedStyle=function(e,t){e=jQuery(e).get(0);t=jQuery(t).get(0);var r=window.getComputedStyle(e);if(r.getPropertyValue("display")==="none"){t.style.display="none";return}o._copyStylesTo(r,t);this._copyPseudoElement(":after",e,t);this._copyPseudoElement(":before",e,t)};o.copyComputedStyles=function(e,t){e=jQuery(e).get(0);t=jQuery(t).get(0);for(var r=0;r<e.children.length;r++){this.copyComputedStyles(e.children[r],t.children[r])}jQuery(t).removeClass();jQuery(t).attr("id","");jQuery(t).attr("role","");jQuery(t).attr("data-sap-ui","");jQuery(t).attr("for","");jQuery(t).attr("tabindex",-1);this.copyComputedStyle(e,t)};o.cloneDOMAndStyles=function(e,t){e=jQuery(e).get(0);var r=e.cloneNode(true);this.copyComputedStyles(e,r);jQuery(t).append(r)};o.contains=function(e,t){var r=document.getElementById(e);return!!r&&r.contains(t)};o.appendChild=function(e,t){var r=t.scrollTop;var o=jQuery(t).scrollLeft();e.appendChild(t);t.scrollTop=r;jQuery(t).scrollLeft(o)};o.focusWithoutScrolling=function(e){if(t.browser.name!=="ie"){e.focus({preventScroll:true});return}var r=[];var o=e.parentNode;while(o){r.push([o,jQuery(o).scrollLeft(),o.scrollTop]);o=o.parentNode}e.focus();r.forEach(function(e){var t=e[0];if(jQuery(t).scrollLeft()!==e[1]){jQuery(t).scrollLeft(e[1])}if(t.scrollTop!==e[2]){t.scrollTop=e[2]}})};return o},true);
//# sourceMappingURL=DOMUtil.js.map