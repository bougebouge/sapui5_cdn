{"version":3,"file":"ColumnsController.js","names":["sap","ui","define","BaseController","MLibrary","CompLibrary","Util","merge","ColumnsController","extend","constructor","sId","mSettings","apply","this","arguments","setType","P13nPanelType","columns","setItemType","metadata","properties","triggerModelChangeOnColumnInvisible","type","group","defaultValue","events","afterColumnsModelDataChange","prototype","setTable","oTable","getTableType","personalization","TableType","ResponsiveTable","oColumnResizerPlugin","findElements","oElement","isA","detachColumnResize","_onColumnResize","attachColumnResize","AnalyticalTable","Table","TreeTable","detachColumnMove","_onColumnMove","detachColumnVisibility","_onColumnVisibility","attachColumnMove","attachColumnVisibility","_monkeyPatchTable","getColumn2Json","oColumn","sColumnKey","iIndex","columnKey","index","visible","getVisible","width","getWidth","undefined","total","getSummed","getAdditionalData2Json","oJsonData","fixedColumnCount","getFixedColumnCount","getColumn2JsonTransient","sText","sTooltip","text","tooltip","handleIgnore","oJson","columnsItems","syncJson2Table","getTable","oColumnKey2ColumnMap","getColumnMap","fireBeforePotentialTableChange","_applyChangesToUiTableType","_applyChangesToMTableType","fireAfterPotentialTableChange","getDataSuiteFormat2Json","oDataSuiteFormat","createControlDataStructure","fnAddProperty","sPropertyName","oPropertyValue","getIndexByKey","length","splice","getControlDataInitial","filter","oMItem","forEach","Visualizations","aLineItemVisualizations","oVisualization","Type","Content","oContent","Value","aColumnWidthVisualizations","Width","Total","getDataSuiteFormatSnapshot","oControlDataTotal","getUnionData","getControlData","aColumnsItemsContainingTotal","oColumnsItem","map","aColumnsItemsVisible","sort","_sortByIndex","push","Label","aColumnWidthItems","oEvent","iNewPos","getParameter","getColumnKey","oControlData","aColumnsItems","iIndexTo","iIndexFrom","iStep","_sortAdaptationData","findIndex","oItem","aMItem","_swapIndexes","updateControlDataBaseFromJson","fireAfterColumnsModelDataChange","_updateInternalModel","_onColumnTotal","oParams","column","isSummed","_onColumnFixedCount","iFixedColumnCount","getInternalModel","setProperty","vPropertyValue","getPanel","oPayload","iVisibleItemsThreshold","visibleItemsThreshold","Promise","resolve","require","P13nColumnsPanel","P13nItem","P13nColumnsItem","items","path","template","beforeNavigationTo","setModelFunction","changeColumnsItems","oControlDataReduce","getControlDataReduce","setControlDataReduce2Model","_enhanceForStableKeys","fireAfterPotentialModelChange","json","bind","oItem1","oItem2","_quickSortPartition","aColumns","iStartIndex","iEndIndex","i","iPartitionIndex","oPivot","_quickSort","iInitialStartIndex","iInitialEndIndex","aStack","pop","_sortIndexesByOrder","Number","isInteger","iLastVisibleColumnIndex","retrieveAdaptationUI","SelectionPanel","aP13nData","getAdaptationData","oSelectionPanel","showHeader","enableCount","fieldColumn","getCore","getLibraryResourceBundle","getText","setP13nData","_oListControl","setMultiSelectMode","oPanel","aMapped","attachChange","oChangeEvt","getSource","getP13nData","oP13nItem","oP13nColumnItem","name","position","oNew","_transformAdaptationData","oReduce","oTransient","oAdaptationItem","a","b","oColumnsItemsMap","that","fSetOrderArray","aColumnKeys","aColumnsItemsSortedByIndex","indexOf","fSetVisibility","setVisible","fSetOrder","iTableColumnIndex","indexOfColumn","iModelColumnIndex","removeColumn","insertColumn","fSetWidth","setWidth","fSetTotal","setSummed","aColumnsItemsArray","getColumnKeys","setFixedColumnCount","bTableInvalidateNeeded","setOrder","invalidate","getChangeType","oControlDataReduceBase","oControlDataReduceCompare","oChangeData","getChangeData","bNeedModelChange","getTriggerModelChangeOnColumnInvisible","oChangeType","ChangeType","TableChanged","some","ModelChanged","Unchanged","copy","bIsEqual","oItemCompare","getArrayElementByKey","semanticEqual","aToBeDeleted","property","Object","keys","_sortArrayByPropertyName","aArrayToBeSorted","bTakeACopy","aSortedArray","propertyA","propertyB","oJsonBase","oUnion","sAttribute","Array","isArray","oMItemBase","oMItemUnion","oMItemUnionA","oMItemUnionB","reduce","aAccumulator","oPrevMItemUnion","getStableColumnKeys","_checkFillRequired","aGapsFilled","_getFilledArray","mJson","obj","bFillRequired","mJsonBase","iIndexNew","fixConflictWithIgnore","oJsonIgnore","bIsConflictSituation","oMItemIgnore","iItemIndex","isColumnSelected","fSetFixedColumnCountOrigin","fSetFixedColumnCountOverwritten","bSuppressInvalidate","toString","exit"],"sources":["ColumnsController-dbg.js"],"mappings":"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"}