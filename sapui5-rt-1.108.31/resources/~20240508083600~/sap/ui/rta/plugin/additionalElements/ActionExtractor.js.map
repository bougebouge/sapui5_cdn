{"version":3,"file":"ActionExtractor.js","names":["sap","ui","define","difference","merge","Log","JsControlTreeModifier","ElementUtil","OverlayRegistry","DelegateMediatorAPI","AdditionalElementsUtils","Utils","ActionExtractor","loadKnownDefaultDelegateLibraries","aLoadLibraryPromises","aRequiredLibraries","getKnownDefaultDelegateLibraries","forEach","sLibrary","oLoadLibraryPromise","getCore","loadLibrary","async","then","Promise","resolve","catch","vError","warning","push","all","getAddViaDelegateActionData","mAction","oDesignTimeMetadata","oPlugin","hasChangeHandler","changeType","element","bHasChangeHandler","aggregationName","aggregation","addPropertyActionData","designTimeMetadata","action","delegateInfo","payload","delegate","instance","modelType","requiredLibraries","delegateType","undefined","checkInvalidAddActions","bSibling","oSourceElementOverlay","mParents","getParents","parentOverlay","getDesignTimeMetadata","aAddODataPropertyActions","getActionDataFromAggregations","parent","length","error","getData","designtimeModule","aAddActions","mAddAction","getInvisibleElements","oParentOverlay","sAggregationName","oParentElement","getElement","aInvisibleElements","getAggregation","filter","oControl","oOverlay","getOverlay","hasStableId","oRelevantContainer","getRelevantContainer","oRelevantContainerOverlay","oOverlayToCheck","bAnyParentInvisible","getElementVisibility","getParentElementOverlay","this","map","oInvisibleElement","sourceAggregation","defaultGetAggregationName","oParent","oChild","sParentAggregationName","isValidAction","oCheckElementOverlay","bValidAction","relevantContainerOverlay","filterValidAddPropertyActions","aActions","aDefaultDelegateLibraries","fnFilterActions","aFilteredActions","oCheckElement","changeOnRelevantContainer","relevantContainer","getDelegateForControl","control","modifier","supportsDefault","supportsDefaultDelegate","mDelegateInfo","names","types","COMPLETE","getRequiredLibrariesForDefaultDelegate","delegateName","Boolean","reduce","oPreviousActionsPromise","getRevealActionFromAggregations","aParents","_mReveal","aAggregationNames","aInvisibleChildren","aInvisibleChildrenPerAggregation","sAggregation","concat","call","bind","oInitialRevealObject","elements","controlTypeNames","mRevealPromise","oPreviousPromise","mInvisibleElement","mReveal","checkAndEnrichReveal","reveal","sTargetAggregation","mRevealAction","bRevealEnabled","oHasChangeHandlerPromise","sSourceAggregation","getAction","oRevealSelector","isElementValid","getAggregationName","oAggregationOverlay","getAggregationOverlay","checkTargetZone","bIncludeReveal","targetAggregation","mName","getName","getActions","bInvalidate","oDesignTime","sSiblingOrChild","_mAddActions","oRevealActionsPromise","_getRevealActions","oAddPropertyActionsPromise","_getAddViaDelegateActions","aAllActions","mAllActions","asSibling","asChild","getActionsOrUndef","mRevealCache","bIsSyncRegistered","attachEventOnce","findAllSiblingsInContainer","mCachedResult","getId","getAggregationOverlays","isIgnored","mAggregatedReveal","oAction","oReturn","addViaDelegate"],"sources":["ActionExtractor-dbg.js"],"mappings":"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"}