{"version":3,"file":"Plugin.js","names":["sap","ui","define","debounce","Plugin","ChangesWriteAPI","OverlayRegistry","OverlayUtil","JsControlTreeModifier","hasStableId","_handleEditableByPlugin","mPropertyBag","aPromises","oSourceElementOverlay","oResponsibleElementOverlay","this","getActionName","isResponsibleElementActionAvailable","getResponsibleElementOverlay","vEditable","getElement","getDesignTimeMetadata","markedAsNotAdaptable","_isEditable","Object","assign","sourceElementOverlay","then","vEditablePromiseValue","_handleModifyPluginList","bind","push","BasePlugin","extend","metadata","abstract","library","properties","commandFactory","type","multiple","events","elementModified","command","prototype","executeWhenVisible","oElementOverlay","fnCallback","fnGeometryChangedCallback","oEvent","getSource","getGeometry","visible","detachEvent","mOverlayGeometry","getElementVisibility","attachEvent","debounceFunction","mDebounceFunctions","oOverlay","sName","fnOriginalFunction","sOverlayId","getId","_onElementModified","_mDebounceFunctions","insertOrRemove","addOrSet","oParams","getParameters","aRelevantOverlays","name","_getRelevantOverlays","value","evaluateEditable","onRegistration","getDesignTime","getStatus","attachEventOnce","sAggregationName","aAlreadyDefinedRelevantOverlays","getRelevantOverlays","length","getIsPartOfTemplate","findAllOverlaysInContainer","oAggregationOverlay","getAggregationOverlay","aAggregationChildren","getChildren","filter","oChildOverlay","indexOf","concat","setRelevantOverlays","aOverlays","getBusyPlugins","setProcessingStatus","reduce","Promise","all","catch","undefined","_modifyPluginList","asChild","asSibling","bIsEditable","bOverlayIsSibling","addToPluginsList","removeFromPluginsList","_retrievePluginName","bSibling","getMetadata","getName","_isEditableByPlugin","sPluginName","aPluginList","getEditableByPlugins","registerElementOverlay","attachElementModified","deregisterElementOverlay","detachElementModified","getVariantManagementReference","sVariantManagementReference","getVariantManagement","checkAggregationsOnSelf","sAction","sParentAggregationName","sSubAction","oDesignTimeMetadata","oElement","aActionData","getActionDataFromAggregations","oAction","oActionData","aggregation","sChangeType","changeType","bChangeOnRelevantContainer","changeOnRelevantContainer","getRelevantContainer","oRelevantOverlay","getOverlay","resolve","hasChangeHandler","removeEditableByPlugin","setEditable","addEditableByPlugin","sControlType","getChangeHandler","element","modifier","layer","getCommandFactory","getFlexSettings","controlType","isAvailable","aElementOverlays","every","_checkRelevantContainerStableID","oRelevantContainer","_checkChangeHandlerAndStableId","getAction","bHasChangeHandler"],"sources":["Plugin-dbg.js"],"mappings":"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"}