{"version":3,"file":"TimePeriodZoomHandler.js","names":["sap","ui","define","jQuery","BaseObject","Format","TimeHorizon","TimePeriodZoomRectangle","coreLibrary","Utility","Orientation","TimePeriodZoomHandler","extend","constructor","oChart","call","this","_oSourceChart","_oTimePeriodZoomRectangleDrawer","_bActive","_bLocked","_bMouseOnSvg","_bEnableSetVisibleHorizon","_sAutoScrollDirection","undefined","_oLastEvent","prototype","activate","bSuppressEvent","$svg","getDomSelectorById","css","fireActiveStatusChangeEvent","deactivate","invertActiveStatus","bActive","fireEvent","isActive","isTimePeriodZoomEnabled","oAxisTimeStrategy","getAxisTimeStrategy","handleDragStart","oEvent","oGantt","oStartEvent","oStartTime","_caculateEventTime","createRectangle","$GanttSvg","unbind","document","body","detachHorizontalScroll","handleAutoScroll","bind","handleDragging","handleDragEnd","attachHorizontalScroll","type","dragStartTime","originalEvent","oDragStartTime","iDragStartX","getAxisTime","timeToView","aSvgNode","d3","select","drawSvg","oDraggingTime","updateRectangle","sDirection","_handleAutoScroll","draggingTime","iDraggingX","updateSvg","_oAutoScrollHandler","stop","destoryRectangle","oDragEndTime","_caculateXPosition","oEndTime","iOperationIgnoreExtents","Math","abs","getTime","oTempTime","oTargetTimeHorizon","startTime","endTime","syncVisibleHorizon","iVisibleWidth","getVisibleWidth","dragEndTime","visibleWidth","destroySvg","oParameter","getParameters","iTimeBias","oVisibleHorizonStratTime","abapTimestampToDate","oVisibleHorizonEndTime","timeBias","attachEvents","handleMouseEnter","handleMouseLeave","detachEvents","setEnableSetVisibleHorizon","handleAutoScrolling","getParameter","bEnable","enable","calculateTargetVisibleHorizonByTimeBias","oTargetVisibleTimeHorizon","oTargetTime","oTotalHorizon","getTotalHorizon","Date","setTime","oTotalHorizonStartTime","getStartTime","oTotalHorizonEndTime","getEndTime","calculateTargetVisibleHorizon","oEventData","bSyncStartTime","oOriginalVisibleHorizon","getVisibleHorizon","iGanttVisibleWidth","iDragStartTime","iDragEndTime","calculateHorizonByWidth","syncTimePeriodZoomOperation","bTimeScrollSync","sOrientation","Vertical","Horizontal","iMouseXPos","_getMouseXPos","iXPosition","offset","left","offsetX","viewToTime"],"sources":["TimePeriodZoomHandler-dbg.js"],"mappings":"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"}