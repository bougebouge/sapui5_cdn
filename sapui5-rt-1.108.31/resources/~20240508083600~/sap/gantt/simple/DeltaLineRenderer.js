/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/gantt/simple/BaseLine","sap/gantt/simple/BaseTriangle","sap/gantt/simple/BaseDeltaRectangle","sap/gantt/misc/Format","sap/ui/core/theming/Parameters","sap/ui/core/Core"],function(e,t,r,a,i,o){"use strict";var s={apiVersion:2};s.renderDeltaLineHeader=function(s,n,g,p,l){var u=g.getAxisTime();var y=o.getConfiguration().getRTL();var m=u.timeToView(a.abapTimestampToDate(y?n.getEndTimeStamp():n.getTimeStamp()));var d=u.timeToView(a.abapTimestampToDate(y?n.getTimeStamp():n.getEndTimeStamp()));var h=n.getProperty("description");if(g.getEnableDeltaLine()===false||isNaN(m)||isNaN(d)){return}else{var k=10;var f=4;var v=6;n._setEnableChartDeltaAreaHighlight(g.getEnableChartDeltaAreaHighlight());var P;var S;var c;var D;var T;var E=n.getStrokeDasharray();var L=n._getStrokeWidth();var C=Math.abs(d-m);C=C<=0?1:C;if(C<v){c=(d+m)/2;P=c-v;S=c+v;D=1;T=i.get("sapUiChartDataPointBorderColor");n._setVisibleMarker(true)}else{P=m;S=d;D=0;n._setVisibleMarker(false);T=null}if(n._getIsSelected()===true){D=1;T=i.get("sapUiChartDataPointBorderColor");E="solid";L=L+1}var w;var x=p-l;w=x+2+(n._getLevel()-1)*6;var _=n._getHeaderDeltaArea();if(!_){_=new r({id:n.getId()+"-headerDeltaArea",x:m,y:w,height:f,width:Math.abs(d-m),fill:n.getStroke(),hoverable:true,press:function(e){n.press(e);n.firePress(e)},mouseEnter:function(e){n.mouseEnter(e);n.fireMouseEnter(e)},mouseLeave:function(e){n.mouseLeave(e);n.fireMouseLeave(e)}}).addStyleClass("sapGanntChartMarkerCursorPointer");if(h){_.setAggregation("tooltip",h,true)}n._setHeaderDeltaArea(_)}else{_.setProperty("fill",n.getStroke(),true);_.setProperty("x",m,true);_.setProperty("width",Math.abs(d-m),true);_.setProperty("y",w,true);if(h){_.setAggregation("tooltip",h,true)}}_.renderElement(s,_);var A=n._getHeaderStartLine();if(!A){A=new e({x1:m,y1:w,x2:m,y2:w+l,stroke:n.getStroke(),strokeWidth:L,strokeDasharray:E,strokeOpacity:n.getStrokeOpacity(),tooltip:h});n._setHeaderStartLine(A)}else{A.setProperty("stroke",n.getStroke(),true);A.setProperty("x1",m,true);A.setProperty("x2",m,true);A.setProperty("y1",w,true);A.setProperty("y2",w+l,true);A.setProperty("strokeDasharray",E,true);A.setProperty("strokeWidth",L,true);A.setAggregation("tooltip",h,true)}if(n.getVisibleDeltaStartEndLines()){A.renderElement(s,A)}var b=n._getHeaderEndLine();if(!b){b=new e({x1:d,y1:w,x2:d,y2:w+l,stroke:n.getStroke(),strokeWidth:L,strokeDasharray:E,strokeOpacity:n.getStrokeOpacity(),tooltip:h});n._setHeaderEndLine(b)}else{b.setProperty("stroke",n.getStroke(),true);b.setProperty("x1",d,true);b.setProperty("x2",d,true);b.setProperty("y1",w,true);b.setProperty("y2",w+l,true);b.setProperty("strokeDasharray",E,true);b.setProperty("strokeWidth",L,true);b.setAggregation("tooltip",h,true)}if(n.getVisibleDeltaStartEndLines()){b.renderElement(s,b)}var M=n._getForwardMarker();if(!M){M=new t({x:P,y:0,height:k,width:v,stroke:T,rowYCenter:w-3,fill:n.getStroke(),fillOpacity:D,orientation:"right",hoverable:true,press:function(e){n.press(e);n.firePress(e)},mouseEnter:function(e){n.mouseEnter(e);n.fireMouseEnter(e)},mouseLeave:function(e){n.mouseLeave(e);n.fireMouseLeave(e)}}).addStyleClass("sapGanntChartMarkerCursorPointer");if(h){M.setAggregation("tooltip",h,true)}n._setForwardMarker(M)}else{M.setProperty("x",P,true);M.setProperty("fillOpacity",D,true);M.setProperty("rowYCenter",w-3,true);M.setProperty("stroke",T,true);if(h){M.setAggregation("tooltip",h,true)}}M.renderElement(s,M);var O=n._getBackwardMarker();if(!O){O=new t({x:S,y:0,height:k,width:v,stroke:T,rowYCenter:w-3,fill:n.getStroke(),fillOpacity:D,orientation:"left",hoverable:true,press:function(e){n.press(e);n.firePress(e)},mouseEnter:function(e){n.mouseEnter(e);n.fireMouseEnter(e)},mouseLeave:function(e){n.mouseLeave(e);n.fireMouseLeave(e)}}).addStyleClass("sapGanntChartMarkerCursorPointer");if(h){O.setAggregation("tooltip",h,true)}n._setBackwardMarker(O)}else{O.setProperty("x",S,true);O.setProperty("fillOpacity",D,true);O.setProperty("rowYCenter",w-3,true);O.setProperty("stroke",T,true);if(h){O.setAggregation("tooltip",h,true)}}O.renderElement(s,O)}};s.renderDeltaLines=function(t,r,i){var s=i.getAxisTime();var n=o.getConfiguration().getRTL();var g=s.timeToView(a.abapTimestampToDate(n?r.getEndTimeStamp():r.getTimeStamp()));var p=s.timeToView(a.abapTimestampToDate(n?r.getTimeStamp():r.getEndTimeStamp()));var l=r.getStrokeDasharray();var u=r._getStrokeWidth();if(r._getIsSelected()===true){l="solid";u=u+1}var y=r.getDescription();var m=r._getStartLine();if(!m){m=new e({x1:g,y1:0,x2:g,y2:"100%",stroke:r.getStroke(),strokeWidth:u,strokeDasharray:l,strokeOpacity:r.getStrokeOpacity(),tooltip:y});r._setStartLine(m)}else{m.setProperty("stroke",r.getStroke(),true);m.setProperty("x1",g,true);m.setProperty("x2",g,true);m.setProperty("strokeDasharray",l,true);m.setProperty("strokeWidth",u,true);m.setAggregation("tooltip",y,true)}if(r.getVisibleDeltaStartEndLines()){m.renderElement(t,m)}var d=r._getEndLine();if(!d){d=new e({x1:p,y1:0,x2:p,y2:"100%",stroke:r.getStroke(),strokeWidth:u,strokeDasharray:l,strokeOpacity:r.getStrokeOpacity(),tooltip:y});r._setEndLine(d)}else{d.setProperty("stroke",r.getStroke(),true);d.setProperty("x1",p,true);d.setProperty("x2",p,true);d.setProperty("strokeDasharray",l,true);d.setProperty("strokeWidth",u,true);d.setAggregation("tooltip",y,true)}if(r.getVisibleDeltaStartEndLines()){d.renderElement(t,d)}};s.renderChartAreaOfDeltaLines=function(e,t,i){var s=i.getAxisTime();var n=o.getConfiguration().getRTL();var g=s.timeToView(a.abapTimestampToDate(n?t.getEndTimeStamp():t.getTimeStamp()));var p=s.timeToView(a.abapTimestampToDate(n?t.getTimeStamp():t.getEndTimeStamp()));var l=0;if(t._getIsSelected()===true){l=1}var u=t._getChartDeltaArea();if(i.getDeltaAreaHighlightColor()===""){i.setDeltaAreaHighlightColor("@sapUiListSelectionBackgroundColor")}if(!u){u=new r({x:g+1,y:0,height:"100%",width:Math.abs(p-g)-2,fill:i.getDeltaAreaHighlightColor(),opacity:l});t._setChartDeltaArea(u)}else{u.setProperty("x",g+1,true);u.setProperty("width",Math.abs(p-g)-2,true);u.setProperty("opacity",l,true)}u.renderElement(e,u)};return s},true);
//# sourceMappingURL=DeltaLineRenderer.js.map