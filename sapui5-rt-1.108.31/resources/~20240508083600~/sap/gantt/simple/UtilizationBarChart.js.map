{"version":3,"file":"UtilizationBarChart.js","names":["sap","ui","define","jQuery","UtilizationChart","BaseRectangle","BackSlashPattern","UtilizationBarChart","extend","metadata","library","properties","consumptionColor","type","defaultValue","defaultAggregation","aggregations","periods","group","renderer","apiVersion","prototype","applySettings","mSettings","oScope","remainCapacityColor","call","this","_createDefaultDefs","renderElement","oRm","oElement","openStart","class","openEnd","iX","getX","iHeight","getHeight","iY","getRowYCenter","iWidth","getWidth","mProp","x","y","width","height","renderBackgroundDefs","renderUBCBackground","aFilteredPeriods","filterPeriods","length","_iMaxAllowedSupply","_getMaxAllowedSupply","renderOverConsumptionPolygon","renderRemainConsumptionPolygon","renderConsumptionPolygon","renderConsumptionPath","renderTooltips","close","aAllItems","getPeriods","oGantt","getGanttChartBase","mTimeRange","getRenderedTimeRange","oMinTime","oMaxTime","filter","oItem","iIndex","aItems","bFirstOrLast","getFrom","sFill","getFill","getId","mAttr","id","fill","getFillOpacity","renderRectangleWithAttributes","attr","getPolygonPoints","iMaxAllowedSupply","iRowHeight","iMaxY","getDemand","getOverConsumptionColor","getDemandPathD","getStroke","getStrokeWidth","getStrokeDasharray","getSupply","getRemainCapacityColor","iValue","Math","min","getConsumptionColor","aTooltipRects","oNextItem","iX1","toX","iX2","push","parseFloat","abs","tooltip","getTooltip","setProperty","forEach","oRect","iMaxSupplyValue","max","apply","map","iMaxExceedCap","getOverConsumptionMargin","fnCalcItemPointY","fnPointString","join","sResult","bFirst","bLast","iStartX","iEndX","iCapacityY","toFixed","x1","x2","y1","toY","y2","iDemand","iStartY","mDefaultDefs","gantt","def","SvgDefs","defs","tileWidth","tileHeight","backgroundColor","stroke","strokeWidth","unsafeHtml","getDefString"],"sources":["UtilizationBarChart-dbg.js"],"mappings":"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"}