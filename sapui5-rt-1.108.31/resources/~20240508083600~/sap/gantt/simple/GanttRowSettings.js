/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/base/util/uid","sap/ui/table/RowSettings","./AggregationUtils","./RenderUtils","sap/gantt/misc/Utility"],function(e,t,a,n,r){"use strict";var i=t.extend("sap.gantt.simple.GanttRowSettings",{metadata:{library:"sap.gantt",properties:{rowId:{type:"string"}},defaultAggregation:"shapes1",aggregations:{calendars:{type:"sap.gantt.simple.BaseCalendar",multiple:true,singularName:"calendars"},calendars1:{type:"sap.gantt.simple.BaseCalendar",multiple:true,singularName:"calendar1"},calendars2:{type:"sap.gantt.simple.BaseCalendar",multiple:true,singularName:"calendar2"},calendars3:{type:"sap.gantt.simple.BaseCalendar",multiple:true,singularName:"calendar3"},calendars4:{type:"sap.gantt.simple.BaseCalendar",multiple:true,singularName:"calendar4"},calendars5:{type:"sap.gantt.simple.BaseCalendar",multiple:true,singularName:"calendar5"},relationships:{type:"sap.gantt.simple.Relationship",multiple:true,singularName:"relationship"},shapes1:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape1"},shapes2:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape2"},shapes3:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape3"},shapes4:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape4"},shapes5:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape5"}}}});i.prototype.getAllExpandableShapes=function(){var e=[];this._mapAllShapes(function(t){if(t.length>0&&t[0].getExpandable()){e.push(t)}});return[].concat.apply([],e)};i.prototype._mapAllShapes=function(e){var t=a.getNonLazyAggregations(this);Object.keys(t).map(function(a){if(t.hasOwnProperty(a)){var n=t[a];e(this[n._sGetter]())}}.bind(this))};i.prototype.getParentGantt=function(){return a.getParentControlOf("sap.gantt.simple.GanttChartWithTable",this)};i.prototype.getParentRow=function(){return a.getParentControlOf("sap.ui.table.Row",this)};i.prototype.getShapeUid=function(t){var a=t.getShapeId();if(!a){a=e();t.setProperty("shapeId",a,true)}var n=t.getScheme(),r=this.getRowUid(n);var i=this.getShapeBindingContextPath(t);var s=r+"|DATA:"+i+"["+a+"]";return s};i.prototype.getShapeBindingContextPath=function(e){var t=this.getBindingModelName();var a=e.getBindingContext(t);if(a==null){a=this.getBindingContextFromParent(e)}if(a){return a.getPath()}return""};i.prototype.getBindingModelName=function(){var e=this._getRow().getParent().getBindingInfo("rows");return e.model};i.prototype.getBindingContextFromParent=function(e,t){var a=e.getParent();var n;while(a){n=a.getBindingContext(t);if(n){return n}else{a=a.getParent()}}return n};i.prototype.getRowUid=function(e,t){var a=this.getRowId();if(a==null){return null}if(!e){e=this.getParentGantt().getPrimaryShapeScheme().getKey()}if(t===undefined){t=this.getParentRow()?this.getParentRow().getIndex():0}return"PATH:"+a+"|SCHEME:"+e+"["+t+"]"};i.prototype.renderElement=function(e,t){n.renderInlineShapes(e,this,t)};i.prototype.invalidate=function(e){return this._invalidateInnerGanttIfNeeded()};i.prototype._invalidateInnerGanttIfNeeded=function(){var e=this._getRow();r.safeCall(e,["getParent","getParent","getInnerGantt","invalidate"]);return this};return i});
//# sourceMappingURL=GanttRowSettings.js.map