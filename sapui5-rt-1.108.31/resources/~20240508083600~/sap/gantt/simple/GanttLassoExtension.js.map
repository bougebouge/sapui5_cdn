{"version":3,"file":"GanttLassoExtension.js","names":["sap","ui","define","jQuery","KeyCodes","GanttExtension","CoordinateUtils","Utility","_sNamespace","LassoHelper","addEventListeners","oGantt","this","removeEventListeners","oExtension","_getLassoExtension","lassoDoms","rowArea","on","beforeLasso","bind","off","addLassoEventListeners","removeLassoEventListeners","$gantt","getDomRefs","gantt","onMousemove","endLasso","onKeydown","GanttLassoExtension","extend","_init","mSettings","_initLassoStates","_attachEvents","getGantt","_detachEvents","prototype","mDom","_oLassoStartPoint","_bLassoDrawing","getSvgElement","ganttSvg","_getShapeConnectRootNode","$lassoContainer","lasso","d3","select","get","rect","x","y","w","h","_getLassoData","oSvgPoint","iLassoX1","iLassoX2","iLassoY1","iLassoY2","oLassoData","class","d","fill","stroke","createLasso","getD3Doms","lassoRect","empty","oShapeConnectRootNode","append","attr","isLassoDrawing","oEvent","button","getSelection","sSelectionMode","SelectionMode","MultiWithKeyboardAndLasso","MultipleWithLasso","oSvg","getEventSVGPoint","ctrlKey","_bDeselectShapes","setSelectedShapeUid","onLassoDrawing","shapeInLasso","iShapeX1","iShapeX2","iShapeY1","iShapeY2","getShapeElementByTarget","target","getDraggableDOMElement","control","closest","selectAll","remove","oStartPoint","oCurrentShape","sShapeUid","mBias","bInvert","getEnableLassoInvert","aSelectedShapes","getSelectedShapeUid","aAllShapesInLasso","aAlreadySelectedVisibleShapesInLasso","$oSvg","aVisibleShapes","find","toArray","aVisibleRelations","bIsShapeSelectable","forEach","oBaseShape","i","classList","contains","getSelectable","getShapeBias","getShapeUid","getParentRowSettings","getBBox","width","height","bShapeInLasso","iShapeAlreadySelected","indexOf","bShapeAlreadySelected","push","aShapeUids","toString","_bSupressShapeChangeEvent","keyCode","ESCAPE","$svg","$lassoArea","$rowArea","oNode"],"sources":["GanttLassoExtension-dbg.js"],"mappings":"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"}