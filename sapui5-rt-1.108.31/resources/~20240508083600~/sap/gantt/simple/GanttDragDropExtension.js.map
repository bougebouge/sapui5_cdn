{"version":3,"file":"GanttDragDropExtension.js","names":["sap","ui","define","jQuery","KeyCodes","Core","library","GanttExtension","CoordinateUtils","GanttUtils","Format","RenderUtils","Utility","_sNamespace","aEvents","sMouseDown","BrowserEvent","reduce","events","name","aEventWithNamespace","map","sEvent","sMouseDownWithNamespace","I_DRAG_THRESHOLD_DISTANCE","GhostAlignment","dragdrop","SnapMode","DragOrientation","gantt","DragDropHelper","dispatchEvent","oEvent","oExtension","this","_getDragDropExtension","type","mousedown","onMouseDown","mousemove","onMouseMove","mouseup","onMouseUp","keydown","onKeydown","addEventListeners","oGantt","removeEventListeners","oSvg","getDomRefs","ganttSvg","on","bind","oHeaderSvg","headerSvg","off","addDragDropEventListeners","removeDragDropEventListeners","forEach","sEventName","document","GanttDragDropExtension","extend","_init","mSettings","_initDragStates","_attachEvents","getGantt","_detachEvents","prototype","bDragging","adhocLineDrag","deltaLineDrag","adhocLineDragStart","deltaLineDragStart","isCursorlineDisabled","bElementDraggable","oAdhocLineElmDraggable","oDeltaLineElmDraggable","oMouseDownTarget","oLastDraggedShapeData","mDragPoint","dragGhost","prevDragPoint","snapTimer","snapVal","isSnapping","cursorLineSnapPoint","onAdhocMarkerMouseDown","mPoint","getEventSVGPoint","oFrame","target","getBBox","oShape","byId","id","mBias","x","y","getShapeBias","cursorX","cursorY","shapeX","shapeY","shapeWidth","width","shapeBias","onDeltaAreaMouseDown","oDraggedDelta","getParent","timeStamp","getTimeStamp","endTimeStamp","getEndTimeStamp","onAdhocLineDrop","adhocLine","control","oEventData","_getAdhocDropData","fireAdhoclineDrop","setEnableCursorLine","stopDragging","onDeltaLineDrop","deltaLine","_getDeltaMarkerDropEvent","fireDeltalineDrop","onAdhocLineMove","createDragGhost","_hideScrollBarOnBody","getEnableCursorLine","onLineDrag","onDeltaLineMove","isValidDropZoneForLines","updateCursorStyle","updateHeaderCursorStyle","showGhost","button","_bGhostsPositioned","bMultipleGhosts","_bEnableRowHighlight","oDraggedShape","isEventTargetAdhocLine","isAdhocLineDraggable","isEventTargetDeltaLine","isDeltaLineDraggable","getEnableSelectAndDrag","getShapeElementByTarget","shapeSelectedOnMouseDown","initiallySelected","getSelected","isA","getIsConnectorDetailsVisible","getSelection","updateShape","getShapeUid","selected","ctrl","ctrlKey","metaKey","draggable","getDraggable","time","getTime","endTime","getEndTime","isEventTargetDraggable","oDraggedShapeDom","getDraggableDOMElement","getDomRef","shapeUid","startTime","oSourceRow","getRowByShape","getDragOrientation","Horizontal","oCurrentRow","getRowInstancefromShape","aSelectedShapes","getShapesWithUid","_gantt","getId","getSelectedShapeUid","_aVisibleDraggableShapes","sParentAggregationName","push","length","mGhostLabelStyle","getDragHighlightRows","sStyle","sPointerEvent","body","style","cursor","ganttChart","pointerEvents","_bArePointerEventsDisabled","ganttChartContainerToolbar","removeProperty","skipEvent","getShapeDndRowHighlightIndex","oNewPoint","bExceedDraggingThreshold","isExceedDraggingThreshold","bShouldDragStart","isAllowedVerticalOrentationDrag","_aShapeNodes","_aGhostImages","oTargetShape","oTargetDom","oTargetDomBBox","_coordinateDiff","bRtl","getConfiguration","getRTL","xMain","yMain","oShapeDom","getElementById","fWidth","oCoordinateDiff","xDiff","yDiff","shape","_bFirstTimeDrag","_getDragStartEventData","fireDragStart","currDragPos","Object","keys","iGhostTimer","window","setTimeout","_updateGhostShapesPosition","onDragging","oTable","getTable","aRows","getRows","iFirstRow","getIndex","aDraggedShapeHighlightRows","_dragHighlightRows","_highlightedRowIndex","oInfo","oMatchingRow","filter","oRow","getAggregation","getRowId","aShapeGhosts","getElementsByClassName","oGhostWrapperDom","aGhostHeights","i","offsetHeight","lastElementChild","remove","yBuffer","oShapeNode","mOffset","left","top","sLabel","_getGhostLabel","sDragGhostDom","insertAdjacentHTML","_updateGhostLabelStyle","classList","getShowTextOnGhost","sLabelDom","sTextContent","sFontSize","sFill","sFontFamily","sFontWeight","sVerticalAlignment","getVerticalTextAlignment","oTitleDom","nextSibling","tagName","getShowTitle","getTitle","textContent","fontSize","fill","fontFamily","fontWeight","sCssRight","sCssLeft","getXBias","fVertical","height","color","right","aDragGhostLabels","oDragGhostLabel","_getShapeDropEventData","triggerShapeDrop","rerenderAssociatedRelationships","sourceGanttChart","draggedShapeDates","_getDraggedShapeDates","lastDraggedShapeUid","cursorDateTime","_getGhostTime","cursorTime","oPointerExtension","_getPointerExtension","isValidDropZone","isPointerInCorrectRow","oDroppedRow","aShapeDates","oTargetGantt","getGanttChartByTarget","getRowInstance","oGhostTime","dragged","targetGanttChart","targetRow","newDateTime","targetShape","sourceRowData","oAxisTimes","getAxisTime","oldTimeStamp","dateToAbapTimestamp","viewToTime","droppedTimeStamp","newTimeStamp","bPopover","bCrossGanttDrop","oAxisTime","targetSvg","iShapeBiasX","iDroppedCursorX","getSnapMode","None","oCursorTime","oNewDateTime","iShapeX","iShapeWidth","iStartMouseX","oGhostEndTime","iShapeDuration","Vertical","getGhostAlignment","Start","Date","End","iNewShapeStartTime","sNewShapeStartTime","sAlignment","startX","endX","newStartTime","newEndTime","oldStartTime","oldEndTime","oGanttChart","oSelection","aSelectedDraggableShapeUid","allSelectedDraggableUid","oDragShapeDates","sUid","oShapeData","getSelectedShapeDataByUid","updatedShapeTime","setTimeForGroupShape","getDroppedShapeStartTime","oCursorDate","abapTimestampToDate","closest","bHide","toggleClass","keyCode","ESCAPE","_enableTextSelection","_avoidShapeSelectionAfterDragging","removeGhost","_stopAutoScroll","clearTimeout","iSingleClickTimer","oShapeElement","oAdhocLineElement","_getSelected","oDeltaLineElement","_getIsSelected","SHAPE_ID_DATASET_KEY","get","oPoint","Math","abs","isPointerInGanttChart","_disableTextSelection","executeSnappingEffect","_bAutoScroll","isDragging","isAdhocLineDragging","isDeltaLineDragging","calcGhostAligmentForLines","calcGhostOffsetByAlignment","timeLabel","getTimeLabel","getLocale","innerText","iCurrentPageX","xPosOfEvent","oScreenPoint","getSvgScreenPoint","pageX","clientX","pageY","clientY","isSnapped","iFinalCursorX","fExtraSpace","offsetWidth","oScreenPoint1","sTop","getEventPosition","_generateSnapvalue","_getSnapOffsetByAligment","mpoints","snapOffset","isRtl","xPosStart","xPosEnd","_getSnappedTime","snapMin","date","ToMiliSec","snappedTime","timeDiff","mod","_computeSnapping","leftDiff","rightDiff","currentDiff","snapPoint","Left","Right","_computeSnapByTime","currentTimeIntervalKey","snapTimeInterval","snapTime","aStartDate","aEndDate","getMinutes","getHours","setMinutes","getSeconds","setSeconds","leftSnapTime","rightnapTime","leftSnappedPos","timeToView","rightSnapPos","_toggleCursorLine","yPos","GanttPointerExtension","getCurrentTickTimeIntervalKey","getSnapTimeInterval","oZoomStrategy","getZoomStrategy","Number","MAX_SAFE_INTEGER","timeInterval","iRenderedWidth","getGanttRenderWidth","aTickTimeIntervals","getTickTimeIntervalLabel","getTimeLineOption","aTicks","aTick","value","visibleDeltaLines","getVisibleElements","deltaline","visibleAdhocLines","adhocline","visibleShapes","oBaseShape","iShapeX1","iShapeX2","iShapeY1","iShapeY2","yPos2","visibleNonWorkingTime","timeRect","rectX1","rectX2","parentNode","removeChild","oLastNode","bTargetShape","oContainer","append","canvas","createElement","bbox","normalizeGhostImageWidth","_line","_getLine","lineNode","sId","_headerLine","_getHeaderLine","headerLineNode","_lineBBox","_headerBBox","getVisibleDeltaStartEndLines","oStartLine","_getStartLine","oEndLine","_getEndLine","oHeaderStartLine","_getHeaderStartLine","oHeaderEndLine","_getHeaderEndLine","oStartLineDom","oEndLineDom","oHeaderStartLineDom","oHeaderEndLineDom","deltaLineElms","headerStartLine","startLine","headerEndLine","endLine","HeaderLineBBox","lineBbox","createGhostImage","iWidth","sSvgString","serializeClonedSvg","sBase64","_b64EncodeUnicode","fullImageUrl","appendGhostImageToWrapper","str","btoa","encodeURIComponent","replace","toSolidBytes","match","p1","String","fromCharCode","cropedImg","oStyle","_getDragTextOverlayStyle","sTextDom","css","bLabelFlag","simple","BaseGroup","iLeftCursorPart","sCssClass","setProperty","oDragNode","headerNode","svgNS","d3","ns","prefix","svg","oCopyedSvg","createElementNS","setAttribute","oClonedNode","cloneNode","transform","removeOriginalTextNode","_aOriginalTextX","_iCount","_populateTextNodeX","_repositionTextNode","gWrapper","appendChild","oClonedHeaderNode","oClonedLineNode","oDeltaLine","getCore","oClonedHeaderStartLine","oClonedStartLine","oClonedHeaderEndLine","oCLonedEndLine","oSvgDefs","getSvgDefs","oClonedSvgDefsNode","XMLSerializer","serializeToString","oNode","children","childNodes","aChildren","Array","slice","call","fTextX","sTextAnchor","getAttribute","getNumberOfDragObject","iSelectedDraggableShapes","numberOfSelectedDraggableShapes","oRb","getLibraryResourceBundle","sObject","getText","sObjects","sDescr","attr","preventDefault","unbind","oOriginalRow","oClonedRow","clone","_addBackOriginalGanttRowProperties","oPropagatedProperties","_getPropertiesToPropagate","propagateProperties","oParent"],"sources":["GanttDragDropExtension-dbg.js"],"mappings":"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"}