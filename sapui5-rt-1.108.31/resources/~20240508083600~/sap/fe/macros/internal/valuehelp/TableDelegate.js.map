{"version":3,"file":"TableDelegate.js","names":["sap","ui","define","Log","deepEqual","CommonUtils","FilterBar","MetaModelConverter","ModelHelper","DataModelPathHelper","DisplayModeFormatter","PropertyHelper","TypeUtil","MacrosDelegateUtil","ODataMetaModelUtil","Core","TableDelegate","DelegateUtil","FilterUtil","Filter","FilterOperator","Sorter","getLabel","getAssociatedUnitPropertyPath","getAssociatedTimezonePropertyPath","getAssociatedTextPropertyPath","getAssociatedCurrencyPropertyPath","getDisplayMode","getTargetObjectPath","enhanceDataModelPath","getInvolvedDataModelObjects","fetchTypeConfig","ODataTableDelegate","Object","assign","fetchProperties","oTable","_this","this","oModel","_getModel","pCreatePropertyInfos","Promise","resolve","attachModelContextChange","resolver","onModelContextChange","then","oSubModel","_createPropertyInfos","aProperties","data","oEvent","oData","getSource","detachModelContextChange","_collectRelatedProperties","dataModelPropertyPath","dataModelAdditionalPropertyPath","_getAdditionalProperty","relatedProperties","targetObject","_property$annotations","_property$annotations2","_textAnnotation$annot","_textAnnotation$annot2","_textAnnotation$annot3","additionalProperty","additionalPropertyPath","navigationProperties","length","name","property","propertyPath","textAnnotation","annotations","Common","Text","textArrangement","UI","TextArrangement","toString","displayMode","oMetadataInfo","getDelegate","payload","sEntitySetPath","concat","collectionName","oMetaModel","getMetaModel","requestObject","mEntitySetAnnotations","oSortRestrictions","oSortRestrictionsInfo","getSortRestrictionsInfo","oFilterRestrictions","oFilterRestrictionsInfo","getFilterRestrictionsInfo","customDataForColumns","getCustomData","propertiesToBeCreated","dataModelEntityPath","getModel","getContext","customData","forEach","columnDef","oPropertyInfo","path","label","sortable","_isSortableProperty","filterable","_isFilterableProperty","maxConditions","_getPropertyMaxConditions","typeConfig","isTypeFilterable","$Type","getTypeUtil","getTypeConfig","undefined","targetPropertyPath","oTypeConfig","type","_TypeUtil$getTypeConf","propertyTypeConfig","formatOptions","constraints","relatedPropertiesInfo","relatedPropertyPaths","keys","propertyInfos","find","push","relatedColumns","_createRelatedProperties","updateBindingInfo","oMDCTable","oBindingInfo","apply","collectionPath","model","oFilter","byId","getFilter","bFilterEnabled","isFilteringEnabled","mConditions","oInnerFilterInfo","oOuterFilterInfo","aFilters","aTableProperties","getConditions","getFilterInfo","filters","aParameterNames","getParameterNames","_updatePropertyInfo","sParameterPath","getParametersInfo","parameters","$search","normalizeSearchTerm","getSearch","_applyDefaultSorting","$select","reduce","sQuery","oProperty","indexOf","$count","isDraftSupported","EQ","oPayload","sorter","defaultSortPropertyName","aConditionKey","conditionKey","findIndex","tableProperty","oColumnDef","getObject","updateBinding","oBinding","bNeedManualRefresh","oInternalBindingContext","getBindingContext","sManualUpdatePropertyKey","bPendingManualUpdate","getProperty","oRowBinding","getRowBinding","oldFilters","getFilters","getQueryOptionsFromParameters","setProperty","requestRefresh","getGroupId","finally","catch","oError","error","fireEvent","existingColumns","relatedPropertyNameMap","relatedColumn","column","newName","valueHelpTableColumn","_column$propertyInfos","map","columnName","_relatedPropertyNameM","valueHelpColumn","isMultiValueFilterExpression","propertyInfo","dataModelAdditionalProperty"],"sources":["TableDelegate-dbg.js"],"mappings":"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"}