//@ui5-bundle sap/fe/test/library-preload.js
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/BaseActions", ["sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/Utils"],function(e,t,i,r){"use strict";return e.extend("sap.fe.test.BaseActions",{iClosePopover:function(){return i.createClosePopoverBuilder(this).description("Closing open popover").execute()},iPressEscape:function(){return i.create(this).has(i.Matchers.FOCUSED_ELEMENT).do(i.Actions.keyboardShortcut("Escape")).description("Pressing escape button").execute()},iWait:function(e){var t=false,s=true;return i.create(this).check(function(){if(s){s=false;setTimeout(function(){t=true},e)}return t}).description(r.formatMessage("Waiting for '{0}' milliseconds ",e)).execute()},iNavigateBack:function(){return t.create(this).viewId(null).do(function(){e.getWindow().history.back()}).description("Navigating back via browser back").execute()},iNavigateForward:function(){return t.create(this).viewId(null).do(function(){e.getWindow().history.forward()}).description("Navigating back via browser forward").execute()}})});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/BaseArrangements", ["sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/ui/thirdparty/jquery","sap/base/util/UriParameters","./Utils","./Stubs"],function(e,t,jQuery,r,n,a){"use strict";return e.extend("sap.fe.test.BaseArrangements",{constructor:function(t){e.apply(this);var a=new r(window.location.href),i={"sap-ui-log-level":"ERROR","sap-ui-xx-viewCache":true};if(a.get("useBackendUrl")){i.useBackendUrl=a.get("useBackendUrl")}this._mSettings=n.mergeObjects({launchParameters:i},t)},iStartMyApp:function(r,i){var s=this._mSettings.launchUrl,c=n.mergeObjects(this._mSettings.launchParameters,i),u=Object.keys(c).reduce(function(e,t){return e+"&"+t+"="+c[t]},""),o=s+(u?"?"+u.substring(1):"")+(r?"#"+r:"");this.iStartMyAppInAFrame(o);return t.create(this).success(function(){var t=e.getWindow();a.stubAll(t)}).description(n.formatMessage("Started URL '{0}' in iFrame",o)).execute()},resetTestData:function(){function e(e){return new Promise(function(t,r){var n=indexedDB.deleteDatabase(e);n.onsuccess=t;n.onerror=r})}localStorage.clear();sessionStorage.clear();if(indexedDB){if(typeof indexedDB.databases==="function"){return indexedDB.databases().then(function(t){return Promise.all(t.map(function(t){return e(t.name)}))})}else{return e("ui5-cachemanager-db")}}else{return Promise.resolve()}},iResetTestData:function(){var e=this,r=false;return t.create(this).success(function(){e.resetTestData().finally(function(){r=true}).catch(function(e){throw e});return t.create(this).check(function(){return r}).execute()}).description(n.formatMessage("Resetting test data")).execute()},iResetMockData:function(r){var a=false;return t.create(this).success(function(){var n=r.AppId?e.getWindow()[r.AppId].Component.getMetadata().getManifest()["sap.app"]["dataSources"]["mainService"]["uri"]:r.ServiceUri,i=jQuery.post(n+"\\$metadata/reload");Promise.all([i]).finally(function(){a=true}).catch(function(e){throw e});return t.create(this).check(function(){return a}).execute()}).description(n.formatMessage("Resetting mock data")).execute()},iTearDownMyApp:function(){return t.create(this).do(function(){var t=e.getWindow();a.restoreAll(t)}).do(this.iTeardownMyAppFrame.bind(this)).description("Tearing down my app").execute()},iRestartMyApp:function(){var r=this;return t.create(this).success(function(){var t=e.getWindow().location.hash.substring(1);return r.iTearDownMyApp().and.iStartMyApp(t)}).description("Restarting the app").execute()}})});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/BaseAssertions", ["sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/Utils"],function(e,s,t,a){"use strict";return e.extend("sap.fe.test.BaseAssertions",{iSeeMessagePage:function(e){return s.create(this).hasType("sap.m.MessagePage").hasProperties({text:e}).description(a.formatMessage("Error Page with message '{0}' is visible",e)).execute()},iSeeMessageToast:function(e){return t.createMessageToastBuilder(e).execute(this)}})});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/CollaborationClient", ["sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/test/api/CollaborationAPI","sap/ui/test/OpaBuilder"],function(e,t,n){"use strict";var i=e.Activity;function r(e){var r=e.appId,o=e.componentId,c="".concat(r,"::").concat(o);return{actions:{iEnterDraft:function(e,i){return n.create(this).hasId(c).do(function(n){var r=n.getBindingContext();t.enterDraft(r,e,i)}).viewId("").description("Remote session entering draft").execute()},iLeaveDraft:function(){return n.create(this).do(function(){t.leaveDraft()}).description("Remote session leaving draft").execute()},iLockPropertyForEdition:function(e){return n.create(this).do(function(){t.startLiveChange(e)}).description("Remote session locking property ".concat(e)).execute()},iUnlockPropertyForEdition:function(){return n.create(this).do(function(){t.undoChange()}).description("Remote session unlocking property ").execute()},iUpdatePropertyValue:function(e,i){return n.create(this).do(function(){t.updatePropertyValue(e,i)}).description("Remote session updating property ".concat(e," with ").concat(i)).execute()},iDiscardDraft:function(){return n.create(this).do(function(){t.discardDraft()}).description("Remote session discarding draft").execute()},iDeleteDraft:function(){return n.create(this).do(function(){t.deleteDraft()}).description("Remote session deleting draft").execute()}},assertions:{iCheckDefaultUserChangedValue:function(e){return n.create(this).check(function(){return t.checkReceived({userID:"DEFAULT_USER",userAction:i.Change,clientContent:e})}).description("Remote session received change notification for".concat(e," changed")).execute()},iCheckDefaultUserLeftDraft:function(){return n.create(this).check(function(){return t.checkReceived({userID:"DEFAULT_USER",userAction:i.Leave})}).description("Remote session received notification on default user leaving the draft session").execute()},iCheckDefaultUserEnteredDraft:function(){return n.create(this).check(function(){return t.checkReceived({userID:"DEFAULT_USER",userAction:i.Join})}).description("Remote session received notification on default user entering the draft session").execute()}}}}return r},false);
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/ConfirmDialog", ["sap/ui/test/OpaBuilder","sap/ui/test/Opa5","sap/fe/test/Utils"],function(e,t,n){"use strict";function i(e){if(e.testWindow){e.testWindow.confirm=e.testWindowConfirm;delete e.testWindow;delete e.testWindowConfirm}}return{create:function(){return{actions:{iSetNextConfirmAnswer:function(o,r){return e.create(this).do(function(){var e=t.getWindow(),n=e.confirm;function s(e){i(r);r.confirmed=o;r.message=e;return o}delete r.confirmed;delete r.message;r.testWindow=e;r.testWindowConfirm=n;e.confirm=s}).description(n.formatMessage("Next confirmation dialog will be {0}",o?"accepted":"refused")).execute()}},assertions:{confirmDialogHasBeenDisplayed:function(t,i){return e.create(this).check(function(){return i&&i.confirmed===t},true).description(n.formatMessage("Confirm dialog has been displayed and {0}",t?"accepted":"refused")).execute()},confirmDialogHasNotBeenDisplayed:function(t){return e.create(this).check(function(){return t&&!("confirmed"in t)},true).success(function(){i(t)}).description("No confirm dialog has been displayed").execute()}}}}}});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/FCLView", ["sap/ui/test/OpaBuilder"],function(e){"use strict";return{actions:{iEnterFullScreenMode:function(){return e.create(this).hasType("sap.m.OverflowToolbarButton").hasProperties({icon:"sap-icon://full-screen"}).description("Entering the FullScreen Button").doPress().execute()},iExitFullScreenMode:function(){return e.create(this).hasType("sap.m.OverflowToolbarButton").hasProperties({icon:"sap-icon://exit-full-screen"}).description("Exiting Full screen mode").doPress().execute()},iCloseThisColumn:function(){return e.create(this).hasType("sap.m.OverflowToolbarButton").hasProperties({icon:"sap-icon://decline"}).doPress().description("Close FCL column for object page").execute()}},assertions:{iCheckActionButton:function(t,n,i){if(!i){i=n}return e.create(this).hasType("sap.uxap.ObjectPageDynamicHeaderTitle").check(function(e){var i=e[0],o=i.getNavigationActions().filter(function(e){return e.getIcon&&e.getIcon()===n&&e.getVisible()});return t?o.length!==0:o.length===0}).description((t?"Seeing":"Not seeing")+" the "+i+" Button").execute()},iCheckFullScreenButton:function(e){return this.iCheckActionButton(e,"sap-icon://full-screen","Fullscreen")},iCheckFullScreenExitButton:function(e){return this.iCheckActionButton(e,"sap-icon://exit-full-screen","Exit Fullscreen")},iCheckCloseColumnButton:function(e){return this.iCheckActionButton(e,"sap-icon://decline","Close Column")},iSeeEndColumnFullScreen:function(){return e.create(this).hasType("sap.m.OverflowToolbarButton").check(function(e){var t=e.some(function(e){return e.getProperty("icon")==="sap-icon://full-screen"});return t===false},true).description("No FCL displayed").execute()}}}});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/FeMocks", ["@sap-ux/jest-mock-ui5/dist/generic","sap/fe/core/controllerextensions/InternalEditFlow","sap/fe/core/PageController","sap/ui/mdc/FilterBar"],function(t,e,n,r){"use strict";var i={};var o=t.mock;function s(){var t={_getFilterBarControl:jest.fn(),_getControls:jest.fn(),_isFilterBarHidden:jest.fn(),_isMultiMode:jest.fn(),_getMultiModeControl:jest.fn(),_getFilterBarVariantControl:jest.fn(),_hasMultiVisualizations:jest.fn(),_shouldAutoTriggerSearch:jest.fn(),_getTable:jest.fn(),getExtensionAPI:jest.fn(),_editFlow:o(e)};return Object.assign(o(n),t)}i.mockListReportController=s;function a(){var t={getStickyEditMode:jest.fn(),getExtensionAPI:jest.fn(),_editFlow:o(e)};return Object.assign(o(n),t)}i.mockObjectPageController=a;function l(t,e,n){var r=e.getView();t.getView=function(){return r};var i=o(n||{});return Object.assign(i,t)}i.mockContextForExtension=l;function c(){var t=o(r);t.mock.waitForInitialization=jest.fn();return t}i.mockFilterBar=c;return i},false);
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/Flexibility", ["sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/ui/qunit/QUnitUtils"],function(e,t,n){"use strict";function i(e){return new RegExp("fe::HeaderFacetContainer::"+e+"$")}function r(e){return new RegExp("fe::FacetSection::"+e+"-anchor$")}function o(e){return new RegExp("fe::Form::(.+)"+e+"_FormElement"+"$")}function a(e,t){return function(n){var i=t?n.getElementInstance().getParent():n.getElementInstance(),r=i&&i.getId();return typeof e==="string"?r===e:e.test(r)}}return{actions:{iExecuteById:function(e,n){return t.create(this).viewId(null).hasId(e).doPress().description(n).execute()},iExecuteMeArea:function(){return this.iExecuteById("meAreaHeaderButton","Me Area")},iExecuteAdaptUI:function(){return this.iExecuteById(/RTA_Plugin_ActionButton$/,"Adapt UI")},iExecuteAdaptation:function(){return this.iExecuteById(/adaptationSwitcherButton$/,"Adaptation")},iExecuteNavigation:function(){return this.iExecuteById(/navigationSwitcherButton$/,"Navigation")},iWaitUntilTheBusyIndicatorIsGone:function(){return t.create(this).viewId(null).hasId("mainShell").has(function(e){return e.getBusy()===false}).timeout(180).description("Busy indicator is gone").execute()},iExecuteRightContextMenuById:function(e,n,i){var r=a(e,i);return t.create(this).viewId(null).hasType("sap.ui.dt.ElementOverlay").has(r).do(function(e){e.$().trigger("contextmenu")}).description(n).execute()},iExecuteLeftContextMenuById:function(e,n,i){var r=a(e,i);return t.create(this).viewId(null).hasType("sap.ui.dt.ElementOverlay").has(r).doPress().description(n).execute()},iExecuteRightContextMenuOnHeaderContainer:function(){return this.iExecuteRightContextMenuById(/fe::HeaderContentContainer$/,"Context menu for Header Container")},iExecuteRightContextMenuOnVariantManagement:function(){return this.iExecuteRightContextMenuById(/fe::PageVariantManagement$/,"Context menu for Variant Management")},iExecuteRightContextMenuOnTable:function(){return this.iExecuteRightContextMenuById(/fe::table::SalesOrderManage::LineItem$/,"Context menu for Table")},iExecuteRightContextMenuOnFilterBar:function(){return this.iExecuteRightContextMenuById(/fe::FilterBar::SalesOrderManage$/,"Context menu for FilterBar")},iExecuteRightContextMenuOnHeaderFacet:function(e){return this.iExecuteRightContextMenuById(i(e),"Context menu for "+e,true)},iExecuteRightContextMenuOnSection:function(e){return this.iExecuteRightContextMenuById(r(e),"Context menu for "+e,false)},iExecuteRightContextMenuOnFormContainer:function(e){return this.iExecuteRightContextMenuById(new RegExp("fe::FormContainer::"+e+"$"),"Context menu for Form Container "+e)},iExecuteRightContextMenuOnHeaderFacetFormContainer:function(e){return this.iExecuteRightContextMenuById(new RegExp("fe::HeaderFacet::FormContainer::"+e+"$"),"Context menu for HeaderFacet Form Container "+e)},iExecuteRightContextMenuOnHeaderFacetFormElement:function(e){return this.iExecuteRightContextMenuById(new RegExp("fe::HeaderFacet::FormContainer::"+e+"::FormElement"+"$"),"Context menu for HeaderFacet Form Element "+e)},iExecuteLeftContextMenuOnSection:function(e){return this.iExecuteLeftContextMenuById(r(e),"Left context menu for "+e,false)},iExecuteLeftContextMenuOnHeaderFacet:function(e){return this.iExecuteLeftContextMenuById(i(e),"Left Context menu for "+e,true)},iExecuteLeftContextMenuOnHeaderFacetFormContainer:function(e){return this.iExecuteLeftContextMenuById(new RegExp("fe::HeaderFacet::FormContainer::"+e+"$"),"Left context menu for HeaderFacet Form Container "+e)},iExecuteLeftContextMenuOnHeaderFacetFormElement:function(e){return this.iExecuteLeftContextMenuById(new RegExp("fe::HeaderFacet::FormContainer::"+e+"::FormElement"+"$"),"Left context menu for HeaderFacet Form Element "+e)},iExecuteRightContextMenuOnFieldAddedViaRTA:function(e){return this.iExecuteRightContextMenuById(o("_"+e),"Context menu for Field "+e)},iExecuteFocusOnAnchorBar:function(){return t.create(this).viewId(null).hasId(/fe::ObjectPage-anchBar$/).doPress().description("Focus on AnchorBar").execute()},iExecutePopOverActionByIcon:function(e,n){return t.create(this).viewId(null).hasType("sap.ui.unified.MenuItem").hasProperties({icon:"sap-icon://"+e}).isDialogElement().doPress().description(n).execute()},iExecutePopOverButtonByIcon:function(e,n){return t.create(this).viewId(null).hasType("sap.m.Button").hasProperties({icon:"sap-icon://"+e}).isDialogElement().doPress().description(n).execute()},iExecutePopOverActionRename:function(e){return this.iExecutePopOverActionByIcon("edit","Press rename on "+e)},iExecutePopOverActionAdd:function(e){return this.iExecutePopOverActionByIcon("add",e)},iExecutePopOverActionRemove:function(e){return this.iExecutePopOverActionByIcon("less",e)},iExecutePopOverActionCut:function(e){return this.iExecutePopOverActionByIcon("scissors",e)},iExecutePopOverActionPaste:function(e){return this.iExecutePopOverActionByIcon("paste",e)},iExecutePopOverActionDuplicate:function(e){return this.iExecutePopOverActionByIcon("duplicate","Duplicate Variant '"+e+"'")},iExecutePopOverActionSettings:function(e){return this.iExecutePopOverActionByIcon("key-user-settings","Open "+e+" Settings")},iExecutePopOverActionEmbedContent:function(e){return this.iExecutePopOverActionByIcon("tnt/content-enricher","Open "+e+" Settings")},iSwitchToGroupViewInTheFilterBarDialog:function(){return this.iExecutePopOverButtonByIcon("group-2","Switch to grouped view in filter bar dialog")},iSelectExpandFiltersgroupInTheFilterBarDialog:function(e){return t.create(this).viewId(null).hasType("sap.m.Panel").hasChildren(t.create(this).hasType("sap.m.Label").hasProperties({text:e})).doOnChildren(t.create(this).hasType("sap.m.Button").doPress()).description("Expanding filter group wiht name '"+e+"'").execute()},iSelectCheckBoxInTheFilterBarDialog:function(e){return t.create(this).viewId(null).hasType("sap.m.CustomListItem").doOnChildren(t.create(this).hasType("sap.m.CustomListItem").hasChildren(t.create(this).hasType("sap.m.Label").hasProperties({text:e})).doOnChildren(t.create(this).hasType("sap.m.CheckBox").doPress())).description("Selected Checkbox next to '"+e+"'").execute()},iChangeVisibilityFilter:function(e){return t.create(this).viewId(null).hasType("sap.m.Bar").isDialogElement().doOnChildren(t.create(this).hasType("sap.m.Select").checkNumberOfMatches(1).doEnterText(e)).description("Changed displayed fields to '"+e+"'").execute()},iEnterUrlInTheTextArea:function(e){return t.create(this).viewId(null).hasType("sap.m.TextArea").hasId("sapUiRtaAddIFrameDialog_EditUrlTA").isDialogElement().doEnterText(e).description("Added URL '"+e+"' to Text Area").execute()},iSwitchToReorderOnDialog:function(){return t.create(this).viewId(null).hasType("sap.m.Button").isDialogElement().hasProperties({text:"Reorder"}).doPress().description("Switch to reorder view").execute()},_iSelectALabelOnTheReorderDialog:function(e){return t.create(this).viewId(null).hasType("sap.m.Label").isDialogElement().hasProperties({text:e}).doPress().execute()},iReorderTableColumn:function(e,n){this._iSelectALabelOnTheReorderDialog(e);var i,r="sap-icon://";if(n===0){i="collapse-group"}else if(n===1){i="slim-arrow-up"}else if(!n===2){i="slim-arrow-down"}else if(!n===3){i="expand-group"}r+=i;return t.create(this).viewId(null).hasType("sap.m.Button").isDialogElement().hasProperties({icon:r}).doPress().description("Reorder '"+e+"'").execute()},iEnterTextInSearchfield:function(e){return t.create(this).viewId(null).hasType("sap.m.SearchField").isDialogElement().checkNumberOfMatches(1).doEnterText(e).description("Enter text: '"+e+"'").execute()},iEnterTextinFilterField:function(e){return t.create(this).hasType("sap.ui.mdc.field.FieldMultiInput").checkNumberOfMatches(1).doEnterText(e).description("Enter text: '"+e+"'").execute()},iSelectAFieldInTheDialog:function(e){return t.create(this).viewId(null).hasType("sap.m.CustomListItem").isDialogElement().has(function(t){var n=t.getTooltip();return typeof e==="string"?n===e:e.test(n)}).doPress().description("Select "+e).execute()},iExecutePopOverOk:function(){return t.create(this).viewId(null).hasType("sap.m.Button").hasProperties({text:"OK"}).isDialogElement().doPress().description("OK Button").execute()},iExecuteSaveAndExit:function(){return this.iExecuteById(/sapUiRta_exit$/,"Save&Exit")},iExecuteUndo:function(){return this.iExecuteById(/sapUiRta_undo$/,"Undo")},iEnterTextForRTAEditableField:function(e){return t.create(this).hasType("sap.ui.dt.ElementOverlay").has(function(e){if(e.$().hasClass("sapUiDtOverlaySelected")){var t=e.$().find(".sapUiRtaEditableField");return t.children()[0]}return null}).do(function(t){t.innerHTML=e;n.triggerEvent("keypress",t,{which:13,keyCode:13});t.blur()}).description("Enter text: "+e).execute()},iEnterTextForTitle:function(e){return this.iEnterTextForRTAEditableField(e)},iEnterTextForViewField:function(e){return t.create(this).hasType("sap.m.Input").isDialogElement().doEnterText(e,true).description("Entering text: "+e+" as variant name").execute()}},assertions:{iSeeTheFLPToolbar:function(){return t.create(this).hasType("sap.ushell.ui.ShellHeader").hasId("shell-header").description("Seeing the FLP toolbar").execute()},iSeeTheRTAToolbar:function(){return t.create(this).hasType("sap.ui.rta.toolbar.Fiori").description("Seeing the RTA toolbar").execute()},iSeeTheHeaderFacet:function(e){return t.create(this).hasType("sap.fe.templates.ObjectPage.controls.StashableHBox").hasId(i(e)).description("Seeing the Header Facet "+e).execute()},iSeeTheFieldAddedViaRTA:function(e){return t.create(this).hasType("sap.ui.layout.form.FormElement").hasId(o("_"+e)).description("Seeing the Field "+e).execute()},iSeeTheEditableHeaderFieldAddedViaRTA:function(e){return t.create(this).hasType("sap.ui.layout.form.FormElement").hasId(new RegExp("fe::EditableHeaderForm_(.+)_"+e+"_FormElement"+"$")).description("Seeing the Editable Header Field "+e).execute()},iSeeTheEditableHeaderField:function(e){return t.create(this).hasType("sap.ui.layout.form.FormElement").hasId(new RegExp("fe::HeaderFacet::FormContainer::"+e+"::FormElement"+"$")).description("Seeing the Editable Header Field "+e).execute()},iDoNotSeeTheHeaderFacet:function(e){var n=i(e);return t.create(this).hasType("sap.fe.templates.ObjectPage.controls.StashableHBox").check(function(e){var t=e.some(function(e){return typeof n==="string"?e.getId()===n:n.test(e.getId())});return t===false},true).description("Not seeing the Header Facet "+e).execute()},iDoNotSeeTheField:function(e){return t.create(this).hasType("sap.ui.layout.form.FormElement").check(function(t){var n=t.some(function(t){return t.getId().indexOf(e)>-1});return n===false},true).description("Not seeing the Field "+e).execute()},iSeeTheElementOverlayById:function(e,n,i){var r=a(e,i);return t.create(this).hasType("sap.ui.dt.ElementOverlay").has(r).description(n).execute()},iDoNotSeeTheElementOverlayById:function(e,n,i){var r=a(e,i);return t.create(this).hasType("sap.ui.dt.ElementOverlay").check(function(e){var t=e.some(r);return t===false},true).description(n).execute()},iSeeTheElementOverlayForTheApp:function(){return this.iSeeTheElementOverlayById(/component---appRootView--appContent$/,"Seeing the ElementOverlay for the App")},iSeeThePopover:function(){return t.create(this).hasType("sap.ui.unified.Menu").description("Seeing the Popover").execute()},iSeeTheButtonByIcon:function(e,n){return t.create(this).hasType("sap.m.Button").isDialogElement().hasProperties({icon:e}).description("Seeing "+n).execute()},iSeeTheMenuItemByIcon:function(e,n){return t.create(this).hasType("sap.ui.unified.MenuItem").isDialogElement().hasProperties({icon:e}).description("Seeing "+n).execute()},iDoNotSeeTheButtonByIcon:function(e,n){return t.create(this).hasType("sap.m.Button").isDialogElement().check(function(t){var n=t.some(function(t){return t.getProperty("icon")===e});return n===false},true).description("Not seeing "+n).execute()},iDoNotSeeTheMenuItemByIcon:function(e,n){return t.create(this).hasType("sap.ui.unified.MenuItem").isDialogElement().check(function(t){var n=t.some(function(t){return t.getProperty("icon")===e});return n===false},true).description("Not seeing "+n).execute()},iSeeTheVariantManagementPopover:function(){return this.iSeeTheMenuItemByIcon("sap-icon://duplicate","The Popover")},iSeeTheRTAPopover:function(){return this.iSeeTheMenuItemByIcon("sap-icon://key-user-settings","The RTAPopover")},iSeeTheRenameButton:function(){return this.iSeeTheMenuItemByIcon("sap-icon://edit","the button 'rename'")},iSeeTheAddButton:function(){return this.iSeeTheMenuItemByIcon("sap-icon://add","the button 'add'")},iSeeTheCreateGroupButton:function(){return this.iSeeTheMenuItemByIcon("sap-icon://add-folder","the button 'create group'")},iDoNotSeeTheRenameButton:function(){return this.iDoNotSeeTheMenuItemByIcon("sap-icon://edit","the button 'rename'")},iDoNotSeeTheAddButton:function(){return this.iDoNotSeeTheMenuItemByIcon("sap-icon://add","the button 'add'")},iDoNotSeeTheRemoveButton:function(){return this.iDoNotSeeTheMenuItemByIcon("sap-icon://less","the button 'remove'")},iSeeThePopoverDialog:function(){return t.create(this).hasType("sap.m.Dialog").description("Seeing the Popover Dialog").execute()},iSeeThePopoverDialogWithId:function(e){return t.create(this).hasType("sap.m.Dialog").hasId(e).description("Seeing the Popover Dialog with Id:",e).execute()},iSeeTheHeaderFacetOverlay:function(e){return this.iSeeTheElementOverlayById(i(e),"Seeing the Header Facet: "+e,true)},iDoNotSeeTheHeaderFacetOverlay:function(e){return this.iDoNotSeeTheElementOverlayById(i(e),"Not seeing the Header Facet Overlay: "+e,true)},iSeeTheTitleOnTheUI:function(e){return t.create(this).hasType("sap.m.Title").hasProperties({text:e}).description("Seeing the Title "+e).execute()},iSeeTheLinkOnTheUI:function(e){return t.create(this).hasType("sap.m.Link").hasProperties({text:e}).checkNumberOfMatches(1).description("Seeing the Link "+e).execute()},iCheckTheHeaderFacetTitle:function(e,n){return t.create(this).hasType("sap.fe.templates.ObjectPage.controls.StashableHBox").hasId(i(e)).hasProperties({title:n}).description("The Header Facet  "+e+" has title "+n).execute()},iSeeTheSectionTextById:function(e,n){var i=r(e);return t.create(this).hasId(i).hasProperties({text:n}).description("Seeing the section "+e+" with text "+n).execute()},iSeeTheSectionAtPosition:function(e,n){var i=r(e);return t.create(this).hasType("sap.m.Button").hasId(i).has(function(e){var t=e.getParent().getContent(),r=t.findIndex(function(e){return i.test(e.getId())});return r===n}).description("Seeing the section "+e+" at position "+n).execute()},iSeeTheAddedIFrameInHeader:function(e){return t.create(this).hasType("sap.ui.dt.AggregationOverlay").hasProperties({aggregationName:"headerContent"}).doOnChildren(t.create(this).hasType("sap.ui.fl.util.IFrame")).description("Seeing the application with URL: "+e+" in iFrame in header content container").execute()},iSeeTheIFrameInSectionWithTitle:function(e){return t.create(this).hasType("sap.uxap.ObjectPageSection").hasProperties({title:e}).doOnChildren(t.create(this).hasType("sap.ui.fl.util.IFrame")).description("Seeing iFrame in section with title '"+e+"'").execute()}}}});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/FlexibleColumnLayout", ["sap/base/util/merge","./TemplatePage","sap/ui/test/OpaBuilder","sap/m/library"],function(e,t,n,o){"use strict";return{create:function(e){return{actions:{iClickFirstColumnExpandButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-midForward").description("Clicking the First Column Expand Button").doPress().execute()},iClickLastColumnExpandButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-midBack").description("Clicking the Last Column Expand Button").doPress().execute()},iClickLastColumnCollapseButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-endForward").doPress().description("Seeing the Last Column Expand Button").execute()},iClickFirstColumnCollapseButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-beginBack").doPress().description("Seeing the Last Column Expand Button").execute()}},assertions:{iSeeFirstColumnExpandButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-midForward").description("Seeing the First Column Expand Button").execute()},iDoNotSeeFirstColumnExpandButton:function(){return n.create(this).hasType("sap.m.Button").check(function(t){var n=t.some(function(t){return t.getId()==="application-"+e+"-component---appRootView--appContent-midForward"});return n===false},true).description("Do not see the First Column Expand Button").execute()},iSeeFirstColumnCollapseButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-beginBack").description("Seeing the Last Column Expand Button").execute()},iClickLastColumnCollapseButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-endForward").description("Seeing the Last Column Expand Button").execute()},iSeeLastColumnExpandButton:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent-midBack").description("Seeing the Last Column Expand Button").execute()},iDoNotSeeLastColumnExpandButton:function(){return n.create(this).hasType("sap.m.Button").check(function(t){var n=t.some(function(t){return t.getId()==="application-"+e+"-component---appRootView--appContent-midBack"});return n===false},true).description("Do not see the Last Column Expand Button").execute()},iSeeNumberOfColumns:function(t){var o={OneColumn:1,TwoColumnsMidExpanded:2,TwoColumnsBeginExpanded:2,MidColumnFullScreen:1,ThreeColumnsMidExpanded:3,ThreeColumnsEndExpanded:3,ThreeColumnsMidExpandedEndHidden:2,ThreeColumnsBeginExpandedEndHidden:2,EndColumnFullScreen:1};return n.create(this).hasId("application-"+e+"-component---appRootView--appContent").check(function(e){return o[e.getLayout()]===t},true).description("FCL displays "+t+" columns").execute()},iSeeFullscreen:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent").check(function(e){return e.getLayout()==="MidColumnFullScreen"||e.getLayout()==="EndColumnFullScreen"},true).description("FCL is in fullscreen").execute()},iSeeFCLLayout:function(t){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent").hasProperties({layout:t}).description("Checking FCL layout: "+t).execute()},iGetDefaultLayoutOnFirstLevel:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent").hasProperties({layout:"TwoColumnsMidExpanded"}).description("Seeing default layout for FCL on first level: TwoColumnsMidExpanded ").execute()},iGetDefaultLayoutOnSecondLevel:function(){return n.create(this).hasId("application-"+e+"-component---appRootView--appContent").hasProperties({layout:"ThreeColumnsMidExpanded"}).description("Seeing default layout for FCL on second level: ThreeColumnsMidExpanded ").execute()}}}}}});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/JestTemplatingHelper", ["@sap/cds-compiler","fs","@prettier/plugin-xml","path","prettier","sap/base/Log","sap/base/util/merge","sap/fe/core/buildingBlocks/BuildingBlockRuntime","sap/fe/core/converters/ConverterContext","sap/fe/core/services/SideEffectsServiceFactory","sap/fe/core/TemplateModel","sap/ui/base/BindingParser","sap/ui/core/Component","sap/ui/core/InvisibleText","sap/ui/core/util/serializer/Serializer","sap/ui/core/util/XMLPreprocessor","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/preprocessors/XmlPreprocessor","sap/ui/fl/initial/_internal/Storage","sap/ui/fl/Utils","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/lib/_MetadataRequestor","sap/ui/model/odata/v4/ODataMetaModel","xpath"],function(e,t,r,n,o,a,i,c,s,u,l,f,m,p,d,v,g,y,h,b,x,P,w,j){"use strict";var S={};var C=c.registerBuildingBlock;var O=o.format;function M(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=k(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function(){};return{s:o,n:function(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,i=false,c;return{s:function(){r=r.call(e)},n:function(){var e=r.next();a=e.done;return e},e:function(e){i=true;c=e},f:function(){try{if(!a&&r.return!=null)r.return()}finally{if(i)throw c}}}}function A(e){return I(e)||B(e)||k(e)||T()}function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I(e){if(Array.isArray(e))return D(e)}function F(e,t){return R(e)||L(e,t)||k(e,t)||E()}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){if(!e)return;if(typeof e==="string")return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}function D(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function L(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0){}}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function R(e){if(Array.isArray(e))return e}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach(function(t){z(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function z(e,t,r){t=V(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function V(e){var t=H(e,"string");return typeof t==="symbol"?t:String(t)}function H(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q=function(e,t){try{var r='<root><core:Fragment fragmentName="'.concat(e,'" type="XML" xmlns:core="sap.ui.core" /></root>');var n=new window.DOMParser;var o=n.parseFromString(r,"text/xml");var a={models:{},bindingContexts:{}};for(var i in t){var c=new x;c.setData(t[i]);a.models[i]=c;a.bindingContexts[i]=a.models[i].createBindingContext("/")}return Promise.resolve(v.process(o.firstElementChild,{name:e},a)).then(function(e){var t=e.getElementsByTagName("core:Fragment");if((t===null||t===void 0?void 0:t.length)>0){var r=M(t),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;o.innerHTML=""}}catch(e){r.e(e)}finally{r.f()}}var a=e.children.length>1?e.outerHTML:e.innerHTML;return _(a,{filter:function(e){return e.type!=="Comment"}})})}catch(e){return Promise.reject(e)}};S.processFragment=q;var _=require("xml-formatter");a.setLevel(1,"sap.ui.core.util.XMLPreprocessor");jest.setTimeout(4e4);var J={macros:"sap.fe.macros",macro:"sap.fe.macros",macroField:"sap.fe.macros.field",macrodata:"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1",log:"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1",unittest:"http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1",control:"sap.fe.core.controls",core:"sap.ui.core",m:"sap.m",f:"sap.ui.layout.form",internalMacro:"sap.fe.macros.internal",mdc:"sap.ui.mdc",mdcat:"sap.ui.mdc.actiontoolbar",mdcField:"sap.ui.mdc.field",mdcTable:"sap.ui.mdc.table",u:"sap.ui.unified",macroMicroChart:"sap.fe.macros.microchart",microChart:"sap.suite.ui.microchart",macroTable:"sap.fe.macros.table"};var U=j.useNamespaces(J);var W=function(e){C(e)};S.registerMacro=W;var K=function(e){v.plugIn(null,e.namespace,e.name);if(e.publicNamespace){v.plugIn(null,e.publicNamespace,e.name)}};S.unregisterMacro=K;var Q=function(e,t){return U(e,t)};expect.extend({toHaveControl:function(e,t){var r=Q("/root".concat(t),e);return{message:function(){var r=Y(e);return"did not find controls matching ".concat(t," in generated xml:\n ").concat(r)},pass:r&&r.length>=1}},toNotHaveControl:function(e,t){var r=Q("/root".concat(t),e);return{message:function(){var r=Y(e);return"There is a control matching ".concat(t," in generated xml:\n ").concat(r)},pass:r&&r.length===0}}});S.runXPathQuery=Q;var $=function(e){if(Array.isArray(e)){e=e.join("")}var t=Z(e);t=t.replace(/uid--id-[0-9]{13}-[0-9]{1,2}/g,"uid--id");return t};S.formatBuildingBlockXML=$;var G=function(e,t,r){var n="string(/root".concat(e,"/@").concat(t,")");return Q(n,r)};S.getControlAttribute=G;var Y=function(e){var t=new window.XMLSerializer;var r=t.serializeToString(e);return Z(r)};S.serializeXML=Y;var Z=function(e){return O(e,{parser:"xml",xmlWhitespaceSensitivity:"ignore",plugins:[r]})};S.formatXML=Z;var ee=function(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:n.basename(e).replace(".cds",".xml");var a=t.readFileSync(e,"utf-8");var i=te(a,"sap.fe.test.JestService",r);var c=n.resolve(e,"..","gen");var s=n.resolve(c,o);t.mkdirSync(c,{recursive:true});t.writeFileSync(s,i);return s};S.compileCDS=ee;function te(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"sap.fe.test.JestService";var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var a={"source.cds":r};if(r.includes("'@sap/cds/common'")){a["common.cds"]=t.readFileSync(require.resolve("@sap/cds/common.cds"),"utf-8")}var i=e.compileSources(a,{});var c=N(N({odataForeignKeys:true,odataFormat:"structured",odataContainment:false},o),{},{service:n});var s=e.to.edmx(i,c);if(!s){throw new Error("Compilation failed. Hint: Make sure that the CDS model defines service ".concat(n,"."))}return s}S.cds2edmx=te;var re=function(e){try{var t={scopeObject:{},scopeType:"",settings:{}};return Promise.resolve((new u).createInstance(t).then(function(t){var r=t.getInterface();r.getContext=function(){return{scopeObject:{getModel:function(){return{getMetaModel:function(){return e}}}}}};return r}))}catch(e){return Promise.reject(e)}};S.getFakeSideEffectsService=re;var ne=function(){var e=[];return{addIssue:function(t,r,n){e.push({issueCategory:t,issueSeverity:r,details:n})},getIssues:function(){return e},checkIfIssueExists:function(t,r,n){return e.find(function(e){return e.issueCategory===t&&e.issueSeverity===r&&e.details===n})}}};S.getFakeDiagnostics=ne;var oe=function(e,t){var r=e.entitySets.find(function(e){return e.name===t.entitySet});var n=ce(r,e,r);return new s(e,t,ne(),i,n)};S.getConverterContextForTest=oe;var ae={};var ie=function(e){try{function n(){return ae[e]}var t=P.create({},"4.0",{});var r=function(){if(!ae[e]){var r=new w(t,e,undefined,null);return Promise.resolve(r.fetchEntityContainer()).then(function(){ae[e]=r})}}();return Promise.resolve(r&&r.then?r.then(n):n(r))}catch(o){return Promise.reject(o)}};S.getMetaModel=ie;var ce=function(e,t,r){var n={startingEntitySet:e,navigationProperties:[],targetObject:r,targetEntitySet:e,targetEntityType:e.entityType,convertedTypes:t};n.contextLocation=n;return n};S.getDataModelObjectPathForProperty=ce;var se=function(e){var t=f.complexParser(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++){n[o-1]=arguments[o]}return t.formatter.apply(undefined,n)};S.evaluateBinding=se;function ue(e,t,r){var n=f.complexParser(e);var o=new p;o.bindProperty("text",n);var a=new x(t);o.setModel(a);o.setBindingContext(a.createBindingContext("/"));if(r){for(var i=0,c=Object.entries(r);i<c.length;i++){var s=F(c[i],2),u=s[0],l=s[1];var m=new x(l);o.setModel(m,u);o.setBindingContext(m.createBindingContext("/"),u)}}return o.getText()}S.evaluateBindingWithModel=ue;var le="testViewId";var fe=function(e,t,r,n){try{var o=n(le,e);var a="someComponent";var i={"sap.app":{id:a,type:"application",crossNavigation:{outbounds:[]}}};var c={getDiagnostics:jest.fn().mockReturnValue(ne()),getModel:jest.fn().mockReturnValue({getMetaModel:jest.fn().mockReturnValue(t)}),getComponentData:jest.fn().mockReturnValue({}),getManifestObject:jest.fn().mockReturnValue({getEntry:function(e){return i[e]}})};jest.spyOn(h,"loadFlexData").mockReturnValue(Promise.resolve(o));jest.spyOn(m,"get").mockReturnValue(c);jest.spyOn(b,"getAppComponentForControl").mockReturnValue(c);return Promise.resolve(g.initialize({componentId:a})).then(function(){return Promise.resolve(y.process(r,{name:"Test Fragment",componentId:a,id:le})).then(function(e){r=e;return r})})}catch(e){return Promise.reject(e)}};S.applyFlexChanges=fe;var me=function(e){return A(e.querySelectorAll("*")).flatMap(function(e){return A(e.attributes).map(function(e){return e.name})}).filter(function(e){return e.includes("sap.ui.fl.appliedChanges")})};S.getChangesFromXML=me;var pe=function(e,t,r,n,o,a){try{var i="<root>".concat(e,"</root>");var c=new window.DOMParser;var s=c.parseFromString(i,"text/xml");return Promise.resolve(ie(t)).then(function(e){if(!n.hasOwnProperty("converterContext")){n=Object.assign(n,{converterContext:new l({},e)})}Object.keys(n).forEach(function(t){if(n[t]&&n[t].isTemplateModel){n[t]=new l(n[t].data,e)}});var t={models:Object.assign({metaModel:e},n),bindingContexts:{}};Object.keys(r).forEach(function(o){expect(typeof e.getObject(r[o])).toBeDefined();var a=n[o]||e;t.bindingContexts[o]=a.createBindingContext(r[o]);t.models[o]=a});if(t.models["this"]){t.bindingContexts["this"]=t.models["this"].createBindingContext("/")}return Promise.resolve(v.process(s.firstElementChild,{name:"Test Fragment"},t)).then(function(t){var r=function(){if(o&&a){A(t.querySelectorAll("[id]")).forEach(function(e){e.id="".concat(le,"--").concat(e.id)});return Promise.resolve(fe(o,e,t,a)).then(function(e){t=e;var r=me(t);expect(r.length).toBe(o.length)})}}();return r&&r.then?r.then(function(){return t}):t})})}catch(e){return Promise.reject(e)}};S.getTemplatingResult=pe;var de=function(e,t,r,n,o,a){try{return Promise.resolve(pe(e,t,r,n,o,a)).then(Y)}catch(e){return Promise.reject(e)}};S.getTemplatedXML=de;function ve(e){var t=0;function r(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r="";for(var n=0;n<t+e;n++){r+="\t"}return r}var n={start:function(e,t){var n="";if(t){if(e.getParent()){var o,a;var i=(o=e.getParent().getAggregation(t))===null||o===void 0?void 0:(a=o.indexOf)===null||a===void 0?void 0:a.call(o,e);if(i>0){n+=",\n".concat(r())}}}n+="".concat(e.getMetadata().getName(),"(");return n},end:function(){return"})"},middle:function(e){var t="{id: ".concat(e.getId());for(var n in e.mProperties){if(e.mProperties.hasOwnProperty(n)){t+=",\n".concat(r()," ").concat(n,": ").concat(e.mProperties[n])}else if(e.mBindingInfos.hasOwnProperty(n)){var o=e.mBindingInfos[n];t+=",\n".concat(r()," ").concat(n,": formatter(").concat(o.parts.map(function(e){return"\n".concat(r(1)).concat(e.model?e.model:"",">").concat(e.path)}),")")}}for(var a in e.mAssociations){if(e.mAssociations.hasOwnProperty(a)){t+=",\n".concat(r()," ").concat(a,": ").concat(e.mAssociations[a][0])}}t+="";return t},startAggregation:function(e,n){var o=",\n".concat(r()).concat(n);t++;if(e.mBindingInfos[n]){o+="={ path:'".concat(e.mBindingInfos[n].path,"', template:\n").concat(r())}else{o+="=[\n".concat(r())}return o},endAggregation:function(e,n){t--;if(e.mBindingInfos[n]){return"\n".concat(r(),"}")}else{return"\n".concat(r(),"]")}}};if(Array.isArray(e)){return e.map(function(e){return new d(e,n).serialize()})}else{return new d(e,n).serialize()}}S.serializeControl=ve;function ge(){var e;var t=new Promise(function(t){e=t});return{promise:t,resolve:e}}S.createAwaiter=ge;return S},false);
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/JourneyRunner", ["sap/ui/base/Object","sap/ui/test/Opa5","./Utils","./BaseArrangements","./BaseActions","./BaseAssertions","./Shell","sap/ui/test/opaQunit","sap/base/Log","sap/base/util/ObjectPath"],function(e,n,t,s,i,r,a,o,u,c){"use strict";var f=Promise.resolve();var g;var p=e.extend("sap.fe.test.JourneyRunner",{constructor:function(n){e.apply(this);this._mInstanceSettings=t.mergeObjects({pages:{onTheShell:new a}},n)},run:function(e,n){var s=1;if(!t.isOfType(e,Object)){s=0;e=t.mergeObjects(this._mInstanceSettings)}else{e=t.mergeObjects(this._mInstanceSettings,e)}var i=Array.prototype.slice.call(arguments,s);if(i&&i.length&&Array.isArray(i[0])){i=i[0]}var r=e.async,a;if(r){a=Promise.resolve()}else{a=f}a=a.then(this._preRunActions.bind(this,e)).then(this._runActions.bind(this,i)).then(this._postRunActions.bind(this,e)).catch(function(e){u.error("JourneyRunner.run failed",e)});if(!r){f=a}return a},getBaseActions:function(e){return new i},getBaseAssertions:function(e){return new r},getBaseArrangements:function(e){return new s(e)},_preRunActions:function(e){n.extendConfig(this._getOpaConfig(e));n.createPageObjects(e.pages)},_runActions:function(e){var n=this,s=Promise.resolve(),i,r=new Promise(function(e){i=e});u.info("JourneyRunner started");QUnit.done(function(){u.info("JourneyRunner ended");i()});e.forEach(function(e){if(t.isOfType(e,String)){s=s.then(function(){return new Promise(function(n,t){sap.ui.require([e],function(e){n(e)})})})}else{s=s.then(function(){return e})}s=s.then(n._runJourney)});return s.then(function(){return r})},_runJourney:function(e){if(t.isOfType(e,Function)){e.call()}},_postRunActions:function(e){this._removePages(e.pages);n.resetConfig()},_removePages:function(e){var n=this;if(e){Object.keys(e).forEach(function(t){var s=e[t],i=n._createClassName(s.namespace||"sap.ui.test.opa.pageObject",t);c.set(i,undefined)})}},_createClassName:function(e,n){return e+"."+n},_getOpaConfig:function(e){var n=Object.assign({viewNamespace:"sap.fe.templates",autoWait:true,timeout:30,pollingInterval:50,logLevel:"ERROR",disableHistoryOverride:true,asyncPolling:true},e.opaConfig);if(!n.actions){n.actions=this.getBaseActions(e)}if(!n.assertions){n.assertions=this.getBaseAssertions(e)}if(!n.arrangements){n.arrangements=this.getBaseArrangements(e)}return n}});p.getDefaultRunner=function(){if(!g){g=new p}return g};p.setDefaultRunner=function(e){if(g){g.destroy()}g=e};p.run=function(){var e=p.getDefaultRunner();e.run.apply(e,arguments)};return p});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/ListReport", ["sap/fe/test/Utils","./TemplatePage","sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MacroFieldBuilder","sap/fe/test/builder/VMBuilder","sap/fe/test/builder/OverflowToolbarBuilder","sap/fe/test/builder/KPIBuilder","sap/fe/test/api/FooterActionsBase","sap/fe/test/api/FooterAssertionsBase","sap/fe/test/api/HeaderActionsLR","sap/fe/test/api/HeaderAssertionsLR","sap/fe/test/api/KPICardAssertions","sap/fe/test/api/KPICardActions"],function(e,t,i,r,a,n,s,o,c,u,p,h,l,d,f){"use strict";function g(e){return"fe::table::"+e+"::LineItem"}function m(e){return"fe::Chart::"+e+"::Chart"}function T(e,t){return a.create(e).hasId(t)}function x(i,n){var o=i.appId,u=i.componentId,p=i.contextPath,x=p?p.substring(1).replace("/","::"):i.entitySet,S=o+"::"+u,P="fe::table::"+x+"::LineItem",I="fe::Chart::"+x+"::Chart",y="fe::FilterBar::"+x,b=y+"::FilterFieldValueHelp::",v=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core"),M="fe::TabMultipleMode",C="fe::ListReport",k=Array.isArray(arguments[1])?arguments[1]:Array.prototype.slice.call(arguments,1);return t.apply(t,[S,{actions:{onTable:function(t){var i;if(t){i=!e.isOfType(t,String)?g(t.property):t}else{i=P}return this._onTable({id:i})},onChart:function(t){var i;if(t){i=!e.isOfType(t,String)?m(t.property):t}else{i=I}return this._onChart({id:i})},onKPICard:function(){return new f(c.create(this))},onFilterBar:function(){return this._onFilterBar({id:y})},onHeader:function(){return new h(T(this,C),{id:C})},iCollapseExpandPageHeader:function(e){return this._iCollapseExpandPageHeader(e)},iExecuteActionOnDialog:function(e){return r.create(this).hasType("sap.m.Button").hasProperties({text:e}).isDialogElement().doPress().description("Pressing dialog button '"+e+"'").execute()},iCheckLinksCount:function(e){return r.create(this).hasType("sap.m.ColumnListItem").check(function(t){if(t.length===e){return true}else{return false}},true).description("Seeing QuickView Card with "+e+" target applications in ObjectPage").execute()},iClickQuickViewMoreLinksButton:function(){return r.create(this).hasType("sap.m.Button").has(r.Matchers.resourceBundle("text","sap.ui.mdc","info.POPOVER_DEFINE_LINKS")).doPress().description("Pressing 'More Links' button").execute()},iClickLinkWithText:function(e){return r.create(this).hasType("sap.m.Link").hasProperties({text:e}).doPress().description("Navigating via link '"+e+"'").execute()},iOpenIconTabWithTitle:function(e){return r.create(this).hasId(M).has(r.Matchers.aggregation("items",r.Matchers.properties({text:e}))).doPress().description("Selecting Icon Tab "+e).execute()},iSaveVariant:function(t,i,r){var a=e.parseArguments([String,Boolean,Boolean],arguments),n=s.create(this).hasId("fe::PageVariantManagement");if(a[0]){n.doSaveAs(t,i,r).description(e.formatMessage("Saving variant for '{0}' as '{1}' with default='{2}' and applyAutomatically='{3}'","Page Variant",t,!!i,!!r))}else{n.doSave().description(e.formatMessage("Updating current variant for '{0}'","Page Variant"))}return n.execute()},iSelectVariant:function(t){return s.create(this).hasId("fe::PageVariantManagement").doSelectVariant(t).description(e.formatMessage("Selecting variant '{1}' from '{0}'","Page Variant",t)).execute()},iOpenKPICard:function(e){return c.create(this).clickKPITag(e).description("Opening card for KPI '"+e+"'").execute()}},assertions:{onTable:function(t){if(!t){t={id:P}}else{var i=!e.isOfType(t,String)?t.property:t;t={id:g(i)}}return this._onTable(t)},onChart:function(t){var i;if(t){i=!e.isOfType(t,String)?m(t.property):t}else{i=I}return this._onChart({id:i})},onFilterBar:function(){return this._onFilterBar({id:y})},onHeader:function(){return new l(T(this,C),{id:C})},onKPICard:function(){return new d(c.create(this))},iSeeTheMessageToast:function(e){return this._iSeeTheMessageToast(e)},iSeeFilterFieldsInFilterBar:function(e,t){if(t){return r.create(this).hasId(y).check(function(t){return t.getAggregation("layout").isA("sap.fe.core.controls.filterbar.VisualFilterContainer")&&t.getAggregation("layout").getFilterFields().length===e}).description("Seeing filter bar with "+e+" filter fields").execute()}return r.create(this).hasId(y).hasAggregationLength("filterItems",e).description("Seeing filter bar with "+e+" filter fields").execute()},iSeeTableCellWithActions:function(e,t,i){return r.create(this).hasType("sap.m.ColumnListItem").has(r.Matchers.bindingPath(e)).has(function(e){var r=e.getCells()[t];if(r.isA("sap.fe.macros.MacroAPI")){r=r.getContent()}return r.getMetadata().getElementName()==="sap.m.Button"&&r.getText()===i}).description("Inline Action is present in the table cell with the Text "+i).execute()},iSeeLinkWithText:function(e){return r.create(this).hasType("sap.m.Link").hasProperties({text:e}).description("Seeing link with text '"+e+"'").execute()},iSeeQuickViewMoreLinksButton:function(){return r.create(this).isDialogElement(true).hasType("sap.m.Button").has(r.Matchers.resourceBundle("text","sap.ui.mdc","info.POPOVER_DEFINE_LINKS")).description("The 'More Links' button found").execute()},iSeeFlpLink:function(e){return r.create(this).hasType("sap.m.Link").isDialogElement(true).hasProperties({text:e}).description("FLP link with text '"+e+"' is present").execute()},iSeeHeaderPinnableToggle:function(e){var t=e?"visible":"hidden";return r.create(this).hasType("sap.f.DynamicPageHeader").hasProperties({pinnable:e}).description("The Page Header Pinnable Toggle is "+t).execute()},iSeeContactPopoverWithAvatarImage:function(e){return r.create(this).hasType("sap.ui.mdc.link.Panel").check(function(t){var i=t.some(function(t){return t.src===e});return i===false},true).description("Seeing Contact Card with Avatar Image in ListReport").execute()},iSeeAvatarImage:function(e){return r.create(this).hasType("sap.m.Avatar").hasProperties({src:e}).description("Seeing avatar image with url '"+e+"'").execute()},iSeeLabelWithText:function(e){return r.create(this).hasType("sap.m.Label").hasProperties({text:e}).description("Seeing label with text '"+e+"'").execute()},iSeeTitleInQuickViewForm:function(e){return r.create(this).hasType("sap.ui.core.Title").isDialogElement(true).hasProperties({text:e}).description("Seeing title with text '"+e+"'").execute()},iSeeSummaryOfAppliedFilters:function(){var e;r.create(this).hasId(y).mustBeVisible(false).do(function(t){e=t.getAssignedFiltersText().filtersText}).execute();return r.create(this).hasType("sap.f.DynamicPageTitle").has(function(t){return t.getSnappedContent()[0].getText()===e}).description("The correct text on the collapsed filterbar is displayed").execute()},iSeeDeleteConfirmation:function(){return this._iSeeTheMessageToast(v.getText("C_TRANSACTION_HELPER_DELETE_TOAST_SINGULAR"))},iSeePageTitle:function(e){return r.create(this).hasType("sap.f.DynamicPageTitle").hasAggregationProperties("heading",{text:e}).description("Seeing title '"+e+"'").execute()},iSeeVariantTitle:function(e){return r.create(this).hasType("sap.m.Title").hasId("fe::PageVariantManagement-vm-text").hasProperties({text:e}).description("Seeing variant title '"+e+"'").execute()},iSeeControlVMFilterBarTitle:function(e){return r.create(this).hasType("sap.m.Title").hasId(y+"::VariantManagement-vm-text").hasProperties({text:e}).description("Seeing variant title '"+e+"'").execute()},iSeeControlVMTableTitle:function(e,t){var i=t?g(t):P;return r.create(this).hasType("sap.m.Title").hasId(i+"::VM-vm-text").hasProperties({text:e}).description("Seeing variant title '"+e+"'").execute()},iSeeVariantModified:function(e,t){var i;if(t){i=y+"::VariantManagement-vm-modified"}else{i="fe::PageVariantManagement-vm-modified"}e=e===undefined?true:e;if(e){return r.create(this).hasType("sap.m.Text").hasId(i).hasProperties({text:"*"}).description("Seeing variant state as 'modified'").execute()}else{return r.create(this).hasType("sap.m.Label").check(function(e){return!e.some(function(e){return e.getId()===i})},true).description("Seeing variant state as 'not modified'").execute()}},iSeePageVM:function(t){return a.create(this).hasId("fe::PageVariantManagement").hasState(t).description(e.formatMessage("Seeing page VM with state '{0}'",t)).execute()},iSeeControlVMFilterBar:function(){return r.create(this).hasId(y+"::VariantManagement").description("Seeing control VM - FilterBar").execute()},iSeeDraftIndicator:function(){return r.create(this).hasType("sap.m.ObjectMarker").hasProperties({type:"Draft"}).description("Draft indicator is visible").execute()},iSeeDraftIndicatorLocked:function(e){var t=e?{type:"LockedBy",additionalInfo:e}:{type:"Locked"};return r.create(this).hasType("sap.m.ObjectMarker").hasProperties(t).description("Draft indicator is visible and locked"+(e?" by '"+e+"'":"")).execute()},iSeeIconTabWithProperties:function(t){return r.create(this).hasId(M).has(r.Matchers.aggregationMatcher("items",r.Matchers.properties(t))).description(e.formatMessage("Seeing Icon Tab with properties '{0}'",t)).execute()},iSeeNumOfOperators:function(e,t){return r.create(this).hasId(b+e+"-DCP").doOnChildren(r.create(this).hasAggregationLength("items",t)).description("Seeing a value list of condition operators with "+t+" items.").execute()},iSeeKPI:function(e,t){var i="Seeing KPI '"+e+"'";if(t){i+=" with properties "+JSON.stringify(t)}return c.create(this).checkKPITag(e,t).description(i).execute()},iSeeKPICard:function(){return c.create(this).checkKPICard().description("Seeing KPI Card").execute()}}}].concat(k))}return x});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/LocationUtil", ["sap/ui/test/OpaBuilder","sap/ui/test/Opa5","sap/fe/test/Utils"],function(t,e,n){"use strict";var r=function(t,n){if(n||!(typeof t.getController().getRouter==="function")){var r=e.getWindow();return r.window.location.hash}return t.getController().getRouter().getHashChanger().getHash()};var i=function(t){return new RegExp(n.formatMessage("^application-{0}-component---app(RootView)?$",t))};return{create:function(e){return{actions:{},assertions:{iCheckCurrentHashStartsWith:function(n,a){return t.create(this).hasId(i(e)).check(function(t){var e=r(t[0],a);return e.indexOf(n)===0}).description("Checking hash starts with "+n).execute()},iCheckCurrentHashDoesNotContain:function(n,a){return t.create(this).hasId(i(e)).check(function(t){var e=r(t[0],a);return e.indexOf(n)===-1}).description("Checking hash doesn't contain "+n).execute()}}}}}});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/ObjectPage", ["sap/base/util/merge","./TemplatePage","sap/ui/test/OpaBuilder","sap/ui/test/Opa5","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MacroFieldBuilder","sap/fe/test/builder/OverflowToolbarBuilder","sap/fe/test/api/FooterActionsOP","sap/fe/test/api/FooterAssertionsOP","sap/fe/test/api/HeaderActions","sap/fe/test/api/HeaderAssertions","sap/fe/test/api/FormActions","sap/fe/test/api/FormAssertions"],function(e,t,i,n,r,s,a,o,c,u,p,l,h,d){"use strict";function f(e,t){return t?"fe::table::"+e.split("/").join("::")+"::LineItem::"+t:"fe::table::"+e.split("/").join("::")+"::LineItem"}function g(e){return"fe::Chart::"+e+"::Chart"}function m(e,t){return o.create(e).hasId(t.id)}function T(e,t){return s.create(e).hasId(t.id)}function S(e,t){var n=s.create(e);if(r.isOfType(t,String)){n.hasType("sap.uxap.ObjectPageSubSection");n.hasProperties({title:t})}else if(t.fieldGroupId){n.hasId(t.fieldGroupId);if(t.fullSubSectionId){n.has(i.Matchers.ancestor(t.fullSubSectionId,false))}}else{n.hasId(t.id)}return n}function x(e,t){var n,a;if(!r.isOfType(e,String)){if(typeof e.section==="string"&&!e.subSection){a=e.section==="EditableHeaderSection"?"fe::"+e.section+"-anchor":t+"::"+e.section+"-anchor";n=i.Matchers.children(s.Matchers.id(new RegExp(r.formatMessage("{0}$",a))))}else{throw new Error("not supported section and subsection parameters for creating a control id: "+e.section+"/"+e.subSection)}}else{n=i.Matchers.children(s.Matchers.states({controlType:"sap.m.Button",text:e}))}return n}function b(e,t){if(!e){throw new Error("vMenuAction parameter missing")}var i=t+"::"+e+"-anchor-unifiedmenu";return s.create().hasType("sap.ui.unified.MenuItem").hasId(new RegExp(r.formatMessage("{0}$",i))).doPress().description(r.formatMessage("Executing action '{0}' from currently open action menu",e))}function y(n,o){var y=n.appId,C=n.componentId,P=y+"::"+C,I=P+"--fe::ObjectPage",M="fe::HeaderFacet",k="fe::ObjectPage-OPHeaderContent",E=P+"--fe::HeaderContentContainer",O="fe::FooterBar",L="fe::FacetSection",v="fe::FacetSubSection",F="fe::Form",w="fe::FormContainer",B="fe::HeaderFacet::FormContainer",D=P+"--fe::Breadcrumbs",_="fe::ObjectPage-anchBar",A="fe::Paginator",G="EditableHeaderForm::EditableHeaderTitle",N={DISPLAY:"Display",EDITABLE:"Editable"},j=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core"),V=Array.prototype.slice.call(arguments,1);return t.apply(t,[P,{actions:{onTable:function(e){if(!r.isOfType(e,String)&&!e.id){e={id:f(e.property,e.qualifier)}}return this._onTable(e)},onChart:function(e){var t;if(e){t=!r.isOfType(e,String)?g(e.property):e}return this._onChart({id:t})},onFilterBar:function(e){var t=typeof e==="string"?{id:e}:e;return this._onFilterBar(t)},onFooter:function(){return new c(m(this,{id:O}),{id:O})},onHeader:function(){return new p(T(this,{id:I}),{id:I,headerId:M,headerContentId:k,headerContentContainerId:E,viewId:P,paginatorId:A,breadCrumbId:D})},onForm:function(e){if(!r.isOfType(e,String)){if(e.section){e.id=v+"::"+e.section;e.fullSubSectionId=P+"--"+e.id}if(e.fieldGroup){if(e.isHeaderFacet){e.fieldGroupId=B+"::"+e.fieldGroup}else{e.fieldGroupId=w+"::"+e.fieldGroup}}}return new h(S(this,e),e)},iCollapseExpandPageHeader:function(e){return this._iCollapseExpandPageHeader(e)},iClickQuickViewMoreLinksButton:function(){return i.create(this).hasType("sap.m.Button").has(i.Matchers.resourceBundle("text","sap.ui.mdc","info.POPOVER_DEFINE_LINKS")).doPress().description("Pressing 'More Links' button").execute()},iClickQuickViewCancelButton:function(){return i.create(this).hasType("sap.m.Button").has(i.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.CANCEL")).doPress().description("Pressing Quickview 'Cancel' button").execute()},iClickQuickViewTitleLink:function(e){return i.create(this).hasType("sap.m.Link").isDialogElement(true).hasProperties({text:e}).doPress().description("Navigating via quickview title link '"+e+"'").execute()},iClickLinkWithText:function(e){return i.create(this).hasType("sap.m.Link").hasProperties({text:e}).doPress().description("Navigating via link '"+e+"'").execute()},iClickObjectStatus:function(e){return i.create(this).hasType("sap.m.ObjectStatus").hasProperties({text:e}).doPress().description("Press Object Status '"+e+"'").execute()},iCheckLinksCount:function(e){return i.create(this).hasType("sap.m.ColumnListItem").check(function(t){if(t.length===e){return true}else{return false}},true).description("Seeing QuickView Card with "+e+" target applications in ObjectPage").execute()},iEnableLink:function(e){var t=s.Matchers.deepAggregationMatcher("cells/items/items",[i.Matchers.properties({text:e})]);return i.create(this).hasType("sap.m.ColumnListItem").has(t).doPress("selectMulti").description("The CheckBox for link "+e+" is selected").execute()},iPressKeyboardShortcutOnSection:function(e,t){return this._iPressKeyboardShortcut(undefined,e,t,"sap.uxap.ObjectPageSection")},iGoToSection:function(e){var t=i.create(this).hasId(_);if(r.isOfType(e,Object)&&typeof e.section==="string"&&typeof e.subSection==="string"){var n={section:e.section};return t.has(x(n,L)).doOnChildren(i.create(this).hasType("sap.m.Button").has(i.Matchers.childrenMatcher(i.create(this).hasType("sap.ui.core.Icon"),true)).doPress()).success(function(){return b(e.subSection,v).execute()}).description("Selecting section "+e.section).execute()}else{return t.has(x(e,L)).doPress().description("Selecting section "+(e.section||e)).execute()}},iOpenSectionWithTitle:function(e){return i.create(this).timeout(1).check(function(){return false}).error("Test function iOpenSectionWithTitle() is deprecated - please use function iGoToSection() with the same parameters").execute()},iEnterValueForFieldInEditableHeader:function(e){return a.create(this).hasId(P+"--fe::"+G).doEnterText(e).description("Entering '"+e+" in field ").execute()},iClickOnMessageButton:function(){return i.create(this).hasType("sap.fe.common.MessageButton").doPress().description("Clicked on Message Button").execute()},iCheckMessageButtonTooltip:function(e){return i.create(this).hasType("sap.fe.common.MessageButton").check(function(t){return t[0].getTooltip()===e},true).description("Checking tooltip of MessageButton").execute()},iClickOnMessage:function(e){return i.create(this).hasType("sap.m.MessageListItem").hasProperties({title:e.MessageText,groupAnnouncement:e.GroupLabel}).isDialogElement(true).description("MessageItem with correct text and group label").doOnChildren(i.create(this).hasType("sap.m.Link").hasProperties({text:e.MessageText}).doPress().description("Click on the message")).execute()},iClickBackOnMessageView:function(){return i.create(this).hasType("sap.m.MessageView").isDialogElement(true).doOnChildren(i.create(this).hasType("sap.m.Button").hasProperties({icon:"sap-icon://nav-back"}).doPress().description("Click on the message view back")).execute()}},assertions:{onTable:function(e){if(!r.isOfType(e,String)&&!e.id){e={id:f(e.property,e.qualifier)}}return this._onTable(e)},onChart:function(e){var t;if(e){t=!r.isOfType(e,String)?g(e.property):e}return this._onChart({id:t})},onFilterBar:function(e){var t=typeof e==="string"?{id:e}:e;return this._onFilterBar(t)},onFooter:function(){return new u(m(this,{id:O}),{id:O})},onHeader:function(){return new l(T(this,{id:I}),{id:I,headerId:M,headerContentId:k,headerContentContainerId:E,viewId:P,paginatorId:A,breadCrumbId:D})},onForm:function(e){if(!r.isOfType(e,String)){if(e.section){e.id=v+"::"+e.section;e.fullSubSectionId=P+"--"+e.id}if(e.fieldGroup){e.fieldGroupId=w+"::"+e.fieldGroup}}return new d(S(this,e),e)},iSeeMessageButton:function(e,t){var n={Error:{type:"Negative"},Warning:{type:"Critical"},Information:{type:"Neutral"}};return i.create(this).hasType("sap.fe.common.MessageButton").hasProperties({text:t,type:n[e]["type"]}).description("Messagebutton is visible with "+n[e]["type"]+" button type").execute()},iSeeLinkWithText:function(e){return i.create(this).hasType("sap.m.Link").hasProperties({text:e}).description("Seeing link with text '"+e+"'").execute()},iSeeTextWithText:function(e){return i.create(this).hasType("sap.m.Text").hasProperties({text:e}).description("Seeing Text with text '"+e+"'").execute()},iSeeTitleWithText:function(e){return i.create(this).hasType("sap.m.Title").hasProperties({text:e}).description("Seeing Title with text '"+e+"'").execute()},iSeeContactDetailsPopover:function(e){return i.create(this).hasType("sap.ui.mdc.link.Panel").description("Contact card with title '"+e+"' is present").execute()},iSeeContactPopoverWithAvatarImage:function(e){return i.create(this).hasType("sap.ui.mdc.link.Panel").check(function(t){var i=t.some(function(t){return t.src===e});return i===false},true).description("Seeing Contact Card with Avatar Image in ObjectPage").execute()},iSeeQuickViewMoreLinksButton:function(){return i.create(this).isDialogElement(true).hasType("sap.m.Button").has(i.Matchers.resourceBundle("text","sap.ui.mdc","info.POPOVER_DEFINE_LINKS")).description("The 'More Links' button found").execute()},iSeeObjectPageInDisplayMode:function(){return this._iSeeObjectPageInMode(N.DISPLAY)},iSeeObjectPageInEditMode:function(){return this._iSeeObjectPageInMode(N.EDITABLE)},_iSeeObjectPageInMode:function(e){return i.create(this).hasId(P).viewId(null).has(function(t){return t.getModel("ui").getProperty("/editMode")===e}).description("Object Page is in mode '"+e+"'").execute()},iSeeSectionWithTitle:function(e){return i.create(this).hasType("sap.uxap.ObjectPageSection").hasProperties({title:e}).description("Seeing section with title '"+e+"'").execute()},iSeeSubSectionWithTitle:function(e){return i.create(this).hasType("sap.uxap.ObjectPageSubSection").hasProperties({title:e}).description("Seeing sub-section with title '"+e+"'").execute()},iSeeSectionButtonWithTitle:function(t,n){return s.create(this).hasId(_).has(i.Matchers.children(s.Matchers.states(e({},{controlType:"sap.m.Button",text:t},n)))).description(r.formatMessage("Seeing section button with title '{0}' and state='{1}'",t,n)).execute()},iSeeFlpLink:function(e){return i.create(this).hasType("sap.m.Link").isDialogElement(true).hasProperties({text:e}).description("FLP link with text '"+e+"' is present").execute()},iSeeLabel:function(e){return i.create(this).hasType("sap.m.Label").hasProperties({text:e}).description("Label '"+e+"' is present").execute()},iSeeSimpleFormWithLabel:function(e){return i.create(this).hasType("sap.m.Label").isDialogElement(true).hasProperties({text:e}).description("SimpleForm has label '"+e+"' is present").execute()},iSeeSimpleFormWithText:function(e){return i.create(this).hasType("sap.ui.layout.form.SimpleForm").isDialogElement(true).doOnChildren(i.create(this).hasType("sap.m.Text").hasProperties({text:e})).description("SimpleForm has text '"+e+"' is present").execute()},iSeeSimpleFormWithLink:function(e){return i.create(this).hasType("sap.ui.layout.form.SimpleForm").isDialogElement(true).doOnChildren(i.create(this).hasType("sap.m.Link").hasProperties({text:e})).description("SimpleForm has link '"+e+"' is present").execute()},iSeeSimpleFormWithTitle:function(e){return i.create(this).hasType("sap.ui.core.Title").isDialogElement(true).hasProperties({text:e}).description("SimpleForm has label '"+e+"' is present").execute()},iSeeGridWithLabel:function(e){return i.create(this).hasType("sap.ui.layout.Grid").isDialogElement(true).doOnChildren(i.create(this).hasType("sap.m.Label").hasProperties({text:e})).description("Grid Layout has label '"+e+"' is present").execute()},iSeeSelectLinksDialog:function(){return i.create(this).hasType("sap.m.Title").isDialogElement(true).has(i.Matchers.resourceBundle("text","sap.ui.mdc","info.SELECTION_DIALOG_ALIGNEDTITLE")).description("Seeing dialog open").execute()},iDoNotSeeFlpLink:function(e){return i.create(this).hasType("sap.m.Link").isDialogElement(true).check(function(t){var i=t.some(function(t){return t.getText()===e});return i===false},true).description("FLP link with text '"+e+"' is not found").execute()},iSeeTextInQuickViewForm:function(e){return i.create(this).hasType("sap.m.Text").isDialogElement(true).hasProperties({text:e}).description("Seeing label with text '"+e+"'").execute()},iSeeCreateConfirmation:function(){return this._iSeeTheMessageToast(j.getText("C_TRANSACTION_HELPER_OBJECT_CREATED"))},iSeeSaveConfirmation:function(){return this._iSeeTheMessageToast(j.getText("C_TRANSACTION_HELPER_OBJECT_SAVED"))},iSeeDeleteConfirmation:function(){return this._iSeeTheMessageToast(j.getText("C_TRANSACTION_HELPER_DELETE_TOAST_SINGULAR"))},iSeeConfirmMessageBoxWithTitle:function(e){return i.create(this).hasType("sap.m.Dialog").isDialogElement(true).hasProperties({title:e}).description("Seeing Message dialog open").execute()},iSeeMoreFormContent:function(e){return i.create(this).hasId(F+"::"+e+"::MoreContent").description("Seeing More Form Content in "+e).execute()},iDoNotSeeMoreFormContent:function(e){return i.create(this).hasType("sap.ui.layout.form.Form").check(function(t){var i=t.some(function(t){return t.getId().includes(e+"::MoreContent")});return i===false}).description("Not Seeing More Form Content in "+e).execute()},iSeeControlVMTableTitle:function(e,t){return i.create(this).hasType("sap.m.Title").hasId(f(t)+"::VM-vm-text").hasProperties({text:e}).description("Seeing variant title '"+e+"'").execute()},iSeeMessageView:function(){return i.create(this).hasType("sap.m.MessageView").isDialogElement(true).description("MessageView is visible").execute()},iCheckMessageItemsOrder:function(e){return i.create(this).hasType("sap.m.MessageView").check(function(t){var i=t[0].getItems();var n=[];if(e instanceof Array){n=e}else{Object.keys(e).map(function(t){n.push(e[t])})}return i[0].getGroupName()===n[0].GroupLabel&&i[1].getGroupName()===n[1].GroupLabel&&i[0].getTitle()===n[0].MessageText&&i[1].getTitle()===n[1].MessageText},true).isDialogElement(true).description("MessageItems are correctly ordered").execute()},iCheckMessageItemProperties:function(e,t){return i.create(this).hasType("sap.m.MessageView").check(function(i){var n=i[0].getItems();var r=n[t].getGroupName()===e.GroupLabel&&n[t].getTitle()===e.MessageText&&n[t].getSubtitle()===e.SubTitle&&n[t].getActiveTitle()===e.ActiveTitle;if(e.Description){return r&&n[t].getGroupName()===e.GroupLabel}return r},true).isDialogElement(true).description("MessageItem is correctly displayed").execute()},iCheckVisibilityOfButtonWithText:function(e,t){return i.create(this).hasType("sap.m.Button").mustBeVisible(t).hasProperties({text:e,visible:t}).description("Button '"+e+"' is "+(t?"visible":"NOT visible")).execute()},iCheckFieldVisibilityInMassEditDialog:function(e,t){return i.create(this).isDialogElement().hasType("sap.m.ComboBox").check(function(i){var n=i.some(function(t){return t.getId()===e});return n===t}).description("Checking visibility of field in mass edit dialog").execute()}}}].concat(V))}return y});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/Shell", ["sap/ui/test/OpaBuilder","sap/ui/test/Opa5","sap/fe/test/Utils"],function(e,t,i){"use strict";function a(a){a=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments,0);return i.mergeObjects.apply(i,[{actions:{iNavigateBack:function(){return e.create(this).hasId("backBtn").doPress().description("Navigating back via shell").execute()},iNavigateHome:function(){return e.create(this).hasId("shell-header").do(function(){var e=t.getWindow();e.document.getElementById("shell-header-logo").click()}).description("Pressing Home button in Shell header").execute()},iOpenNavigationMenu:function(){return e.create(this).pollingInterval(1e3).hasId("shellAppTitle").doPress().description("Expanding Shell Navigation Menu").execute()},iNavigateViaMenu:function(t){return e.create(this).hasId("sapUshellNavHierarchyItems").doOnAggregation("items",e.Matchers.properties({title:t}),e.Actions.press()).description(i.formatMessage("Navigating to '{0}' via Shell Navigation Menu",t)).execute()},iPressTile:function(e){return this.waitFor({controlType:"sap.ushell.ui.launchpad.Tile",matchers:function(t){return t.getTarget()==="#"+e},actions:function(e){e.getTileViews()[0].$().trigger("tap")},success:function(a){t.assert.ok(true,i.formatMessage("Clicking on tile with target '{0}'",e))},errorMessage:"Could not find the tile"})},iOpenDefaultValues:function(){return e.create(this).hasId("meAreaHeaderButton").doPress().description("Opening FLP Default Values dialog").execute()},iEnterAValueForUserDefaults:function(t,i){return e.create(this).hasProperties({name:t.field}).isDialogElement().doEnterText(i).description("Entering text in the field '"+t.field+"' with value '"+t+"'").execute()},iSelectAListItem:function(t){return e.create(this).hasType("sap.m.StandardListItem").hasProperties({title:t}).doPress().description("Selecting item: "+t).execute()},iLaunchExtendedParameterDialog:function(t){return e.create(this).hasType("sap.m.Button").isDialogElement().hasProperties({text:"Additional Values"}).doPress().description("Launching Extended Parameter Dialog").execute()},iClickOnButtonWithText:function(t){return e.create(this).hasType("sap.m.Button").hasProperties({text:t}).doPress().description("Clicking on button with text: "+t).execute()},iClickOnButtonWithIcon:function(t){return e.create(this).hasType("sap.m.Button").hasProperties({icon:"sap-icon://"+t}).doPress().description("Clicking on button with icon: "+t).execute()}},assertions:{iSeeFlpDashboard:function(){return e.create(this).hasId("sapUshellDashboardPage").description("Seeing FLP Dashboard").execute()},iShouldSeeTheAppTile:function(t){return e.create(this).hasType("sap.ushell.ui.launchpad.Tile").hasProperties({target:t}).description("Seeing Tile "+t).execute()},iSeeShellNavHierarchyItem:function(t,a,r,n){return e.create(this).viewId(null).hasId("sapUshellNavHierarchyItems").hasAggregationLength("items",r).has(e.Matchers.aggregationAtIndex("items",a-1)).hasProperties({title:t,description:n}).description(i.formatMessage("Checking Navigation Hierarchy Items ({2}): Name={0}, Position={1}, Description={3}",t,a,r,n)).execute()},iSeeShellAppTitle:function(t){return e.create(this).viewId(null).hasId("shellAppTitle").hasProperties({text:t}).description(t+" is the Shell App Title").execute()},iCheckIntentBasedNavigation:function(i,a,r){function n(e,t){try{t.forEach(function(t){if(e.hasOwnProperty(t.property)){if(e[t.property][0]!==t.value){throw"input parameter not equal to actual URL parameter"}}else{throw"input parameter not found in URL"}});return true}catch(e){return false}}return e.create(this).check(function(){var e=t.getWindow().sap.ushell.Container.getService("URLParsing").parseShellHash(t.getWindow().document.location.hash);if(e.semanticObject===i&&e.action===a){return!r||n(e.params,r)?true:false}else{return false}}).error(function(){var e=t.getWindow().document.location.hash,n="Expected properties/values: ";t.assert.ok(false,"Current hash value: "+e);t.assert.ok(false,"Expected semantic object: "+i);t.assert.ok(false,"Expected action: "+a);if(r){r.forEach(function(e){n=n+e.property+"="+e.value+","});t.assert.ok(false,n)}}).success("Navigation successful. SemanticObject: "+i+", Action: "+a+" and all URL parameters are valid.").execute()}}}].concat(a))}return a});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/Stubs", ["sap/ui/test/OpaBuilder"],function(s){"use strict";var e={prepareStubs:function(s){if(!s.sapFEStubs){s.sapFEStubs={}}},stubAll:function(s){this.stubConfirm(s);this.stubMessageToast(s);this.stubMisc(s)},restoreAll:function(s){this.restoreConfirm(s);this.restoreMessageToast(s);this.restoreMisc(s)},stubConfirm:function(s){e.prepareStubs(s);s.sapFEStubs._confirmOriginal=s.confirm;s.confirm=function(s){throw"Unexpected confirm dialog - "+s}},restoreConfirm:function(s){if(!s.sapFEStubs||!s.sapFEStubs._confirmOriginal){return}s.confirm=s.sapFEStubs._confirmOriginal;delete s.sapFEStubs._confirmOriginal},stubMessageToast:function(s){e.prepareStubs(s);var t=s.sap.ui.require("sap/m/MessageToast");s.sapFEStubs._sapMMessageToastShowOriginal=t.show;s.sapFEStubs.setLastToastMessage=function(e){s.sapFEStubs._sapMMessageToastLastMessage=e};s.sapFEStubs.getLastToastMessage=function(){return s.sapFEStubs._sapMMessageToastLastMessage};t.show=function(e){s.sapFEStubs.setLastToastMessage(e);return s.sapFEStubs._sapMMessageToastShowOriginal.apply(this,arguments)}},restoreMessageToast:function(s){if(!s.sapFEStubs||!s.sapFEStubs._sapMMessageToastShowOriginal){return}var e=s.sap.ui.require("sap/m/MessageToast");e.show=s.sapFEStubs._sapMMessageToastShowOriginal;delete s.sapFEStubs._sapMMessageToastShowOriginal;delete s.sapFEStubs._sapMMessageToastLastMessage;delete s.sapFEStubs.setLastToastMessage;delete s.sapFEStubs.getLastToastMessage},stubMisc:function(s){e.prepareStubs(s);s.sap.ui.require(["sap/ui/table/CreationRow"],function(e){s.sapFEStubs._sapUiTableCreationRowOnSapEnter=e.prototype.onsapenter;delete e.prototype.onsapenter})},restoreMisc:function(s){if(!s.sapFEStubs||!s.sapFEStubs._sapUiTableCreationRowOnSapEnter){return}var e=s.sap.ui.require("sap/ui/table/CreationRow");e.prototype.onsapenter=s.sapFEStubs._sapUiTableCreationRowOnSapEnter;delete s.sapFEStubs._sapUiTableCreationRowOnSapEnter}};return e});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/TemplatePage", ["sap/ui/test/OpaBuilder","sap/ui/test/Opa5","sap/ui/core/util/ShortcutHelper","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcFieldBuilder","sap/fe/test/builder/MacroFieldBuilder","sap/fe/test/builder/MdcTableBuilder","sap/fe/test/builder/DialogBuilder","sap/fe/test/api/DialogType","sap/fe/test/api/DialogActions","sap/fe/test/api/DialogAssertions","sap/fe/test/api/DialogMessageActions","sap/fe/test/api/DialogMessageAssertions","sap/fe/test/api/DialogValueHelpActions","sap/fe/test/api/DialogValueHelpAssertions","sap/fe/test/api/DialogCreateActions","sap/fe/test/api/DialogCreateAssertions","sap/fe/test/api/DialogMassEditActions","sap/fe/test/api/DialogMassEditAssertions","sap/fe/test/api/TableAssertions","sap/fe/test/api/TableActions","sap/fe/test/api/ChartAssertions","sap/fe/test/api/ChartActions","sap/fe/test/builder/MdcFilterBarBuilder","sap/fe/test/api/FilterBarAssertions","sap/fe/test/api/FilterBarActions","sap/base/util/deepEqual","sap/ushell/resources"],function(e,t,i,s,r,a,n,o,c,u,l,p,h,d,f,g,T,P,w,m,A,D,S,E,B,x,M,O,y){"use strict";function b(e,t){var i=o.create(e);if(s.isOfType(t,String)){i.hasProperties({header:t})}else{i.hasId(t.id)}return i}function _(e,t){return B.create(e).hasId(t.id)}function v(e,t,i){if(s.isOfType(t,String,true)){t={type:u.Confirmation,title:t}}var a=c.create(e);switch(t.type){case u.ValueHelp:if(t.property){a.has(r.Matchers.id(RegExp(s.formatMessage("::FieldValueHelp::{0}-dialog$",t.property.replaceAll("/","::")))))}return i?new f(a,t):new g(a,t);case u.Error:a.hasProperties({icon:"sap-icon://error",title:"Error"});return i?new l(a,t):new p(a,t);case u.Message:return i?new h(a,t):new d(a,t);case u.Create:return i?new T(a,t):new P(a,t);case u.MassEdit:return i?new w(a,t):new m(a,t);default:return i?new l(a,t):new p(a,t)}}function C(){var e={};Object.keys(u).forEach(function(t){e["on"+t+"Dialog"]=function(){return this.onDialog({type:t})}});return e}function k(t,a){var n=s.isOfType(t,String)?t:t.viewId,o=Array.prototype.slice.call(arguments,1);return s.mergeObjects.apply(s,[{viewId:n,actions:s.mergeObjects({_onTable:function(e){return new D(b(this,e),e)},_onChart:function(e){return new E(r,e)},_onFilterBar:function(e){return new M(_(this,e),e)},onDialog:function(e){return v(this,e,true)},iOpenVHOnActionDialog:function(t){var i="APD_::"+t+"-inner-vhi";return e.create(this).hasId(i).isDialogElement().doPress().description("Opening value help for '"+t+"'").execute()},_iPressKeyboardShortcut:function(t,s,r,a){return e.create(this).hasId(t).hasProperties(r?r:{}).hasType(a).do(function(e){var t=i.parseShortcut(s);t.type="keydown";e.$().trigger(t)}).description("Execute keyboard shortcut "+s).execute()},_iCollapseExpandPageHeader:function(t){var i=e.Matchers.resourceBundle("tooltip","sap.f","COLLAPSE_HEADER_BUTTON_TOOLTIP"),r=e.Matchers.resourceBundle("tooltip","sap.f","EXPAND_HEADER_BUTTON_TOOLTIP");return e.create(this).hasType("sap.m.Button").has(e.Matchers.some(i,r)).doConditional(t?i:r,e.Actions.press()).description(s.formatMessage("{0} the current Page Header",t?"Collapsing":"Expanding")).execute()}},C()),assertions:s.mergeObjects({_onTable:function(e){return new A(b(this,e),e)},_onChart:function(e){return new S(r,e)},_onFilterBar:function(e){return new x(_(this,e),e)},onDialog:function(e){return v(this,e,false)},iSeeThisPage:function(){return e.create(this).hasId(n).do(function(e){var t=e.getParent().oContainer;var i=t;do{i=i.getParent()}while(!i.isA("sap.ui.core.mvc.XMLView"));this.oPlaceholder=i.getController().oPlaceholder}.bind(this)).viewId(null).viewName(null).description(s.formatMessage("Seeing the page '{0}'",n)).execute()},iResetPlaceholderStatistics:function(){return e.create(this).do(function(){this.oPlaceholder.resetPlaceholderDebugStats()}.bind(this)).description("Placeholder reset statistics").execute()},iCheckPlaceholderStatistics:function(t){var i={pageReady:"iPageReadyEventTimestamp",heroesBatchReceived:"iHeroesBatchReceivedEventTimestamp"};return e.create(this).check(function(){var e=this.oPlaceholder.getPlaceholderDebugStats();var s=i[t];if(e.iHidePlaceholderTimestamp-e[s]<10){return true}else{return false}}.bind(this)).description("Placeholder statistics are correct").execute()},iSeeFilterDefinedOnActionDialogValueHelp:function(t,i,s,r){return e.create(this).hasId(t+"::"+i+"::FilterBar::FilterField::"+s+"-inner").isDialogElement().hasAggregationProperties("tokens",{text:r}).description("Seeing filter for '"+s+"' set to '"+r+"'").execute()},_iSeeTheMessageToast:function(e){return r.createMessageToastBuilder(e).execute(this)},_iSeeButtonWithText:function(e,t){return r.create(this).hasType("sap.m.Button").hasProperties({text:e}).hasState(t).checkNumberOfMatches(1).description(s.formatMessage("Seeing Button with text '{0}'"+(t?" with state: '{1}'":""),e,t)).execute()},iSeePageHeaderButton:function(t){return e.create(this).hasType("sap.m.Button").has(e.Matchers.resourceBundle("tooltip","sap.f",t?"COLLAPSE_HEADER_BUTTON_TOOLTIP":"EXPAND_HEADER_BUTTON_TOOLTIP")).description("Seeing the "+(t?"Collapse":"Expand")+" Page Header Button").execute()},iSeeTileCreationMessage:function(){return this._iSeeTheMessageToast(y.i18n.getText("tile_created_msg"))},iSeeMessageStrip:function(t){return e.create(this).hasType("sap.m.MessageStrip").hasProperties(t).description(s.formatMessage("Seeing message strip with properties='{0}'",t)).execute()},iSeeQuickViewPopover:function(){return e.create(this).hasType("sap.ui.mdc.link.Panel").description("Seeing Quick View Popover").execute()},iSeeQuickViewTitleLink:function(t){return e.create(this).hasType("sap.m.Link").isDialogElement(true).hasProperties({text:t}).description("QuickView Title link with text '"+t+"' is found").execute()},iSeeQuickViewTitleWithLabel:function(t){return e.create(this).hasType("sap.m.Title").isDialogElement(true).hasProperties({text:t}).description("QuickView Title label with text '"+t+"' is found").execute()}},C())}].concat(o))}return k});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/TemplatingTestUtils", ["sap/ui/model/odata/v4/ODataMetaModel","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/fe/macros/macroLibrary","sap/fe/core/TemplateModel","sap/fe/macros/ResourceModel"],function(e,t,n,i,s){"use strict";function o(o,r,a,c,u,f,d){var l="./test/",m={read:function(){return Promise.resolve(a)},mHeaders:{}},p=new e(m,l+"$metadata",undefined,null);i.deregister();if(u){i.register()}function b(e,n,i,o){var r={models:Object.assign({},o),bindingContexts:{}};Object.keys(i).forEach(function(t){var n=o[t]||p;if(!(n instanceof sap.ui.model.Model)&&!(n instanceof sap.ui.model.odata.v4.ODataMetaModel)){n=new s(n,p)}e.ok(typeof n.getObject(i[t])!=="undefined",t+": "+i[t]+" exists");r.bindingContexts[t]=n.createBindingContext(i[t]);r.models[t]=n});if(r.models["this"]){r.bindingContexts["this"]=r.models["this"].createBindingContext("/")}return Promise.resolve(t.process(n,{},r))}o.module("Smoke Tests for "+r);o.test("Check if metadata is available",function(e){return Promise.all([p.requestObject("/").then(function(t){e.ok(t,"Entity Container found")}),p.requestObject("/$").then(function(t){e.ok(t,"Metadata Document found")})])});var g;function h(e){e.fileType=e.fileType||"fragment";o.module("Tests for "+r+" against "+e.fileType+" "+e.sFragmentName+(e.sDescription?" ("+e.sDescription+")":""),{beforeEach:function(){if(f){g=d.stub(f,"getText").callsFake(function(e){if(e==="T_NEW_OBJECT"){return"New Object"}else{return"Unnamed Object"}})}},afterEach:function(){if(g){g.restore()}}});e.tests.forEach(function(t,i){o.test(t.description||"Test "+e.fileType+" scope: "+i,function(i){return p.requestObject("/$").then(function(){return n.loadTemplatePromise(e.sFragmentName,e.fileType)}).then(function(n){return b(i,n,t.mBindingContexts,Object.assign({},e.mModels,t.mModels))}).then(function(e){var n=[].filter.call(e.ownerDocument.querySelectorAll("*"),r),s,o=0;function r(e){return e.getAttribute("unittest:id")!==null}function a(e,t,n){function s(s){if(t[s]===undefined){i.ok(!e.hasAttribute(s),'unittest:id="'+n+"\": attribute '"+s+"' is expected not to be rendered")}else{var o=e.getAttribute(s);i.strictEqual(o,t[s],'unittest:id="'+n+"\": attribute '"+s+"' properly created as "+o)}}if(t){o++;Object.keys(t).forEach(s)}}n.forEach(c);function c(e){s=e.getAttribute("unittest:id");a(e,t.oExpectedResultsPerTest[s],s)}i.equal(o,Object.keys(t.oExpectedResultsPerTest).length,"All tests have been executed for this test case")}).catch(function(e){var n=t.sExpectedException;if(e&&n){i.strictEqual(e.message||e,n,"expected exception occurred: "+n)}else{throw e}})})})}c.forEach(h)}return{testFragments:o}});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/UI5MockHelper", ["@sap-ux/jest-mock-ui5/dist/generic","sap/fe/core/controllerextensions/EditFlow","sap/fe/core/controllerextensions/InternalEditFlow","sap/fe/core/controllerextensions/InternalRouting","sap/fe/core/controllerextensions/Share","sap/fe/core/controllerextensions/SideEffects","sap/ui/base/Event","sap/ui/core/mvc/Controller","sap/ui/core/mvc/View","sap/ui/model/CompositeBinding","sap/ui/model/odata/v4/Context","sap/ui/model/odata/v4/ODataContextBinding","sap/ui/model/odata/v4/ODataListBinding","sap/ui/model/odata/v4/ODataMetaModel","sap/ui/model/odata/v4/ODataModel","sap/ui/model/odata/v4/ODataPropertyBinding"],function(t,e,o,n,i,c,r,a,m,u,l,k,d,s,p,f){"use strict";var M={};var v=t.mock;function g(t,e,o){var n=v(Object.getPrototypeOf(l.createNewContext(null,null,"/e")));n._isKeptAlive=false;n._contextData=t||{};n._oBinding=e;n._isInactive=!!o;n.mock.isA.mockImplementation(function(t){return t==="sap.ui.model.odata.v4.Context"});n.mock.getProperty.mockImplementation(function(t){return n._contextData[t]});n.mock.requestProperty.mockImplementation(function(t){if(Array.isArray(t)){return Promise.resolve(t.map(function(t){return n._contextData[t]}))}return Promise.resolve(n._contextData[t])});n.mock.requestObject.mockImplementation(function(t){return Promise.resolve(n._contextData[t])});n.mock.setProperty.mockImplementation(function(t,e){n._contextData[t]=e;return n._contextData[t]});n.mock.getObject.mockImplementation(function(t){var e=t?n._contextData[t]:n._contextData;if(!e&&t&&t.indexOf("/")>-1){var o=t.split("/");e=o.reduce(function(t,e){t=e?t[e]:t;return t},n._contextData)}return e});n.mock.getPath.mockImplementation(function(){return n._contextData["$path"]});n.mock.getBinding.mockImplementation(function(){return n._oBinding});n.mock.getModel.mockImplementation(function(){var t;return(t=n._oBinding)===null||t===void 0?void 0:t.getModel()});n.mock.setKeepAlive.mockImplementation(function(t,e,o){n._isKeptAlive=t});n.mock.isKeepAlive.mockImplementation(function(){return n._isKeptAlive});n.mock.isInactive.mockImplementation(function(){return n._isInactive});return n}M.createMockContext=g;var x=g;M.MockContext=x;function I(t){var e=v(r);e._params=t||{};e.mock.getParameter.mockImplementation(function(t){return e._params[t]});return e}M.createMockEvent=I;var C=I;M.MockEvent=C;function _(t,e){var o=v(d);t=t||[];o._aMockContexts=t.map(function(t){return g(t,o)});o._mockModel=e;o.setModel=function(t){o._mockModel=t};o.mock.isA.mockImplementation(function(t){return t==="sap.ui.model.odata.v4.ODataListBinding"});o.mock.requestContexts.mockImplementation(function(){return Promise.resolve(o._aMockContexts)});o.mock.getCurrentContexts.mockImplementation(function(){return o._aMockContexts});o.mock.getAllCurrentContexts.mockImplementation(function(){return o._aMockContexts});o.mock.getModel.mockImplementation(function(){return o._mockModel});o.mock.getUpdateGroupId.mockReturnValue("auto");return o}M.createMockListBinding=_;var B=_;M.MockListBinding=B;function D(t,e,o){var n=v(f);n._mockModel=o;n._value=t;n._path=e;n.mock.isA.mockImplementation(function(t){return t==="sap.ui.model.odata.v4.ODataPropertyBinding"});n.mock.getModel.mockImplementation(function(){return n._mockModel});n.mock.getValue.mockImplementation(function(){return n._value});n.mock.getPath.mockImplementation(function(){return n._path});return n}M.createMockPropertyBinding=D;var P=D;M.MockPropertyBinding=P;function V(t){var e=v(u);e._aBindings=t;e.mock.isA.mockImplementation(function(t){return t==="sap.ui.model.CompositeBinding"});e.mock.getBindings.mockImplementation(function(){return e._aBindings});e.mock.getValue.mockImplementation(function(){return e._aBindings.map(function(t){return t.getValue()})});return e}M.createMockCompositeBinding=V;var A=V;M.MockCompositeBinding=A;function w(t,e){var o=v(k);o.mockModel=e;o.oMockContext=g(t||{},o);o.getInternalMockContext=function(){return o.oMockContext};o.setModel=function(t){o.mockModel=t};o.mock.isA.mockImplementation(function(t){return t==="sap.ui.model.odata.v4.ODataContextBinding"});o.mock.getBoundContext.mockImplementation(function(){return o.oMockContext});o.mock.getModel.mockImplementation(function(){return o.mockModel});o.mock.execute.mockResolvedValue(true);return o}M.createMockContextBinding=w;var O=w;M.MockContextBinding=O;function h(t){var e=v(s);e.oMetaContext=g(t||{});e.mock.getMetaContext.mockImplementation(function(t){return g({$path:t})});e.mock.getObject.mockImplementation(function(t){return e.oMetaContext.getProperty(t)});e.mock.createBindingContext.mockImplementation(function(t){return g({$path:t})});e.mock.getMetaPath.mockImplementation(function(t){var e=new s;return t?e.getMetaPath(t):t});return e}M.createMockMetaModel=h;var y=h;M.MockMetaModel=y;function L(t,e){var o=v(p);o.mockListBinding=t;o.mockContextBinding=e;if(t){t.setModel(o)}if(e){e.setModel(o)}o.setMetaModel=function(t){o.oMetaModel=t};o.mock.bindList.mockImplementation(function(){return o.mockListBinding});o.mock.bindContext.mockImplementation(function(){return o.mockContextBinding});o.mock.getMetaModel.mockImplementation(function(){return o.oMetaModel});return o}M.createMockModel=L;var R=L;M.MockModel=R;function b(t){return L(t)}M.createMockModelFromListBinding=b;function E(t){return L(undefined,t)}M.createMockModelFromContextBinding=E;function F(){var t=v(m);t.mock.isA.mockImplementation(function(t){return t==="sap.ui.core.mvc.View"});return t}M.createMockView=F;var j=F;M.MockView=j;function K(){var t=v(a);t._routing=v(n);t._editFlow=v(o);t._sideEffects=v(c);t.editFlow=v(e);t.share=v(i);t.mock.getView.mockReturnValue(F());t.mock.isA.mockReturnValue(false);return t}M.createMockController=K;var q=K;M.MockController=q;function $(t){var e=(t===null||t===void 0?void 0:t.model)||L();var o=(t===null||t===void 0?void 0:t.view)||F();var n=(t===null||t===void 0?void 0:t.controller)||K();o.mock.getController.mockReturnValue(n);o.mock.getModel.mockReturnValue(e);n.mock.getView.mockReturnValue(o);return{model:e,view:o,controller:n}}M.mockMVC=$;return M},false);
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/Utils", ["sap/base/util/LoaderExtensions","sap/base/util/UriParameters","sap/base/util/merge","sap/base/strings/formatMessage","sap/base/strings/capitalize"],function(e,a,r,p,t){"use strict";var s={};s.getManifest=function(p){var t=sap.ushell&&sap.ushell.Container;if(!t){var n=s.getNoFLPAppPath();p="local"+n}var i=new a(window.location.href),o=i.get("manifest"),u=e.loadResource(p+"/manifest.json");if(o){o.split(",").forEach(function(a){if(a.indexOf("/")!==0){a=p+"/"+a}try{u=r({},u,e.loadResource(a))}catch(e){}})}var l=new URL(u["sap.app"].dataSources.mainService.uri,document.location);var f=i.get("user");if(f){l.searchParams.set("user",f)}u["sap.app"].dataSources.mainService.uri=l.toString();return u};s.getNoFLPAppPath=function(){var e=new a(window.location.href);var r=e.get("app")||"SalesOrder";return s.getAppInfo(r).appPath};s.getAppInfo=function(e){var a={"SalesOrder-manage":{appName:"SalesOrder",appPath:"/apps/salesorder/webapp"},"SalesOrder-manageInline":{appName:"SalesOrder",appPath:"/apps/salesorder/webapp"},"SalesOrder-manageFCL":{appName:"SalesOrderFCL",appPath:"/apps/salesorder-FCL/webapp"},"SalesOrder-aggregate":{appName:"SalesOrder",appPath:"/apps/salesorder-aggregate/webapp"},"SalesOrder-manageInlineTest":{appName:"SalesOrder",appPath:"/apps/salesorder/webapp"},"Customer-manage":{appName:"Customer",appPath:"/apps/customer/webapp"},"Customer-displayFactSheet":{appName:"Customer",appPath:"/apps/customer-displayFactSheet/webapp"},"SalesOrder-sticky":{appName:"SalesOrder",appPath:"/apps/salesorder/webapp"},"SalesOrder-stickyFCL":{appName:"SalesOrderFCL",appPath:"/apps/salesorder-FCL/webapp"},"Products-manage":{appName:"catalog-admin-ui",appPath:"/apps/office-supplies/admin/webapp"},"Products-custom":{appName:"catalog-admin-ui",appPath:"/apps/office-supplies/custompage/webapp"},"Chevron-Navigation":{appName:"SalesOrder",appPath:"/apps/salesorder/webapp"},"Manage-items":{appName:"ManageItems",appPath:"/apps/manage-items/webapp"},"Drafts-manage":{appName:"ManageDrafts",appPath:"/apps/manage-drafts/webapp"},"Drafts-manageFCL":{appName:"ManageDraftsFCL",appPath:"/apps/manage-drafts-FCL/webapp"},"Manage-itemsSem":{appName:"ManageItemsSem",appPath:"/apps/manage-drafts/webapp"},"CustomNavigation-sample":{appName:"customNavigation.sample",appPath:"/apps/customNav"},"SalesOrder-Create":{appName:"SalesOrderCreate",appPath:"/apps/salesorder-Create/webapp"},"SalesOrder-CreateFCL":{appName:"SalesOrderCreateFCL",appPath:"/apps/salesorder-CreateFCL/webapp"},SalesOrder:{appName:"SalesOrder",appPath:"/apps/salesorder/webapp"}};return a[e]};s.isOfType=function(e,a,r){var p=Array.isArray(a)?a:[a];return p.reduce(function(a,p){if(a){return true}if(p===null||p===undefined){return e===p}if(e===null||e===undefined){return!!r}if(typeof p==="function"){if(p===Boolean){return typeof e==="boolean"}if(p===Array){return Array.isArray(e)}if(p===String){return typeof e==="string"||e instanceof String}if(p===Object){return typeof e==="object"&&e.constructor===Object}if(p===Number){return typeof e==="number"}return e instanceof p}return typeof e===p},false)};s.isArguments=function(e){return Object.prototype.toString.call(e)==="[object Arguments]"};s.parseArguments=function(e){var a=Array.prototype.slice.call(arguments,1);if(a.length===1&&s.isArguments(a[0])){a=Array.prototype.slice.call(a[0],0)}return e.reduce(function(e,r){if(s.isOfType(a[0],r,true)){e.push(a.shift())}else{e.push(undefined)}return e},[])};s.formatObject=function(e){if(s.isOfType(e,[null,undefined])){return""}if(s.isOfType(e,Array)){return"["+e.map(function(e){return s.formatObject(e)}).join(", ")+"]"}if(s.isOfType(e,Object)){return"{"+Object.keys(e).map(function(a){return a+": "+s.formatObject(e[a])}).join(", ")+"}"}return e.toString()};s.formatMessage=function(e){var a=Array.prototype.slice.call(arguments,1).map(function(e){return s.formatObject(e)});return p(e&&e.replace(/'/g,"''"),a)};s.mergeObjects=function(){return r.apply(this,[{}].concat(Array.prototype.slice.call(arguments)))};s.getAggregation=function(e,a){if(!e){return null}var r=e["get"+t(a,0)];if(!r){throw new Error("Object '"+e+"' does not have an aggregation called '"+a+"'")}return r.call(e)};s.pushToArray=function(e,a,r){if(a===undefined){a=[]}else if(!Array.isArray(a)){a=[a]}else{a=a.slice(0)}if(Array.isArray(e)){a=r?e.slice(0).concat(a):a.concat(e)}else if(e!==undefined){if(r){a.unshift(e)}else{a.push(e)}}return a};return s});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/APIHelper", ["sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder"],function(e,t,i){"use strict";var r={createSaveAsTileCheckBuilder:function(t){return r.createMenuActionCheckBuilder({icon:"sap-icon://add-favorite"}).hasState(t).description(e.formatMessage("Checking 'Save as Tile' action in state '{0}'",t))},createSaveAsTileExecutorBuilder:function(t){return r.createMenuActionExecutorBuilder({icon:"sap-icon://add-favorite"}).success(i.create().isDialogElement().hasType("sap.m.Input").hasProperties({id:"bookmarkTitleInput"}).doEnterText(t).description(e.formatMessage("Enter '{0}' as Bookmark title",t)).success(i.create().isDialogElement().hasType("sap.m.Button").hasProperties({id:"bookmarkOkBtn"}).doPress().description("Confirm 'Save as Tile' dialog")))},createSendEmailCheckBuilder:function(t){return r.createMenuActionCheckBuilder({icon:"sap-icon://email"}).hasState(t).description(e.formatMessage("Checking 'Send Email' action in state '{0}'",t))},createSendEmailExecutorBuilder:function(){return r.createMenuActionExecutorBuilder({icon:"sap-icon://email"}).description("Executing 'Send Email' action")},createMenuAndListActionMatcher:function(r,a){var n;if(e.isOfType(r,String)){r={text:r}}if(e.isOfType(r,Object)){if(r.visible===false){var s=Object.assign(r);delete s.visible;n=t.Matchers.some(t.Matchers.aggregationMatcher("items",i.Matchers.states(r)),t.Matchers.not(t.Matchers.aggregationMatcher("items",i.Matchers.states(s))))}else{n=a?[t.Matchers.aggregation("items",i.Matchers.states(r)),i.Matchers.atIndex(0)]:t.Matchers.aggregationMatcher("items",i.Matchers.states(r))}}else{throw new Error("vAction parameter must be a string or object")}return n},createMenuActionExecutorBuilder:function(t){if(!t){throw new Error("vAction parameter missing")}return i.create().hasType("sap.ui.unified.Menu").isDialogElement(true).has(r.createMenuAndListActionMatcher(t,true)).doPress().description(e.formatMessage("Executing action '{0}' from currently open action menu",t))},createMenuActionCheckBuilder:function(t){if(!t){throw new Error("vAction parameter missing")}return i.create().hasType("sap.ui.unified.Menu").isDialogElement(true).has(r.createMenuAndListActionMatcher(t)).description(e.formatMessage("Checking currently open action menu having action '{0}'",t))},createSelectListActionExecutorBuilder:function(t){if(!t){throw new Error("vAction parameter missing")}return i.create().hasType("sap.m.SelectList").isDialogElement(true).has(r.createMenuAndListActionMatcher(t,true)).doPress().description(e.formatMessage("Executing action '{0}' from currently open selection list",t))}};return r});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/BaseAPI", ["sap/fe/test/Utils","sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/m/p13n/BasePanel"],function(e,t,r,i,n){"use strict";function o(e,t){var r=e.and;if(t in r){return o(r[t],t)}return r}var a=function(e,t){this._oBuilder=e;this._vIdentifier=t};a.MDC_P13N_MODEL=n.prototype.P13N_MODEL;a.prototype.isAction=undefined;a.prototype.getBuilder=function(){return new this._oBuilder.constructor(this._oBuilder.getOpaInstance(),this._oBuilder.build())};a.prototype.getOpaInstance=function(){return this._oBuilder.getOpaInstance()};a.prototype.getIdentifier=function(){return this._vIdentifier};a.prototype.prepareResult=function(t){var r=o(t,this.isAction?"when":"then");t.and=this;if(!e.isOfType(this.isAction,[null,undefined])){t.and[this.isAction?"when":"then"]=r}return t};a.prototype.createActionMatcher=function(t){var n,o;if(!e.isOfType(t,String)){if(typeof t.service==="string"&&typeof t.action==="string"){o=t.service+(t.unbound?"::":".")+t.action;n=i.Matchers.id(new RegExp(e.formatMessage("{0}$",o)))}else{throw new Error("not supported service and action parameters for creating a control id: "+t.service+"/"+t.action)}}else{n=r.Matchers.properties({text:t})}return n};a.prototype.createFieldMatcher=function(t){var n,o;if(!e.isOfType(t,String)){if(typeof t.property==="string"){if(t.connectedFields){o="ConnectedFields::"+t.connectedFields+"::"+t.property.replaceAll("/","::")+"::Field"}else{o=t.property.replaceAll("/","::")+"::Field"}return r.Matchers.some.apply(null,["DataField","DataFieldWithURL","DataFieldForAnnotation"].reduce(function(t,r){return t.concat([i.Matchers.id(new RegExp(e.formatMessage("::{0}::{1}$",r,o)))])},[]))}else{throw new Error("The 'property' parameter for creating a control ID for a field is not supported: "+t.property)}}else{n=i.Matchers.label(t)}return n};a.prototype.createFormElementMatcher=function(t,n){var o,a;if(!e.isOfType(t,String)){if(t.property&&typeof t.property==="string"){if(t.connectedFields){a="SemanticFormElement::"+n+"::ConnectedFields::"+t.connectedFields}else{a="FormElement::"+n+"::"+t.property.replaceAll("/","::")}o=i.Matchers.id(new RegExp(e.formatMessage("{0}$",a)))}else{throw new Error("Unsupported parameter for creating a control id for a FormElement")}}else{o=r.Matchers.properties({label:t})}return o};a.prototype.createFieldGroupMatcher=function(t){var n,o;if(!e.isOfType(t,String)){if(t.fieldGroup&&typeof t.fieldGroup==="string"){o="FormContainer::"+t.fieldGroup;n=i.Matchers.id(new RegExp(e.formatMessage("{0}$",o)))}else{throw new Error(e.formatMessage("The parameter for creating a control ID for a FieldGroup is not supported: {0}",t))}}else{n=r.Matchers.properties({title:t})}return n};return a});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/ChartActions", ["./BaseAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder"],function(e,t,r){"use strict";var s=function(t,r){return e.call(this,t,r)};s.prototype=Object.create(e.prototype);s.prototype.constructor=s;s.prototype.isAction=true;s.prototype.iSelectItems=function(e,t){if(typeof t==="boolean"){t=t}else{t=true}return r.create(this).hasType("sap.chart.Chart").check(function(r){var s;var i=r[0]._getVizFrame();if(i){var o=e?[{data:e}]:[];s=i.vizSelection(o,{clearSelection:t})}return s},true).description("Do not see the First Column Expand Button").execute()};s.prototype.iChangeChartType=function(e){return r.create(this).hasType("sap.ui.core.Icon").hasProperties({src:"sap-icon://vertical-bar-chart"}).doPress().success(function(){return r.create(this).hasType("sap.m.StandardListItem").hasProperties({icon:"sap-icon://horizontal-bar-chart"}).doPress().description("blablabla").execute()}).description("Opened the Dialog").execute()};s.prototype.iDrillDown=function(e){return r.create(this).hasType("sap.m.Button").hasProperties({tooltip:"View By"}).doPress().success(function(){return r.create(this).hasType("sap.m.StandardListItem").hasProperties({title:e}).doPress().description("blablabla").execute()}).description("Opened the Dialog").execute()};s.prototype.iExecuteActionWithText=function(e){return r.create(this).hasType("sap.m.Button").hasProperties({text:e}).doPress().description("Clicked on button"+e).execute()};return s});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/ChartAssertions", ["./BaseAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/ui/core/SortOrder"],function(e,t,r,i,n){"use strict";var s=function(t,r){return e.call(this,t,r)};s.prototype=Object.create(e.prototype);s.prototype.constructor=s;s.prototype.isAction=false;s.prototype.iCheckItems=function(e,t){return r.create(this).hasType("sap.ui.mdc.Chart").check(function(r){var i;if(t&&r&&r.length>1){for(var n=0;n<r.length;n++){if(r[n].getId().indexOf("fe::Chart::"+t)>-1){i=r[n];break}}}else{i=r[0]}var s=i.getControlDelegate()._getChart(i).getBinding("data").getContexts();return s&&(e===undefined?s.length!==0:s.length===e)||!s&&e===0},true).description("Seeing "+e+"of items").execute()};s.prototype.iSeeChartType=function(e){return r.create(this).hasType("sap.ui.mdc.Chart").check(function(t){return e===t[0].getChartType()},true).description("Chart type is "+e).execute()};s.prototype.iSeeChartVisible=function(){return r.create(this).hasType("sap.ui.mdc.Chart").check(function(e){return e[0].getVisible()===true},true).description("Chart is Visible").execute()};s.prototype.iCheckBreadCrumb=function(e){return r.create(this).hasType("sap.m.Breadcrumbs").hasProperties({currentLocationText:e}).description("BreadCrumb is "+e).execute()};s.prototype.iCheckVisibleDimensions=function(e){return r.create(this).hasType("sap.chart.Chart").check(function(t){return t[0].getVisibleDimensions().toString()===e.toString()}).description("Visible Dimensions are checked correctly").execute()};s.prototype.iCheckVisibleMeasures=function(e){return r.create(this).hasType("sap.chart.Chart").check(function(t){return t[0].getVisibleMeasures().toString()===e.toString()}).description("Visible Measures are checked correctly").execute()};s.prototype.iCheckChartNoDataText=function(e){return r.create(this).hasType("sap.ui.mdc.Chart").check(function(t){return e===t[0].getNoDataText()}).description("No Data text is "+e).execute()};s.prototype.iCheckButtonWithText=function(e){return r.create(this).hasType("sap.m.Button").hasProperties({text:e}).description("Seeing Button with text '"+e+"'").execute()};s.prototype.iCheckMessageToastWithText=function(e){return i.createMessageToastBuilder(e).execute(this)};return s});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/api/CollaborationAPI", ["sap/base/Log","sap/fe/core/controllerextensions/collaboration/ActivityBase","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controllerextensions/editFlow/draft","sap/ui/model/json/JSONModel"],function(t,e,n,o,i){"use strict";var a=n.Activity;var r=e.initializeCollaboration;var s=e.endCollaboration;var l=e.broadcastCollaborationMessage;var c={_lastReceivedMessage:undefined,_rootPath:"",_oModel:undefined,_lockedPropertyPath:"",_internalModel:undefined,enterDraft:function(e,n,o){var a=e.getModel().getMetaModel().getObject("/@com.sap.vocabularies.Common.v1.WebSocketBaseURL");if(!a){t.error("Cannot find WebSocketBaseURL annotation");return}var s=e.getProperty("DraftAdministrativeData/DraftUUID");this._internalModel=new i({});var l=e.getModel().getServiceUrl();r({id:n,name:o,initialName:o},a,s,l,this._internalModel,this._onMessageReceived.bind(this),true);this._rootPath=e.getPath();this._oModel=e.getModel()},checkReceived:function(t){if(!this._lastReceivedMessage){return false}var e=(!t.userID||t.userID===this._lastReceivedMessage.userID)&&(!t.userAction||t.userAction===this._lastReceivedMessage.userAction)&&(!t.clientContent||t.clientContent===this._lastReceivedMessage.clientContent);this._lastReceivedMessage=undefined;return e},leaveDraft:function(){if(this._internalModel){s(this._internalModel);this._internalModel.destroy();this._internalModel=undefined}},startLiveChange:function(t){if(this._internalModel){if(this._lockedPropertyPath){this.undoChange()}this._lockedPropertyPath=t;l(a.LiveChange,"".concat(this._rootPath,"/").concat(t),this._internalModel)}},updatePropertyValue:function(e,n){var o=this;if(this._internalModel){if(this._lockedPropertyPath!==e){this.startLiveChange(e)}var i=this._oModel.bindContext(this._rootPath,undefined,{$$patchWithoutSideEffects:true,$$groupId:"$auto",$$updateGroupId:"$auto"});var r=this._oModel.bindProperty(e,i.getBoundContext());r.requestValue().then(function(){r.setValue(n);i.attachEventOnce("patchCompleted",function(){l(a.Change,"".concat(o._rootPath,"/").concat(e),o._internalModel);o._lockedPropertyPath=""})}).catch(function(e){t.error(e)})}},undoChange:function(){if(this._lockedPropertyPath){l(a.Undo,"".concat(this._rootPath,"/").concat(this._lockedPropertyPath),this._internalModel);this._lockedPropertyPath=""}},discardDraft:function(){var e=this;if(this._internalModel){var n=this._getDraftContext();n.requestProperty("IsActiveEntity").then(function(){o.deleteDraft(n)}).then(function(){l(a.Discard,e._rootPath.replace("IsActiveEntity=false","IsActiveEntity=true"),e._internalModel);e._internalModel.destroy();e._internalModel=undefined}).catch(function(e){t.error(e)})}},deleteDraft:function(){var e=this;if(this._internalModel){var n=this._getDraftContext();var i;n.requestProperty("IsActiveEntity").then(function(){return n.getModel().bindContext("".concat(e._rootPath,"/SiblingEntity")).getBoundContext()}).then(function(t){i=t;return t.requestCanonicalPath()}).then(function(){return o.deleteDraft(n)}).then(function(){i.delete();l(a.Delete,e._rootPath,e._internalModel);e._internalModel.destroy();e._internalModel=undefined}).catch(function(e){t.error(e)})}},_getDraftContext:function(){return this._oModel.bindContext(this._rootPath,undefined,{$$patchWithoutSideEffects:true,$$groupId:"$auto",$$updateGroupId:"$auto"}).getBoundContext()},_onMessageReceived:function(t){t.userAction=t.userAction||t.clientAction;this._lastReceivedMessage=t;if(t.userAction===a.Join){l(a.JoinEcho,this._lockedPropertyPath?"".concat(this._rootPath,"/").concat(this._lockedPropertyPath):undefined,this._internalModel)}}};return c},false);
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/DialogAPI", ["./BaseAPI","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcFieldBuilder","sap/fe/test/builder/DialogBuilder"],function(t,e,r,n,i){"use strict";var o=function(r,n,o){if(!e.isOfType(r,i)){throw new Error("oDialogBuilder parameter must be a DialogBuilder instance")}this._iConfirmButtonIndex=o||0;this._iConfirmDiscardDraftButtonIndex=this._iConfirmButtonIndex+1;return t.call(this,r,n)};o.prototype=Object.create(t.prototype);o.prototype.constructor=o;o.prototype._createFieldMatcher=function(t,n){var i,o;if(!e.isOfType(t,String)){if(typeof t.property==="string"){o=n&&n.type==="Create"?"CreateDialog::"+t.property.replaceAll("/","::"):"APD_::"+t.property.replaceAll("/","::")}else{throw new Error("The 'property' parameter for creating a control ID for a field in an action dialog is not supported: "+t.property)}i=r.Matchers.id(new RegExp(e.formatMessage("{0}",o)))}else{}return i};o.prototype._createFieldBuilder=function(t,e){var r=new n(this.getOpaInstance());return r.isDialogElement().hasType("sap.ui.mdc.Field").has(this._createFieldMatcher(t,e))};o.prototype._getConfirmButtonMatcher=function(){var t=this._iConfirmButtonIndex;return function(e){var r=e.getParent().getButtons();return r.indexOf(e)===Math.min(r.length-1,t)}};o.prototype._getCancelButtonMatcher=function(){var t=this._iConfirmButtonIndex;return function(e){var r=e.getParent().getButtons();return r.length>2?r.indexOf(e)===r.length-1:r.indexOf(e)===Math.min(r.length-1,t+1)}};o.prototype._getConfirmDiscardDraftButtonMatcher=function(){var t=this._iConfirmDiscardDraftButtonIndex;return function(e){var r=e.getParent().getButtons();return r.indexOf(e)===t}};return o});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/DialogActions", ["./DialogAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder"],function(e,t,i){"use strict";var r=function(t,i,r){return e.call(this,t,i,r)};r.prototype=Object.create(e.prototype);r.prototype.constructor=r;r.prototype.isAction=true;r.prototype.iConfirm=function(){return this.prepareResult(this.getBuilder().doPressFooterButton(this._getConfirmButtonMatcher()).description(t.formatMessage("Confirming dialog '{0}'",this.getIdentifier())).execute())};r.prototype.iCancel=function(){return this.prepareResult(this.getBuilder().doPressFooterButton(this._getCancelButtonMatcher()).description(t.formatMessage("Cancelling dialog '{0}'",this.getIdentifier())).execute())};r.prototype.iClose=function(){return this.prepareResult(this.getBuilder().doPressKeyboardShortcut("Escape").description(t.formatMessage("Closing dialog '{0}'",this.getIdentifier())).execute())};r.prototype.iChangeDialogField=function(e,i,r){var o=t.parseArguments([Object,String,Boolean],arguments);return this.prepareResult(this._createFieldBuilder(e,this.getIdentifier()).doChangeValue(o[1],o[2]).description(t.formatMessage("Changing the field '{1}' of dialog '{0}' by adding '{2}' (was cleared first: {3})",this.getIdentifier(),o[0],o[1],!!o[2])).execute())};r.prototype.iChangeActionParameterDialogField=function(e,t,i){return this.iChangeDialogField(e,t,i)};return r});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/DialogAssertions", ["./DialogAPI","sap/fe/test/Utils"],function(t,e){"use strict";var i=function(e,i,r){return t.call(this,e,i,r)};i.prototype=Object.create(t.prototype);i.prototype.constructor=i;i.prototype.isAction=false;i.prototype.iCheckState=function(t){return this.prepareResult(this.getBuilder().hasState(t).description(e.formatMessage("Checking dialog '{0}' in state '{1}'",this.getIdentifier(),t)).execute())};i.prototype.iCheckConfirm=function(t){return this.prepareResult(this.getBuilder().hasFooterButton(this._getConfirmButtonMatcher(),t).description(e.formatMessage("Checking dialog '{0}' having confirmation button with state '{1}'",this.getIdentifier(),t)).execute())};i.prototype.iCheckCancel=function(t){return this.prepareResult(this.getBuilder().hasFooterButton(this._getCancelButtonMatcher(),t).description(e.formatMessage("Checking dialog '{0}' having cancellation button with state '{1}'",this.getIdentifier(),t)).execute())};i.prototype.iCheckDialogField=function(t,i,r){var o=e.parseArguments([Object,[String,Array,Object],Object],arguments);return this.prepareResult(this._createFieldBuilder(t,this.getIdentifier()).hasValue(o[1]).hasState(o[2]).description(e.formatMessage("Checking field '{1}' of dialog '{0}' with content '{2}' and state '{3}'",this.getIdentifier(),o[0],o[1],o[2])).execute())};i.prototype.iCheckActionParameterDialogField=function(t,e,i){return this.iCheckDialogField(t,e,i)};return i});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/DialogCreateActions", ["./DialogActions","sap/fe/test/Utils","sap/ui/test/OpaBuilder"],function(t,e,r){"use strict";var o=function(e,r){return t.call(this,e,r,0)};o.prototype=Object.create(t.prototype);o.prototype.constructor=o;o.prototype.isAction=true;o.prototype.iExecuteCreate=function(){return this.prepareResult(this.getBuilder().doPressFooterButton(r.Matchers.resourceBundle("text","sap.fe.core","C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON")).description(e.formatMessage("Pressing create button on dialog '{0}'",this.getIdentifier())).execute())};return o});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/DialogCreateAssertions", ["./DialogAssertions","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/Utils"],function(t,e,r,s){"use strict";var i=function(e,r){return t.call(this,e,r,0)};i.prototype=Object.create(t.prototype);i.prototype.constructor=i;i.prototype.isAction=false;i.prototype.iCheckCreate=function(t){return this.prepareResult(this.getBuilder().hasFooterButton(e.Matchers.resourceBundle("text","sap.fe.core","C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON"),t).description(s.formatMessage("Checking that dialog '{0}' has create button with state '{1}'",this.getIdentifier(),t)).execute())};return i});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/DialogHelper", ["./DialogAPI"],function(e){"use strict";return{iProcessDraftDataLossDialog:function(e,o,a){var i=a||{};var r=i.secondPage?"onTheSecondDetailPage":"onTheDetailPage";var t=i.formSection?i.formSection:"GeneralInfo";var n=i.changeField?i.changeField:{PurchaseOrderByCustomer:"CHANGED"};var f=i.draftOption?i.draftOption:"draftDataLossOptionKeep";var l=i.goToSection?i.goToSection:false;var s=Object.keys(n);var c;var d;if(s.length===1){var g=s[0];c=g;d=n[c]}var D={section:t};D.fieldGroup=i.fieldGroup?D.fieldGroup:"OrderData";if(i.noFieldGroup){delete D["fieldGroup"]}if(l){e[r].iGoToSection(l)}e[r].onForm(D).iChangeField({property:c},d);o[r].onFooter().iCheckDraftStateSaved();e.onTheShell.iNavigateBack();e[r].onMessageDialog().iSelectDraftDataLossOption(f);e[r].onMessageDialog().iConfirm()}}});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/DialogMassEditActions", ["./DialogActions","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder"],function(e,t,r,s){"use strict";var a=function(t,r){return e.call(this,t,r,0)};a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.isAction=true;a.prototype.iChangeField=function(e,a,i,o){var n=this,p=t.isOfType(e,String)?e:e.property,d=a&&(t.isOfType(a,String)?{rawText:a}:a),c=new RegExp("^MED(.*)"+p+"$","gi");return n.prepareResult(s.create(this.getOpaInstance()).isDialogElement().has(s.Matchers.id(c)).hasState(i).hasProperties(o).doPress().success(function(e){var s,a=e[0],i=a.getMetadata().getName();if(d.dropDownText){s=r.create().hasType("sap.ui.core.Item").has(r.Matchers.ancestor(a[0],false)).hasProperties({text:d.dropDownText}).doPress().description(t.formatMessage("Value '{3}' selected for '{0}' in mass edit dialog '{1}'",p,n.getIdentifier(),d.dropDownText)).execute()}else if(d.rawText&&i==="sap.m.ComboBox"){s=r.create().hasId(a.getId()).doEnterText(d.rawText).description(t.formatMessage("Value '{3}' entered for '{0}' in mass edit dialog '{1}'",p,n.getIdentifier(),d.rawText)).execute()}return s}).description(t.formatMessage("Mass edit dropdown for '{0}' found in dialog '{1}'",p,n.getIdentifier())).execute())};return a});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/DialogMassEditAssertions", ["./DialogAssertions","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/Utils"],function(e,t,s,r){"use strict";var a=function(t,s){return e.call(this,t,s,0)};a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.isAction=false;a.prototype.iCheckField=function(e,a,i,o){var n=this,c=r.isOfType(e,String)?e:e.property,p=a&&(r.isOfType(a,String)?a:a.rawText||a.dropDownText),f=new RegExp("^MED(.*)"+c+"$","gi");var d;var l=s.create(this.getOpaInstance()).isDialogElement();var g=s.Matchers.id(f);var u=[s.Matchers.states(i),g];if(i&&i.visible===false){u=t.Matchers.some(u,t.Matchers.not(g));l=l.has(u)}else{l=l.has(u).hasProperties(o).check(function(e){d=e&&e[0]&&e[0].getMetadata().getName();return e.length===1&&(d==="sap.m.ComboBox"||d==="sap.fe.core.controls.MassEditSelect")}).success(function(e){var s=e[0],a=t.create().hasId(s.getId());if(d==="sap.m.ComboBox"){a=a.hasProperties({value:p})}else if(d==="sap.fe.core.controls.MassEditSelect"){a=a.has(function(e){return e.getSelectedItem()?e.getSelectedItem().getText()===p:false})}return a.description(r.formatMessage("Value selection '{3}' found for '{0}' in mass edit dialog '{1}'",c,n.getIdentifier(),p.toString())).execute()}).description(r.formatMessage("Mass edit dropdown for '{0}' found in dialog '{1}'",c,n.getIdentifier()))}return n.prepareResult(l.execute())};a.prototype.iCheckFieldSuggestions=function(e,t,a,i,o){var n=this,c=r.isOfType(e,String)?e:e.property,p=t&&(r.isOfType(t,String)?t:t.dropDownText||t.rawText),f=new RegExp("^MED(.*)"+c+"$","gi");return n.prepareResult(s.create(this.getOpaInstance()).isDialogElement().hasId(f).hasState(a).hasProperties(i).check(function(e){var t=false,s=e&&e[0],r=e&&e[0]&&e[0].getMetadata().getName();if(e.length===1&&(r==="sap.m.ComboBox"||r==="sap.fe.core.controls.MassEditSelect")){var a=s.getItems(),i=(a||[]).findIndex(function(e){return e.getText()===p}),n=i!=-1;t=o!==false===n}return t}).description(r.formatMessage("Mass edit dropdown for '{0}' found in dialog '{1}'",c,n.getIdentifier())).execute())};return a});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/DialogMessageActions", ["./DialogActions","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder"],function(e,t,r,i){"use strict";var s=function(t,r){return e.call(this,t,r,0)};s.prototype=Object.create(e.prototype);s.prototype.constructor=s;s.prototype.isAction=true;s.prototype.iExecuteBack=function(){return this.prepareResult(this.getBuilder().doPressHeaderButton(r.Matchers.properties({icon:"sap-icon://nav-back"})).description(t.formatMessage("Pressing back button on dialog '{0}'",this.getIdentifier())).execute())};s.prototype.iExecuteRefresh=function(){return this.prepareResult(this.getBuilder().doPressFooterButton(r.Matchers.resourceBundle("text","sap.fe.core","C_COMMON_SAPFE_REFRESH")).description(t.formatMessage("Pressing refresh button on dialog '{0}'",this.getIdentifier())).execute())};s.prototype.iSelectDraftDataLossOption=function(e){return this.prepareResult(i.create().hasType("sap.m.List").isDialogElement(true).has(r.Matchers.aggregation("items")).has(function(t){return t.find(function(t){return t.data("itemKey")===e})}).doPress().description("Selecting option with key {0} in draft data loss popup").execute())};return s});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/DialogMessageAssertions", ["./DialogAssertions","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/Utils"],function(e,t,s,r){"use strict";var i=function(t,s){return e.call(this,t,s,0)};i.prototype=Object.create(e.prototype);i.prototype.constructor=i;i.prototype.isAction=false;i.prototype.iCheckBack=function(e){return this.prepareResult(this.getBuilder().hasHeaderButton(t.Matchers.properties({icon:"sap-icon://nav-back"}),e).description(r.formatMessage("Checking that dialog '{0}' has a back button with state '{1}'",this.getIdentifier(),e)).execute())};i.prototype.iCheckRefresh=function(e){return this.prepareResult(this.getBuilder().hasFooterButton(t.Matchers.resourceBundle("text","sap.fe.core","C_COMMON_SAPFE_REFRESH"),e).description(r.formatMessage("Checking that dialog '{0}' has a refresh button with state '{1}'",this.getIdentifier(),e)).execute())};i.prototype.iCheckMessage=function(e){return this.prepareResult(this.getBuilder().hasContent(s.Matchers.states({controlType:"sap.m.MessageView"}),true).hasAggregation("items",t.Matchers.properties(e)).description(r.formatMessage("Checking dialog '{0}' having a message '{1}' ",this.getIdentifier(),e)).execute())};return i});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/DialogType", [],function(){"use strict";return{Confirmation:"Confirmation",ValueHelp:"ValueHelp",Message:"Message",Error:"Error",Action:"Action",Create:"Create",MassEdit:"MassEdit"}},true);
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/DialogValueHelpActions", ["./DialogActions","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcFilterBarBuilder","sap/fe/test/builder/MdcTableBuilder","sap/fe/test/builder/MdcFieldBuilder","./FilterBarAPI","./TableAPI"],function(e,t,i,a,r,n,s,o,l){"use strict";var p=function(t,i){return e.call(this,t,i,0)};p.prototype=Object.create(e.prototype);p.prototype.constructor=p;p.prototype.isAction=true;p.prototype.iGoToSearchAndSelect=function(){return this.prepareResult(a.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.IconTabFilter").has(a.Matchers.id(/-VHP--fromList$/)).doPress().description(t.formatMessage("Going to 'Search and Select' on value help dialog '{0}'",this.getIdentifier())).execute())};p.prototype.iGoToDefineConditions=function(){return this.prepareResult(a.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.IconTabFilter").has(a.Matchers.id(/-VHP--defineCondition$/)).doPress().description(t.formatMessage("Going to 'Define Conditions' on value help dialog '{0}'",this.getIdentifier())).execute())};p.prototype.iExecuteShowHideFilters=function(){return this.prepareResult(a.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.Button").has(a.Matchers.id(/::FilterBar-btnShowFilters$/)).doPress().description(t.formatMessage("Pressing 'Show/Hide Filters' on value help dialog '{0}'",this.getIdentifier())).execute())};p.prototype.iChangeSearchField=function(e){var t=r.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.filterbar.vh.FilterBar");return this.prepareResult(t.doChangeSearch(e).description("Entering search text "+e).execute())};p.prototype.iExecuteSearch=function(){var e=r.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.filterbar.vh.FilterBar");return this.prepareResult(e.doSearch().description("Starting value help search field search").execute())};p.prototype.iResetSearchField=function(){var e=r.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.filterbar.vh.FilterBar");return this.prepareResult(e.doResetSearch().description("Resetting value help search field").execute())};p.prototype.iChangeFilterField=function(e,i,a){var n=t.parseArguments([[String,Object],String,Boolean],arguments),s=r.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.filterbar.vh.FilterBar"),l=o.createFilterFieldBuilder(s,n[0]);return this.prepareResult(l.doChangeValue(n[1],n[2]).description(t.formatMessage("Changing the filter field '{1}' of value help dialog '{0}' by adding '{2}' (was cleared first: {3})",this.getIdentifier(),n[0],n[1],!!n[2])).execute())};p.prototype.iSelectRows=function(e,i){var a=t.parseArguments([[Object,Number],Object],arguments),r=n.createWrapper(this.getOpaInstance(),"sap.ui.table.Table").isDialogElement();return this.prepareResult(r.doClickOnRow(l.createRowMatchers(a[0],a[1])).description(t.formatMessage("Selecting rows of table in value help dialog '{0}' with values='{1}' and state='{2}'",this.getIdentifier(),a[0],a[1])).execute())};p.prototype.iAddCondition=function(e,t){return this.iChangeCondition(e||"EQ",t,-1)};p.prototype.iChangeCondition=function(e,i,r){r=r||0;var n=i===undefined;i=n||Array.isArray(i)?i:[i];var s={operator:e,values:i,isEmpty:n,validated:"NotValidated"};return this.prepareResult(a.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.field.DefineConditionPanel").do(function(e){var t=[].concat(e.getConditions());if(r===-1){t.push(s)}else{t[r]=s}e.setConditions(t)}).description(t.formatMessage("Changing {1} on value help dialog '{0}' to '{2}'",this.getIdentifier(),r===-1?"newly added condition":"condition at index "+r,s)).execute())};p.prototype.iRemoveCondition=function(e){e=e||0;return this.prepareResult(a.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.field.DefineConditionPanel").do(function(t){var i=[].concat(t.getConditions());i.splice(e,1);t.setConditions(i)}).description(t.formatMessage("Removing condition at index {1} on value help dialog '{0}'",this.getIdentifier(),e)).execute())};return p});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/DialogValueHelpAssertions", ["./DialogAssertions","./FilterBarAPI","./TableAPI","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcFilterBarBuilder","sap/fe/test/builder/MdcTableBuilder","sap/fe/test/Utils"],function(e,t,i,a,r,s,n,l){"use strict";var h=function(t,i){return e.call(this,t,i,0)};h.prototype=Object.create(e.prototype);h.prototype.constructor=h;h.prototype.isAction=false;h.prototype.iCheckFilterBar=function(e){return this.prepareResult(s.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.filterbar.vh.FilterBar").hasState(e).description(l.formatMessage("Checking that the value help dialog '{0}' has a filter bar with state='{1}'",this.getIdentifier(),e)).execute())};h.prototype.iCheckFilterField=function(e,i,a,r){var n=l.parseArguments([[String,Object],[String,Array,Object,Boolean],String,Object],arguments),h=s.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.filterbar.vh.FilterBar"),c=t.createFilterFieldBuilder(h,n[0],n[3]);if(!n[3]||n[3].visible!==false){c.hasValue(n[1],n[2])}return this.prepareResult(c.description(l.formatMessage("Checking that the field '{1}' in value help dialog '{0}' has condition values='{2}' and operator='{3}' and state='{4}'",this.getIdentifier(),n[0],n[1],n[2],n[3])).execute())};h.prototype.iCheckSearchField=function(e,t){var i=l.parseArguments([String,Object],arguments),a=s.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.filterbar.vh.FilterBar");return this.prepareResult(a.hasSearchField(i[0],i[1]).description(l.formatMessage("Checking that the search field on value help dialog '{0}' has search text '{1}' and state='{2}'",this.getIdentifier(),i[0]||"",i[1])).execute())};h.prototype.iCheckTable=function(e){return this.prepareResult(n.createWrapper(this.getOpaInstance(),"sap.ui.table.Table").isDialogElement().hasState(e).description(l.formatMessage("Checking that the value help dialog '{0}' has a table with state='{1}'",this.getIdentifier(),e)).execute())};h.prototype.iCheckRows=function(e,t,a){var r=l.parseArguments([Object,Number,Object],arguments),s=r[1],h=i.createRowMatchers(r[0],r[2]),c=n.createWrapper(this.getOpaInstance(),"sap.ui.table.Table").isDialogElement();if(h.length){c.hasRows(h,true).has(function(e){return l.isOfType(s,Number)?e.length===s:e.length>0})}else{c.hasNumberOfRows(s).hasRows(null,true)}return this.prepareResult(c.description(l.formatMessage("Checking that the table on value help dialog '{0}' has {1} rows with values='{2}' and state='{3}'",this.getIdentifier(),s===undefined?"> 0":s,r[0],r[2])).execute())};function c(e,t,i){var s=r.create(e.getOpaInstance()).isDialogElement().mustBeVisible(false).description(l.formatMessage("Checking that the tab '{1}' on value help dialog '{0}' has state='{2}'",e.getIdentifier(),t,i)),n=r.Matchers.id(RegExp(t+"$"));if(i&&i.visible===false){s.hasType("sap.m.IconTabBar");s.check(function(e){return a.Matchers.filter(n)(e).length===0})}else{s.hasType("sap.m.IconTabFilter").has(n).hasState(i)}return e.prepareResult(s.execute())}h.prototype.iCheckSearchAndSelect=function(e){return c(this,"-ITB--header-0",e)};h.prototype.iCheckDefineConditions=function(e){return c(this,"-ITB--header-1",e)};h.prototype.iCheckState=function(e){if(this.getIdentifier().type==="ValueHelp"&&e&&e.title&&Object.keys(e).length===1){return this.prepareResult(this.getBuilder().has(function(t){var i=t.getParent&&t.getParent()&&t.getParent().getProperty("title");return i&&i.indexOf(e.title)>=0}).description(l.formatMessage("Checking dialog '{0}' in state '{1}'",this.getIdentifier(),e)).execute())}else{return this.prepareResult(this.getBuilder().has(function(t){var i=t.getTitle&&t.getTitle();if(e&&i==="Select: "+e.title){t.setTitle(e.title)}return true}).hasState(e).description(l.formatMessage("Checking dialog '{0}' in state '{1}'",this.getIdentifier(),e)).execute())}};return h});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/EditState", ["sap/fe/macros/filter/DraftEditState"],function(i){"use strict";return{All:i.ALL.id,AllHidingDrafts:i.ALL_HIDING_DRAFTS.id,Unchanged:i.UNCHANGED.id,OwnDraft:i.OWN_DRAFT.id,Locked:i.LOCKED.id,UnsavedChanges:i.UNSAVED_CHANGES.id}},true);
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/FilterBarAPI", ["./BaseAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/ui/test/actions/Action","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcFilterBarBuilder","sap/fe/test/builder/MdcFilterFieldBuilder"],function(e,t,i,r,s,a,n){"use strict";var o=function(i,r){if(!t.isOfType(i,a)){throw new Error("oFilterBarBuilder parameter must be a FilterBarBuilder instance")}return e.call(this,i,r)};o.prototype=Object.create(e.prototype);o.prototype.constructor=o;o.createFilterFieldBuilder=function(e,r,a){var o;if(t.isOfType(r,String)){o=i.Matchers.properties({label:r})}else{o=s.Matchers.id(RegExp(t.formatMessage("::FilterField::{0}$",r.property.replace(/\/|\*\//g,"::"))))}e.hasField(o,a,true);return n.create(e.getOpaInstance()).options(e.build())};o.prototype.iOpenFilterAdaptation=function(){var e=this.getBuilder();return this.prepareResult(e.doOpenSettings().success(s.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.Button").hasProperties({icon:"sap-icon://group-2"}).doPress().success(s.create(this.getOpaInstance()).hasType("sap.m.Panel").isDialogElement().doConditional(function(e){return!e.getExpanded()},i.Actions.press("expandButton")))).description(t.formatMessage("Opening the filter bar adaptation dialog for '{0}'",this.getIdentifier())).execute())};o.prototype.iConfirmFilterAdaptation=function(){return this.prepareResult(a.createAdaptationDialogBuilder(this.getOpaInstance()).doPressFooterButton(i.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.OK")).description(t.formatMessage("Closing the filter bar adaptation dialog for '{0}'",this.getIdentifier())).execute())};o.prototype.filterFieldAdaptation=function(n,o,p,l){var c=t.parseArguments([[String,Object],Object,[Function,Array,r],String],arguments),d=s.create(this.getOpaInstance()),u,f=s.create(this.getOpaInstance()).hasType("sap.m.CustomListItem").isDialogElement(),h=a.createAdaptationDialogBuilder(this.getOpaInstance());n=c[0];if(t.isOfType(n,String)){f.has(i.Matchers.bindingProperties(e.MDC_P13N_MODEL,{label:n}))}else{f.has(i.Matchers.bindingProperties(e.MDC_P13N_MODEL,{name:n.property}))}o=c[1];if(o.visible!==undefined){o.exists=o.visible;delete o.visible}if(o.selected!==undefined){o.visible=o.selected;delete o.selected}var g=o&&o.exists===false;if(!g&&!t.isOfType(o,[null,undefined])){f.has(i.Matchers.bindingProperties(e.MDC_P13N_MODEL,o))}p=c[2];if(!t.isOfType(p,[null,undefined])){h.do(p)}l=c[3];return this.prepareResult(d.success(function(){u=s.controlsExist(h);if(!u){this.iOpenFilterAdaptation()}if(!u){h.success(this.iConfirmFilterAdaptation.bind(this))}return h.has(i.Matchers.children(f)).has(function(e){if(g){return e.length===0}return s.Matchers.atIndex(0)(e)}).description(l).execute()}.bind(this)).execute())};return o});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/FilterBarActions", ["./FilterBarAPI","sap/fe/test/Utils","sap/fe/macros/filter/DraftEditState","sap/fe/test/builder/FEBuilder","sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/VMBuilder"],function(e,t,i,r,a,s,n){"use strict";var o=function(t,i){return e.call(this,t,i)};o.prototype=Object.create(e.prototype);o.prototype.constructor=o;o.prototype.isAction=true;o.prototype.iChangeFilterField=function(i,r,a){var s=t.parseArguments([[String,Object],String,Boolean],arguments),n=e.createFilterFieldBuilder(this.getBuilder(),s[0]);return this.prepareResult(n.doChangeValue(s[1],s[2]).description(t.formatMessage("Changing the filter field '{1}' of filter bar '{0}' by adding '{2}' (was cleared first: {3})",this.getIdentifier(),s[0],s[1],!!s[2])).execute())};o.prototype.iOpenValueHelp=function(i){var r=e.createFilterFieldBuilder(this.getBuilder(),i);return this.prepareResult(r.doOpenValueHelp().description(t.formatMessage("Opening the value help for filter field '{1}' of filter bar '{0}'",this.getIdentifier(),i)).execute())};o.prototype.iChangeSearchField=function(e){var i=this.getBuilder();return this.prepareResult(i.doChangeSearch(e).description(t.formatMessage("Changing the search text on filter bar '{0}' to '{1}'",this.getIdentifier(),e||"")).execute())};o.prototype.iResetSearchField=function(){var e=this.getBuilder();return this.prepareResult(e.doResetSearch().description(t.formatMessage("Resetting the search field on filter bar '{0}'",this.getIdentifier())).execute())};o.prototype.iChangeEditingStatus=function(e){var r=this.getBuilder();return this.prepareResult(r.doChangeEditingStatus(e&&i[e]).description(t.formatMessage("Changing the editing status on filter bar '{0}' to '{1}'",this.getIdentifier(),e&&i[e].display)).execute())};o.prototype.iExecuteSearch=function(){var e=this.getBuilder();return this.prepareResult(e.doSearch().description(t.formatMessage("Executing search on filter bar '{0}'",this.getIdentifier())).execute())};o.prototype.iAddAdaptationFilterField=function(e){return this.filterFieldAdaptation(e,{selected:false},s.Actions.press("selectMulti"),t.formatMessage("Adding field '{1}' to filter bar '{0}'",this.getIdentifier(),e))};o.prototype.iRemoveAdaptationFilterField=function(e){return this.filterFieldAdaptation(e,{selected:true},s.Actions.press("selectMulti"),t.formatMessage("Removing field '{1}' to filter bar '{0}'",this.getIdentifier(),e))};o.prototype.iExecuteKeyboardShortcut=function(i,r){var a=r?e.createFilterFieldBuilder(this.getBuilder(),r):this.getBuilder();return this.prepareResult(a.doPressKeyboardShortcut(i).description(t.formatMessage("Execute keyboard shortcut '{1}' on filter bar '{0}' on field '{2}'",this.getIdentifier(),i,r)).execute())};o.prototype.iSaveVariant=function(e,i,r){var a=t.isOfType(e,String)?function(a){return n.create(this).hasId(a.getId()+"::VariantManagement").doSaveAs(e,i,r).description(t.formatMessage("Saving variant for '{0}' as '{1}' with default='{2}' and applyAutomatically='{3}'",this.getIdentifier(),e,!!i,!!r)).execute()}:function(e){return n.create(this).hasId(e.getId()+"::VariantManagement").doSave().description(t.formatMessage("Saving current variant for '{0}'",this.getIdentifier())).execute()};return this.prepareResult(this.getBuilder().success(a.bind(this)).execute())};o.prototype.iSelectVariant=function(e){return this.prepareResult(this.getBuilder().success(function(i){return n.create(this).hasId(i.getId()+"::VariantManagement").doSelectVariant(e).description(t.formatMessage("Selecting variant '{1}' from '{0}'",this.getIdentifier(),e)).execute()}.bind(this)).execute())};o.prototype.iSelectVisualFilter=function(e,t,i){return this.prepareResult(s.create(this).hasType("sap.fe.core.controls.filterbar.VisualFilter").hasId(new RegExp(e,"i")).success(function(e){var r=e[0];var a;var s=r.getItems()[1].getItems()[0];var n=s.isA("sap.suite.ui.microchart.InteractiveLineChart")&&s.getPoints()||s.isA("sap.suite.ui.microchart.InteractiveBarChart")&&s.getBars();n.forEach(function(e){if(e.getLabel()==t){a=e}});if(!a){a=n[0]}if(s.isA("sap.suite.ui.microchart.InteractiveLineChart")){var o=s.getSelectedPoints();return s.fireSelectionChanged({selectedPoints:o,point:a,selected:i})}else if(s.isA("sap.suite.ui.microchart.InteractiveBarChart")){var u=s.getSelectedBars();return s.fireSelectionChanged({selectedPoints:u,point:a,selected:i})}}).description("Selecting an item in "+e+" VisualFilter").execute())};o.prototype.iOpenVisualFilterValueHelp=function(e){return this.prepareResult(s.create(this).hasType("sap.fe.core.controls.filterbar.VisualFilter").hasId(new RegExp(e,"i")).success(function(e){var t=e[0].getId();s.create(this).hasType("sap.m.Button").hasId(t+"::VisualFilterValueHelpButton").doPress().execute()}).description("Open ValueHelp Dialog "+e+" VisualFilter").execute())};return o});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/FilterBarAssertions", ["./FilterBarAPI","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder","sap/ui/test/OpaBuilder","sap/fe/macros/filter/DraftEditState"],function(e,t,r,i,a){"use strict";var s=function(t,r){return e.call(this,t,r)};s.prototype=Object.create(e.prototype);s.prototype.constructor=s;s.prototype.isAction=false;s.prototype.iCheckState=function(e){var r=this.getBuilder(),i=this.getIdentifier();if(i){r.description(t.formatMessage("Checking filter bar '{0}' for state='{1}'",this.getIdentifier(),e))}return this.prepareResult(r.hasState(e).execute())};s.prototype.iCheckFilterField=function(r,i,a,s){var n=t.parseArguments([[String,Object],[String,Array,Object,Boolean],String,Object],arguments),o=e.createFilterFieldBuilder(this.getBuilder(),n[0],n[3]);if(!n[3]||n[3].visible!==false){o.hasValue(n[1],n[2])}return this.prepareResult(o.description(t.formatMessage("Checking the field '{1}' of filter bar '{0}' for condition values='{2}' and operator='{3}' and state='{4}'",this.getIdentifier(),n[0],n[1],n[2],n[3])).execute())};s.prototype.iSeeFocusOnFilterField=function(e){var r=this.getBuilder();return this.prepareResult(r.hasFocusOnFilterField(e).description(t.formatMessage("Checking focus on Filter Field '{0}' ",e)).execute())};s.prototype.iSeeFocusOnGoButton=function(){var e=this.getBuilder();return this.prepareResult(e.hasFocusOnGoButton().description(t.formatMessage("Checking focus on the Go Button' ")).execute())};s.prototype.iCheckSearchField=function(e,r){var i=t.parseArguments([String,Object],arguments),a=this.getBuilder();return this.prepareResult(a.hasSearchField(i[0],i[1]).description(t.formatMessage("Checking the search field on filter bar '{0}' having search text '{1}' and state='{2}'",this.getIdentifier(),i[0]||"",i[1])).execute())};s.prototype.iCheckEditingStatus=function(e,r){var i=t.parseArguments([String,Object],arguments),s=this.getBuilder();return this.prepareResult(s.hasEditingStatus(i[0]&&a[i[0]],i[1]).description(t.formatMessage("Checking the editing status of filter bar '{0}' for value='{1}' and state='{2}'",this.getIdentifier(),i[0]&&a[i[0]].display,i[1])).execute())};s.prototype.iCheckSearch=function(e){var r=this.getBuilder();return this.prepareResult(r.hasProperties({showGoButton:!e||e.visible===undefined?true:e.visible}).description(t.formatMessage("Checking search on filter bar '{0}' for state='{1}'",this.getIdentifier(),e)).execute())};s.prototype.iCheckFilterAdaptation=function(){var e=r.createPopoverBuilder(this.getOpaInstance(),i.Matchers.resourceBundle("title","sap.ui.mdc","filterbar.ADAPT_TITLE"));return this.prepareResult(e.description(t.formatMessage("Checking filter adaptation dialog for filter bar '{0}'",this.getIdentifier())).execute())};s.prototype.iCheckAdaptationFilterField=function(e,r){return this.filterFieldAdaptation(e,r,t.formatMessage("Checking adaptation filter field '{1}' on filter bar '{0}' for state='{2}'",this.getIdentifier(),e,r))};s.prototype.iCheckVisualFilterSelections=function(e,t){return this.prepareResult(i.create(this).hasType("sap.fe.core.controls.filterbar.VisualFilter").check(function(r){var i;for(var a=0;a<r.length;a++){if(r[a].getParent().getId().indexOf("FilterField::"+e)>-1){i=r[a];break}}var s=i.getItems()[1].getItems()[0];var n=s.isA("sap.suite.ui.microchart.InteractiveLineChart")&&s.getSelectedPoints()||s.isA("sap.suite.ui.microchart.InteractiveBarChart")&&s.getSelectedBars();var o=[];n.forEach(function(e){o.push(e.getLabel())});t.sort();o.sort();if(t.length!==o.length){return false}for(var l=0;l<t.length;l++){if(t[l]!==o[l]){return false}}return true}).description("Checking Selections of "+e+" VisualFilter").execute())};s.prototype.iCheckVisualFilterTitleAndToolTip=function(e,t,r){return this.prepareResult(i.create(this).hasType("sap.fe.core.controls.filterbar.VisualFilter").check(function(i){var a;for(var s=0;s<i.length;s++){if(i[s].getParent().getId().indexOf("FilterField::"+e)>-1){a=i[s];break}}var n=a.getItems()[0].getItems()[0].getContent()[0];var o=a.getItems()[0].getItems()[0].getContent()[1];var l=o?o.getText():" | ";return t===n.getText()+(l===" "||l===" | "?"":o.getText())&&r===n.getTooltip()}).description("Checking Title and Tooltip of "+e+" VisualFilter").execute())};s.prototype.iCheckVisualFilterValueHelp=function(e,t){return this.prepareResult(i.create(this).hasType("sap.fe.core.controls.filterbar.VisualFilter").check(function(r){var i;for(var a=0;a<r.length;a++){if(r[a].getParent().getId().indexOf("FilterField::"+e)>-1){i=r[a];break}}var s=i.getItems()[0].getItems()[0].getContent()[3];var n=s?s.getText():undefined;return s&&n===t}).description("Checking Value Help and its count of "+e+" VisualFilter").execute())};s.prototype.iCheckVisualFilterCriticality=function(e,t,r){return this.prepareResult(i.create(this).hasType("sap.fe.core.controls.filterbar.VisualFilter").check(function(i){var a;for(var s=0;s<i.length;s++){if(i[s].getParent().getId().indexOf("FilterField::"+e)>-1){a=i[s];break}}var n=a.getItems()[1].getItems()[0];var o=n.isA("sap.suite.ui.microchart.InteractiveLineChart")&&n.getPoints()||n.isA("sap.suite.ui.microchart.InteractiveBarChart")&&n.getBars();for(var l=0;l<o.length;l++){if(o[l].getLabel()===t&&o[l].getColor()===r){return true}}return false}).description("Checking Criticality of "+t+" Item").execute())};s.prototype.iCheckVisualFilterValues=function(e,t){return this.prepareResult(i.create(this).hasType("sap.fe.core.controls.filterbar.VisualFilter").check(function(r){var i;for(var a=0;a<r.length;a++){if(r[a].getParent().getId().indexOf("FilterField::"+e)>-1){i=r[a];break}}var s=i.getItems()[1].getItems()[0];var n=s.isA("sap.suite.ui.microchart.InteractiveLineChart")&&s.getPoints()||s.isA("sap.suite.ui.microchart.InteractiveBarChart")&&s.getBars();if(n.length!==t.length){return false}for(var o=0;o<n.length;o++){if(n[o].getDisplayedValue()!==t[o]){return false}}return true}).description("Checking Values of "+e+" VisualFilter").execute())};s.prototype.iCheckErrorMessageAndTitle=function(e,t,r){return this.prepareResult(i.create(this).hasType("sap.fe.core.controls.filterbar.VisualFilter").check(function(i){var a;for(var s=0;s<i.length;s++){if(i[s].getParent().getId().indexOf("FilterField::"+e)>-1){a=i[s];break}}var n=a.getItems()[1].getItems()[0];var o=n.getErrorMessage();var l=n.getErrorMessageTitle();return o===t&&l===r}).description("Checking error message and title of "+e+" VisualFilter").execute())};s.prototype.iCheckIsVisualFilterRequired=function(e){return this.prepareResult(i.create(this).hasType("sap.fe.core.controls.filterbar.VisualFilter").check(function(t){var r;for(var i=0;i<t.length;i++){if(t[i].getParent().getId().indexOf("FilterField::"+e)>-1){r=t[i];break}}var a=r.getItems()[0].getItems()[0].getContent()[0];return a.isA("sap.m.Label")&&a.getVisible()&&a.getRequired()}).description("Checking Whether "+e+" VisualFilter is Mandatory").execute())};return s});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/FooterAPI", ["./BaseAPI","sap/fe/test/Utils","sap/fe/test/builder/OverflowToolbarBuilder","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder"],function(e,r,t,o,i){"use strict";var s=function(o,i){if(!r.isOfType(o,t)){throw new Error("oOverflowToolbarBuilder parameter must be a OverflowToolbarBuilder instance")}return e.call(this,o,i)};s.prototype=Object.create(e.prototype);s.prototype.constructor=s;return s});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/FooterActionsBase", ["./FooterAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder"],function(t,e,r){"use strict";var o=function(e,r){return t.call(this,e,r)};o.prototype=Object.create(t.prototype);o.prototype.constructor=o;o.prototype.isAction=true;o.prototype.iExecuteAction=function(t){var o=this.getBuilder();return this.prepareResult(o.doOnContent(this.createActionMatcher(t),r.Actions.press()).description(e.formatMessage("Executing footer action '{0}'",t)).execute())};return o});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/FooterActionsOP", ["./FooterActionsBase","sap/fe/test/Utils","sap/ui/test/OpaBuilder"],function(t,e,n){"use strict";var r=function(e,n){return t.call(this,e,n)};r.prototype=Object.create(t.prototype);r.prototype.constructor=r;r.prototype.isAction=true;r.prototype.iExecuteSave=function(){return this.iExecuteAction({service:"StandardAction",action:"Save",unbound:true})};r.prototype.iExecuteApply=function(){return this.iExecuteAction({service:"StandardAction",action:"Apply",unbound:true})};r.prototype.iExecuteCancel=function(){return this.iExecuteAction({service:"StandardAction",action:"Cancel",unbound:true})};r.prototype.iConfirmCancel=function(){return this.prepareResult(n.create(this).hasType("sap.m.Popover").isDialogElement().doOnChildren(n.Matchers.resourceBundle("text","sap.fe.core","C_TRANSACTION_HELPER_DRAFT_DISCARD_BUTTON"),n.Actions.press()).description("Confirming discard changes").execute())};return r});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/FooterAssertionsBase", ["./FooterAPI","sap/fe/test/Utils"],function(t,e){"use strict";var r=function(e,r){return t.call(this,e,r)};r.prototype=Object.create(t.prototype);r.prototype.constructor=r;r.prototype.isAction=false;r.prototype.iCheckAction=function(t,r){var o=this.getBuilder();return this.prepareResult(o.hasContent(this.createActionMatcher(t),r).description(e.formatMessage("Checking footer action '{0}' with state='{1}'",t,r)).execute())};r.prototype.iCheckState=function(t){var r=this.getBuilder();return this.prepareResult(r.hasState(t).description(e.formatMessage("Checking footer with state='{0}'",t)).execute())};return r});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/FooterAssertionsOP", ["./FooterAssertionsBase","sap/fe/test/Utils","sap/m/library"],function(t,e,r){"use strict";var n=function(e,r){return t.call(this,e,r)};n.prototype=Object.create(t.prototype);n.prototype.constructor=n;n.prototype.isAction=false;var i=r.DraftIndicatorState;function o(t,e){return t.hasContent(function(t){return t.getMetadata().getName()==="sap.m.DraftIndicator"&&t.getState()===e}).description("Draft Indicator on footer bar is in "+e+" state").execute()}n.prototype.iCheckSave=function(t){return this.iCheckAction({service:"StandardAction",action:"Save",unbound:true},t)};n.prototype.iCheckApply=function(t){return this.iCheckAction({service:"StandardAction",action:"Apply",unbound:true},t)};n.prototype.iCheckCancel=function(t){return this.iCheckAction({service:"StandardAction",action:"Cancel",unbound:true},t)};n.prototype.iCheckDraftStateClear=function(){return this.prepareResult(o(this.getBuilder(),i.Clear))};n.prototype.iCheckDraftStateSaved=function(){return this.prepareResult(o(this.getBuilder(),i.Saved))};return n});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/FormAPI", ["./BaseAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MacroFieldBuilder","sap/base/Log"],function(e,t,r,a,i,s){"use strict";var n=function(r,i){if(!t.isOfType(r,a)){throw new Error("oFormBuilder parameter must be a FEBuilder instance")}return e.call(this,r,i)};n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype.createFieldBuilder=function(e){var t=new i(this.getOpaInstance(),this.getBuilder().build());if(e.fieldGroup){t.has(r.Matchers.children(this._getBuilderForFieldGroup(e)))}if(e.connectedFields){return t.has(r.Matchers.children(this._getBuilderForFormElement(e))).has(a.Matchers.singleElement())}else{return t.has(r.Matchers.children(this._getBuilderForFormElement(e))).has(a.Matchers.singleElement()).has(r.Matchers.children(this.createFieldMatcher(e))).has(a.Matchers.singleElement())}};n.prototype._getBuilderForFormElement=function(e){return a.create(this.getOpaInstance()).hasType("sap.ui.layout.form.FormElement").hasSome(this.createFormElementMatcher(e,"DataField"),this.createFormElementMatcher(e,"DataFieldWithNavigationPath"),this.createFormElementMatcher(e,"DataFieldWithUrl"),this.createFormElementMatcher(e,"DataFieldForAnnotation"),this.createFormElementMatcher(e,"DataFieldWithIntentBasedNavigation"))};n.prototype._getBuilderForFieldGroup=function(e){return a.create(this.getOpaInstance()).hasType("sap.ui.layout.form.FormContainer").has(this.createFieldGroupMatcher(e))};return n});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/FormActions", ["./FormAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MacroFieldBuilder","sap/fe/test/builder/OverflowToolbarBuilder"],function(e,t,r,i,s,o){"use strict";var n=function(t,r){return e.call(this,t,r)};n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype.isAction=true;function u(e,i){var s=e.getBuilder(),o,n=i?"--seeMore":"--seeLess";s.has(function(e){o=e.getId().substring(e.getId().lastIndexOf("::")+2);return true}).execute();return e.prepareResult(r.create(e).hasId(new RegExp(t.formatMessage("{0}$",n))).has(function(e){return e.getId().substring(e.getId().lastIndexOf("::")+2)===o+n}).doPress().description(t.formatMessage("Pressing '{0}' action",n)).execute())}n.prototype.iExecuteAction=function(e){var r=this.getBuilder(),i=this.getIdentifier(),s;if(i.fieldGroupId===undefined){return this.prepareResult(r.doOnSubSectionToolBar(this.createActionMatcher(e)).description(t.formatMessage("Pressing action '{1}' on form '{0}'",this.getIdentifier(),e)).execute())}else{s=i.fullSubSectionId.substring(0,i.fullSubSectionId.indexOf("--"))+"--"+i.fieldGroupId;return this.prepareResult(o.create(this).hasId(s+"::FormActionsToolbar").doOnContent(this.createActionMatcher(e)).execute())}};n.prototype.iExecuteShowMore=function(){return u(this,true)};n.prototype.iExecuteShowLess=function(){return u(this,false)};n.prototype.iClickLink=function(e){return this.prepareResult(this.createFieldBuilder(e).hasState({controlType:"sap.m.Link"}).doPress().description(t.formatMessage("Clicking link '{1}' on form '{0}'",this.getIdentifier(),e)).execute())};n.prototype.iClickObjectStatus=function(e){return this.prepareResult(this.createFieldBuilder(e).hasState({controlType:"sap.m.ObjectStatus"}).doPress().description(t.formatMessage("Clicking ObjectStatus '{1}' on form '{0}'",this.getIdentifier(),e)).execute())};n.prototype.iClickCheckBox=function(e){return this.prepareResult(this.createFieldBuilder(e).hasState({controlType:"sap.m.CheckBox"}).doPress().description(t.formatMessage("Clicking checkBox '{1}' on form '{0}'",this.getIdentifier(),e)).execute())};n.prototype.iChangeField=function(e,r){return this.prepareResult(this.createFieldBuilder(e).doEnterText(r,true,false,true).description(t.formatMessage("Entering value '{1}' into field '{2}' on form '{0}'",this.getIdentifier(),r,e)).execute())};n.prototype.iOpenValueHelp=function(e){return this.prepareResult(this.createFieldBuilder(e).hasState({visible:true}).doOpenValueHelp().description(t.formatMessage("Opening the value help for field '{1}' on form '{0}'",this.getIdentifier(),e)).execute())};return n});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/FormAssertions", ["./FormAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MacroFieldBuilder"],function(e,t,r,i,s){"use strict";var n=function(t,r){return e.call(this,t,r)};n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype.isAction=false;function o(e,r,s){var n=e.getBuilder(),o,a=r?"--seeMore":"--seeLess";n.has(function(e){o=e.getId().substring(e.getId().lastIndexOf("::")+2);return true}).execute();return e.prepareResult(i.create(e).hasId(new RegExp(t.formatMessage("{0}$",a))).has(function(e){return e.getId().substring(e.getId().lastIndexOf("::")+2)===o+a}).hasState(s).description(t.formatMessage("Checking '{0}' action with state='{1}'",a,s)).execute())}n.prototype.iCheckState=function(e){var r=this.getBuilder();return this.prepareResult(r.hasState(e).description(t.formatMessage("Checking Form '{0}'{1}",this.getIdentifier(),e?t.formatMessage(" in state '{0}'",e):"")).execute())};n.prototype.iCheckAction=function(e,r){var s=t.parseArguments([[Object,String],Object],arguments),n=this.getBuilder();return this.prepareResult(n.hasAggregation("actions",[this.createActionMatcher(e),i.Matchers.states(r)]).description(t.formatMessage("Checking custom action '{0}' with state='{1}'",s[0],s[1])).execute())};n.prototype.iCheckShowMore=function(e){return o(this,true,e)};n.prototype.iCheckShowLess=function(e){return o(this,false,e)};n.prototype.iCheckField=function(e,r,i){var s=t.parseArguments([[Object,String],[String,Array,Object],Object],arguments);return this.prepareResult(this.createFieldBuilder(e).hasValue(s[1]).hasState(s[2]).description(t.formatMessage("Checking field '{1}' on form '{0}' with value '{2}' and state='{3}'",this.getIdentifier(),s[0],s[1],s[2])).execute())};n.prototype.iCheckLink=function(e,r,i){var s=t.parseArguments([[Object,String],String,Object],arguments);return this.iCheckField(s[0],s[1],t.mergeObjects({controlType:"sap.m.Link"},s[2]))};n.prototype.iCheckFormContainersElementCount=function(e,r,i){var s=t.parseArguments([String,Number,Object],arguments),n=this.getIdentifier().fullSubSectionId,o=s[2],a=n.split("--")[0],c=n.split("--")[1].split("::")[2],u=a+"--"+"fe::FormContainer::"+s[0];return this.prepareResult(this.getBuilder().hasId(u).has(function(e){var t;if(Object.keys(o).length){t=e.getFormElements().filter(function(e){return Object.keys(o).every(function(t){return o[t]===e.getProperty(t)})})}else{t=e.getFormElements()}return t.length===r}).description(t.formatMessage("Form Container '{0}' on Form '{1}' has '{2}' Form Elements.",s[0],c,s[1])).execute())};return n});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/HeaderAPI", ["./BaseAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/OverflowToolbarBuilder","sap/fe/core/helpers/StableIdHelper"],function(e,t,a,r,n,o){"use strict";var p=function(a,n){if(!t.isOfType(a,r)){throw new Error("oHeaderBuilder parameter must be a FEBuilder instance")}return e.call(this,a,n)};p.prototype=Object.create(e.prototype);p.prototype.constructor=p;p.prototype.createOverflowToolbarBuilder=function(e){return n.create(this.getOpaInstance()).hasType("sap.m.OverflowToolbar").has(function(t){return t.getParent().getMetadata().getName()==="sap.uxap.ObjectPageDynamicHeaderTitle"&&t.getParent().getParent().getMetadata().getName()==="sap.uxap.ObjectPageLayout"&&t.getParent().getParent().getId()===e})};p.prototype.getObjectPageDynamicHeaderTitleBuilder=function(e){return a.create(this.getOpaInstance()).hasType("sap.uxap.ObjectPageDynamicHeaderTitle").has(a.Matchers.ancestor(e,true))};p.prototype.getObjectPageDynamicHeaderContentBuilder=function(e){return a.create(this.getOpaInstance()).hasId(e)};p.prototype.getObjectPageLayoutBuilder=function(e){return r.create(this.getOpaInstance()).hasType("sap.uxap.ObjectPageLayout").hasId(e)};p.prototype.getObjectPageHeaderContentContainerBuilder=function(e){return r.create(this.getOpaInstance()).hasType("sap.m.FlexBox").hasId(e)};p.prototype.getFieldGroupFieldId=function(e,t){var a="fe::HeaderFacet";a+="::Form";a+="::"+o.prepareId(e.fieldGroup);a+="::DataField";a+="::"+e.field;a+="::Field";a=o.prepareId(a);return t?t+"--"+a:a};p.prototype.getDataFieldForAnnotationId=function(e,t){var a="fe::HeaderFacet";a+="::Form";a+="::"+o.prepareId(e.fieldGroup);a+="::DataFieldForAnnotation";a+="::"+e.field;a+="::"+e.targetAnnotation;a+="::Field";a=o.prepareId(a);return t?t+"--"+a:a};p.prototype.createPaginatorBuilder=function(e,t,n){return r.create(this.getOpaInstance()).hasType("sap.uxap.ObjectPageHeaderActionButton").has(e).hasState(n).has(a.Matchers.ancestor(t,false))};return p});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/HeaderActions", ["./HeaderAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","./APIHelper"],function(e,t,r,i,n){"use strict";var o=function(t,r){this._sObjectPageLayoutId=r.id;this._sHeaderContentId=r.headerContentId;this._sHeaderContentContainerId=r.headerContentContainerId;this._sViewId=r.viewId;this._sPaginatorId=r.paginatorId;this._sBreadCrumbId=r.breadCrumbId;return e.call(this,t,r)};o.prototype=Object.create(e.prototype);o.prototype.constructor=o;o.prototype.isAction=true;o.prototype.iExecuteAction=function(e){var i=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId);return this.prepareResult(i.doOnContent(this.createActionMatcher(e),r.Actions.press()).description(t.formatMessage("Executing header action '{0}'",e)).execute())};o.prototype.iExecuteEdit=function(){return this.iExecuteAction({service:"StandardAction",action:"Edit",unbound:true})};o.prototype.iExecuteDraftAndSavedVersionSwitch=function(){return this.iExecuteAction({service:"StandardAction",action:"SwitchDraftAndActiveObject",unbound:true})};o.prototype.iExecuteDelete=function(){return this.iExecuteAction({service:"StandardAction",action:"Delete",unbound:true})};o.prototype.iExecuteRelatedApps=function(){return this.iExecuteAction({service:"fe",action:"RelatedApps",unbound:true})};o.prototype.iExecuteMenuAction=function(e){return this.prepareResult(n.createMenuActionExecutorBuilder(e).execute())};o.prototype.iExecuteSelectListAction=function(e){return this.prepareResult(n.createSelectListActionExecutorBuilder(e).execute())};o.prototype.iExecutePaginatorDown=function(){return this.prepareResult(this.createPaginatorBuilder(r.Matchers.properties({icon:"sap-icon://navigation-down-arrow"}),this._sViewId+"--"+this._sPaginatorId,{visible:true,enabled:true}).doPress().description("Paginator button Down pressed").execute())};o.prototype.iExecutePaginatorUp=function(){return this.prepareResult(this.createPaginatorBuilder(r.Matchers.properties({icon:"sap-icon://navigation-up-arrow"}),this._sViewId+"--"+this._sPaginatorId,{visible:true,enabled:true}).doPress().description("Paginator button Up pressed").execute())};o.prototype.iNavigateByBreadcrumb=function(e){return this.prepareResult(r.create(this).hasId(this._sBreadCrumbId).doOnAggregation("links",r.Matchers.properties({text:e}),r.Actions.press()).description(t.formatMessage("Navigating by breadcrumb link '{0}'",e)).execute())};o.prototype.iExecuteSaveAsTile=function(e){var i={icon:"sap-icon://action"},o=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId);return this.prepareResult(o.doOnContent(r.Matchers.properties(i),r.Actions.press()).description(t.formatMessage("Pressing header '{0}' Share button",this.getIdentifier())).success(n.createSaveAsTileExecutorBuilder(e)).execute())};o.prototype.iExecuteSendEmail=function(){var e={icon:"sap-icon://action"},i=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId);return this.prepareResult(i.doOnContent(r.Matchers.properties(e),r.Actions.press()).description(t.formatMessage("Pressing header '{0}' Share button",this.getIdentifier())).success(n.createSendEmailExecutorBuilder()).execute())};o.prototype.iClickLink=function(e){var n=this.getObjectPageHeaderContentContainerBuilder(this._sHeaderContentContainerId);return this.prepareResult(n.has(r.Matchers.children(i.create().hasType("sap.m.Link").hasProperties({text:e}))).doPress().description(t.formatMessage("Pressing link '{0}'",e)).execute())};return o});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/HeaderActionsLR", ["./HeaderLR","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","./APIHelper"],function(e,t,r,s,i){"use strict";var o=function(t,r){return e.call(this,t,r)};o.prototype=Object.create(e.prototype);o.prototype.constructor=o;o.prototype.isAction=true;o.prototype.iExecuteAction=function(e){var s=t.parseArguments([[Object,String]],arguments),i=this.createOverflowToolbarBuilder(this._sPageId);return this.prepareResult(i.doOnContent(this.createActionMatcher(e),r.Actions.press()).description(t.formatMessage("Executing custom header action '{0}'",s[0])).execute())};o.prototype.iExecuteSaveAsTile=function(e){var o="fe::Share",a=this.createOverflowToolbarBuilder(this._sPageId);return this.prepareResult(a.doOnContent(s.Matchers.id(new RegExp(t.formatMessage("{0}$",o))),r.Actions.press()).description(t.formatMessage("Pressing header '{0}' Share button",this.getIdentifier())).success(i.createSaveAsTileExecutorBuilder(e)).execute())};o.prototype.iExecuteSendEmail=function(){var e="fe::Share",o=this.createOverflowToolbarBuilder(this._sPageId);return this.prepareResult(o.doOnContent(s.Matchers.id(new RegExp(t.formatMessage("{0}$",e))),r.Actions.press()).description(t.formatMessage("Pressing header '{0}' Share button",this.getIdentifier())).success(i.createSendEmailExecutorBuilder()).execute())};return o});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/HeaderAssertions", ["./HeaderAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MacroFieldBuilder","./APIHelper"],function(e,t,i,r,a,s){"use strict";var n=function(t,i){this._sObjectPageLayoutId=i.id;this._sHeaderId=i.headerId;this._sHeaderContentId=i.headerContentId;this._sHeaderContentContainerId=i.headerContentContainerId;this._sViewId=i.viewId;this._sPaginatorId=i.paginatorId;this._sBreadCrumbId=i.breadCrumbId;return e.call(this,t,i)};n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype.isAction=false;n.prototype.iCheckAction=function(e,i){var r=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId);return this.prepareResult(r.hasContent(this.createActionMatcher(e),i).description(t.formatMessage("Checking header action '{0}' in state '{1}'",e,i)).execute())};n.prototype.iCheckEdit=function(e){return this.iCheckAction({service:"StandardAction",action:"Edit",unbound:true},e)};n.prototype.iCheckDelete=function(e){return this.iCheckAction({service:"StandardAction",action:"Delete",unbound:true},e)};n.prototype.iCheckRelatedApps=function(e){return this.iCheckAction({service:"fe",action:"RelatedApps",unbound:true},e)};n.prototype.iCheckMenuAction=function(e){return this.prepareResult(s.createMenuActionCheckBuilder(e).execute())};n.prototype.iCheckNumberOfHeaderContentItems=function(e,i){var r=this.getObjectPageDynamicHeaderContentBuilder(this._sHeaderContentId);return this.prepareResult(r.has(function(t){var r=t.getContent()[0].getItems();if(!i){r=r.filter(function(e){return e.getVisible()})}return r.length===e}).description(t.formatMessage("Checking number of header content with '{0}' items",e)).execute())};n.prototype.iCheckFieldInFieldGroup=function(e,i,r){var s=t.parseArguments([Object,[Array,String],Object],arguments),n=(e.targetAnnotation?this.getDataFieldForAnnotationId(e,this._sViewId):this.getFieldGroupFieldId(e,this._sViewId))+"-content";return this.prepareResult(a.create(this).hasId(n).hasValue(s[1]).hasState(s[2]).description(t.formatMessage("Seeing field '{0}' with value '{1}' and state='{2}'",s[0],s[1],s[2])).execute())};n.prototype.iCheckDataPoint=function(e,r){var a=this.getObjectPageDynamicHeaderContentBuilder(this._sHeaderContentId);return this.prepareResult(a.has(i.Matchers.childrenMatcher(i.Matchers.some([i.create(this).hasType("sap.m.ObjectNumber").hasProperties({number:r}).has(function(e){return e.getParent()}).hasAggregationProperties("items",{text:e}),i.create(this).hasType("sap.m.ObjectStatus").hasProperties({text:r}).has(function(e){return e.getParent()}).hasAggregationProperties("items",{text:e})]))).description(t.formatMessage("Seeing header data point '{0}' with value '{1}'",e,r)).execute())};n.prototype.iCheckTitle=function(e,t){var r=this.getObjectPageDynamicHeaderTitleBuilder(this._sObjectPageLayoutId);return this.prepareResult(r.hasConditional(e!==undefined,i.Matchers.childrenMatcher(i.create(this).hasType("sap.m.Title").hasProperties({text:e}))).hasConditional(t!==undefined,i.Matchers.childrenMatcher(i.create(this).hasType("sap.m.Label").hasProperties({text:t}))).description(!t?"Seeing Object Page header title '"+e+"'":"Seeing Object Page header title '"+e+"' and subtitle '"+t+"'").execute())};n.prototype.iCheckPaginatorDown=function(e){return this.prepareResult(this.createPaginatorBuilder(i.Matchers.properties({icon:"sap-icon://navigation-down-arrow"}),this._sViewId+"--"+this._sPaginatorId,e).description(t.formatMessage("Checking paginator down action with state='{0}'",e)).execute())};n.prototype.iCheckPaginatorUp=function(e){return this.prepareResult(this.createPaginatorBuilder(i.Matchers.properties({icon:"sap-icon://navigation-up-arrow"}),this._sViewId+"--"+this._sPaginatorId,e).description(t.formatMessage("Checking paginator up action with state='{0}'",e)).execute())};n.prototype.iCheckMicroChart=function(e,r){var a=i.create(this.getOpaInstance());if(!t.isOfType(e,String)){a.hasId(this._sViewId+"--"+this._sHeaderId+"::MicroChart::"+e.chartId+"::"+e.chartType);if(r!==undefined){a.hasAggregationProperties("_uomLabel",{text:r});a.description(t.formatMessage("Seeing Micro Chart of type '{0}' with identifier '{1}' and UoM Label '{2}'",e.chartType,e.chartId,r))}else{a.description(t.formatMessage("Seeing Micro Chart of type '{0}' with identifier '{1}'",e.chartType,e.chartId))}}else{a.hasProperties({chartTitle:e});if(r!==undefined){a.hasAggregationProperties("_uomLabel",{text:r});a.description(t.formatMessage("Seeing Micro Chart with title '{0}' and UoM Label '{1}'",e,r))}else{a.description(t.formatMessage("Seeing Micro Chart with title '{0}'",e))}}return this.prepareResult(a.execute())};n.prototype.iCheckHeaderFacet=function(e,a){var s=t.parseArguments([[Object,String],Object],arguments),n=this.getObjectPageHeaderContentContainerBuilder(this._sHeaderContentContainerId),o=new RegExp("fe::HeaderFacetContainer::"+e.facetId+"$");if(e.custom){o=new RegExp("fe::HeaderFacetCustomContainer::"+e.facetId+"$")}else if(e.collection){o=new RegExp("fe::HeaderCollectionFacetContainer::"+e.facetId+"$")}return this.prepareResult(n.has(i.Matchers.childrenMatcher(r.create(this.getOpaInstance()).hasId(o).hasState(a))).description(t.formatMessage("Checking Header Facet '{0}' with state='{1}'",s[0],s[1])).execute())};n.prototype.iCheckBreadCrumb=function(e){var i=r.create(this.getOpaInstance()).hasId(this._sBreadCrumbId);if(e!==undefined&&e.length>0){i.hasAggregationProperties("links",{text:e});i.description(t.formatMessage("Checking breadcrumb link '{0}'",e))}else if(e!==undefined&&e.length===0){i.hasAggregationLength("links",0);i.hasState({visible:true});i.description("Checking for existing but empty breadcrumbs")}else if(e===undefined){i.hasState({visible:false});i.description("Checking for non-existent breadcrumbs")}return this.prepareResult(i.execute())};n.prototype.iCheckSaveAsTile=function(e){var r=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId),a={icon:"sap-icon://action"};if(e&&e.visible===false){r.hasContent(i.Matchers.properties(a),e).description(t.formatMessage("Checking header '{0}' Share button with state='{1}'",this.getIdentifier(),e))}else{r.doOnContent(i.Matchers.properties(a),i.Actions.press()).description(t.formatMessage("Pressing header '{0}' Share button",this.getIdentifier())).success(s.createSaveAsTileCheckBuilder(e))}return this.prepareResult(r.execute())};n.prototype.iCheckSendEmail=function(e){var r=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId),a={icon:"sap-icon://action"};if(e&&e.visible===false){r.hasContent(i.Matchers.properties(a),e).description(t.formatMessage("Checking header '{0}' Share button with state='{1}'",this.getIdentifier(),e))}else{r.doOnContent(i.Matchers.properties(a),i.Actions.press()).description(t.formatMessage("Pressing header '{0}' Share button",this.getIdentifier())).success(s.createSendEmailCheckBuilder(e))}return this.prepareResult(r.execute())};n.prototype.iCheckLink=function(e,a){var s=t.parseArguments([String,Object],arguments),n=this.getObjectPageHeaderContentContainerBuilder(this._sHeaderContentContainerId);return this.prepareResult(n.has(i.Matchers.childrenMatcher(r.create().hasType("sap.m.Link").hasProperties({text:e}).hasState(s[1]))).description(t.formatMessage("Checking link '{0}' with state='{1}'",s[0],s[1])).execute())};n.prototype.iCheckNumberOfCollaboratingUsers=function(e){var a=r.create(this.getOpaInstance()).hasId(this._sObjectPageLayoutId);return this.prepareResult(a.hasChildren(r.create(this).hasType("sap.uxap.ObjectPageDynamicHeaderTitle").has(i.Matchers.children(r.create(this).hasType("sap.m.Avatar"))).has(function(t){return t&&t.length==e+1})).description(t.formatMessage("Checking number of collaborating user: {0}",e)).execute())};n.prototype.iCheckCollaboratingUser=function(e){var i=r.create(this.getOpaInstance()).hasId(this._sObjectPageLayoutId);return this.prepareResult(i.hasChildren(r.create(this).hasType("sap.uxap.ObjectPageDynamicHeaderTitle").hasChildren(r.create(this).hasType("sap.m.Avatar").hasProperties({initials:e}))).description(t.formatMessage("Checking collaborating user with initials '{0}'",e)).execute())};return n});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/HeaderAssertionsLR", ["./HeaderLR","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcFieldBuilder","./APIHelper"],function(e,t,r,s,i,a){"use strict";var o=function(t,r){return e.call(this,t,r)};o.prototype=Object.create(e.prototype);o.prototype.constructor=o;o.prototype.isAction=false;o.prototype.iCheckAction=function(e,r){var s=t.parseArguments([[Object,String],Object],arguments),i=this.createOverflowToolbarBuilder(this._sPageId);return this.prepareResult(i.hasContent(this.createActionMatcher(e),r).description(t.formatMessage("Checking custom header action '{0}' with state='{1}'",s[0],s[1])).execute())};o.prototype.iCheckSaveAsTile=function(e){var s=this.createOverflowToolbarBuilder(this._sPageId),i={icon:"sap-icon://action"};if(e&&e.visible===false){s.hasContent(r.Matchers.properties(i),e).description(t.formatMessage("Checking header '{0}' Share button with state='{1}'",this.getIdentifier(),e))}else{s.doOnContent(r.Matchers.properties(i),r.Actions.press()).description(t.formatMessage("Pressing header '{0}' Share button",this.getIdentifier())).success(a.createSaveAsTileCheckBuilder(e))}return this.prepareResult(s.execute())};o.prototype.iCheckSendEmail=function(e){var s=this.createOverflowToolbarBuilder(this._sPageId),i={icon:"sap-icon://action"};if(e&&e.visible===false){s.hasContent(r.Matchers.properties(i),e).description(t.formatMessage("Checking header '{0}' Share button with state='{1}'",this.getIdentifier(),e))}else{s.doOnContent(r.Matchers.properties(i),r.Actions.press()).description(t.formatMessage("Pressing header '{0}' Share button",this.getIdentifier())).success(a.createSendEmailCheckBuilder(e))}return this.prepareResult(s.execute())};return o});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/HeaderLR", ["./BaseAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/OverflowToolbarBuilder","sap/fe/core/helpers/StableIdHelper"],function(e,t,r,a,s,i){"use strict";var n=function(r,s){if(!t.isOfType(r,a)){throw new Error("oHeaderBuilder parameter must be a FEBuilder instance")}this._sPageId=s.id;return e.call(this,r,s)};n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype.createOverflowToolbarBuilder=function(e){return s.create(this.getOpaInstance()).hasType("sap.m.OverflowToolbar").has(function(t){return t.getParent().getMetadata().getName()==="sap.f.DynamicPageTitle"&&t.getParent().getParent().getMetadata().getName()==="sap.f.DynamicPage"&&t.getParent().getParent().getId().endsWith(e)})};return n});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/KPICardAPI", ["./BaseAPI","sap/fe/test/Utils","sap/fe/test/builder/KPIBuilder"],function(e,t,r){"use strict";var i=function(i){if(!t.isOfType(i,r)){throw new Error("oKPIBuilder parameter must be an KPIBuilder instance")}return e.call(this,i)};i.prototype=Object.create(e.prototype);i.prototype.constructor=i;return i});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/KPICardActions", ["./KPICardAPI","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder"],function(e,t,r){"use strict";var i=function(t){return e.call(this,t)};i.prototype=Object.create(e.prototype);i.prototype.constructor=i;i.prototype.isAction=true;i.prototype.iClickHeader=function(){var e=this.getBuilder();return this.prepareResult(e.doClickKPICardHeader().description("Clicking KPI card header").execute())};return i});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/KPICardAssertions", ["./KPICardAPI","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder"],function(e,t,r){"use strict";var a=function(t){return e.call(this,t)};a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.isAction=false;a.prototype.iSeeHeaderTitle=function(e){var t=this.getBuilder();var a=r.create(this).hasType("sap.m.Text").has(function(e){return e.getId().endsWith("-title")}).hasProperties({text:e});return this.prepareResult(t.doOnKPICardHeader(a,true).description("Checking card title: "+e).execute())};a.prototype.iSeeHeaderSubtitle=function(e){var t=this.getBuilder();var a=r.create(this).hasType("sap.m.Text").has(function(e){return e.getId().endsWith("-subtitle")}).hasProperties({text:e});return this.prepareResult(t.doOnKPICardHeader(a,true).description("Checking card sub-title: "+e).execute())};a.prototype.iSeeHeaderUnit=function(e){var t=this.getBuilder();var a=r.create(this).hasType("sap.m.Text").has(function(e){return e.getId().endsWith("-unitOfMeasurement")}).hasProperties({text:e});return this.prepareResult(t.doOnKPICardHeader(a,true).description("Checking card unit: "+e).execute())};a.prototype.iSeeHeaderDetails=function(e){var t=this.getBuilder();var a=r.create(this).hasType("sap.m.Text").has(function(e){return e.getId().endsWith("-details")}).hasProperties({text:e});return this.prepareResult(t.doOnKPICardHeader(a,true).description("Checking card details: "+e).execute())};a.prototype.iSeeHeaderValue=function(e,a){var i=this.getBuilder();var s=a||{};s.number=e;var n=r.create(this).hasType("sap.f.cards.NumericIndicators").hasProperties(s);var d=a?t.formatMessage("Checking card header value '{0}' in state '{1}'",e,a):t.formatMessage("Checking card header value '{0}'",e);return this.prepareResult(i.doOnKPICardHeader(n,true).description("Checking card header: "+d).execute())};a.prototype.iSeeSideIndicator=function(e,t,a){var i=this.getBuilder();var s=r.create(this).hasType("sap.f.cards.NumericIndicators").hasChildren(r.create(this).hasType("sap.f.cards.NumericSideIndicator").hasChildren(r.create(this).hasType("sap.m.Text").hasProperties({text:e})).hasChildren(r.create(this).hasType("sap.m.Text").hasProperties({text:e})).hasChildren(r.create(this).hasType("sap.m.Text").hasProperties({text:t})));return this.prepareResult(i.doOnKPICardHeader(s,true).description("Checking card side indicator: "+e+" - "+t+" - "+a).execute())};a.prototype.iSeeChart=function(e){var a=this.getBuilder();var i=e&&Object.keys(e).length?r.create(this).hasProperties(e):undefined;var s=i?t.formatMessage("Checking card chart with properties '{0}'",e):t.formatMessage("Checking card chart");return this.prepareResult(a.doOnKPICardChart(i).description(s).execute())};return a});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/TableAPI", ["./BaseAPI","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcTableBuilder","sap/ui/test/OpaBuilder","sap/ui/test/actions/Action","sap/ui/core/SortOrder","sap/ui/test/Opa5","sap/base/util/UriParameters"],function(e,t,r,i,n,s,o,a,u){"use strict";var c=function(r,n){if(!t.isOfType(r,i)){throw new Error("oTableBuilder parameter must be an TableBuilder instance")}return e.call(this,r,n)};c.prototype=Object.create(e.prototype);c.prototype.constructor=c;c.createRowMatchers=function(e,r,n,s){var o=t.parseArguments([[Object,Number],Object,[Array,Function],Array],arguments),a=[];if(t.isOfType(o[0],Object)){a.push(i.Row.Matchers.cellValues(o[0]))}else if(t.isOfType(o[0],Number)){a.push(function(e){var t=e.getParent(),r=e.sParentAggregationName;return t&&r?t.getAggregation(r).indexOf(e)===o[0]:false})}if(t.isOfType(o[1],Object)){a.push(i.Row.Matchers.states(o[1]))}if(!t.isOfType(o[3],[null,undefined])){a.push(i.Row.Matchers.emptyCells(o[3]))}if(!t.isOfType(o[2],[null,undefined])){a=a.concat(o[2])}return a};c.prototype.createGroupRowMatchers=function(e,t){return[i.Row.Matchers.visualGroup(e,t)]};c.prototype.iOpenColumnAdaptation=function(){var e=this.getBuilder();return this.prepareResult(e.doOpenColumnAdaptation().description(t.formatMessage("Opening the column adaptation dialog for '{0}' (if not open yet)",this.getIdentifier())).execute())};c.prototype.iConfirmColumnAdaptation=function(){return this.prepareResult(i.createAdaptationDialogBuilder(this.getOpaInstance()).doPressFooterButton(n.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.OK")).description(t.formatMessage("Confirming the column adaptation dialog for '{0}' (if currently open)",this.getIdentifier())).execute())};c.prototype.iOpenColumnSorting=function(){var e=this.getBuilder();return this.prepareResult(e.doOpenColumnSorting().description(t.formatMessage("Opening the column sorting dialog for '{0}' (if not open yet)",this.getIdentifier())).execute())};c.prototype.iConfirmColumnSorting=function(){return this.prepareResult(i.createSortingDialogBuilder(this.getOpaInstance()).doPressFooterButton(n.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.OK")).description(t.formatMessage("Closing the column sorting dialog for '{0}' (if currently open)",this.getIdentifier())).execute())};c.prototype.iOpenFilterDialog=function(){var e=this.getBuilder();return this.prepareResult(e.doOpenColumnFiltering().description(t.formatMessage("Opening the filter dialog for '{0}' (if not open yet)",this.getIdentifier())).execute())};c.prototype.iConfirmFilterDialog=function(){var e=new u(a.getWindow().location.search).getAll("sap-ui-xx-filterQueryPanel")[0]==="true";if(e){return this._iConfirmFilterDialogWithQueryPanel()}else{return this._iConfirmFilterDialogWithListPanel()}};c.prototype._iConfirmFilterDialogWithQueryPanel=function(){var e=this.getIdentifier(),s=i.createFilteringDialogBuilder(this.getOpaInstance()).hasChildren(n.create().hasType("sap.m.ComboBox")),o=n.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.ComboBox");return this.prepareResult(r.create(this.getOpaInstance()).success(function(){if(r.controlsExist(o)){s.doPressFooterButton(n.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.OK")).description(t.formatMessage("Closing the filter dialog for '{0}' (if currently open)",e)).execute()}}).execute())};c.prototype._iConfirmFilterDialogWithListPanel=function(){return this.prepareResult(i.createFilteringDialogBuilder(this.getOpaInstance()).doPressFooterButton(n.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.OK")).description(t.formatMessage("Closing the filter dialog for '{0}' (if currently open)",this.getIdentifier())).execute())};c.prototype.selectColumnOnFilterDialog=function(e){var s=this.getIdentifier().id,o,a=function(e){return e.startsWith("Property::")?e.split("::")[1]:e},u=r.create(this.getOpaInstance()).hasType("sap.m.ComboBox").isDialogElement(),c=i.createFilteringDialogBuilder(this.getOpaInstance()).has(n.Matchers.children(u)).has(function(e){if(e.length!==1){throw Error(t.formatMessage("Cannot open filtering dialog of table '{0}'",s))}o=e[0];return o.getItems()}),l=function(r){var i=t.isOfType(e,String)?function(t){return t.getText()===e}:function(t){return a(t.getKey())===e.name};return r.filter(i)};return this.prepareResult(c.has(l).do(function(r){if(r.length===0){throw Error(t.formatMessage("Cannot open filter field '{0}'",e))}var i=r[0],s=i.getText();n.Actions.executor(n.Actions.enterText(s,false,false,true))(o)}).execute())};c.prototype.personalization=function(i,o,a,u,c,l,p){var f=t.parseArguments([[String,Object],Object,[Function,Array,s],String,n,Function,Function],arguments),h=r.create(this.getOpaInstance()),g,d=r.create(this.getOpaInstance()).hasType("sap.m.ColumnListItem").isDialogElement();c=f[4];l=f[5];p=f[6];i=f[0];if(t.isOfType(i,String)){d.hasSome(n.Matchers.bindingProperties(e.MDC_P13N_MODEL,{label:i}),n.Matchers.bindingProperties(e.MDC_P13N_MODEL,{name:i}))}else{d.has(n.Matchers.bindingProperties(e.MDC_P13N_MODEL,{name:i.name}))}o=f[1];var m=o&&o.visible===false;if(!m&&!t.isOfType(o,[null,undefined])){d.hasState(o)}a=f[2];if(!t.isOfType(a,[null,undefined])){c.do(a)}u=f[3];return this.prepareResult(h.success(function(){g=r.controlsExist(c);if(!g){l();c.success(p)}return c.has(n.Matchers.children(d)).has(function(e){if(m){return e.length===0}return r.Matchers.atIndex(0)(e)}).description(u).execute()}).execute())};c.prototype.sortingPersonalization=function(e,i,a,u,c,l,p){var f=t.parseArguments([[String,Object],Object,[Function,Array,s],String,n,Function,Function],arguments),h=r.create(this.getOpaInstance()),g,d=r.create(this.getOpaInstance()).hasType("sap.m.CustomListItem").isDialogElement(),m=n.Matchers.childrenMatcher(n.create().hasType("sap.m.ComboBox").hasProperties({placeholder:"Sort by"})),O;c=f[4];l=f[5];p=f[6];e=f[0];if(t.isOfType(e,String)){O=n.Matchers.childrenMatcher(n.create(this.getOpaInstance()).hasType("sap.m.ComboBox").has(function(t){return t.getSelectedItem()?t.getSelectedItem().getText()===e:false}))}else{O=n.Matchers.childrenMatcher(n.create(this.getOpaInstance()).hasType("sap.m.ComboBox").hasProperties({selectedKey:e.name}))}i=f[1];var y=i&&i.visible===false;c.has(n.Matchers.children(d)).has(function(e){var t=n.Matchers.filter(O)(e);if(t.length){return t}return n.Matchers.filter(m)(e)}).has(function(e){if(y){return e.length===0}return r.Matchers.atIndex(0)(e)});if(!y&&!t.isOfType(i,[null,undefined])){if(i.sortOrder){var M=i.sortOrder;delete i.sortOrder;c.hasChildren(n.create().hasType("sap.m.SegmentedButton").has(function(e){if(M===o.None){return!e.enabled}return e.getSelectedKey()===(M===o.Ascending?"asc":"desc")}))}}a=f[2];if(!t.isOfType(a,[null,undefined])){c.do(a)}u=f[3];return this.prepareResult(h.success(function(){g=r.controlsExist(c);if(!g){l();c.success(p)}return c.description(u).execute()}).execute())};c.prototype.columnAdaptation=function(e,t,r,n){return this.personalization(e,t,r,n,i.createAdaptationDialogBuilder(this.getOpaInstance()),this.iOpenColumnAdaptation.bind(this),this.iConfirmColumnAdaptation.bind(this))};c.prototype.columnSorting=function(e,t,r,n){return this.sortingPersonalization(e,t,r,n,i.createSortingDialogBuilder(this.getOpaInstance()),this.iOpenColumnSorting.bind(this),this.iConfirmColumnSorting.bind(this))};return c});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/TableActions", ["./TableAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/ui/test/matchers/Interactable","sap/fe/test/builder/VMBuilder","sap/ui/core/SortOrder","sap/ui/core/Core","sap/fe/test/builder/MdcTableBuilder","sap/fe/test/builder/MdcFilterFieldBuilder","./APIHelper","sap/ui/test/Opa5","sap/base/util/UriParameters"],function(e,t,i,r,s,n,a,o,c,u,l,p,d){"use strict";var h=function(t,i){return e.call(this,t,i)};h.prototype=Object.create(e.prototype);h.prototype.constructor=h;h.prototype.isAction=true;h.prototype.iPressCell=function(i,r){var s=this.getBuilder();return this.prepareResult(s.checkNumberOfMatches(1).doClickOnCell(e.createRowMatchers(i),r).description(t.formatMessage("Pressing cell of table '{0}' with row value = '{1}' and column {2} = '{3}' ",this.getIdentifier(),i,isNaN(r)?"header":"index",r)).execute())};h.prototype.iSelectRows=function(i,r){var s=t.parseArguments([[Object,Number],Object],arguments),n=this.getBuilder();return this.prepareResult(n.doSelect(e.createRowMatchers(s[0],s[1])).description(t.formatMessage("Selecting rows of table '{0}' with values='{1}' and state='{2}'",this.getIdentifier(),s[0],s[1])).execute())};h.prototype.iSelectAllRows=function(){var e=this.getBuilder();return this.prepareResult(e.doSelectAll().description(t.formatMessage("Selecting all rows in table '{0}'",this.getIdentifier())).execute())};h.prototype.iPressRow=function(i){var r=this.getBuilder();return this.prepareResult(r.checkNumberOfMatches(1).doNavigate(e.createRowMatchers(i)).description(t.formatMessage("Pressing row of table '{0}' with values='{1}'",this.getIdentifier(),i)).execute())};h.prototype.iExpandGroupRow=function(e,i){var r=this.getBuilder();return this.prepareResult(r.checkNumberOfMatches(1).doExpand(this.createGroupRowMatchers(e,i)).description(t.formatMessage("Expanding group row {0} - {1} of table '{2}'",e,i,this.getIdentifier())).execute())};h.prototype.iCollapseGroupRow=function(e,i){var r=this.getBuilder();return this.prepareResult(r.checkNumberOfMatches(1).doCollapse(this.createGroupRowMatchers(e,i)).description(t.formatMessage("Collapsing group row {0} - {1} of table '{2}'",e,i,this.getIdentifier())).execute())};h.prototype.iScroll=function(e){var i=this.getBuilder();return this.prepareResult(i.checkNumberOfMatches(1).doScroll(e).description(t.formatMessage("Scrolling the table '{0}' '{1}'",this.getIdentifier(),e)).execute())};h.prototype.iPressMore=function(){var e=this.getBuilder();return this.prepareResult(e.checkNumberOfMatches(1).doPressMore().description(t.formatMessage("Press more")).execute())};h.prototype.iChangeRow=function(i,r,s){var n=this.getBuilder(),a=false;if(arguments.length===1){a=true;r=i}if(!a){n.checkNumberOfMatches(1).doEditValues(e.createRowMatchers(i),r,s)}else{n.checkNumberOfMatches(1).doEditCreationRowValues(r,s)}return this.prepareResult(n.description(t.formatMessage("Changing row values of table '{0}' with old values='{1}' to new values='{2}'",this.getIdentifier(),a?"<CreationRow>":i,r)).execute())};h.prototype.iExecuteAction=function(e){var i=t.parseArguments([[Object,String]],arguments),r=this.getBuilder();return this.prepareResult(r.doExecuteAction(this.createActionMatcher(e)).description(t.formatMessage("Executing table action '{0}'",i[0])).execute())};h.prototype.iExecuteMenuAction=function(e){return this.prepareResult(l.createMenuActionExecutorBuilder(e).execute())};h.prototype.iExecuteShowHideDetails=function(e){var i=this.getBuilder();return this.prepareResult(i.doShowHideDetails(e).description(t.formatMessage("Executing the Show/Hide Details action for '{0}'{1}",this.getIdentifier(),e!==undefined?" enforcing 'Show Details' = "+e:"")).execute())};h.prototype.iExecuteDelete=function(){var e=this.getBuilder(),i="::StandardAction::Delete";return this.prepareResult(e.doExecuteAction(r.Matchers.id(new RegExp(t.formatMessage("{0}$",i)))).description(t.formatMessage("Pressing delete action of table '{0}'",this.getIdentifier())).execute())};h.prototype.iSelectQuickFilterItem=function(e){var r;if(t.isOfType(e,String)){r={text:e}}else if(t.isOfType(e,Object)){r={key:e.annotationPath}}return this.prepareResult(this.getBuilder().doSelectQuickFilter(i.Matchers.properties(r)).description(t.formatMessage("Selecting on table '{0}' quickFilter Item  with text '{1}'",this.getIdentifier(),e)).execute())};h.prototype.iExecuteCreate=function(){var e=this.getBuilder(),i="::StandardAction::Create";return this.prepareResult(e.doExecuteAction(r.Matchers.id(new RegExp(t.formatMessage("{0}$",i)))).description(t.formatMessage("Pressing create action of table '{0}'",this.getIdentifier())).execute())};h.prototype.iExecuteFullScreen=function(){var e=this.getBuilder(),i="::StandardAction::FullScreen";return this.prepareResult(e.doExecuteAction(r.Matchers.id(new RegExp(t.formatMessage("{0}$",i)))).description(t.formatMessage("Pressing fullscreen action of table '{0}'",this.getIdentifier())).execute())};h.prototype.iExecuteInlineCreate=function(){var e=this.getBuilder();return this.prepareResult(e.doOnChildren(i.create(this).hasType("sap.ui.table.CreationRow").has(r.Matchers.bound()).checkNumberOfMatches(1).doPress("applyBtn")).description(t.formatMessage("Pressing inline create action of table '{0}'",this.getIdentifier())).execute())};h.prototype.iExecuteInlineAction=function(i,r){var s=t.parseArguments([[Object,Number],[String,Number]],arguments),n=this.getBuilder();return this.prepareResult(n.checkNumberOfMatches(1).doExecuteInlineAction(e.createRowMatchers(s[0]),s[1]).description(t.formatMessage("Pressing inline action of table '{0}' for row '{1}' and action "+(t.isOfType(s[1],Number)?"with column index '{2}'":"'{2}'"),this.getIdentifier(),s[0],s[1])).execute())};h.prototype.iExecuteKeyboardShortcut=function(e,i,r){return this.prepareResult(this.getBuilder().doPressKeyboardShortcut(e,i,r).description(t.formatMessage(i&&r?"Execute keyboard shortcut '{1}' on column '{3}' of row with values '{2}' of table '{0}'":"Execute keyboard shortcut '{1}' on table '{0}'",this.getIdentifier(),e,i,r)).execute())};h.prototype.iSaveVariant=function(e){var i=t.isOfType(e,String)?function(i){return n.create(this).hasId(i.getId?i.getId()+"::VM":i[0].getId()+"::VM").doSaveAs(e).description(t.formatMessage("Saving variant for '{0}' as '{1}'",this.getIdentifier(),e)).execute()}:function(e){return n.create(this).hasId(e.getId?e.getId()+"::VM":e[0].getId()+"::VM").doSave().description(t.formatMessage("Saving current variant for '{0}'",this.getIdentifier())).execute()};return this.prepareResult(this.getBuilder().success(i.bind(this)).execute())};h.prototype.iRemoveVariant=function(e){return this.prepareResult(this.getBuilder().success(function(i){return n.create(this).hasId(i.getId()+"::VM").doRemoveVariant(e).description(t.formatMessage("Removing variant '{1}' for '{0}'",this.getIdentifier(),e)).execute()}.bind(this)).execute())};h.prototype.iSelectVariant=function(e){return this.prepareResult(this.getBuilder().success(function(i){return n.create(this).hasId(i.getId()+"::VM").doSelectVariant(e).description(t.formatMessage("Selecting variant '{1}' for '{0}'",this.getIdentifier(),e)).execute()}.bind(this)).execute())};h.prototype.iSetDefaultVariant=function(e){return this.prepareResult(this.getBuilder().success(function(i){return e?n.create(this).hasId(i.getId?i.getId()+"::VM":i[0].getId()+"::VM").doSetVariantAsDefault(e).description(t.formatMessage("Setting variant '{1}' as default for '{0}'",this.getIdentifier(),e)).execute():n.create(this).hasId(i.getId?i.getId()+"::VM":i[0].getId()+"::VM").doResetDefaultVariant().description(t.formatMessage("Setting Standard variant as default for '{0}'",this.getIdentifier())).execute()}.bind(this)).execute())};h.prototype.iAddAdaptationColumn=function(e){return this.columnAdaptation(e,{selected:false},i.Actions.press("selectMulti"),t.formatMessage("Adding column '{1}' to table '{0}'",this.getIdentifier(),e))};h.prototype.iRemoveAdaptationColumn=function(e){return this.columnAdaptation(e,{selected:true},i.Actions.press("selectMulti"),t.formatMessage("Removing column '{1}' from table '{0}'",this.getIdentifier(),e))};h.prototype.iChangeSortOrder=function(e,r){var s=this.getOpaInstance(),n=[],o=function(r){var n=i.create(s).hasType("sap.m.ComboBox"),a=i.Matchers.children(n)(r),o=t.isOfType(e,String)?function(t){return t.getText()===e}:function(t){return t.getKey()===e.name};return i.Actions.executor(function(i){var r=i.getItems().find(o);if(!r){throw Error(t.formatMessage("can not find sort item '{0}'",e))}i.setSelectedItem(r);i.fireChange({selectedItem:r})})(a)},c=function(e){var t=r===a.None?"sap-icon://decline":"sap-icon://sort-"+(r===a.Ascending?"ascending":"descending"),n=i.create(s).hasType("sap.m.Button").hasProperties({icon:t});var o=i.Matchers.children(n)(e);return i.Actions.executor(i.Actions.press())(o)};r=r||a.Ascending;switch(r){case a.Ascending:case a.Descending:n.push(o);n.push(c);break;case a.None:n.push(c);break;default:throw new Error("unhandled switch case: "+r)}return this.columnSorting(e,undefined,n,t.formatMessage("Setting sort of '{1}' from table '{0}' to '{2}'",this.getIdentifier(),e,r))};h.prototype.iSortByColumn=function(e,i,r){var s=this.getBuilder(),n=t.isOfType(e,Object)?e.name:e;return this.prepareResult(s.doSortByColumn(n,i,r).description(t.formatMessage("Sorting column '{1}{2}' of table '{0}'",this.getIdentifier(),e,i?"/"+i:"")).execute())};h.prototype.iGroupByColumn=function(e,i){var r=this.getBuilder(),s=t.isOfType(e,Object)?e.name:e;return this.prepareResult(r.doGroupByColumn(s,i).description(t.formatMessage("Grouping column '{1}{2}' of table '{0}'",this.getIdentifier(),e,i?"/"+i:"")).execute())};h.prototype.iAggregateByColumn=function(e,i){var r=this.getBuilder(),s=t.isOfType(e,Object)?e.name:e;return this.prepareResult(r.doAggregateByColumn(s,i).description(t.formatMessage("Aggregating column '{1}{2}' of table '{0}'",this.getIdentifier(),e,i?"/"+i:"")).execute())};h.prototype.iChangeSearchField=function(e){return this.prepareResult(this.getBuilder().doChangeSearch(e).description(t.formatMessage("Changing the search text on table '{0}' to '{1}'",this.getIdentifier(),e||"")).execute())};h.prototype.iResetSearchField=function(){return this.prepareResult(this.getBuilder().doResetSearch().description(t.formatMessage("Resetting the search field on table '{0}'",this.getIdentifier())).execute())};h.prototype.iChangeFilterField=function(e,t,i){var r=new d(p.getWindow().location.search).getAll("sap-ui-xx-filterQueryPanel")[0]==="true";if(r){return this._iChangeFilterFieldOnQueryPanel(e,t,i)}else{return this._iChangeFilterFieldOnListPanel(e,t,i)}};h.prototype._iChangeFilterFieldOnQueryPanel=function(e,s,n){var a=this,o=false,l=this.getIdentifier().id,p=function(e){return e.startsWith("Property::")?e.split("::")[1]:e},d=c.createFilteringDialogBuilder(this.getOpaInstance()).hasChildren(i.create().hasType("sap.m.ComboBox")),h=u.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.FilterField").has(function(i){if(t.isOfType(e,String)){return i.getLabel()===e}else{return p(i.getFieldPath())===e.name}}).description(t.formatMessage("Changing the filter field '{0}' of table '{1}' by adding '{2}' (was cleared first: {3})",e,l,s,n?n:false));return this.prepareResult(r.create(this.getOpaInstance()).success(function(){if(!r.controlsExist(d)){a.iOpenFilterDialog.bind(a)();o=true}return d.do(function(){if(!r.controlsExist(h)){a.selectColumnOnFilterDialog.bind(a,e)()}}).do(function(){h.doChangeValue(s,n).success(function(){if(o){a.iConfirmFilterDialog.bind(a)()}}).execute()}).execute()}).execute())};h.prototype._iChangeFilterFieldOnListPanel=function(e,s,n){var a=u.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.FilterField").hasConditional(t.isOfType(e,String),i.Matchers.properties({label:e}),i.Matchers.properties({fieldPath:e.name})).checkNumberOfMatches(1),o,c=t.formatMessage("Changing the filter field '{0}' of table '{1}' by adding '{2}' (was cleared first: {3})",e,this.getIdentifier(),s,n),l=this.iOpenFilterDialog.bind(this),p=this.iConfirmFilterDialog.bind(this);return this.prepareResult(r.create(this.getOpaInstance()).success(function(){o=r.controlsExist(a);if(!o){l();a.success(p)}return a.doChangeValue(s,n).description(c).execute()}).execute())};h.prototype.iOpenValueHelpOfFilterField=function(e){var s=this,n=this.getIdentifier().id,a=t.isOfType(e,String)?e:e.name,o,l=r.create(this.getOpaInstance()).hasType("sap.m.ComboBox").isDialogElement(),p=c.createFilteringDialogBuilder(this.getOpaInstance()).has(i.Matchers.children(l)).has(function(e){if(e.length!==1){throw Error(t.formatMessage("Cannot open filtering dialog of table '{0}'",n))}o=e[0];return o.getItems()}),d=function(e){var t=function(e){return e.getText()===a};return e.filter(t)},h=u.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.FilterField").has(function(e){return e.getId().split("::").pop()===a}),g=i.create(s.getOpaInstance()).hasId(n+"::AdaptationFilterField::"+a+"-inner-vhi").doPress().description("Opening value help for '"+e+"' from within a dialog");return this.prepareResult(r.create(this.getOpaInstance()).success(function(){if(!r.controlsExist(h)){return p.has(d).do(function(r){if(r.length===0){throw Error(t.formatMessage("Cannot open filter field '{0}'",e))}var s=r[0],n=s.getText();i.Actions.executor(i.Actions.enterText(n,false,false,true))(o)}).success(function(){return g.execute()}).execute()}else{return g.execute()}}).execute())};h.prototype.iPasteData=function(e){return this.prepareResult(this.getBuilder().doPasteData(e).description(t.formatMessage("Pasting {0} rows into table '{1}'",e.length,this.getIdentifier())).execute())};h.prototype.iClickOnMessageStripFilter=function(){return this.getBuilder().doClickOnMessageStripFilter().execute()};return h});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/api/TableAssertions", ["./TableAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MdcTableBuilder","sap/fe/test/builder/MdcFilterFieldBuilder","sap/ui/core/SortOrder","./APIHelper","sap/ui/test/Opa5","sap/base/util/UriParameters"],function(e,t,i,r,n,s,a,o,c,u){"use strict";var h=function(t,i){return e.call(this,t,i)};h.prototype=Object.create(e.prototype);h.prototype.constructor=h;h.prototype.isAction=false;h.prototype.iCheckState=function(e){var i=this.getBuilder();return this.prepareResult(i.hasState(e).description(t.formatMessage("Checking table '{0}' in state '{1}'",this.getIdentifier(),e)).execute())};h.prototype.iCheckRows=function(i,r,n,s){var a=t.parseArguments([Object,Number,Object,Array],arguments),o=a[1],c=e.createRowMatchers(a[0],a[2],undefined,a[3]),u=this.getBuilder();if(c.length){u.hasRows(c,true).has(function(e){return t.isOfType(o,Number)?e.length===o:e.length>0})}else{u.hasNumberOfRows(o).hasRows(null,true)}return this.prepareResult(u.description(t.formatMessage("Checking table '{0}' having {1} rows with values='{2}', state='{3}' and empty columns='{4}'",this.getIdentifier(),o===undefined?"> 0":o,a[0],a[2],a[3])).execute())};h.prototype.iCheckCreationRow=function(e,s){var a=this.getBuilder();return this.prepareResult(a.has(i.Matchers.childrenMatcher(r.create(this).hasType("sap.ui.table.CreationRow").has(n.Row.Matchers.cellValues(e)).hasState(s))).description(t.formatMessage("Checking table '{0}' having a CreationRow with values='{1}' and state='{2}'",this.getIdentifier(),e,s)).execute())};h.prototype.iCheckQuickFilterItems=function(e){return this.prepareResult(this.getBuilder().hasQuickFilterItems(e).description(t.formatMessage("Checking table '{0}' having  '{1}' item(s)",this.getIdentifier(),e)).execute())};h.prototype.iCheckColumns=function(e,i){var r=t.parseArguments([Number,Object],arguments),n=r[1],s=r[0],a=this.getBuilder();if(s!==undefined){a.hasAggregationLength("columns",s)}else{a.hasAggregation("columns")}a.hasColumns(n);return this.prepareResult(a.description(t.formatMessage("Checking table '{0}' having {1} columns and column states='{2}'",this.getIdentifier(),s===undefined?"> 0":s,n)).execute())};h.prototype.iCheckCells=function(i,r){var s=arguments.length>1?arguments[0]:undefined,a=arguments.length>1?arguments[1]:arguments[0],o=e.createRowMatchers(s,n.Row.Matchers.cellProperties(a)),c=this.getBuilder();return this.prepareResult(c.hasRows(o).description(t.formatMessage("Checking table '{0}' having cells properties '{2}' of rows with values '{1}'",this.getIdentifier(),s,a)).execute())};h.prototype.iCheckAction=function(e,n){var s=this.getBuilder(),a=this.createActionMatcher(e),o=r.Matchers.deepAggregationMatcher("actions/action",[a,r.Matchers.states(n)]);if(n&&n.visible===false){o=i.Matchers.some(o,i.Matchers.not(r.Matchers.deepAggregationMatcher("actions/action",a)))}return this.prepareResult(s.has(o).description(t.formatMessage("Checking table '{0}' having action '{1}' with state='{2}'",this.getIdentifier(),e.service==="StandardAction"?e.action:e,n)).execute())};h.prototype.iCheckMenuAction=function(e){return this.prepareResult(o.createMenuActionCheckBuilder(e).execute())};h.prototype.iCheckDelete=function(e){return this.iCheckAction({service:"StandardAction",action:"Delete",unbound:true},e)};h.prototype.iCheckSearchField=function(e,i){var r=t.parseArguments([String,Object],arguments),n=this.getBuilder();return this.prepareResult(n.hasSearchField(e,i).description(t.formatMessage("Checking the search field on table '{0}' having search text '{1}' and state='{2}'",this.getIdentifier(),r[0]||"",r[1])).execute())};h.prototype.iCheckCreate=function(e){return this.iCheckAction({service:"StandardAction",action:"Create",unbound:true},e)};h.prototype.iCheckPaste=function(){return this._iCheckTableProvidedAction("Paste")};h.prototype.iCheckFullScreen=function(e){return this.iCheckAction({service:"StandardAction",action:"FullScreen",unbound:true},e)};h.prototype._iCheckTableProvidedAction=function(e){var i=this.getBuilder();return this.prepareResult(i["has"+e]().description(t.formatMessage("Checking table '{0}' having button available for '{1}'",this.getIdentifier(),e)).execute())};h.prototype.iCheckColumnAdaptation=function(){return this._iCheckTableProvidedAction("ColumnAdaptation")};h.prototype.iCheckColumnSorting=function(){this.iOpenColumnSorting();n.createSortingDialogBuilder(this.getOpaInstance()).execute();return this.iConfirmColumnSorting()};h.prototype.iCheckColumnFiltering=function(){this.iOpenFilterDialog();n.createFilteringDialogBuilder(this.getOpaInstance()).execute();return this.iConfirmFilterDialog()};h.prototype.iCheckExport=function(){return this._iCheckTableProvidedAction("ColumnExport")};h.prototype.iCheckQuickFilter=function(e){var i=this.getBuilder();var n=r.Matchers.deepAggregationMatcher("quickFilter/selector",[[r.Matchers.states(e)]]);return this.prepareResult(i.has(n).description(t.formatMessage("Checking that table '{0}' has a QuickFilter Control with state='{1}'",this.getIdentifier(),e)).execute())};h.prototype.iCheckColumnAdaptationDialog=function(){var e=n.createAdaptationDialogBuilder(this.getOpaInstance());return this.prepareResult(e.description(t.formatMessage("Checking column adaptation dialog for table '{0}'",this.getIdentifier())).execute())};h.prototype.iCheckAdaptationColumn=function(e,i){return this.columnAdaptation(e,i,undefined,t.formatMessage("Checking adaptation column '{1}' on table '{0}' for state='{2}'",this.getIdentifier(),e,i))};h.prototype.iCheckSortOrder=function(e,i,r){var n=t.parseArguments([[String,Object],String,Boolean],arguments);i=n[1]||a.Ascending;r=n[2];var s=t.formatMessage("Checking column '{1}' on table '{0}' to be sorted '{2}'",this.getIdentifier(),e,i);if(r){var o={};o.sortOrder=i;return this.columnSorting(e,o,undefined,s)}var c={};c[t.isOfType(e,Object)?e.name:e]={sortOrder:i};return this.prepareResult(this.getBuilder().hasColumns(c).description(s).execute())};h.prototype.iCheckFilterField=function(e,t){var i=new u(c.getWindow().location.search).getAll("sap-ui-xx-filterQueryPanel")[0]==="true";if(i){return this._iCheckFilterFieldOnQueryPanel(e,t)}else{return this._iCheckFilterFieldOnListPanel(e,t)}};h.prototype._iCheckFilterFieldOnQueryPanel=function(e,a){var o=this,c=false,u=false,h=this.getIdentifier().id,l=function(e){return e.startsWith("Property::")?e.split("::")[1]:e},p=n.createFilteringDialogBuilder(this.getOpaInstance()).hasChildren(i.create().hasType("sap.m.ComboBox")),g=s.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.FilterField"),d=s.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.FilterField").has(function(i){if(!u){if(t.isOfType(e,String)){u=i.getLabel()===e}else{u=l(i.getFieldPath())===e.name}}return true}).description(t.formatMessage("Checking the filter field '{0}' of table '{1}' in state '{2}'",e,h,a)),f=r.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.ComboBox").has(function(e){return e.getItems()}).description(t.formatMessage("Checking the filter field '{0}' of table '{1}' in state '{2}'",e,h,a)),C=t.isOfType(e,String)?function(t){return t.getText()===e}:function(t){return l(t.getKey())===e.name},m=function(e){return e.filter(C).length===1||u},b=function(e){return e[0].every(function(e){return i.Matchers.not(C)(e)})};if(a&&a.visible===false){f.check(b)}else{f.has(m)}return this.prepareResult(r.create(this.getOpaInstance()).success(function(){if(!r.controlsExist(p)){o.iOpenFilterDialog.bind(o)();c=true}}).success(function(){if(r.controlsExist(g)){return d.success(function(){if(c){o.iConfirmFilterDialog.bind(o)()}if(u&&a.visible===false){throw new Error(t.formatMessage("Set Filter Field '{0}' found on table '{1}' even though state should be: '{2}'",e,h,a))}}).execute()}return true}).success(function(){f.success(function(){if(c){o.iConfirmFilterDialog.bind(o)()}}).execute()}).execute())};h.prototype._iCheckFilterFieldOnListPanel=function(e,n){var a=s.create(this.getOpaInstance()).isDialogElement().hasType("sap.ui.mdc.FilterField").description(t.formatMessage("Checking the filter field '{0}' of table '{1}' in state '{2}'",e,this.getIdentifier(),n)),o=t.isOfType(e,String)?i.Matchers.properties({label:e}):i.Matchers.properties({fieldPath:e.name}),c,u=n&&n.visible===false,h=this.iOpenFilterDialog.bind(this),l=this.iConfirmFilterDialog.bind(this);if(u){a.check(function(e){return e.every(function(e){return i.Matchers.not(o)(e)})})}else{a.has(o).checkNumberOfMatches(1);if(!t.isOfType(n,[null,undefined])){a.hasState(n)}}return this.prepareResult(r.create(this.getOpaInstance()).success(function(){c=r.controlsExist(a);if(!c){h();a.success(l)}return a.execute()}).execute())};h.prototype.iCheckMessageStrip=function(e){var n=this.getBuilder();return this.prepareResult(n.has(i.Matchers.childrenMatcher(r.create(this).hasType("sap.m.MessageStrip").hasProperties(e))).description(t.formatMessage("Checking table '{0}' having a MessageStrip with text ='{1}' and type ='{2}'",this.getIdentifier(),e.text,e.type)).execute())};h.prototype.iSeeFocusOnHeader=function(){var e=this.getBuilder();return this.prepareResult(e.hasHeaderFocused().description(t.formatMessage("Checking focus on header table '{0}' ",this.getIdentifier())).execute())};h.prototype.iSeeFocusOnRow=function(e){var i=this.getBuilder();return this.prepareResult(i.hasFocusOnRow(e).description(t.formatMessage("Checking focus on table '{0}', row '{1}' ",this.getIdentifier(),e)).execute())};h.prototype.iCheckGroupByColumn=function(e,i,r){var n=this.getBuilder(),s=t.isOfType(e,Object)?e.name:e;return this.prepareResult(n.hasGroupByColumn(s,r,i).description(t.formatMessage("Checking table '{0}' having {1} groupBy options for {2}{3}",this.getIdentifier(),i===undefined?"any":i,e,r?"/"+r:"")).execute())};h.prototype.iCheckAggregationColumn=function(e,i,r){var n=this.getBuilder(),s=t.isOfType(e,Object)?e.name:e;return this.prepareResult(n.hasAggregationColumn(s,r,i).description(t.formatMessage("Checking table '{0}' having {1} aggregate options for {2}{3}",this.getIdentifier(),i===undefined?"any":i,e,r?"/"+r:"")).execute())};h.prototype.iCheckTitle=function(e){var i=this.getBuilder();return this.prepareResult(i.hasTitle(e).description(t.formatMessage("Checking table '{0}' has title '{1}'",this.getIdentifier(),e)).execute())};return h});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/builder/DialogBuilder", ["./FEBuilder","./OverflowToolbarBuilder","sap/ui/test/OpaBuilder","sap/fe/test/Utils"],function(t,e,r,o){"use strict";function n(t){return Array.isArray(t)&&t.sort(function(t,e){return Number.parseInt(t.$().css("z-index"),10)-Number.parseInt(e.$().css("z-index"),10)}).pop()}var a=function(){var e=t.create().isDialogElement().hasType("sap.m.Dialog");return t.apply(this,arguments).options(e.build()).has(function(r){return n(t.getControls(e))===r})};a.create=function(t,e){return new a(t,e)};a.prototype=Object.create(t.prototype);a.prototype.constructor=a;a.prototype.hasContent=function(e,o){this.has(o?r.Matchers.aggregation("content",e):r.Matchers.aggregationMatcher("content",e));if(o){return this.has(t.Matchers.atIndex(0))}return this};a.prototype.hasHeaderButton=function(e,o){return this.has(r.Matchers.aggregation("customHeader")).has(t.Matchers.atIndex(0)).hasSome(r.Matchers.aggregation("contentLeft",e),r.Matchers.aggregation("contentMiddle",e),r.Matchers.aggregation("contentRight",e)).has(t.Matchers.atIndex(0)).hasState(o)};a.prototype.hasFooterButton=function(e,n){return this.doOpenFooterOverflow().success(function(a){if(Array.isArray(a)){if(a.length!==1){throw new Error(o.formatMessage("no single dialog found: {0}",a))}a=a[0]}return t.create().hasId(a.getId()).has(r.Matchers.aggregation("buttons",e)).has(t.Matchers.atIndex(0)).hasState(n).execute()})};a.prototype.doPressHeaderButton=function(e){return this.has(r.Matchers.aggregation("customHeader")).has(t.Matchers.atIndex(0)).hasSome(r.Matchers.aggregation("contentLeft",e),r.Matchers.aggregation("contentMiddle",e),r.Matchers.aggregation("contentRight",e)).has(t.Matchers.atIndex(0)).doPress()};a.prototype.doOpenFooterOverflow=function(){return e.openOverflow(this,"footer")};a.prototype.doPressFooterButton=function(t){return this.doOpenFooterOverflow().success(function(e){if(Array.isArray(e)){if(e.length!==1){throw new Error(o.formatMessage("no single dialog found: {0}",e))}e=e[0]}return r.create().hasId(e.getId()).has(r.Matchers.aggregation("buttons",t)).doPress().execute()})};return a});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/builder/FEBuilder", ["sap/ui/test/OpaBuilder","sap/fe/test/Utils","sap/ui/test/Opa5","sap/ui/test/matchers/Matcher","sap/ui/core/util/ShortcutHelper","sap/base/util/deepEqual","sap/ui/test/matchers/Interactable"],function(t,e,r,n,a,u,i){"use strict";var o=function(){return t.apply(this,arguments)};var s={focused:function(e){var r=t.Matchers.focused(true);return e?r:t.Matchers.not(r)},controlType:function(t){return function(e){return e&&e.isA(t)}},content:function(t){return function(r){if(!r){return false}var n=r.getMetadata().getDefaultAggregationName()||"content",a=e.getAggregation(r,n);if(!a){return false}if(!Array.isArray(a)){a=[a]}return a.some(function(e){return o.Matchers.states(t)(e)})}},p13nMode:function(t){if(!Array.isArray(t)){t=[]}t.sort();return function(e){var r=e.getP13nMode();if(!Array.isArray(r)){r=[]}r.sort();return u(t,r)}},label:function(e){return function(r){if(r.getMetadata().getProperty("label")){return t.Matchers.match(t.Matchers.properties({label:e}))(r)}return o.Matchers.label(e)(r)}}};o.create=function(t){return new o(t)};o.prototype=Object.create(t.prototype);o.prototype.constructor=o;o.prototype.getStatesMatcher=function(t){return o.Matchers.states(t)};o.prototype.hasState=function(t){if(!t){return this}if(t.visible===false){this.mustBeVisible(false);this.mustBeEnabled(false)}if(t.enabled===false){this.mustBeEnabled(false)}return this.has(this.getStatesMatcher(t))};o.prototype.doPressKeyboardShortcut=function(t){return this.do(o.Actions.keyboardShortcut(t))};o.prototype.doOnSubSectionToolBar=function(e,r){var n=o.Matchers.deepAggregation("actions",e),a=function(t){return t.getAggregation("_button")?t.getAggregation("_button").getAggregation("_textButton"):null};return this.do(function(e){var u=n(e)[0],i=u.getMetadata().getName()==="sap.m.MenuButton"?a(u)||u:u;t.Actions.executor(r||t.Actions.press())(i)})};o.prototype.doOnAggregation=function(e,r,n){if(arguments.length<3){n=r;r=undefined}var a=o.Matchers.deepAggregation(e,r);return this.do(function(e){t.Actions.executor(n)(a(e))})};o.getControls=function(e,n){var a=e.build(),u=r.getPlugin().getMatchingControls(a),i=t.Matchers.filter(a.matchers)(u);if(n){if(i.length>1){throw new Error("found ambiguous results")}return i.length?i[0]:null}return i};o.controlsExist=function(t){return!!o.getControls(t).length};o.createClosePopoverBuilder=function(e,r,n){return t.create(e).success(function(){var a=false,u=function(){a=true},i=o.createPopoverBuilder(e,r);if(n||o.controlsExist(i)){return i.do(function(t){t.attachEventOnce("afterClose",u);t.close()}).success(t.create(e).check(function(){return a})).execute()}})};o.createPopoverBuilder=function(e,r){var n=t.create(e).hasType("sap.m.Popover").isDialogElement(true).has(function(t){return t.isOpen()}).checkNumberOfMatches(1);if(r){n.has(r||[])}return n};o.createMessageToastBuilder=function(e){return t.create().check(function(){var t=r.getWindow();return t.sapFEStubs&&t.sapFEStubs.getLastToastMessage&&t.sapFEStubs.getLastToastMessage()===e}).description("Toast message '"+e+"' was displayed")};o.Matchers={FOCUSED_ELEMENT:function(){var t=r.getWindow().sap.ui.getCore(),e=t.getCurrentFocusedControlId();if(e){return t.byId(e)}return null},state:function(r,n){if(r in s){return s[r](n)}return function(a){var u=a.getMetadata(),i=u.hasAggregation(r)&&u.getAggregation(r).multiple?e.getAggregation(a,r):null;if(!i){var s={};s[r]=n;return o.Matchers.match(t.Matchers.properties(s))(a)}if(!Array.isArray(i)){i=[i]}if(!Array.isArray(n)){if(e.isOfType(n,Number)){return i.length===n}return i.some(function(t){return o.Matchers.states(n)(t)})}return n.length===i.length&&i.every(function(t,e){return o.Matchers.states(n[e])(t)})}},states:function(r,n){if(!e.isOfType(r,Object)){return t.Matchers.TRUE}if(!e.isOfType(n,Function)){n=o.Matchers.state}return o.Matchers.match(Object.keys(r).map(function(t){return n(t,r[t])}))},match:function(e){var r=t.Matchers.match(e);return function(t){return!!r(t)}},bound:function(){return function(t){return t&&!!t.getBindingContext()}},allMatch:function(e){var r=t.Matchers.filter(e);return function(t){var e=t&&t.length||0;return e===r(t).length}},someMatch:function(e){var r=t.Matchers.filter(e);return function(t){return r(t).length>0}},id:function(t){return function(r){if(e.isOfType(t,String)){return r.getId()===t}else{return t.test(r.getId())}}},type:function(t){return function(r){if(e.isOfType(t,String)){return r.getMetadata().getName()===t}else{return t.test(r.getMetadata().getName())}}},atIndex:function(t){return function(r){if(e.isOfType(r,[null,undefined])){return null}r=[].concat(r);return r.length>t?r[t]:null}},singleElement:function(){return function(t){if(!Array.isArray(t)){t=[t]}if(t.length!==1){return false}return t[0]}},label:function(e){return t.Matchers.some(function(t){var r=t.getId&&t.getId();return r&&o.controlsExist(o.create().hasType("sap.m.Label").hasProperties({text:e,labelFor:r}))},function(t){var n=t.getAriaLabelledBy&&t.getAriaLabelledBy();if(Array.isArray(n)&&n.length>0){return n.some(function(t){var n=r.getWindow().sap.ui.getCore().byId(t);return n&&n.getText&&n.getText()===e})}})},deepAggregation:function(r,n){var a=t.Matchers.filter(n),u=function(t){return e.getAggregation(t,this)};return function(t){var e=r.split("/"),n=e.reduce(function(t,e){return Array.prototype.concat.apply([],t.map(u.bind(e)))},[t]);return a(n)}},deepAggregationMatcher:function(t,e){var r=o.Matchers.deepAggregation(t,e);return function(t){return r(t).length>0}}};o.Actions={keyboardShortcut:function(t,r,n){var u=e.parseArguments([String,String,Boolean],arguments);t=u[0];r=u[1];n=u[2];return function(e){var u=a.parseShortcut(t);u.type="keydown";if(t.toLowerCase()===u.key){u.key=t}var i=r?e.$().find(r):e.$();if(!n){e.focus()}i.trigger(u)}}};return o});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/builder/KPIBuilder", ["./FEBuilder","sap/ui/test/OpaBuilder","sap/fe/test/Utils"],function(t,e,r){"use strict";var a=function(){return t.apply(this,arguments)};a.create=function(t){return new a(t)};a.prototype=Object.create(t.prototype);a.prototype.constructor=a;a.prototype.checkKPITag=function(e,r){var a={text:e};if(r&&r.status){a.status=r.status}var i=this.hasType("sap.m.GenericTag").hasProperties(a);if(r&&(r.number||r.unit)){var s={};if(r.number){s.number=r.number}if(r.unit){s.unit=r.unit}i=i.hasChildren(t.create(this).hasType("sap.m.ObjectNumber").hasProperties(s))}return i};a.prototype.clickKPITag=function(t){var e={text:t};return this.hasType("sap.m.GenericTag").hasProperties(e).doPress()};a.prototype.checkKPICard=function(){return this.hasType("sap.m.Popover").hasChildren(t.create(this).hasType("sap.ui.integration.widgets.Card"))};a.prototype.doClickKPICardHeader=function(){return this.hasType("sap.ui.integration.cards.NumericHeader").doPress()};a.prototype.doOnKPICardHeader=function(e,r){return this.hasType("sap.ui.integration.widgets.Card").hasChildren(t.create(this).hasType("sap.ui.integration.cards.NumericHeader").hasChildren(e,r))};a.prototype.doOnKPICardChart=function(e){var r=e?t.create(this).hasType("sap.ui.integration.cards.AnalyticalContent").hasChildren(e):t.create(this).hasType("sap.ui.integration.cards.AnalyticalContent");return this.hasType("sap.ui.integration.widgets.Card").hasChildren(r)};return a});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/builder/MacroFieldBuilder", ["./FEBuilder","./MdcFieldBuilder","sap/ui/test/OpaBuilder","sap/fe/test/Utils"],function(t,e,r,s){"use strict";function a(t,s){if(t.isA("sap.ui.mdc.Field")){return e.Matchers.value(s)}if(t.isA("sap.ui.unified.Currency")){return r.Matchers.properties({stringValue:s.stringValue,currency:s.description})}var a=s;if(s.value){a=s.description?s.description+" ("+s.value+")":s.value}if(t.isA("sap.m.InputBase")){return r.Matchers.properties({value:a})}if(t.isA("sap.m.ObjectIdentifier")){return r.Matchers.properties({title:a})}return r.Matchers.properties({text:a})}function n(s,a,n){if(s.isA("sap.ui.mdc.Field")){return e.Matchers.state(a,n)}else if(a==="lockedBy"){return function(e){var s=r.Matchers.childrenMatcher(t.create(this).hasType("sap.m.Avatar").hasProperties({initials:n}));return t.Matchers.match(s)(e)}}return t.Matchers.state(a,n)}function i(e){if(e.isA("sap.fe.macros.field.FieldAPI")){return i(e.getContent())}if(e.isA("sap.fe.core.controls.FormElementWrapper")){return i(e.getContent())}if(e.isA("sap.fe.core.controls.FileWrapper")){return i(e.getAvatar())}if(e.isA("sap.fe.core.controls.FieldWrapper")){if(e.getEditMode()==="Display"){return i(e.getContentDisplay())}else{return i(e.getContentEdit()[0])}}if(e.isA("sap.fe.core.controls.ConditionalWrapper")){var s=e.getCondition()?e.getContentTrue():e.getContentFalse();return i(s)}return e.isA("sap.ui.mdc.Field")||e.isA("sap.m.Text")||e.isA("sap.m.ExpandableText")||e.isA("sap.m.Label")||e.isA("sap.m.CheckBox")||e.isA("sap.m.Link")||e.isA("sap.m.ObjectStatus")||e.isA("sap.m.InputBase")||e.isA("sap.m.Avatar")||e.isA("sap.ui.unified.Currency")||e.isA("sap.m.ObjectIdentifier")||e.isA("sap.m.RatingIndicator")||e.isA("sap.m.ProgressIndicator")?[e]:r.Matchers.children(r.create().hasSome(t.Matchers.state("controlType","sap.ui.mdc.Field"),t.Matchers.state("controlType","sap.m.Text"),t.Matchers.state("controlType","sap.m.ExpandableText"),t.Matchers.state("controlType","sap.m.Label"),t.Matchers.state("controlType","sap.m.Link"),t.Matchers.state("controlType","sap.m.ObjectStatus"),t.Matchers.state("controlType","sap.m.InputBase"),t.Matchers.state("controlType","sap.m.Avatar"),t.Matchers.state("controlType","sap.ui.unified.Currency"),t.Matchers.state("controlType","sap.m.ObjectIdentifier"),t.Matchers.state("controlType","sap.m.RatingIndicator"),t.Matchers.state("controlType","sap.m.ProgressIndicator")))(e)}var c=function(){return t.apply(this,arguments)};c.create=function(t){return new c(t)};c.prototype=Object.create(t.prototype);c.prototype.constructor=c;c.prototype.getStatesMatcher=function(t){return c.Matchers.states(t)};c.prototype.hasValue=function(t){if(t===undefined){return this}return this.has(c.Matchers.value(t))};c.prototype.do=function(e){this.has(function(t){if(!t){return null}if(!Array.isArray(t)){t=[t]}return t.reduce(function(t,e){return t.concat(i(e))},[])});return t.prototype.do.call(this,r.Actions.executor(e))};c.prototype.doOpenValueHelp=function(){return this.do(function(e){if(e.isA("sap.ui.mdc.Field")){t.Actions.keyboardShortcut("F4","input")(e)}})};c.Matchers={value:function(t){return function(e){var s=i(e);return s.some(function(e){return r.Matchers.match(a(e,t))(e)})}},empty:function(t){return t.getVisible()===false},state:function(t,e){return function(s){var a=[s].concat(i(s));return a.some(function(s){return r.Matchers.match(n(s,t,e))(s)})}},states:function(e){return t.Matchers.states(e,c.Matchers.state)}};return c});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/builder/MdcFieldBuilder", ["./FEBuilder","sap/ui/test/OpaBuilder","sap/ui/mdc/enum/FieldDisplay","sap/fe/test/Utils","sap/ui/mdc/enum/ConditionValidated"],function(e,t,n,i,r){"use strict";var a=/(.+?) \((.+?)\)/;function o(e,t){e=e&&[].concat(e)||[];t=t&&[].concat(t)||[];return e.every(function(e,n){return n<t.length&&(e||"")==(t[n]||"")})}function u(e,t,r,a,u){switch(e){case n.Value:return o(t,a);case n.Description:return r===undefined?o(t,u):o(r,u);case n.ValueDescription:case n.DescriptionValue:return o(t,a)&&(r===undefined||o(r,u));default:throw new Error(i.formatMessage("unsupported field display '{0}'",e))}}function s(e,t){var r={};if(i.isOfType(e,Array)){r.value=e.length>0?e[0]:null;r.description=e.length>1?e[1]:undefined}else if(i.isOfType(e,Object)){r.value=e.value;r.description=e.description}else{switch(t){case n.Description:r.value=undefined;r.description=e;break;case n.ValueDescription:case n.DescriptionValue:var o=a.exec(e);if(o){r.value=t===n.ValueDescription?o[1]:o[2];r.description=t===n.ValueDescription?o[2]:o[1];break}case n.Value:default:r.value=e;r.description=undefined}}return r}var c=function(){return e.apply(this,arguments)};c.create=function(e){return new c(e)};c.prototype=Object.create(e.prototype);c.prototype.constructor=c;c.prototype.hasValue=function(e){if(e===undefined){return this}return this.has(c.Matchers.value(e))};c.prototype.hasConditionValues=function(e,t){if(e===undefined){return this}return this.has(c.Matchers.conditionsValue(e,t))};c.prototype.doChangeValue=function(e){if(e===undefined){return this}return this.doEnterText(e)};c.prototype.getStatesMatcher=function(e){return c.Matchers.states(e)};c.prototype.doPressKeyboardShortcut=function(t){return this.do(e.Actions.keyboardShortcut(t,"input"))};c.prototype.doOpenValueHelp=function(){return this.doPressKeyboardShortcut("F4")};c.Matchers={value:function(e){return function(t){if(!t.isA("sap.ui.mdc.Field")){throw new Error("Expected sap.ui.mdc.Field but got "+t.getMetadata().getName())}var n=s(e,t.getDisplay()),i=t.getValue(),r=t.getAdditionalValue();return u(t.getDisplay(),n.value,n.description,i,r)}},conditionsValue:function(e,t){if(!i.isOfType(e,Array)){e=[e]}return function(n){var i=e.map(function(e){return s(e,n.getDisplay())}),a=n.getConditions().map(function(e){return{conditionOperator:e.operator,conditionValue:s(e.values),conditionValidated:e.validated===r.Validated}}),o=function(e){return function(i){if(t&&i.conditionOperator!==t){return false}return u(n.getDisplay(),e.value,e.description,i.conditionValue.value,i.conditionValidated?e.description:i.conditionValue.description)}};return a&&i.every(function(e){return a.some(o(e))})}},state:function(t,n){switch(t){case"content":return function(t){var i=t.getContentDisplay(),r=t.getContentEdit(),a=t.getContent(),o=(t.getAggregation("_content")||[]).concat(a||[],i||[],r||[]),u=e.Matchers.states(n);return o.some(u)};case"contentEdit":case"contentDisplay":return function(i){return e.Matchers.states(n)(i.getAggregation(t))};default:return e.Matchers.state(t,n)}},states:function(t){return e.Matchers.states(t,c.Matchers.state)}};c.Actions={};return c});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/builder/MdcFilterBarBuilder", ["./FEBuilder","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/DialogBuilder","sap/ui/test/Opa5"],function(t,e,r,s,a){"use strict";var n=function(){return t.apply(this,arguments)};n.create=function(t){return new n(t)};n.prototype=Object.create(t.prototype);n.prototype.constructor=n;n.createAdaptationDialogBuilder=function(t){return s.create(t).hasAggregation("customHeader")};n.prototype.hasField=function(s,a,n){var i=e.parseArguments([[Array,Object,Function],Object,Boolean],arguments);s=i[0];a=i[1];n=i[2];if(a){var o=this.getStatesMatcher(a);if(a.visible===false){return this.hasSome(r.Matchers.not(r.Matchers.aggregationMatcher("filterItems",s)),r.Matchers.aggregationMatcher("filterItems",[o].concat(s||[])))}s=[o].concat(s||[])}return n?this.has(r.Matchers.aggregation("filterItems",s)).has(t.Matchers.atIndex(0)):this.has(r.Matchers.aggregationMatcher("filterItems",s))};n.prototype.hasFocusOnFilterField=function(t){return this.has(function(e){var r=a.getWindow().sap.ui.getCore(),s=r.getCurrentFocusedControlId();var n=e.getFilterItems().find(function(e){return e.getLabel()===t});return s.includes(n.getId())})};n.prototype.hasFocusOnGoButton=function(){return this.has(function(t){var e=a.getWindow().sap.ui.getCore(),r=e.getCurrentFocusedControlId(),s=t.getId()+"-btnSearch";return r===s})};n.prototype.hasEditingStatus=function(e,s){var a=r.Matchers.resourceBundle("label","sap.fe.macros","FILTERBAR_EDITING_STATUS");if(s&&"visible"in s&&s.visible===false){return this.has(function(e){return!e.getFilterItems().some(t.Matchers.match(a))})}var n=[a];if(e){n.push(r.Matchers.hasAggregation("contentEdit",r.Matchers.properties("selectedKey",e.id)))}if(s&&Object.keys(s).length){n.push(t.Matchers.states(s))}return this.hasAggregation("filterItems",n)};n.prototype.hasSearchField=function(e,s){var a=[];if(s){if(s.visible===false){return this.has(function(t){return!t.getBasicSearchField()})}a.push(t.Matchers.states(s))}if(e){a.push(r.Matchers.properties({value:e}))}return this.hasAggregation("basicSearchField",a)};n.prototype.doChangeEditingStatus=function(t){var e=r.Matchers.resourceBundle("label","sap.fe.macros","FILTERBAR_EDITING_STATUS");return this.doOnAggregation("filterItems",e,r.Actions.enterText(t.display))};n.prototype.doChangeSearch=function(t){return this.doOnAggregation("basicSearchField",r.Actions.enterText(t||""))};n.prototype.doResetSearch=function(){return this.doOnAggregation("basicSearchField",r.Actions.press("inner-reset"))};n.prototype.doSearch=function(){return this.doPress("btnSearch")};n.prototype.doOpenSettings=function(){return this.doPress("btnAdapt")};return n});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/builder/MdcFilterFieldBuilder", ["./MdcFieldBuilder","sap/fe/test/Utils"],function(t,e){"use strict";var o=function(){return t.apply(this,arguments)};o.create=function(t){return new o(t)};o.prototype=Object.create(t.prototype);o.prototype.constructor=o;o.prototype.hasValue=function(e,o){return t.prototype.hasConditionValues.apply(this,arguments)};o.prototype.doChangeValue=function(e,o){if(o){this.do(function(t){t.setConditions([])})}return t.prototype.doChangeValue.call(this,e)};o.Matchers={};o.Actions={};return o});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/builder/MdcTableBuilder", ["sap/ui/test/Opa5","sap/ui/test/OpaBuilder","./FEBuilder","./MacroFieldBuilder","./OverflowToolbarBuilder","./DialogBuilder","sap/fe/test/Utils","sap/fe/test/api/APIHelper","sap/ui/test/matchers/Interactable","sap/ui/core/SortOrder","sap/ui/test/actions/EnterText"],function(e,t,n,r,s,o,a,i,c,u,l){"use strict";var p={Custom:"Custom",Navigation:"Navigation",Delete:"Delete"};var h=function(){return n.apply(this,arguments).hasType("sap.ui.mdc.Table")};function f(e){return e.getType().isA("sap.ui.mdc.table.GridTableType")}function d(e){return f(e)?"rows":"items"}function g(e,t){var n=Number(e);return Number.isNaN(n)?t.getColumns().findIndex(function(t){return t.getHeader()===e||t.getDataProperty()===e}):n}function m(e){var t=e;while(t&&!t.isA("sap.ui.mdc.Table")){t=t._feMdcTableWrapper||t.getParent()}return t}function M(e,t){var n=m(t);return n?g(e,n):-1}function y(e,t){var n;if(!e){return null}if(e.isA("sap.ui.mdc.table.CreationRow")){n=e._oInnerCreationRow._getCell(t)}else if(e.isA("sap.ui.table.CreationRow")){n=e._getCell(t)}else{n=e.getCells()[t]}if(n.isA("sap.fe.macros.MacroAPI")){n=n.getContent()}return n}function T(e,r){if(e.isA("sap.fe.macros.MacroAPI")){e=e.getContent()}var s={controlType:"sap.m.Button"},o;if(r){s.text=r}o=n.Matchers.states(s);return o(e)?[e]:t.Matchers.children(o)(e)}function A(e,t){var n=Number(e);if(Number.isNaN(n)){return t.getCells().reduce(function(t,n){return t.concat(T(n,e))},[])}return T(y(t,n))}function C(e){var t=e.getRowAction();return t.getItems().reduce(function(e,n,r){if(!e&&n.getType()===p.Navigation){e=t.getAggregation("_icons")[r]}return e},null)}function w(e){var t=[new c,n.Matchers.bound()];if(a.isOfType(e,Object)){e=h.Row.Matchers.cellValues(e)}if(e){t=t.concat(e)}return t}function b(e){return e&&e._oTable}function O(e,n,r,s){s=s||"sap.m.Button";return e.doOpenOverflow().success(function(e){return t.create().hasType(s).hasId(RegExp(a.formatMessage("-{0}$",n))).has(t.Matchers.ancestor(e)).doConditional(!!r,r).execute()})}function v(e,t){return{getHeader:function(){return t?e.getLabel()&&e.getLabel().getText()||e.getName():e.getHeader()&&e.getHeader().getText()},getDataProperty:function(){return"$data property not available$"}}}function I(e){var t=e.isA("sap.ui.table.Table"),n={_oTable:e,isA:function(e){return e==="sap.ui.mdc.Table"},getType:function(){return{isA:function(e){return e===(t?"sap.ui.mdc.table.GridTableType":"sap.ui.mdc.table.ResponsiveTableType")}}},getColumns:function(){return e.getColumns().map(function(e){return v(e,t)})},getRowBinding:function(){return e.getBinding(d(n))}};e._feMdcTableWrapper=n;return n}function S(e){var r;if(e!==undefined){r=e?"showDetails":"hideDetails"}t.create().hasType("sap.m.SegmentedButton").hasId(/-showHideDetails$/).check(function(t){if(e===undefined){r=t[0].getSelectedKey()==="showDetails"?"hideDetails":"showDetails"}return true}).success(function(e){return n.create().hasType("sap.m.SegmentedButton").hasId(/-showHideDetails$/).doOnAggregation("items",t.Matchers.properties({key:r}),t.Actions.press()).execute()}).execute()}function R(r){var s=e.getWindow().sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc"),o;if(r!==undefined){o=r?s.getText("table.SHOWDETAILS_TEXT"):s.getText("table.HIDEDETAILS_TEXT")}return t.create().hasType("sap.m.Select").hasId(/-showHideDetails-select$/).check(function(e){if(r===undefined){o=e[0].getSelectedItem().getText()===s.getText("table.SHOWDETAILS_TEXT")?s.getText("table.HIDEDETAILS_TEXT"):s.getText("table.SHOWDETAILS_TEXT")}return true}).doPress().success(function(e){return n.create().hasType("sap.m.SelectList").isDialogElement(true).has(function(e){return true}).has(i.createMenuAndListActionMatcher(o,true)).doPress().description(a.formatMessage("Executing action '{0}' from currently open selection list",o)).execute()}).execute()}h.create=function(e){return new h(e)};h.createWrapper=function(e,t,n){var r=new h(e).hasType(t);if(n){r.has(n)}return r.has(function(e){return I(e)})};h.prototype=Object.create(n.prototype);h.prototype.constructor=h;h.prototype.getStatesMatcher=function(e){return h.Matchers.states(e)};h.prototype.hasColumns=function(e,t){if(!e||Object.keys(e).length===0){return this}return this.has(h.Matchers.columnsMatcher(e,t))};h.prototype.hasTitle=function(e){return this.hasChildren(n.create(this).hasType("sap.m.Title").hasProperties({text:e}))};h.prototype.hasSearchField=function(e,r){var s=a.parseArguments([String,Object],arguments);r=s[1];var o=new h(this.getOpaInstance(),this.build()).hasConditional(r&&r.visible===false,t.Matchers.not(n.Matchers.deepAggregationMatcher("actions/action",n.Matchers.id(/BasicSearch$/))),t.Matchers.childrenMatcher(n.create(this).hasType("sap.fe.macros.table.BasicSearch").checkNumberOfMatches(1).hasProperties(r).hasAggregation("filter",t.Matchers.properties(s[0]?{value:e}:{}))));return this.doOpenOverflow().success(o)};h.prototype.hasRows=function(e,t){e=w(e);return t?this.has(h.Matchers.rows(e)):this.has(h.Matchers.rowsMatcher(e))};h.prototype.doOnRows=function(e,n){if(arguments.length===1){n=e;e=undefined}if(!n){return this}return this.hasRows(e,true).do(t.Actions.executor(n))};h.prototype.doClickOnCell=function(e,n){return this.doOnRows(e,h.Row.Actions.onCell(n,t.Actions.press()))};h.prototype.doClickOnRow=function(e){return this.doOnRows(e,function(e){if(e.getMetadata().getName()==="sap.ui.table.Row"){var n=e.getParent(),r=n.indexOfRow(e);return t.Actions.press("rows-row"+r+"-col0").executeOn(n)}return t.Actions.press().executeOn(e.getMultiSelectControl()||e.getSingleSelectControl())})};h.prototype.doScroll=function(e){return this.do(function(t){switch(e){case"up":t.scrollToIndex(0);break;case"down":default:t.scrollToIndex(-1);break}})};h.prototype.doPressKeyboardShortcut=function(e,t,r){if(t&&r){return this.doOnRows(t,h.Row.Actions.onCell(r,n.Actions.keyboardShortcut(e,"input")))}return this.do(n.Actions.keyboardShortcut(e,true))};h.prototype.doEditValues=function(e,t,n){if(arguments.length===1){t=e;e=undefined}return this.hasColumns(t,true).doOnRows(e,h.Row.Actions.editCells(t,n))};h.prototype.doEditCreationRowValues=function(e,n){return this.hasColumns(e,true).has(t.Matchers.aggregation("creationRow")).do(h.Row.Actions.editCells(e,n))};h.prototype.doSelect=function(e){return this.doOnRows(e,function(e){if(e.getMetadata().getName()==="sap.ui.table.Row"){var n=e.getParent(),r=n.indexOfRow(e);return t.Actions.press("rowsel"+r).executeOn(n)}return t.Actions.press().executeOn(e.getMultiSelectControl()||e.getSingleSelectControl())})};h.prototype.doSelectAll=function(){return this.do(function(e){var n=f(e);if(n){return t.Actions.press("selall").executeOn(e.getAggregation("_content"))}return t.Actions.press("sa").executeOn(e.getAggregation("_content"))})};h.prototype.doNavigate=function(e){return this.doOnRows(e,function(e){if(e.getMetadata().getName()==="sap.ui.table.Row"){return t.Actions.press().executeOn(C(e))}return t.Actions.press("imgNav").executeOn(e)})};h.prototype.doPressColumnHeader=function(e){return this.has(h.Matchers.columnControl(e)).has(n.Matchers.singleElement()).doPress()};h.prototype.doColumnHeaderAction=function(e,n,r){var s=t.create().isDialogElement().hasType(r?"sap.m.ToggleButton":"sap.m.Button").hasProperties({icon:n}).doPress();if(r){s.success(t.create().isDialogElement().hasType("sap.m.StandardListItem").hasProperties({title:r}).doPress())}return this.doPressColumnHeader(e).success(s)};h.prototype.doSortByColumn=function(e,t,n){var r="sap-icon://sort-ascending";if(n){r="sap-icon://sort-descending"}return this.doColumnHeaderAction(e,r,t)};h.prototype.doGroupByColumn=function(e,t){return this.doColumnHeaderAction(e,"sap-icon://group-2",t)};h.prototype.doAggregateByColumn=function(e,t){return this.doColumnHeaderAction(e,"sap-icon://sum",t)};h.prototype.doChangeSearch=function(e){var n=new h(this.getOpaInstance(),this.build()).doOnChildren(t.create(this).hasType("sap.fe.macros.table.BasicSearch").checkNumberOfMatches(1).doOnAggregation("filter",t.Actions.press(),t.Actions.enterText(e||"")));return this.doOpenOverflow().success(n)};h.prototype.doResetSearch=function(){var e=new h(this.getOpaInstance(),this.build()).doOnChildren(t.create(this).hasType("sap.fe.macros.table.BasicSearch").checkNumberOfMatches(1).doOnAggregation("filter",t.Actions.press(),t.Actions.press("reset")));return this.doOpenOverflow().success(e)};h.prototype.checkColumnHeaderAction=function(e,n,r,s){var o;if(!r){if(s===undefined){o=t.create().isDialogElement().hasProperties({icon:n}).checkNumberOfMatches(1)}else if(s===1){o=t.create().isDialogElement().hasType("sap.m.Button").hasProperties({icon:n}).checkNumberOfMatches(1)}else{o=t.create().isDialogElement().hasType("sap.m.ToggleButton").hasProperties({icon:n}).doPress();o.success(t.create().isDialogElement().hasType("sap.m.StandardListItem").checkNumberOfMatches(s).success(t.create().isDialogElement().hasType("sap.m.Button").hasProperties({icon:"sap-icon://decline"}).doPress()))}}else{if(s===undefined){s=1}o=t.create().isDialogElement().hasType("sap.m.ToggleButton").hasProperties({icon:n}).doPress();o.success(t.create().isDialogElement().hasType("sap.m.StandardListItem").hasProperties({title:r}).checkNumberOfMatches(s).success(t.create().isDialogElement().hasType("sap.m.Button").hasProperties({icon:"sap-icon://decline"}).doPress()))}return this.doPressColumnHeader(e).success(o)};h.prototype.hasGroupByColumn=function(e,t,n){return this.checkColumnHeaderAction(e,"sap-icon://group-2",t,n)};h.prototype.hasAggregationColumn=function(e,t,n){return this.checkColumnHeaderAction(e,"sap-icon://sum",t,n)};h.prototype.doExpand=function(e){return this.doOnRows(e,function(e){if(e.getMetadata().getName()==="sap.ui.table.Row"){e.expand()}})};h.prototype.doCollapse=function(e){return this.doOnRows(e,function(e){if(e.getMetadata().getName()==="sap.ui.table.Row"){e.collapse()}})};h.prototype.hasOverlay=function(e){return this.has(h.Matchers.overlay(e))};h.prototype.hasNumberOfRows=function(e){return this.has(function(t){var n=t.getRowBinding(),r=h.Matchers.overlay(true)(t);return n&&!r&&(e===undefined?n.getLength()!==0:n.getLength()===e)||(!n||r)&&e===0})};h.prototype.hasHeaderFocused=function(){return this.has(function(t){var n=e.getWindow().sap.ui.getCore(),r=n.getCurrentFocusedControlId(),s=b(t);if(f(t)){return s.getColumns()[0].getId()===r}else{return s.getId()===r}})};h.prototype.hasFocusOnRow=function(t){return this.has(function(n){var r=e.getWindow().sap.ui.getCore(),s=r.getCurrentFocusedControlId(),o=b(n);if(f(n)){return s.includes(o.getRows()[t].getId())}else{return s===o.getItems()[t].getId()}})};h.prototype.hasQuickFilterItems=function(e){return this.has(function(t){var n=t.getQuickFilter();if(n){var r=n.getSelector().getItems();if(a.isOfType(r,Array)){return r.length===e}return false}return false})};h.prototype.doSelectQuickFilter=function(e){return this.has(function(e){return e.getQuickFilter().getSelector()}).doConditional(n.Matchers.state("controlType","sap.m.Select"),t.Actions.press()).success(function(r){return n.create(this).hasId([].concat(r)[0].getId()).doOnAggregation("items",e,t.Actions.press()).execute()}.bind(this))};h.prototype.doPressMore=function(){return this.do(function(e){return n.create(this).hasId(e._oTable.getId("trigger")).do(t.Actions.press()).execute()}.bind(this))};h.prototype.doOpenOverflow=function(){return s.openOverflow(this,"toolbar")};h.prototype.doCloseOverflow=function(){return s.closeOverflow(this,"toolbar")};h.prototype.doExecuteAction=function(e,r){var s=new h(this.getOpaInstance(),this.build()),o=function(e){return!!e.getText},a=n.Matchers.deepAggregation("actions/action",[o,e]),i=function(e){return e.getAggregation("_button")?e.getAggregation("_button").getAggregation("_textButton"):null},c=function(){s.has(function(e){return a(e).length===1}).do(function(e){var n=a(e)[0],s=n.getMetadata().getName()==="sap.m.MenuButton"?i(n)||n:n;t.Actions.executor(r||t.Actions.press())(s)}).execute()};return this.doOpenOverflow().success(c)};h.prototype.doClickOnMessageStripFilter=function(){return this.do(function(e){var n=e.getDataStateIndicator()._oLink;return t.create().hasType("sap.m.Link").hasId(n.getId()).description("Press the messageStrip filter on Table").doPress().execute()})};h.prototype.hasShowHideDetails=function(){return O(this,"showHideDetails",false)};h.prototype.doShowHideDetails=function(e){return this.doOpenOverflow().success(function(n){if(f(n)){return}t.create().hasType("sap.m.SegmentedButton").hasId(/-showHideDetails$/).doConditional(t.Matchers.childrenMatcher(t.create(this).hasType("sap.m.Select"),true),function(t){R(e);return true},function(t){S(e);return true}).execute()})};h.prototype.hasColumnAdaptation=function(){return O(this,"settings",false)};h.prototype.doOpenColumnAdaptation=function(){return O(this,"settings",t.Actions.press())};h.prototype.hasColumnSorting=function(){return O(this,"settings",false)};h.prototype.doOpenColumnSorting=function(){return O(this,"settings",t.Actions.press()).success(t.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.IconTabBar").has(t.Matchers.aggregation("items",t.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.TAB_Sort"))).has(n.Matchers.singleElement()).doPress().description("Selecting Icon Tab Sort"))};h.prototype.hasColumnFiltering=function(){return O(this,"filter",false)};h.prototype.doOpenColumnFiltering=function(){return O(this,"settings",t.Actions.press()).success(t.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.IconTabBar").has(t.Matchers.aggregation("items",t.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.TAB_Filter"))).has(n.Matchers.singleElement()).doPress().description("Selecting Icon Tab Filter"))};h.prototype.hasColumnExport=function(){return O(this,"export",false,"sap.m.MenuButton")};h.prototype.hasPaste=function(){return O(this,"paste",false,"sap.m.MenuButton")};h.prototype.doExecuteInlineAction=function(e,t){return this.doOnRows(e,h.Row.Actions.pressInlineAction(t))};h.prototype.doPasteData=function(e){return this.do(function(t){t.firePaste({data:e})})};h.createAdaptationDialogBuilder=function(e){return o.create(e).hasSome(t.Matchers.resourceBundle("title","sap.ui.mdc","table.SETTINGS_COLUMN"),t.Matchers.resourceBundle("title","sap.ui.mdc","p13nDialog.VIEW_SETTINGS"))};h.createSortingDialogBuilder=function(e){return o.create(e).has(t.Matchers.resourceBundle("title","sap.ui.mdc","p13nDialog.VIEW_SETTINGS")).hasChildren(t.create(e).hasType("sap.m.IconTabFilter").has(t.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.TAB_Sort")))};h.createFilteringDialogBuilder=function(e){return o.create(e).has(t.Matchers.resourceBundle("title","sap.ui.mdc","p13nDialog.VIEW_SETTINGS")).hasChildren(t.create(e).hasType("sap.m.IconTabFilter").has(t.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.TAB_Filter")))};h.Cell={Matchers:{state:function(e,t){switch(e){case"editor":case"editors":return function(e){return r.Matchers.states(t)(e)};default:return n.Matchers.state(e,t)}},states:function(e){return n.Matchers.states(e,h.Cell.Matchers.state)}}};h.Column={Matchers:{state:function(e,t){switch(e){case"sortOrder":return h.Column.Matchers.sortOrder(t);case"template":case"creationTemplate":return function(n){return r.Matchers.states(t)(n.getAggregation(e))};default:return n.Matchers.state(e,t)}},states:function(e){return n.Matchers.states(e,h.Column.Matchers.state)},sortOrder:function(e){return function(t){var r=t.getParent(),s=f(r),o={};if(s){o.sorted=e===u.None?false:true;if(e!==u.None){o.sortOrder=e}}else{o.sortIndicator=e}return n.controlsExist(n.create().hasId(t.getId()+"-innerColumn").hasProperties(o))}}}};h.Row={Matchers:{cell:function(e){return function(t){var n=M(e,t);return y(t,n)}},cellValue:function(e,t){return function(n){if(n.isA("sap.m.GroupHeaderListItem")){return null}var s=h.Row.Matchers.cell(e)(n);while(s.isA("sap.fe.macros.MacroAPI")){s=s.getContent()}return r.Matchers.value(t)(s)}},cellValues:function(e){if(!e){return t.Matchers.TRUE}return n.Matchers.match(Object.keys(e).map(function(t){return h.Row.Matchers.cellValue(t,e[t])}))},emptyCell:function(e){return function(t){var n=h.Row.Matchers.cell(e)(t);while(n.isA("sap.fe.macros.MacroAPI")){n=n.getContent()}return r.Matchers.empty(n)}},emptyCells:function(e){if(!e||e.length===0){return t.Matchers.TRUE}return n.Matchers.match(e.map(function(e){return h.Row.Matchers.emptyCell(e)}))},cellProperty:function(e,t){return function(n){var r=h.Row.Matchers.cell(e)(n);while(r.isA("sap.fe.macros.MacroAPI")){r=r.getContent()}return h.Cell.Matchers.states(t)(r)}},cellProperties:function(e){if(!e){return t.Matchers.TRUE}return n.Matchers.match(Object.keys(e).map(function(t){return h.Row.Matchers.cellProperty(t,e[t])}))},selected:function(e){return function(t){var n=t.getParent(),r=n.getParent(),s=f(r),o=s?r.getSelectedContexts().includes(t.getBindingContext()):t.getSelected();return e?o:!o}},navigated:function(e){return function(t){var n;if(t.getMetadata().getName()==="sap.ui.table.Row"){n=t.getAggregation("_settings").getNavigated()}else{n=t.getNavigated()}return e?n:!n}},focused:function(){return function(e){var n=[e];if(e.getMetadata().getName()==="sap.ui.table.Row"){n.push(C(e))}return n.some(t.Matchers.focused(true))}},highlighted:function(e){return function(t){var n;if(t.getMetadata().getName()==="sap.ui.table.Row"){n=t.getAggregation("_settings").getHighlight()}else{n=t.getHighlight()}return e===n}},isDraft:function(e){var n=t.Matchers.childrenMatcher(function(e){return e.isA("sap.m.ObjectMarker")},false);if(e){return n}else{return t.Matchers.not(n)}},states:function(e){if(!a.isOfType(e,Object)){return t.Matchers.TRUE}return n.Matchers.match(Object.keys(e).map(function(t){switch(t){case"selected":return h.Row.Matchers.selected(e.selected);case"focused":return h.Row.Matchers.focused();case"navigated":return h.Row.Matchers.navigated(e.navigated);case"highlight":return h.Row.Matchers.highlighted(e.highlight);case"isDraft":return h.Row.Matchers.isDraft(e.isDraft);default:return n.Matchers.state(t,e[t])}}))},visualGroup:function(e,t){return function(n){if(n.getMetadata().getName()==="sap.ui.table.Row"){return n.getLevel()===e&&n.getTitle()===t}else{return false}}}},Actions:{onCell:function(e,t){return function(n){var r=M(e,n),s=y(n,r);if(s.isA("sap.fe.core.controls.FieldWrapper")){s=s.getEditMode()==="Display"?s.getContentDisplay():s.getContentEdit()[0]}if(s.isA("sap.m.VBox")){s=s.getItems()[0].getContent().getEditMode()==="Display"?s.getItems()[0].getContent().getContentDisplay():s.getItems()[0].getContent().getContentEdit()[0]}if(s.isA("sap.fe.core.controls.ConditionalWrapper")){s=s.getCondition()?s.getContentTrue():s.getContentFalse()}if(t.executeOn){t.executeOn(s)}else{t(s)}}},editCell:function(e,t,n){return h.Row.Actions.onCell(e,new l({text:t,clearTextFirst:true,keepFocus:n?true:false,idSuffix:null,pressEnterKey:n?false:true}))},editCells:function(e,t){return Object.keys(e).map(function(n){return h.Row.Actions.editCell(n,e[n],t)})},onCellInlineAction:function(e,n){return function(r){var s=A(e,r);return t.Actions.executor(n)(s)}},pressInlineAction:function(e){return h.Row.Actions.onCellInlineAction(e,t.Actions.press())}}};h.Matchers={isGridTable:function(){return f},rows:function(e){return function(n){if(h.Matchers.overlay(true)(n)){return[]}return t.Matchers.aggregation(d(n),e)(n._oTable)}},rowsMatcher:function(e){var t=h.Matchers.rows(e);return function(e){return t(e).length>0}},columnControl:function(e){return function(t){var n=g(e,t),r=b(t);return r.getColumns()[n]}},column:function(e,t){return function(r){var s=g(e,r),o=a.getAggregation(r,"columns");if(s===-1){if(t&&t.visible===false){return true}}else{var i=o[s];if(!t||n.Matchers.match(h.Column.Matchers.states(t))(i)){return i}}return false}},columns:function(e,t){return function(n){return Object.keys(e).reduce(function(r,s){var o=h.Matchers.column(s,t?undefined:e[s])(n);if(o){r.push(o===true?null:o)}return r},[])}},columnsMatcher:function(e,t){var n=h.Matchers.columns(e,t);return function(t){return n(t).length===Object.keys(e).length}},overlay:function(e){if(e===undefined){e=true}return function(t){t=t._feMdcTableWrapper||t;return t&&t._oTable.getShowOverlay()===e}},state:function(e,t){switch(e){case"overlay":return h.Matchers.overlay(t);default:return n.Matchers.state(e,t)}},states:function(e){return n.Matchers.states(e,h.Matchers.state)}};h.Actions={};return h});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/builder/OverflowToolbarBuilder", ["sap/ui/test/OpaBuilder","./FEBuilder","sap/fe/test/Utils","sap/ui/test/matchers/Interactable"],function(e,t,n,r){"use strict";var o=function(){return t.apply(this,arguments)};o.create=function(e){return new o(e)};o.prototype=Object.create(t.prototype);o.prototype.constructor=o;o._toggleOverflow=function(n,o,s){var a="overflowButton";if(s){a=s+"-"+a}return n.doConditional(e.Matchers.childrenMatcher(e.create().has(t.Matchers.id(new RegExp(a+"$"))).hasProperties({pressed:!o}).has(new r).mustBeEnabled().mustBeVisible()),e.Actions.press(a))};o.openOverflow=function(e,t){return o._toggleOverflow(e,true,t)};o.closeOverflow=function(e,t){return o._toggleOverflow(e,false,t)};o.prototype.doOpenOverflow=function(){return o.openOverflow(this)};o.prototype.doCloseOverflow=function(){return o.closeOverflow(this)};o.prototype.doOnContent=function(n,o){var s=new t(this.getOpaInstance(),this.build()).hasType("sap.m.OverflowToolbar"),a=function(e){if(e.isA("sap.fe.macros.ShareAPI")){return!!e.getContent().getText}else{return!!e.getText}},i=t.Matchers.deepAggregation("content",[new r,a,n]),c=function(e){return e.getAggregation("_button")?e.getAggregation("_button").getAggregation("_textButton"):null},u=function(){s.has(function(e){return i(e).length===1}).do(function(t){var n=i(t)[0];if(n.isA("sap.fe.macros.ShareAPI")){n=n.getContent()}var r=n.getMetadata().getName()==="sap.m.MenuButton"?c(n)||n:n;e.Actions.executor(o||e.Actions.press())(r)}).execute()};return this.doOpenOverflow().success(u)};o.prototype.hasContent=function(n,r){var s=new o(this.getOpaInstance(),this.build()),a=[n,t.Matchers.states(r)];if(r&&r.visible===false){r=Object.assign(r);delete r.visible;s.hasSome(e.Matchers.aggregationMatcher("content",a),e.Matchers.not(e.Matchers.aggregationMatcher("content",[n,t.Matchers.states(r)])),e.Matchers.children(e.Matchers.match([n,t.Matchers.states(r)])))}else{s.hasAggregation("content",a)}return this.doOpenOverflow().success(s)};return o});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/builder/VMBuilder", ["./FEBuilder","sap/ui/test/OpaBuilder","sap/fe/test/Utils"],function(e,t,s){"use strict";var a=function(){return e.apply(this,arguments)};a.create=function(e){return new a(e)};a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype.doSaveAs=function(a,i,n){var r=s.formatMessage("Save as variant '{0}'",a);this.description=function(e){r=e;return this}.bind(this);return this.doPress().success(function(s){return e.create(this).hasId(s.getId()).doPress("vm-saveas").success(e.create(this).hasId(s.getId()+"-vm-savedialog").doOnChildren(e.create(this).hasId(/-name$/).hasType("sap.m.Input").doEnterText(a,true,true)).doOnChildren(e.create(this).hasId(/-default$/).hasType("sap.m.CheckBox").doConditional(!!i,t.Actions.press())).doOnChildren(e.create(this).hasId(/-execute$/).hasType("sap.m.CheckBox").doConditional(!!n,t.Actions.press())).doOnChildren(e.create(this).hasId(/-variantsave$/).hasType("sap.m.Button").doPress()).description(r)).execute()}.bind(this))};a.prototype.doSave=function(){var t="Save variant";this.description=function(e){t=e;return this}.bind(this);return this.doPress().success(function(s){return e.create(this).hasId(s.getId()).doPress("vm-mainsave").description(t).execute()}.bind(this))};a.prototype.doSelectVariant=function(a){var i=s.formatMessage("Selecting variant '{0}'",a);this.description=function(e){i=e;return this}.bind(this);return this.doPress().success(function(s){return e.create(this).hasId(s.getId()+"-vm-list").doOnAggregation("items",t.Matchers.properties({text:a}),t.Actions.press()).description(i).execute()}.bind(this))};a.prototype.doRemoveVariant=function(a){var i=s.formatMessage("Removing variant '{0}'",a);this.description=function(e){i=e;return this}.bind(this);return this.doPress().success(function(s){return e.create(this).hasId(s.getId()).doPress("vm-manage").success(e.create(this).hasId(s.getId()+"-vm-managementTable").doOnChildren(e.create(this).hasType("sap.m.ColumnListItem").hasAggregationProperties("cells",{value:a}).has(t.Matchers.aggregation("cells",t.Matchers.properties({icon:"sap-icon://sys-cancel"}))).has(e.Matchers.atIndex(0)).doPress()).doOnChildren(e.create(this).hasId(/-vm-managementsave$/).hasType("sap.m.Button").doPress()).description(i)).execute()}.bind(this))};a.prototype.doSetVariantAsDefault=function(t){var a=s.formatMessage("Setting variant '{0}' as default",t);this.description=function(e){a=e;return this}.bind(this);return this.doPress().success(function(s){return e.create(this).hasId(s.getId()).doPress("vm-manage").success(e.create(this).hasId(s.getId()+"-vm-managementTable").doOnChildren(e.create(this).hasType("sap.m.ColumnListItem").hasAggregationProperties("cells",{value:t}).doOnChildren(e.create(this).hasType("sap.m.RadioButton").doPress())).description(a)).success(e.create(this).hasId(s.getId()+"-vm-managementsave").hasType("sap.m.Button").doPress()).execute()}.bind(this))};a.prototype.doResetDefaultVariant=function(){var t=s.formatMessage("Resetting default variant ");this.description=function(e){t=e;return this}.bind(this);return this.doPress().success(function(s){return e.create(this).hasId(s.getId()).doPress("vm-manage").success(e.create(this).hasId(s.getId()+"-vm-managementTable").doOnChildren(e.create(this).hasType("sap.m.ColumnListItem").hasAggregationProperties("cells",{text:"SAP"}).doOnChildren(e.create(this).hasType("sap.m.RadioButton").doPress())).description(t)).success(e.create(this).hasId(s.getId()+"-vm-managementsave").hasType("sap.m.Button").doPress()).execute()}.bind(this))};return a});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/internal/ConsoleErrorChecker", [],function(){"use strict";function e(e){if(e instanceof RegExp){return function(r){return r.match(e)!==null}}else{return function(r){return r.includes(e)}}}var r=["failed to load JavaScript resource: sap/esh/search/ui/i18n.js"].map(e);var n=function(){function n(e){var r=this;this.matchers=[];this.messages=[];this.observer=new MutationObserver(function(e){var n=e.reduce(function(e,r){if(e!==null){return e}for(var n=0,t=Array.from(r.addedNodes);n<t.length;n++){var s=t[n];if(s instanceof Element){var i=s.querySelector("#OpaFrame");if(i instanceof HTMLIFrameElement&&i.contentWindow){return i}}}return e},null);if(n&&n.contentWindow){r.prepareWindow(n.contentWindow)}});QUnit.moduleStart(function(){r.observer.observe(e.document.body,{childList:true})});QUnit.moduleDone(function(){r.observer.disconnect()});QUnit.testStart(function(){r.reset()});QUnit.log(function(){r.handleFailedMessages()});this.karma=e.__karma__;var n=new URLSearchParams(e.location.search);var t=n.get("strictConsoleErrors");if(t!==null){this.isStrict=t==="true"}else{var s,i,a;this.isStrict=(s=(i=this.karma)===null||i===void 0?void 0:(a=i.config.ui5)===null||a===void 0?void 0:a.config.strictconsoleerrors)!==null&&s!==void 0?s:false}this.reset()}var t=n.prototype;t.handleFailedMessages=function e(){var r=this.messages;this.messages=[];if(r.length>0){QUnit.assert.pushResult({result:false,source:"FE Console Log Check",message:"There were ".concat(r.length," unexpected console errors"),actual:r,expected:[]})}};t.reset=function e(){this.messages=[];if(this.isStrict){this.matchers=r}else{this.matchers=[function(){return true}]}};t.setAcceptedErrorPatterns=function n(t){if(!t||t.length===0){this.matchers=r}else{this.matchers=t.map(e).concat(r)}};t.checkAndLog=function e(r){for(var n=arguments.length,t=new Array(n>1?n-1:0),s=1;s<n;s++){t[s-1]=arguments[s]}if(r==="error"){var i=t[0];var a=this.matchers.some(function(e){return e(i)});if(!a){this.messages.push(i)}}if(this.karma){var o=t.map(function(e){return[e]});this.karma.log(r,o)}};t.prepareWindow=function e(r){var n=this;var t=r.console;var s=function(e){var r=t[e];t[e]=function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++){i[a]=arguments[a]}n.checkAndLog.apply(n,[e].concat(i));return r.apply(t,i)}};s("log");s("debug");s("info");s("warn");s("error");t.assert=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(e){return}var r="Assertion failed";for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++){s[i-1]=arguments[i]}if(s.length===0){s.push(r)}else{var a=s[0];if(typeof a!=="string"){s.unshift(r)}else{a="".concat(r,": ").concat(a);s[0]=a}}t.error.apply(t,s)};function i(e){var r;var n="UNHANDLED PROMISE REJECTION: ".concat(e.reason);this.checkAndLog("error",n,(r=e.reason)===null||r===void 0?void 0:r.stack)}function a(e){var r=e.message;this.checkAndLog("error",r,e.filename)}r.addEventListener("error",a.bind(this),{passive:true});r.addEventListener("unhandledrejection",i.bind(this),{passive:true})};n.getInstance=function e(r){if(!r.sapFEConsoleErrorChecker){r.sapFEConsoleErrorChecker=new n(r)}return r.sapFEConsoleErrorChecker};return n}();return n.getInstance(window)},false);
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/internal/FEArrangements", ["sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/base/util/UriParameters","sap/fe/test/Utils","sap/fe/test/Stubs","sap/fe/test/BaseArrangements","sap/fe/test/internal/ConsoleErrorChecker"],function(e,t,r,s,a,n,i){"use strict";return n.extend("sap.fe.test.internal.FEArrangements",{constructor:function(e){n.call(this,s.mergeObjects({launchUrl:"test-resources/sap/fe/templates/internal/demokit/flpSandbox.html"},e))},iResetTestData:function(e){var a=this,n=new r(window.location.href),i=n.get("useBackendUrl"),o=i?"/databinding/proxy/"+i.replace("://","/"):"",c=false,u=window.__karma__&&window.__karma__.config&&window.__karma__.config.ui5?window.__karma__.config.ui5.shardIndex:"default";return t.create(this).success(function(){var r=a.resetTestData(),s=e?Promise.resolve():jQuery.post(o+"/redeploy?tenant="+u);Promise.all([r,s]).finally(function(){c=true}).catch(function(e){throw e});return t.create(this).timeout(60).check(function(){return c}).execute()}).description(s.formatMessage("Reset test data on tenant '{0}'",u)).execute()},iAcceptTheseErrors:function(e){return t.create(this).do(function(){i.setAcceptedErrorPatterns(e)}).description(!e||e.length===0?"Do not accept error messages":s.formatMessage("Only accept these error message patterns: {0}",e)).execute()}})});
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.predefine("sap/fe/test/internal/FEJourneyRunner", ["sap/fe/test/JourneyRunner","sap/fe/test/Utils","./FEArrangements","sap/base/Log"],function(e,n,a){"use strict";var r=e.extend("sap.fe.test.internal.FEJourneyRunner",{constructor:function(n){var a={launchUrl:"test-resources/sap/fe/templates/internal/demokit/flpSandbox.html",launchParameters:{"sap-ui-xx-filterQueryPanel":true,"sap-ui-xx-csp-policy":"sap-target-level-3:ro"}};n=Object.assign(a,n);try{if(window.__karma__.config.ui5.config.usetenants){var r=window.__karma__.config.ui5.shardIndex;if(r!==undefined&&r!==null){n.launchParameters["sap-client"]=r}}}catch(e){delete n.launchParameters["sap-client"]}e.apply(this,[n])},getBaseArrangements:function(e){return new a(e)}});var t=new r({opaConfig:{frameWidth:1300,frameHeight:1024}});var i=new r({opaConfig:{frameWidth:1700,frameHeight:1024}});var s=new r({opaConfig:{frameWidth:1900,frameHeight:1440}});r.run=t.run.bind(t);r.runWide=i.run.bind(i);r.runFCL=s.run.bind(s);return r});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/test/library", ["sap/ui/core/Core","sap/ui/core/library"],function(e,r){"use strict";var i=e.initLibrary({name:"sap.fe.test",dependencies:["sap.ui.core"],types:[],interfaces:[],controls:[],elements:[],version:"1.108.22",noLibraryCSS:true});return i},false);
sap.ui.require.preload({
	"sap/fe/test/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.test","type":"library","embeds":[],"applicationVersion":{"version":"1.108.22"},"title":"UI5 library: sap.fe.test","description":"UI5 library: sap.fe.test","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.108","libs":{"sap.ui.core":{"minVersion":"1.108.27"}}},"library":{"i18n":false,"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}'
});
//# sourceMappingURL=library-preload.js.map
