/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define([],function(){"use strict";function e(e){if(e instanceof RegExp){return function(r){return r.match(e)!==null}}else{return function(r){return r.includes(e)}}}var r=["failed to load JavaScript resource: sap/esh/search/ui/i18n.js"].map(e);var n=function(){function n(e){var r=this;this.matchers=[];this.messages=[];this.observer=new MutationObserver(function(e){var n=e.reduce(function(e,r){if(e!==null){return e}for(var n=0,t=Array.from(r.addedNodes);n<t.length;n++){var s=t[n];if(s instanceof Element){var i=s.querySelector("#OpaFrame");if(i instanceof HTMLIFrameElement&&i.contentWindow){return i}}}return e},null);if(n&&n.contentWindow){r.prepareWindow(n.contentWindow)}});QUnit.moduleStart(function(){r.observer.observe(e.document.body,{childList:true})});QUnit.moduleDone(function(){r.observer.disconnect()});QUnit.testStart(function(){r.reset()});QUnit.log(function(){r.handleFailedMessages()});this.karma=e.__karma__;var n=new URLSearchParams(e.location.search);var t=n.get("strictConsoleErrors");if(t!==null){this.isStrict=t==="true"}else{var s,i,a;this.isStrict=(s=(i=this.karma)===null||i===void 0?void 0:(a=i.config.ui5)===null||a===void 0?void 0:a.config.strictconsoleerrors)!==null&&s!==void 0?s:false}this.reset()}var t=n.prototype;t.handleFailedMessages=function e(){var r=this.messages;this.messages=[];if(r.length>0){QUnit.assert.pushResult({result:false,source:"FE Console Log Check",message:"There were ".concat(r.length," unexpected console errors"),actual:r,expected:[]})}};t.reset=function e(){this.messages=[];if(this.isStrict){this.matchers=r}else{this.matchers=[function(){return true}]}};t.setAcceptedErrorPatterns=function n(t){if(!t||t.length===0){this.matchers=r}else{this.matchers=t.map(e).concat(r)}};t.checkAndLog=function e(r){for(var n=arguments.length,t=new Array(n>1?n-1:0),s=1;s<n;s++){t[s-1]=arguments[s]}if(r==="error"){var i=t[0];var a=this.matchers.some(function(e){return e(i)});if(!a){this.messages.push(i)}}if(this.karma){var o=t.map(function(e){return[e]});this.karma.log(r,o)}};t.prepareWindow=function e(r){var n=this;var t=r.console;var s=function(e){var r=t[e];t[e]=function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++){i[a]=arguments[a]}n.checkAndLog.apply(n,[e].concat(i));return r.apply(t,i)}};s("log");s("debug");s("info");s("warn");s("error");t.assert=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(e){return}var r="Assertion failed";for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++){s[i-1]=arguments[i]}if(s.length===0){s.push(r)}else{var a=s[0];if(typeof a!=="string"){s.unshift(r)}else{a="".concat(r,": ").concat(a);s[0]=a}}t.error.apply(t,s)};function i(e){var r;var n="UNHANDLED PROMISE REJECTION: ".concat(e.reason);this.checkAndLog("error",n,(r=e.reason)===null||r===void 0?void 0:r.stack)}function a(e){var r=e.message;this.checkAndLog("error",r,e.filename)}r.addEventListener("error",a.bind(this),{passive:true});r.addEventListener("unhandledrejection",i.bind(this),{passive:true})};n.getInstance=function e(r){if(!r.sapFEConsoleErrorChecker){r.sapFEConsoleErrorChecker=new n(r)}return r.sapFEConsoleErrorChecker};return n}();return n.getInstance(window)},false);
//# sourceMappingURL=ConsoleErrorChecker.js.map