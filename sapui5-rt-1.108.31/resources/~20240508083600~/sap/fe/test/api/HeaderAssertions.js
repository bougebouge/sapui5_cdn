/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
    
 */
sap.ui.define(["./HeaderAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/MacroFieldBuilder","./APIHelper"],function(e,t,i,r,a,s){"use strict";var n=function(t,i){this._sObjectPageLayoutId=i.id;this._sHeaderId=i.headerId;this._sHeaderContentId=i.headerContentId;this._sHeaderContentContainerId=i.headerContentContainerId;this._sViewId=i.viewId;this._sPaginatorId=i.paginatorId;this._sBreadCrumbId=i.breadCrumbId;return e.call(this,t,i)};n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype.isAction=false;n.prototype.iCheckAction=function(e,i){var r=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId);return this.prepareResult(r.hasContent(this.createActionMatcher(e),i).description(t.formatMessage("Checking header action '{0}' in state '{1}'",e,i)).execute())};n.prototype.iCheckEdit=function(e){return this.iCheckAction({service:"StandardAction",action:"Edit",unbound:true},e)};n.prototype.iCheckDelete=function(e){return this.iCheckAction({service:"StandardAction",action:"Delete",unbound:true},e)};n.prototype.iCheckRelatedApps=function(e){return this.iCheckAction({service:"fe",action:"RelatedApps",unbound:true},e)};n.prototype.iCheckMenuAction=function(e){return this.prepareResult(s.createMenuActionCheckBuilder(e).execute())};n.prototype.iCheckNumberOfHeaderContentItems=function(e,i){var r=this.getObjectPageDynamicHeaderContentBuilder(this._sHeaderContentId);return this.prepareResult(r.has(function(t){var r=t.getContent()[0].getItems();if(!i){r=r.filter(function(e){return e.getVisible()})}return r.length===e}).description(t.formatMessage("Checking number of header content with '{0}' items",e)).execute())};n.prototype.iCheckFieldInFieldGroup=function(e,i,r){var s=t.parseArguments([Object,[Array,String],Object],arguments),n=(e.targetAnnotation?this.getDataFieldForAnnotationId(e,this._sViewId):this.getFieldGroupFieldId(e,this._sViewId))+"-content";return this.prepareResult(a.create(this).hasId(n).hasValue(s[1]).hasState(s[2]).description(t.formatMessage("Seeing field '{0}' with value '{1}' and state='{2}'",s[0],s[1],s[2])).execute())};n.prototype.iCheckDataPoint=function(e,r){var a=this.getObjectPageDynamicHeaderContentBuilder(this._sHeaderContentId);return this.prepareResult(a.has(i.Matchers.childrenMatcher(i.Matchers.some([i.create(this).hasType("sap.m.ObjectNumber").hasProperties({number:r}).has(function(e){return e.getParent()}).hasAggregationProperties("items",{text:e}),i.create(this).hasType("sap.m.ObjectStatus").hasProperties({text:r}).has(function(e){return e.getParent()}).hasAggregationProperties("items",{text:e})]))).description(t.formatMessage("Seeing header data point '{0}' with value '{1}'",e,r)).execute())};n.prototype.iCheckTitle=function(e,t){var r=this.getObjectPageDynamicHeaderTitleBuilder(this._sObjectPageLayoutId);return this.prepareResult(r.hasConditional(e!==undefined,i.Matchers.childrenMatcher(i.create(this).hasType("sap.m.Title").hasProperties({text:e}))).hasConditional(t!==undefined,i.Matchers.childrenMatcher(i.create(this).hasType("sap.m.Label").hasProperties({text:t}))).description(!t?"Seeing Object Page header title '"+e+"'":"Seeing Object Page header title '"+e+"' and subtitle '"+t+"'").execute())};n.prototype.iCheckPaginatorDown=function(e){return this.prepareResult(this.createPaginatorBuilder(i.Matchers.properties({icon:"sap-icon://navigation-down-arrow"}),this._sViewId+"--"+this._sPaginatorId,e).description(t.formatMessage("Checking paginator down action with state='{0}'",e)).execute())};n.prototype.iCheckPaginatorUp=function(e){return this.prepareResult(this.createPaginatorBuilder(i.Matchers.properties({icon:"sap-icon://navigation-up-arrow"}),this._sViewId+"--"+this._sPaginatorId,e).description(t.formatMessage("Checking paginator up action with state='{0}'",e)).execute())};n.prototype.iCheckMicroChart=function(e,r){var a=i.create(this.getOpaInstance());if(!t.isOfType(e,String)){a.hasId(this._sViewId+"--"+this._sHeaderId+"::MicroChart::"+e.chartId+"::"+e.chartType);if(r!==undefined){a.hasAggregationProperties("_uomLabel",{text:r});a.description(t.formatMessage("Seeing Micro Chart of type '{0}' with identifier '{1}' and UoM Label '{2}'",e.chartType,e.chartId,r))}else{a.description(t.formatMessage("Seeing Micro Chart of type '{0}' with identifier '{1}'",e.chartType,e.chartId))}}else{a.hasProperties({chartTitle:e});if(r!==undefined){a.hasAggregationProperties("_uomLabel",{text:r});a.description(t.formatMessage("Seeing Micro Chart with title '{0}' and UoM Label '{1}'",e,r))}else{a.description(t.formatMessage("Seeing Micro Chart with title '{0}'",e))}}return this.prepareResult(a.execute())};n.prototype.iCheckHeaderFacet=function(e,a){var s=t.parseArguments([[Object,String],Object],arguments),n=this.getObjectPageHeaderContentContainerBuilder(this._sHeaderContentContainerId),o=new RegExp("fe::HeaderFacetContainer::"+e.facetId+"$");if(e.custom){o=new RegExp("fe::HeaderFacetCustomContainer::"+e.facetId+"$")}else if(e.collection){o=new RegExp("fe::HeaderCollectionFacetContainer::"+e.facetId+"$")}return this.prepareResult(n.has(i.Matchers.childrenMatcher(r.create(this.getOpaInstance()).hasId(o).hasState(a))).description(t.formatMessage("Checking Header Facet '{0}' with state='{1}'",s[0],s[1])).execute())};n.prototype.iCheckBreadCrumb=function(e){var i=r.create(this.getOpaInstance()).hasId(this._sBreadCrumbId);if(e!==undefined&&e.length>0){i.hasAggregationProperties("links",{text:e});i.description(t.formatMessage("Checking breadcrumb link '{0}'",e))}else if(e!==undefined&&e.length===0){i.hasAggregationLength("links",0);i.hasState({visible:true});i.description("Checking for existing but empty breadcrumbs")}else if(e===undefined){i.hasState({visible:false});i.description("Checking for non-existent breadcrumbs")}return this.prepareResult(i.execute())};n.prototype.iCheckSaveAsTile=function(e){var r=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId),a={icon:"sap-icon://action"};if(e&&e.visible===false){r.hasContent(i.Matchers.properties(a),e).description(t.formatMessage("Checking header '{0}' Share button with state='{1}'",this.getIdentifier(),e))}else{r.doOnContent(i.Matchers.properties(a),i.Actions.press()).description(t.formatMessage("Pressing header '{0}' Share button",this.getIdentifier())).success(s.createSaveAsTileCheckBuilder(e))}return this.prepareResult(r.execute())};n.prototype.iCheckSendEmail=function(e){var r=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId),a={icon:"sap-icon://action"};if(e&&e.visible===false){r.hasContent(i.Matchers.properties(a),e).description(t.formatMessage("Checking header '{0}' Share button with state='{1}'",this.getIdentifier(),e))}else{r.doOnContent(i.Matchers.properties(a),i.Actions.press()).description(t.formatMessage("Pressing header '{0}' Share button",this.getIdentifier())).success(s.createSendEmailCheckBuilder(e))}return this.prepareResult(r.execute())};n.prototype.iCheckLink=function(e,a){var s=t.parseArguments([String,Object],arguments),n=this.getObjectPageHeaderContentContainerBuilder(this._sHeaderContentContainerId);return this.prepareResult(n.has(i.Matchers.childrenMatcher(r.create().hasType("sap.m.Link").hasProperties({text:e}).hasState(s[1]))).description(t.formatMessage("Checking link '{0}' with state='{1}'",s[0],s[1])).execute())};n.prototype.iCheckNumberOfCollaboratingUsers=function(e){var a=r.create(this.getOpaInstance()).hasId(this._sObjectPageLayoutId);return this.prepareResult(a.hasChildren(r.create(this).hasType("sap.uxap.ObjectPageDynamicHeaderTitle").has(i.Matchers.children(r.create(this).hasType("sap.m.Avatar"))).has(function(t){return t&&t.length==e+1})).description(t.formatMessage("Checking number of collaborating user: {0}",e)).execute())};n.prototype.iCheckCollaboratingUser=function(e){var i=r.create(this.getOpaInstance()).hasId(this._sObjectPageLayoutId);return this.prepareResult(i.hasChildren(r.create(this).hasType("sap.uxap.ObjectPageDynamicHeaderTitle").hasChildren(r.create(this).hasType("sap.m.Avatar").hasProperties({initials:e}))).description(t.formatMessage("Checking collaborating user with initials '{0}'",e)).execute())};return n});
//# sourceMappingURL=HeaderAssertions.js.map