/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log"],function(t){"use strict";var e={getSemanticKeys:function(t,e){return t.getObject("/".concat(e,"/@com.sap.vocabularies.Common.v1.SemanticKey"))},getSemanticObjectInformation:function(t,e){var n=t.getObject("/".concat(e,"/@com.sap.vocabularies.Common.v1.SemanticObject"));var a=this.getSemanticKeys(t,e);return{semanticObject:n,semanticKeys:a}},getSemanticPath:function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var a=e.getModel().getMetaModel(),c=a.getMetaContext(e.getPath()).getObject("@sapui.name"),i=this.getSemanticObjectInformation(a,c);var o,r;if(e.isA("sap.ui.model.odata.v4.ODataListBinding")&&e.isRelative()){o=e.getHeaderContext().getPath()}else{o=e.getPath()}if(this._isPathForSemantic(o)&&i.semanticKeys){var s=i.semanticKeys,m=a.getObject("/".concat(a.getObject("/".concat(c)).$Type));try{var g=s.map(function(t){var n=t.$PropertyPath;var a=e.getProperty(n);if(a===undefined||a===null){throw new Error("Couldn't resolve semantic key value for ".concat(n))}else{if(m[n].$Type==="Edm.String"){a="'".concat(encodeURIComponent(a),"'")}if(s.length>1){a="".concat(n,"=").concat(a)}return a}}).join(",");r="/".concat(c,"(").concat(g,")")}catch(e){t.info(e)}}return n?r:r||o},_isPathForSemantic:function(t){return/^[^\(\)]+\([^\(\)]+\)$/.test(t)}};return e},false);
//# sourceMappingURL=SemanticKeyHelper.js.map