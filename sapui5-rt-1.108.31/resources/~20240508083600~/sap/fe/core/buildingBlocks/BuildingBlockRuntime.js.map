{"version":3,"file":"BuildingBlockRuntime.js","names":["sap","ui","define","Log","deepClone","uid","AttributeModel","BindingToolkit","ResourceModel","BindingParser","XMLPreprocessor","TraceInfo","_forOf","target","body","check","_iteratorSymbol","iterator","step","pact","reject","_cycle","result","next","done","value","then","_isSettledPact","v","_settle","bind","_Pact","e","return","_fixup","TypeError","values","i","length","push","_forTo","array","Symbol","_templateObject","_templateObject2","_templateObject3","_templateObject4","_exports","compileExpression","_createForOfIteratorHelper","o","allowArrayLike","it","Array","isArray","_unsupportedIterableToArray","F","s","n","f","normalCompletion","didErr","err","call","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","Number","state","observer","prototype","onFulfilled","onRejected","this","callback","_this","thenable","_for","test","update","stage","shouldContinue","updateValue","_resumeAfterTest","_resumeAfterBody","_resumeAfterUpdate","_catch","recover","_taggedTemplateLiteral","strings","raw","slice","freeze","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","toString","constructor","name","from","iter","len","arr2","processBuildingBlock","buildingBlockDefinition","oNode","oVisitor","isPublic","sFragmentName","fragment","concat","namespace","sName","mContexts","oMetadataContexts","oSettings","getSettings","models","getResourceBundle","oResourceBundle","setApplicationI18nBundle","catch","error","oMetadata","prepareMetadata","metadata","isOpen","Promise","resolve","processProperties","apiVersion","propertyValues","processContexts","_ref","mMissingContext","extraPropertyValues","assign","initialKeys","_temp18","processChildren","oAggregations","_temp17","oPreviousMacroInfo","oInstance","oControlConfig","viewData","getProperty","processedPropertyValues","isV1MacroDef","create","metadataContexts","sMetadataName","computed","sContextName","hasOwnProperty","propName","oData","isA","SAP_UI_MODEL_CONTEXT","getModel","getObject","BuildingBlockClass","getProperties","targetObject","sAttributeValue","storeValue","sContextPath","converterContext","setProperty","createBindingContext","myStore","oAttributesModel","isTraceInfoActive","oTraceInfo","traceMacroCalls","macroInfo","validateMacroSignature","oContextVisitor","with","oParent","parentNode","iChildIndex","oPromise","processCustomData","_temp16","children","indexOf","getTemplate","oTemplate","addDefaultNamespace","isRuntime","myStoreKey","hasError","firstElementChild","parseXMLString","document","createNodeIterator","NodeFilter","SHOW_TEXT","textnode","nextNode","textContent","trim","localName","_oInstance","isTraceMode","oErrorText","createErrorXML","outerHTML","replaceWith","processSlots","aggregations","visitNode","remove","insertFragment","oMacroElement","oRemainingSlots","querySelectorAll","oSlotElement","traceDetails","initialProperties","resolvedProperties","missingContexts","_iterator","_step","_propertyName","_propertyValue","path","getPath","propertyName","propertyValue","includes","errorAny","oError","stack","_temp10","_temp11","_oFirstElementChild","_temp6","_temp5","oNextChild","nextElementSibling","sChildName","sAggregationName","toUpperCase","defaultAggregation","_temp4","_temp13","aggregationDefinition","_temp14","slot","childDefinition","oNewChild","createElementNS","namespaceURI","getAttribute","nextChild","appendChild","removeAttribute","_temp15","properties","type","_i2","_Object$keys","attributes","attributeIndex","oOutObjects","childIdx","myChild","_i3","_Object$keys2","_attributeIndex","parsedAggregation","parseAggregation","parsedAggregationKey","_temp12","visitChildNodes","currentContextPath","bindingContexts","contextPath","oDefinitionContexts","aDefinitionContextsKeys","contextPathIndex","contextPathDefinition","splice","_i","_aDefinitionContextsK","sAttributeName","bDoNotResolve","hasAttribute","oMetadataContext","_getMetadataContext","addSingleContext","oDefinitionProperties","aDefinitionPropertiesKeys","_temp22","sKeyValue","defaultValue","_temp20","_temp23","visitAttribute","getNamedItem","vValue","startsWith","LOGGER_SCOPE","DOMParserInstance","DOMParser","validateMacroMetadataContext","oContextSettings","sKey","oContext","oContextObject","required","Error","$kind","$Type","aMetadataContextKeys","aProperties","oAttributeNames","iKey","oPropertySettings","warning","SAP_UI_CORE_ELEMENT","buildingBlockMetadata","oProperties","dependents","customData","foundDefaultAggregation","sPropertyName","events","sEventName","isDefault","_checkAbsoluteAndContextPaths","sMetaPath","endsWith","model","_createInitialMetadataContext","returnContext","entitySet","complexParser","getContext","oAggregation","childKey","setAttribute","position","placement","anchor","oMetadataAggregations","oAggregationElement","replace","oElementChild","sSlotName","oTargetElement","querySelector","oCtx","mSetting","ex","registerBuildingBlock","plugIn","xmlTag","publicNamespace","errorMessages","xmlFragment","additionalData","errorLabels","map","errorMessage","xml","escapeXMLAttributeValue","errorStack","stackFormatted","btoa","additionalText","JSON","stringify","replaceAll","propertyUID","xmlString","addDefaultNamespaces","xmlDocument","parseFromString","output","_output","renderInTraceMode","outStr","xmlResult","innerText","innerHTML","split","_len","_key","flat","join","valuefn","_type","compiledExpression","_value$isA","propertyUId"],"sources":["BuildingBlockRuntime-dbg.js"],"mappings":"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"}