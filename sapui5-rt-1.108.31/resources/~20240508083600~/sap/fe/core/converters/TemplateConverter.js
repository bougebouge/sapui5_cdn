/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/util/merge","sap/fe/core/converters/helpers/IssueManager","./ConverterContext","./ManifestSettings","./MetaModelConverter","./templates/ListReportConverter","./templates/ObjectPageConverter"],function(e,t,a,o,n,i,v){"use strict";var s={};var l=n.getInvolvedDataModelObjects;var c=n.convertTypes;var r=o.TemplateType;var d=t.IssueSeverity;var u=t.IssueCategoryType;var f=t.IssueCategory;function p(e,t,a,o){e.forEach(function(e){var n="For entity set ".concat(a);if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"&&!(e!==null&&e!==void 0&&e.ID)){var i;n="".concat(n,", ")+"level ".concat(o,", the collection facet does not have an ID.");t.addIssue(f.Facets,d.High,n,u,u===null||u===void 0?void 0:(i=u.Facets)===null||i===void 0?void 0:i.MissingID)}if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"&&o>=3){var v;n="".concat(n,", collection facet ").concat(e.Label," is not supported at ")+"level ".concat(o);t.addIssue(f.Facets,d.Medium,n,u,u===null||u===void 0?void 0:(v=u.Facets)===null||v===void 0?void 0:v.UnSupportedLevel)}if(e!==null&&e!==void 0&&e.Facets){p(e===null||e===void 0?void 0:e.Facets,t,a,++o);o=o-1}})}function g(t,o,n,s,u,g){var I;var y=c(o,g);y.diagnostics.forEach(function(e){var t=s.checkIfIssueExists(f.Annotation,d.High,e.message);if(!t){s.addIssue(f.Annotation,d.High,e.message)}});y===null||y===void 0?void 0:(I=y.entityTypes)===null||I===void 0?void 0:I.forEach(function(e){var t,a;if(e!==null&&e!==void 0&&(t=e.annotations)!==null&&t!==void 0&&(a=t.UI)!==null&&a!==void 0&&a.Facets){var o,n;p(e===null||e===void 0?void 0:(o=e.annotations)===null||o===void 0?void 0:(n=o.UI)===null||n===void 0?void 0:n.Facets,s,e===null||e===void 0?void 0:e.name,1)}});var h=n.entitySet;var F=(n===null||n===void 0?void 0:n.contextPath)||(u==="/"?u+h:u);var m=o.createBindingContext(F);var C=l(m);if(C){var b={};switch(t){case r.ListReport:case r.AnalyticalListPage:b=i.convertPage(new a(y,n,s,e,C));break;case r.ObjectPage:b=v.convertPage(new a(y,n,s,e,C));break}return b}return undefined}s.convertPage=g;return s},false);
//# sourceMappingURL=TemplateConverter.js.map