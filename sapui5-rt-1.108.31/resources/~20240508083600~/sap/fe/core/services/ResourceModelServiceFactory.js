/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/model/resource/ResourceModel"],function(e,t,n){"use strict";var o={};function r(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return c(e,t)}var s=function(e){r(t,e);function t(){return e.apply(this,arguments)||this}o.ResourceModelService=t;var c=t.prototype;c.init=function e(){var t=this;var o=this.getContext();var r=o.settings;this.oFactory=o.factory;var c=r.bundles.concat(r.enhanceI18n||[]).map(function(e){return typeof e.isA==="function"&&e.isA("sap.ui.model.resource.ResourceModel")?e.getResourceBundle():{bundleName:e.replace(/\//g,".")}});this.oResourceModel=new n({bundleName:c[0].bundleName,enhanceWith:c.slice(1),async:true});if(o.scopeType==="component"){var s=o.scopeObject;s.setModel(this.oResourceModel,r.modelName)}this.initPromise=Promise.all([this.oResourceModel.getResourceBundle(),this.oResourceModel._pEnhanced||Promise.resolve()]).then(function(e){t.oResourceModel.__bundle=e[0];return t})};c.getResourceModel=function e(){return this.oResourceModel};c.getInterface=function e(){return this};c.exit=function e(){this.oFactory.removeGlobalInstance()};return t}(e);o.ResourceModelService=s;var i=function(e){r(t,e);function t(){var t;for(var n=arguments.length,o=new Array(n),r=0;r<n;r++){o[r]=arguments[r]}t=e.call.apply(e,[this].concat(o))||this;t._oInstances={};return t}var n=t.prototype;n.createInstance=function e(t){var n="".concat(t.scopeObject.getId(),"_").concat(t.settings.bundles.join(","))+(t.settings.enhanceI18n?",".concat(t.settings.enhanceI18n.join(",")):"");if(!this._oInstances[n]){this._oInstances[n]=new s(Object.assign({factory:this},t))}return this._oInstances[n].initPromise};n.removeGlobalInstance=function e(){this._oInstances={}};return t}(t);return i},false);
//# sourceMappingURL=ResourceModelServiceFactory.js.map