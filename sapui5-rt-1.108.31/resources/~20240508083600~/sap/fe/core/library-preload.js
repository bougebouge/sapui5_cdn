//@ui5-bundle sap/fe/core/library-preload.js
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/ActionRuntime", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit"],function(e,t){"use strict";var a=t.transformRecursively;var n=t.constant;var r=t.compileExpression;var o={setActionEnablement:function(t,a,n,r){var o=[];for(var i in a){var l=[];t.setProperty(i,false);var s=a[i];for(var c=0;c<n.length;c++){var f=n[c];if(f){var p=f.getObject();if(r==="chart"){if(s===null&&!!p["#".concat(i)]||f.getObject(s)){t.setProperty(i,true);break}}else if(r==="table"){l=this._setActionEnablementForTable(f,t,i,s,l)}}}if(r==="table"){if(!n.length){t.setProperty("dynamicActions/".concat(i),{bEnabled:false,aApplicable:[],aNotApplicable:[]});o.push(e.setContextsBasedOnOperationAvailable(t,[]))}else if(n.length&&typeof s==="string"){o.push(e.setContextsBasedOnOperationAvailable(t,l))}}}if(r==="table"){return Promise.all(o)}},setActionEnablementAfterPatch:function(e,t,a){var n=a===null||a===void 0?void 0:a.getObject();var r=(n===null||n===void 0?void 0:n.controls)||{};for(var i in r){if(r[i]&&r[i].controlId){var l=e.byId(i);if(l.isA("sap.ui.mdc.Table")){var s=l.getRowBinding();if(s==t){o.setActionEnablement(a,JSON.parse(l.data("operationAvailableMap").customData),l.getSelectedContexts(),"table")}}}}},_setActionEnablementForTable:function(t,o,i,l,s){o.setProperty("dynamicActions/".concat(i),{bEnabled:false,aApplicable:[],aNotApplicable:[]});var c=[],f=[],p="".concat(o.getPath(),"/dynamicActions/").concat(i,"/bEnabled");if(typeof l==="object"&&l!==null&&l!==undefined){if(t){var b=t.getObject();var u=a(l,"PathInModel",function(e){return b?n(b[e.path]):n(false)},true);var v=r(u);if(v==="true"){o.getModel().setProperty(p,true);c.push(t)}else{f.push(t)}}e.setDynamicActionContexts(o,i,c,f)}else{var d=t.getObject();if(l===null&&!!d["#".concat(i)]){o.getModel().setProperty(p,true)}else{s.push(e.requestProperty(t,i,l,p))}}return s}};return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/AppComponent", ["sap/base/Log","sap/fe/core/AppStateHandler","sap/fe/core/controllerextensions/routing/RouterProxy","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ModelHelper","sap/fe/core/library","sap/fe/core/support/Diagnostics","sap/fe/macros/internal/valuehelp/ValueListHelper","sap/ui/core/Core","sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","./converters/MetaModelConverter","./helpers/SemanticDateOperators"],function(e,t,o,r,i,n,a,s,c,u,l,p,f){"use strict";var d,v,g;var C=p.deleteModelCacheData;var N=r.defineUI5Class;function R(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;A(e,t)}function A(e,t){A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return A(e,t)}var S=n.StartupMode;var E={FCL:{VIEWNAME:"sap.fe.core.rootView.Fcl",VIEWNAME_COMPATIBILITY:"sap.fe.templates.RootContainer.view.Fcl",ROUTERCLASS:"sap.f.routing.Router"},NAVCONTAINER:{VIEWNAME:"sap.fe.core.rootView.NavContainer",VIEWNAME_COMPATIBILITY:"sap.fe.templates.RootContainer.view.NavContainer",ROUTERCLASS:"sap.m.routing.Router"}};var h=(d=N("sap.fe.core.AppComponent",{interfaces:["sap.ui.core.IAsyncContentCreation"],config:{fullWidth:true},manifest:{"sap.ui5":{services:{resourceModel:{factoryName:"sap.fe.core.services.ResourceModelService",startup:"waitFor",settings:{bundles:["sap.fe.core.messagebundle"],modelName:"sap.fe.i18n"}},routingService:{factoryName:"sap.fe.core.services.RoutingService",startup:"waitFor"},shellServices:{factoryName:"sap.fe.core.services.ShellServices",startup:"waitFor"},ShellUIService:{factoryName:"sap.ushell.ui5service.ShellUIService"},navigationService:{factoryName:"sap.fe.core.services.NavigationService",startup:"waitFor"},environmentCapabilities:{factoryName:"sap.fe.core.services.EnvironmentService",startup:"waitFor"},sideEffectsService:{factoryName:"sap.fe.core.services.SideEffectsService",startup:"waitFor"},asyncComponentService:{factoryName:"sap.fe.core.services.AsyncComponentService",startup:"waitFor"}},rootView:{viewName:E.NAVCONTAINER.VIEWNAME,type:"XML",async:true,id:"appRootView"},routing:{config:{controlId:"appContent",routerClass:E.NAVCONTAINER.ROUTERCLASS,viewType:"XML",controlAggregation:"pages",async:true,containerOptions:{propagateModel:true}}}}},designtime:"sap/fe/core/designtime/AppComponent.designtime",library:"sap.fe.core"}),d(v=(g=function(r){R(u,r);function u(){var e;for(var t=arguments.length,o=new Array(t),i=0;i<t;i++){o[i]=arguments[i]}e=r.call.apply(r,[this].concat(o))||this;e.startupMode=S.Normal;return e}var p=u.prototype;p._isFclEnabled=function e(){var t,o;var r=this.getManifestEntry("/sap.ui5");return(r===null||r===void 0?void 0:(t=r.rootView)===null||t===void 0?void 0:t.viewName)===E.FCL.VIEWNAME||(r===null||r===void 0?void 0:(o=r.rootView)===null||o===void 0?void 0:o.viewName)===E.FCL.VIEWNAME_COMPATIBILITY};p.getRouterProxy=function e(){return this._oRouterProxy};p.getAppStateHandler=function e(){return this._oAppStateHandler};p.getRootViewController=function e(){return this.getRootControl().getController()};p.getRootContainer=function e(){return this.getRootControl().getContent()[0]};p.getStartupMode=function e(){return this.startupMode};p.setStartupModeCreate=function e(){this.startupMode=S.Create};p.setStartupModeAutoCreate=function e(){this.startupMode=S.AutoCreate};p.setStartupModeDeeplink=function e(){this.startupMode=S.Deeplink};p.init=function s(){var c,p;var d=new l({editMode:n.EditMode.Display,isEditable:false,draftStatus:n.DraftStatus.Clear,busy:false,busyLocal:{},pages:{}});var v=new l({pages:{}});d.setDefaultBindingMode("OneWay");i.enhanceUiJSONModel(d,n);i.enhanceInternalJSONModel(v);this.setModel(d,"ui");this.setModel(v,"internal");this.bInitializeRouting=this.bInitializeRouting!==undefined?this.bInitializeRouting:true;this._oRouterProxy=new o;this._oAppStateHandler=new t(this);this._oDiagnostics=new a;var g=this.getModel();if(g!==null&&g!==void 0&&(c=g.isA)!==null&&c!==void 0&&c.call(g,"sap.ui.model.odata.v4.ODataModel")){this.entityContainer=g.getMetaModel().requestObject("/$EntityContainer/")}else{this.entityContainer=Promise.resolve()}var C=this.getManifest()["sap.ui5"];if(C!==null&&C!==void 0&&(p=C.rootView)!==null&&p!==void 0&&p.viewName){if(C.rootView.viewName===E.FCL.VIEWNAME_COMPATIBILITY){C.rootView.viewName=E.FCL.VIEWNAME}else if((C===null||C===void 0?void 0:C.rootView.viewName)===E.NAVCONTAINER.VIEWNAME_COMPATIBILITY){C.rootView.viewName=E.NAVCONTAINER.VIEWNAME}if(C.rootView.viewName===E.FCL.VIEWNAME&&C.routing.config.routerClass===E.FCL.ROUTERCLASS){e.info('Rootcontainer: "'.concat(E.FCL.VIEWNAME,'" - Routerclass: "').concat(E.FCL.ROUTERCLASS,'"'))}else if(C.rootView.viewName===E.NAVCONTAINER.VIEWNAME&&C.routing.config.routerClass===E.NAVCONTAINER.ROUTERCLASS){e.info('Rootcontainer: "'.concat(E.NAVCONTAINER.VIEWNAME,'" - Routerclass: "').concat(E.NAVCONTAINER.ROUTERCLASS,'"'))}else if(C.rootView.viewName.indexOf("sap.fe.core.rootView")!==-1){throw Error("\nWrong configuration for the couple (rootView/routerClass) in manifest file.\n"+"Current values are :(".concat(C.rootView.viewName,"/").concat(C.routing.config.routerClass,")\n")+"Expected values are \n"+"\t - (".concat(E.NAVCONTAINER.VIEWNAME,"/").concat(E.NAVCONTAINER.ROUTERCLASS,")\n")+"\t - (".concat(E.FCL.VIEWNAME,"/").concat(E.FCL.ROUTERCLASS,")"))}else{e.info('Rootcontainer: "'.concat(C.rootView.viewName,'" - Routerclass: "').concat(E.NAVCONTAINER.ROUTERCLASS,'"'))}}f.addSemanticDateOperators();r.prototype.init.call(this);u.instanceMap[this.getId()]=this};p.onServicesStarted=function t(){var o=this;var r=function(){o.entityContainer.then(function(){if(o.getRootViewController().attachRouteMatchers){o.getRootViewController().attachRouteMatchers()}o.getRouter().initialize();o.getRouterProxy().init(o,o._isFclEnabled())}).catch(function(e){var t=c.getLibraryResourceBundle("sap.fe.core");o.getRootViewController().displayMessagePage(t.getText("C_APP_COMPONENT_SAPFE_APPSTART_TECHNICAL_ISSUES"),{title:t.getText("C_COMMON_SAPFE_ERROR"),description:e.message,FCLLevel:0})})};if(this.bInitializeRouting){return this.getRoutingService().initializeRouting().then(function(){if(o.getRootViewController()){return r()}else{o.getRootControl().attachAfterInit(function(){r()})}}).catch(function(t){e.error("cannot cannot initialize routing: ".concat(t))})}};p.exit=function e(){this._oAppStateHandler.destroy();this._oRouterProxy.destroy();delete this._oAppStateHandler;delete this._oRouterProxy;C(this.getMetaModel());this.getModel("ui").destroy()};p.getMetaModel=function e(){return this.getModel().getMetaModel()};p.getDiagnostics=function e(){return this._oDiagnostics};p.destroy=function t(){var o,i;try{s.initializeCachedValueHelp();delete u.instanceMap[this.getId()];delete window._routing}catch(t){e.info(t)}var n=this.oModels[undefined];var a;if(n.oRequestor){a=jQuery.extend({},n.oRequestor.mHeaders)}(o=this.getRoutingService())===null||o===void 0?void 0:o.beforeExit();for(var c=arguments.length,l=new Array(c),p=0;p<c;p++){l[p]=arguments[p]}(i=r.prototype.destroy).call.apply(i,[this].concat(l));if(a&&n.oRequestor){n.oRequestor.mHeaders=a}};p.getComponentData=function e(){return r.prototype.getComponentData.call(this)};p.getRoutingService=function e(){return{}};p.getShellServices=function e(){return{}};p.getNavigationService=function e(){return{}};p.getSideEffectsService=function e(){return{}};p.getEnvironmentCapabilities=function e(){return{}};p.getStartupParameters=function e(){var t=this.getComponentData();var o=t&&t.startupParameters||{};return Promise.resolve(o)};p.restore=function e(){this.getRootViewController().viewState.onRestore()};p.suspend=function e(){this.getRootViewController().viewState.onSuspend()};return u}(u),g.instanceMap={},g))||v);return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/AppStateHandler", ["sap/base/Log","sap/base/util/deepEqual","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ToES6Promise","sap/fe/navigation/library","sap/ui/base/Object","./controllerextensions/BusyLocker","./helpers/ModelHelper"],function(t,e,n,o,r,a,i,p){"use strict";var s,u;var c=n.defineUI5Class;function l(t,e){try{var n=t()}catch(t){return e(t)}if(n&&n.then){return n.then(void 0,e)}return n}function f(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;v(t,e)}function v(t,e){v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,n){e.__proto__=n;return e};return v(t,e)}var h=r.NavType;var A=(s=c("sap.fe.core.AppStateHandler"),s(u=function(n){f(r,n);function r(e){var o;o=n.call(this)||this;o._mCurrentAppState={};o.oAppComponent=e;o.sId="".concat(e.getId(),"/AppStateHandler");o.bNoRouteChange=false;t.info("APPSTATE : Appstate handler initialized");return o}var a=r.prototype;a.getId=function t(){return this.sId};a.createAppState=function n(){try{var o=this;if(!o.oAppComponent.getEnvironmentCapabilities().getCapabilities().AppState||i.isLocked(o)){return Promise.resolve()}var r=o.oAppComponent.getNavigationService(),a=o.oAppComponent.getRouterProxy(),s=a.getHash(),u=o.oAppComponent.getRootControl().getController(),c=p.isStickySessionSupported(o.oAppComponent.getMetaModel());if(!u.viewState){throw new Error("viewState controller extension not available for controller: ".concat(u.getMetadata().getName()))}return Promise.resolve(u.viewState.retrieveViewState()).then(function(n){var i={appState:n};var p=function(){if(n&&!e(o._mCurrentAppState,n)){o._mCurrentAppState=n;var p=l(function(){return Promise.resolve(r.storeInnerAppStateAsync(i,true,true)).then(function(e){t.info("APPSTATE: Appstate stored");var n=r.replaceInnerAppStateKey(s,e);if(n!==s){a.navToHash(n,null,null,null,!c);o.bNoRouteChange=true}t.info("APPSTATE: navToHash")})},function(e){t.error(e)});if(p&&p.then)return p.then(function(){})}}();return p&&p.then?p.then(function(){return i}):i})}catch(t){return Promise.reject(t)}};a._createNavigationParameters=function t(e,n){return Object.assign({},e,{selectionVariantDefaults:e.oDefaultedSelectionVariant,selectionVariant:e.oSelectionVariant,requiresStandardVariant:!e.bNavSelVarHasDefaultsOnly,navigationType:n})};a.applyAppState=function e(){var n=this;if(!this.oAppComponent.getEnvironmentCapabilities().getCapabilities().AppState||i.isLocked(this)){return Promise.resolve()}i.lock(this);i.lock(this.oAppComponent.getRootControl());var r=this.oAppComponent.getNavigationService();return o(r.parseNavigation()).catch(function(e){if(!e){e=[]}t.warning("APPSTATE: Parse Navigation failed",e[0]);return[{},e[1],e[2]]}).then(function(e){t.info("APPSTATE: Parse Navigation done");var o=e[0]||{},r=e[2]||h.initial,a=n.oAppComponent.getRootControl().getController();n._mCurrentAppState=r===h.iAppState?o&&o.appState:undefined;if(!a.viewState){throw new Error("viewState extension required for controller ".concat(a.getMetadata().getName()))}if(!o&&r==h.iAppState){return{}}return a.viewState.applyViewState(n._mCurrentAppState,n._createNavigationParameters(o,r))}).catch(function(e){t.error("appState could not be applied",e);throw e}).finally(function(){i.unlock(n);i.unlock(n.oAppComponent.getRootControl())})};a.checkIfRouteChangedByIApp=function t(){return this.bNoRouteChange};a.resetRouteChangedByIApp=function t(){if(this.bNoRouteChange){this.bNoRouteChange=false}};a._isListBasedComponent=function t(e){return e.isA("sap.fe.templates.ListComponent")};return r}(a))||u);return A},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/BaseController", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/Controller"],function(e,t,o){"use strict";var n,r,i,p;var u=t.publicExtension;var c=t.defineUI5Class;function l(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}function s(e,t){s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return s(e,t)}function a(e,t,o,n,r){var i={};Object.keys(n).forEach(function(e){i[e]=n[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},i);if(r&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(r):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}var f=(n=c("sap.fe.core.BaseController"),r=u(),n(i=(p=function(t){l(o,t);function o(){return t.apply(this,arguments)||this}var n=o.prototype;n.getAppComponent=function t(){if(!this._oAppComponent){this._oAppComponent=e.getAppComponent(this.getView())}return this._oAppComponent};n.getModel=function e(t){return this.getView().getModel(t)};n.setModel=function e(t,o){return this.getView().setModel(t,o)};n.getResourceBundle=function e(t){if(!t){t="i18n"}return this.getAppComponent().getModel(t).getResourceBundle()};return o}(o),a(p.prototype,"getAppComponent",[r],Object.getOwnPropertyDescriptor(p.prototype,"getAppComponent"),p.prototype),p))||i);return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/CommonUtils", ["sap/base/Log","sap/base/util/array/uniqueSort","sap/base/util/merge","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticDateOperators","sap/fe/core/helpers/StableIdHelper","sap/fe/core/type/TypeUtil","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/RangeOperator","./controls/AnyElement","./templating/FilterHelper"],function(e,t,a,n,r,i,o,c,s,l,u,v,f,p,d,g,m,O){"use strict";function h(e,t){try{var a=e()}catch(e){return t(e)}if(a&&a.then){return a.then(void 0,t)}return a}function P(e,t,a){var n=-1,r,i;function o(c){try{while(++n<e.length&&(!a||!a())){c=t(n);if(c&&c.then){if(b(c)){c=c.v}else{c.then(o,i||(i=S.bind(null,r=new E,2)));return}}}if(r){S(r,1,c)}else{r=c}}catch(e){S(r||(r=new E),2,e)}}o();return r}function b(e){return e instanceof E&&e.s&1}var E=function(){function e(){}e.prototype.then=function(t,a){var n=new e;var r=this.s;if(r){var i=r&1?t:a;if(i){try{S(n,1,i(this.v))}catch(e){S(n,2,e)}return n}else{return this}}this.o=function(e){try{var r=e.v;if(e.s&1){S(n,1,t?t(r):r)}else if(a){S(n,1,a(r))}else{S(n,2,r)}}catch(e){S(n,2,e)}};return n};return e}();function S(e,t,a){if(!e.s){if(a instanceof E){if(a.s){if(t&1){t=a.s}a=a.v}else{a.o=S.bind(null,e,t);return}}if(a&&a.then){a.then(S.bind(null,e,t),S.bind(null,e,2));return}e.s=t;e.v=a;var n=e.o;if(n){n(e)}}}var y={};var R=O.getConditions;var T=c.generate;var C=r.pathInModel;var j=r.or;var A=r.not;var I=r.compileExpression;var D=n.IssueSeverity;var N=n.IssueCategoryType;var x=n.IssueCategory;var F=function(t,a,n,r,i,o){try{var c=W(n);var s={};var l="",u="";var v;var f=[];var p=[];function m(){var e=c.parseShellHash(document.location.hash);l=e.semanticObject;u=e.action;return G(c,n,l,s)}var d;var g=h(function(){function e(){return Promise.resolve(m()).then(function(e){if(e){if(e.length>0){var a=false;var r={};var c=[];var s="".concat(o,"@");var d="".concat(o,"/@");var g=i.getObject(s);v=lt.getSemanticObjectAnnotations(g,l);if(!v.bHasEntitySetSO){var m=i.getObject(d);v=lt.getSemanticObjectAnnotations(m,l)}p=v.aUnavailableActions;p.push(u);r.navigationContexts=t;r.semanticObjectMapping=v.aMappings;H(e,p,r,c);y.forEach(function(e){var t;var n=e.targetSemObject;if(((t=c[0])===null||t===void 0?void 0:t.targetSemObject)===n){a=true}});if(S.additionalSemanticObjects&&c[0]&&S.additionalSemanticObjects[c[0].targetSemObject]&&S.additionalSemanticObjects[c[0].targetSemObject].allowedActions&&S.additionalSemanticObjects[c[0].targetSemObject].allowedActions.length===0){a=true}f=a?y:y.concat(c);n.getBindingContext("internal").setProperty("relatedApps/visibility",f.length>0);n.getBindingContext("internal").setProperty("relatedApps/items",f)}else{n.getBindingContext("internal").setProperty("relatedApps/visibility",false)}}else{n.getBindingContext("internal").setProperty("relatedApps/visibility",false)}})}if(a){if(r&&r.length>0){for(var g=0;g<r.length;g++){var O=r[g].$PropertyPath;if(!s[O]){s[O]={value:a[O]}}}}else{var h=i.getObject("".concat(o,"/$Type/$Key"));for(var b in h){var E=h[b];if(!s[E]){s[E]={value:a[E]}}}}}var S=te(n).getViewData();var y=[];var R;var T=function(){if(S.additionalSemanticObjects){d=Object.keys(S.additionalSemanticObjects);var e=P(d,function(e){return Promise.resolve(Promise.resolve(G(c,n,d[e],s))).then(function(a){R=a;X(S.additionalSemanticObjects[d[e]],t,y,R)})});if(e&&e.then)return e.then(function(){})}}();return T&&T.then?T.then(e):e(T)},function(t){e.error("Cannot read links",t)});return Promise.resolve(g&&g.then?g.then(function(){return f}):f)}catch(O){return Promise.reject(O)}};var L=["Edm.Boolean","Edm.Byte","Edm.Date","Edm.DateTime","Edm.DateTimeOffset","Edm.Decimal","Edm.Double","Edm.Float","Edm.Guid","Edm.Int16","Edm.Int32","Edm.Int64","Edm.SByte","Edm.Single","Edm.String","Edm.Time","Edm.TimeOfDay"];function $(e){if(!e){return undefined}return e.replace(/"/g," ").replace(/\\/g,"\\\\").split(/\s+/).reduce(function(e,t){if(t!==""){e="".concat(e?"".concat(e," "):"",'"').concat(t,'"')}return e},undefined)}function _(e){var t=e.getProperty("$Type");if(!e.getProperty("$kind")){switch(t){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":t=undefined;break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":t=e.getProperty("Value/$Path/$Type");break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":default:var a=e.getProperty("Target/$AnnotationPath");if(a){if(a.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){t=e.getProperty("Target/$AnnotationPath/fn/$Path/$Type")}else if(a.indexOf("com.sap.vocabularies.UI.v1.DataPoint")>-1){t=e.getProperty("Value/$Path/$Type")}else{t=undefined}}else{t=undefined}break}}return t}function B(e){var t=false;if(e){e.getCurrentContexts().forEach(function(e){if(e&&e.isTransient()){t=true}})}return t}function M(e,t){var a;var n;var r="$NavigationPropertyBinding";var o="@Org.OData.Capabilities.V1.SearchRestrictions";var c=e.replaceAll("%2F","/").split("/").filter(i.filterOutNavPropBinding);var s=i.getEntitySetPath(e,t);var l=s.split("/").filter(i.filterOutNavPropBinding);var u=t.getObject("/".concat(c.join("/"),"/$ContainsTarget"));var v=u&&c[c.length-1];if(!u){a=t.getObject("".concat(s).concat(o))}if(c.length>1){var f=u?v:l[l.length-1];var p=u?s:"/".concat(l.slice(0,-1).join("/".concat(r,"/")));var d=lt.getNavigationRestrictions(t,p,f.replaceAll("%2F","/"));n=d&&d["SearchRestrictions"]}return n||a}function k(e,t,a){var n=e.getObject("".concat(t,"@Org.OData.Capabilities.V1.NavigationRestrictions"));var r=n&&n.RestrictedProperties;return r&&r.find(function(e){return e&&e.NavigationProperty&&e.NavigationProperty.$NavigationPropertyPath===a})}function w(e,t,a){var n=false;var r=e.getObject("".concat(t,"@Org.OData.Capabilities.V1.FilterRestrictions"));if(r&&r.NonFilterableProperties){n=r.NonFilterableProperties.some(function(e){return e.$NavigationPropertyPath===a||e.$PropertyPath===a})}return n}function U(e,t,a){var n="".concat(t,"/").concat(a),r=n.split("/").splice(0,2),i=n.split("/").splice(2);var o=false,c="";t=r.join("/");o=i.some(function(a,n,r){if(c.length>0){c+="/".concat(a)}else{c=a}if(n===r.length-2){var i=k(e,t,a);var s=i&&i.FilterRestrictions;var l=s&&s.NonFilterableProperties;var u=r[r.length-1];if(l&&l.find(function(e){return e.$PropertyPath===u})){return true}}if(n===r.length-1){o=w(e,t,c)}else if(e.getObject("".concat(t,"/$NavigationPropertyBinding/").concat(a))){o=w(e,t,c);c="";t="/".concat(e.getObject("".concat(t,"/$NavigationPropertyBinding/").concat(a)))}return o===true});return o}function V(e,t,a,n){if(typeof a!=="string"){throw new Error("sProperty parameter must be a string")}var r;if(e.getObject("".concat(t,"/@com.sap.vocabularies.Common.v1.ResultContext"))===true){return true}var i=e.createBindingContext("".concat(t,"/").concat(a));if(!n){if(i.getProperty("@com.sap.vocabularies.UI.v1.Hidden")===true||i.getProperty("@com.sap.vocabularies.UI.v1.HiddenFilter")===true){return false}var o=i.getProperty("@com.sap.vocabularies.UI.v1.Hidden/$Path");var c=i.getProperty("@com.sap.vocabularies.UI.v1.HiddenFilter/$Path");if(o&&c){return I(A(j(C(o),C(c))))}else if(o){return I(A(C(o)))}else if(c){return I(A(C(c)))}}if(t.split("/").length===2&&a.indexOf("/")<0){r=!w(e,t,a)}else{r=!U(e,t,a)}if(r&&i){var s=_(i);if(s){r=L.indexOf(s)!==-1}else{r=false}}return r}function W(e){return Z(e).getShellServices()}function Q(){var e=window.location.hash;return e.split("&")[0]}function G(e,t,a,n){return e.getLinks({semanticObject:a,params:n})}function q(e){var t=[];var a=Object.keys(e);var n;for(var r=0;r<a.length;r++){n={LocalProperty:{$PropertyPath:a[r]},SemanticObjectProperty:e[a[r]]};t.push(n)}return t}function H(e,t,a,n,r){for(var i=0;i<e.length;i++){var o=e[i];var c=o.intent;var s=c.split("-")[1].split("?")[0];if(r&&r.includes(s)){n.push({text:o.text,targetSemObject:c.split("#")[1].split("-")[0],targetAction:s.split("~")[0],targetParams:a})}else if(!r&&t&&t.indexOf(s)===-1){n.push({text:o.text,targetSemObject:c.split("#")[1].split("-")[0],targetAction:s.split("~")[0],targetParams:a})}}}function X(e,t,a,n){if(n&&n.length>0){var r=e.allowedActions||undefined;var i=e.unavailableActions?e.unavailableActions:[];var o=e.mapping?q(e.mapping):[];var c={navigationContexts:t,semanticObjectMapping:o};H(n,i,c,a,r)}}function Y(e,t){var a={bHasEntitySetSO:false,aAllowedActions:[],aUnavailableActions:[],aMappings:[]};var n,r;var i;for(var o in e){if(o.indexOf("com.sap.vocabularies.Common.v1.SemanticObject")>-1&&e[o]===t){a.bHasEntitySetSO=true;n="@".concat("com.sap.vocabularies.Common.v1.SemanticObjectMapping");r="@".concat("com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions");if(o.indexOf("#")>-1){i=o.split("#")[1];n="".concat(n,"#").concat(i);r="".concat(r,"#").concat(i)}if(e[n]){a.aMappings=a.aMappings.concat(e[n])}if(e[r]){a.aUnavailableActions=a.aUnavailableActions.concat(e[r])}break}}return a}function K(t){var a=t.getModel().getMetaModel();var n=t.getBindingContext();var r=n&&n.getPath();var i=a.getMetaPath(r);var o="".concat(i,"/")+"@com.sap.vocabularies.Common.v1.SemanticKey";var c=a.getObject(o);var s=n.getObject();if(!s){n.requestObject().then(function(e){return F(n,e,t,c,a,i)}).catch(function(t){e.error("Cannot update the related app details",t)})}else{return F(n,s,t,c,a,i)}}function J(e){var t=["sap.m.Button","sap.m.OverflowToolbarButton"];if(e&&t.indexOf(e.getMetadata().getName())!==-1&&e.getVisible()&&e.getEnabled()){e.firePress()}}function z(e){if(e==="true"||e===true){return true}else{return false}}function Z(e){if(e.isA("sap.fe.core.AppComponent")){return e}var t=l.getOwnerComponentFor(e);if(!t){return e}else{return Z(t)}}function ee(e){var t=e.getRootViewController();return t.isFclEnabled()?t.getRightmostView():lt.getTargetView(e.getRootContainer().getCurrentPage())}function te(e){if(e&&e.isA("sap.ui.core.ComponentContainer")){e=e.getComponentInstance();e=e&&e.getRootControl()}while(e&&!e.isA("sap.ui.core.mvc.View")){e=e.getParent()}return e}function ae(e,t){var a=false;var n=e.split("/");if(n.length>1){a=t[n[0]]&&t[n[0]].hasOwnProperty(n[1])&&t[n[0]][n[1]]===0}else{a=t[e]===0}return a}function ne(e,t){var a=[];for(var n=0;n<e.length;n++){var r=e[n].entitySet,i=e[n].contextData;delete i["@odata.context"];delete i["%40odata.context"];delete i["@odata.metadataEtag"];delete i["%40odata.metadataEtag"];delete i["SAP__Messages"];var o=Object.keys(i);for(var c=0;c<o.length;c++){var s=o[c],l=t.getObject("/".concat(r,"/").concat(s,"@"));if(l){if(l["@com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]||l["@com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"]||l["@com.sap.vocabularies.Analytics.v1.Measure"]){delete i[s]}else if(l["@com.sap.vocabularies.Common.v1.FieldControl"]){var u=l["@com.sap.vocabularies.Common.v1.FieldControl"];if(u["$EnumMember"]&&u["$EnumMember"].split("/")[1]==="Inapplicable"){delete i[s]}else if(u["$Path"]&&lt.isFieldControlPathInapplicable(u["$Path"],i)){delete i[s]}}}}a.push(i)}return a}function re(e,t){for(var a in t){if(t[a]!==e[a]){return false}}return true}function ie(e,t,a){var n=e.getObject("".concat(t,"/"))||{},r={};for(var i in n){if(n.hasOwnProperty(i)&&!/^\$/i.test(i)&&n[i].$kind&&re(n[i],a||{$kind:"Property"})){r[i]=n[i]}}return r}function oe(e,t){var a;if(e&&t){a=e.getObject("".concat(t,"@Org.OData.Capabilities.V1.FilterRestrictions/RequiredProperties"))}return a}function ce(e,t){var a=e&&e.getActions();if(a){a.forEach(function(e){if(e.isA("sap.ui.mdc.actiontoolbar.ActionToolbarAction")){e=e.getAction()}if(e.isA("sap.m.MenuButton")){var a=e.getMenu();var n=a.getItems();n.forEach(function(e){if(e.data("IBNData")){t.push(e)}})}else if(e.data("IBNData")){t.push(e)}})}return t}function se(t,a){var n={};var r=function(r){if(r){var i=Object.keys(r);i.forEach(function(e){if(e.indexOf("_")!==0&&e.indexOf("odata.context")===-1){n[e]={value:r[e]}}})}if(t.length){t.forEach(function(t){var r=t.data("IBNData").semanticObject;var i=t.data("IBNData").action;lt.getShellServices(a).getLinks({semanticObject:r,action:i,params:n}).then(function(e){t.setVisible(t.getVisible()&&e&&e.length===1)}).catch(function(t){e.error("Cannot retrieve the links from the shell service",t)})})}};if(a&&a.getBindingContext()){var i;(i=a.getBindingContext())===null||i===void 0?void 0:i.requestObject().then(function(e){return r(e)}).catch(function(t){e.error("Cannot retrieve the links from the shell service",t)})}else{r()}}function le(e,t,a,n){var r=e;if(t){if(n){var i=ue(t.aCustomBundles,"".concat(e,"|").concat(n));r=i?"".concat(e,"|").concat(n):e}return t.getText(r,a)}t=u.getLibraryResourceBundle("sap.fe.core");return t.getText(r,a)}function ue(e,t){if(e.length){for(var a=e.length-1;a>=0;a--){var n=e[a].hasText(t);if(n){return true}ue(e[a].aCustomBundles,t)}}return false}function ve(e,t,a,n){a=!a?e.getObject(e.getPath()):a;var r=e.getPath().split("/@")[0];var i=e.getObject(r).$Type;var o=fe(e.getModel(),i);if(o){r="/".concat(o)}if(n){return e.getObject("".concat(r,"/").concat(a,"@Org.OData.Core.V1.OperationAvailable"))}if(t){return"".concat(r,"/").concat(a)}else{return{sContextPath:r,sProperty:e.getObject("".concat(r,"/").concat(a,"@Org.OData.Core.V1.OperationAvailable/$Path")),sBindingParameter:e.getObject("".concat(r,"/").concat(a,"/@$ui5.overload/0/$Parameter/0/$Name"))}}}function fe(e,t){var a=e.getObject("/");for(var n in a){if(typeof a[n]==="object"&&a[n].$Type===t){return n}}}function pe(e,t){var a=e["@com.sap.vocabularies.Common.v1.Text"],n=a&&(e&&e["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]||t&&t["@com.sap.vocabularies.UI.v1.TextArrangement"]);if(n){if(n.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){return"Description"}else if(n.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextLast"){return"ValueDescription"}else if(n.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate"){return"Value"}return"DescriptionValue"}return a?"DescriptionValue":"Value"}function de(e){var t=e.getModel().getMetaModel();return t.getObject("".concat(t.getMetaPath(e.getPath()),"/$Type"))}function ge(t,a,n){var r=a;var i=t.indexOf("(");if(i>-1){var o=t.slice(i+1,-1);var c=de(r);while(c!==o){r=r.getBinding().getContext();if(r){c=de(r)}else{e.warning("Cannot determine target type to request property value for bound action invocation");return Promise.resolve(undefined)}}}return r.requestObject(n)}function me(e,t,a,n){var r=a&&a.indexOf("/")===0?rt(a,e.getModel()):ge(t,e,a);return r.then(function(a){return Promise.resolve({vPropertyValue:a,oSelectedContext:e,sAction:t,sDynamicActionEnabledPath:n})})}function Oe(t,a){return Promise.all(a).then(function(e){if(e.length){var a=[],n=[];e.forEach(function(e){if(e){if(e.vPropertyValue){t.getModel().setProperty(e.sDynamicActionEnabledPath,true);a.push(e.oSelectedContext)}else{n.push(e.oSelectedContext)}}});he(t,e[0].sAction,a,n)}}).catch(function(t){e.trace("Cannot retrieve property value from path",t)})}function he(e,t,a,n){var r="".concat(e.getPath(),"/dynamicActions/").concat(t),i=e.getModel();i.setProperty("".concat(r,"/aApplicable"),a);i.setProperty("".concat(r,"/aNotApplicable"),n)}function Pe(e){var t=s.getDataTypeClassName(e);var a=s.getBaseType(t,{},{});return d.getOperatorsForType(a)}function be(e,t){var a=e.filter(function(e){return t.indexOf(e)>-1});return a.toString()||undefined}function Ee(e){var t=lt.AllowedExpressionsPrio;e.sort(function(e,a){return t.indexOf(e)-t.indexOf(a)});return e[0]}function Se(e,t,a,n,r,i){var c=lt.getFilterRestrictionsByPath(t,a);var s=["EQ"];var l=["EQ","GE","LE","LT","GT","BT","NOTLE","NOTLT","NOTGE","NOTGT"];var u=["EQ","BT"];var v=["TODAY","TOMORROW","YESTERDAY","DATE","FIRSTDAYWEEK","LASTDAYWEEK","FIRSTDAYMONTH","LASTDAYMONTH","FIRSTDAYQUARTER","LASTDAYQUARTER","FIRSTDAYYEAR","LASTDAYYEAR"];var f=["EQ","BT"];var p=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT"];var d=["Contains","NotContains","StartsWith","NotStartsWith","EndsWith","NotEndsWith"];var g=o.getSupportedOperations();var m=r==="true"||r===true;var O=[];var h=typeof i==="string"?JSON.parse(i).customData:i;if(a.getObject("".concat(t,"/@com.sap.vocabularies.Common.v1.ResultContext"))===true){return s.toString()}if(h&&h.operatorConfiguration&&h.operatorConfiguration.length>0){O=o.getFilterOperations(h.operatorConfiguration)}else{O=o.getSemanticDateOperations()}var P=Pe(n);if(m){P=g.concat(P)}var b;if(c&&c.FilterAllowedExpressions&&c.FilterAllowedExpressions[e]){var E=lt.getSpecificAllowedExpression(c.FilterAllowedExpressions[e]);switch(E){case"SingleValue":var S=n==="Edm.Date"&&m?v:s;b=be(P,S);break;case"MultiValue":b=be(P,s);break;case"SingleRange":var y;if(m){if(n==="Edm.Date"){y=O}else if(n==="Edm.DateTimeOffset"){y=O.concat(f)}else{y=l}}else if(n==="Edm.DateTimeOffset"){y=u}else{y=l}var R=be(P,y);b=R?R:"";break;case"MultiRange":b=be(P,p);break;case"SearchExpression":b=be(P,d);break;case"MultiRangeOrSearchExpression":b=be(P,d.concat(p));break;default:break}}return b}y.getOperatorsForProperty=Se;function ye(){var e=["EQ","NE"];return e.toString()}function Re(e){var t=Pe(e);var a=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT"];return be(t,a)}function Te(e,t){var a=t.substring(0,t.lastIndexOf("/"));var n=e.getObject("".concat(a,"/@com.sap.vocabularies.Common.v1.ResultContext"));var r={};if(n&&a!==t){r.contextPath=a;r.parameterProperties=lt.getContextPathProperties(e,a)}return r}function Ce(e,t,a,n,r){var i;var o=R(r,e);if(r!==null&&r!==void 0&&r.SemanticDates&&a&&a.indexOf(r===null||r===void 0?void 0:(i=r.SemanticDates)===null||i===void 0?void 0:i.operator)>-1){var c=lt.addSemanticDatesToConditions(r===null||r===void 0?void 0:r.SemanticDates);if(c&&Object.keys(c).length>0){n.push(c)}}else if(o){if(!t||t.indexOf(o.operator)>-1){n.push(o)}}return n}function je(e){var t=[];if(e!==null&&e!==void 0&&e.high){t.push(e===null||e===void 0?void 0:e.high)}if(e!==null&&e!==void 0&&e.low){t.push(e===null||e===void 0?void 0:e.low)}return{values:t,operator:e===null||e===void 0?void 0:e.operator,isEmpty:null}}function Ae(e,t,a,n,r,i,o,c,s,l,u,v){var f=[],p,d,g;if(s||lt.isPropertyFilterable(c,e,i,true)){var m=o[i];p=t.getSelectOption(a);var O=De(v,i);d=s?["EQ"]:lt.getOperatorsForProperty(i,e,c);if(u){g=s?["EQ"]:lt.getOperatorsForProperty(i,e,c,m===null||m===void 0?void 0:m.$Type,u,O)}f=s?lt.addSelectOptionToConditions(m,d,g,f,p[0]):p.reduce(lt.addSelectOptionToConditions.bind(null,m,d,g),f);if(f.length){if(r){n[r+i]=n.hasOwnProperty(r+i)?n[r+i].concat(f):f}else if(l){f.forEach(function(e){e["filtered"]=true});if(n.hasOwnProperty(i)){n[i].forEach(function(e){e["filtered"]=false});n[i]=n[i].concat(f)}else{n[i]=f}}else{n[i]=n.hasOwnProperty(i)?n[i].concat(f):f}}}}function Ie(e){var t,a;return{high:(e===null||e===void 0?void 0:(t=e.values)===null||t===void 0?void 0:t[0])||null,low:(e===null||e===void 0?void 0:(a=e.values)===null||a===void 0?void 0:a[1])||null,operator:e===null||e===void 0?void 0:e.operator}}function De(e,t){var a,n;var r=e===null||e===void 0?void 0:e.controlConfiguration;var i=r&&((a=r["@com.sap.vocabularies.UI.v1.SelectionFields"])===null||a===void 0?void 0:a.filterFields);return i!==null&&i!==void 0&&i[t]?(n=i[t])===null||n===void 0?void 0:n.settings:undefined}function Ne(e,t,a,n,r,i,o){var c=e.getSelectOptionsPropertyNames(),s=lt.getContextPathProperties(a,n),l=Object.keys(s),u=lt.getParameterInfo(a,n),v=u.contextPath,f=u.parameterProperties,p=!!u.contextPath&&f&&Object.keys(f).length>0;if(p){var d=Object.keys(f);d.forEach(function(n){var s;if(c.includes("$Parameter.".concat(n))){s="$Parameter.".concat(n)}else if(c.includes(n)){s=n}else if(n.startsWith("P_")&&c.includes("$Parameter.".concat(n.slice(2,n.length)))){s="$Parameter.".concat(n.slice(2,n.length))}else if(n.startsWith("P_")&&c.includes(n.slice(2,n.length))){s=n.slice(2,n.length)}else if(c.includes("$Parameter.P_".concat(n))){s="$Parameter.P_".concat(n)}else if(c.includes("P_".concat(n))){s="P_".concat(n)}if(s){Ae(v,e,s,t,undefined,n,f,a,true,r,i,o)}})}l.forEach(function(l){var u;if(c.includes(l)){u=l}else if(l.startsWith("P_")&&c.includes(l.slice(2,l.length))){u=l.slice(2,l.length)}else if(c.includes("P_".concat(l))){u="P_".concat(l)}if(u){Ae(n,e,u,t,undefined,l,s,a,false,r,i,o)}});c.forEach(function(c){if(c.indexOf(".")>0&&!c.includes("$Parameter")){var s=c.replaceAll(".","/");var l="/".concat(s).startsWith(n)?"/".concat(s):"".concat(n,"/").concat(s);if(a.getObject(l.replace("P_",""))){xe(l,n,e,c,a,t,r,i,o)}}});return t}function xe(e,t,a,n,r,i,o,c,s){var l=n.split(".");if("/".concat(n.replaceAll(".","/")).startsWith(t)){var u="/".concat(n).replaceAll(".","/"),v=u.replace("".concat(t,"/"),"");l=v.split("/")}var f="";var p=l[l.length-1];for(var d=0;d<l.length-1;d++){if(r.getObject("".concat(t,"/").concat(l[d].replace("P_",""))).$isCollection){f="".concat(f+l[d],"*/")}else{f="".concat(f+l[d],"/")}t="".concat(t,"/").concat(l[d])}var g=e.slice(0,e.lastIndexOf("/")),m=lt.getContextPathProperties(r,g),O=a.getSelectOptionsPropertyNames();var h=p;if(m[p]){h=p}else if(p.startsWith("P_")&&m[p.replace("P_","")]){h=p.replace("P_","")}else if(m["P_".concat(p)]&&O.includes("P_".concat(p))){h="P_".concat(p)}if(p.startsWith("P_")&&i[f+h]){}else if(!p.startsWith("P_")&&i[f+h]){delete i[f+h];Ae(g,a,n,i,f,h,m,r,false,o,c,s)}else{Ae(g,a,n,i,f,h,m,r,false,o,c,s)}}function Fe(e,t,a){var n=lt.getAppComponent(a);var r=n.getNavigationService();return r.mixAttributesAndSelectionVariant(t,e.toJSONString())}function Le(t,a,n,r){var i;var c=function(t,a,n){var r={option:"",sign:"I",low:a,high:n};switch(t){case"Contains":r.option="CP";break;case"StartsWith":r.option="CP";r.low+="*";break;case"EndsWith":r.option="CP";r.low="*".concat(r.low);break;case"BT":case"LE":case"LT":case"GT":case"NE":case"EQ":r.option=t;break;case"DATE":r.option="EQ";break;case"DATERANGE":r.option="BT";break;case"FROM":r.option="GE";break;case"TO":r.option="LE";break;case"EEQ":r.option="EQ";break;case"Empty":r.option="EQ";r.low="";break;case"NotContains":r.option="CP";r.sign="E";break;case"NOTBT":r.option="BT";r.sign="E";break;case"NotStartsWith":r.option="CP";r.low+="*";r.sign="E";break;case"NotEndsWith":r.option="CP";r.low="*".concat(r.low);r.sign="E";break;case"NotEmpty":r.option="NE";r.low="";break;case"NOTLE":r.option="LE";r.sign="E";break;case"NOTGE":r.option="GE";r.sign="E";break;case"NOTLT":r.option="LT";r.sign="E";break;case"NOTGT":r.option="GT";r.sign="E";break;default:e.warning("".concat(t," is not supported. ").concat(i," could not be added to the navigation context"))}return r};var s=a.filterConditions;var l=a.filterConditionsWithoutConflict?a.filterConditionsWithoutConflict:{};var u=n.propertiesWithoutConflict?n.propertiesWithoutConflict:{};var v=function(e,t,a){var n=s[t];var i=r&&r.getPropertyHelper().getProperty(t);var l=i===null||i===void 0?void 0:i.typeConfig;var u=r&&r.getControlDelegate().getTypeUtil();for(var v in n){var f=n[v];var p="",m="I",O="",h=null,P=void 0;var b=d.getOperator(f.operator);if(b instanceof g){var E;P=lt.createSemanticDatesFromConditions(f);var S=b.getModelFilter(f,t,l===null||l===void 0?void 0:l.typeInstance,false,l===null||l===void 0?void 0:l.baseType);if(!(S!==null&&S!==void 0&&S.aFilters)&&!(S!==null&&S!==void 0&&(E=S.aFilters)!==null&&E!==void 0&&E.length)){m=b!==null&&b!==void 0&&b.exclude?"E":"I";O=u.externalizeValue(S.getValue1(),l.typeInstance);h=u.externalizeValue(S.getValue2(),l.typeInstance);p=S.getOperator()}}else{var y=o.getSupportedOperations();if(y.includes(f===null||f===void 0?void 0:f.operator)){P=lt.createSemanticDatesFromConditions(f)}var R=f.values[0]&&f.values[0].toString()||"";var T=f.values[1]&&f.values[1].toString()||null;var C=c(f.operator,R,T);m=b!==null&&b!==void 0&&b.exclude?"E":"I";O=C===null||C===void 0?void 0:C.low;h=C===null||C===void 0?void 0:C.high;p=C===null||C===void 0?void 0:C.option}if(p&&P){e.addSelectOption(a?a:t,m,p,O,h,undefined,P)}else if(p){e.addSelectOption(a?a:t,m,p,O,h)}}};for(i in s){if(!t.getSelectOption(i)){if(i==="$editState"){continue}v(t,i)}else{if(u&&i in u){v(t,i,u[i])}if(i in l){v(t,i,l[i])}}}return t}function $e(e){var t=i.isStickySessionSupported(e.getModel().getMetaModel());var a=e.getModel("ui").getProperty("/isEditable");return t&&a}function _e(e,t,a){if(t&&e&&e.length){for(var n=0;n<e.length;n++){var r=t.getSelectOption("DisplayCurrency"),i=a&&a.getSelectOption("DisplayCurrency");if(e[n].$PropertyPath==="DisplayCurrency"&&(!r||!r.length)&&i&&i.length){var o=i[0];var c=o["Sign"];var s=o["Option"];var l=o["Low"];var u=o["High"];t.addSelectOption("DisplayCurrency",c,s,l,u)}}}}function Be(e,t,a){var n=e.getObject("".concat(t,"/")).$Key;var r=[];var i=[];var o=e.getObject("".concat(t,"/"));for(var c in o){if(o[c].$kind&&o[c].$kind==="Property"){var s=e.getObject("".concat(t,"/").concat(c,"@"))||{},l=n.indexOf(c)>-1,u=s["@Org.OData.Core.V1.Immutable"],v=!s["@Org.OData.Core.V1.Computed"],f=!s["@com.sap.vocabularies.UI.v1.Hidden"],p=s["@Org.OData.Core.V1.ComputedDefaultValue"],d=l&&o[c].$Type==="Edm.Guid"?p&&s["@com.sap.vocabularies.Common.v1.Text"]:false;if((d||l&&o[c].$Type!=="Edm.Guid")&&v&&f){r.push(c)}else if(u&&v&&f){i.push(c)}if(!v&&p&&a){var g;var m=Z(a).getDiagnostics();var O="Core.ComputedDefaultValue is ignored as Core.Computed is already set to true";m.addIssue(x.Annotation,D.Medium,O,N,N===null||N===void 0?void 0:(g=N.Annotations)===null||g===void 0?void 0:g.IgnoredAnnotation)}}}var h=lt.getRequiredPropertiesFromInsertRestrictions(t,e);if(h.length){h.forEach(function(a){var n=e.getObject("".concat(t,"/").concat(a,"@")),o=!n||!n["@com.sap.vocabularies.UI.v1.Hidden"];if(o&&r.indexOf(a)===-1&&i.indexOf(a)===-1){r.push(a)}})}return r.concat(i)}function Me(e,t){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var n=[];var r=[];var o="$NavigationPropertyBinding";var c;if(e.endsWith("$")){e=e.replace("/$","")}var s=e.replaceAll("%2F","/").split("/").filter(i.filterOutNavPropBinding);var l=i.getEntitySetPath(e,t);var u=l.split("/").filter(i.filterOutNavPropBinding);var v=t.getObject("/".concat(s.join("/"),"/$ContainsTarget"));var f=v&&s[s.length-1];if(!v){c=t.getObject("".concat(l,"@"))}if(s.length>1){var p=v?f:u[u.length-1];var d=v?l:"/".concat(u.slice(0,-1).join("/".concat(o,"/")));var g=lt.getNavigationRestrictions(t,d,p.replaceAll("%2F","/"));if(lt.hasRestrictedPropertiesInAnnotations(g,true,a)){r=a?g["UpdateRestrictions"].RequiredProperties:g["InsertRestrictions"].RequiredProperties}if((!r||!r.length)&&lt.hasRestrictedPropertiesInAnnotations(c,false,a)){r=lt.getRequiredPropertiesFromAnnotations(c,a)}}else if(lt.hasRestrictedPropertiesInAnnotations(c,false,a)){r=lt.getRequiredPropertiesFromAnnotations(c,a)}r.forEach(function(e){var t=e["$PropertyPath"];n.push(t)});return n}function ke(e,t){return lt.getRequiredProperties(e,t)}function we(e,t){return lt.getRequiredProperties(e,t,true)}function Ue(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t){return e["@Org.OData.Capabilities.V1.UpdateRestrictions"].RequiredProperties}return e["@Org.OData.Capabilities.V1.InsertRestrictions"].RequiredProperties}function Ve(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(t){if(a){return e&&e["UpdateRestrictions"]&&e["UpdateRestrictions"].RequiredProperties?true:false}return e&&e["InsertRestrictions"]&&e["InsertRestrictions"].RequiredProperties?true:false}else if(a){return e&&e["@Org.OData.Capabilities.V1.UpdateRestrictions"]&&e["@Org.OData.Capabilities.V1.UpdateRestrictions"].RequiredProperties?true:false}return e&&e["@Org.OData.Capabilities.V1.InsertRestrictions"]&&e["@Org.OData.Capabilities.V1.InsertRestrictions"].RequiredProperties?true:false}function We(e,t,a,n,r,i){return new Promise(function(o){var c=e.getComponentData(),s=c&&c.startupParameters||{},l=e.getShellServices();if(!l.hasUShell()){t.forEach(function(e){var t;var o=n?"/".concat(e.$Name):(t=e.getPath)===null||t===void 0?void 0:t.call(e).slice(e.getPath().lastIndexOf("/")+1);var c=n?o.slice(1):o;if(i&&r){if(i[c]){a.setProperty(o,i[c])}}else if(s[c]){a.setProperty(o,s[c][0])}});return o(true)}return l.getStartupAppState(e).then(function(e){var c=e.getData()||{},l=c.selectionVariant&&c.selectionVariant.SelectOptions||[];t.forEach(function(e){var t;var o=n?"/".concat(e.$Name):(t=e.getPath)===null||t===void 0?void 0:t.call(e).slice(e.getPath().lastIndexOf("/")+1);var c=n?o.slice(1):o;if(i&&r){if(i[c]){a.setProperty(o,i[c])}}else if(s[c]){a.setProperty(o,s[c][0])}else if(l.length>0){for(var u in l){var v=l[u];if(v.PropertyName===c){var f=v.Ranges.length?v.Ranges[v.Ranges.length-1]:undefined;if(f&&f.Sign==="I"&&f.Option==="EQ"){a.setProperty(o,f.Low)}}}}});return o(true)})})}function Qe(e,t){var a=t,n=a?Object.keys(a).filter(function(e){return a[e].useForCreate}):[];var r;for(var i=0;i<n.length;i++){var o=n[i];var c=e&&e[o];if(c&&c.length===1){r=r||Object.create(null);r[o]=c[0]}}return r}function Ge(e){var t=[];if(e.parameters){var a=Object.keys(e.parameters)||[];if(a.length>0){a.forEach(function(a){var n=e.parameters[a];if(n.value&&n.value.value&&n.value.format==="binding"){var r={LocalProperty:{$PropertyPath:n.value.value},SemanticObjectProperty:a};if(t.length>0){for(var i=0;i<t.length;i++){if(t[i]["LocalProperty"]["$PropertyPath"]!==r["LocalProperty"]["$PropertyPath"]){t.push(r)}}}else{t.push(r)}}})}}return t}function qe(t,a){var n={};var r;var i=t.controlConfiguration;for(var o in i){if(o.indexOf("@com.sap.vocabularies.UI.v1.DataPoint")>-1||o.indexOf("@com.sap.vocabularies.UI.v1.Chart")>-1){if(i[o].navigation&&i[o].navigation.targetOutbound&&i[o].navigation.targetOutbound.outbound){var c=i[o].navigation.targetOutbound.outbound;var s=a[c];if(s.semanticObject&&s.action){if(o.indexOf("Chart")>-1){r=T(["fe","MicroChartLink",o])}else{r=T(["fe","HeaderDPLink",o])}var l=lt.getSemanticObjectMapping(s);n[r]={semanticObject:s.semanticObject,action:s.action,semanticObjectMapping:l}}else{e.error("Cross navigation outbound is configured without semantic object and action for ".concat(c))}}}}return n}function He(e,t){var a=typeof t==="string"?JSON.parse(t):t;for(var n=0;n<a.length;n++){var r=a[n]["LocalProperty"]&&a[n]["LocalProperty"]["$PropertyPath"]||a[n]["@com.sap.vocabularies.Common.v1.LocalProperty"]&&a[n]["@com.sap.vocabularies.Common.v1.LocalProperty"]["$Path"];var i=a[n]["SemanticObjectProperty"]||a[n]["@com.sap.vocabularies.Common.v1.SemanticObjectProperty"];if(e.getSelectOption(r)){var o=e.getSelectOption(r);e.removeSelectOption(r);e.massAddSelectOption(i,o)}}return e}function Xe(t,a,n){return new Promise(function(e){var r,i;if(n===""){r=t.getObject("".concat(a,"@").concat("com.sap.vocabularies.Common.v1.SemanticObject"));i=t.getObject("".concat(a,"@").concat("com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"))}else{r=t.getObject("".concat(a,"@").concat("com.sap.vocabularies.Common.v1.SemanticObject","#").concat(n));i=t.getObject("".concat(a,"@").concat("com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions","#").concat(n))}var o=[{semanticObject:r}];var c={semanticObject:r};e({semanticObjectPath:a,semanticObjectForGetLinks:o,semanticObject:c,unavailableActions:i})}).catch(function(t){e.error("Error in fnGetSemanticObjectsFromPath",t)})}function Ye(t,n,r,i){return Promise.all(t).then(function(e){var t,o,c,s=[];var l={};var u=function(e,t){for(var a in t){if(a===e){return true}else{return false}}};for(var v=0;v<e.length;v++){t=e[v];if(t&&t.length>0&&t[0]!==undefined){var f={};var p={};var d=void 0;for(var g=0;g<t.length;g++){s.push([]);var m=false;var O=false;for(var h=0;h<t[g][0].length;h++){o=t[g][0][h];c=o&&o.intent.split("?")[0].split("-")[1];if(!(o&&o.intent&&o.intent.indexOf(i)===0)){m=true;if(!u(c,n[v].unavailableActions)){s[g].push(o);O=true}}}p={semanticObject:n[v].semanticObject,path:n[v].path,HasTargets:O,HasTargetsNotFiltered:m};if(f[n[v].semanticObject]===undefined){f[n[v].semanticObject]={}}d=n[v].path.replace(/\//g,"_");if(f[n[v].semanticObject][d]===undefined){f[n[v].semanticObject][d]={}}f[n[v].semanticObject][d]=Object.assign(f[n[v].semanticObject][d],p)}var P=Object.keys(f)[0];if(Object.keys(l).includes(P)){l[P]=Object.assign(l[P],f[P])}else{l=Object.assign(l,f)}s=[]}}if(Object.keys(l).length>0){r.setProperty("semanticsTargets",a(l,r.getProperty("semanticsTargets")));return l}}).catch(function(t){e.error("fnUpdateSemanticTargetsModel: Cannot read links",t)})}function Ke(e,t,a,n,r){return lt.getSemanticObjectsFromPath(a,n,r)}function Je(e,t,a,n,r){var i,o;var c,s;for(var l=0;l<n.length;l++){o=n[l];i=Object.keys(a.getObject(o+"@"));for(var u=0;u<i.length;u++){if(i[u].indexOf("@".concat("com.sap.vocabularies.Common.v1.SemanticObject"))===0&&i[u].indexOf("@".concat("com.sap.vocabularies.Common.v1.SemanticObjectMapping"))===-1&&i[u].indexOf("@".concat("com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"))===-1){s=/#(.*)/.exec(i[u]);c=s?s[1]:"";r.push(lt.getSemanticObjectPromise(e,t,a,o,c))}}}}function ze(t,a){var n=function(e,t,a){if(!e){return a}if(e instanceof Array){for(var r in e){a=a.concat(n(e[r],t,[]))}return a}if(e[t]){a.push(e[t])}if(typeof e=="object"&&e!==null){var i=Object.keys(e);if(i.length>0){for(var o=0;o<i.length;o++){a=a.concat(n(e[i[o]],t,[]))}}}return a};var r=function(e,t){return n(e,t,[])};var i=function(e){return e.filter(function(t,a){return e.indexOf(t)===a})};var o=t.getView();var c=o.getBindingContext("internal");if(c){var s=[];var u=t.getOwnerComponent();var v=l.getOwnerComponentFor(u);var f=v.getMetaModel();var p=u.getModel(a).getData();if(JSON.stringify(p)==="{}"){p=u.getModel(a)._getObject("/",undefined)}var d=r(p,"semanticObjectPath");d=i(d);var g=lt.getShellServices(v);var m=lt.getHash();var O=[];var h=[];var P;if(m&&m.indexOf("?")!==-1){m=m.split("?")[0]}Je(v,o,f,d,s);if(s.length===0){return Promise.resolve()}else{Promise.all(s).then(function(e){var t=[];var a;var n=e.filter(function(e){if(e.semanticObject!==undefined&&e.semanticObject.semanticObject&&typeof e.semanticObject.semanticObject==="object"){a=I(C(e.semanticObject.semanticObject.$Path));e.semanticObject.semanticObject=a;e.semanticObjectForGetLinks[0].semanticObject=a;return true}else if(e){return e.semanticObject!==undefined}else{return false}});for(var r=0;r<n.length;r++){P=n[r];if(P&&P.semanticObject&&!(P.semanticObject.semanticObject.indexOf("{")===0)){O.push(P.semanticObjectForGetLinks);h.push({semanticObject:P.semanticObject.semanticObject,unavailableActions:P.unavailableActions,path:n[r].semanticObjectPath});t.push(g.getLinksWithCache([P.semanticObjectForGetLinks]))}}return lt.updateSemanticTargets(t,h,c,m)}).catch(function(t){e.error("fnGetSemanticTargetsFromTable: Cannot get Semantic Objects",t)})}}else{return Promise.resolve()}}function Ze(e,t){var a=lt.FilterRestrictions;if(t===a.REQUIRED_PROPERTIES||t===a.NON_FILTERABLE_PROPERTIES){var n=[];if(e&&e[t]){n=e[t].map(function(e){return e.$PropertyPath})}return n}else if(t===a.ALLOWED_EXPRESSIONS){var r={};if(e&&e.FilterExpressionRestrictions){e.FilterExpressionRestrictions.forEach(function(e){if(r[e.Property.$PropertyPath]){r[e.Property.$PropertyPath].push(e.AllowedExpressions)}else{r[e.Property.$PropertyPath]=[e.AllowedExpressions]}})}return r}return e}function et(e,t,a){var n=t+"/";return e.reduce(function(e,t){if(t.startsWith(n)){var a=t.replace(n,"");if(e.indexOf(a)===-1){e.push(a)}}return e},a)}function tt(e,n){var r={},o=lt.FilterRestrictions;var c;var s="$NavigationPropertyBinding";var l="@Org.OData.Capabilities.V1.FilterRestrictions";var u=e.replaceAll("%2F","/").split("/").filter(i.filterOutNavPropBinding);var v="/".concat(u.join("/"),"/");var f=i.getEntitySetPath(e,n);var p=f.split("/").filter(i.filterOutNavPropBinding);var d=n.getObject("".concat(v,"$ContainsTarget"));var g=d&&u[u.length-1];if(!d){c=n.getObject("".concat(f).concat(l));r[o.REQUIRED_PROPERTIES]=Ze(c,o.REQUIRED_PROPERTIES)||[];var m=n.getObject("".concat(v,"@com.sap.vocabularies.Common.v1.ResultContext"));if(!m){r[o.NON_FILTERABLE_PROPERTIES]=Ze(c,o.NON_FILTERABLE_PROPERTIES)||[]}r[o.ALLOWED_EXPRESSIONS]=Ze(c,o.ALLOWED_EXPRESSIONS)||{}}if(u.length>1){var O=d?g:p[p.length-1];var h=d?f:"/".concat(p.slice(0,-1).join("/".concat(s,"/")));var P={};if(!O.includes("%2F")){var b=n.getObject("".concat(h).concat(l));r[o.REQUIRED_PROPERTIES]=et(Ze(b,o.REQUIRED_PROPERTIES)||[],O,r[o.REQUIRED_PROPERTIES]||[]);r[o.NON_FILTERABLE_PROPERTIES]=et(Ze(b,o.NON_FILTERABLE_PROPERTIES)||[],O,r[o.NON_FILTERABLE_PROPERTIES]||[]);var E=Ze(b,o.ALLOWED_EXPRESSIONS)||{};P[o.ALLOWED_EXPRESSIONS]=Object.keys(E).reduce(function(e,t){if(t.startsWith(O+"/")){var a=t.replace(O+"/","");e[a]=E[t]}return e},{})}r[o.ALLOWED_EXPRESSIONS]=a({},r[o.ALLOWED_EXPRESSIONS],P[o.ALLOWED_EXPRESSIONS]||{});var S=lt.getNavigationRestrictions(n,h,O.replaceAll("%2F","/"));var y=S&&S["FilterRestrictions"];var R=Ze(y,o.REQUIRED_PROPERTIES)||[];r[o.REQUIRED_PROPERTIES]=t(r[o.REQUIRED_PROPERTIES].concat(R));var T=Ze(y,o.NON_FILTERABLE_PROPERTIES)||[];r[o.NON_FILTERABLE_PROPERTIES]=t(r[o.NON_FILTERABLE_PROPERTIES].concat(T));r[o.ALLOWED_EXPRESSIONS]=a({},r[o.ALLOWED_EXPRESSIONS],Ze(y,o.ALLOWED_EXPRESSIONS)||{});var C=n.getObject("/".concat(u.join("/")).concat(l));var j=Ze(C,o.REQUIRED_PROPERTIES)||[];r[o.REQUIRED_PROPERTIES]=t(r[o.REQUIRED_PROPERTIES].concat(j));var A=Ze(C,o.NON_FILTERABLE_PROPERTIES)||[];r[o.NON_FILTERABLE_PROPERTIES]=t(r[o.NON_FILTERABLE_PROPERTIES].concat(A));r[o.ALLOWED_EXPRESSIONS]=a({},r[o.ALLOWED_EXPRESSIONS],Ze(C,o.ALLOWED_EXPRESSIONS)||{})}return r}function at(e,t,a,n){a=a||{};if(n){return n.templateControlFragment(e,t,a.view).then(function(e){return n.targets==="xmlTree"&&e.length>0?e[0]:e})}else{return ot().then(function(){return f.process(p.loadTemplate(e,"fragment"),{name:e},t)}).then(function(e){var t=e.firstElementChild;if(!!a.isXML&&t){return t}return v.load({id:a.id,definition:e,controller:a.controller})})}}function nt(e,t){var a=e.split("/").filter(Boolean),n=a.pop(),r=a.join("/"),i=r&&t.getObject("/".concat(r));if((i===null||i===void 0?void 0:i.$kind)==="Singleton"){var o=a[a.length-1];return"/".concat(o,"/").concat(n)}return undefined}function rt(e,t){if(!e||!t){return Promise.resolve(null)}var a=t.getMetaModel();var n=nt(e,a);if(n){var r=t.bindProperty(n);return r.requestValue()}return Promise.resolve(null)}function it(t,a,n){var r;var i=function(){if(r){if(!r.events){r.events={}}if(!r.events[a]){r.events[a]=n}else{var e=r.events[a];r.events[a]=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++){a[r]=arguments[r]}n.apply.apply(n,[this].concat(a));e.apply.apply(e,[this].concat(a))}}}};if(t.isA("sap.ui.mdc.Chart")){t.innerChartBound().then(function(){r=t.getControlDelegate()._getChart(t).getBindingInfo("data");i()}).catch(function(t){e.error(t)})}else{r=t.data("rowsBindingInfo");i()}}function ot(){return new Promise(function(e){sap.ui.require(["sap/fe/macros/macroLibrary"],function(){e()})})}function ct(e,t){var a;if(e.indexOf("@$ui5.overload")>-1){a=e.split("@$ui5.overload")[0]}else{var n=e.split("/0")[0].split(".");a="/".concat(n[n.length-1],"/")}return a+t}function st(e,t){var a=new m({anyText:e});t.addDependent(a);var n=a.getAnyText();t.removeDependent(a);a.destroy();return n}var lt={isPropertyFilterable:V,isFieldControlPathInapplicable:ae,removeSensitiveData:ne,fireButtonPress:J,getTargetView:te,getCurrentPageView:ee,hasTransientContext:B,updateRelatedAppsDetails:K,resolveStringtoBoolean:z,getAppComponent:Z,getMandatoryFilterFields:oe,getContextPathProperties:ie,getParameterInfo:Te,updateDataFieldForIBNButtonsVisibility:se,getTranslatedText:le,getEntitySetName:fe,getActionPath:ve,computeDisplayMode:pe,isStickyEditMode:$e,getOperatorsForProperty:Se,getOperatorsForDateProperty:Re,getOperatorsForGuidProperty:ye,addSelectionVariantToConditions:Ne,addExternalStateFiltersToSelectionVariant:Le,addPageContextToSelectionVariant:Fe,addDefaultDisplayCurrency:_e,getNonComputedVisibleFields:Be,setUserDefaults:We,getShellServices:W,getHash:Q,getIBNActions:ce,getHeaderFacetItemConfigForExternalNavigation:qe,getSemanticObjectMapping:Ge,setSemanticObjectMappings:He,getSemanticObjectPromise:Ke,getSemanticTargetsFromPageModel:ze,getSemanticObjectsFromPath:Xe,updateSemanticTargets:Ye,getPropertyDataType:_,getNavigationRestrictions:k,getSearchRestrictions:M,getFilterRestrictionsByPath:tt,getSpecificAllowedExpression:Ee,getAdditionalParamsForCreate:Qe,requestSingletonProperty:rt,templateControlFragment:at,addEventToBindingInfo:it,FilterRestrictions:{REQUIRED_PROPERTIES:"RequiredProperties",NON_FILTERABLE_PROPERTIES:"NonFilterableProperties",ALLOWED_EXPRESSIONS:"FilterAllowedExpressions"},AllowedExpressionsPrio:["SingleValue","MultiValue","SingleRange","MultiRange","SearchExpression","MultiRangeOrSearchExpression"],normalizeSearchTerm:$,getSingletonPath:nt,getRequiredPropertiesFromUpdateRestrictions:we,getRequiredPropertiesFromInsertRestrictions:ke,hasRestrictedPropertiesInAnnotations:Ve,getRequiredPropertiesFromAnnotations:Ue,getRequiredProperties:Me,checkIfResourceKeyExists:ue,setContextsBasedOnOperationAvailable:Oe,setDynamicActionContexts:he,requestProperty:me,getParameterPath:ct,getRelatedAppsMenuItems:H,getTranslatedTextFromExpBindingString:st,addSemanticDatesToConditions:je,addSelectOptionToConditions:Ce,createSemanticDatesFromConditions:Ie,updateRelateAppsModel:F,getSemanticObjectAnnotations:Y};return lt},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/ExtensionAPI", ["sap/base/Log","sap/fe/core/CommonUtils","sap/ui/base/Object","sap/ui/core/Component","sap/ui/model/json/JSONModel","./helpers/ClassSupport"],function(e,t,n,i,r,o){"use strict";var a,l,u,s,c,d,p,f,g;var v=o.property;var b=o.defineUI5Class;function h(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function w(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}function m(e,t){m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return m(e,t)}function y(e,t,n,i,r){var o={};Object.keys(i).forEach(function(e){o[e]=i[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function x(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var C=(a=b("sap.fe.core.ExtensionAPI"),l=v({type:"sap/fe/core/controllerextensions/EditFlow"}),u=v({type:"sap/fe/core/controllerextensions/Routing"}),s=v({type:"sap/fe/core/controllerextensions/IntentBasedNavigation"}),a(c=(d=function(n){_(o,n);function o(e,t){var i;i=n.call(this)||this;h(i,"editFlow",p,w(i));h(i,"routing",f,w(i));h(i,"intentBasedNavigation",g,w(i));i._controller=e;i._view=e.getView();i.extension=i._controller.extension;i.editFlow=i._controller.editFlow;i.routing=i._controller.routing;i._routing=i._controller._routing;i.intentBasedNavigation=i._controller.intentBasedNavigation;i._prefix=t;return i}var a=o.prototype;a.destroy=function e(){};a.getEditFlow=function e(){return this.editFlow};a.getRouting=function e(){return this.routing};a.getIntentBasedNavigation=function e(){return this.intentBasedNavigation};a.byId=function e(t){var n=this._view.byId(t);if(!n&&this._prefix){n=this._view.byId("".concat(this._prefix,"--").concat(t))}if(n){return n}};a.getModel=function e(n){var i;if(n&&n!=="ui"){i=t.getAppComponent(this._view);if(!i.getManifestEntry("sap.ui5").models[n]){return undefined}}return this._view.getModel(n)};a.addDependent=function e(t){this._view.addDependent(t)};a.removeDependent=function e(t){this._view.removeDependent(t)};a.navigateToTarget=function e(t,n){this._controller._routing.navigateToTarget(n,t)};a.loadFragment=function n(o){var a,l=this;var u=i.getOwnerComponentFor(this._view);var s=this._view.getModel("_pageModel");var c=(a=this.getModel())===null||a===void 0?void 0:a.getMetaModel();var d=u.getViewData();var p=new r(d),f={bindingContexts:{contextPath:c===null||c===void 0?void 0:c.createBindingContext(o.contextPath||"/".concat(u.getEntitySet())),converterContext:s.createBindingContext("/",undefined,{noResolve:true}),viewData:d?p.createBindingContext("/"):null},models:{contextPath:c,converterContext:s,metaModel:c,viewData:p},appComponent:t.getAppComponent(this._view)};var g=t.templateControlFragment(o.name,f,{controller:o.controller||this,isXML:false,id:o.id});g.then(function(e){if(o.initialBindingContext!==undefined){e.setBindingContext(o.initialBindingContext)}l.addDependent(e)}).catch(function(t){e.error(t)});return g};a.updateAppState=function e(){return this._controller.getAppComponent().getAppStateHandler().createAppState()};return o}(n),p=y(d.prototype,"editFlow",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),f=y(d.prototype,"routing",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),g=y(d.prototype,"intentBasedNavigation",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||c);return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/PageController", ["sap/fe/core/BaseController","sap/fe/core/controllerextensions/EditFlow","sap/fe/core/controllerextensions/IntentBasedNavigation","sap/fe/core/controllerextensions/InternalEditFlow","sap/fe/core/controllerextensions/InternalIntentBasedNavigation","sap/fe/core/controllerextensions/InternalRouting","sap/fe/core/controllerextensions/MassEdit","sap/fe/core/controllerextensions/MessageHandler","sap/fe/core/controllerextensions/PageReady","sap/fe/core/controllerextensions/Paginator","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/controllerextensions/Routing","sap/fe/core/controllerextensions/Share","sap/fe/core/controllerextensions/SideEffects","sap/fe/core/controllerextensions/ViewState","sap/fe/core/ExtensionAPI","sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/OverrideExecution"],function(e,t,r,n,i,o,a,l,s,u,p,c,f,b,g,d,y,w){"use strict";var h,m,v,x,P,z,E,I,O,A,R,_,j,B,C,S,V,M,F,H,N,D,k,U,q,G,J,K,L,Q,T,W,X,Y,Z,$;var ee=y.usingExtension;var te=y.publicExtension;var re=y.extensible;var ne=y.defineUI5Class;function ie(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function oe(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function ae(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;le(e,t)}function le(e,t){le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return le(e,t)}function se(e,t,r,n,i){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o);if(i&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(i):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function ue(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var pe=(h=ne("sap.fe.core.PageController"),m=ee(c),v=ee(o),x=ee(t),P=ee(n),z=ee(r),E=ee(i),I=ee(s),O=ee(l),A=ee(f),R=ee(u),_=ee(g),j=ee(p),B=ee(b),C=ee(a),S=te(),V=te(),M=te(),F=te(),H=re(w.After),h(N=(D=function(e){ae(t,e);function t(){var t;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}t=e.call.apply(e,[this].concat(n))||this;ie(t,"routing",k,oe(t));ie(t,"_routing",U,oe(t));ie(t,"editFlow",q,oe(t));ie(t,"_editFlow",G,oe(t));ie(t,"intentBasedNavigation",J,oe(t));ie(t,"_intentBasedNavigation",K,oe(t));ie(t,"pageReady",L,oe(t));ie(t,"messageHandler",Q,oe(t));ie(t,"share",T,oe(t));ie(t,"paginator",W,oe(t));ie(t,"viewState",X,oe(t));ie(t,"placeholder",Y,oe(t));ie(t,"_sideEffects",Z,oe(t));ie(t,"massEdit",$,oe(t));return t}var r=t.prototype;r.onInit=function e(){var t=this.getAppComponent().getModel("ui"),r=this.getAppComponent().getModel("internal"),n="/pages/".concat(this.getView().getId());t.setProperty(n,{controls:{}});r.setProperty(n,{controls:{},collaboration:{}});this.getView().bindElement({path:n,model:"ui"});this.getView().bindElement({path:n,model:"internal"});this.getView().bindElement({path:n,model:"pageInternal"});this.getView().setModel(r,"pageInternal");this.getView().setModel(t,"ui");this.getView().setModel(r,"internal")};r.onBeforeRendering=function e(){if(this.placeholder.attachHideCallback){this.placeholder.attachHideCallback()}};r.getExtensionAPI=function e(){if(!this.extensionAPI){this.extensionAPI=new d(this)}return this.extensionAPI};r.onPageReady=function e(t){this.getAppComponent().getAppStateHandler().applyAppState()};return t}(e),k=se(D.prototype,"routing",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),U=se(D.prototype,"_routing",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),q=se(D.prototype,"editFlow",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),G=se(D.prototype,"_editFlow",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),J=se(D.prototype,"intentBasedNavigation",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),K=se(D.prototype,"_intentBasedNavigation",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),L=se(D.prototype,"pageReady",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=se(D.prototype,"messageHandler",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),T=se(D.prototype,"share",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),W=se(D.prototype,"paginator",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),X=se(D.prototype,"viewState",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=se(D.prototype,"placeholder",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=se(D.prototype,"_sideEffects",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),$=se(D.prototype,"massEdit",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),se(D.prototype,"onInit",[S],Object.getOwnPropertyDescriptor(D.prototype,"onInit"),D.prototype),se(D.prototype,"onBeforeRendering",[V],Object.getOwnPropertyDescriptor(D.prototype,"onBeforeRendering"),D.prototype),se(D.prototype,"getExtensionAPI",[M],Object.getOwnPropertyDescriptor(D.prototype,"getExtensionAPI"),D.prototype),se(D.prototype,"onPageReady",[F,H],Object.getOwnPropertyDescriptor(D.prototype,"onPageReady"),D.prototype),D))||N);return pe},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/TemplateComponent", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/ui/core/UIComponent","sap/ui/mdc/p13n/StateUtil"],function(e,t,r,n){"use strict";var i,o,a,l,u,c,p,s,f,b,g,y,h,d,m,v,C,w,z,_,P,A,R,I,j,O,S,E,x,D,T;var k=t.property;var B=t.implementInterface;var U=t.event;var L=t.defineUI5Class;function V(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function F(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function M(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}function N(e,t){N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return N(e,t)}function X(e,t,r,n,i){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o);if(i&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(i):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function q(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var G=(i=L("sap.fe.core.TemplateComponent"),o=B("sap.ui.core.IAsyncContentCreation"),a=k({type:"string",defaultValue:null}),l=k({type:"string",defaultValue:null}),u=k({type:"string"}),c=k({type:"object"}),p=k({type:"string[]"}),s=k({type:"object"}),f=k({type:"object"}),b=k({type:"boolean"}),g=k({type:"object"}),y=k({type:"string"}),h=U(),d=U(),m=U(),i(v=(C=function(t){M(r,t);function r(){var e;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}e=t.call.apply(t,[this].concat(n))||this;V(e,"__implements__sap_ui_core_IAsyncContentCreation",w,F(e));V(e,"entitySet",z,F(e));V(e,"contextPath",_,F(e));V(e,"bindingContextPattern",P,F(e));V(e,"navigation",A,F(e));V(e,"enhanceI18n",R,F(e));V(e,"controlConfiguration",I,F(e));V(e,"content",j,F(e));V(e,"allowDeepLinking",O,F(e));V(e,"refreshStrategyOnAppRestore",S,F(e));V(e,"viewType",E,F(e));V(e,"containerDefined",x,F(e));V(e,"heroesBatchReceived",D,F(e));V(e,"workersBatchReceived",T,F(e));return e}var i=r.prototype;i.setContainer=function e(r){t.prototype.setContainer.call(this,r);this.fireEvent("containerDefined",{container:r});return this};i.init=function r(){this.oAppComponent=e.getAppComponent(this);t.prototype.init.call(this);var i=function(e){var t=e.getParameter("control");if(t.isA("sap.ui.mdc.Table")||t.isA("sap.ui.mdc.FilterBar")||t.isA("sap.ui.mdc.Chart")){var r=t.getParent();if(r!==null&&r!==void 0&&r.fireStateChange){r.fireStateChange()}}};n.detachStateChange(i);n.attachStateChange(i)};i.getExtensionComponent=function e(){return this.oAppComponent};i.getRootController=function e(){var t=this.getRootControl();var r;if(t&&t.getController){r=t.getController()}return r};i.onPageReady=function e(t){var r=this.getRootController();if(r&&r.onPageReady){r.onPageReady(t)}};i.getNavigationConfiguration=function e(t){var r=this.navigation;return r[t]};i.getViewData=function e(){var t=this;var r=this.getMetadata().getAllProperties();var n=Object.keys(r).reduce(function(e,n){e[n]=r[n].get(t);return e},{});n.fclEnabled=this.oAppComponent._isFclEnabled();return n};i._getPageTitleInformation=function e(){var t=this.getRootControl();if(t&&t.getController()&&t.getController()._getPageTitleInformation){return t.getController()._getPageTitleInformation()}else{return{}}};i.getExtensionAPI=function e(){return this.getRootControl().getController().getExtensionAPI()};return r}(r),w=X(C.prototype,"__implements__sap_ui_core_IAsyncContentCreation",[o],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),z=X(C.prototype,"entitySet",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return null}}),_=X(C.prototype,"contextPath",[l],{configurable:true,enumerable:true,writable:true,initializer:function(){return null}}),P=X(C.prototype,"bindingContextPattern",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),A=X(C.prototype,"navigation",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),R=X(C.prototype,"enhanceI18n",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),I=X(C.prototype,"controlConfiguration",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),j=X(C.prototype,"content",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),O=X(C.prototype,"allowDeepLinking",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),S=X(C.prototype,"refreshStrategyOnAppRestore",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),E=X(C.prototype,"viewType",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return"XML"}}),x=X(C.prototype,"containerDefined",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),D=X(C.prototype,"heroesBatchReceived",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),T=X(C.prototype,"workersBatchReceived",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),C))||v);return G},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/TemplateModel", ["sap/fe/core/helpers/ClassSupport","sap/ui/base/Object","sap/ui/model/json/JSONModel"],function(e,t,o){"use strict";var n,i;var r=e.defineUI5Class;function a(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function d(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return f(e,t)}var s=(n=r("sap.fe.core.TemplateModel"),n(i=function(e){d(t,e);function t(t,n){var i;i=e.call(this)||this;i.oMetaModel=n;i.oConfigModel=new o;i.oConfigModel.setSizeLimit(Number.MAX_VALUE);i.bConfigLoaded=false;var r=a(i);if(typeof t==="function"){var d=i.oConfigModel._getObject.bind(i.oConfigModel);i.oConfigModel._getObject=function(e,o){if(!r.bConfigLoaded){this.setData(t())}return d(e,o)}}else{i.oConfigModel.setData(t)}i.fnCreateMetaBindingContext=i.oMetaModel.createBindingContext.bind(i.oMetaModel);i.fnCreateConfigBindingContext=i.oConfigModel.createBindingContext.bind(i.oConfigModel);i.fnSetData=i.oConfigModel.setData.bind(i.oConfigModel);i.oConfigModel.createBindingContext=i.createBindingContext.bind(a(i));i.oConfigModel.setData=i.setData.bind(a(i));return i.oConfigModel||a(i)}var n=t.prototype;n.setData=function e(t){this.fnSetData(t);this.bConfigLoaded=true};n.createBindingContext=function e(t,o,n,i){var r;var a;var d=n&&n.noResolve;a=this.fnCreateConfigBindingContext(t,o,n,i);var f=!d&&((r=a)===null||r===void 0?void 0:r.getObject());if(f&&typeof f==="string"){a=this.fnCreateMetaBindingContext(f,o,n,i)}return a};n.destroy=function e(){this.oConfigModel.destroy();o.prototype.destroy.apply(this)};return t}(t))||i);return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/AttributeModel", ["sap/base/Log","sap/base/util/ObjectPath","sap/ui/model/json/JSONModel"],function(e,t,n){"use strict";function r(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function i(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;o(e,t)}function o(e,t){o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return o(e,t)}var u=function(n){i(o,n);function o(e,t,i){var o;o=n.call(this)||this;o.oNode=e;o.oProps=t;o.buildingBlockDefinition=i;r(o).$$valueAsPromise=true;return o}var u=o.prototype;u._getObject=function n(r,i){if(r===undefined||r===""){if(i!==undefined&&i.getPath()!=="/"){return this._getObject(i.getPath(r))}return this.oProps}if(r==="/undefinedValue"||r==="undefinedValue"){return undefined}var o=t.get(r.replace(/\//g,"."),this.oProps);if(o!==undefined){return o}if(this.oProps.hasOwnProperty(r)){return this.oProps[r]}if(r.indexOf(":")===-1&&r.indexOf("/")===-1){e.error("Missing property ".concat(r," on building block metadata ").concat(this.buildingBlockDefinition.name))}return this.oNode.getAttribute(r)};return o}(n);return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlock", ["sap/base/util/deepClone","sap/base/util/merge","sap/base/util/ObjectPath","sap/fe/core/buildingBlocks/BuildingBlockRuntime","sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/ui/base/ManagedObject","sap/ui/core/Component","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","../converters/ConverterContext"],function(e,t,n,r,i,a,o,u,s,c,l,f){"use strict";var d,g,v;var p={};var m=o.generate;var b=a.resolveBindingString;var h=r.xml;var B=r.registerBuildingBlock;var C=r.escapeXMLAttributeValue;function O(e,t){if(!t){t=e.slice(0)}return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y=function(){function n(n,r,i){var a=this;this.isPublic=false;this.getConverterContext=function(n,r,i,a){var o=i.appComponent;var u=i.models.viewData&&i.models.viewData.getData();var s=Object.assign({},u);delete s.resourceBundle;s=e(s);s.controlConfiguration=t(s.controlConfiguration,a);return f.createConverterContextForMacro(n.startingEntitySet.name,i.models.metaModel,o&&o.getDiagnostics(),t,n.contextLocation,s)};Object.keys(n).forEach(function(e){a[e]=n[e]})}p.BuildingBlockBase=n;var r=n.prototype;r.createId=function e(){if(this.id){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}return m([this.id].concat(n))}return undefined};r.getProperties=function e(){var t={};for(var n in this){if(this.hasOwnProperty(n)){t[n]=this[n]}}return t};n.register=function e(){};n.unregister=function e(){};r.addConditionally=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var n=arguments.length>1?arguments[1]:undefined;if(t){return n}else{return""}};r.attr=function e(t,n){if(n!==undefined){return function(){return"".concat(t,'="').concat(C(n),'"')}}else{return function(){return""}}};return n}();p.BuildingBlockBase=y;var P=function(t){if(!t.hasOwnProperty("metadata")){t.metadata=e(t.metadata||{properties:{},aggregations:{},events:{}})}return t.metadata};function k(e){return function(t,n,r){var i=P(t.constructor);if(e.defaultValue===undefined){var a;e.defaultValue=(a=r.initializer)===null||a===void 0?void 0:a.call(r)}delete r.initializer;if(i.properties[n.toString()]===undefined){i.properties[n.toString()]=e}return r}}p.xmlAttribute=k;function w(e){return k(e)}p.blockAttribute=w;function x(){return function(e,t,n){var r=P(e.constructor);delete n.initializer;if(r.events[t.toString()]===undefined){r.events[t.toString()]={type:"Function"}}return n}}p.xmlEvent=x;function j(){return x()}p.blockEvent=j;function M(e){return function(t,n,r){var i=P(t.constructor);delete r.initializer;if(i.aggregations[n]===undefined){i.aggregations[n]=e}return r}}p.xmlAggregation=M;function N(e){return M(e)}p.blockAggregation=N;var A={};function V(e){return function(t){P(t);t.xmlTag=e.name;t.namespace=e.namespace;t.publicNamespace=e.publicNamespace;t.fragment=e.fragment;t.isOpen=e.isOpen;t.isRuntime=e.isRuntime;t.apiVersion=2;if(t.isRuntime===true){t.prototype.getTemplate=function(){var n="".concat(e.namespace,".").concat(e.name);var r=[];for(var i in t.metadata.properties){var a=this[i];if(a!==undefined&&a!==null){var o,u,s;if(((o=a)===null||o===void 0?void 0:(u=(s=o).isA)===null||u===void 0?void 0:u.call(s,"sap.ui.model.Context"))===true){a=a.getPath()}r.push(h(d||(d=O(["feBB:",'="','"'])),i,a))}}for(var c in t.metadata.events){var l=this[c];if(l!==undefined){r.push(h(g||(g=O(["feBB:",'="','"'])),c,l))}}return h(v||(v=O(['<core:Fragment\n\t\t\t\t\txmlns:core="sap.ui.core"\n\t\t\t\t\txmlns:feBB="sap.fe.core.buildingBlocks"\n\t\t\t\t\tfragmentName="','"\n\t\t\t\t\tid="{this>id}"\n\t\t\t\t\ttype="FE_COMPONENTS"\n\t\t\t\t\t',"\n\t\t\t\t>\n\t\t\t\t</core:Fragment>"])),n,r)}}t.register=function(){B(t);if(t.isRuntime===true){A["".concat(e.namespace,".").concat(e.name)]=t}};t.unregister=function(){l.plugIn(null,t.namespace,t.name);l.plugIn(null,t.publicNamespace,t.name)}}}p.defineBuildingBlock=V;c.registerType("FE_COMPONENTS",{load:function(e){try{return Promise.resolve(A[e.fragmentName])}catch(e){return Promise.reject(e)}},init:function(e){try{var t,r,a,o;var c=this;var l=e.fragmentContent;if(!l){l=A[e.fragmentName]}var f={};var d=(e===null||e===void 0?void 0:(t=e.customData)===null||t===void 0?void 0:(r=t[0])===null||r===void 0?void 0:(a=r.mProperties)===null||a===void 0?void 0:(o=a.value)===null||o===void 0?void 0:o["sap.fe.core.buildingBlocks"])||{};delete e.customData;var g=s.getOwnerComponentFor(e.containingView);var v=i.getAppComponent(e.containingView);var p=v.getMetaModel();var m=g.getModel("_pageModel");for(var h in l.metadata.properties){var B=l.metadata.properties[h];var C=m.createBindingContext(d[h]);if(C===null){var O=d[h];if(typeof O==="string"){if(B.bindable!==true){switch(B.type){case"boolean":O=O==="true";break;case"number":O=Number(O);break}}else{O=b(O,B.type)}}f[h]=O}else if(C.getObject()!==undefined){f[h]=C.getObject()}else{f[h]=p.createBindingContext(d[h])}}for(var y in l.metadata.events){if(d[y]!==undefined&&d[y].startsWith(".")){f[y]=n.get(d[y].substring(1),e.containingView.getController())}else{f[y]=""}}return Promise.resolve(u.runWithPreprocessors(function(){var t=new l(f,{},{isRuntimeInstantiation:true,isPublic:false,appComponent:v}).render(e.containingView,v);if(!c._bAsync){c._aContent=t}return t},{id:function(t){return e.containingView.createId(t)},settings:function(t){var n=this.getMetadata().getAssociations();for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];if(t.hasOwnProperty(a)){t[a]=e.containingView.createId(t[a])}}return t}}))}catch(e){return Promise.reject(e)}}});return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlockFormatter", [],function(){"use strict";return{base64Decode:function(e){return atob(e)}}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlockRuntime", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/uid","sap/fe/core/buildingBlocks/AttributeModel","sap/fe/core/helpers/BindingToolkit","sap/fe/macros/ResourceModel","sap/ui/base/BindingParser","sap/ui/core/util/XMLPreprocessor","./TraceInfo"],function(e,t,r,n,i,a,o,l,s){"use strict";function c(e,t,r){if(typeof e[f]==="function"){var n=e[f](),i,a,o;function d(e){try{while(!(i=n.next()).done&&(!r||!r())){e=t(i.value);if(e&&e.then){if(k(e)){e=e.v}else{e.then(d,o||(o=C.bind(null,a=new j,2)));return}}}if(a){C(a,1,e)}else{a=e}}catch(e){C(a||(a=new j),2,e)}}d();if(n.return){var l=function(e){try{if(!i.done){n.return()}}catch(e){}return e};if(a&&a.then){return a.then(l,function(e){throw l(e)})}l()}return a}if(!("length"in e)){throw new TypeError("Object is not iterable")}var s=[];for(var c=0;c<e.length;c++){s.push(e[c])}return u(s,function(e){return t(s[e])},r)}function u(e,t,r){var n=-1,i,a;function o(l){try{while(++n<e.length&&(!r||!r())){l=t(n);if(l&&l.then){if(k(l)){l=l.v}else{l.then(o,a||(a=C.bind(null,i=new j,2)));return}}}if(i){C(i,1,l)}else{i=l}}catch(e){C(i||(i=new j),2,e)}}o();return i}var f=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";var d,v,p,h;var m={};var g=i.compileExpression;function b(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=N(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var i=function(){};return{s:i,n:function(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,o=false,l;return{s:function(){r=r.call(e)},n:function(){var e=r.next();a=e.done;return e},e:function(e){o=true;l=e},f:function(){try{if(!a&&r.return!=null)r.return()}finally{if(o)throw l}}}}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){O(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e,t,r){t=P(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function P(e){var t=w(e,"string");return typeof t==="symbol"?t:String(t)}function w(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C(e,t,r){if(!e.s){if(r instanceof j){if(r.s){if(t&1){t=r.s}r=r.v}else{r.o=C.bind(null,e,t);return}}if(r&&r.then){r.then(C.bind(null,e,t),C.bind(null,e,2));return}e.s=t;e.v=r;var n=e.o;if(n){n(e)}}}var j=function(){function e(){}e.prototype.then=function(t,r){var n=new e;var i=this.s;if(i){var a=i&1?t:r;if(a){try{C(n,1,a(this.v))}catch(e){C(n,2,e)}return n}else{return this}}this.o=function(e){try{var i=e.v;if(e.s&1){C(n,1,t?t(i):i)}else if(r){C(n,1,r(i))}else{C(n,2,i)}}catch(e){C(n,2,e)}};return n};return e}();function k(e){return e instanceof j&&e.s&1}function A(e,t,r){var n;for(;;){var i=e();if(k(i)){i=i.v}if(!i){return a}if(i.then){n=0;break}var a=r();if(a&&a.then){if(k(a)){a=a.s}else{n=1;break}}if(t){var o=t();if(o&&o.then&&!k(o)){n=2;break}}}var l=new j;var s=C.bind(null,l,2);(n===0?i.then(u):n===1?a.then(c):o.then(f)).then(void 0,s);return l;function c(n){a=n;do{if(t){o=t();if(o&&o.then&&!k(o)){o.then(f).then(void 0,s);return}}i=e();if(!i||k(i)&&!i.v){C(l,1,a);return}if(i.then){i.then(u).then(void 0,s);return}a=r();if(k(a)){a=a.v}}while(!a||!a.then);a.then(c).then(void 0,s)}function u(e){if(e){a=r();if(a&&a.then){a.then(c).then(void 0,s)}else{c(a)}}else{C(l,1,a)}}function f(){if(i=e()){if(i.then){i.then(u).then(void 0,s)}else{u(i)}}else{C(l,1,a)}}}function E(e,t){try{var r=e()}catch(e){return t(e)}if(r&&r.then){return r.then(void 0,t)}return r}function S(e,t){if(!t){t=e.slice(0)}return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function T(e){return M(e)||I(e)||N(e)||B()}function B(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if(!e)return;if(typeof e==="string")return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}function I(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function M(e){if(Array.isArray(e))return V(e)}function V(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var D=function(t,r,i){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;try{var l=t.fragment||"".concat(t.namespace,".").concat(t.name);var c="this";var u={};var f={};var d=i.getSettings();if(d.models["sap.fe.i18n"]){d.models["sap.fe.i18n"].getResourceBundle().then(function(e){a.setApplicationI18nBundle(e)}).catch(function(t){e.error(t)})}var v=z(t.metadata,t.isOpen);if(!d[l]){d[l]={}}return Promise.resolve(W(v,r,o,i,t.apiVersion)).then(function(a){return Promise.resolve(L(v,d,r,o,i,u,f)).then(function(f){var p=f.mMissingContext,h=f.propertyValues;a=Object.assign(a,h);var m=Object.keys(a);var g=E(function(){return Promise.resolve($(r,i,v,o,a,t.apiVersion)).then(function(f){function h(){if(P){d["_macroInfo"]=P}else{delete d["_macroInfo"]}}var m;var g={};if(d.models.viewData){g=d.models.viewData.getProperty("/controlConfiguration")}var b=a;if(_(t)&&t.create){b=t.create.call(t,a,g,d,f,o);Object.keys(v.metadataContexts).forEach(function(e){if(v.metadataContexts[e].computed===true){u[e]=b[e]}});Object.keys(p).forEach(function(e){if(b.hasOwnProperty(e)){u[e]=b[e]}})}else if(t.apiVersion===2){Object.keys(a).forEach(function(e){var t=a[e];if(t&&t.isA&&t.isA(G)&&!t.getModel().isA("sap.ui.model.odata.v4.ODataMetaModel")){a[e]=t.getObject()}});var y=t;a.isPublic=o;m=new y(x(x({},a),f),g,d);b=m.getProperties();Object.keys(v.metadataContexts).forEach(function(e){if(b.hasOwnProperty(e)){var t=b[e];if(typeof t==="object"&&!t.getObject){var r=ie(t);var n="".concat(r);d.models.converterContext.setProperty(n,t);t=d.models.converterContext.createBindingContext(n);delete ne[r];u[e]=t}else if(!u.hasOwnProperty(e)&&t!==undefined){u[e]=t}}})}var O=new n(r,b,t);u[c]=O.createBindingContext("/");var P;if(s.isTraceInfoActive()){var w=s.traceMacroCalls(l,v,u,r,i);if(w){P=d["_macroInfo"];d["_macroInfo"]=w.macroInfo}}X(l,v,u,r);var C=i.with(u,t.isOpen!==undefined?!t.isOpen:true);var j=r.parentNode;var k;var A;var E=true;var S=function(){if(j){k=Array.from(j.children).indexOf(r);if(_(t)&&t.getTemplate||t.apiVersion===2&&!t.fragment){var n;var i=false;if(t.apiVersion===2){n=m.getTemplate();if(t.isRuntime===true){for(var a in ne){var o=ne[a];var s="".concat(a);d.models.converterContext.setProperty(s,o);delete ne[a]}}i=true}else if(t.getTemplate){n=t.getTemplate(b)}var c="";if(n){if(!n.firstElementChild){n=ae(n,i);var u=document.createNodeIterator(n,NodeFilter.SHOW_TEXT);var p=u.nextNode();while(p){if(p.textContent&&p.textContent.trim().length>0){c=p.textContent}p=u.nextNode()}}if(n.localName==="parsererror"){e.error("Error while processing building block ".concat(t.name));try{var h;q=true;n=(h=m)!==null&&h!==void 0&&h.getTemplate?m.getTemplate():t.getTemplate(b);n=ae(n,true)}finally{q=false}}else if(c.length>0){e.error("Error while processing building block ".concat(t.name));var g=re(["Error while processing building block ".concat(t.name),"Trailing text was found in the XML: ".concat(c)],n.outerHTML);n=ae(g,true)}r.replaceWith(n);r=j.children[k];Z(f,v.aggregations,r,E);E=false;A=C.visitNode(r)}else{r.remove();A=Promise.resolve()}}else{A=C.insertFragment(l,r)}return Promise.resolve(A).then(function(){var e=j.children[k];Z(f,v.aggregations,e,E);if(e!==undefined){var t=e.querySelectorAll("slot");t.forEach(function(e){e.remove()})}})}}();return S&&S.then?S.then(h):h(S)})},function(n){var i={initialProperties:{},resolvedProperties:{},missingContexts:p};var o=b(m),l;try{for(o.s();!(l=o.n()).done;){var s=l.value;var c=a[s];if(c&&c.isA&&c.isA(G)){i.initialProperties[s]={path:c.getPath(),value:c.getObject()}}else{i.initialProperties[s]=c}}}catch(e){o.e(e)}finally{o.f()}for(var u in a){var f=a[u];if(!m.includes(u)){if(f&&f.isA&&f.isA(G)){i.resolvedProperties[u]={path:f.getPath(),value:f.getObject()}}else{i.resolvedProperties[u]=f}}}var d=n;e.error(d,d);var v=re(["Error while processing building block ".concat(t.name)],r.outerHTML,i,d.stack);var h=ae(v,true);r.replaceWith(h)});if(g&&g.then)return g.then(function(){})})})}catch(e){return Promise.reject(e)}};var $=function(e,t,r,n,i,a){try{var o={};var l=function(){if(e.firstElementChild!==null){function p(){l=e.firstElementChild;var s=A(function(){return l!==null},void 0,function(){function s(){l=c}var c=l.nextElementSibling;var u=l.localName;var f=u;if(f[0].toUpperCase()===f[0]){f=r.defaultAggregation||""}var d=function(){if(Object.keys(r.aggregations).indexOf(f)!==-1&&(!n||r.aggregations[f].isPublic===true)){var s=function(){if(a===2){var n=r.aggregations[f];var i=function(){if(!n.slot&&l!==null&&l.children.length>0){return Promise.resolve(t.visitNode(l)).then(function(){var t=l.firstElementChild;while(t){var r=document.createElementNS(e.namespaceURI,t.getAttribute("key"));var n=t.nextElementSibling;r.appendChild(t);o[t.getAttribute("key")]=r;t.removeAttribute("key");t=n}})}else if(n.slot){if(f!==u){if(!o[f]){var r=document.createElementNS(e.namespaceURI,f);o[f]=r}o[f].appendChild(l)}else{o[f]=l}}}();if(i&&i.then)return i.then(function(){})}else{return Promise.resolve(t.visitNode(l)).then(function(){o[l.localName]=l})}}();if(s&&s.then)return s.then(function(){})}else{var c=function(){if(Object.keys(r.properties).indexOf(f)!==-1){return Promise.resolve(t.visitNode(l)).then(function(){if(r.properties[f].type==="object"){i[f]={};for(var e=0,t=Object.keys(l.attributes);e<t.length;e++){var n=t[e];i[f][l.attributes[n].localName]=l.attributes[n].value}}else if(r.properties[f].type==="array"){if(l!==null&&l.children.length>0){var a=l.children;var o=[];for(var s=0;s<a.length;s++){var c=a[s];var u={};for(var d=0,v=Object.keys(c.attributes);d<v.length;d++){var p=v[d];u[c.attributes[p].localName]=c.attributes[p].value}o.push(u)}i[f]=o}}})}}();if(c&&c.then)return c.then(function(){})}}();return d&&d.then?d.then(s):s(d)});if(s&&s.then)return s.then(function(){})}var l=e.firstElementChild;if(a===2){while(l!==null){var s=l.localName;var c=s;if(c[0].toUpperCase()===c[0]){c=r.defaultAggregation||""}var u=r.aggregations[c];if(u!==undefined&&!u.slot){var f=Y(l);o[c]=f;for(var d in f){r.aggregations[d]=f[d]}}l=l.nextElementSibling}}var v=function(){if(a!==2){return Promise.resolve(t.visitChildNodes(e)).then(function(){})}}();return v&&v.then?v.then(p):p(v)}}();return Promise.resolve(l&&l.then?l.then(function(){return o}):o)}catch(e){return Promise.reject(e)}};var L=function(e,t,r,n,i,a,o){try{t.currentContextPath=t.bindingContexts.contextPath;var l={};var s={};var c=e.metadataContexts;var u=Object.keys(c);var f=u.indexOf("contextPath");if(f!==-1){var d=u.splice(f,1);u.splice(0,0,d[0])}for(var v=0,p=u;v<p.length;v++){var h=p[v];var m=n&&c[h].isPublic===false&&r.hasAttribute(h);var g=Q(t,r,h,i,m,e.isOpen);if(g){g.name=h;ee(a,i,g,o);if((h==="entitySet"||h==="contextPath")&&!t.bindingContexts.hasOwnProperty(h)){t.bindingContexts[h]=a[h]}if(h==="contextPath"){t.currentContextPath=a[h]}s[h]=a[h]}else{l[h]=true}}return Promise.resolve({mMissingContext:l,propertyValues:s})}catch(e){return Promise.reject(e)}};var W=function(r,n,i,a,o){try{var l=r.properties;var s=Object.keys(l);var u={};var f=c(s,function(r){if(l[r].type==="object"){u[r]=t(l[r].defaultValue||{})}else{u[r]=l[r].defaultValue}var s=function(){if(n.hasAttribute(r)&&i&&l[r].isPublic===false){e.error("Property ".concat(r," was ignored as it is not intended for public usage"))}else{var t=function(){if(n.hasAttribute(r)){return Promise.resolve(a.visitAttribute(n,n.attributes.getNamedItem(r))).then(function(){var e=n.getAttribute(r);if(e!==undefined){if(o===2&&typeof e==="string"&&!e.startsWith("{")){switch(l[r].type){case"boolean":e=e==="true";break;case"number":e=Number(e);break}}u[r]=e}})}}();if(t&&t.then)return t.then(function(){})}}();if(s&&s.then)return s.then(function(){})});return Promise.resolve(f&&f.then?f.then(function(){return u}):u)}catch(e){return Promise.reject(e)}};var R="sap.fe.core.buildingBlocks.BuildingBlockRuntime";var F=new DOMParser;var q=false;function _(e){return e.apiVersion===undefined||e.apiVersion===1}function U(e,t,r,n){var i=t[n];var a=i===null||i===void 0?void 0:i.getObject();if(r.required===true&&(!i||a===null)){throw new Error("".concat(e,": Required metadataContext '").concat(n,"' is missing"))}else if(a){if(a.hasOwnProperty("$kind")&&r.$kind){if(r.$kind.indexOf(a["$kind"])===-1){throw new Error("".concat(e,": '").concat(n,"' must be '$kind' '").concat(r["$kind"],"' but is '").concat(a.$kind,"': ").concat(i.getPath()))}}else if(a.hasOwnProperty("$Type")&&r.$Type){if(r.$Type.indexOf(a["$Type"])===-1){throw new Error("".concat(e,": '").concat(n,"' must be '$Type' '").concat(r["$Type"],"' but is '").concat(a.$Type,"': ").concat(i.getPath()))}}}}function X(t,r,n,i){var a=r.metadataContexts&&Object.keys(r.metadataContexts)||[],o=r.properties&&Object.keys(r.properties)||[],l={};Object.keys(i.attributes).forEach(function(e){var t=i.attributes[e].name;l[t]=true});a.forEach(function(e){var i=r.metadataContexts[e];U(t,n,i,e);delete l[e]});o.forEach(function(e){var n=r.properties[e];if(!i.hasAttribute(e)){if(n.required&&!n.hasOwnProperty("defaultValue")){throw new Error("".concat(t,": ")+"Required property '".concat(e,"' is missing"))}}else{delete l[e]}});Object.keys(l).forEach(function(r){if(r.indexOf(":")<0&&!r.startsWith("xmlns")){e.warning("Unchecked parameter: ".concat(t,": ").concat(r),undefined,R)}})}m.validateMacroSignature=X;var H="sap.ui.core.Element";var G="sap.ui.model.Context";function z(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(e){var r={};var n={dependents:{type:H},customData:{type:H}};var i={};var a;Object.keys(e.properties).forEach(function(t){if(e.properties[t].type!==G){r[t]=e.properties[t]}else{i[t]=e.properties[t]}});if(e.events!==undefined){Object.keys(e.events).forEach(function(t){r[t]=e.events[t]})}if(e.aggregations!==undefined){Object.keys(e.aggregations).forEach(function(t){n[t]=e.aggregations[t];if(n[t].isDefault){a=t}})}return{properties:r,aggregations:n,defaultAggregation:a,metadataContexts:i,isOpen:t}}else{return{metadataContexts:{},aggregations:{dependents:{type:H},customData:{type:H}},properties:{},isOpen:t}}}function J(e,t){var r;if(t&&t.startsWith("/")){r=t}else{var n=e.currentContextPath.getPath();if(!n.endsWith("/")){n+="/"}r=n+t}return{model:"metaModel",path:r}}function K(e,t,r){var n;if(r.startsWith("/uid--")){var i=ne[r];e.models.converterContext.setProperty(r,i);n={model:"converterContext",path:r};delete ne[r]}else if(t==="metaPath"&&e.currentContextPath||t==="contextPath"){n=J(e,r)}else if(r&&r.startsWith("/")){n={model:"metaModel",path:r}}else{n={model:"metaModel",path:e.bindingContexts.entitySet?e.bindingContexts.entitySet.getPath(r):r}}return n}function Q(e,t,r,n,i,a){var l;if(!i&&t.hasAttribute(r)){var s=t.getAttribute(r);l=o.complexParser(s);if(!l){l=K(e,r,s)}}else if(e.bindingContexts.hasOwnProperty(r)){l={model:r,path:""}}else if(a){try{if(n.getContext("".concat(r,">"))){l={model:r,path:""}}}catch(e){return undefined}}return l}function Y(e){var t={};if(e&&e.children.length>0){var r=e.children;for(var n=0;n<r.length;n++){var i=r[n];var a=i.getAttribute("key")||i.getAttribute("id");if(a){a="InlineXML_".concat(a);i.setAttribute("key",a);t[a]={key:a,position:{placement:i.getAttribute("placement"),anchor:i.getAttribute("anchor")},type:"Slot"}}}}return t}function Z(e,t,r){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(Object.keys(e).length>0){Object.keys(e).forEach(function(i){var a=e[i];if(r!==null&&r!==undefined&&a){var o=document.createElementNS(r.namespaceURI,i.replace(/:/gi,"_"));var l=a.firstElementChild;while(l){var s=l.nextElementSibling;o.appendChild(l);l=s}if(i!=="customData"&&i!=="dependents"){var c=t[i]!==undefined&&t[i].slot||i;var u=r.querySelector("slot[name='".concat(c,"']"));if(u!==null){u.replaceWith.apply(u,T(o.children))}}else if(n&&o.children.length>0){r.appendChild(o)}}})}}function ee(e,t,r,n){var i=r.name||r.model||undefined;if(n[i]){return}try{var a=r.path;if(r.model!=null){a="".concat(r.model,">").concat(a)}var o=t.getSettings();if(r.model==="converterContext"&&r.path.length>0){e[i]=o.models[r.model].getContext(r.path,o.bindingContexts[r.model])}else if(!o.bindingContexts[r.model]&&o.models[r.model]){e[i]=o.models[r.model].getContext(r.path)}else{e[i]=t.getContext(a)}n[i]=e[i]}catch(e){}}function te(e){l.plugIn(function(t,r){return D(e,t,r)},e.namespace,e.xmlTag||e.name);if(e.publicNamespace){l.plugIn(function(t,r){return D(e,t,r,true)},e.publicNamespace,e.xmlTag||e.name)}}m.registerBuildingBlock=te;function re(e,t,r,n){var i=e.map(function(e){return se(d||(d=S(['<m:Label text="','"/>'])),oe(e))});var a="";if(n){var o=btoa("<pre>".concat(n,"</pre>"));a=se(v||(v=S(['<m:FormattedText htmlText="','" />'])),"{= BBF.base64Decode('".concat(o,"') }"))}var l="";if(r){l=se(p||(p=S(['<m:VBox>\n\t\t\t\t\t\t<m:Label text="Trace Info"/>\n\t\t\t\t\t\t<code:CodeEditor type="json"  value="','" height="300px" />\n\t\t\t\t\t</m:VBox>'])),"{= BBF.base64Decode('".concat(btoa(JSON.stringify(r,null,4)),"') }"))}return se(h||(h=S(['<m:VBox xmlns:m="sap.m" xmlns:code="sap.ui.codeeditor" core:require="{BBF:\'sap/fe/core/buildingBlocks/BuildingBlockFormatter\'}">\n\t\t\t\t',"\n\t\t\t\t",'\n\t\t\t\t<grid:CSSGrid gridTemplateRows="fr" gridTemplateColumns="repeat(2,1fr)" gridGap="1rem" xmlns:grid="sap.ui.layout.cssgrid" >\n\t\t\t\t\t<m:VBox>\n\t\t\t\t\t\t<m:Label text="How the building block was called"/>\n\t\t\t\t\t\t<code:CodeEditor type="xml" value="','" height="300px" />\n\t\t\t\t\t</m:VBox>\n\t\t\t\t\t',"\n\t\t\t\t</grid:CSSGrid>\n\t\t\t</m:VBox>"])),i,a,"{= BBF.base64Decode('".concat(btoa(t.replaceAll("&gt;",">")),"') }"),l)}var ne={};function ie(e){var t="/uid--".concat(r());ne[t]=e;return t}function ae(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t){e='<template\n\t\t\t\t\t\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\t\t\t\t\t\txmlns:m="sap.m"\n\t\t\t\t\t\txmlns:macros="sap.fe.macros"\n\t\t\t\t\t\txmlns:core="sap.ui.core"\n\t\t\t\t\t\txmlns:mdc="sap.ui.mdc"\n\t\t\t\t\t\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">'.concat(e,"</template>")}var r=F.parseFromString(e,"text/xml");var n=r.firstElementChild;while(((i=n)===null||i===void 0?void 0:i.localName)==="template"){var i;n=n.firstElementChild}return n}m.parseXMLString=ae;function oe(e){return e===null||e===void 0?void 0:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}m.escapeXMLAttributeValue=oe;function le(e){var t=ae(e,true);if(t!==undefined&&(t===null||t===void 0?void 0:t.localName)==="parsererror"){var r=t.innerText||t.innerHTML;return re([r.split("\n")[0]],e)}else{return e}}var se=function(e){var t="";var r;for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++){i[a-1]=arguments[a]}for(r=0;r<i.length;r++){t+=e[r];var o=i[r];if(Array.isArray(o)&&o.length>0&&typeof o[0]==="string"){t+=o.flat(5).join("\n").trim()}else if(Array.isArray(o)&&o.length>0&&typeof o[0]==="function"){t+=o.map(function(e){return e()}).join("\n")}else if(o!==null&&o!==void 0&&o._type){var l=g(o);t+=oe(l)}else if(o!==null&&o!==void 0&&o.getTemplate){t+=o.getTemplate()}else if(typeof o==="undefined"){t+="{this>undefinedValue}"}else if(typeof o==="function"){t+=o()}else if(typeof o==="object"&&o!==null){var s;if((s=o.isA)!==null&&s!==void 0&&s.call(o,"sap.ui.model.Context")){t+=o.getPath()}else{var c=ie(o);t+="".concat(c)}}else if(o&&typeof o==="string"&&!o.startsWith("<")&&!o.startsWith("&lt;")){t+=oe(o)}else{t+=o}}t+=e[r];t=t.trim();if(q){return le(t)}return t};m.xml=se;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/TraceInfo", ["sap/base/Log","sap/ui/base/ManagedObject","sap/ui/core/util/XMLPreprocessor"],function(t,e,r){"use strict";function n(t){return c(t)||o(t)||i(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){if(!t)return;if(typeof t==="string")return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor)r=t.constructor.name;if(r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}function o(t){if(typeof Symbol!=="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c(t){if(Array.isArray(t))return u(t)}function u(t,e){if(e==null||e>t.length)e=t.length;for(var r=0,n=new Array(e);r<e;r++){n[r]=t[r]}return n}var s=[];var f="http://schemas.sap.com/sapui5/extension/sap.fe.info/1",l="http://www.w3.org/2000/xmlns/",p=location.search.indexOf("sap-ui-xx-feTraceInfo=true")>-1,h=["sap.m","sap.uxap","sap.ui.unified","sap.f","sap.ui.table","sap.suite.ui.microchart","sap.ui.layout.form","sap.ui.mdc","sap.ui.mdc.link","sap.ui.mdc.field","sap.fe.fpm"],d={};function m(t){return JSON.parse(JSON.stringify(t))}function g(t,r,n,a){var i;var o=[];try{i=e.bindingParser(t,undefined,false,true)||[]}catch(t){i=[]}i=Array.isArray(i)?i:[i];i.filter(function(t){return t.path||t.parts}).forEach(function(t){var e=t.parts||[t];e.filter(function(t){return t.path}).forEach(function(t){var e=r[t.model]=r[t.model]||{};var i=t.path.indexOf(">")<0?(t.model&&"".concat(t.model,">"))+t.path:t.path;var c;var u;if(typeof t.model==="undefined"&&i.indexOf(">")>-1){u=i.split(">");t.model=u[0];t.path=u[1]}try{c=n.getContext(i);o.push(n.getResult("{".concat(i,"}"),a).then(function(r){if(c.getModel().getMetadata().getName()==="sap.ui.model.json.JSONModel"){if(!r.oModel){e[t.path]=r}else{e[t.path]="Context from ".concat(r.getPath())}}else{e[t.path]={path:c.getPath(),data:typeof r==="object"?"[ctrl/cmd-click] on path to see data":r}}}).catch(function(){e[t.path]={bindingFor:"Runtime"}}))}catch(r){e[t.path]={bindingFor:"Runtime"}}})});return Promise.all(o)}function v(t,e,r,n){return t.then(function(t){e[r]=n!==t?{originalValue:n,resolvedValue:t}:n}).catch(function(t){e[r]={originalValue:n,error:t.stack&&t.stack.toString()||t}})}function b(t,e){var r={};var n=[];var a={};var i;for(var o=t.attributes.length>>>0;o--;){var c=t.attributes[o],u=c.nodeName,s=t.getAttribute(u);if(!["core:require"].includes(u)){n.push(g(s,a,e,t));i=e.getResult(s,t);if(i){n.push(v(i,r,u,s))}else{}}}return Promise.all(n).then(function(){return{properties:r,contexts:a}})}function y(e,r){try{var a=e.nodeName.split(":")[1]||e.nodeName,i=/^[A-Z]/.test(a),o={control:"".concat(e.namespaceURI,".").concat(e.nodeName.split(":")[1]||e.nodeName)};if(i){var c=n(e.ownerDocument.children).find(function(t){return!t.nodeName.startsWith("#")});if(c&&!c.getAttribute("xmlns:trace")){c.setAttributeNS(l,"xmlns:trace",f);c.setAttributeNS(f,"trace:is","on")}return b(e,r).then(function(t){var n=Object.keys(t.contexts).length>0;if(n){Object.assign(o,t);o.viewInfo=r.getViewInfo();o.macroInfo=r.getSettings()["_macroInfo"];o.traceID=s.length;e.setAttributeNS(f,"trace:traceID",o.traceID);s.push(o)}return r.visitAttributes(e)}).then(function(){return r.visitChildNodes(e)}).catch(function(t){o.error={exception:t,node:(new XMLSerializer).serializeToString(e)}})}else{return r.visitAttributes(e).then(function(){return r.visitChildNodes(e)})}}catch(n){t.error("Error while tracing '".concat(e===null||e===void 0?void 0:e.nodeName,"': ").concat(n.message),"TraceInfo");return r.visitAttributes(e).then(function(){return r.visitChildNodes(e)})}}if(p){h.forEach(function(t){d[t]=r.plugIn(y.bind(t),t)})}function I(t,e,r,n,a){try{var i=e.metadataContexts&&Object.keys(e.metadataContexts)||[];var o=e.properties&&Object.keys(e.properties)||[];var c=m(a.getSettings()["_macroInfo"]||{});var u={macro:t,metaDataContexts:[],properties:{}};if(i.length===0){i=Object.keys(r).filter(function(t){return t!=="this"})}if(!n.getAttribute("xmlns:trace")){n.setAttributeNS(l,"xmlns:trace",f)}if(i.length>0){i.forEach(function(t){var e=r[t],n=e&&{name:t,path:e.getPath()};if(n){u.metaDataContexts.push(n)}});o.forEach(function(t){var e=r.this.getObject(t);if(e){u.properties[t]=e}});u.viewInfo=a.getViewInfo();u.traceID=s.length;c.parentMacroID=c.macroID;c.macroID=u.traceID;u.macroInfo=c;n.setAttributeNS(f,"trace:macroID",u.traceID);s.push(u);return u}}catch(e){var p;return{isError:true,error:e,name:t,node:(new XMLSerializer).serializeToString(n),contextPath:a===null||a===void 0?void 0:(p=a.getContext())===null||p===void 0?void 0:p.getPath()}}}function x(t){if(t){return s[t]}var e=s.filter(function(t){return t.error});return e.length>0&&e||s}function A(){return p}return{isTraceInfoActive:A,traceMacroCalls:I,getTraceInfo:x}},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/BusyLocker", ["sap/base/Log"],function(e){"use strict";var n=30,t={},u={getId:function(){return"BusyLocker.ReferenceDummy"},setBusy:function(n){e.info("setBusy(".concat(n,") triggered on dummy reference"))}};function r(e,n){return e.getId()+(n||"/busy")}function c(e,n){return r(e,n)in t}function o(n,c){if(!n||!n.getId){e.warning("No reference for BusyLocker, using dummy reference");n=u}c=c||"/busy";var o=r(n,c);if(!(o in t)){t[o]={id:o,path:c,reference:n,count:0}}return t[o]}function i(e){delete t[e.id]}function f(t){var u=t.reference.isA&&t.reference.isA("sap.ui.model.Model"),r=t.count!==0;if(u){t.reference.setProperty(t.path,r,undefined,true)}else if(t.reference.setBusy){t.reference.setBusy(r)}clearTimeout(t.timeout);if(r){t.timeout=setTimeout(function(){e.error("busy lock for ".concat(t.id," with value ").concat(t.count," timed out after ").concat(n," seconds!"))},n*1e3)}else{i(t)}return r}function s(n,t){if(t===0){n.count=0;e.info("busy lock count '".concat(n.id,"' was reset to 0"))}else{n.count+=t;e.info("busy lock count '".concat(n.id,"' is ").concat(n.count))}}var a={lock:function(e,n){return this._updateLock(e,n,1)},unlock:function(e,n){return this._updateLock(e,n,-1)},isLocked:function(e,n){return c(e,n)},_updateLock:function(e,n,t){var u=o(e,n);s(u,t);return f(u)}};return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/EditFlow", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/EditState","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/fe/core/library","sap/fe/templates/Feedback","sap/fe/core/converters/MetaModelConverter","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/model/odata/v4/ODataListBinding","../ActionRuntime"],function(e,t,r,n,o,i,a,s,c,l,u,g,f,d,v,h,p,m,y,P){"use strict";var b,_,C,w,M,D,S,x,E,A,k,O,F,B,R,I,V,j,T,H,N,L,$,K,q,U,G,z,W,J,Q,X,Y,Z,ee,te;var re=f.getInvolvedDataModelObjects;var ne=g.TriggerType;var oe=g.triggerConfiguredSurvey;var ie=g.StandardActions;var ae=a.publicExtension;var se=a.finalExtension;var ce=a.extensible;var le=a.defineUI5Class;var ue=o.shareObject;var ge=o.Activity;var fe=n.send;function de(e,t){try{var r=e()}catch(e){return t(e)}if(r&&r.then){return r.then(void 0,t)}return r}function ve(e,t){try{var r=e()}catch(e){return t(true,e)}if(r&&r.then){return r.then(t.bind(null,false),t.bind(null,true))}return t(false,r)}function he(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;pe(e,t)}function pe(e,t){pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return pe(e,t)}function me(e,t,r,n,o){var i={};Object.keys(n).forEach(function(e){i[e]=n[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i);if(o&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(o):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}var ye=u.CreationMode,Pe=u.ProgrammingModel,be=u.Constants,_e=u.DraftStatus,Ce=u.EditMode,we=u.StartupMode,Me=v.MessageType;var De=(b=le("sap.fe.core.controllerextensions.EditFlow"),_=ae(),C=se(),w=ae(),M=se(),D=ae(),S=se(),x=ae(),E=se(),A=ae(),k=ce(m.After),O=ae(),F=ce(m.After),B=ae(),R=ce(m.After),I=ae(),V=ce(m.After),j=ae(),T=ce(m.After),H=ae(),N=se(),L=ae(),$=se(),K=ae(),q=se(),U=ae(),G=se(),z=ae(),W=se(),J=ae(),Q=se(),X=ae(),Y=se(),Z=ae(),b(ee=(te=function(n){he(o,n);function o(){return n.apply(this,arguments)||this}var a=o.prototype;a.editDocument=function t(r){try{var n=this;var o=true;var i=n._getTransactionHelper();var a=n._getRootViewController();var s=r.getModel();var l;var u=de(function(){return Promise.resolve(n.base.editFlow.onBeforeEdit({context:r})).then(function(){return Promise.resolve(i.editDocument(r,n.getView(),n._getMessageHandler())).then(function(e){var t=n._getProgrammingModel(r);n._setStickySessionInternalProperties(t,s);var i=function(){if(e){n._setEditMode(Ce.Editable,false);n._getMessageHandler().showMessageDialog();var i=function(){if(e!==r){function g(){return Promise.resolve(n._handleNewContext(i,true,false,o,true)).then(function(){var r=function(){if(t===Pe.Sticky){n._handleStickyOn(e)}else{var r=function(){if(c.isCollaborationDraftSupported(s.getMetaModel())){return Promise.resolve(ue(e)).then(function(){})}}();if(r&&r.then)return r.then(function(){})}}();if(r&&r.then)return r.then(function(){})})}var i=e;var u=function(){if(n._isFclEnabled()){l=a.getRightmostContext();return Promise.resolve(n._computeSiblingInformation(r,l,t,true)).then(function(t){var o;t=(o=t)!==null&&o!==void 0?o:n._createSiblingInfo(r,e);n._updatePathsInHistory(t.pathMapping);if(t.targetContext.getPath()!=e.getPath()){i=t.targetContext}})}}();return u&&u.then?u.then(g):g(u)}}();if(i&&i.then)return i.then(function(){})}}();if(i&&i.then)return i.then(function(){})})})},function(t){e.error("Error while editing the document",t)});return Promise.resolve(u&&u.then?u.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};a.deleteMultipleDocuments=function e(t,r){if(r){r.beforeDeleteCallBack=this.base.editFlow.onBeforeDelete}else{r={beforeDeleteCallBack:this.base.editFlow.onBeforeDelete}}return this.base.getView().getController()._editFlow.deleteMultipleDocuments(t,r)};a.updateDocument=function t(r,n){var o=this;var i=this._getTransactionHelper();var a=this.getView().getBindingContext();var c=this._getProgrammingModel(r)===Pe.Draft;this._getMessageHandler().removeTransitionMessages();return this._syncTask(function(){try{if(a){i.handleDocumentModifications();if(!o._isFclEnabled()){s.setEditStateDirty()}if(c){o._setDraftStatus(_e.Saving)}}var t=ve(function(){return de(function(){return Promise.resolve(n).then(function(){var e=o.getView().getBindingContext();var t=function(){if(c&&e&&e===a){var t=e.getModel().getMetaModel(),r=t.getMetaContext(e.getPath()).getObject("@sapui.name"),n=l.getSemanticKeys(t,r);var i=function(){if(n&&n.length){var t=o._getSemanticMapping(),r=t&&t.semanticPath,i=l.getSemanticPath(e,true);var a=function(){if(r&&r!==i){return Promise.resolve(o._handleNewContext(e,true,false,true)).then(function(){o._setDraftStatus(_e.Saved)})}else{o._setDraftStatus(_e.Saved)}}();if(a&&a.then)return a.then(function(){})}else{o._setDraftStatus(_e.Saved)}}();if(i&&i.then)return i.then(function(){})}}();if(t&&t.then)return t.then(function(){})})},function(t){e.error("Error while updating the document",t);if(c&&a){o._setDraftStatus(_e.Clear)}})},function(e,t){return Promise.resolve(o._getMessageHandler().showMessages()).then(function(){if(e)throw t;return t})});return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}})};a.createDocument=function n(o,i){try{var a=false;var l=this;function C(n){if(a)return n;if(v.creationMode===ye.CreationRow&&v.creationRow){var i=v.creationRow.getBindingContext().getObject();delete i["@$ui5.context.isTransient"];f=v.creationRow.getParent();P=u.validateDocument(f.getBindingContext(),{data:i,customValidationFunction:f.getCreationRow().data("customValidationFunction")},l.base.getView());if(f.getCreationRow().data("disableAddRowButtonForEmptyData")==="true"){var _=f.getBindingContext("internal");_.setProperty("creationRowFieldValidity",{})}}if(v.creationMode===ye.Inline&&v.tableId){f=l.getView().byId(v.tableId)}if(f&&f.isA("sap.ui.mdc.Table")){var C=v.creationMode===ye.Inline?f.focusRow.bind(f):f.scrollToIndex.bind(f);f.getRowBinding().attachEventOnce("change",function(){C(v.createAtEnd?f.getRowBinding().getLength():0,true)})}var w=function(r,n){try{var o=de(function(){return Promise.resolve(n).then(function(e){return Promise.resolve(e.created()).then(function(){var e=l.getView().getBindingContext();if(!t.hasTransientContext(r)){var n=t.getAppComponent(l.getView());n.getSideEffectsService().requestSideEffectsForNavigationProperty(r.getPath(),e)}})})},function(t){e.error("Error while creating the document",t)});return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};var M=function(e){var t;var r=f&&f.getCreationRow().data("customValidationFunction");var n=f&&((t=f.getBindingContext("internal"))===null||t===void 0?void 0:t.getProperty("creationRowCustomValidity"));var o=d.getMessageManager();var i=[];var a;var s;o.getMessageModel().getData().forEach(function(e){if(e.code===r){o.removeMessages(e)}});e.forEach(function(e){if(e.messageTarget){var t;a=d.getControl(n[e.messageTarget].fieldId);s="".concat((t=a.getBindingContext())===null||t===void 0?void 0:t.getPath(),"/").concat(a.getBindingPath("value"));if(o.getMessageModel().getData().filter(function(e){return e.target===s}).length===0){o.addMessages(new h({message:e.messageText,processor:l.getView().getModel(),type:Me.Error,code:r,technical:false,persistent:false,target:s}))}var c=o.getMessageModel().getData().filter(function(e){return e.target===s});c[0].addControlId(n[e.messageTarget].fieldId)}else{i.push({code:r,text:e.messageText,persistent:true,type:Me.Error})}});if(i.length>0){l._getMessageHandler().showMessageDialog({customMessages:i})}};var D=function(e,r,n,o){if(e&&e!==ye.NewPage){return e}else{if(!n.isRelative()){var i=n.getPath(),a=r===Pe.Draft?o.getObject("".concat(i,"@com.sap.vocabularies.Common.v1.DraftRoot/NewAction")):o.getObject("".concat(i,"@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction"));if(a){var s=o.getObject("/".concat(a,"/@$ui5.overload/0/$Parameter"))||[];if(s.length>1){return ye.Deferred}}}var c=o.getMetaPath(n.getHeaderContext().getPath());var u=t.getNonComputedVisibleFields(o,c,l.getView());if(u.length>0){return ye.Deferred}return ye.Async}};if(m){r.lock(g)}return ve(function(){return Promise.resolve(l._syncTask(P)).then(function(t){function n(){var t;switch(h){case ye.Deferred:t=A.navigateForwardToContext(i,{bDeferredContext:true,editable:true,bForceFocus:true});break;case ye.Async:t=A.navigateForwardToContext(i,{asyncContext:m,editable:true,bForceFocus:true});break;case ye.Sync:P={editable:true,bForceFocus:true};if(g==Pe.Sticky||v.createAction){P.transient=true}t=m.then(function(e){if(!e){var t=d.getLibraryResourceBundle("sap.fe.core");return A.navigateToMessagePage(t.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"),{title:t.getText("C_COMMON_SAPFE_ERROR"),description:t.getText("C_EDITFLOW_SAPFE_CREATION_FAILED_DESCRIPTION")})}else{return v.bFromDeferred?A.navigateToContext(e,P):A.navigateForwardToContext(e,P)}});break;case ye.Inline:w(i,m);l._syncTask(m);break;case ye.CreationRow:try{var n=C.getBinding();if(!v.bSkipSideEffects){w(i,m)}var o=n.create();_.setBindingContext(o);o.created().catch(function(){e.trace("transient fast creation context deleted")});t=C.delete("$direct")}catch(t){if(r.isLocked(l.getView().getModel("ui"))){r.unlock(l.getView().getModel("ui"))}e.error("CreationRow navigation error: ",t)}break;default:t=Promise.reject("Unhandled creationMode ".concat(h));break}var u=v.creationMode!==ye.CreationRow&&v.creationMode!==ye.Inline;return function(){if(m){return de(function(){return Promise.resolve(Promise.all([m,t])).then(function(e){l._setStickySessionInternalProperties(g,a);if(u){l._setEditMode(Ce.Editable,u)}else{l._setEditMode(Ce.Editable)}var t=e[0];var r=function(){if(t){if(!l._isFclEnabled()){s.setEditStateDirty()}l._sendActivity(ge.Create,t);var e=function(){if(g===Pe.Sticky){l._handleStickyOn(t)}else{var e=function(){if(c.isCollaborationDraftSupported(a.getMetaModel())){return Promise.resolve(ue(t)).then(function(){})}}();if(e&&e.then)return e.then(function(){})}}();if(e&&e.then)return e.then(function(){})}}();if(r&&r.then)return r.then(function(){})})},function(e){if(e===be.CancelActionDialog||e===be.ActionExecutionFailed||e===be.CreationFailed){if(h===ye.Sync||h===ye.Deferred||h===ye.Async){A.navigateBackFromTransientState()}}throw e})}}()}if(t.length>0){M(t);e.error("Custom Validation failed");return}var i;v=v||{};if(o&&typeof o==="object"){i=o}else if(typeof o==="string"){i=new y(l.getView().getModel(),o);v.creationMode=ye.Sync;delete v.createAtEnd}else{throw new Error("Binding object or path expected")}var a=i.getModel();var g=l._getProgrammingModel(i);var h=D(v.creationMode,g,i,a.getMetaModel());var m;var P;var _=v.creationRow;var C;var S;var x;var E=a.getMetaModel();var A=l._getRoutingListener();var k=function(){if(h!==ye.Deferred){function t(){if(h===ye.CreationRow||h===ye.Inline){var e,t,r;v.keepTransientContextOnFailed=false;v.busyMode="Local";v.busyId=(e=f)===null||e===void 0?void 0:(t=e.getParent())===null||t===void 0?void 0:(r=t.getTableDefinition())===null||r===void 0?void 0:r.annotation.id;l._handleCreateEvents(i)}if(!v.parentControl){v.parentControl=l.getView()}v.beforeCreateCallBack=l.base.editFlow.onBeforeCreate;v.skipParameterDialog=b.getStartupMode()===we.AutoCreate;m=u.createDocument(i,v,p,l._getMessageHandler(),false,l.getView())}var e=function(){if(h===ye.CreationRow){C=_.getBindingContext();x=E.getMetaPath(C.getPath());S=C.getObject();v.data={};Object.keys(S).forEach(function(e){var t=E.getObject("".concat(x,"/").concat(e));if(t&&t.$kind==="NavigationProperty"){return}v.data[e]=S[e]});return Promise.resolve(l._checkForValidationErrors()).then(function(){})}}();return e&&e.then?e.then(t):t(e)}}();return k&&k.then?k.then(n):n(k)})},function(e,t){if(m){r.unlock(g)}if(e)throw t;return t})}var u=l._getTransactionHelper(),g=l._getGlobalUIModel();var f;var v=i;var p=l._getResourceBundle();var m=!v||v.creationMode!==ye.Inline&&v.creationMode!==ye.CreationRow&&v.creationMode!==ye.External;var P=Promise.resolve([]);var b=t.getAppComponent(l.getView());b.getRouterProxy().removeIAppStateKey();var _=function(){if(v.creationMode===ye.External){return Promise.resolve(l._syncTask()).then(function(){var e=l.getView().getController();var t=c.getAbsoluteMetaPathForListBinding(l.getView(),o);e.handlers.onChevronPressNavigateOutBound(e,v.outbound,undefined,t);a=true})}}();return Promise.resolve(_&&_.then?_.then(C):C(_))}catch(w){return Promise.reject(w)}};a.onBeforeSave=function e(t){return Promise.resolve()};a.onBeforeCreate=function e(t){return Promise.resolve()};a.onBeforeEdit=function e(t){return Promise.resolve()};a.onBeforeDiscard=function e(t){return Promise.resolve()};a.onBeforeDelete=function e(t){return Promise.resolve()};a.saveDocument=function t(r,n){try{var o=this;n=n||{};var i=n.bExecuteSideEffectsOnError||undefined;var a=true;var s=o._getTransactionHelper();var c=o._getResourceBundle();var l=n.bindings;return Promise.resolve(de(function(){return Promise.resolve(o._syncTask()).then(function(){return Promise.resolve(o._submitOpenChanges(r)).then(function(){return Promise.resolve(o._checkForValidationErrors()).then(function(){return Promise.resolve(o.base.editFlow.onBeforeSave({context:r})).then(function(){function e(){return Promise.resolve(s.saveDocument(r,c,i,l,o._getMessageHandler())).then(function(e){o._removeStickySessionInternalProperties(t);o._sendActivity(ge.Activate,e);o._triggerConfiguredSurvey(ie.save,ne.standardAction);o._setEditMode(Ce.Display,false);o._getMessageHandler().showMessageDialog();var i=function(){if(e!==r){var t=e;if(n.isFclEnabled()){var i;u=(i=u)!==null&&i!==void 0?i:o._createSiblingInfo(r,e);o._updatePathsInHistory(u.pathMapping);if(u.targetContext.getPath()!==e.getPath()){t=u.targetContext}}return Promise.resolve(o._handleNewContext(t,false,false,a,true)).then(function(){})}}();if(i&&i.then)return i.then(function(){})})}var t=o._getProgrammingModel(r);var n=o._getRootViewController();var u;var g=function(){if((t===Pe.Sticky||r.getProperty("HasActiveEntity"))&&n.isFclEnabled()){return Promise.resolve(o._computeSiblingInformation(r,n.getRightmostContext(),t,true)).then(function(e){u=e})}}();return g&&g.then?g.then(e):e(g)})})})})},function(t){if(!(t&&t.canceled)){e.error("Error while saving the document",t)}return Promise.reject(t)}))}catch(e){return Promise.reject(e)}};a.toggleDraftActive=function e(t){try{var r=this;var n=t.getObject();var o;var i=t&&r._getProgrammingModel(t)===Pe.Draft;if(!i||!(!n.IsActiveEntity&&n.HasActiveEntity||n.IsActiveEntity&&n.HasDraftEntity)){return Promise.resolve()}if(!n.IsActiveEntity&&n.HasActiveEntity){o=false}else{o=true}return Promise.resolve(de(function(){var e=r._getRootViewController();var n=e.isFclEnabled()?e.getRightmostContext():t;return Promise.resolve(r._computeSiblingInformation(t,n,Pe.Draft,false)).then(function(i){function a(){return function(){if(i){r._setEditMode(o?Ce.Editable:Ce.Display,false);if(e.isFclEnabled()){var n=r._getSemanticMapping();if((n===null||n===void 0?void 0:n.technicalPath)===t.getPath()){var a=i.pathMapping[i.pathMapping.length-1].newPath;i.pathMapping.push({oldPath:n.semanticPath,newPath:a})}r._updatePathsInHistory(i.pathMapping)}return Promise.resolve(r._handleNewContext(i.targetContext,o,true,true,true)).then(function(){})}else{return Promise.reject("Error in EditFlow.toggleDraftActive - Cannot find sibling")}}()}var s=function(){if(!i&&t!==n){return Promise.resolve(r._computeSiblingInformation(t,t,Pe.Draft,false)).then(function(e){i=e})}}();return s&&s.then?s.then(a):a(s)})},function(e){return Promise.reject("Error in EditFlow.toggleDraftActive:".concat(e))}))}catch(e){return Promise.reject(e)}};a.cancelDocument=function t(r,n){try{var o=this;var i=o._getTransactionHelper();var a=o._getResourceBundle();var c=n;var l;c.cancelButton=n.control||c.cancelButton;c.beforeCancelCallBack=o.base.editFlow.onBeforeDiscard;return Promise.resolve(de(function(){return Promise.resolve(o._syncTask()).then(function(){function e(){return Promise.resolve(i.cancelDocument(r,c,a,o._getMessageHandler())).then(function(e){var n=true;o._removeStickySessionInternalProperties(t);o._setEditMode(Ce.Display,false);o._setDraftStatus(_e.Clear);s.setEditStateDirty();return function(){if(!e){o._sendActivity(ge.Discard,undefined);var i=function(){if(!c.skipBackNavigation){return Promise.resolve(o._getRoutingListener().navigateBackFromContext(r)).then(function(){})}}();if(i&&i.then)return i.then(function(){})}else{var a=e;o._sendActivity(ge.Discard,a);var s=a;if(o._isFclEnabled()){var u;l=(u=l)!==null&&u!==void 0?u:o._createSiblingInfo(r,a);o._updatePathsInHistory(l.pathMapping);if(l.targetContext.getPath()!==a.getPath()){s=l.targetContext}}return function(){if(t===Pe.Draft){return Promise.resolve(o._fetchSemanticKeyValues(a)).then(function(){return function(){if(!c.skipBindingToView){return Promise.resolve(o._handleNewContext(s,false,true,n,true)).then(function(){})}else{return a}}()})}else{return Promise.resolve(o._handleNewContext(s,false,false,n,true)).then(function(){})}}()}}()})}var t=o._getProgrammingModel(r);var n=function(){if((t===Pe.Sticky||r.getProperty("HasActiveEntity"))&&o._isFclEnabled()){var e=o._getRootViewController();return Promise.resolve(o._computeSiblingInformation(r,e.getRightmostContext(),t,true)).then(function(e){l=e})}}();return n&&n.then?n.then(e):e(n)})},function(t){e.error("Error while discarding the document",t)}))}catch(e){return Promise.reject(e)}};a.isDraftRoot=function e(t){var r=t.getModel().getMetaModel();var n=r.getMetaContext(t.getPath());return c.isDraftRoot(re(n).targetEntitySet)};a.deleteDocument=function r(n,o){try{var i=this;var a=t.getAppComponent(i.getView());var c=o;if(!c){c={bFindActiveContexts:false}}else{c.bFindActiveContexts=false}c.beforeDeleteCallBack=i.base.editFlow.onBeforeDelete;var l=de(function(){if(i._isFclEnabled()&&i.isDraftRoot(n)&&n.getIndex()===undefined&&n.getProperty("IsActiveEntity")===true&&n.getProperty("HasDraftEntity")===true){c.beforeDeleteCallBack=function(t){try{return Promise.resolve(i.base.editFlow.onBeforeDelete(t)).then(function(){var t=de(function(){var e=n.getModel();var t=e.bindContext("".concat(n.getPath(),"/SiblingEntity")).getBoundContext();return Promise.resolve(t.requestCanonicalPath()).then(function(t){var r=e.getKeepAliveContext(t);r===null||r===void 0?void 0:r.replaceWith(n)})},function(t){e.error("Error while replacing the draft instance in the LR ODLB",t)});if(t&&t.then)return t.then(function(){})})}catch(e){return Promise.reject(e)}}}return Promise.resolve(i._deleteDocumentTransaction(n,c)).then(function(){if(!i._isFclEnabled()){s.setEditStateDirty()}i._sendActivity(ge.Delete,n);if(a){a.getShellServices().setBackNavigation()}if((a===null||a===void 0?void 0:a.getStartupMode())===we.Deeplink&&!i._isFclEnabled()){a.getRouterProxy().exitFromApp()}else{i._getRoutingListener().navigateBackFromContext(n)}})},function(t){e.error("Error while deleting the document",t)});return Promise.resolve(l&&l.then?l.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};a.applyDocument=function e(t){try{var n=this;var o=n._getGlobalUIModel();r.lock(o);var i=ve(function(){return Promise.resolve(n._syncTask()).then(function(){return Promise.resolve(n._submitOpenChanges(t)).then(function(){return Promise.resolve(n._checkForValidationErrors()).then(function(){return Promise.resolve(n._getMessageHandler().showMessageDialog()).then(function(){return Promise.resolve(n._getRoutingListener().navigateBackFromContext(t)).then(function(){})})})})})},function(e,t){if(r.isLocked(o)){r.unlock(o)}if(e)throw t;return t});return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};a.invokeAction=function t(r,n,o){try{var i=this;var a;var c=i._getTransactionHelper();var l;var u;var g;var f=i.getView();var d=n||{};if(d.isA&&d.isA("sap.ui.model.odata.v4.Context")||Array.isArray(d)||o!==undefined){var v=d;d=o||{};if(v){d.contexts=v}else{d.model=i.getView().getModel()}}d.isNavigable=d.requiresNavigation||d.isNavigable;if(!d.parentControl){d.parentControl=i.getView()}if(d.controlId){a=i.getView().byId(d.controlId);if(a){d.internalModelContext=a.getBindingContext("internal")}}else{d.internalModelContext=f.getBindingContext("internal")}if(r&&r.indexOf("(")>-1){l=r.split("(");r=l[0];u=l[l.length-1].replaceAll(")","")}if(d.bStaticAction){if(a.isTableBound()){d.contexts=a.getRowBinding().getHeaderContext()}else{var h=a.data("rowsBindingInfo").path,p=new y(i.getView().getModel(),h);d.contexts=p.getHeaderContext()}if(u&&a.getBindingContext()){d.contexts=i._getActionOverloadContextFromMetadataPath(a.getBindingContext(),a.getRowBinding(),u)}if(d.enableAutoScroll){g=i._createActionPromise(r,a.sId)}}d.bGetBoundContext=i._getBoundContext(f,d);d.bObjectPage=f.getViewData().converterType==="ObjectPage";return Promise.resolve(de(function(){return Promise.resolve(i._syncTask()).then(function(){return Promise.resolve(c.callAction.bind(c,r,d,i.getView(),i._getMessageHandler())()).then(function(t){function n(){i._sendActivity(ge.Action,d.contexts);i._triggerConfiguredSurvey(r,ne.action);if(g){g.fResolver(t)}if(d.contexts){if(!i._isFclEnabled()){s.setEditStateDirty()}i._getInternalModel().setProperty("/sCustomAction",r)}if(d.isNavigable){var n=t;if(Array.isArray(n)&&n.length===1){n=n[0].value}if(n&&!Array.isArray(n)){var o=f.getModel().getMetaModel();var a=o.getMetaPath(n.getPath());var c=function(e,t){return e.filter(function(e){if(t){return t.indexOf(e)>-1}return true})};var l=Array.isArray(d.contexts)?c(d.contexts,d.applicableContext)[0]:d.contexts;var u=l&&o.getMetaPath(l.getPath());if(a!=undefined&&a===u){if(l.getPath()!==n.getPath()){i._getRoutingListener().navigateForwardToContext(n,{checkNoHashChange:true,noHistoryEntry:false})}else{e.info("Navigation to the same context is not allowed")}}}}return t}var o=function(){if(d.contexts){return Promise.resolve(i._refreshListIfRequired(i._getActionResponseDataAndKeys(r,t),d.contexts[0])).then(function(){})}}();return o&&o.then?o.then(n):n(o)})})},function(e){if(g){g.fRejector()}if(e===be.CancelActionDialog){throw new Error("Dialog cancelled")}else if(!(e&&(e.canceled||e.rejectedItems&&e.rejectedItems[0].canceled))){throw new Error("Error in EditFlow.invokeAction:".concat(e))}}))}catch(e){return Promise.reject(e)}};a.securedExecution=function e(t,n){var o=this;var i=n&&n.busy&&n.busy.set!==undefined?n.busy.set:true,a=n&&n.busy&&n.busy.check!==undefined?n.busy.check:true,c=n&&n.updatesDocument||false,l=this._getGlobalUIModel(),u=this.base.getView().getBindingContext(),g=u&&this._getProgrammingModel(u)===Pe.Draft;if(a&&r.isLocked(l)){return Promise.reject("Application already busy therefore execution rejected")}if(i){r.lock(l)}if(c&&g){this._setDraftStatus(_e.Saving)}this._getMessageHandler().removeTransitionMessages();return this._syncTask(t).then(function(){if(c){o._getTransactionHelper().handleDocumentModifications();if(!o._isFclEnabled()){s.setEditStateDirty()}if(g){o._setDraftStatus(_e.Saved)}}}).catch(function(e){if(c&&g){o._setDraftStatus(_e.Clear)}return Promise.reject(e)}).finally(function(){if(i){r.unlock(l)}o._getMessageHandler().showMessageDialog()})};a.handlePatchSent=function e(t){var r,n,o=this;if(!((r=this.base.getView())!==null&&r!==void 0&&(n=r.getBindingContext("internal"))!==null&&n!==void 0&&n.getProperty("skipPatchHandlers"))){var i=new Promise(function(e,r){t.getSource().attachEventOnce("patchCompleted",function(n){if(t.getSource().isA("sap.ui.model.odata.v4.ODataListBinding")){var i;P.setActionEnablementAfterPatch(o.base.getView(),t.getSource(),(i=o.base.getView())===null||i===void 0?void 0:i.getBindingContext("internal"))}var a=n.getParameter("success");if(a){e()}else{r()}})});this.updateDocument(t.getSource(),i)}};a.handleCreateActivate=function e(t){var r=t.getSource();var n=this._getTransactionHelper();var o=true;var i=true;var a=this._getResourceBundle();var s={creationMode:ye.Inline,createAtEnd:o,inactive:i,keepTransientContextOnFailed:false,busyMode:"None"};n.createDocument(r,s,a,this._getMessageHandler(),false,this.getView())};a._setEditMode=function e(t,r){this.base.getView().getController()._editFlow.setEditMode(t,r)};a._setDraftStatus=function e(t){this.base.getView().getController()._editFlow.setDraftStatus(t)};a._getRoutingListener=function e(){return this.base.getView().getController()._editFlow.getRoutingListener()};a._getGlobalUIModel=function e(){return this.base.getView().getController()._editFlow.getGlobalUIModel()};a._syncTask=function e(t){return this.base.getView().getController()._editFlow.syncTask(t)};a._getProgrammingModel=function e(t){return this.base.getView().getController()._editFlow.getProgrammingModel(t)};a._deleteDocumentTransaction=function e(t,r){return this.base.getView().getController()._editFlow.deleteDocumentTransaction(t,r)};a._handleCreateEvents=function e(t){this.base.getView().getController()._editFlow.handleCreateEvents(t)};a._getTransactionHelper=function e(){return this.base.getView().getController()._editFlow.getTransactionHelper()};a._getInternalModel=function e(){return this.base.getView().getController()._editFlow.getInternalModel()};a._getRootViewController=function e(){return this.base.getAppComponent().getRootViewController()};a._getResourceBundle=function e(){return this.getView().getController().oResourceBundle};a._getSemanticMapping=function e(){return this.base.getAppComponent().getRoutingService().getLastSemanticMapping()};a._createActionPromise=function e(t,r){return this.base.getView().getController()._editFlow.createActionPromise(t,r)};a._getCurrentActionPromise=function e(){return this.base.getView().getController()._editFlow.getCurrentActionPromise()};a._deleteCurrentActionPromise=function e(){return this.base.getView().getController()._editFlow.deleteCurrentActionPromise()};a._getMessageHandler=function e(){return this.base.getView().getController()._editFlow.getMessageHandler()};a._sendActivity=function e(t,r){var n=Array.isArray(r)?r.map(function(e){return e.getPath()}):r===null||r===void 0?void 0:r.getPath();fe(this.getView(),t,n)};a._triggerConfiguredSurvey=function e(t,r){oe(this.getView(),t,r)};a._getActionResponseDataAndKeys=function e(t,r){return this.base.getView().getController()._editFlow.getActionResponseDataAndKeys(t,r)};a._submitOpenChanges=function e(t){try{var n=this;var o=t.getModel(),i=n._getGlobalUIModel();return Promise.resolve(ve(function(){return Promise.resolve(o.submitBatch("$auto")).then(function(){return Promise.resolve(o.oRequestor.waitForRunningChangeRequests("$auto")).then(function(){if(o.hasPendingChanges("$auto")){throw new Error("submit of open changes failed")}})})},function(e,t){if(r.isLocked(i)){r.unlock(i)}if(e)throw t;return t}))}catch(e){return Promise.reject(e)}};a._handleStickyOn=function e(t){return this.base.getView().getController()._editFlow.handleStickyOn(t)};a._handleStickyOff=function e(){return this.base.getView().getController()._editFlow.handleStickyOff()};a._onBackNavigationInSession=function e(){return this.base.getView().getController()._editFlow.onBackNavigationInSession()};a._discardStickySession=function e(t){return this.base.getView().getController()._editFlow.discardStickySession(t)};a._setStickySessionInternalProperties=function e(t,r){if(t===Pe.Sticky){var n=this._getInternalModel();n.setProperty("/sessionOn",true);n.setProperty("/stickySessionToken",r.getHttpHeaders(true)["SAP-ContextId"])}};a._removeStickySessionInternalProperties=function e(t){if(t===Pe.Sticky){var r=this._getInternalModel();r.setProperty("/sessionOn",false);r.setProperty("/stickySessionToken",undefined);this._handleStickyOff()}};a._handleNewContext=function e(t,r,n,o){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;try{var a=this;if(!a._isFclEnabled()){s.setEditStateDirty()}return Promise.resolve(a._getRoutingListener().navigateToContext(t,{checkNoHashChange:true,editable:r,bPersistOPScroll:true,bRecreateContext:n,bDraftNavigation:o,showPlaceholder:false,bForceFocus:i,keepCurrentLayout:true})).then(function(){})}catch(e){return Promise.reject(e)}};a._getBoundContext=function e(t,r){var n=t.getViewData().viewLevel;var o=n>1||n===1&&r.controlId;return!r.isNavigable||!!o};a._checkForValidationErrors=function e(){var t=this;return this._syncTask().then(function(){var e=t.base.getView().getId();var r=sap.ui.getCore().getMessageManager().getMessageModel().getData();var n;var o;if(!r.length){return Promise.resolve("No validation errors found")}for(var i=0;i<r.length;i++){o=r[i];if(o.validation){n=d.byId(o.getControlId());while(n){if(n.getId()===e){return Promise.reject("validation errors exist")}n=n.getParent()}}}})};a._refreshListIfRequired=function r(n,o){var i=this;if(!o||!n||!n.oData){return Promise.resolve()}var a=o.getBinding();if(a&&a.isA("sap.ui.model.odata.v4.ODataListBinding")){var s=n.oData;var c=n.keys;var l=o.getObject();var u=true;if(Object.keys(s).length){u=c.every(function(e){return l[e]===s[e]});if(!u){return new Promise(function(r){if(a.isRoot()){a.attachEventOnce("dataReceived",function(){r()});a.refresh()}else{var n=t.getAppComponent(i.getView());n.getSideEffectsService().requestSideEffects([{$NavigationPropertyPath:a.getPath()}],a.getContext()).then(function(){r()},function(){e.error("Error while refreshing the table");r()}).catch(function(t){e.error("Error while refreshing the table",t)})}})}}}return Promise.resolve()};a._fetchSemanticKeyValues=function e(t){var r=t.getModel().getMetaModel(),n=r.getMetaContext(t.getPath()).getObject("@sapui.name"),o=l.getSemanticKeys(r,n);if(o&&o.length){var i=o.map(function(e){return t.requestObject(e.$PropertyPath)});return Promise.all(i)}else{return Promise.resolve()}};a._getActionOverloadContextFromMetadataPath=function e(t,r,n){var o=t.getModel();var i=o.getMetaModel();var a=r.getPath().split("/");var s=t;a.pop();if(a.length===0){a=[""]}if(a[0]!==""){a.unshift("")}var c=a.map(function(e){if(e!==""){s=o.bindContext(e,s).getBoundContext()}else{s=t}return s}).reverse();var l=c.find(function(e){return i.getMetaContext(e.getPath()).getObject("$Type")===n});return l||r.getHeaderContext()};a._createSiblingInfo=function e(t,r){return{targetContext:r,pathMapping:[{oldPath:t.getPath(),newPath:r.getPath()}]}};a._updatePathsInHistory=function e(t){var r=this.base.getAppComponent();r.getRouterProxy().setPathMapping(t);var n=this._getSemanticMapping();if(t.length&&(n===null||n===void 0?void 0:n.technicalPath)===t[t.length-1].oldPath){n.technicalPath=t[t.length-1].newPath}};a._computeSiblingInformation=function t(r,n,o,a){try{var s;n=(s=n)!==null&&s!==void 0?s:r;if(!n.getPath().startsWith(r.getPath())){e.error("Cannot compute rightmost sibling context");throw new Error("Cannot compute rightmost sibling context")}if(a&&n.getPath()===r.getPath()){return Promise.resolve(undefined)}var c=r.getModel();if(o===Pe.Draft){return Promise.resolve(i.computeSiblingInformation(r,n))}else{return Promise.resolve({targetContext:c.bindContext(n.getPath()).getBoundContext(),pathMapping:[]})}}catch(e){return Promise.reject(e)}};a._isFclEnabled=function e(){return t.getAppComponent(this.getView())._isFclEnabled()};return o}(p),me(te.prototype,"editDocument",[_,C],Object.getOwnPropertyDescriptor(te.prototype,"editDocument"),te.prototype),me(te.prototype,"deleteMultipleDocuments",[w,M],Object.getOwnPropertyDescriptor(te.prototype,"deleteMultipleDocuments"),te.prototype),me(te.prototype,"updateDocument",[D,S],Object.getOwnPropertyDescriptor(te.prototype,"updateDocument"),te.prototype),me(te.prototype,"createDocument",[x,E],Object.getOwnPropertyDescriptor(te.prototype,"createDocument"),te.prototype),me(te.prototype,"onBeforeSave",[A,k],Object.getOwnPropertyDescriptor(te.prototype,"onBeforeSave"),te.prototype),me(te.prototype,"onBeforeCreate",[O,F],Object.getOwnPropertyDescriptor(te.prototype,"onBeforeCreate"),te.prototype),me(te.prototype,"onBeforeEdit",[B,R],Object.getOwnPropertyDescriptor(te.prototype,"onBeforeEdit"),te.prototype),me(te.prototype,"onBeforeDiscard",[I,V],Object.getOwnPropertyDescriptor(te.prototype,"onBeforeDiscard"),te.prototype),me(te.prototype,"onBeforeDelete",[j,T],Object.getOwnPropertyDescriptor(te.prototype,"onBeforeDelete"),te.prototype),me(te.prototype,"saveDocument",[H,N],Object.getOwnPropertyDescriptor(te.prototype,"saveDocument"),te.prototype),me(te.prototype,"toggleDraftActive",[L,$],Object.getOwnPropertyDescriptor(te.prototype,"toggleDraftActive"),te.prototype),me(te.prototype,"cancelDocument",[K,q],Object.getOwnPropertyDescriptor(te.prototype,"cancelDocument"),te.prototype),me(te.prototype,"deleteDocument",[U,G],Object.getOwnPropertyDescriptor(te.prototype,"deleteDocument"),te.prototype),me(te.prototype,"applyDocument",[z,W],Object.getOwnPropertyDescriptor(te.prototype,"applyDocument"),te.prototype),me(te.prototype,"invokeAction",[J,Q],Object.getOwnPropertyDescriptor(te.prototype,"invokeAction"),te.prototype),me(te.prototype,"securedExecution",[X,Y],Object.getOwnPropertyDescriptor(te.prototype,"securedExecution"),te.prototype),me(te.prototype,"handlePatchSent",[Z],Object.getOwnPropertyDescriptor(te.prototype,"handlePatchSent"),te.prototype),te))||ee);return De},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/IntentBasedNavigation", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(t,e,n){"use strict";var r,i,o,a,p,u,c,l,s;var f={};var v=t.publicExtension;var d=t.finalExtension;var y=t.extensible;var g=t.defineUI5Class;function b(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;O(t,e)}function O(t,e){O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,n){e.__proto__=n;return e};return O(t,e)}function x(t,e,n,r,i){var o={};Object.keys(r).forEach(function(t){o[t]=r[t]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o);if(i&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(i):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(t,e,o);o=null}return o}var C;(function(t){t["Default"]="default";t["Initiator"]="initiator"})(C||(C={}));f.ContextStrategy=C;var P=(r=g("sap.fe.core.controllerextensions.IntentBasedNavigation"),i=v(),o=y(n.After),a=v(),p=y(n.After),u=d(),c=v(),r(l=(s=function(t){b(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.adaptContextPreparationStrategy=function t(e){return C.Default};n.adaptNavigationContext=function t(e,n){};n.navigateOutbound=function t(e,n){var r,i;var o=(r=this.base)===null||r===void 0?void 0:r.getView().getBindingContext("internal");o.setProperty("externalNavigationContext",{page:false});(i=this.base)===null||i===void 0?void 0:i._intentBasedNavigation.navigateOutbound(e,n)};return e}(e),x(s.prototype,"adaptContextPreparationStrategy",[i,o],Object.getOwnPropertyDescriptor(s.prototype,"adaptContextPreparationStrategy"),s.prototype),x(s.prototype,"adaptNavigationContext",[a,p],Object.getOwnPropertyDescriptor(s.prototype,"adaptNavigationContext"),s.prototype),x(s.prototype,"navigateOutbound",[u,c],Object.getOwnPropertyDescriptor(s.prototype,"navigateOutbound"),s.prototype),s))||l);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/InternalEditFlow", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controllerextensions/editFlow/sticky","sap/fe/core/controllerextensions/editFlow/TransactionHelper","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/EditState","sap/fe/core/library","sap/m/Button","sap/m/Dialog","sap/m/Text","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(e,t,r,o,n,i,a,s,c,p,u,l,d,f,g){"use strict";var y,h,v,m,P,S,w,O,M,b,D,C,E,A,k,T,_,I,x,R,j,H,N,B,F,V,G,L,U,z,K,W,$,q,J,X,Q,Y,Z,ee,te,re,oe,ne,ie,ae,se,ce,pe,ue;var le=s.publicExtension;var de=s.privateExtension;var fe=s.methodOverride;var ge=s.finalExtension;var ye=s.extensible;var he=s.defineUI5Class;var ve=n.Activity;var me=o.send;function Pe(e,t){try{var r=e()}catch(e){return t(e)}if(r&&r.then){return r.then(void 0,t)}return r}function Se(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;we(e,t)}function we(e,t){we=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return we(e,t)}function Oe(e,t,r,o,n){var i={};Object.keys(o).forEach(function(e){i[e]=o[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=r.slice().reverse().reduce(function(r,o){return o(e,t,r)||r},i);if(n&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(n):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}var Me=p.ProgrammingModel,be=p.DraftStatus,De=p.EditMode,Ce=p.CreationMode;var Ee=(y=he("sap.fe.core.controllerextensions.InternalEditFlow"),h=fe(),v=de(),m=ye(g.After),P=le(),S=ge(),w=le(),O=ge(),M=le(),b=ge(),D=le(),C=ge(),E=le(),A=ge(),k=le(),T=ge(),_=le(),I=ge(),x=le(),R=ge(),j=le(),H=ge(),N=le(),B=ge(),F=le(),V=ge(),G=le(),L=ge(),U=le(),z=ge(),K=le(),W=ge(),$=le(),q=ge(),J=le(),X=ge(),Q=le(),Y=ge(),Z=le(),ee=ge(),te=le(),re=ge(),oe=le(),ne=ge(),ie=le(),ae=ge(),se=le(),ce=ge(),y(pe=(ue=function(o){Se(n,o);function n(){return o.apply(this,arguments)||this}var s=n.prototype;s.onInit=function e(){this._oAppComponent=this.base.getAppComponent()};s.setCreationMode=function e(t){};s.createMultipleDocuments=function o(n,i,a,s,c){var p=this;var u=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;var l=this.getTransactionHelper(),d=this.getGlobalUIModel(),f=this.getView().getController().oResourceBundle;r.lock(d);var g=[];return this.syncTask().then(function(){return c?c({contextPath:n&&n.getPath()}):Promise.resolve()}).then(function(){var e=n.getModel(),t=e.getMetaModel();var r;if(n.getContext()){r=t.getMetaPath("".concat(n.getContext().getPath(),"/").concat(n.getPath()))}else{r=t.getMetaPath(n.getPath())}p.handleCreateEvents(n);var o=i.map(function(e){var o={data:{}};o.keepTransientContextOnFailed=false;o.busyMode="None";o.creationMode=Ce.CreationRow;o.parentControl=p.getView();o.createAtEnd=a;o.inactive=u;for(var i in e){var c=t.getObject("".concat(r,"/").concat(i));if(c&&c.$kind!=="NavigationProperty"&&e[i]){o.data[i]=e[i]}}return l.createDocument(n,o,f,p.getMessageHandler(),s,p.getView())});return Promise.all(o)}).then(function(e){g=e;return Promise.all(e.map(function(e){if(!e.bInactive){return e.created()}}))}).then(function(){var e=p.getView().getBindingContext();if(!t.hasTransientContext(n)){p._oAppComponent.getSideEffectsService().requestSideEffectsForNavigationProperty(n.getPath(),e)}}).catch(function(t){e.error("Error while creating multiple documents.");return Promise.reject(t)}).finally(function(){r.unlock(d)}).then(function(){return g})};s.deleteMultipleDocuments=function o(n,i){var a=this;var s=this.getGlobalUIModel();var p=this.getView().byId(i.controlId);if(!p){throw new Error("parameter controlId missing or incorrect")}else{i.parentControl=p}var u=p.getBinding("items")||p.getRowBinding();i.bFindActiveContexts=true;r.lock(s);return this.deleteDocumentTransaction(n,i).then(function(){var e;if(p.isA("sap.ui.mdc.Table")){p.clearSelection()}var r=a.getView().getBindingContext();if(u.isRoot()){e=new Promise(function(e){u.attachEventOnce("dataReceived",function(){e()})});u.refresh()}else if(r){if(!t.hasTransientContext(u)){a._oAppComponent.getSideEffectsService().requestSideEffectsForNavigationProperty(u.getPath(),r)}}if(!a._isFclEnabled()){c.setEditStateDirty()}me(a.getView(),ve.Delete,n.map(function(e){return e.getPath()}));return e}).catch(function(t){e.error("Error while deleting the document(s)",t)}).finally(function(){r.unlock(s)})};s.computeEditMode=function t(r){try{var o=this;var n=o.getInternalModel().getProperty("/sCustomAction");var i=o.getProgrammingModel(r);return Promise.resolve(function(){if(i===Me.Draft){return Pe(function(){o.setDraftStatus(be.Clear);return Promise.resolve(r.requestObject("IsActiveEntity")).then(function(e){var t=function(){if(e===false){o.setEditMode(De.Editable);return Promise.resolve(r.requestObject("HasActiveEntity")).then(function(e){o.setEditMode(undefined,!e)})}else{o.setEditMode(De.Display,false)}}();if(t&&t.then)return t.then(function(){})})},function(t){e.error("Error while determining the editMode for draft",t);throw t})}else if(i===Me.Sticky){if(n&&n!==""&&o._hasNewActionForSticky(r,o.getView(),n)){o.getTransactionHelper()._bCreateMode=true;o.getTransactionHelper().handleDocumentModifications();o.setEditMode(De.Editable,true);c.setEditStateDirty();o.handleStickyOn(r);o.getInternalModel().setProperty("/sCustomAction","")}}}())}catch(e){return Promise.reject(e)}};s.setEditMode=function e(t,r){var o=this.getGlobalUIModel();if(t){o.setProperty("/isEditable",t==="Editable",undefined,true)}if(r!==undefined){this.setCreationMode(r)}};s.setDraftStatus=function e(t){this.base.getView().getModel("ui").setProperty("/draftStatus",t,undefined,true)};s.getRoutingListener=function e(){if(this.base._routing){return this.base._routing}else{throw new Error("Edit Flow works only with a given routing listener")}};s.getGlobalUIModel=function e(){return this.base.getView().getModel("ui")};s.syncTask=function e(t){var r;if(t instanceof Promise){r=function(){return t}}else if(typeof t==="function"){r=t}this._pTasks=this._pTasks||Promise.resolve();if(r){this._pTasks=this._pTasks.then(r).catch(function(){return Promise.resolve()})}return this._pTasks};s.getProgrammingModel=function e(t){return this.getTransactionHelper().getProgrammingModel(t)};s.deleteDocumentTransaction=function e(t,r){var o,n=this;var i=this.getView().getController().oResourceBundle,a=this.getTransactionHelper();r=r||{};r.internalModelContext=r.controlId?(o=sap.ui.getCore().byId(r.controlId))===null||o===void 0?void 0:o.getBindingContext("internal"):null;return this.syncTask().then(a.deleteDocument.bind(a,t,r,i,this.getMessageHandler())).then(function(){var e=n.getInternalModel();e.setProperty("/sessionOn",false);e.setProperty("/stickySessionToken",undefined)}).catch(function(e){return Promise.reject(e)})};s.handleCreateEvents=function e(t){var r=this;var o=this.getTransactionHelper();this.setDraftStatus(be.Clear);t=t.getBinding&&t.getBinding()||t;var n=this.getProgrammingModel(t);t.attachEvent("createSent",function(){o.handleDocumentModifications();if(n===Me.Draft){r.setDraftStatus(be.Saving)}});t.attachEvent("createCompleted",function(e){var t=e.getParameter("success");if(n===Me.Draft){r.setDraftStatus(t?be.Saved:be.Clear)}r.getMessageHandler().showMessageDialog()})};s.getTransactionHelper=function e(){if(!this._oTransactionHelper){this._oTransactionHelper=new a(this._oAppComponent,this.getGlobalUIModel())}return this._oTransactionHelper};s.getInternalModel=function e(){return this.base.getView().getModel("internal")};s.createActionPromise=function e(t,r){var o=this;var n,i;this.oActionPromise=new Promise(function(e,t){n=e;i=t}).then(function(e){return Object.assign({controlId:r},o.getActionResponseDataAndKeys(t,e))});return{fResolver:n,fRejector:i}};s.getCurrentActionPromise=function e(){return this.oActionPromise};s.deleteCurrentActionPromise=function e(){this.oActionPromise=undefined};s.getActionResponseDataAndKeys=function e(t,r){if(Array.isArray(r)){if(r.length===1){r=r[0].value}else{return null}}if(!r){return null}var o=this.getView(),n=o.getModel().getMetaModel().getData(),i=n&&n[t]&&n[t][0]&&n[t][0].$ReturnType?n[t][0].$ReturnType.$Type:null,a=i&&n[i]?n[i].$Key:null;return{oData:r.getObject(),keys:a}};s.getMessageHandler=function e(){if(this.base.messageHandler){return this.base.messageHandler}else{throw new Error("Edit Flow works only with a given message handler")}};s.handleStickyOn=function r(o){var n=t.getAppComponent(this.getView());try{if(n===undefined||o===undefined){throw new Error("undefined AppComponent or Context for function handleStickyOn")}if(!n.getRouterProxy().hasNavigationGuard()){var i=n.getRouterProxy().getHash(),a=this.getInternalModel();setTimeout(function(){n.getRouterProxy().setNavigationGuard(o.getPath().substring(1))},0);n.getShellServices().setBackNavigation(this.onBackNavigationInSession.bind(this));this.fnDirtyStateProvider=this._registerDirtyStateProvider(n,a,i);n.getShellServices().registerDirtyStateProvider(this.fnDirtyStateProvider);var s=this.getView().getModel("sap.fe.i18n");this.fnHandleSessionTimeout=this._attachSessionTimeout(o,s);this.getView().getModel().attachSessionTimeout(this.fnHandleSessionTimeout);this.fnStickyDiscardAfterNavigation=this._attachRouteMatched(this,o,n);n.getRoutingService().attachRouteMatched(this.fnStickyDiscardAfterNavigation)}}catch(t){e.info(t);return undefined}return true};s.handleStickyOff=function r(){var o=t.getAppComponent(this.getView());try{if(o===undefined){throw new Error("undefined AppComponent for function handleStickyOff")}if(o&&o.getRouterProxy){o.getRouterProxy().discardNavigationGuard()}if(this.fnDirtyStateProvider){o.getShellServices().deregisterDirtyStateProvider(this.fnDirtyStateProvider);this.fnDirtyStateProvider=undefined}if(this.getView().getModel()&&this.fnHandleSessionTimeout){this.getView().getModel().detachSessionTimeout(this.fnHandleSessionTimeout)}o.getRoutingService().detachRouteMatched(this.fnStickyDiscardAfterNavigation);this.fnStickyDiscardAfterNavigation=undefined;this.getTransactionHelper()._bCreateMode=false;this.setEditMode(De.Display,false);if(o){o.getShellServices().setBackNavigation()}}catch(t){e.info(t);return undefined}return true};s.onBackNavigationInSession=function e(){var r=this;var o=this.getView(),n=t.getAppComponent(o),a=n.getRouterProxy();if(a.checkIfBackIsOutOfGuard()){var s=o&&o.getBindingContext();i.processDataLossConfirmation(function(){r.discardStickySession(s);history.back()},o,this.getProgrammingModel(s));return}history.back()};s.discardStickySession=function e(t){i.discardDocument(t);this.handleStickyOff()};s._hasNewActionForSticky=function t(r,o,n){try{if(r===undefined||o===undefined){throw new Error("Invalid input parameters for function _hasNewActionForSticky")}var i=o.getModel().getMetaModel(),a=r.getPath().substring(0,r.getPath().indexOf("(")),s=i.getObject("".concat(a,"@com.sap.vocabularies.Session.v1.StickySessionSupported"));if(s&&s.NewAction&&s.NewAction===n){return true}else if(s&&s.AdditionalNewActions){return n===s.AdditionalNewActions.find(function(e){return e===n})?true:false}else{return false}}catch(t){e.info(t);return undefined}};s._registerDirtyStateProvider=function t(r,o,n){return function t(i){try{if(i===undefined){throw new Error("Invalid input parameters for function fnDirtyStateProvider")}var a=i.innerAppRoute,s=r.getRouterProxy();var c="";var p;var u=o.getProperty("/sessionOn");if(!u){return undefined}if(!s.isNavigationFinalized()){p=false;c=a}else if(n===a){p=true}else if(s.checkHashWithGuard(a)||s.isGuardCrossAllowedByUser()){c=a;p=false}else{p=true}if(p){setTimeout(function(){r.getShellServices().setDirtyFlag(false)},0)}else{n=c}return p}catch(t){e.info(t);return undefined}}};s._attachSessionTimeout=function t(r,o){var n=this;return function(){try{if(r===undefined){throw new Error("Context missing for function fnHandleSessionTimeout")}n.getMessageHandler().removeTransitionMessages();var t=new l({title:"{sap.fe.i18n>C_EDITFLOW_OBJECT_PAGE_SESSION_EXPIRED_DIALOG_TITLE}",state:"Warning",content:new d({text:"{sap.fe.i18n>C_EDITFLOW_OBJECT_PAGE_SESSION_EXPIRED_DIALOG_MESSAGE}"}),beginButton:new u({text:"{sap.fe.i18n>C_COMMON_DIALOG_OK}",type:"Emphasized",press:function(){n.handleStickyOff();n.getRoutingListener().navigateBackFromContext(r)}}),afterClose:function(){t.destroy()}});t.addStyleClass("sapUiContentPadding");t.setModel(o,"sap.fe.i18n");n.getView().addDependent(t);t.open()}catch(t){e.info(t);return undefined}return true}};s._attachRouteMatched=function e(t,r,o){return function e(){var n=o.getRouterProxy().getHash();if(!n||!o.getRouterProxy().checkHashWithGuard(n)){t.discardStickySession(r)}}};s.scrollAndFocusOnInactiveRow=function e(t){var r=t.getRowBinding();var o=r.getCount()||0;if(o>0){t.scrollToIndex(o-1);t.focusRow(o,true)}else{t.focusRow(o,true)}};s._isFclEnabled=function e(){return this.base.getAppComponent()._isFclEnabled()};return n}(f),Oe(ue.prototype,"onInit",[h],Object.getOwnPropertyDescriptor(ue.prototype,"onInit"),ue.prototype),Oe(ue.prototype,"setCreationMode",[v,m],Object.getOwnPropertyDescriptor(ue.prototype,"setCreationMode"),ue.prototype),Oe(ue.prototype,"createMultipleDocuments",[P,S],Object.getOwnPropertyDescriptor(ue.prototype,"createMultipleDocuments"),ue.prototype),Oe(ue.prototype,"deleteMultipleDocuments",[w,O],Object.getOwnPropertyDescriptor(ue.prototype,"deleteMultipleDocuments"),ue.prototype),Oe(ue.prototype,"computeEditMode",[M,b],Object.getOwnPropertyDescriptor(ue.prototype,"computeEditMode"),ue.prototype),Oe(ue.prototype,"setEditMode",[D,C],Object.getOwnPropertyDescriptor(ue.prototype,"setEditMode"),ue.prototype),Oe(ue.prototype,"setDraftStatus",[E,A],Object.getOwnPropertyDescriptor(ue.prototype,"setDraftStatus"),ue.prototype),Oe(ue.prototype,"getRoutingListener",[k,T],Object.getOwnPropertyDescriptor(ue.prototype,"getRoutingListener"),ue.prototype),Oe(ue.prototype,"getGlobalUIModel",[_,I],Object.getOwnPropertyDescriptor(ue.prototype,"getGlobalUIModel"),ue.prototype),Oe(ue.prototype,"syncTask",[x,R],Object.getOwnPropertyDescriptor(ue.prototype,"syncTask"),ue.prototype),Oe(ue.prototype,"getProgrammingModel",[j,H],Object.getOwnPropertyDescriptor(ue.prototype,"getProgrammingModel"),ue.prototype),Oe(ue.prototype,"deleteDocumentTransaction",[N,B],Object.getOwnPropertyDescriptor(ue.prototype,"deleteDocumentTransaction"),ue.prototype),Oe(ue.prototype,"handleCreateEvents",[F,V],Object.getOwnPropertyDescriptor(ue.prototype,"handleCreateEvents"),ue.prototype),Oe(ue.prototype,"getTransactionHelper",[G,L],Object.getOwnPropertyDescriptor(ue.prototype,"getTransactionHelper"),ue.prototype),Oe(ue.prototype,"getInternalModel",[U,z],Object.getOwnPropertyDescriptor(ue.prototype,"getInternalModel"),ue.prototype),Oe(ue.prototype,"createActionPromise",[K,W],Object.getOwnPropertyDescriptor(ue.prototype,"createActionPromise"),ue.prototype),Oe(ue.prototype,"getCurrentActionPromise",[$,q],Object.getOwnPropertyDescriptor(ue.prototype,"getCurrentActionPromise"),ue.prototype),Oe(ue.prototype,"deleteCurrentActionPromise",[J,X],Object.getOwnPropertyDescriptor(ue.prototype,"deleteCurrentActionPromise"),ue.prototype),Oe(ue.prototype,"getActionResponseDataAndKeys",[Q,Y],Object.getOwnPropertyDescriptor(ue.prototype,"getActionResponseDataAndKeys"),ue.prototype),Oe(ue.prototype,"getMessageHandler",[Z,ee],Object.getOwnPropertyDescriptor(ue.prototype,"getMessageHandler"),ue.prototype),Oe(ue.prototype,"handleStickyOn",[te,re],Object.getOwnPropertyDescriptor(ue.prototype,"handleStickyOn"),ue.prototype),Oe(ue.prototype,"handleStickyOff",[oe,ne],Object.getOwnPropertyDescriptor(ue.prototype,"handleStickyOff"),ue.prototype),Oe(ue.prototype,"onBackNavigationInSession",[ie,ae],Object.getOwnPropertyDescriptor(ue.prototype,"onBackNavigationInSession"),ue.prototype),Oe(ue.prototype,"discardStickySession",[se,ce],Object.getOwnPropertyDescriptor(ue.prototype,"discardStickySession"),ue.prototype),ue))||pe);return Ee},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/InternalIntentBasedNavigation", ["sap/base/Log","sap/base/util/merge","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ModelHelper","sap/fe/navigation/SelectionVariant","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/model/json/JSONModel"],function(e,t,o,a,r,n,i,s,c,p,l,v,u,f){"use strict";var g,d,y,m,b,h,O,P,C,S,x,M,j,A,_,N,w,E,D,F,V,I,B;var R=a.publicExtension;var T=a.privateExtension;var L=a.methodOverride;var $=a.finalExtension;var k=a.extensible;var W=a.defineUI5Class;function z(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;J(e,t)}function J(e,t){J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return J(e,t)}function U(e,t,o,a,r){var n={};Object.keys(a).forEach(function(e){n[e]=a[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=o.slice().reverse().reduce(function(o,a){return a(e,t,o)||o},n);if(r&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(r):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}var H=(g=W("sap.fe.core.controllerextensions.InternalInternalBasedNavigation"),d=L(),y=R(),m=$(),b=R(),h=$(),O=R(),P=$(),C=R(),S=k(l.Instead),x=R(),M=$(),j=T(),A=R(),_=$(),N=R(),w=$(),E=R(),D=$(),F=R(),V=$(),g(I=(B=function(a){z(p,a);function p(){return a.apply(this,arguments)||this}var l=p.prototype;l.onInit=function e(){this._oAppComponent=this.base.getAppComponent();this._oMetaModel=this._oAppComponent.getModel().getMetaModel();this._oNavigationService=this._oAppComponent.getNavigationService();this._oView=this.base.getView()};l.navigate=function e(a,c,p){var l=this;var v=function(e){var o=p&&p.navigationContexts,n=o&&!Array.isArray(o)?[o]:o,v=p&&p.semanticObjectMapping,u=p&&p.additionalNavigationParameters,f={semanticObject:a,action:c},g=l.base.getView(),d=g.getController();if(e){l._oView.setBindingContext(e)}if(a&&c){var y=[],m=new i;if(n&&n.length){n.forEach(function(e){if(e.isA&&e.isA("sap.ui.model.odata.v4.Context")){var t=e.getObject();var o=l._oMetaModel.getMetaPath(e.getPath());t=l.removeSensitiveData(t,o);var a=l.prepareContextForExternalNavigation(t,e);f["propertiesWithoutConflict"]=a.propertiesWithoutConflict;y.push(a.semanticAttributes)}else if(!(e&&Array.isArray(e.data))&&typeof e==="object"){y.push(l.removeSensitiveData(e.data,e.metaPath))}else if(e&&Array.isArray(e.data)){y=l.removeSensitiveData(e.data,e.metaPath)}})}if(y&&y.length){m=l._oNavigationService.mixAttributesAndSelectionVariant(y,m.toJSONString())}var b=l._oView.getModel(),h=l.getEntitySet(),O=h?l._oNavigationService.constructContextUrl(h,b):undefined;if(O){m.setFilterContextUrl(O)}if(u){l._applyOutboundParams(m,u)}d.intentBasedNavigation.adaptNavigationContext(m,f);if(v){l._applySemanticObjectMappings(m,v)}l._removeTechnicalParameters(m);var P=d._intentBasedNavigation.getNavigationMode();var C=p&&p.refreshStrategies||{},S=g.getModel("internal");if(S){if((g&&g.getViewData()).refreshStrategyOnAppRestore){var x=g.getViewData().refreshStrategyOnAppRestore||{};t(C,x)}var M=r.getRefreshStrategyForIntent(C,a,c);if(M){S.setProperty("/refreshStrategyOnAppRestore",M)}}var j=function(){sap.ui.require(["sap/m/MessageBox"],function(e){var t=s.getLibraryResourceBundle("sap.fe.core");e.error(t.getText("C_COMMON_HELPER_NAVIGATION_ERROR_MESSAGE"),{title:t.getText("C_COMMON_SAPFE_ERROR")})})};l._oNavigationService.navigate(a,c,m.toJSONString(),undefined,j,undefined,P)}else{throw new Error("Semantic Object/action is not provided")}};var u=this.base.getView().getBindingContext();var f=u&&u.getModel().getMetaModel();if(this.getView().getViewData().converterType==="ObjectPage"&&f&&!n.isStickySessionSupported(f)){o.processDataLossOrDraftDiscardConfirmation(v.bind(this),Function.prototype,this.base.getView().getBindingContext(),this.base.getView().getController(),true,o.NavigationType.ForwardNavigation)}else{v()}};l.prepareContextForExternalNavigation=function e(t,o){var a={},r=o.getPath(),n=o.getModel().getMetaModel(),i=n.getMetaPath(r),s=i.split("/").filter(Boolean);function c(e,t){for(var o in e){if(e[o]===null||typeof e[o]!=="object"){if(!a[o]){a[o]=[]}a[o].push(t)}else{var r=e[o];c(r,"".concat(t,"/").concat(o))}}}c(t,i);var p=s[0],l=n.getObject("/".concat(p,"/@sapui.name")),v={};var u,f,g;for(var d in a){var y=a[d];var m=void 0;if(y.length>1){for(var b=0;b<=y.length-1;b++){var h=y[b];var O=h.replace(h===i?i:"".concat(i,"/"),"");O=(O===""?O:"".concat(O,"/"))+d;var P=n.getObject("".concat(h,"/@sapui.name"));if(P===l){u=O}if(h===i){f=O}g=O;t["".concat(i,"/").concat(O).split("/").filter(function(e){return e!=""}).join(".")]=o.getProperty(O)}m=u||f||g;t[d]=o.getProperty(m);u=undefined;f=undefined;g=undefined}else{var C=y[0];var S=C.replace(C===i?i:"".concat(i,"/"),"");S=(S===""?S:"".concat(S,"/"))+d;t[d]=o.getProperty(S);v[d]="".concat(i,"/").concat(S).split("/").filter(function(e){return e!=""}).join(".")}}for(var x in t){if(t[x]!==null&&typeof t[x]==="object"){delete t[x]}}return{semanticAttributes:t,propertiesWithoutConflict:v}};l.prepareFiltersForExternalNavigation=function e(t,o,a){var r;var n={};var i={};var s,c,p,l,v;function u(e){var t;for(var a in e){if(e[a]){if(a.includes("/")){t=a;var r=a.split("/");a=r[r.length-1]}else{t=o}if(!n[a]){n[a]=[]}n[a].push(t)}}}u(t);for(var f in n){var g=n[f];if(g.length>1){for(var d=0;d<=g.length-1;d++){r=g[d];if(r===o){p="".concat(o,"/").concat(f);v=f;s=f;if(a&&a.includes(f)){t["$Parameter.".concat(f)]=t[f]}}else{v=r;p="".concat(o,"/").concat(r).replaceAll(/\*/g,"");c=r}t[p.split("/").filter(function(e){return e!=""}).join(".")]=t[v];delete t[r]}l=s||c;t[f]=t[l]}else{r=g[0];p=r===o?"".concat(o,"/").concat(f):"".concat(o,"/").concat(r).replaceAll("*","");i[f]=p.split("/").filter(function(e){return e!=""}).join(".");if(a&&a.includes(f)){t["$Parameter.".concat(f)]=t[f]}}}return{filterConditions:t,filterConditionsWithoutConflict:i}};l.getNavigationMode=function e(){return undefined};l.navigateWithConfirmationDialog=function t(o,a,r){var n,i=this;if(r!==null&&r!==void 0&&r.notApplicableContexts&&((n=r.notApplicableContexts)===null||n===void 0?void 0:n.length)>=1){var s;var p={onClose:function(){s.close()},onContinue:function(){r.navigationContexts=r.applicableContexts;s.close();i.navigate(o,a,r)}};var l=function(){var e;var t=r.notApplicableContexts.length,o=[];for(var a=0;a<r.notApplicableContexts.length;a++){e=r.notApplicableContexts[a].getObject();o.push(e)}var n=new f(o);var i=new f({total:t,label:r.label});s.setModel(n,"notApplicable");s.setModel(i,"totals");s.open()};var g="sap.fe.core.controls.ActionPartial";var d=u.loadTemplate(g,"fragment");var y=this._oView.getModel();var m=y.getMetaModel();var b=r.notApplicableContexts[0].getCanonicalPath();var h="".concat(b.substr(0,b.indexOf("(")),"/");Promise.resolve(v.process(d,{name:g},{bindingContexts:{entityType:m.createBindingContext(h)},models:{entityType:m,metaModel:m}})).then(function(e){return c.load({definition:e,controller:p})}).then(function(e){s=e;i.getView().addDependent(e);l()}).catch(function(){e.error("Error")})}else{this.navigate(o,a,r)}};l._removeTechnicalParameters=function e(t){t.removeSelectOption("@odata.context");t.removeSelectOption("@odata.metadataEtag");t.removeSelectOption("SAP__Messages")};l.getEntitySet=function e(){return this._oView.getViewData().entitySet};l.removeSensitiveData=function e(t,o){if(t){var a=Object.keys(t);if(a.length){delete t["@odata.context"];delete t["@odata.metadataEtag"];delete t["SAP__Messages"];for(var r=0;r<a.length;r++){if(t[a[r]]&&typeof t[a[r]]==="object"){this.removeSensitiveData(t[a[r]],"".concat(o,"/").concat(a[r]))}var n=a[r],i=this._oMetaModel.getObject("".concat(o,"/").concat(n,"@"));if(i){if(i["@com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]||i["@com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"]||i["@com.sap.vocabularies.Analytics.v1.Measure"]){delete t[n]}else if(i["@com.sap.vocabularies.Common.v1.FieldControl"]){var s=i["@com.sap.vocabularies.Common.v1.FieldControl"];if(s["$EnumMember"]&&s["$EnumMember"].split("/")[1]==="Inapplicable"){delete t[n]}else if(s["$Path"]&&this._isFieldControlPathInapplicable(s["$Path"],t)){delete t[n]}}}}}}return t};l._isFieldControlPathInapplicable=function e(t,o){var a=false;var r=t.split("/");if(r.length>1){a=o[r[0]]&&o[r[0]].hasOwnProperty(r[1])&&o[r[0]][r[1]]===0}else{a=o[t]===0}return a};l._applySemanticObjectMappings=function e(t,o){var a=typeof o==="string"?JSON.parse(o):o;for(var r=0;r<a.length;r++){var n=a[r]["LocalProperty"]&&a[r]["LocalProperty"]["$PropertyPath"]||a[r]["@com.sap.vocabularies.Common.v1.LocalProperty"]&&a[r]["@com.sap.vocabularies.Common.v1.LocalProperty"]["$Path"];var i=a[r]["SemanticObjectProperty"]||a[r]["@com.sap.vocabularies.Common.v1.SemanticObjectProperty"];if(t.getSelectOption(n)){var s=t.getSelectOption(n);t.removeSelectOption(n);t.massAddSelectOption(i,s)}}return t};l.navigateOutbound=function t(o,a){var r;var n=this.base.getAppComponent().getManifestEntry("sap.app"),i=n.crossNavigation&&n.crossNavigation.outbounds[o];if(!i){e.error("Outbound is not defined in manifest!!");return}var s=i.semanticObject,c=i.action,p=i.parameters&&this.getOutboundParams(i.parameters);if(a){r=[];Object.keys(a).forEach(function(e){var t;if(Array.isArray(a[e])){var o=a[e];for(var n=0;n<o.length;n++){var i;t={};t[e]=o[n];(i=r)===null||i===void 0?void 0:i.push(t)}}else{var s;t={};t[e]=a[e];(s=r)===null||s===void 0?void 0:s.push(t)}})}if(r||p){a={navigationContexts:{data:r||p}}}this.base._intentBasedNavigation.navigate(s,c,a)};l._applyOutboundParams=function e(t,o){var a=Object.keys(o);var r=t.getSelectOptionsPropertyNames();a.forEach(function(e){if(!r.includes(e)){t.addSelectOption(e,"I","EQ",o[e])}});return t};l.getOutboundParams=function e(t){var o={};if(t){var a=Object.keys(t)||[];if(a.length>0){a.forEach(function(e){var a=t[e];if(a.value&&a.value.value&&a.value.format==="plain"){if(!o[e]){o[e]=a.value.value}}})}}return o};l.onChevronPressNavigateOutBound=function e(t,o,a,r){var i=t.getAppComponent().getRoutingService().getOutbounds();var s=i[o];var c;if(s&&s.semanticObject&&s.action){var p={intents:{}};var l={};var v;if(a){if(a.isA&&a.isA("sap.ui.model.odata.v4.Context")){v=n.getMetaPathForContext(a);a=[a]}else{v=n.getMetaPathForContext(a[0])}l[v]="self";p["_feDefault"]=l}if(r){var u="".concat(s.semanticObject,"-").concat(s.action);p.intents[u]={};p.intents[u][r]="self"}if(s&&s.parameters){var f=s.parameters&&this.getOutboundParams(s.parameters);if(Object.keys(f).length>0){c=f}}t._intentBasedNavigation.navigate(s.semanticObject,s.action,{navigationContexts:a,refreshStrategies:p,additionalNavigationParameters:c});return Promise.resolve()}else{throw new Error("outbound target ".concat(o," not found in cross navigation definition of manifest"))}};return p}(p),U(B.prototype,"onInit",[d],Object.getOwnPropertyDescriptor(B.prototype,"onInit"),B.prototype),U(B.prototype,"navigate",[y,m],Object.getOwnPropertyDescriptor(B.prototype,"navigate"),B.prototype),U(B.prototype,"prepareContextForExternalNavigation",[b,h],Object.getOwnPropertyDescriptor(B.prototype,"prepareContextForExternalNavigation"),B.prototype),U(B.prototype,"prepareFiltersForExternalNavigation",[O,P],Object.getOwnPropertyDescriptor(B.prototype,"prepareFiltersForExternalNavigation"),B.prototype),U(B.prototype,"getNavigationMode",[C,S],Object.getOwnPropertyDescriptor(B.prototype,"getNavigationMode"),B.prototype),U(B.prototype,"navigateWithConfirmationDialog",[x,M],Object.getOwnPropertyDescriptor(B.prototype,"navigateWithConfirmationDialog"),B.prototype),U(B.prototype,"getEntitySet",[j],Object.getOwnPropertyDescriptor(B.prototype,"getEntitySet"),B.prototype),U(B.prototype,"removeSensitiveData",[A,_],Object.getOwnPropertyDescriptor(B.prototype,"removeSensitiveData"),B.prototype),U(B.prototype,"navigateOutbound",[N,w],Object.getOwnPropertyDescriptor(B.prototype,"navigateOutbound"),B.prototype),U(B.prototype,"getOutboundParams",[E,D],Object.getOwnPropertyDescriptor(B.prototype,"getOutboundParams"),B.prototype),U(B.prototype,"onChevronPressNavigateOutBound",[F,V],Object.getOwnPropertyDescriptor(B.prototype,"onChevronPressNavigateOutBound"),B.prototype),B))||I);return H},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/InternalRouting", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/EditState","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,n,o,i,r,a,s,c,g,u,l,p,h){"use strict";var f,v,d,C,P,m,_,y,x,b,w,B,O,R,E,S,A,T,F,D,M,I,L,V,j,k,H,$,N,q,K;var z=i.publicExtension;var U=i.methodOverride;var Q=i.finalExtension;var W=i.extensible;var X=i.defineUI5Class;function G(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}function J(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Y(e,t)}function Y(e,t){Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return Y(e,t)}function Z(e,t,n,o,i){var r={};Object.keys(o).forEach(function(e){r[e]=o[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}var ee=(f=X("sap.fe.core.controllerextensions.InternalRouting"),v=U(),d=U(),C=z(),P=W(l.After),m=z(),_=W(l.After),y=z(),x=W(l.After),b=z(),w=W(l.After),B=z(),O=z(),R=z(),E=Q(),S=z(),A=Q(),T=z(),F=Q(),D=z(),M=Q(),I=z(),L=Q(),V=z(),j=Q(),k=z(),H=Q(),$=z(),N=W(l.Before),f(q=(K=function(i){J(u,i);function u(){return i.apply(this,arguments)||this}var l=u.prototype;l.onExit=function e(){if(this._oRoutingService){this._oRoutingService.detachRouteMatched(this._fnRouteMatchedBound)}};l.onInit=function e(){var n=this;this._oView=this.base.getView();this._oAppComponent=t.getAppComponent(this._oView);this._oPageComponent=c.getOwnerComponentFor(this._oView);this._oRouter=this._oAppComponent.getRouter();this._oRouterProxy=this._oAppComponent.getRouterProxy();if(!this._oAppComponent||!this._oPageComponent){throw new Error("Failed to initialize controler extension 'sap.fe.core.controllerextesions.InternalRouting")}if(this._oAppComponent===this._oPageComponent){this._oPageComponent=null}this._oAppComponent.getService("routingService").then(function(e){n._oRoutingService=e;n._fnRouteMatchedBound=n._onRouteMatched.bind(n);n._oRoutingService.attachRouteMatched(n._fnRouteMatchedBound);n._oTargetInformation=e.getTargetInformationFor(n._oPageComponent||n._oView)}).catch(function(){throw new Error("This controller extension cannot work without a 'routingService' on the main AppComponent")})};l.onRouteMatched=function e(){};l.onRouteMatchedFinished=function e(){};l.onBeforeBinding=function e(t,n){var o=this.base.getView().getController().routing;if(o&&o.onBeforeBinding){o.onBeforeBinding(t,n)}};l.onAfterBinding=function e(t,n){this._oAppComponent.getRootViewController().onContextBoundToView(t);var o=this.base.getView().getController().routing;if(o&&o.onAfterBinding){o.onAfterBinding(t,n)}};l.navigateToTarget=function e(t,n,o,i){var r=this._oPageComponent&&this._oPageComponent.getNavigationConfiguration&&this._oPageComponent.getNavigationConfiguration(n);if(r){var a=r.detail;var s=a.route;var c=a.parameters;this._oRoutingService.navigateTo(t,s,c,i)}else{this._oRoutingService.navigateTo(t,null,null,i)}this._oView.getViewData()};l.navigateToRoute=function e(t,n){return this._oRoutingService.navigateToRoute(t,n)};l.navigateToContext=function t(n,o){var i=this;var r={};o=o||{};if(n.isA("sap.ui.model.odata.v4.ODataListBinding")){if(o.asyncContext){this._oRouterProxy.activateRouteMatchSynchronization();o.asyncContext.then(function(e){i.navigateToContext(e,{checkNoHashChange:o.checkNoHashChange,editable:o.editable,bPersistOPScroll:o.bPersistOPScroll,updateFCLLevel:o.updateFCLLevel,bForceFocus:o.bForceFocus})}).catch(function(t){e.error("Error with the async context",t)})}else if(!o.bDeferredContext){throw"navigation to a list binding is not yet supported"}}if(o.callExtension){var a=this._oView.getModel("internal");a.setProperty("/paginatorCurrentContext",null);r.sourceBindingContext=n.getObject();r.bindingContext=n;if(o.oEvent){r.oEvent=o.oEvent}var s=this.base.getView().getController().routing.onBeforeNavigation(r);if(s){a.setProperty("/paginatorCurrentContext",n);return Promise.resolve(true)}}o.FCLLevel=this._getFCLLevel();return this._oRoutingService.navigateToContext(n,o,this._oView.getViewData(),this._oTargetInformation)};l.navigateBackFromContext=function e(t,n){n=n||{};n.updateFCLLevel=-1;return this.navigateToContext(t,n)};l.navigateForwardToContext=function e(t,n){var o;if(((o=this._oView.getBindingContext("internal"))===null||o===void 0?void 0:o.getProperty("messageFooterContainsErrors"))===true){return Promise.resolve(true)}n=n||{};n.updateFCLLevel=1;return this.navigateToContext(t,n)};l.navigateBackFromTransientState=function e(){var t=this._oRouterProxy.getHash();if(t.indexOf("(...)")!==-1){this._oRouterProxy.navBack()}};l.navigateToMessagePage=function e(t,n){n=n||{};if(this._oRouterProxy.getHash().indexOf("i-action=create")>-1||this._oRouterProxy.getHash().indexOf("i-action=autoCreate")>-1){return this._oRouterProxy.navToHash(this._oRoutingService.getDefaultCreateHash())}else{n.FCLLevel=this._getFCLLevel();return this._oAppComponent.getRootViewController().displayMessagePage(t,n)}};l.isCurrentStateImpactedBy=function e(t){return this._oRoutingService.isCurrentStateImpactedBy(t)};l._isViewPartOfRoute=function e(t){var n=t===null||t===void 0?void 0:t.targets;if(!n||n.indexOf(this._oTargetInformation.targetName)===-1){var o,i;if(((o=this._oTargetInformation.viewLevel)!==null&&o!==void 0?o:0)>=((i=t===null||t===void 0?void 0:t.routeLevel)!==null&&i!==void 0?i:0)){this._setBindingContext(null)}return false}return true};l._buildBindingPath=function e(t,n,o){var i=n.replace(":?query:","");var r=false;for(var a in t){var s=t[a];if(s==="..."&&n.indexOf("{".concat(a,"}"))>=0){r=true;o.bTargetEditable=true}i=i.replace("{".concat(a,"}"),s)}if(t["?query"]&&t["?query"].hasOwnProperty("i-action")){o.bActionCreate=true}if(i&&i[0]!=="/"){i="/".concat(i)}return{path:i,deferred:r}};l._onRouteMatched=function e(t){var n=this;if(!this._isViewPartOfRoute(t.getParameter("routeInformation"))){return}var o;if(this._oPageComponent&&this._oPageComponent.getBindingContextPattern){o=this._oPageComponent.getBindingContextPattern()}o=o||this._oTargetInformation.contextPattern;if(o===null||o===undefined){o=t.getParameter("routePattern")}var i=t.getParameters().arguments;var r=t.getParameter("navigationInfo");var a=this._buildBindingPath(i,o,r),s=a.path,c=a.deferred;this.onRouteMatched();var g=this._oView.getModel();var u;if(c){u=this._bindDeferred(s,r)}else{u=this._bindPage(s,g,r)}u.finally(function(){n.onRouteMatchedFinished()});this._oAppComponent.getRootViewController().updateUIStateForView(this._oView,this._getFCLLevel())};l._bindDeferred=function e(t,n){this.onBeforeBinding(null,{editable:n.bTargetEditable});if(n.bDeferredContext||!n.oAsyncContext){if(this._oPageComponent&&this._oPageComponent.createDeferredContext){this._oPageComponent.createDeferredContext(t,n.useContext,n.bActionCreate)}}var o=this._getBindingContext();if(o!==null&&o!==void 0&&o.hasPendingChanges()){o.getBinding().resetChanges()}this._setBindingContext(null);this.onAfterBinding(null);return Promise.resolve()};l._bindPage=function e(t,n,o){var i=this;if(t===""){return Promise.resolve(this._bindPageToContext(null,n,o))}else{return this._resolveSemanticPath(t,n).then(function(e){i._bindPageToPath(e,n,o)}).catch(function(e){var t=g.getLibraryResourceBundle("sap.fe.core");i.navigateToMessagePage(t.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"),{title:t.getText("C_COMMON_SAPFE_ERROR"),description:e.message})})}};l._createFilterFromSemanticPath=function e(t,n,o){var i=function(e){if(e.indexOf("'")===0&&e.lastIndexOf("'")===e.length-1){e=decodeURIComponent(e.substring(1,e.length-1))}return e};var r=t.substring(t.indexOf("(")+1,t.length-1).split(",");var s;if(n.length!=r.length){return null}var c=a.isFilteringCaseSensitive(o);if(n.length===1){var g=i(r[0]);s=[new p({path:n[0].$PropertyPath,operator:h.EQ,value1:g,caseSensitive:c})]}else{var u={};r.forEach(function(e){var t=e.split("="),n=i(t[1]);u[t[0]]=n});var l=false;s=n.map(function(e){var t=e.$PropertyPath,n=u[t];if(n!==undefined){return new p({path:t,operator:h.EQ,value1:n,caseSensitive:c})}else{l=true;return new p({path:"XX"})}});if(l){return null}}var f=new p({filters:[new p("IsActiveEntity","EQ",false),new p("SiblingEntity/IsActiveEntity","EQ",null)],and:false});s.push(f);return new p(s,true)};l._getTechnicalPathFromSemanticPath=function e(t,n,o){var i;var r=n.getMetaModel();var a=r.getMetaContext(t).getPath();if(!o||o.length===0){return Promise.resolve(null)}var s=this._createFilterFromSemanticPath(t,o,r);if(s===null){return Promise.resolve(null)}if(!((i=a)!==null&&i!==void 0&&i.startsWith("/"))){a="/".concat(a)}var c=n.bindList(a,undefined,undefined,s,{$$groupId:"$auto.Heroes"});return c.requestContexts(0,2).then(function(e){if(e&&e.length){return e[0].getPath()}else{return null}})};l._checkPathForSemanticBookmarking=function e(t,n){var o=/^[\/]?(\w+)\([^\/]+\)$/.exec(t);if(!o){return false}var i="/".concat(o[1]);var r=n.getObject("".concat(i,"@com.sap.vocabularies.Common.v1.DraftRoot"));var a=n.getObject("".concat(i,"@com.sap.vocabularies.Common.v1.DraftNode"));return r||a?true:false};l._resolveSemanticPath=function e(t,n){var o=this;var i=n.getMetaModel();var r=this._oRoutingService.getLastSemanticMapping();var a=this._oRouter.getHashChanger().getHash().split("?")[0];if(a&&a.lastIndexOf("/")===a.length-1){a=a.substring(0,a.length-1)}var c=a&&a.substr(0,a.indexOf("("));if(c.indexOf("/")===0){c=c.substring(1)}var g=this._checkPathForSemanticBookmarking(a,i),u=g&&s.getSemanticKeys(i,c);if(!u){return Promise.resolve(t)}else if(r&&r.semanticPath===t){return Promise.resolve(r.technicalPath)}else{return this._getTechnicalPathFromSemanticPath(a,n,u).then(function(e){if(e&&e!==t){o._oRoutingService.setLastSemanticMapping({technicalPath:e,semanticPath:t});return e}else{return t}})}};l._bindPageToPath=function e(t,n,o){var i=this._getBindingContext(),a=i&&i.getPath(),s=o.useContext;if(a!==t||s&&s.getPath()===t){var c;if(s&&s.getPath()===t){c=s}else{c=this._createContext(t,n)}if(c!==i){this._bindPageToContext(c,n,o)}}else if(!o.bReasonIsIappState&&r.isEditStateDirty()){this._refreshBindingContext(i)}};l._bindPageToContext=function t(n,o,i){var r=this;if(!n){this.onBeforeBinding(null);this.onAfterBinding(null);return}var a=n.getBinding();var s=this._oAppComponent.getRootViewController();if(s.isFclEnabled()){if(!a||!a.isA("sap.ui.model.odata.v4.ODataListBinding")){n=this._createContext(n.getPath(),o)}try{this._setKeepAlive(n,true,function(){if(s.isContextUsedInPages(n)){r.navigateBackFromContext(n)}},true)}catch(t){e.error("View for ".concat(n.getPath()," won't be synchronized. Parent listBinding must have binding parameter $$ownRequest=true"))}}else if(!a||a.isA("sap.ui.model.odata.v4.ODataListBinding")){n=this._createContext(n.getPath(),o)}this.onBeforeBinding(n,{editable:i.bTargetEditable,listBinding:a,bPersistOPScroll:i.bPersistOPScroll,bDraftNavigation:i.bDraftNavigation,showPlaceholder:i.bShowPlaceholder});this._setBindingContext(n);this.onAfterBinding(n)};l._createContext=function t(o,i){var r=this;var a=this._oPageComponent,s=a&&a.getEntitySet&&a.getEntitySet(),c=a&&a.getContextPath&&a.getContextPath()||s&&"/".concat(s),g=i.getMetaModel(),u={$$groupId:"$auto.Heroes",$$updateGroupId:"$auto",$$patchWithoutSideEffects:true};var l=g.getObject("".concat(c,"@com.sap.vocabularies.Common.v1.DraftRoot"));var p=g.getObject("".concat(c,"@com.sap.vocabularies.Common.v1.DraftNode"));var h=this._oAppComponent.getRootViewController();if(h.isFclEnabled()){var f=this._getKeepAliveContext(i,o,false,u);if(!f){throw new Error("Cannot create keepAlive context ".concat(o))}else if(l||p){if(f.getProperty("IsActiveEntity")===undefined){f.requestProperty(["HasActiveEntity","HasDraftEntity","IsActiveEntity"]);if(l){f.requestObject("DraftAdministrativeData")}}else{f.requestSideEffects(l?["HasActiveEntity","HasDraftEntity","IsActiveEntity","DraftAdministrativeData"]:["HasActiveEntity","HasDraftEntity","IsActiveEntity"])}}return f}else{if(s){var v=g.getObject("".concat(c,"/@com.sap.vocabularies.Common.v1.Messages/$Path"));if(v){u.$select=v}}if(l||p){if(u.$select===undefined){u.$select="HasActiveEntity,HasDraftEntity,IsActiveEntity"}else{u.$select+=",HasActiveEntity,HasDraftEntity,IsActiveEntity"}}if(this._oView.getBindingContext()){var d;var C=(d=this._oView.getBindingContext())===null||d===void 0?void 0:d.getBinding();C===null||C===void 0?void 0:C.resetChanges().then(function(){C.destroy()}).catch(function(t){e.error("Error while reseting the changes to the binding",t)})}var P=i.bindContext(o,undefined,u);P.attachEventOnce("dataRequested",function(){n.lock(r._oView)});P.attachEventOnce("dataReceived",this._dataReceivedEventHandler.bind(this));return P.getBoundContext()}};l._dataReceivedEventHandler=function t(o){try{var i=this;var r=o&&o.getParameter("error");n.unlock(i._oView);var a=function(){if(r){var t=G(function(){return Promise.resolve(g.getLibraryResourceBundle("sap.fe.core",true)).then(function(e){var t=i.base.messageHandler;var n={};if(r&&r.status===503){n={isInitialLoad503Error:true,shellBack:true}}else{n={title:e.getText("C_COMMON_SAPFE_ERROR"),description:r,isDataReceivedError:true,shellBack:true}}return Promise.resolve(t.showMessages(n)).then(function(){})})},function(t){e.error("Error while getting the core resource bundle",t)});if(t&&t.then)return t.then(function(){})}}();return Promise.resolve(a&&a.then?a.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};l._refreshBindingContext=function e(t){var n=this._oPageComponent;var o=this._oAppComponent.getSideEffectsService();var i=t.getPath();var r=n&&n.getEntitySet&&n.getEntitySet();var a=n&&n.getContextPath&&n.getContextPath()||r&&"/".concat(r);var s=this._oView.getModel().getMetaModel();var c;var g=[];var u=[];var l={TargetProperties:[],TargetEntities:[]};function p(e){var t;var n=(e.getContext()&&e.getContext().getPath()||"").replace(i,"");var o=(n?"".concat(n.slice(1),"/"):n)+e.getPath();if(e.isA("sap.ui.model.odata.v4.ODataContextBinding")){t=e.getDependentBindings();if(t){for(var r=0;r<t.length;r++){p(t[r])}}else if(g.indexOf(o)===-1){g.push(o)}}else if(e.isA("sap.ui.model.odata.v4.ODataListBinding")){if(g.indexOf(o)===-1){g.push(o)}}else if(e.isA("sap.ui.model.odata.v4.ODataPropertyBinding")){if(u.indexOf(o)===-1){u.push(o)}}}if(a){c=s.getObject("".concat(a,"/@com.sap.vocabularies.Common.v1.Messages/$Path"))}p(t.getBinding());var h;for(h=0;h<g.length;h++){l.TargetEntities.push({$NavigationPropertyPath:g[h]})}l.TargetProperties=u;if(c){l.TargetProperties.push(c)}l.TargetProperties=l.TargetProperties.map(function(e){if(e){var t=e.indexOf("/");if(t>0){return e.slice(0,t)}return e}});o.requestSideEffects(l.TargetEntities.concat(l.TargetProperties),t)};l._getBindingContext=function e(){if(this._oPageComponent){return this._oPageComponent.getBindingContext()}else{return this._oView.getBindingContext()}};l._setBindingContext=function e(t){var n,o;if(this._oPageComponent){n=this._oPageComponent.getBindingContext();o=this._oPageComponent}else{n=this._oView.getBindingContext();o=this._oView}if(t!==n){var i;o.setBindingContext(t);if((i=n)!==null&&i!==void 0&&i.isKeepAlive()){this._setKeepAlive(n,false)}}};l._getFCLLevel=function e(){return this._oTargetInformation.FCLLevel};l._setKeepAlive=function e(t,n,o,i){if(t.getPath().endsWith(")")){var r=t.getModel().getMetaModel();var a=r.getMetaPath(t.getPath());var s=r.getObject("".concat(a,"/@com.sap.vocabularies.Common.v1.Messages/$Path"));t.setKeepAlive(n,o,!!s&&i)}};l._getKeepAliveContext=function e(t,n,o,i){var r=n.split("/");var a=[];while(r.length&&!r[r.length-1].endsWith(")")){a.push(r.pop())}if(r.length===0){return undefined}var s=r.join("/");var c=t.getKeepAliveContext(s,o,i);if(a.length===0){return c}else{a.reverse();var g=a.join("/");return t.bindContext(g,c).getBoundContext()}};l.switchFullScreen=function t(){var n=this.base.getView();var o=n.getModel("fclhelper"),i=o.getProperty("/actionButtonsInfo/isFullScreen"),r=o.getProperty(i?"/actionButtonsInfo/exitFullScreen":"/actionButtonsInfo/fullScreen"),a=this._oAppComponent.getRootViewController();var s=a.getRightmostContext?a.getRightmostContext():n.getBindingContext();this.base._routing.navigateToContext(s,{sLayout:r}).catch(function(){e.warning("cannot switch between column and fullscreen")})};l.closeColumn=function e(){var t=this.base.getView();var n=t.getViewData();var i=t.getBindingContext();var r=this.base;var s=i.getModel().getMetaModel();if(n&&n.viewLevel===1&&a.isDraftSupported(s,i.getPath())){o.processDataLossOrDraftDiscardConfirmation(function(){r._routing.navigateBackFromContext(i,{noPreservationCache:true})},Function.prototype,i,t.getController(),false,o.NavigationType.BackNavigation)}else{r._routing.navigateBackFromContext(i,{noPreservationCache:true})}};return u}(u),Z(K.prototype,"onExit",[v],Object.getOwnPropertyDescriptor(K.prototype,"onExit"),K.prototype),Z(K.prototype,"onInit",[d],Object.getOwnPropertyDescriptor(K.prototype,"onInit"),K.prototype),Z(K.prototype,"onRouteMatched",[C,P],Object.getOwnPropertyDescriptor(K.prototype,"onRouteMatched"),K.prototype),Z(K.prototype,"onRouteMatchedFinished",[m,_],Object.getOwnPropertyDescriptor(K.prototype,"onRouteMatchedFinished"),K.prototype),Z(K.prototype,"onBeforeBinding",[y,x],Object.getOwnPropertyDescriptor(K.prototype,"onBeforeBinding"),K.prototype),Z(K.prototype,"onAfterBinding",[b,w],Object.getOwnPropertyDescriptor(K.prototype,"onAfterBinding"),K.prototype),Z(K.prototype,"navigateToTarget",[B],Object.getOwnPropertyDescriptor(K.prototype,"navigateToTarget"),K.prototype),Z(K.prototype,"navigateToRoute",[O],Object.getOwnPropertyDescriptor(K.prototype,"navigateToRoute"),K.prototype),Z(K.prototype,"navigateToContext",[R,E],Object.getOwnPropertyDescriptor(K.prototype,"navigateToContext"),K.prototype),Z(K.prototype,"navigateBackFromContext",[S,A],Object.getOwnPropertyDescriptor(K.prototype,"navigateBackFromContext"),K.prototype),Z(K.prototype,"navigateForwardToContext",[T,F],Object.getOwnPropertyDescriptor(K.prototype,"navigateForwardToContext"),K.prototype),Z(K.prototype,"navigateBackFromTransientState",[D,M],Object.getOwnPropertyDescriptor(K.prototype,"navigateBackFromTransientState"),K.prototype),Z(K.prototype,"navigateToMessagePage",[I,L],Object.getOwnPropertyDescriptor(K.prototype,"navigateToMessagePage"),K.prototype),Z(K.prototype,"isCurrentStateImpactedBy",[V,j],Object.getOwnPropertyDescriptor(K.prototype,"isCurrentStateImpactedBy"),K.prototype),Z(K.prototype,"switchFullScreen",[k,H],Object.getOwnPropertyDescriptor(K.prototype,"switchFullScreen"),K.prototype),Z(K.prototype,"closeColumn",[$,N],Object.getOwnPropertyDescriptor(K.prototype,"closeColumn"),K.prototype),K))||q);return ee},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/KPIManagement", ["sap/base/Log","sap/fe/core/formatters/TableFormatterTypes","sap/m/Popover","sap/ui/core/Core","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat","sap/ui/core/Locale","sap/ui/core/mvc/ControllerExtension","sap/ui/model/Filter","sap/ui/model/json/JSONModel","sap/ui/model/Sorter","../helpers/ClassSupport"],function(e,t,a,n,i,r,o,s,c,l,u,d){"use strict";var f,p,g,m,v,h;var y=d.publicExtension;var P=d.methodOverride;var b=d.defineUI5Class;var D=t.MessageType;function C(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}function I(e,t){I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,a){t.__proto__=a;return t};return I(e,t)}function N(e,t,a,n,i){var r={};Object.keys(n).forEach(function(e){r[e]=n[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=a.slice().reverse().reduce(function(a,n){return n(e,t,a)||a},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}var T={1:D.Error,2:D.Warning,3:D.Success,5:D.Information};var S={Error:"Error",Warning:"Critical",Success:"Good",Information:"None",None:"None"};function j(e,t){var a;if(t[0]!==undefined&&t[0]!==null&&e<t[0]){a=D.Error}else if(t[1]!==undefined&&t[1]!==null&&e<t[1]){a=D.Warning}else if(t[2]!==undefined&&t[2]!==null&&e<t[2]){a=D.None}else if(t[5]!==undefined&&t[5]!==null&&e>t[5]){a=D.Error}else if(t[4]!==undefined&&t[4]!==null&&e>t[4]){a=D.Warning}else if(t[3]!==undefined&&t[3]!==null&&e>t[3]){a=D.None}else{a=D.Success}return a}function w(e,t){var a;if(t[2]!==undefined&&t[2]!==null&&e>t[2]){a=D.Error}else if(t[1]!==undefined&&t[1]!==null&&e>t[1]){a=D.Warning}else if(t[0]!==undefined&&t[0]!==null&&e>t[0]){a=D.None}else{a=D.Success}return a}function x(e,t){var a;if(t[0]!==undefined&&t[0]!==null&&e<t[0]){a=D.Error}else if(t[1]!==undefined&&t[1]!==null&&e<t[1]){a=D.Warning}else if(t[2]!==undefined&&t[2]!==null&&e<t[2]){a=D.None}else{a=D.Success}return a}function A(e){var t;switch(e){case 1:case"1":case 2:case"2":t="Up";break;case 4:case"4":case 5:case"5":t="Down";break;default:t="None"}return t}function F(e,t,a,n){var i;if(!n||a&&!t){return"None"}var r=a?(e-t)/t:e-t;if(n[0]!==undefined&&n[0]!==null&&r<=n[0]){i="Down"}else if(n[1]!==undefined&&n[1]!==null&&r<=n[1]){i="Down"}else if(n[3]!==undefined&&n[3]!==null&&r>=n[3]){i="Up"}else if(n[2]!==undefined&&n[2]!==null&&r>=n[2]){i="Up"}else{i="None"}return i}function V(e){if(e.ranges.length===0){return undefined}else if(e.ranges.length===1){return new c(e.propertyPath,e.ranges[0].operator,e.ranges[0].rangeLow,e.ranges[0].rangeHigh)}else{var t=e.ranges.map(function(t){return new c(e.propertyPath,t.operator,t.rangeLow,t.rangeHigh)});return new c({filters:t,and:false})}}function O(e){var t=new o(sap.ui.getCore().getConfiguration().getLanguage());var a=n.getLibraryResourceBundle("sap.fe.core");var r=i.getDateInstance({style:"medium"},t);function s(t){var n=e.propertyType.indexOf("Edm.Date")===0?r.format(new Date(t.rangeLow)):t.rangeLow;var i=e.propertyType.indexOf("Edm.Date")===0?r.format(new Date(t.rangeHigh)):t.rangeHigh;switch(t.operator){case"BT":return"[".concat(n," - ").concat(i,"]");case"Contains":return"*".concat(n,"*");case"GE":return"".concat(n);case"GT":return">".concat(n);case"LE":return"".concat(n);case"LT":return"<".concat(n);case"NB":return a.getText("C_KPICARD_FILTERSTRING_NOT",["[".concat(n," - ").concat(i,"]")]);case"NE":return"".concat(n);case"NotContains":return a.getText("C_KPICARD_FILTERSTRING_NOT",["*".concat(n,"*")]);case"EQ":default:return n}}if(e.ranges.length===0){return""}else if(e.ranges.length===1){return s(e.ranges[0])}else{return"(".concat(e.ranges.map(s).join(","),")")}}function E(e){var t=n.getLibraryResourceBundle("sap.fe.core");function a(e){if(e.length===0){return""}else if(e.length===1){return e[0].label}else{var a=e[0].label;for(var n=1;n<e.length-1;n++){a+=", ".concat(e[n].label)}return t.getText("C_KPICARD_ITEMSLIST",[a,e[e.length-1].label])}}return t.getText("C_KPICARD_CHARTTITLE",[a(e.chart.measures),a(e.chart.dimensions)])}function L(e,t){switch(e.chartType){case"Donut":t.categoryAxis={title:{visible:false}};t.valueAxis={title:{visible:false},label:{formatString:"ShortFloat"}};t.plotArea.dataLabel={visible:true,type:"value",formatString:"ShortFloat_MFD2"};break;case"bubble":t.valueAxis={title:{visible:true},label:{formatString:"ShortFloat"}};t.valueAxis2={title:{visible:true},label:{formatString:"ShortFloat"}};t.legendGroup={layout:{position:"bottom",alignment:"topLeft"}};t.sizeLegend={visible:true};t.plotArea.dataLabel={visible:false};break;case"scatter":t.valueAxis={title:{visible:false},label:{formatString:"ShortFloat"}};t.valueAxis2={title:{visible:false},label:{formatString:"ShortFloat"}};t.plotArea.dataLabel={visible:false};break;default:t.categoryAxis={title:{visible:false}};t.valueAxis={title:{visible:false},label:{formatString:"ShortFloat"}};t.plotArea.dataLabel={visible:false}}}function M(e,t){if(t&&t.length){return e.filter(function(e){return t.indexOf(e.role)>=0}).map(function(e){return e.label})}else{return e.map(function(e){return e.label})}}function R(e){var t=M(e.measures,["Axis1"]);var a=M(e.measures,["Axis2"]);var n=M(e.measures,["Axis3"]);var i=M(e.measures,[undefined]);var r=M(e.dimensions,["Series"]);var o=e.dimensions.find(function(e){return e.role==="Category"});var s=t.shift()||a.shift()||n.shift()||i.shift()||"";var c=a.shift()||t.shift()||n.shift()||i.shift()||"";var l=[{uid:"valueAxis",type:"Measure",values:[s]},{uid:"valueAxis2",type:"Measure",values:[c]}];if(e.chartType==="bubble"){var u=n.shift()||t.shift()||a.shift()||i.shift()||"";l.push({uid:"bubbleWidth",type:"Measure",values:[u]})}if(r.length){l.push({uid:"color",type:"Dimension",values:r})}if(o){l.push({uid:"shape",type:"Dimension",values:[o.label]})}return l}function _(e){var t;switch(e.chartType){case"Donut":t=[{uid:"size",type:"Measure",values:M(e.measures)},{uid:"color",type:"Dimension",values:M(e.dimensions)}];break;case"bubble":case"scatter":t=R(e);break;case"vertical_bullet":t=[{uid:"actualValues",type:"Measure",values:M(e.measures,[undefined,"Axis1"])},{uid:"targetValues",type:"Measure",values:M(e.measures,["Axis2"])},{uid:"categoryAxis",type:"Dimension",values:M(e.dimensions,[undefined,"Category"])},{uid:"color",type:"Dimension",values:M(e.dimensions,["Series"])}];break;default:t=[{uid:"valueAxis",type:"Measure",values:M(e.measures)},{uid:"categoryAxis",type:"Dimension",values:M(e.dimensions,[undefined,"Category"])},{uid:"color",type:"Dimension",values:M(e.dimensions,["Series"])}]}return t}function K(e,t){if(e.semanticObject){if(e.action){return t.getLinks({semanticObject:e.semanticObject,action:e.action}).then(function(t){return t.length?{semanticObject:e.semanticObject,action:e.action}:undefined})}else{return t.getPrimaryIntent(e.semanticObject).then(function(a){if(!a){return undefined}var n=t.parseShellHash(a.intent);return e.unavailableActions&&e.unavailableActions.indexOf(n.action)>=0?undefined:{semanticObject:n.semanticObject,action:n.action}})}}else{return e.outboundNavigation?Promise.resolve({outbound:e.outboundNavigation}):Promise.resolve(undefined)}}var k=(f=b("sap.fe.core.controllerextensions.KPIManagement"),p=P(),g=P(),m=y(),f(v=(h=function(t){C(i,t);function i(){return t.apply(this,arguments)||this}var s=i.prototype;s.initCardManifest=function e(t,a){var i;var r={"sap.app":{id:"sap.fe",type:"card"},"sap.ui":{technology:"UI5"},"sap.card":{type:"Analytical",data:{json:{}},header:{type:"Numeric",title:t.datapoint.title,subTitle:t.datapoint.description,unitOfMeasurement:"{mainUnit}",mainIndicator:{number:"{mainValueNoScale}",unit:"{mainValueScale}",state:"{mainState}",trend:"{trend}"}},content:{minHeight:"25rem",chartProperties:{plotArea:{},title:{visible:true,alignment:"left"}},data:{path:"/chartData"}}}};if(t.datapoint.targetPath||t.datapoint.targetValue!==undefined){var o=n.getLibraryResourceBundle("sap.fe.core");r["sap.card"].header.sideIndicators=[{title:o.getText("C_KPICARD_INDICATOR_TARGET"),number:"{targetNumber}",unit:"{targetUnit}"},{title:o.getText("C_KPICARD_INDICATOR_DEVIATION"),number:"{deviationNumber}",unit:"%"}]}if((i=t.selectionVariantFilterDefinitions)!==null&&i!==void 0&&i.length){var s=[];t.selectionVariantFilterDefinitions.forEach(function(e){var t=O(e);if(t){s.push(t)}});if(s.length){r["sap.card"].header.details=s.join(", ")}}r["sap.card"].content.chartType=t.chart.chartType;L(t.chart,r["sap.card"].content.chartProperties);r["sap.card"].content.chartProperties.title.text=E(t);r["sap.card"].content.dimensions=t.chart.dimensions.map(function(e){return{label:e.label,value:"{".concat(e.name,"}")}});r["sap.card"].content.measures=t.chart.measures.map(function(e){return{label:e.label,value:"{".concat(e.name,"}")}});r["sap.card"].content.feeds=_(t.chart);a.setProperty("/".concat(t.id),{manifest:r})};s.initNavigationInfo=function e(t,a,n){if(t.navigation){return K(t.navigation,n).then(function(e){if(e){a.setProperty("/".concat(t.id,"/manifest/sap.card/header/actions"),[{type:"Navigation",parameters:e}])}})}else{return Promise.resolve()}};s.onInit=function t(){var a,n=this;this.aKPIDefinitions=(a=this.getView().getController()._getPageModel())===null||a===void 0?void 0:a.getProperty("/kpiDefinitions");if(this.aKPIDefinitions&&this.aKPIDefinitions.length){var i=this.getView();var r=i.getController().getAppComponent();var o=new l;i.setModel(o,"kpiModel");this.aKPIDefinitions.forEach(function(t){n.initCardManifest(t,o);n.initNavigationInfo(t,o,r.getShellServices()).catch(function(t){e.error(t)});n.loadKPITagData(t,r.getModel(),o).catch(function(t){e.error(t)})})}};s.onExit=function e(){var t=this.getView().getModel("kpiModel");if(t){t.destroy()}};s.updateDatapointValueAndCurrency=function e(t,a,n){var i,s,c;var l=new o(sap.ui.getCore().getConfiguration().getLanguage());var u=(i=t.datapoint.unit)!==null&&i!==void 0&&i.isPath?a.getProperty(t.datapoint.unit.value):(s=t.datapoint.unit)===null||s===void 0?void 0:s.value;var d=((c=t.datapoint.unit)===null||c===void 0?void 0:c.isCurrency)===false&&u==="%";var f=Number.parseFloat(a.getProperty(t.datapoint.propertyPath));var p=r.getFloatInstance({style:d?undefined:"short",minFractionDigits:0,maxFractionDigits:1,showScale:!d},l).format(f);n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/mainValue"),p);var g=r.getFloatInstance({maxFractionDigits:2,showScale:false,groupingEnabled:true},l).format(f);n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/mainValueUnscaled"),g);var m=r.getFloatInstance({style:d?undefined:"short",minFractionDigits:0,maxFractionDigits:1,showScale:false},l).format(f);n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/mainValueNoScale"),m);var v=r.getFloatInstance({style:d?undefined:"short",decimals:0,maxIntegerDigits:0,showScale:true},l).format(f);n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/mainValueScale"),v);if(t.datapoint.unit&&u){if(t.datapoint.unit.isCurrency){n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/mainUnit"),u)}else{var h=r.getUnitInstance({showNumber:false},l).format(f,u);n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/mainUnit"),h)}}};s.updateDatapointCriticality=function e(t,a,n){var i=Number.parseFloat(a.getProperty(t.datapoint.propertyPath));var r=D.None;if(t.datapoint.criticalityValue){r=t.datapoint.criticalityValue}else if(t.datapoint.criticalityPath){r=T[a.getProperty(t.datapoint.criticalityPath)]||D.None}else if(t.datapoint.criticalityCalculationThresholds&&t.datapoint.criticalityCalculationMode){switch(t.datapoint.criticalityCalculationMode){case"UI.ImprovementDirectionType/Target":r=j(i,t.datapoint.criticalityCalculationThresholds);break;case"UI.ImprovementDirectionType/Minimize":r=w(i,t.datapoint.criticalityCalculationThresholds);break;case"UI.ImprovementDirectionType/Maximize":default:r=x(i,t.datapoint.criticalityCalculationThresholds);break}}n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/mainCriticality"),r);n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/mainState"),S[r]||"None")};s.updateDatapointTrend=function e(t,a,n){var i=Number.parseFloat(a.getProperty(t.datapoint.propertyPath));var r="None";if(t.datapoint.trendValue){r=t.datapoint.trendValue}else if(t.datapoint.trendPath){r=A(a.getProperty(t.datapoint.trendPath))}else if(t.datapoint.trendCalculationReferenceValue!==undefined||t.datapoint.trendCalculationReferencePath){var o;if(t.datapoint.trendCalculationReferenceValue!==undefined){o=t.datapoint.trendCalculationReferenceValue}else{o=Number.parseFloat(a.getProperty(t.datapoint.trendCalculationReferencePath||""))}r=F(i,o,!!t.datapoint.trendCalculationIsRelative,t.datapoint.trendCalculationTresholds)}n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/trend"),r)};s.updateTargetValue=function e(t,a,n){if(t.datapoint.targetValue===undefined&&t.datapoint.targetPath===undefined){return}var i=Number.parseFloat(a.getProperty(t.datapoint.propertyPath));var s=new o(sap.ui.getCore().getConfiguration().getLanguage());var c;if(t.datapoint.targetValue!==undefined){c=t.datapoint.targetValue}else{c=Number.parseFloat(a.getProperty(t.datapoint.targetPath||""))}var l=c!==0?(i-c)/c*100:undefined;var u=r.getFloatInstance({style:"short",minFractionDigits:0,maxFractionDigits:1,showScale:false},s).format(c);var d=r.getFloatInstance({style:"short",decimals:0,maxIntegerDigits:0,showScale:true},s).format(c);n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/targetNumber"),u);n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/targetUnit"),d);if(l!==undefined){var f=r.getFloatInstance({minFractionDigits:0,maxFractionDigits:1,showScale:false},s).format(l);n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/deviationNumber"),f)}else{n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/deviationNumber"),"N/A")}};s.loadKPITagData=function e(t,a,n,i){var r,o,s=this;var c=i?a.bindList("/".concat(t.entitySet)):a.bindList("/".concat(t.entitySet),undefined,undefined,undefined,{$$groupId:"$auto.LongRunners"});var l={};if((r=t.datapoint.unit)!==null&&r!==void 0&&r.isPath){l[t.datapoint.propertyPath]={unit:t.datapoint.unit.value}}else{l[t.datapoint.propertyPath]={}}if(t.datapoint.criticalityPath){l[t.datapoint.criticalityPath]={}}if(i){if(t.datapoint.trendPath){l[t.datapoint.trendPath]={}}if(t.datapoint.trendCalculationReferencePath){l[t.datapoint.trendCalculationReferencePath]={}}if(t.datapoint.targetPath){l[t.datapoint.targetPath]={}}}c.setAggregation({aggregate:l});if((o=t.selectionVariantFilterDefinitions)!==null&&o!==void 0&&o.length){var u=t.selectionVariantFilterDefinitions.map(V).filter(function(e){return e!==undefined});c.filter(u)}return c.requestContexts(0,1).then(function(e){if(e.length){var a,r;var o=(a=t.datapoint.unit)!==null&&a!==void 0&&a.isPath?e[0].getProperty(t.datapoint.unit.value):(r=t.datapoint.unit)===null||r===void 0?void 0:r.value;if(t.datapoint.unit&&!o){n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/mainValue"),"*");n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/mainValueUnscaled"),"*");n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/mainValueNoScale"),"*");n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/mainValueScale"),"");n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/mainUnit"),undefined);n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/mainCriticality"),D.None);n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/mainState"),"None");n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/trend"),"None");n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/targetNumber"),undefined);n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/targetUnit"),undefined);n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/deviationNumber"),undefined)}else{s.updateDatapointValueAndCurrency(t,e[0],n);s.updateDatapointCriticality(t,e[0],n);if(i){s.updateDatapointTrend(t,e[0],n);s.updateTargetValue(t,e[0],n)}}}})};s.loadKPICardData=function e(t,a,n){var i;var r=a.bindList("/".concat(t.entitySet));var o={};var s={};t.chart.dimensions.forEach(function(e){o[e.name]={}});t.chart.measures.forEach(function(e){s[e.name]={}});r.setAggregation({group:o,aggregate:s});if((i=t.selectionVariantFilterDefinitions)!==null&&i!==void 0&&i.length){var c=t.selectionVariantFilterDefinitions.map(V).filter(function(e){return e!==undefined});r.filter(c)}if(t.chart.sortOrder){r.sort(t.chart.sortOrder.map(function(e){return new u(e.name,e.descending)}))}return r.requestContexts(0,t.chart.maxItems).then(function(e){var a=e.map(function(e){var a={};t.chart.dimensions.forEach(function(t){a[t.name]=e.getProperty(t.name)});t.chart.measures.forEach(function(t){a[t.name]=e.getProperty(t.name)});return a});n.setProperty("/".concat(t.id,"/manifest/sap.card/data/json/chartData"),a)})};s.getPopover=function e(t){var i=this;if(!this.oPopover){return new Promise(function(e,r){n.loadLibrary("sap/ui/integration",{async:true}).then(function(){sap.ui.require(["sap/ui/integration/widgets/Card","sap/ui/integration/Host"],function(n,r){var o=new r;o.attachAction(function(e){var t=e.getParameter("type");var a=e.getParameter("parameters");if(t==="Navigation"){if(a.semanticObject){i.getView().getController()._intentBasedNavigation.navigate(a.semanticObject,a.action)}else{i.getView().getController()._intentBasedNavigation.navigateOutbound(a.outbound)}}});i.oCard=new n({width:"25rem",height:"auto"});i.oCard.setHost(o);i.oPopover=new a("kpi-Popover",{showHeader:false,placement:"Auto",content:[i.oCard]});t.addDependent(i.oPopover);e(i.oPopover)})}).catch(function(){r()})})}else{return Promise.resolve(this.oPopover)}};s.onKPIPressed=function t(a,n){var i=this;var r=a.getModel("kpiModel");if(this.aKPIDefinitions&&this.aKPIDefinitions.length){var o=this.aKPIDefinitions.find(function(e){return e.id===n});if(o){var s=a.getModel();var c=[this.loadKPITagData(o,s,r,true),this.loadKPICardData(o,s,r),this.getPopover(a)];Promise.all(c).then(function(e){i.oCard.setManifest(r.getProperty("/".concat(n,"/manifest")));i.oCard.refresh();var t=e[2];t.openBy(a,false)}).catch(function(t){e.error(t)})}}};return i}(s),N(h.prototype,"onInit",[p],Object.getOwnPropertyDescriptor(h.prototype,"onInit"),h.prototype),N(h.prototype,"onExit",[g],Object.getOwnPropertyDescriptor(h.prototype,"onExit"),h.prototype),N(h.prototype,"onKPIPressed",[m],Object.getOwnPropertyDescriptor(h.prototype,"onKPIPressed"),h.prototype),h))||v);return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/MassEdit", ["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/MassEditHelper","sap/fe/core/helpers/ModelHelper","sap/m/MessageBox","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../CommonUtils"],function(e,t,o,n,r,i,a,s){"use strict";var c,l,p,u,g,E,d,f,_;var M=t.publicExtension;var C=t.privateExtension;var T=t.finalExtension;var S=t.extensible;var v=t.defineUI5Class;function A(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;D(e,t)}function D(e,t){D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return D(e,t)}function x(e,t,o,n,r){var i={};Object.keys(n).forEach(function(e){i[e]=n[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},i);if(r&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(r):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}var O=(c=v("sap.fe.core.controllerextensions.MassEdit"),l=M(),p=T(),u=M(),g=T(),E=C(),d=S(a.After),c(f=(_=function(t){A(i,t);function i(){return t.apply(this,arguments)||this}var a=i.prototype;a.getMessageDetailForNonEditable=function e(t,o,n){var r=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_HEADER"),i=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON",[n]),a=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON_DRAFT",[o]),s=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON_NON_EDITABLE",[o]);return"<p><strong>".concat(r,"</strong></p>\n")+(!!i&&"<p>".concat(i,"</p>\n")+"<ul>"+(!!a&&"<li>".concat(a,"</li>"))+(!!s&&"<li>".concat(s,"</li>"))+"</ul>")};a.getResourceText=function e(t,o){var n=t&&s.getTranslatedTextFromExpBindingString(t,o);return n&&n.toLocaleLowerCase()};a._openConfirmDialog=function t(o,i,a){var s=this;var c=(i||[]).length;var l=this.getView();return new Promise(function(t){l.getModel("sap.fe.i18n").getResourceBundle().then(function(p){var u=p.getText("C_MASS_EDIT_CONFIRM_BUTTON_TEXT"),g=p.getText("C_COMMON_OBJECT_PAGE_CANCEL"),E=a-c,d=o.data("entityType"),f=o.getModel().getMetaModel(),_=f.getObject("".concat(d,"@com.sap.vocabularies.UI.v1.HeaderInfo")),M=s.getResourceText(_.TypeName,l)||p.getText("C_MASS_EDIT_DIALOG_DEFAULT_TYPENAME"),C=s.getResourceText(_.TypeNamePlural,l)||p.getText("C_MASS_EDIT_DIALOG_DEFAULT_TYPENAME_PLURAL"),T=p.getText("C_MASS_EDIT_CONFIRM_MESSAGE",[E,a,c,C]),S=o.data("targetCollectionPath"),v=o.getModel().getMetaModel(),A=n.isDraftSupported(v,S),D=o.data("displayModePropertyBinding")==="true",x=A&&D&&s.getMessageDetailForNonEditable(p,M,C);r.warning(T,{details:x,actions:[u,g],emphasizedAction:u,contentWidth:"100px",onClose:function(o){var n=[];if(o===u){e.info("Mass Edit: Confirmed to edit ",c.toString()," selections.");n=i}else if(o===g){e.info("Mass Edit: Cancelled.")}t(n)}})}).catch(function(t){e.error(t)})})};a._confirmContexts=function e(t,o){var n=t.getBindingContext("internal"),r=+n.getProperty("numberOfSelectedContexts")||0;o=o||[];if(o.length&&o.length!==r){return this._openConfirmDialog(t,o,r)}return Promise.resolve(o)};a.openMassEditDialog=function t(n){var r=this.getView().getController(),i=this.fetchContextsForEdit(n);return i.then(this._confirmContexts.bind(this,n)).then(function(e){return e&&e.length>0?o.createDialog(n,e,r):Promise.resolve()}).then(function(e){if(e){n.addDependent(e);e.open()}}).catch(function(t){e.error("Mass Edit: Something went wrong in mass edit dialog creation.",t)})};a.fetchContextsForEdit=function e(t){var o=t.getBindingContext("internal"),n=o.getProperty("updatableContexts")||[];return Promise.resolve(n)};return i}(i),x(_.prototype,"getMessageDetailForNonEditable",[l,p],Object.getOwnPropertyDescriptor(_.prototype,"getMessageDetailForNonEditable"),_.prototype),x(_.prototype,"openMassEditDialog",[u,g],Object.getOwnPropertyDescriptor(_.prototype,"openMassEditDialog"),_.prototype),x(_.prototype,"fetchContextsForEdit",[E,d],Object.getOwnPropertyDescriptor(_.prototype,"fetchContextsForEdit"),_.prototype),_))||f);return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/MessageHandler", ["sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/ClassSupport","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(e,t,r,s,o,i){"use strict";var a,n,g,c,u,l,p,f,v,d;var M=r.publicExtension;var h=r.privateExtension;var y=r.finalExtension;var m=r.extensible;var b=r.defineUI5Class;function w(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}function O(e,t){O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return O(e,t)}function P(e,t,r,s,o){var i={};Object.keys(s).forEach(function(e){i[e]=s[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=r.slice().reverse().reduce(function(r,s){return s(e,t,r)||r},i);if(o&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(o):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}var D=(a=b("sap.fe.core.controllerextensions.MessageHandler"),n=h(),g=m(i.Instead),c=M(),u=y(),l=M(),p=M(),f=y(),a(v=(d=function(r){w(o,r);function o(){return r.apply(this,arguments)||this}var i=o.prototype;i.getShowBoundMessagesInMessageDialog=function e(){return true};i.showMessageDialog=function e(r){var s=r&&r.customMessages?r.customMessages:undefined,o=this.base.getView().getBindingContext("internal");if(r&&r.isActionParameterDialogOpen&&o){o.setProperty("isActionParameterDialogOpen",true)}var i=this.getShowBoundMessagesInMessageDialog();var a=r&&r.context?r.context:this.getView().getBindingContext();if(o){o.setProperty("isActionParameterDialogOpen",false)}return new Promise(function(e,o){setTimeout(function(){t.showUnboundMessages(s,a,i,r===null||r===void 0?void 0:r.concurrentEditFlag,false,r===null||r===void 0?void 0:r.onBeforeShowMessage).then(e).catch(o)},0)})};i.removeTransitionMessages=function e(r,s,o){if(!r){t.removeBoundTransitionMessages(o)}if(!s){t.removeUnboundTransitionMessages()}};i._checkNavigationToMessagePage=function r(s){var o=t.getMessages();var i=this.getShowBoundMessagesInMessageDialog();var a=i?t.getMessages(true,true):[];var n=s&&s.customMessages?s.customMessages:[];var g=e.isStickyEditMode(this.base.getView());var c;if(s&&s.isDataReceivedError){c={title:s.title,description:s.description,navigateBackToOrigin:true}}else if(!g&&!a.length&&!n.length&&(o.length===1||s&&s.isInitialLoad503Error)){var u=o[0],l=u.getTechnicalDetails();var p;if(l&&l.httpStatus===503){if(l.retryAfter){var f=this._getSecondsBeforeRetryAfter(l.retryAfter);if(f>120){p=t.getRetryAfterMessage(u);c={description:p?"".concat(p," ").concat(u.getMessage()):u.getMessage(),navigateBackToOrigin:true}}}else{p=t.getRetryAfterMessage(u);c={description:p?"".concat(p," ").concat(u.getMessage()):u.getMessage(),navigateBackToOrigin:true}}}}return c};i._getSecondsBeforeRetryAfter=function e(t){var r=new Date,s=r.getTime(),o=t.getTime(),i=(o-s)/1e3;return i};i.showMessages=function t(r){try{var o=this;var i=e.getAppComponent(o.getView());var a;if(!i._isFclEnabled()){a=o._checkNavigationToMessagePage(r)}if(a){if(r&&r.messagePageNavigationCallback){r.messagePageNavigationCallback()}a.handleShellBack=!(r&&r.shellBack);o.removeTransitionMessages();var n=s.getLibraryResourceBundle("sap.fe.core");if(o.base._routing){return Promise.resolve(new Promise(function(e,t){setTimeout(function(){o.base._routing.navigateToMessagePage(r&&r.isDataReceivedError?n.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"):n.getText("C_MESSAGE_HANDLING_SAPFE_503_TITLE"),a).then(e).catch(t)},0)}))}}else{return Promise.resolve(o.showMessageDialog(r))}return Promise.resolve()}catch(e){return Promise.reject(e)}};return o}(o),P(d.prototype,"getShowBoundMessagesInMessageDialog",[n,g],Object.getOwnPropertyDescriptor(d.prototype,"getShowBoundMessagesInMessageDialog"),d.prototype),P(d.prototype,"showMessageDialog",[c,u],Object.getOwnPropertyDescriptor(d.prototype,"showMessageDialog"),d.prototype),P(d.prototype,"removeTransitionMessages",[l],Object.getOwnPropertyDescriptor(d.prototype,"removeTransitionMessages"),d.prototype),P(d.prototype,"showMessages",[p,f],Object.getOwnPropertyDescriptor(d.prototype,"showMessages"),d.prototype),d))||v);return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/PageReady", ["sap/base/Log","sap/fe/core/controllerextensions/pageReady/DataQueryWatcher","sap/fe/core/services/TemplatedViewServiceFactory","sap/ui/base/EventProvider","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../CommonUtils","../helpers/ClassSupport"],function(e,t,i,r,o,n,a,s,c,p){"use strict";var h,d,u,g,f,l,y,v,b,P,m,R,_,E,O,C,w,D,T,A,x,W,j;var B=p.publicExtension;var I=p.privateExtension;var F=p.methodOverride;var k=p.finalExtension;var U=p.extensible;var S=p.defineUI5Class;function q(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;V(e,t)}function V(e,t){V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return V(e,t)}function M(e,t,i,r,o){var n={};Object.keys(r).forEach(function(e){n[e]=r[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n);if(o&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(o):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}var z=(h=S("sap.fe.core.controllerextensions.PageReady"),d=F(),u=F(),g=B(),f=k(),l=F("_routing"),y=F("_routing"),v=F("_routing"),b=B(),P=k(),m=B(),R=k(),_=B(),E=k(),O=B(),C=k(),w=B(),D=k(),T=I(),A=U(s.Instead),x=B(),h(W=(j=function(a){q(s,a);function s(){var e;for(var t=arguments.length,i=new Array(t),r=0;r<t;r++){i[r]=arguments[r]}e=a.call.apply(a,[this].concat(i))||this;e.pageReadyTimeoutDefault=7e3;return e}var p=s.prototype;p.onInit=function e(){var i,n,a=this;this._nbWaits=0;this._oEventProvider=this._oEventProvider?this._oEventProvider:new r;this._oView=this.getView();this._oAppComponent=c.getAppComponent(this._oView);this._oPageComponent=o.getOwnerComponentFor(this._oView);var s=this._oAppComponent.getManifest();this.pageReadyTimeout=(i=(n=s["sap.ui5"])===null||n===void 0?void 0:n.pageReadyTimeout)!==null&&i!==void 0?i:this.pageReadyTimeoutDefault;if(this._oPageComponent&&this._oPageComponent.attachContainerDefined){this._oPageComponent.attachContainerDefined(function(e){return a.registerContainer(e.getParameter("container"))})}else{this.registerContainer(this._oView)}var p=this._oAppComponent.getRootControl().getController();var h=(p===null||p===void 0?void 0:p.getPlaceholder)&&p.getPlaceholder();if(h!==null&&h!==void 0&&h.isPlaceholderDebugEnabled()){this.attachEvent("pageReady",null,function(){h.getPlaceholderDebugStats().iPageReadyEventTimestamp=Date.now()},this);this.attachEvent("heroesBatchReceived",null,function(){h.getPlaceholderDebugStats().iHeroesBatchReceivedEventTimestamp=Date.now()},this)}this.queryWatcher=new t(this._oEventProvider,this.checkPageReadyDebounced.bind(this))};p.onExit=function e(){delete this._oAppComponent;if(this._oContainer){this._oContainer.removeEventDelegate(this._fnContainerDelegate)}};p.waitFor=function e(t){var i=this;this._nbWaits++;t.finally(function(){setTimeout(function(){i._nbWaits--},0)}).catch(null)};p.onRouteMatched=function e(){this._bIsPageReady=false};p.onRouteMatchedFinished=function e(){try{var t=this;return Promise.resolve(t.onAfterBindingPromise).then(function(){t.checkPageReadyDebounced()})}catch(e){return Promise.reject(e)}};p.registerAggregatedControls=function e(t){var i=this;if(t){var r=t.getBinding();this.queryWatcher.registerBinding(r)}var o=[];var n=this.getView().findAggregatedObjects(true);n.forEach(function(e){var t=e.getObjectBinding();if(t){i.queryWatcher.registerBinding(t)}else{var r=Object.keys(e.mBindingInfos);r.forEach(function(t){var r=e.mBindingInfos[t].binding;if(r&&r.isA("sap.ui.model.odata.v4.ODataListBinding")){i.queryWatcher.registerBinding(r)}})}if(e.isA("sap.ui.mdc.Table")||e.isA("sap.ui.mdc.Chart")){i.bTablesChartsLoaded=false;o.push(i.queryWatcher.registerTableOrChart(e))}else if(e.isA("sap.fe.core.controls.FilterBar")){i.queryWatcher.registerFilterBar(e)}});return o};p.onAfterBinding=function t(i){var r=this;var o=this;if(this.pageReadyTimeoutTimer){clearTimeout(this.pageReadyTimeoutTimer)}this.pageReadyTimeoutTimer=setTimeout(function(){e.error("The PageReady Event was not fired within the ".concat(o.pageReadyTimeout," ms timeout . It has been forced."));o._oEventProvider.fireEvent("pageReady")},this.pageReadyTimeout);if(this._bAfterBindingAlreadyApplied){return}this._bAfterBindingAlreadyApplied=true;if(this.isContextExpected()&&i===undefined){this.bHasContext=false;return}else{this.bHasContext=true}this.attachEventOnce("pageReady",null,function(){clearTimeout(o.pageReadyTimeoutTimer);o.pageReadyTimeoutTimer=undefined;o._bAfterBindingAlreadyApplied=false;o.queryWatcher.reset()},null);this.onAfterBindingPromise=new Promise(function(e){try{var t=r.registerAggregatedControls(i);var o=function(){if(t.length>0){return Promise.resolve(Promise.all(t)).then(function(){r.bTablesChartsLoaded=true;r.checkPageReadyDebounced();e()})}else{r.checkPageReadyDebounced();e()}}();return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}})};p.isPageReady=function e(){return this._bIsPageReady};p.waitPageReady=function e(){var t=this;return new Promise(function(e){if(t.isPageReady()){e()}else{t.attachEventOnce("pageReady",null,function(){e()},t)}})};p.attachEventOnce=function e(t,i,r,o){return this._oEventProvider.attachEventOnce(t,i,r,o)};p.attachEvent=function e(t,i,r,o){return this._oEventProvider.attachEvent(t,i,r,o)};p.detachEvent=function e(t,i){return this._oEventProvider.detachEvent(t,i)};p.registerContainer=function e(t){var i=this;this._oContainer=t;this._fnContainerDelegate={onBeforeShow:function(){i.bShown=false;i._bIsPageReady=false},onBeforeHide:function(){i.bShown=false;i._bIsPageReady=false},onAfterShow:function(){var e;i.bShown=true;(e=i.onAfterBindingPromise)===null||e===void 0?void 0:e.then(function(){i._checkPageReady(true)})}};this._oContainer.addEventDelegate(this._fnContainerDelegate,this)};p.isContextExpected=function e(){return false};p.checkPageReadyDebounced=function e(){var t=this;if(this.pageReadyTimer){clearTimeout(this.pageReadyTimer)}this.pageReadyTimer=setTimeout(function(){t._checkPageReady()},200)};p._checkPageReady=function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var o=function(){if(!n.getUIDirty()){n.detachEvent("UIUpdated",o);t._bWaitingForRefresh=false;setTimeout(function(){t._checkPageReady()},20)}};var a=function(){if(n.getUIDirty()){setTimeout(a,500)}else if(t._bWaitingForRefresh){t._bWaitingForRefresh=false;n.detachEvent("UIUpdated",o);t._checkPageReady()}};if(this.bShown&&this.queryWatcher.isDataReceived()!==false&&this.bTablesChartsLoaded!==false&&(!this.isContextExpected()||this.bHasContext)){if(this.queryWatcher.isDataReceived()===true&&!r&&!this._bWaitingForRefresh&&n.getUIDirty()){this.queryWatcher.resetDataReceived();this._bWaitingForRefresh=true;n.attachEvent("UIUpdated",o);setTimeout(a,500)}else if(!this._bWaitingForRefresh&&n.getUIDirty()||this._nbWaits!==0||i.getNumberOfViewsInCreationState()>0||this.queryWatcher.isSearchPending()){this._bWaitingForRefresh=true;n.attachEvent("UIUpdated",o);setTimeout(a,500)}else if(!this._bWaitingForRefresh){this._bIsPageReady=true;this._oEventProvider.fireEvent("pageReady")}}};return s}(a),M(j.prototype,"onInit",[d],Object.getOwnPropertyDescriptor(j.prototype,"onInit"),j.prototype),M(j.prototype,"onExit",[u],Object.getOwnPropertyDescriptor(j.prototype,"onExit"),j.prototype),M(j.prototype,"waitFor",[g,f],Object.getOwnPropertyDescriptor(j.prototype,"waitFor"),j.prototype),M(j.prototype,"onRouteMatched",[l],Object.getOwnPropertyDescriptor(j.prototype,"onRouteMatched"),j.prototype),M(j.prototype,"onRouteMatchedFinished",[y],Object.getOwnPropertyDescriptor(j.prototype,"onRouteMatchedFinished"),j.prototype),M(j.prototype,"onAfterBinding",[v],Object.getOwnPropertyDescriptor(j.prototype,"onAfterBinding"),j.prototype),M(j.prototype,"isPageReady",[b,P],Object.getOwnPropertyDescriptor(j.prototype,"isPageReady"),j.prototype),M(j.prototype,"waitPageReady",[m,R],Object.getOwnPropertyDescriptor(j.prototype,"waitPageReady"),j.prototype),M(j.prototype,"attachEventOnce",[_,E],Object.getOwnPropertyDescriptor(j.prototype,"attachEventOnce"),j.prototype),M(j.prototype,"attachEvent",[O,C],Object.getOwnPropertyDescriptor(j.prototype,"attachEvent"),j.prototype),M(j.prototype,"detachEvent",[w,D],Object.getOwnPropertyDescriptor(j.prototype,"detachEvent"),j.prototype),M(j.prototype,"isContextExpected",[T,A],Object.getOwnPropertyDescriptor(j.prototype,"isContextExpected"),j.prototype),M(j.prototype,"checkPageReadyDebounced",[x],Object.getOwnPropertyDescriptor(j.prototype,"checkPageReadyDebounced"),j.prototype),j))||W);return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Paginator", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/model/json/JSONModel"],function(t,e,n,r){"use strict";var i,o,a,s,u,l,p,d,C,f,c,x;var h=t.publicExtension;var v=t.privateExtension;var _=t.methodOverride;var g=t.finalExtension;var y=t.extensible;var b=t.defineUI5Class;function I(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;P(t,e)}function P(t,e){P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,n){e.__proto__=n;return e};return P(t,e)}function B(t,e,n,r,i){var o={};Object.keys(r).forEach(function(t){o[t]=r[t]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o);if(i&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(i):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(t,e,o);o=null}return o}var E=(i=b("sap.fe.core.controllerextensions.Paginator"),o=_(),a=h(),s=g(),u=h(),l=g(),p=v(),d=y(n.After),C=v(),f=y(n.After),i(c=(x=function(t){I(e,t);function e(){var e;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++){r[i]=arguments[i]}e=t.call.apply(t,[this].concat(r))||this;e._iCurrentIndex=-1;return e}var n=e.prototype;n.onInit=function t(){this._oView=this.base.getView();this._oView.setModel(new r({navUpEnabled:false,navDownEnabled:false}),"paginator")};n.initialize=function t(e,n){if(e&&e.getAllCurrentContexts){this._oListBinding=e}if(n){this._oCurrentContext=n}this._updateCurrentIndexAndButtonEnablement()};n._updateCurrentIndexAndButtonEnablement=function t(){if(this._oCurrentContext&&this._oListBinding){var e=this._oCurrentContext.getPath();this._iCurrentIndex=this._oListBinding.getAllCurrentContexts().findIndex(function(t){return t&&t.getPath()===e});var n=this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex];if(!this._iCurrentIndex&&this._iCurrentIndex!==0||!n||this._oCurrentContext.getPath()!==n.getPath()){this._updateCurrentIndex()}}this._handleButtonEnablement()};n._handleButtonEnablement=function t(){var e=this.base.getView().getModel("paginator");if(this._oListBinding&&this._oListBinding.getAllCurrentContexts().length>1&&this._iCurrentIndex>-1){if(this._iCurrentIndex===this._oListBinding.getAllCurrentContexts().length-1){e.setProperty("/navDownEnabled",false)}else if(this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex+1].isInactive()){e.setProperty("/navDownEnabled",false)}else{e.setProperty("/navDownEnabled",true)}if(this._iCurrentIndex===0){e.setProperty("/navUpEnabled",false)}else if(this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex-1].isInactive()){e.setProperty("/navUpEnabled",false)}else{e.setProperty("/navUpEnabled",true)}}else{e.setProperty("/navUpEnabled",false);e.setProperty("/navDownEnabled",false)}};n._updateCurrentIndex=function t(){if(this._oCurrentContext&&this._oListBinding){var e=this._oCurrentContext.getPath();this._iCurrentIndex=this._oListBinding.getAllCurrentContexts().findIndex(function(t){return t&&t.getPath()===e})}};n.updateCurrentContext=function t(e){try{var n,r;var i=this;if(!i._oListBinding){return Promise.resolve()}var o=(n=i._oCurrentContext)!==null&&n!==void 0&&n.getModel?(r=i._oCurrentContext)===null||r===void 0?void 0:r.getModel():undefined;return Promise.resolve(o===null||o===void 0?void 0:o.submitBatch("$auto")).then(function(){var t=i._oListBinding.getAllCurrentContexts();var n=i._iCurrentIndex+e;var r=t[n];if(r){var o=i.onBeforeContextUpdate(i._oListBinding,i._iCurrentIndex,e);if(!o){i._iCurrentIndex=n;i._oCurrentContext=r}i.onContextUpdate(r)}i._handleButtonEnablement()})}catch(t){return Promise.reject(t)}};n.onBeforeContextUpdate=function t(e,n,r){return false};n.onContextUpdate=function t(e){};return e}(e),B(x.prototype,"onInit",[o],Object.getOwnPropertyDescriptor(x.prototype,"onInit"),x.prototype),B(x.prototype,"initialize",[a,s],Object.getOwnPropertyDescriptor(x.prototype,"initialize"),x.prototype),B(x.prototype,"updateCurrentContext",[u,l],Object.getOwnPropertyDescriptor(x.prototype,"updateCurrentContext"),x.prototype),B(x.prototype,"onBeforeContextUpdate",[p,d],Object.getOwnPropertyDescriptor(x.prototype,"onBeforeContextUpdate"),x.prototype),B(x.prototype,"onContextUpdate",[C,f],Object.getOwnPropertyDescriptor(x.prototype,"onContextUpdate"),x.prototype),x))||c);return E},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Placeholder", ["sap/base/util/ObjectPath","sap/base/util/UriParameters","sap/fe/core/helpers/ClassSupport","sap/fe/placeholder/library","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/Placeholder"],function(e,t,r,o,a,i,l){"use strict";var n,c,p,s,u,h,d,f,b,g;var P=r.publicExtension;var y=r.defineUI5Class;function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}function m(e,t){m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return m(e,t)}function O(e,t,r,o,a){var i={};Object.keys(o).forEach(function(e){i[e]=o[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=r.slice().reverse().reduce(function(r,o){return o(e,t,r)||r},i);if(a&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(a):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}var C=(n=y("sap.fe.core.controllerextensions.Placeholder"),c=P(),p=P(),s=P(),u=P(),h=P(),d=P(),f=P(),n(b=(g=function(r){v(o,r);function o(){return r.apply(this,arguments)||this}var i=o.prototype;i.attachHideCallback=function e(){if(this.isPlaceholderEnabled()){var r=this.base.getView();var o=r.getParent()&&r.getParent().oContainer;var a=o&&o.getParent();if(!a){return}var i={onAfterShow:function(e){if(e.isBackToPage){a.hidePlaceholder()}else if(t.fromQuery(window.location.hash.replace(/#.*\?/,"")).get("restoreHistory")==="true"){a.hidePlaceholder()}}};o.addEventDelegate(i);var l=r.getController().pageReady;var n=["pageReady"];if(r.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"){n.push("heroesBatchReceived")}n.forEach(function(e){l.attachEvent(e,null,function(){a.hidePlaceholder()},null)})}};i.attachRouteMatchers=function e(){this._init()};i._init=function e(){this.oAppComponent=this.base.getAppComponent();this.oRootContainer=this.oAppComponent.getRootContainer();this.oPlaceholders={};if(this.isPlaceholderEnabled()){l.registerProvider(function(e){switch(e.name){case"sap.fe.templates.ListReport":return{html:"sap/fe/placeholder/view/PlaceholderLR.fragment.html",autoClose:false};case"sap.fe.templates.ObjectPage":return{html:"sap/fe/placeholder/view/PlaceholderOP.fragment.html",autoClose:false};default:}})}if(this.isPlaceholderDebugEnabled()){this.initPlaceholderDebug()}};i.initPlaceholderDebug=function e(){var t=this;this.resetPlaceholderDebugStats();var r={apply:function(e){if(t.oRootContainer._placeholder&&t.oRootContainer._placeholder.placeholder){t.debugStats.iHidePlaceholderTimestamp=Date.now()}return e.bind(t.oRootContainer)()}};var o=new Proxy(this.oRootContainer.hidePlaceholder,r);this.oRootContainer.hidePlaceholder=o};i.isPlaceholderDebugEnabled=function e(){if(t.fromQuery(window.location.search).get("sap-ui-xx-placeholder-debug")==="true"){return true}return false};i.resetPlaceholderDebugStats=function e(){this.debugStats={iHidePlaceholderTimestamp:0,iPageReadyEventTimestamp:0,iHeroesBatchReceivedEventTimestamp:0}};i.getPlaceholderDebugStats=function e(){return this.debugStats};i.isPlaceholderEnabled=function t(){var r=e.get("sap-ushell-config.apps.placeholder.enabled");if(r===false){return false}return a.getConfiguration().getPlaceholder()};return o}(i),O(g.prototype,"attachHideCallback",[c],Object.getOwnPropertyDescriptor(g.prototype,"attachHideCallback"),g.prototype),O(g.prototype,"attachRouteMatchers",[p],Object.getOwnPropertyDescriptor(g.prototype,"attachRouteMatchers"),g.prototype),O(g.prototype,"initPlaceholderDebug",[s],Object.getOwnPropertyDescriptor(g.prototype,"initPlaceholderDebug"),g.prototype),O(g.prototype,"isPlaceholderDebugEnabled",[u],Object.getOwnPropertyDescriptor(g.prototype,"isPlaceholderDebugEnabled"),g.prototype),O(g.prototype,"resetPlaceholderDebugStats",[h],Object.getOwnPropertyDescriptor(g.prototype,"resetPlaceholderDebugStats"),g.prototype),O(g.prototype,"getPlaceholderDebugStats",[d],Object.getOwnPropertyDescriptor(g.prototype,"getPlaceholderDebugStats"),g.prototype),O(g.prototype,"isPlaceholderEnabled",[f],Object.getOwnPropertyDescriptor(g.prototype,"isPlaceholderEnabled"),g.prototype),g))||b);return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Routing", ["sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ModelHelper","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(e,t,o,r){"use strict";var i,n,p,a,c,u,f,s,l,y,v,g,b;var d=e.publicExtension;var O=e.finalExtension;var B=e.extensible;var j=e.defineUI5Class;function h(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}function P(e,t){P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return P(e,t)}function x(e,t,o,r,i){var n={};Object.keys(r).forEach(function(e){n[e]=r[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=o.slice().reverse().reduce(function(o,r){return r(e,t,o)||o},n);if(i&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(i):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}var w=(i=j("sap.fe.core.controllerextensions.Routing"),n=d(),p=B(r.After),a=d(),c=O(),u=d(),f=B(r.After),s=d(),l=B(r.After),y=d(),v=O(),i(g=(b=function(e){h(o,e);function o(){return e.apply(this,arguments)||this}var r=o.prototype;r.onBeforeNavigation=function e(t){return false};r.navigate=function e(t){this.base._routing.navigateToContext(t)};r.onBeforeBinding=function e(t){};r.onAfterBinding=function e(t){};r.navigateToRoute=function e(o,r){var i=this.base.getModel().getMetaModel();var n=t.isStickySessionSupported(i);if(!r){r={}}r.bIsStickyMode=n;return this.base._routing.navigateToRoute(o,r)};return o}(o),x(b.prototype,"onBeforeNavigation",[n,p],Object.getOwnPropertyDescriptor(b.prototype,"onBeforeNavigation"),b.prototype),x(b.prototype,"navigate",[a,c],Object.getOwnPropertyDescriptor(b.prototype,"navigate"),b.prototype),x(b.prototype,"onBeforeBinding",[u,f],Object.getOwnPropertyDescriptor(b.prototype,"onBeforeBinding"),b.prototype),x(b.prototype,"onAfterBinding",[s,l],Object.getOwnPropertyDescriptor(b.prototype,"onAfterBinding"),b.prototype),x(b.prototype,"navigateToRoute",[y,v],Object.getOwnPropertyDescriptor(b.prototype,"navigateToRoute"),b.prototype),b))||g);return w},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/RoutingListener", ["sap/fe/core/controllerextensions/InternalRouting"],function(e){"use strict";return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Share", ["sap/base/Log","sap/base/util/extend","sap/base/util/ObjectPath","sap/fe/core/helpers/ClassSupport","sap/m/library","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/core/routing/HashChanger","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/model/json/JSONModel"],function(e,t,r,a,i,o,n,l,s,c,p,u,h){"use strict";var d,m,f,v,g,S,y,b,_,P,w,T,E,O,M,j,D;var A=a.publicExtension;var I=a.methodOverride;var x=a.finalExtension;var C=a.extensible;var U=a.defineUI5Class;function H(e,t){try{var r=e()}catch(e){return t(e)}if(r&&r.then){return r.then(void 0,t)}return r}function L(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}function R(e,t){R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return R(e,t)}function J(e,t,r,a,i){var o={};Object.keys(a).forEach(function(e){o[e]=a[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},o);if(i&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(i):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}var B;var F=(d=U("sap.fe.core.controllerextensions.Share"),m=I(),f=I(),v=A(),g=x(),S=A(),y=C(s.After),b=A(),_=x(),P=A(),w=x(),T=A(),E=x(),O=A(),M=x(),d(j=(D=function(a){L(l,a);function l(){return a.apply(this,arguments)||this}var s=l.prototype;s.onInit=function e(){var t=new h({url:"",appTitle:"",subTitle:"",minifyUrlForChat:true});this.base.getView().setModel(t,"collaborationInfo")};s.onExit=function e(){var t,r;var a=(t=this.base)===null||t===void 0?void 0:(r=t.getView())===null||r===void 0?void 0:r.getModel("collaborationInfo");if(a){a.destroy()}};s.openShareSheet=function e(t){this._openShareSheetImpl(t)};s.adaptShareMetadata=function e(t){return t};s._openShareSheetImpl=function r(a){try{var l=this;var s;var d=c.getInstance().getHash(),m=c.getInstance().hrefForAppSpecificHash?c.getInstance().hrefForAppSpecificHash(""):"",f={url:window.location.origin+window.location.pathname+window.location.search+(d?m+d:window.location.hash),title:document.title,email:{url:"",title:""},jam:{url:"",title:""},tile:{url:"",title:"",subtitle:"",icon:"",queryUrl:""}};B=a;var v=function(e,r){var a=e.getModel("shareData");var i=t(a.getData(),r);a.setData(i)};var g=H(function(){return Promise.resolve(Promise.resolve(l.adaptShareMetadata(f))).then(function(r){var c={shareEmailPressed:function(){var e=s.getModel("shareData");var t=e.getData();var r=o.getLibraryResourceBundle("sap.fe.core");var a=t.email.title?t.email.title:r.getText("T_SHARE_UTIL_HELPER_SAPFE_EMAIL_SUBJECT",[t.title]);i.URLHelper.triggerEmail(undefined,a,t.email.url?t.email.url:t.url)},shareMSTeamsPressed:function(){var e=s.getModel("shareData");var t=e.getData();var r=t.email.title?t.email.title:t.title;var a=t.email.url?t.email.url:t.url;var i=window.open("","ms-teams-share-popup","width=700,height=600");i.opener=null;i.location="https://teams.microsoft.com/share?msgText=".concat(encodeURIComponent(r),"&href=").concat(encodeURIComponent(a))},onSaveTilePress:function(){setTimeout(function(){var e;(e=o.byId("bookmarkDialog"))===null||e===void 0?void 0:e.attachAfterClose(function(){B.focus()})},0)},shareJamPressed:function(){l._doOpenJamShareDialog(r.jam.title?r.jam.title:r.title,r.jam.url?r.jam.url:r.url)}};c.onCancelPressed=function(){s.close()};c.setShareSheet=function(e){a.shareSheet=e};var d=new h({});var m={bindingContexts:{this:d.createBindingContext("/")},models:{this:d}};var f={title:r.tile.title?r.tile.title:r.title,subtitle:r.tile.subtitle,icon:r.tile.icon,url:r.tile.url?r.tile.url:r.url.substring(r.url.indexOf("#")),queryUrl:r.tile.queryUrl};var g=function(){if(a.shareSheet){s=a.shareSheet;var i=s.getModel("share");l._setStaticShareData(i);var o=t(i.getData(),f);i.setData(o);v(s,r);s.openBy(a)}else{var d="sap.fe.macros.share.ShareSheet";var g=u.loadTemplate(d,"fragment");var S=H(function(){return Promise.resolve(Promise.resolve(p.process(g,{name:d},m))).then(function(e){return Promise.resolve(n.load({definition:e,controller:c})).then(function(e){s=e;s.setModel(new h(f||{}),"share");var i=s.getModel("share");l._setStaticShareData(i);var o=t(i.getData(),f);i.setData(o);s.setModel(new h(r||{}),"shareData");v(s,r);a.addDependent(s);s.openBy(a);c.setShareSheet(s)})})},function(t){e.error("Error while opening the share fragment",t)});if(S&&S.then)return S.then(function(){})}}();if(g&&g.then)return g.then(function(){})})},function(t){e.error("Error while fetching the share model data",t)});return Promise.resolve(g&&g.then?g.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};s._setStaticShareData=function e(t){var a=o.getLibraryResourceBundle("sap.fe.core");t.setProperty("/jamButtonText",a.getText("T_COMMON_SAPFE_SHARE_JAM"));t.setProperty("/emailButtonText",a.getText("T_SEMANTIC_CONTROL_SEND_EMAIL"));t.setProperty("/msTeamsShareButtonText",a.getText("T_COMMON_SAPFE_SHARE_MSTEAMS"));if(r.get("sap-ushell-config.renderers.fiori2.componentData.config.sapHorizonEnabled")===true){t.setProperty("/msTeamsVisible",true)}else{t.setProperty("/msTeamsVisible",false)}var i=r.get("sap.ushell.Container.getUser");t.setProperty("/jamVisible",!!i&&i().isJamActive());t.setProperty("/saveAsTileVisible",!!(sap&&sap.ushell&&sap.ushell.Container))};s._doOpenJamShareDialog=function e(t,r){var a=o.createComponent({name:"sap.collaboration.components.fiori.sharing.dialog",settings:{object:{id:r,share:t}}});a.open()};s._triggerEmail=function e(){try{var t=this;return Promise.resolve(t._adaptShareMetadata()).then(function(e){var t=o.getLibraryResourceBundle("sap.fe.core");var r=e.email.title?e.email.title:t.getText("T_SHARE_UTIL_HELPER_SAPFE_EMAIL_SUBJECT",[e.title]);i.URLHelper.triggerEmail(undefined,r,e.email.url?e.email.url:e.url)})}catch(e){return Promise.reject(e)}};s._triggerShareToJam=function e(){try{var t=this;return Promise.resolve(t._adaptShareMetadata()).then(function(e){t._doOpenJamShareDialog(e.jam.title?e.jam.title:e.title,e.jam.url?e.jam.url:window.location.origin+window.location.pathname+e.url)})}catch(e){return Promise.reject(e)}};s._saveAsTile=function e(t){try{var r=this;return Promise.resolve(r._adaptShareMetadata()).then(function(e){var r=t.getDependents()[0];r.setTitle(e.tile.title?e.tile.title:e.title);r.setSubtitle(e.tile.subtitle);r.setTileIcon(e.tile.icon);r.setCustomUrl(e.tile.url?e.tile.url:e.url);r.setServiceUrl(e.tile.queryUrl);r.firePress()})}catch(e){return Promise.reject(e)}};s._adaptShareMetadata=function e(){var t=c.getInstance().getHash(),r=c.getInstance().hrefForAppSpecificHash?c.getInstance().hrefForAppSpecificHash(""):"",a={url:window.location.origin+window.location.pathname+window.location.search+(t?r+t:window.location.hash),title:document.title,email:{url:"",title:""},jam:{url:"",title:""},tile:{url:"",title:"",subtitle:"",icon:"",queryUrl:""}};return this.adaptShareMetadata(a)};return l}(l),J(D.prototype,"onInit",[m],Object.getOwnPropertyDescriptor(D.prototype,"onInit"),D.prototype),J(D.prototype,"onExit",[f],Object.getOwnPropertyDescriptor(D.prototype,"onExit"),D.prototype),J(D.prototype,"openShareSheet",[v,g],Object.getOwnPropertyDescriptor(D.prototype,"openShareSheet"),D.prototype),J(D.prototype,"adaptShareMetadata",[S,y],Object.getOwnPropertyDescriptor(D.prototype,"adaptShareMetadata"),D.prototype),J(D.prototype,"_triggerEmail",[b,_],Object.getOwnPropertyDescriptor(D.prototype,"_triggerEmail"),D.prototype),J(D.prototype,"_triggerShareToJam",[P,w],Object.getOwnPropertyDescriptor(D.prototype,"_triggerShareToJam"),D.prototype),J(D.prototype,"_saveAsTile",[T,E],Object.getOwnPropertyDescriptor(D.prototype,"_saveAsTile"),D.prototype),J(D.prototype,"_adaptShareMetadata",[O,M],Object.getOwnPropertyDescriptor(D.prototype,"_adaptShareMetadata"),D.prototype),D))||j);return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/SideEffects", ["sap/base/Log","sap/fe/macros/field/FieldRuntime","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","../CommonUtils","../helpers/ClassSupport"],function(e,t,i,r,o,n){"use strict";var f,s,a,c,d,u,p,l,v,g,m,E,S,y,h,F,_,P,C,O,x,b,I,j,w,T,D,G;var Q=n.publicExtension;var q=n.privateExtension;var A=n.methodOverride;var M=n.finalExtension;var R=n.defineUI5Class;function B(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}function N(e,t){N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return N(e,t)}function z(e,t,i,r,o){var n={};Object.keys(r).forEach(function(e){n[e]=r[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n);if(o&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(o):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}var V=(f=R("sap.fe.core.controllerextensions.SideEffects"),s=A(),a=Q(),c=M(),d=Q(),u=M(),p=Q(),l=M(),v=Q(),g=M(),m=Q(),E=M(),S=Q(),y=M(),h=Q(),F=M(),_=Q(),P=M(),C=Q(),O=M(),x=q(),b=M(),I=Q(),j=M(),w=Q(),T=M(),f(D=(G=function(r){B(n,r);function n(){return r.apply(this,arguments)||this}var f=n.prototype;f.onInit=function e(){this._oView=this.base.getView();this._oAppComponent=o.getAppComponent(this._oView);this._oSideEffectsService=this._oAppComponent.getSideEffectsService();this._mFieldGroupQueue={};this._aSourcePropertiesFailure=new Set;this._mFailedSideEffects={}};f.clearPropertiesStatus=function e(){this._aSourcePropertiesFailure.clear()};f.getRegisteredFailedRequests=function e(){return this._mFailedSideEffects};f.deleteFailedRequestsForAContext=function e(t){delete this._mFailedSideEffects[t]};f.handleFieldChange=function t(i,r){var o=this;var n=this._getFieldProperties(i),f=this._initializeFieldSideEffects(n,r);var s=false;return this._generateImmediatePromise(n).then(function(){s=true;return Promise.all(f.map(function(e){return o.requestSideEffects(e.sideEffects,e.context)})||[])}).catch(function(t){if(s){e.debug("Error while processing Field SideEffects",t)}else{f.filter(function(e){return e.previouslyFailed===true}).forEach(function(e){o._addFailedSideEffects(e.sideEffects,e.context)})}})};f.handleFieldGroupChange=function t(i){var r=this,o=[],n=i.getParameter("fieldGroupIds");var f=function(t){var i=false;var o=t.sideEffectProperty;var n=o.context;var f=n.getPath();var s=r._oSideEffectsService.getEntityTypeFromContext(n);var a=r._getEntityTypeFromFQN(s);return Promise.all(t.promises).then(function(){i=true;if(a&&o.sideEffects.SourceProperties.every(function(e){if(e.type==="PropertyPath"){var t=r._generateStatusIndex(a,e.value,n);if(t){return!r._aSourcePropertiesFailure.has(t)}}return true})){return r.requestSideEffects(o.sideEffects,o.context)}return null}).catch(function(t){if(i){e.debug("Error while processing FieldGroup SideEffects on context ".concat(f),t)}}).finally(function(){delete r._mFieldGroupQueue[o.name][f]})};n.forEach(function(e){var t;var i=e.replace("$$ImmediateRequest","");var n=(t=r._mFieldGroupQueue)===null||t===void 0?void 0:t[i];if(n){Object.keys(n).forEach(function(e){var t=n[e];if(!t.processStarted){t.processStarted=true;o.push(t)}})}});return Promise.all(o.map(function(e){return f(e)}))};f.addControlSideEffects=function e(t,i){this._oSideEffectsService.addControlSideEffects(t,i)};f.removeFailedSideEffects=function e(){this._mFailedSideEffects={}};f.requestSideEffects=function e(t,i,r,o){try{var n=this;function c(){if(s){n._oSideEffectsService.executeAction(s,i,r)}return f.length?n._oSideEffectsService.requestSideEffects(f,i,r).catch(function(e){n._addFailedSideEffects(t,i);return Promise.reject(e)}):Promise.resolve()}var f,s;var a=function(){if(o){return Promise.resolve(o(t)).then(function(e){f=e["aTargets"];s=e["TriggerAction"]})}else{f=(t.TargetEntities||[]).concat(t.TargetProperties||[]);s=t.TriggerAction}}();return Promise.resolve(a&&a.then?a.then(c):c(a))}catch(d){return Promise.reject(d)}};f.removeControlSideEffects=function e(t){var i=t&&t.isA&&t.isA("sap.ui.base.ManagedObject")&&t.getId();if(i){this._oSideEffectsService.removeControlSideEffects(i)}};f._addFailedSideEffects=function e(t,i){var r=i.getPath();this._mFailedSideEffects[r]=this._mFailedSideEffects[r]||[];var o=this._mFailedSideEffects[r].every(function(e){return t.fullyQualifiedName!==e.fullyQualifiedName});if(o){this._mFailedSideEffects[r].push(t)}};f._generateFieldGroupPromise=function e(t){var i=this;var r=true;return t.promise.then(function(){return r}).catch(function(){r=false;return r}).finally(function(){i._saveFieldPropertiesStatus(t.field,r)})};f._generateImmediatePromise=function e(t){var r=t.promise;return r.then(function(){var e=t.field;var r=e.getFieldHelp&&e.getFieldHelp();if(r){var o=i.byId(r);if(o&&o.getOutParameters){return Promise.all(o.getOutParameters().map(function(e){var t=e.getBinding("value");return t?t.requestValue():Promise.resolve()}))}}return Promise.all([])})};f._generateStatusIndex=function e(t,i,r){var o=r===null||r===void 0?void 0:r.getPath();var n=t.resolvePath(i);if(n){if(n&&n._type==="Property"){return[n.fullyQualifiedName,o].join("__")}}return undefined};f.getContextForSideEffects=function e(t,i){var r=t,o=this._oSideEffectsService.getEntityTypeFromContext(t);if(i!==o){r=t.getBinding().getContext();if(r){o=this._oSideEffectsService.getEntityTypeFromContext(r);if(i!==o){r=r.getBinding().getContext();if(r){o=this._oSideEffectsService.getEntityTypeFromContext(r);if(i!==o){return undefined}}}}}return r||undefined};f._getEntityTypeFromFQN=function e(t){return this._oSideEffectsService.getConvertedMetaModel().entityTypes.find(function(e){return e.fullyQualifiedName===t})};f._getFieldPromise=function e(i){var r=i.getParameter("promise")||Promise.resolve();var o=t.getFieldStateOnChange(i).state.validity;return r.then(function(){return new Promise(function(e,t){if(!o){t()}else{e(true)}})})};f._getFieldProperties=function e(t){var i=t.getSource();return{promise:this._getFieldPromise(t),field:i,sideEffectsMap:this._getFieldSideEffectsMap(i)}};f._getFieldSideEffectsMap=function e(t){var i={};var r=t.getFieldGroupIds(),o=this._oView.getViewData().entitySet,n=this._oSideEffectsService.getConvertedMetaModel().entitySets.find(function(e){return e.name===o});i=this.generateSideEffectsMapFromSideEffectId(r,t);if(o&&n){var f=n.entityType.fullyQualifiedName,s=t.getAggregation("customData").find(function(e){return e.getKey()==="sourcePath"}),a=this.getContextForSideEffects(t.getBindingContext(),f);if(s&&a){var c=s.getValue().replace("/".concat(o,"/"),""),d=this._oSideEffectsService.getControlEntitySideEffects(f);Object.keys(d).forEach(function(e){var t=d[e];if(t.SourceProperties.includes(c)){var r="".concat(e,"::").concat(f);i[r]={name:r,immediate:true,sideEffects:t,context:a}}})}}return i};f._getDataToGenerateSideEffectsMapFromSideEffectId=function e(t){var i;var r=t.indexOf("$$ImmediateRequest")!==-1,o=t.replace("$$ImmediateRequest",""),n=o.split("#"),f=n[0],s="".concat(f,"@com.sap.vocabularies.Common.v1.SideEffects").concat(n.length===2?"#".concat(n[1]):""),a=(i=this._oSideEffectsService.getODataEntitySideEffects(f))===null||i===void 0?void 0:i[s];return{sName:o,bIsImmediate:r,oSideEffect:a,sSideEffectEntityType:f}};f.generateSideEffectsMapFromSideEffectId=function e(t,i){var r=this;var o={};t.forEach(function(e){var t=r._getDataToGenerateSideEffectsMapFromSideEffectId(e),n=t.sName,f=t.bIsImmediate,s=t.oSideEffect,a=t.sSideEffectEntityType;var c=i?r.getContextForSideEffects(i.getBindingContext(),a):undefined;if(s&&(!i||i&&c)){o[n]={name:n,immediate:f,sideEffects:s};if(i){o[n].context=c}}});return o};f._initializeFieldSideEffects=function e(t,i){var r=this;var o=t.sideEffectsMap,n=this._generateFieldGroupPromise(t),f={},s=[];i=i||Promise.resolve();Object.keys(o).forEach(function(e){var t;var a=o[e],c=(t=a.context)===null||t===void 0?void 0:t.getPath();if(c){var d=r._mFailedSideEffects[c];if(d){delete r._mFailedSideEffects[c];f[c]={};d.forEach(function(t){f[c][t.fullyQualifiedName]=true;s.push({name:e,previouslyFailed:true,sideEffects:t,context:a.context})})}if(a.immediate){var u;if(!((u=f[c])!==null&&u!==void 0&&u[a.sideEffects.fullyQualifiedName])){s.push({name:e,sideEffects:a.sideEffects,context:a.context})}}else{r._mFieldGroupQueue[e]=r._mFieldGroupQueue[e]||{};var p=r._mFieldGroupQueue[e][c]||{promises:[],sideEffectProperty:a,processStarted:false};p.promises=p.promises.concat([n,i]);r._mFieldGroupQueue[e][c]=p}}});return s};f._saveFieldPropertiesStatus=function e(t,i){var r=this;var o=t.getBindingContext();var n=this._oSideEffectsService.getEntityTypeFromContext(o);var f=this._getEntityTypeFromFQN(n);if(f){var s=this._getBindingForField(t);var a=s.isA("sap.ui.model.CompositeBinding")?(s.getBindings()||[]).map(function(e){return e.sPath}):[s.getPath()];a.forEach(function(e){var t=r._generateStatusIndex(f,e,o);if(t){r._aSourcePropertiesFailure[i?"delete":"add"](t)}})}};f._getBindingForField=function e(t){var i="value";if(t.isA("sap.m.CheckBox")){i="selected"}else if(t.isA("sap.fe.core.controls.FileWrapper")){i="uploadUrl"}return t.getBinding(i)};return n}(r),z(G.prototype,"onInit",[s],Object.getOwnPropertyDescriptor(G.prototype,"onInit"),G.prototype),z(G.prototype,"clearPropertiesStatus",[a,c],Object.getOwnPropertyDescriptor(G.prototype,"clearPropertiesStatus"),G.prototype),z(G.prototype,"getRegisteredFailedRequests",[d,u],Object.getOwnPropertyDescriptor(G.prototype,"getRegisteredFailedRequests"),G.prototype),z(G.prototype,"deleteFailedRequestsForAContext",[p,l],Object.getOwnPropertyDescriptor(G.prototype,"deleteFailedRequestsForAContext"),G.prototype),z(G.prototype,"handleFieldChange",[v,g],Object.getOwnPropertyDescriptor(G.prototype,"handleFieldChange"),G.prototype),z(G.prototype,"handleFieldGroupChange",[m,E],Object.getOwnPropertyDescriptor(G.prototype,"handleFieldGroupChange"),G.prototype),z(G.prototype,"addControlSideEffects",[S,y],Object.getOwnPropertyDescriptor(G.prototype,"addControlSideEffects"),G.prototype),z(G.prototype,"removeFailedSideEffects",[h,F],Object.getOwnPropertyDescriptor(G.prototype,"removeFailedSideEffects"),G.prototype),z(G.prototype,"requestSideEffects",[_,P],Object.getOwnPropertyDescriptor(G.prototype,"requestSideEffects"),G.prototype),z(G.prototype,"removeControlSideEffects",[C,O],Object.getOwnPropertyDescriptor(G.prototype,"removeControlSideEffects"),G.prototype),z(G.prototype,"_addFailedSideEffects",[x,b],Object.getOwnPropertyDescriptor(G.prototype,"_addFailedSideEffects"),G.prototype),z(G.prototype,"getContextForSideEffects",[I,j],Object.getOwnPropertyDescriptor(G.prototype,"getContextForSideEffects"),G.prototype),z(G.prototype,"generateSideEffectsMapFromSideEffectId",[w,T],Object.getOwnPropertyDescriptor(G.prototype,"generateSideEffectsMapFromSideEffectId"),G.prototype),G))||D);return V},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/ViewState", ["sap/base/Log","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ModelHelper","sap/fe/navigation/library","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/ui/mdc/p13n/StateUtil"],function(e,t,r,n,o,i,a,p,l,s,c){"use strict";var f,u,d,y,v,g,h,S,b,m,P,w,O,A,C,I,j,R,B,E,_,x,D,K,V,H,N,k,M,F,T,$,z,U,L,q,G,Q,J,W,X,Y,Z,ee,te,re,ne,oe,ie;var ae=n.publicExtension;var pe=n.privateExtension;var le=n.finalExtension;var se=n.extensible;var ce=n.defineUI5Class;function fe(e,t){try{var r=e()}catch(e){return t(true,e)}if(r&&r.then){return r.then(t.bind(null,false),t.bind(null,true))}return t(false,r)}function ue(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;de(e,t)}function de(e,t){de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return de(e,t)}function ye(e,t,r,n,o){var i={};Object.keys(n).forEach(function(e){i[e]=n[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i);if(o&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(o):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}function ve(e){return be(e)||Se(e)||he(e)||ge()}function ge(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function he(e,t){if(!e)return;if(typeof e==="string")return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(e,t)}function Se(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function be(e){if(Array.isArray(e))return me(e)}function me(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function Pe(e,t){try{var r=e()}catch(e){return t(e)}if(r&&r.then){return r.then(void 0,t)}return r}var we="#additionalStates",Oe=a.NavType;var Ae={"sap.ui.fl.variants.VariantManagement":{retrieve:function(e){return{variantId:e.getCurrentVariantKey()}},apply:function(e,t){if(t&&t.variantId!==undefined&&t.variantId!==e.getCurrentVariantKey()){var r=this._checkIfVariantIdIsAvailable(e,t.variantId)?t.variantId:e.getStandardVariantKey();return s.activateVariant({element:e,variantReference:r})}}},"sap.m.IconTabBar":{retrieve:function(e){return{selectedKey:e.getSelectedKey()}},apply:function(e,t){if(t&&t.selectedKey){var r=e.getItems().find(function(e){return e.getKey()===t.selectedKey});if(r){e.setSelectedItem(r)}}}},"sap.ui.mdc.FilterBar":{retrieve:function(e){return c.retrieveExternalState(e).then(function(t){var r=e.getPropertyInfoSet(),n=t.filter||{};r.filter(function(e){return n[e.path]&&(e.removeFromAppState||n[e.path].length===0)}).forEach(function(e){delete n[e.path]});return t})},apply:function(t,r){try{return Promise.resolve(function(){if(r){var n=t.getPropertyInfoSet();return Pe(function(){return Promise.resolve(c.retrieveExternalState(t)).then(function(e){Object.keys(e.filter).forEach(function(t){for(var o=0;o<n.length;o++){var i=n[o];if(t!=="$editState"&&t!=="$search"&&i["key"]===t&&i["maxConditions"]<=1){e.filter[t].forEach(function(e){e.filtered=false});if(r.filter[t]){r.filter[t]=[].concat(ve(r.filter[t]),ve(e.filter[t]))}else{r.filter[t]=e.filter[t]||[]}}}});return c.applyExternalState(t,r)})},function(t){e.error("Filterbar apply failed because of StateUtil.retrieveExternalState: "+t)})}}())}catch(e){return Promise.reject(e)}}},"sap.ui.mdc.Table":{retrieve:function(e){return c.retrieveExternalState(e)},apply:function(e,t){if(t){if(!t.supplementaryConfig){t.supplementaryConfig={}}return c.applyExternalState(e,t)}},refreshBinding:function(t){var r=t.getRowBinding();if(r){var n=r.getRootBinding();if(n===r){r.refresh()}else{var o=r.getHeaderContext();var i=r.getGroupId();if(o){o.requestSideEffects([{$NavigationPropertyPath:""}],i)}}}else{e.info("Table: ".concat(t.getId()," was not refreshed. No binding found!"))}}},"sap.ui.mdc.Chart":{retrieve:function(e){return c.retrieveExternalState(e)},apply:function(e,t){if(t){return c.applyExternalState(e,t)}}},"sap.uxap.ObjectPageLayout":{retrieve:function(e){return{selectedSection:e.getSelectedSection()}},apply:function(e,t){if(t){e.setSelectedSection(t.selectedSection)}},refreshBinding:function(t){var n=t.getBindingContext();var a=n&&n.getBinding();if(a){var p=i.getMetaPathForContext(n);var l=o.getControlRefreshStrategyForContextPath(t,p);if(l==="self"){var s=n.getModel(),c=s.getMetaModel(),f=r.getContextPathProperties(c,p,{$kind:"NavigationProperty"})||{},u=Object.keys(f).reduce(function(e,t){if(f[t].$isCollection!==true){e.push({$NavigationPropertyPath:t})}return e},[]),d=[{$PropertyPath:"*"}],y=a.getGroupId();n.requestSideEffects(d.concat(u),y)}else if(l==="includingDependents"){a.refresh()}}else{e.info("ObjectPage: ".concat(t.getId()," was not refreshed. No binding found!"))}}},"sap.fe.macros.table.QuickFilterContainer":{retrieve:function(e){return{selectedKey:e.getSelectorKey()}},apply:function(e,t){if(t){e.setSelectorKey(t.selectedKey)}}},"sap.m.SegmentedButton":{retrieve:function(e){return{selectedKey:e.getSelectedKey()}},apply:function(e,t){if(t){e.setSelectedKey(t.selectedKey)}}},"sap.m.Select":{retrieve:function(e){return{selectedKey:e.getSelectedKey()}},apply:function(e,t){if(t){e.setSelectedKey(t.selectedKey)}}},"sap.f.DynamicPage":{retrieve:function(e){return{headerExpanded:e.getHeaderExpanded()}},apply:function(e,t){if(t){e.setHeaderExpanded(t.headerExpanded)}}},"sap.ui.core.mvc.View":{retrieve:function(e){var t=e.getController();if(t&&t.viewState){return t.viewState.retrieveViewState(t.viewState)}return{}},apply:function(e,t,r){var n=e.getController();if(n&&n.viewState){return n.viewState.applyViewState(t,r)}},refreshBinding:function(e){var t=e.getController();if(t&&t.viewState){return t.viewState.refreshViewBindings()}}},"sap.ui.core.ComponentContainer":{retrieve:function(e){var t=e.getComponentInstance();if(t){return this.retrieveControlState(t.getRootControl())}return{}},apply:function(e,t,r){var n=e.getComponentInstance();if(n){return this.applyControlState(n.getRootControl(),t,r)}}}};var Ce=(f=ce("sap.fe.core.controllerextensions.ViewState"),u=ae(),d=le(),y=ae(),v=se(l.After),g=pe(),h=le(),S=pe(),b=le(),m=ae(),P=se(l.After),w=ae(),O=se(l.After),A=ae(),C=se(l.After),I=pe(),j=le(),R=ae(),B=se(l.After),E=pe(),_=le(),x=ae(),D=se(l.After),K=ae(),V=le(),H=ae(),N=le(),k=ae(),M=se(l.After),F=pe(),T=le(),$=ae(),z=se(l.Instead),U=ae(),L=le(),q=pe(),G=ae(),Q=se(l.After),J=ae(),W=se(l.After),X=ae(),Y=se(l.After),Z=pe(),ee=ae(),te=se(l.After),re=pe(),ne=le(),f(oe=(ie=function(r){ue(n,r);function n(){var e;e=r.call(this)||this;e._iRetrievingStateCounter=0;e._pInitialStateApplied=new Promise(function(t){e._pInitialStateAppliedResolve=t});return e}var o=n.prototype;o.refreshViewBindings=function e(){try{var t=this;return Promise.resolve(t.collectResults(t.base.viewState.adaptBindingRefreshControls)).then(function(e){var r=Promise.resolve();e.filter(function(e){return e&&e.isA&&e.isA("sap.ui.base.ManagedObject")}).forEach(function(e){r=r.then(t.refreshControlBinding.bind(t,e))});return r})}catch(e){return Promise.reject(e)}};o.adaptBindingRefreshControls=function e(t){};o.refreshControlBinding=function t(r){var n=this.getControlRefreshBindingHandler(r);var o=Promise.resolve();if(typeof n.refreshBinding!=="function"){e.info("refreshBinding handler for control: ".concat(r.getMetadata().getName()," is not provided"))}else{o=o.then(n.refreshBinding.bind(this,r))}return o};o.getControlRefreshBindingHandler=function e(t){var r={};if(t){for(var n in Ae){if(t.isA(n)){r["refreshBinding"]=Ae[n].refreshBinding||{};break}}}this.base.viewState.adaptBindingRefreshHandler(t,r);return r};o.adaptBindingRefreshHandler=function e(t,r){};o.onSuspend=function e(){};o.onRestore=function e(){};o.destroy=function e(){delete this._pInitialStateAppliedResolve;r.prototype.destroy.call(this)};o.collectResults=function e(t){var r=[];for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++){o[i-1]=arguments[i]}o.push(r);t.apply(this,o);return Promise.all(r)};o.adaptControlStateHandler=function e(t,r){};o.getControlStateHandler=function e(t){var r=[],n=[];if(t){for(var o in Ae){if(t.isA(o)){r.push(Object.assign({},Ae[o]));break}}}this.base.viewState.adaptControlStateHandler(t,n);return r.concat(n)};o.adaptStateControls=function e(t){};o.getStateKey=function e(t){return this.getView().getLocalId(t.getId())||t.getId()};o.retrieveViewState=function e(){try{var r=this;function i(){return r._iRetrievingStateCounter===0?n:undefined}++r._iRetrievingStateCounter;var n;var o=fe(function(){return Promise.resolve(r._pInitialStateApplied).then(function(){return Promise.resolve(r.collectResults(r.base.viewState.adaptStateControls)).then(function(e){return Promise.resolve(Promise.all(e.filter(function(e){return e&&e.isA&&e.isA("sap.ui.base.ManagedObject")}).map(function(e){return r.retrieveControlState(e).then(function(t){return{key:r.getStateKey(e),value:t}})}))).then(function(e){n=e.reduce(function(e,r){var n={};n[r.key]=r.value;return t(e,n)},{});return Promise.resolve(Promise.resolve(r._retrieveAdditionalStates())).then(function(e){if(e&&Object.keys(e).length){n[we]=e}})})})})},function(e,t){--r._iRetrievingStateCounter;if(e)throw t;return t});return Promise.resolve(o&&o.then?o.then(i):i(o))}catch(a){return Promise.reject(a)}};o.retrieveAdditionalStates=function e(t){};o._retrieveAdditionalStates=function e(){var t={};this.base.viewState.retrieveAdditionalStates(t);return t};o.retrieveControlState=function e(r){var n=this;var o=this.getControlStateHandler(r);return Promise.all(o.map(function(e){if(typeof e.retrieve!=="function"){throw new Error("controlStateHandler.retrieve is not a function for control: ".concat(r.getMetadata().getName()))}return e.retrieve.call(n,r)})).then(function(e){return e.reduce(function(e,r){return t(e,r)},{})})};o.applyInitialStateOnly=function e(){return true};o.applyViewState=function t(r,n){try{var o=this;if(o.base.viewState.applyInitialStateOnly()&&o._getInitialStateApplied()){return Promise.resolve()}var i=fe(function(){return Promise.resolve(o.collectResults(o.base.viewState.onBeforeStateApplied)).then(function(){return Promise.resolve(o.collectResults(o.base.viewState.adaptStateControls)).then(function(e){var t=Promise.resolve();e.filter(function(e){return e&&e.isA&&e.isA("sap.ui.base.ManagedObject")}).forEach(function(e){var i=o.getStateKey(e);t=t.then(o.applyControlState.bind(o,e,r?r[i]:undefined,n))});return Promise.resolve(t).then(function(){var e=function(){if(n.navigationType===Oe.iAppState){return Promise.resolve(o.collectResults(o.base.viewState.applyAdditionalStates,r?r[we]:undefined)).then(function(){})}else{return Promise.resolve(o.collectResults(o.base.viewState.applyNavigationParameters,n)).then(function(){return Promise.resolve(o.collectResults(o.base.viewState._applyNavigationParametersToFilterbar,n)).then(function(){})})}}();if(e&&e.then)return e.then(function(){})})})})},function(t,r){function n(){if(t)throw r;return r}var i=Pe(function(){return Promise.resolve(o.collectResults(o.base.viewState.onAfterStateApplied)).then(function(){o._setInitialStateApplied()})},function(t){e.error(t)});return i&&i.then?i.then(n):n(i)});return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};o._checkIfVariantIdIsAvailable=function e(t,r){var n=t.getVariants();var o=false;n.forEach(function(e){if(e.key===r){o=true}});return o};o._setInitialStateApplied=function e(){if(this._pInitialStateAppliedResolve){var t=this._pInitialStateAppliedResolve;delete this._pInitialStateAppliedResolve;t()}};o._getInitialStateApplied=function e(){return!this._pInitialStateAppliedResolve};o.onBeforeStateApplied=function e(t){};o.onAfterStateApplied=function e(t){};o.applyAdditionalStates=function e(t,r){};o._applyNavigationParametersToFilterbar=function e(t,r){};o.applyNavigationParameters=function e(t,r){};o.applyControlState=function e(t,r,n){var o=this;var i=this.getControlStateHandler(t);var a=Promise.resolve();i.forEach(function(e){if(typeof e.apply!=="function"){throw new Error("controlStateHandler.apply is not a function for control: ".concat(t.getMetadata().getName()))}a=a.then(e.apply.bind(o,t,r,n))});return a};o.getInterface=function e(){return this};return n}(p),ye(ie.prototype,"refreshViewBindings",[u,d],Object.getOwnPropertyDescriptor(ie.prototype,"refreshViewBindings"),ie.prototype),ye(ie.prototype,"adaptBindingRefreshControls",[y,v],Object.getOwnPropertyDescriptor(ie.prototype,"adaptBindingRefreshControls"),ie.prototype),ye(ie.prototype,"refreshControlBinding",[g,h],Object.getOwnPropertyDescriptor(ie.prototype,"refreshControlBinding"),ie.prototype),ye(ie.prototype,"getControlRefreshBindingHandler",[S,b],Object.getOwnPropertyDescriptor(ie.prototype,"getControlRefreshBindingHandler"),ie.prototype),ye(ie.prototype,"adaptBindingRefreshHandler",[m,P],Object.getOwnPropertyDescriptor(ie.prototype,"adaptBindingRefreshHandler"),ie.prototype),ye(ie.prototype,"onSuspend",[w,O],Object.getOwnPropertyDescriptor(ie.prototype,"onSuspend"),ie.prototype),ye(ie.prototype,"onRestore",[A,C],Object.getOwnPropertyDescriptor(ie.prototype,"onRestore"),ie.prototype),ye(ie.prototype,"collectResults",[I,j],Object.getOwnPropertyDescriptor(ie.prototype,"collectResults"),ie.prototype),ye(ie.prototype,"adaptControlStateHandler",[R,B],Object.getOwnPropertyDescriptor(ie.prototype,"adaptControlStateHandler"),ie.prototype),ye(ie.prototype,"getControlStateHandler",[E,_],Object.getOwnPropertyDescriptor(ie.prototype,"getControlStateHandler"),ie.prototype),ye(ie.prototype,"adaptStateControls",[x,D],Object.getOwnPropertyDescriptor(ie.prototype,"adaptStateControls"),ie.prototype),ye(ie.prototype,"getStateKey",[K,V],Object.getOwnPropertyDescriptor(ie.prototype,"getStateKey"),ie.prototype),ye(ie.prototype,"retrieveViewState",[H,N],Object.getOwnPropertyDescriptor(ie.prototype,"retrieveViewState"),ie.prototype),ye(ie.prototype,"retrieveAdditionalStates",[k,M],Object.getOwnPropertyDescriptor(ie.prototype,"retrieveAdditionalStates"),ie.prototype),ye(ie.prototype,"retrieveControlState",[F,T],Object.getOwnPropertyDescriptor(ie.prototype,"retrieveControlState"),ie.prototype),ye(ie.prototype,"applyInitialStateOnly",[$,z],Object.getOwnPropertyDescriptor(ie.prototype,"applyInitialStateOnly"),ie.prototype),ye(ie.prototype,"applyViewState",[U,L],Object.getOwnPropertyDescriptor(ie.prototype,"applyViewState"),ie.prototype),ye(ie.prototype,"_checkIfVariantIdIsAvailable",[q],Object.getOwnPropertyDescriptor(ie.prototype,"_checkIfVariantIdIsAvailable"),ie.prototype),ye(ie.prototype,"onBeforeStateApplied",[G,Q],Object.getOwnPropertyDescriptor(ie.prototype,"onBeforeStateApplied"),ie.prototype),ye(ie.prototype,"onAfterStateApplied",[J,W],Object.getOwnPropertyDescriptor(ie.prototype,"onAfterStateApplied"),ie.prototype),ye(ie.prototype,"applyAdditionalStates",[X,Y],Object.getOwnPropertyDescriptor(ie.prototype,"applyAdditionalStates"),ie.prototype),ye(ie.prototype,"_applyNavigationParametersToFilterbar",[Z],Object.getOwnPropertyDescriptor(ie.prototype,"_applyNavigationParametersToFilterbar"),ie.prototype),ye(ie.prototype,"applyNavigationParameters",[ee,te],Object.getOwnPropertyDescriptor(ie.prototype,"applyNavigationParameters"),ie.prototype),ye(ie.prototype,"applyControlState",[re,ne],Object.getOwnPropertyDescriptor(ie.prototype,"applyControlState"),ie.prototype),ie))||oe);return Ce},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/ActivityBase", ["sap/base/Log","sap/base/util/UriParameters","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/ui/core/ws/SapPcpWebSocket"],function(e,t,o,r){"use strict";var a={};var n=r.SUPPORTED_PROTOCOLS;var c=o.Activity;var i="/collaboration";var s="/collaboration/connected";var l="/collaboration/connection";var u="/collaboration/DraftID";function f(e){return!!e.getProperty(s)}a.isCollaborationConnected=f;function d(o,r,a,n,c,f){var d=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;if(c.getProperty(l)){if(c.getProperty(u)===a){return}else{v(c)}}var p=[o];c.setProperty(i,{activeUsers:p,activities:{}});d=d||t.fromQuery(window.location.search).get("useFLPUser")==="true";var b=P(o,r,a,n,d);c.setProperty(l,b);c.setProperty(u,a);b.attachMessage(function(e){var t=e.getParameter("pcpFields");f(t)});b.attachOpen(function(){c.setProperty(s,true)});b.attachError(function(){e.error("The connection to the websocket channel ".concat(r," could not be established"));c.setProperty(s,false)});b.attachClose(function(){c.setProperty(s,false)})}a.initializeCollaboration=d;function p(e,t,o){if(f(o)){var r=o.getProperty(l);r.send("",{clientAction:e,clientContent:t});if(e===c.Activate||e===c.Discard){v(o)}}}a.broadcastCollaborationMessage=p;function v(e){var t=e.getProperty(l);t===null||t===void 0?void 0:t.close();e.setProperty(l,null);e.setProperty(u,undefined)}a.endCollaboration=v;function P(e,o,a,c){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var s=window.location;var l;var u=t.fromQuery(window.location.search).get("useBackendUrl");if(u){l=u.replace("https","wss")}else{l=s.protocol==="https:"?"wss:":"ws:";l+="//".concat(s.host)}l+="".concat((o.startsWith("/")?"":"/")+o,"?draft=").concat(a,"&relatedService=").concat(c);if(i){l+="&userID=".concat(encodeURI(e.id),"&userName=").concat(encodeURI(e.initialName||""))}return new r(l,[n.v10])}return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/ActivitySync", ["sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/ActivityBase","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/m/MessageBox"],function(e,t,r,n){"use strict";var o={};var i=r.CollaborationUtils;var a=r.Activity;var l=t.isCollaborationConnected;var c=t.initializeCollaboration;var s=t.endCollaboration;var u=t.broadcastCollaborationMessage;function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t,r){t=d(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function d(e){var t=p(e,"string");return typeof t==="symbol"?t:String(t)}function p(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C="/collaboration/myActivity";var b="/collaboration/activeUsers";var y="/collaboration/activities";var P=function(e){var t=e.getModel("internal");return l(t)};o.isConnected=P;var m=function(e,t,r){if(P(e)){var n=e.getModel("internal");var o=Array.isArray(r)?r.join("|"):r;if(t===a.LiveChange){var i=n.getProperty(C);if(i===o){return}else{n.setProperty(C,o)}}else{n.setProperty(C,null)}u(t,o,n)}};o.send=m;var O=function(e){return e.getModel().getMetaModel().getObject("/@com.sap.vocabularies.Common.v1.WebSocketBaseURL")};var h=function(e){var t=(e===null||e===void 0?void 0:e.getBindingContext)&&e.getBindingContext();return!!(t&&O(t))};o.isCollaborationEnabled=h;var A=function(e){try{var t=e.getModel("internal");var r=i.getMe(e);if(!r){return Promise.resolve()}var n=e.getBindingContext();var o=O(n);var a=n.getModel().getServiceUrl();if(!o){return Promise.resolve()}return Promise.resolve(n.requestProperty("DraftAdministrativeData/DraftUUID")).then(function(n){if(!n){return}c(r,o,n,a,t,function(t){D(t,e)})})}catch(e){return Promise.reject(e)}};o.connect=A;var M=function(e){var t=e.getModel("internal");s(t)};o.disconnect=M;function D(e,t){var r,o;var l=t.getModel("internal");var c=l.getProperty(b);var s;var v;var g=e.clientContent&&t.getModel().getMetaModel().getMetaPath(e.clientContent);e.userAction=e.userAction||e.clientAction;var d={id:e.userID,name:e.userDescription,initials:i.formatInitials(e.userDescription),color:i.getUserColor(e.userID,c,[])};var p=d;switch(e.userAction){case a.Join:case a.JoinEcho:if(c.findIndex(function(e){return e.id===d.id})===-1){c.unshift(d);l.setProperty(b,c)}if(e.userAction===a.Join){u(a.JoinEcho,l.getProperty(C),l)}if(e.userAction===a.JoinEcho){if(e.clientContent){e.userAction=a.LiveChange;D(e,t)}}break;case a.Leave:c=c.filter(function(e){return e.id!==d.id||e.me});l.setProperty(b,c);var P=l.getProperty(y)||{};var m=function(e){if(Array.isArray(e)){return e.filter(function(e){return e.id!==d.id})}else{for(var t in e){e[t]=m(e[t])}return e}};m(P);l.setProperty(y,P);break;case a.Change:var O=e===null||e===void 0?void 0:(r=e.clientContent)===null||r===void 0?void 0:r.split("|").map(function(e){return t.getModel().getMetaModel().getMetaPath(e)});O.forEach(function(r,n){var o,i;var c=f(f({},e),{},{clientContent:e===null||e===void 0?void 0:(o=e.clientContent)===null||o===void 0?void 0:o.split("|")[n]});var s=l.getProperty(y+r)||[];v=k(c.clientContent);s=((i=s)===null||i===void 0?void 0:i.filter)&&s.filter(function(e){return e.key!==v});if(s){l.setProperty(y+r,s);x(t,c,r,a.Change)}});break;case a.Create:x(t,e,g,a.Create);break;case a.Delete:x(t,e,g,a.Delete);break;case a.Activate:M(t);n.information(i.getText("C_COLLABORATIONDRAFT_ACTIVATE",d.name));E(e.clientContent,t);break;case a.Discard:M(t);n.information(i.getText("C_COLLABORATIONDRAFT_DISCARD",d.name));E(e.clientContent,t);break;case a.LiveChange:p=d;p.key=k(e.clientContent);var h="";var A=g.split("/");for(var j=1;j<A.length-1;j++){h+="/".concat(A[j]);if(!l.getProperty(y+h)){l.setProperty(y+h,{})}}s=l.getProperty(y+g);s=(o=s)!==null&&o!==void 0&&o.slice?s.slice():[];s.push(p);l.setProperty(y+g,s);break;case a.Undo:s=l.getProperty(y+g);v=k(e.clientContent);l.setProperty(y+g,s.filter(function(e){return e.key!==v}));break}}function x(e,t,r,o){var l=i.getAppComponent(e);var c=e.getModel().getMetaModel();var s=j(e);var u=l.getSideEffectsService();var v=s.getBindingContext();var f=v.getPath();var g=c.getMetaPath(f);var d=t.clientContent;if(o===a.Delete){var p=t.clientContent.split("|");var C=p.findIndex(function(e){return f.startsWith(e)});if(C>-1){n.information(i.getText("C_COLLABORATIONDRAFT_DELETE",t.userDescription),{onClose:function(){var t=e.getModel().bindContext(p[C]).getBoundContext();s.getController()._routing.navigateBackFromContext(t)}})}d=p[0]}if(d.startsWith(f)){var b=r.replace(g,"").slice(1);if(b){(function(){var e=[{$PropertyPath:b}];var t=u.getEntityTypeFromContext(v);var r=u.getODataEntitySideEffects(t);var n=Object;var o=n.fromEntries(n.entries(r).filter(function(e){var t;return((t=e[1].SourceProperties)===null||t===void 0?void 0:t.findIndex(function(e){return e.value===b}))>-1}));for(var i in o){o[i].TargetProperties.forEach(function(t){e.push({$PropertyPath:t})})}u.requestSideEffects(e,v,"$auto")})()}}s.getController().editFlow.updateDocument(v,Promise.resolve())}function E(e,t){var r=j(t);var n=t.getModel().bindContext(e).getBoundContext();r.getController().routing.navigate(n)}function j(t){var r=i.getAppComponent(t);return e.getCurrentPageView(r)}function k(e){return e.substring(e.lastIndexOf("(")+1,e.lastIndexOf(")"))}return{connect:A,disconnect:M,isConnected:P,isCollaborationEnabled:h,send:m}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/CollaborationCommon", ["sap/ui/core/Component","sap/ui/core/Core"],function(e,t){"use strict";var r={};var n;(function(e){e[e["NotYetInvited"]=0]="NotYetInvited";e[e["NoChangesMade"]=1]="NoChangesMade";e[e["ChangesMade"]=2]="ChangesMade";e[e["CurrentlyEditing"]=3]="CurrentlyEditing"})(n||(n={}));r.UserStatus=n;var o;(function(e){e["NoChanges"]="N";e["InProgress"]="P"})(o||(o={}));r.UserEditingState=o;var a;(function(e){e["Join"]="JOIN";e["JoinEcho"]="JOINECHO";e["Leave"]="LEAVE";e["Change"]="CHANGE";e["Create"]="CREATE";e["Delete"]="DELETE";e["Action"]="ACTION";e["LiveChange"]="LIVECHANGE";e["Activate"]="ACTIVATE";e["Discard"]="DISCARD";e["Undo"]="UNDO"})(a||(a={}));r.Activity=a;function i(e){var t=["Dr.","Prof.","Prof. Dr.","B.A.","MBA","Ph.D."];t.forEach(function(t){e=e.replace(t,"")});var r;var n=e.trimStart().split(" ");if(n.length>1){var o,a;r=((n===null||n===void 0?void 0:(o=n.shift())===null||o===void 0?void 0:o.charAt(0))||"")+((a=n.pop())===null||a===void 0?void 0:a.charAt(0))}else{r=e.substring(0,2)}return r.toUpperCase()}function u(e,t,r){var n=t.find(function(t){return t.id===e});if(n){return n.color}else{var o=function(e){if(t.findIndex(function(t){return t.color===e})===-1&&r.findIndex(function(t){return t.color===e})===-1){return{v:e}}};for(var a=1;a<=10;a++){var i=o(a);if(typeof i==="object")return i.v}return 10}}function c(t){if(t.isA("sap.fe.core.AppComponent")){return t}var r=e.getOwnerComponentFor(t);if(!r){return t}else{return c(r)}}function s(e){var t=c(e).getShellServices();if(!t||!t.hasUShell()){throw"No Shell... No User"}return{initials:t.getUser().getInitials(),id:t.getUser().getId(),name:"".concat(t.getUser().getFullName()," (").concat(l("C_COLLABORATIONDRAFT_YOU"),")"),initialName:t.getUser().getFullName(),color:6,me:true,status:n.CurrentlyEditing}}function l(e){var r=t.getLibraryResourceBundle("sap.fe.core");for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++){o[a-1]=arguments[a]}return r.getText(e,o)}r.getText=l;var v={formatInitials:i,getUserColor:u,getMe:s,getAppComponent:c,getText:l};r.CollaborationUtils=v;function f(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var r=e.getModel();var n=r.getMetaModel();var o=n.getMetaPath(e);var a=n.getObject("".concat(o,"@com.sap.vocabularies.Common.v1.DraftRoot/ShareAction"));var i=r.bindContext("".concat(a,"(...)"),e);i.setParameter("Users",t);i.setParameter("ShareAll",true);return i.execute()}r.shareObject=f;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/Manage", ["sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/m/MessageToast","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/library"],function(e,t,r,n,o){"use strict";var a={};var i=e.UserStatus;var s=e.UserEditingState;var c=e.shareObject;var l=e.getText;var u=e.CollaborationUtils;var d=function(e){try{var t=n.load({id:"manageCollaborationDraft",name:"sap.fe.core.controllerextensions.collaboration.UserDetails"});return Promise.resolve(t.then(function(t){e.addDependent(t);return t}).catch(function(){throw"not this time"}))}catch(e){return Promise.reject(e)}};var v=function(e,t){try{function a(){n.setBindingContext(r.getBindingContext("internal"),"internal");n.openBy(r,false)}var r=e.getSource();var n=p("userDetails");var o=function(){if(!n){return Promise.resolve(d(t)).then(function(e){n=e})}}();return Promise.resolve(o&&o.then?o.then(a):a(o))}catch(i){return Promise.reject(i)}};a.showUserDetails=v;var g=function(e){try{var t=e.getModel();var r={$select:"UserID,UserDescription,UserEditingState"};var n=t.bindList("DraftAdministrativeData/DraftAdministrativeUser",e.getBindingContext(),[],[],r);var o=e.getBindingContext("internal");return Promise.resolve(n.requestContexts(0,100).then(function(t){var r=[];var n=e.getModel("internal").getProperty("/collaboration/activeUsers")||[];var a=u.getMe(e);var c;if((t===null||t===void 0?void 0:t.length)>0){t.forEach(function(e){var t=e.getObject();var o=(a===null||a===void 0?void 0:a.id)===t.UserID;var l=n.find(function(e){return e.id===t.UserID});var d=t.UserDescription||t.UserID;var v=u.formatInitials(d);d+=o?" (".concat(u.getText("C_COLLABORATIONDRAFT_YOU"),")"):"";switch(t.UserEditingState){case s.NoChanges:c=l?i.CurrentlyEditing:i.NoChangesMade;break;case s.InProgress:c=l?i.CurrentlyEditing:i.ChangesMade;break;default:c=i.NotYetInvited}var g={id:t.UserID,name:d,status:c,color:u.getUserColor(t.UserID,n,r),initials:v,me:o};r.push(g)})}else{r.push(a)}o.setProperty("collaboration/UserID","");o.setProperty("collaboration/UserDescription","");o.setProperty("collaboration/invitedUsers",r)}).catch(function(){}))}catch(e){return Promise.reject(e)}};a.readInvitedUsers=g;var f=function(e){try{var t=e.getController().getExtensionAPI().loadFragment({name:"sap.fe.core.controllerextensions.collaboration.ManageDialog",id:"manageCollaborationDraft",controller:{share:O,addUser:U,removeUser:m,close:A,addUserChanged:I,formatUserStatus:T,formatUserStatusColor:P}});return Promise.resolve(t.then(function(t){e.addDependent(t);return t}).catch(function(){throw"not this time"}))}catch(e){return Promise.reject(e)}};var C=o.ValueState;var h=function(e){try{function n(){return Promise.resolve(g(e)).then(function(){t.open()})}var t=p("dialog");var r=function(){if(!t){return Promise.resolve(f(e)).then(function(e){t=e})}}();return Promise.resolve(r&&r.then?r.then(n):n(r))}catch(o){return Promise.reject(o)}};a.openManageDialog=h;function U(e){var t=e.getSource();var r=t.getBindingContext("internal");var n=r.getProperty("invitedUsers")||[];var o=t.getModel("internal").getProperty("/collaboration/activeUsers");var a={id:r===null||r===void 0?void 0:r.getProperty("UserID"),name:r===null||r===void 0?void 0:r.getProperty("UserDescription")};if(!(n.findIndex(function(e){return e.id===a.id})>-1||a.id===a.name&&a.id==="")){a.name=a.name||a.id;a.initials=u.formatInitials(a.name);a.color=u.getUserColor(a.id,o,n);a.transient=true;a.status=i.NotYetInvited;n.unshift(a);r.setProperty("invitedUsers",n);r.setProperty("UserID","");r.setProperty("UserDescription","")}}function I(e){var t=e.getSource();e.getParameter("promise").then(function(e){var r=t.getBindingContext("internal");var n=r.getProperty("invitedUsers")||[];if(n.findIndex(function(t){return t.id===e})>-1){t.setValueState("Error");t.setValueStateText(l("C_COLLABORATIONDRAFT_INVITATION_USER_ERROR"))}else{t.setValueState("None");t.setValueStateText("")}}).catch(function(){throw"User couldn't be determined at all"})}function m(e){D(e.getSource())}function D(e){var t=e.getBindingContext("pageInternal");var r=e.getBindingContext("internal").getProperty("id");var n=t.getProperty("collaboration/invitedUsers");n=n.filter(function(e){return e.id!==r});t.setProperty("collaboration/invitedUsers",n)}function p(e){return r.byId("manageCollaborationDraft--".concat(e))}function A(){p("dialog").close()}function O(e){var r=[];var n=e.getSource();var o=n.getBindingContext();var a=p("userList").getBinding("items").getContexts();a.forEach(function(e){r.push({UserID:e.getProperty("id"),UserAccessRole:"O"})});c(o,r).then(function(){t.show(l("C_COLLABORATIONDRAFT_INVITATION_SUCCESS_TOAST"))}).catch(function(){t.show(l("C_COLLABORATIONDRAFT_INVITATION_FAILED_TOAST"))});A()}function T(e){switch(e){case i.CurrentlyEditing:return l("C_COLLABORATIONDRAFT_USER_CURRENTLY_EDITING");case i.ChangesMade:return l("C_COLLABORATIONDRAFT_USER_CHANGES_MADE");case i.NoChangesMade:return l("C_COLLABORATIONDRAFT_USER_NO_CHANGES_MADE");case i.NotYetInvited:default:return l("C_COLLABORATIONDRAFT_USER_NOT_YET_INVITED")}}function P(e){switch(e){case i.CurrentlyEditing:return C.Success;case i.ChangesMade:return C.Warning;case i.NoChangesMade:case i.NotYetInvited:default:return C.Information}}return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/TransactionHelper", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/controllerextensions/editFlow/operations","sap/fe/core/controllerextensions/editFlow/sticky","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/library","sap/m/Button","sap/m/CheckBox","sap/m/Dialog","sap/m/MessageBox","sap/m/MessageToast","sap/m/Popover","sap/m/Text","sap/m/VBox","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/model/json/JSONModel","../../helpers/ToES6Promise"],function(e,t,n,r,o,a,i,s,c,l,u,f,d,C,g,v,h,_,E,m,T,p,P,x,b){"use strict";function O(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}function A(e,t){try{var n=e()}catch(e){return t(true,e)}if(n&&n.then){return n.then(t.bind(null,false),t.bind(null,true))}return t(false,n)}function N(e,t,n){if(!e.s){if(n instanceof D){if(n.s){if(t&1){t=n.s}n=n.v}else{n.o=N.bind(null,e,t);return}}if(n&&n.then){n.then(N.bind(null,e,t),N.bind(null,e,2));return}e.s=t;e.v=n;var r=e.o;if(r){r(e)}}}var D=function(){function e(){}e.prototype.then=function(t,n){var r=new e;var o=this.s;if(o){var a=o&1?t:n;if(a){try{N(r,1,a(this.v))}catch(e){N(r,2,e)}return r}else{return this}}this.o=function(e){try{var o=e.v;if(e.s&1){N(r,1,t?t(o):o)}else if(n){N(r,1,n(o))}else{N(r,2,o)}}catch(e){N(r,2,e)}};return r};return e}();function I(e,t){var n=-1;var r;e:{for(var o=0;o<t.length;o++){var a=t[o][0];if(a){var i=a();if(i&&i.then){break e}if(i===e){n=o;break}}else{n=o}}if(n!==-1){do{var s=t[n][1];while(!s){n++;s=t[n][1]}var c=s();if(c&&c.then){r=true;break e}var l=t[n][2];n++}while(l&&!l());return c}}var u=new D;var f=N.bind(null,u,2);(r?c.then(C):i.then(d)).then(void 0,f);return u;function d(r){for(;;){if(r===e){n=o;break}if(++o===t.length){if(n!==-1){break}else{N(u,1,s);return}}a=t[o][0];if(a){r=a();if(r&&r.then){r.then(d).then(void 0,f);return}}else{n=o}}do{var i=t[n][1];while(!i){n++;i=t[n][1]}var s=i();if(s&&s.then){s.then(C).then(void 0,f);return}var c=t[n][2];n++}while(c&&!c());N(u,1,s)}function C(e){for(;;){var r=t[n][2];if(!r||r()){break}n++;var o=t[n][1];while(!o){n++;o=t[n][1]}e=o();if(e&&e.then){e.then(C).then(void 0,f);return}}N(u,1,e)}}var S=l.CreationMode;var M=l.ProgrammingModel;var L=T.ValueState;function R(e){if(e&&e.getMetadata&&e.getMetadata().getName()==="sap.ui.base.Event"){e={}}return e||{}}var y=function(){function N(e,t){this._bIsModified=false;this._bCreateMode=false;this._bContinueDiscard=false;this._oAppComponent=e;this.oLockObject=t}var D=N.prototype;D.getProgrammingModel=function e(t){if(!this.sProgrammingModel&&t){var n;if(t.isA("sap.ui.model.odata.v4.Context")){n=t.getPath()}else{n=t.isRelative()?t.getResolvedPath():t.getPath()}if(c.isDraftSupported(t.getModel().getMetaModel(),n)){this.sProgrammingModel=M.Draft}else if(c.isStickySessionSupported(t.getModel().getMetaModel())){this.sProgrammingModel=M.Sticky}else{return M.NonDraft}}return this.sProgrammingModel};D.validateDocument=function e(t,n,r){var o=n&&n.customValidationFunction;if(o){var a=o.substring(0,o.lastIndexOf(".")||-1).replace(/\./gi,"/"),i=o.substring(o.lastIndexOf(".")+1,o.length),c=n.data;delete c["@$ui5.context.isTransient"];return s.validationWrapper(a,i,c,r,t)}return Promise.resolve([])};D.createDocument=function r(a,i,s,u){var f=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var d=arguments.length>5?arguments[5]:undefined;try{var C=false;var g=this;var v=a.getModel(),h=v.getMetaModel(),_=h.getMetaPath(a.getHeaderContext().getPath()),m=g._getAppComponent().getRouterProxy().getHash(),T=g._getAppComponent().getComponentData(),p=T&&T.startupParameters||{},P=!a.isRelative()?g._getNewAction(p,m,h,_):undefined;var x={$$patchWithoutSideEffects:true};var N=h.getObject("".concat(_,"/@com.sap.vocabularies.Common.v1.Messages/$Path"));var D="/busy";var I=h.getObject("".concat(_,"@com.sap.vocabularies.Common.v1.DefaultValuesFunction"))||h.getObject("".concat(c.getTargetEntitySet(h.getContext(_)),"@com.sap.vocabularies.Common.v1.DefaultValuesFunction"));var L;var y;if(I){if(h.getObject("".concat(_,"@com.sap.vocabularies.Common.v1.DefaultValuesFunction"))&&c.getTargetEntitySet(h.getContext(_))!==_){L=true}else{L=false}}if(N){x["$select"]=N}var w=R(i);if(!a){throw new Error("Binding required for new document creation")}var B=g.getProgrammingModel(a);if(B!==M.Draft&&B!==M.Sticky){throw new Error("Create document only allowed for draft or sticky session supported services")}if(w.busyMode==="Local"){D="/busyLocal/".concat(w.busyId)}w.beforeCreateCallBack=f?null:w.beforeCreateCallBack;n.lock(g.oLockObject,D);var k=E.getLibraryResourceBundle("sap.fe.core");var H;return Promise.resolve(A(function(){return O(function(){function n(e){if(C)return e;if(!a.isRelative()){g._bCreateMode=true}y=y||H;if(r){g.handleDocumentModifications()}return Promise.resolve(u.showMessageDialog()).then(function(){return y})}var r=false;var i=function(){if(P){r=true;return Promise.resolve(g.callAction(P,{contexts:a.getHeaderContext(),showActionParameterDialog:true,label:g._getSpecificCreateActionDialogLabel(h,_,P,k),bindingParameters:x,parentControl:w.parentControl,bIsCreateAction:true,skipParameterDialog:w.skipParameterDialog},null,u)).then(function(e){H=e})}else{var n=w.creationMode!==S.CreationRow&&w.creationMode!==S.Inline;var i=n?t.getNonComputedVisibleFields(h,_,d):[];I=f?null:I;var s,c;if(I){if(L){s=a.getContext()&&"".concat(h.getMetaPath(a.getContext().getPath()),"/").concat(I);c=a.getContext()}else{s=a.getHeaderContext()&&"".concat(h.getMetaPath(a.getHeaderContext().getPath()),"/").concat(I);c=a.getHeaderContext()}}var l=s&&h.createBindingContext(s);return O(function(){function t(e){if(C)return e;w.data=n?Object.assign({},n,w.data):w.data;if(w.data){delete w.data["@odata.context"]}var t=function(){if(i.length>0){return Promise.resolve(g._launchDialogWithKeyFields(a,i,v,w,u)).then(function(e){H=e;y=H.newContext})}else{function t(){y=a.create(w.data,true,w.createAtEnd,w.inactive);var e=function(){if(!w.inactive){return Promise.resolve(g.onAfterCreateCompletion(a,y,w)).then(function(e){H=e})}}();if(e&&e.then)return e.then(function(){})}var e=function(){if(w.beforeCreateCallBack){return Promise.resolve(b(w.beforeCreateCallBack({contextPath:a&&a.getPath()}))).then(function(){})}}();return e&&e.then?e.then(t):t(e)}}();if(t&&t.then)return t.then(function(){})}var n;var r=O(function(){return Promise.resolve(l&&l.getObject()&&l.getObject()[0].$IsBound?o.callBoundFunction(I,c,v):o.callFunctionImport(I,v)).then(function(e){if(e){n=e.getObject()}})},function(t){e.error("Error while executing the function ".concat(I),t);throw t});return r&&r.then?r.then(t):t(r)},function(t){e.error("Error while creating the new document",t);throw t})}}();return i&&i.then?i.then(n):n(i)},function(e){return Promise.resolve(u.showMessageDialog()).then(function(){var t;if((e===l.Constants.ActionExecutionFailed||e===l.Constants.CancelActionDialog)&&(t=y)!==null&&t!==void 0&&t.isTransient()){y.delete("$direct")}throw e})})},function(e,t){n.unlock(g.oLockObject,D);if(e)throw t;return t}))}catch(e){return Promise.reject(e)}};D.findActiveDraftRootContexts=function e(t,n){if(!n){return Promise.resolve()}var r=t.reduce(function(e,t){var n=t.getModel().getMetaModel();var r=n.getMetaPath(t.getPath());if(n.getObject("".concat(r,"@com.sap.vocabularies.Common.v1.DraftRoot"))){var o=t.getObject().IsActiveEntity,a=t.getObject().HasActiveEntity;if(!o&&a){var i=t.getModel().bindContext("".concat(t.getPath(),"/SiblingEntity")).getBoundContext();e.push(i)}}return e},[]);return Promise.all(r.map(function(e){return e.requestCanonicalPath().then(function(){return e})}))};D.afterDeleteProcess=function e(n,r,o,a){var i=n.internalModelContext;if(i&&i.getProperty("deleteEnabled")!=undefined){if(r.isCheckBoxVisible===true&&r.isCheckBoxSelected===false){i.setProperty("deleteEnabled",true);var s=Object.assign(i.getObject(),{});s.selectedContexts=s.selectedContexts.filter(function(e){return s.deletableContexts.indexOf(e)===-1});s.deletableContexts=[];s.selectedContexts=[];s.numberOfSelectedContexts=s.selectedContexts.length;i.setProperty("",s)}else{i.setProperty("deleteEnabled",false);i.setProperty("selectedContexts",[]);i.setProperty("numberOfSelectedContexts",0)}}if(o.length===1){g.show(t.getTranslatedText("C_TRANSACTION_HELPER_DELETE_TOAST_SINGULAR",a,null,n.entitySetName))}else{g.show(t.getTranslatedText("C_TRANSACTION_HELPER_DELETE_TOAST_PLURAL",a,null,n.entitySetName))}};D.deleteDocument=function e(o,a,s,c){var l=this;var g=[],v=false,m=false,T=false,p,P=false;var x=this,b=E.getLibraryResourceBundle("sap.fe.core");var N;var D={title:b.getText("C_COMMON_DELETE")};n.lock(this.oLockObject);var I;if(Array.isArray(o)){I=o}else{I=[o]}return new Promise(function(e,o){try{var E=l.getProgrammingModel(I[0]);if(a){if(!a.numberOfSelectedContexts){if(E===M.Draft){for(var S=0;S<I.length;S++){var L=I[S].getObject();if(L.IsActiveEntity===true&&L.HasDraftEntity===true&&L.DraftAdministrativeData&&L.DraftAdministrativeData.InProcessByUser&&!L.DraftAdministrativeData.DraftIsCreatedByMe){var y="";var w=L&&L.DraftAdministrativeData;if(w){y=w["InProcessByUser"]}N=[y];C.show(t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_SINGLE_OBJECT_LOCKED",s,N),{title:b.getText("C_COMMON_DELETE"),onClose:o});return}}}a=R(a);if(a.title){if(a.description){N=[a.title+" ",a.description]}else{N=[a.title,""]}D.text=t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO",s,N,a.entitySetName)}else{D.text=t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",s,null,a.entitySetName)}g=I}else{D={title:b.getText("C_COMMON_DELETE")};if(a.numberOfSelectedContexts===1&&a.numberOfSelectedContexts===I.length){g=I;var B=I[0].getObject();var k=a.parentControl;var H=k&&k.getParent().getIdentifierColumn();if(H){var F=H?B[H]:undefined;var j=a.description&&a.description.path?B[a.description.path]:undefined;if(F){if(j&&a.description&&H!==a.description.path){N=[F+" ",j]}else{N=[F,""]}D.text=t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO",s,N,a.entitySetName)}else if(F){N=[F,""];D.text=t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO",s,N,a.entitySetName)}else{D.text=t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",s,null,a.entitySetName)}}else{D.text=t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",s,null,a.entitySetName)}}else if(a.numberOfSelectedContexts===1&&a.unSavedContexts.length===1){g=a.unSavedContexts;var U=g[0].getObject()["DraftAdministrativeData"];var W="";if(U){W=U["LastChangedByUserDescription"]||U["LastChangedByUser"]||""}N=[W];D.text=t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_CHANGES",s,N)}else if(a.numberOfSelectedContexts===a.unSavedContexts.length){g=a.unSavedContexts;D.text=t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_CHANGES_MULTIPLE_OBJECTS",s)}else if(a.numberOfSelectedContexts===I.concat(a.unSavedContexts.concat(a.lockedContexts)).length){g=I.concat(a.unSavedContexts);D.text=g.length===1?t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",s,null,a.entitySetName):t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_PLURAL",s,null,a.entitySetName)}else{g=I.concat(a.unSavedContexts);T=true;D.text=g.length===1?t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR_NON_DELETABLE",s,null,a.entitySetName):t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_PLURAL_NON_DELETABLE",s,[g.length],a.entitySetName);D.nonDeletableText=x._getNonDeletableText(a,I,s)}if(a.lockedContexts.length==1){m=true;D.nonDeletableText=t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_ONE_OBJECT_LOCKED",s,[a.numberOfSelectedContexts])}if(a.lockedContexts.length>1){m=true;D.nonDeletableText=t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_LOCKED",s,[a.lockedContexts.length,a.numberOfSelectedContexts])}if(a.unSavedContexts.length>0&&a.unSavedContexts.length!==a.numberOfSelectedContexts){if((T||m)&&g.length===a.unSavedContexts.length){v=false;g=a.unSavedContexts;if(a.unSavedContexts.length===1){D.text=t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_AND_FEW_OBJECTS_LOCKED_SINGULAR",s)}else{D.text=t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_AND_FEW_OBJECTS_LOCKED_PLURAL",s)}}else{if(a.unSavedContexts.length===1){D.checkBoxText=t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_UNSAVED_SINGULAR",s)}else{D.checkBoxText=t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_UNSAVED_PLURAL",s)}v=true}}if(T&&m){var V=x._getNonDeletableText(a,I,s);if(a.unSavedContexts.length>1){D.nonDeletableText=V+" "+t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_LOCKED",s,[a.lockedContexts.length,a.numberOfSelectedContexts])}if(a.unSavedContexts.length==1){D.nonDeletableText=V+" "+t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_ONE_OBJECT_LOCKED",s,[a.numberOfSelectedContexts])}}}}var J,G;var K=new _({items:[J=new h({text:D.nonDeletableText,visible:m||T}),G=new h({text:D.text}),new f({text:D.checkBoxText,selected:true,select:function(e){var t=e.getSource().getSelected();if(t){g=I.concat(a.unSavedContexts);p=true}else{g=I;p=false}},visible:v})]});var q=b.getText("C_COMMON_DELETE");var $=function(){try{P=true;n.lock(x.oLockObject);var t=g;return Promise.resolve(A(function(){return O(function(){function n(){return Promise.resolve(x.findActiveDraftRootContexts(t,a.bFindActiveContexts)).then(function(n){var o=false;function i(r){if(o)return r;var i={isCheckBoxVisible:v,isCheckBoxSelected:p};var l=function(){if(n&&n.length){return Promise.resolve(Promise.all(n.map(function(e){return e.delete()}))).then(function(){x.afterDeleteProcess(a,i,t,s);return Promise.resolve(c.showMessageDialog()).then(function(){e()})})}else{x.afterDeleteProcess(a,i,t,s);return Promise.resolve(c.showMessageDialog()).then(function(){e()})}}();if(l&&l.then)return l.then(function(){})}var l=O(function(){return Promise.resolve(Promise.all(t.map(function(e){var n=t.length===1?true:false;return r.deleteDraft(e,x._oAppComponent,n)}))).then(function(){})},function(e){return Promise.resolve(c.showMessages()).then(function(){throw e})});return l&&l.then?l.then(i):i(l)})}var o=function(){if(a.beforeDeleteCallBack){return Promise.resolve(a.beforeDeleteCallBack({contexts:t})).then(function(){})}}();return o&&o.then?o.then(n):n(o)},function(){o()})},function(e,t){n.unlock(x.oLockObject);if(e)throw t;return t}))}catch(e){return Promise.reject(e)}};var z=new d({title:q,state:"Warning",content:[K],ariaLabelledBy:J.getVisible()?[J,G]:G,beginButton:new u({text:b.getText("C_COMMON_DELETE"),type:"Emphasized",press:function(){i.removeBoundTransitionMessages();z.close();$()}}),endButton:new u({text:t.getTranslatedText("C_COMMON_DIALOG_CANCEL",s),press:function(){z.close()}}),afterClose:function(){z.destroy();if(!P){o()}}});if(a.noDialog){$()}else{z.addStyleClass("sapUiContentPadding");z.open()}}finally{n.unlock(x.oLockObject)}})};D.editDocument=function e(t,o,i){try{var s=this;var c=s;var l=s.getProgrammingModel(t);if(!t){throw new Error("Binding context to active document is required")}if(l!==M.Draft&&l!==M.Sticky){throw new Error("Edit is only allowed for draft or sticky session supported services")}s._bIsModified=false;n.lock(c.oLockObject);i.removeTransitionMessages();return Promise.resolve(A(function(){return O(function(){return Promise.resolve(l===M.Draft?r.createDraftFromActiveDocument(t,s._getAppComponent(),{bPreserveChanges:true,oView:o}):a.editDocumentInStickySession(t,s._getAppComponent())).then(function(e){s._bCreateMode=false;return Promise.resolve(i.showMessageDialog()).then(function(){return e})})},function(e){return Promise.resolve(i.showMessages({concurrentEditFlag:true})).then(function(){throw e})})},function(e,t){n.unlock(c.oLockObject);if(e)throw t;return t}))}catch(e){return Promise.reject(e)}};D.cancelDocument=function e(t,o,i,s){try{var c=this;if(!t){throw new Error("No context exists. Pass a meaningful context")}n.lock(c.oLockObject);var l=R(o);var u=t.getModel();var f=c.getProgrammingModel(t);return Promise.resolve(A(function(){return O(function(){function e(){function e(){function e(){var e=false,o=false;function i(t){if(e)return t;c._bIsModified=false;s.removeTransitionMessages();return Promise.resolve(s.showMessages()).then(function(){return n})}var l=I(f,[[function(){return M.Draft},function(){return Promise.resolve(t.requestObject("HasActiveEntity")).then(function(e){function a(){o=true}var i=function(){if(!e){if(t&&t.hasPendingChanges()){t.getBinding().resetChanges()}return Promise.resolve(r.deleteDraft(t,c._oAppComponent)).then(function(e){n=e})}else{var o=u.bindContext("".concat(t.getPath(),"/SiblingEntity")).getBoundContext();var a=A(function(){return Promise.resolve(o.requestCanonicalPath()).then(function(e){if(t&&t.hasPendingChanges()){t.getBinding().resetChanges()}n=u.bindContext(e).getBoundContext()})},function(e,n){return Promise.resolve(r.deleteDraft(t,c._oAppComponent)).then(function(){if(e)throw n;return n})});if(a&&a.then)return a.then(function(){})}}();return i&&i.then?i.then(a):a(i)})}],[function(){return M.Sticky},function(){return Promise.resolve(a.discardDocument(t)).then(function(e){if(e){if(e.hasPendingChanges()){e.getBinding().resetChanges()}if(!c._bCreateMode){e.refresh();n=e}}o=true})}],[void 0,function(){throw new Error("Cancel document only allowed for draft or sticky session supported services")}]]);return l&&l.then?l.then(i):i(l)}if(t.isKeepAlive()){t.setKeepAlive(true,undefined)}var o=function(){if(l.beforeCancelCallBack){return Promise.resolve(l.beforeCancelCallBack({context:t})).then(function(){})}}();return o&&o.then?o.then(e):e(o)}var o=function(){if(!l.skipDiscardPopover){return Promise.resolve(c._showDiscardPopover(l.cancelButton,c._bIsModified,i)).then(function(){})}}();return o&&o.then?o.then(e):e(o)}var n=false;var o=function(){if(f===M.Draft&&!c._bIsModified){var e=u.bindContext("".concat(t.getPath(),"/DraftAdministrativeData")).getBoundContext();return Promise.resolve(e.requestObject()).then(function(e){if(e){c._bIsModified=!(e.CreationDateTime===e.LastChangeDateTime)}})}}();return o&&o.then?o.then(e):e(o)},function(e){return Promise.resolve(s.showMessages()).then(function(){throw e})})},function(e,t){n.unlock(c.oLockObject);if(e)throw t;return t}))}catch(e){return Promise.reject(e)}};D.saveDocument=function e(o,s,c,l,u){try{var f=this;if(!o){return Promise.reject(new Error("Binding context to draft document is required"))}var d=f.getProgrammingModel(o);if(d!==M.Sticky&&d!==M.Draft){throw new Error("Save is only allowed for draft or sticky session supported services")}u.removeTransitionMessages();return Promise.resolve(A(function(){return O(function(){n.lock(f.oLockObject);return Promise.resolve(d===M.Draft?r.activateDocument(o,f._getAppComponent(),{},u):a.activateDocument(o,f._getAppComponent())).then(function(e){var n=d===M.Sticky?f._bCreateMode:!o.getObject().HasActiveEntity;var r=i.getMessages().concat(i.getMessages(true,true));if(!(r.length===1&&r[0].type===T.MessageType.Success)){g.show(n?t.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_CREATED",s):t.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_SAVED",s))}f._bIsModified=false;return e})},function(e){if(l&&l.length>0){l.forEach(function(e){if(!t.hasTransientContext(e)&&c){var n=f._getAppComponent();n.getSideEffectsService().requestSideEffectsForNavigationProperty(e.getPath(),o)}})}return Promise.resolve(u.showMessages()).then(function(){throw e})})},function(e,t){n.unlock(f.oLockObject);if(e)throw t;return t}))}catch(e){return Promise.reject(e)}};D.callAction=function e(t,r,a,i){try{var s=this;r=R(r);var c=s;var l,u;var f=r.bindingParameters;if(!t){throw new Error("Provide name of action to be executed")}var d=t.split("/")[1];t=d||t;l=d?undefined:r.contexts;if(l&&(Array.isArray(l)&&l.length||!Array.isArray(l))){l=Array.isArray(l)?l[0]:l;u=l.getModel()}if(r.model){u=r.model}if(!u){throw new Error("Pass a context for a bound action or pass the model for an unbound action")}var C=c._getAppComponent();var g=C.getSideEffectsService().getODataActionSideEffects(t,l)||{};var v=function(){if(!r.notApplicableContext||r.notApplicableContext.length===0){return Promise.resolve(r.contexts)}return new Promise(function(e,t){try{var n=function(e){var t;var n=r.notApplicableContext.length,o=[];for(var a=0;a<r.notApplicableContext.length;a++){t=r.notApplicableContext[a].getObject();o.push(t)}var i=new x(o);var s=new x({total:n,label:r.label});e.setModel(i,"notApplicable");e.setModel(s,"totals");e.open()};var o="sap.fe.core.controls.ActionPartial";var a=P.loadTemplate(o,"fragment");var i=u.getMetaModel();var s=r.contexts[0].getCanonicalPath();var c="".concat(s.substr(0,s.indexOf("(")),"/");var l=new x({title:r.label});var f=O(function(){return Promise.resolve(p.process(a,{name:o},{bindingContexts:{entityType:i.createBindingContext(c),label:l.createBindingContext("/")},models:{entityType:i,metaModel:i,label:l}})).then(function(t){var o;var a={onClose:function(){o.close();e()},onContinue:function(){o.close();e(r.applicableContext)}};return Promise.resolve(m.load({definition:t,controller:a})).then(function(t){o=t;a.onClose=function(){o.close();e()};a.onContinue=function(){o.close();e(r.applicableContext)};r.parentControl.addDependent(o);n(o)})})},function(e){t(e)});return Promise.resolve(f&&f.then?f.then(function(){}):void 0)}catch(e){return Promise.reject(e)}})};return Promise.resolve(O(function(){function e(){return Promise.resolve(s._handleActionResponse(i,r,t)).then(function(){return a})}var a;var d=function(){if(l&&u){return Promise.resolve(v()).then(function(e){var s=function(){if(e){return Promise.resolve(o.callBoundAction(t,e,u,C,{parameterValues:r.parameterValues,invocationGrouping:r.invocationGrouping,label:r.label,skipParameterDialog:r.skipParameterDialog,mBindingParameters:f,entitySetName:r.entitySetName,additionalSideEffect:g,onSubmitted:function(){i.removeTransitionMessages();n.lock(c.oLockObject)},onResponse:function(){n.unlock(c.oLockObject)},parentControl:r.parentControl,controlId:r.controlId,internalModelContext:r.internalModelContext,operationAvailableMap:r.operationAvailableMap,bIsCreateAction:r.bIsCreateAction,bGetBoundContext:r.bGetBoundContext,bObjectPage:r.bObjectPage,messageHandler:i,defaultValuesExtensionFunction:r.defaultValuesExtensionFunction,selectedItems:r.contexts})).then(function(e){a=e})}else{a=null}}();if(s&&s.then)return s.then(function(){})})}else{return Promise.resolve(o.callActionImport(t,u,C,{parameterValues:r.parameterValues,label:r.label,skipParameterDialog:r.skipParameterDialog,bindingParameters:f,entitySetName:r.entitySetName,onSubmitted:function(){n.lock(c.oLockObject)},onResponse:function(){n.unlock(c.oLockObject)},parentControl:r.parentControl,internalModelContext:r.internalModelContext,operationAvailableMap:r.operationAvailableMap,messageHandler:i,bObjectPage:r.bObjectPage})).then(function(e){a=e})}}();return d&&d.then?d.then(e):e(d)},function(e){return Promise.resolve(s._handleActionResponse(i,r,t)).then(function(){throw e})}))}catch(e){return Promise.reject(e)}};D._handleActionResponse=function e(t,n,r){var o=i.getMessages(true,true);if(o.length>0&&n&&n.internalModelContext){n.internalModelContext.setProperty("sActionName",n.label?n.label:r)}return t.showMessages()};D.handleValidationError=function e(){var t=E.getMessageManager(),n=t.getMessageModel().getData().filter(function(e){if(e.validation){return e}});t.removeMessages(n)};D._showDiscardPopover=function e(n,r,o){var a=this;a._bContinueDiscard=false;return new Promise(function(e,i){if(!n){i("Cancel button not found")}if(r){var s=function(){n.setEnabled(true);if(a._bContinueDiscard){e()}else{i("Discard operation was rejected. Document has not been discarded")}a._oPopover.detachAfterClose(s)};if(!a._oPopover){var c=new h({text:t.getTranslatedText("C_TRANSACTION_HELPER_DRAFT_DISCARD_MESSAGE",o)}),l=new u({text:t.getTranslatedText("C_TRANSACTION_HELPER_DRAFT_DISCARD_BUTTON",o),width:"100%",press:function(){a.handleValidationError();a._bContinueDiscard=true;a._oPopover.close()},ariaLabelledBy:c});a._oPopover=new v({showHeader:false,placement:"Top",content:[new _({items:[c,l]})],beforeOpen:function(){n.setEnabled(false);a._oPopover.setInitialFocus(l)}});a._oPopover.addStyleClass("sapUiContentPadding")}a._oPopover.attachAfterClose(s);a._oPopover.openBy(n,false)}else{a.handleValidationError();e()}})};D.handleDocumentModifications=function e(){this._bIsModified=true};D._getAppComponent=function e(){return this._oAppComponent};D._onFieldChange=function e(t,n,r,o){r.removeTransitionMessages();var a=t.getSource();var i=t.getParameter("promise");if(i){return i.then(function(e){a.setValue(e);o();return a.getValue()}).catch(function(e){if(e!==""){n.setEnabled(false)}else{a.setValue(e);o()}})}};D._getNonDeletableText=function e(n,r,o){var a=n.numberOfSelectedContexts-r.concat(n.unSavedContexts).length;return a===1?t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_ONE_OBJECT_NON_DELETABLE",o,[n.numberOfSelectedContexts]):t.getTranslatedText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_NON_DELETABLE",o,[n.numberOfSelectedContexts-r.concat(n.unSavedContexts).length,n.numberOfSelectedContexts])};D._launchDialogWithKeyFields=function e(r,o,a,i,s){var c=this;var u;var f=i.parentControl;var C=a.bindList(r.getPath(),r.getContext(),[],[],{$$updateGroupId:"submitLater"});C.refreshInternal=function(){};var g=C.create(i.data,true);return new Promise(function(e,v){try{var h="sap/fe/core/controls/NonComputedVisibleKeyFieldsDialog";var _=P.loadTemplate(h,"fragment"),E=f.getController().oResourceBundle,T=a.getMetaModel(),N=[],D=c._getAppComponent(),I=r.isRelative()?r.getResolvedPath():r.getPath(),S=T.createBindingContext(I),M=T.getMetaPath(I);for(var R in o){N.push(T.createBindingContext("".concat(M,"/").concat(o[R])))}var y=new x(N);var w=y.createBindingContext("/");var B=t.getRequiredPropertiesFromInsertRestrictions(M,T);var k=new x(B);var H=k.createBindingContext("/");return Promise.resolve(p.process(_,{name:h},{bindingContexts:{entitySet:S,fields:w,requiredProperties:H},models:{entitySet:S.getModel(),fields:w.getModel(),metaModel:T,requiredProperties:k}})).then(function(o){var a=[];var h={};var _;var p=function(){try{function n(){_.setEnabled(e)}var e=false;var t=O(function(){return Promise.resolve(Promise.all(a.map(function(e){return e.getFields()[0]}).filter(function(e){return e.getRequired()||e.getValueState()===L.Error}).map(function(e){try{var t=false;function o(n){return t?n:e.getValue()===""?undefined:e.getValue()}var n=e.getId();var r=function(){if(n in h){return O(function(){return Promise.resolve(h[n]).then(function(n){var r=e.getValue()===""?undefined:n;t=true;return r})},function(){t=true;return undefined})}}();return Promise.resolve(r&&r.then?r.then(o):o(r))}catch(a){return Promise.reject(a)}}))).then(function(t){e=t.every(function(e){if(Array.isArray(e)){e=e[0]}return e!==undefined&&e!==null&&e!==""})})},function(){e=false});return Promise.resolve(t&&t.then?t.then(n):n(t))}catch(r){return Promise.reject(r)}};var P={handleChange:function(e){var t=e.getParameter("id");h[t]=c._onFieldChange(e,_,s,p)},handleLiveChange:function(e){var t=e.getParameter("id");var n=e.getParameter("value");h[t]=n;p()}};return Promise.resolve(m.load({definition:o,controller:P})).then(function(o){var m;u=new d({title:t.getTranslatedText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE",E),content:[o],beginButton:{text:t.getTranslatedText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON",E),type:"Emphasized",press:function(e){try{var t=e.getSource();t.setEnabled(false);n.lock(u);i.bIsCreateDialog=true;var o=A(function(){return O(function(){return Promise.resolve(Promise.all(Object.keys(h).map(function(e){try{return Promise.resolve(h[e]).then(function(t){var n={};n[e]=t;return n})}catch(e){return Promise.reject(e)}}))).then(function(e){function t(){var e=g.getObject();var t={};Object.keys(e).forEach(function(n){var r=T.getObject("".concat(M,"/").concat(n));if(r&&r.$kind==="NavigationProperty"){return}t[n]=e[n]});var n=r.create(t,true,i.createAtEnd,i.inactive);var o=c.onAfterCreateCompletion(r,n,i);return Promise.resolve(o).then(function(e){if(!e||e&&e.bKeepDialogOpen!==true){var t;e=(t=e)!==null&&t!==void 0?t:{};u.setBindingContext(null);e.newContext=n;m={response:e};u.close()}})}var n=function(){if(i.beforeCreateCallBack){return Promise.resolve(b(i.beforeCreateCallBack({contextPath:r&&r.getPath(),createParameters:e}))).then(function(){})}}();return n&&n.then?n.then(t):t(n)})},function(e){if(e!==l.Constants.CreationFailed){m={error:e};u.close()}})},function(e,r){n.unlock(u);t.setEnabled(true);s.showMessages();if(e)throw r;return r});return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}},endButton:{text:t.getTranslatedText("C_COMMON_ACTION_PARAMETER_DIALOG_CANCEL",E),press:function(){m={error:l.Constants.CancelActionDialog};u.close()}},afterClose:function(){var t;(t=u.getBindingContext("internal"))===null||t===void 0?void 0:t.setProperty("isCreateDialogOpen",false);u.destroy();C.destroy();if(m.error){v(m.error)}else{e(m.response)}}});a=o===null||o===void 0?void 0:o.getAggregation("form").getAggregation("formContainers")[0].getAggregation("formElements");if(f&&f.addDependent){f.addDependent(u)}_=u.getBeginButton();u.setBindingContext(g);return O(function(){return Promise.resolve(t.setUserDefaults(D,N,g,false,i.createAction,i.data)).then(function(){p();u.getBindingContext("internal").setProperty("isCreateDialogOpen",true);u.open()})},function(e){return Promise.resolve(s.showMessages()).then(function(){throw e})})})})}catch(e){return Promise.reject(e)}})};D.onAfterCreateCompletion=function t(n,r,o){var a=this;var i;var s=new Promise(function(e){i=e});var c=function(e){var t=e.getParameter("context"),o=e.getParameter("success");if(t===r){n.detachCreateCompleted(c,a);i(o)}};var u=function(){r.created().then(undefined,function(){e.trace("transient creation context deleted")}).catch(function(t){e.trace("transient creation context deletion error",t)})};n.attachCreateCompleted(c,this);return s.then(function(e){if(!e){if(!o.keepTransientContextOnFailed){u();n.resetChanges();n.getModel().resetChanges(n.getUpdateGroupId());throw l.Constants.CreationFailed}return{bKeepDialogOpen:true}}else{return r.created()}})};D._getNewAction=function e(t,n,r,o){var a;if(t&&t.preferredMode&&n.toUpperCase().indexOf("I-ACTION=CREATEWITH")>-1){var i=t.preferredMode[0];a=i.toUpperCase().indexOf("CREATEWITH:")>-1?i.substr(i.lastIndexOf(":")+1):undefined}else if(t&&t.preferredMode&&n.toUpperCase().indexOf("I-ACTION=AUTOCREATEWITH")>-1){var s=t.preferredMode[0];a=s.toUpperCase().indexOf("AUTOCREATEWITH:")>-1?s.substr(s.lastIndexOf(":")+1):undefined}else{a=r&&r.getObject!==undefined?r.getObject("".concat(o,"@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction"))||r.getObject("".concat(o,"@com.sap.vocabularies.Common.v1.DraftRoot/NewAction")):undefined}return a};D._getSpecificCreateActionDialogLabel=function e(t,n,r,o){var a=function(){if(t&&t.getObject("".concat(n,"/@com.sap.vocabularies.UI.v1.LineItem"))){var e=t.getObject("".concat(n,"/@com.sap.vocabularies.UI.v1.LineItem")).findIndex(function(e){var t=e.Action?e.Action.split("("):undefined;return t?t[0]===r:false});return e>-1?t.getObject("".concat(n,"/@com.sap.vocabularies.UI.v1.LineItem"))[e].Label:undefined}else{return undefined}};return a()||t&&t.getObject("".concat(n,"/").concat(r,"@com.sap.vocabularies.Common.v1.Label"))||o&&o.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE")};return N}();return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/draft", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/m/Button","sap/m/Dialog","sap/m/MessageBox","sap/m/Text","sap/ui/core/Core","../../operationsHelper","./draftDataLossPopup"],function(e,t,r,n,o,i,a,c,s,u,f){"use strict";function l(e,t){try{var r=e()}catch(e){return t(e)}if(r&&r.then){return r.then(void 0,t)}return r}var v=function(e,t,r,n){try{function a(r){var i=false;function a(t){return i?t:o.fnAfterActivateDocument?o.fnAfterActivateDocument(e,c):c}if(!r){throw new Error("Activation of the document was aborted by extension for document: ".concat(e.getPath()))}var c;var s=function(){if(!b(e)){return Promise.resolve(m(e,t)).then(function(e){c=e})}else{var r="draft";var o=O.executeDraftPreparationAction(e,r,false);e.getModel().submitBatch(r);var i=O.executeDraftActivationAction(e,t,r);return l(function(){return Promise.resolve(Promise.all([o,i])).then(function(e){c=e[1]})},function(t){function i(){throw t}var a=x(e);var c=function(){if(a){o=O.executeDraftPreparationAction(e,r,true);e.getModel().submitBatch(r);return Promise.resolve(o).then(function(){return Promise.resolve(e.requestObject()).then(function(t){if(t[a].length>0){n===null||n===void 0?void 0:n.removeTransitionMessages(false,false,e.getPath())}})})}}();return c&&c.then?c.then(i):i(c)})}}();return s&&s.then?s.then(a):a(s)}var o=r||{};if(!e){throw new Error("Binding context to draft document is required")}var i=o.fnBeforeActivateDocument;return Promise.resolve(i?Promise.resolve(o.fnBeforeActivateDocument(e)).then(a):a(true))}catch(c){return Promise.reject(c)}};var d=function(e,u,f){try{var v=false;var d=function(r){try{var o=false;function c(t){if(o)return t;throw new Error("Draft creation aborted for document: ".concat(e.getPath()))}var i=function(){if(r){var i=e.getModel();var c=i.bindContext("".concat(e.getPath(),"/DraftAdministrativeData")).getBoundContext();return Promise.resolve(f.oView.getModel("sap.fe.i18n").getResourceBundle()).then(function(r){return Promise.resolve(c.requestObject()).then(function(i){return function(){if(i){n.removeUnboundTransitionMessages();var c=i.InProcessByUserDescription||i.InProcessByUser;var s=f.oView.getViewData().entitySet;if(c){var u=t.getTranslatedText("C_DRAFT_OBJECT_PAGE_DRAFT_LOCKED_BY_USER",r,c,s);a.error(u);throw new Error(u)}else{c=i.CreatedByUserDescription||i.CreatedByUser;var l=t.getTranslatedText("C_DRAFT_OBJECT_PAGE_DRAFT_UNSAVED_CHANGES",r,c,s);return Promise.resolve(D(l)).then(function(){var t=E(e,false,f.oView);o=true;return t})}}}()})})}}();return Promise.resolve(i&&i.then?i.then(c):c(i))}catch(s){return Promise.reject(s)}};function D(t){return new Promise(function(r,n){var a=new i({title:h.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_WARNING"),state:"Warning",content:new c({text:t}),beginButton:new o({text:h.getText("C_COMMON_OBJECT_PAGE_EDIT"),type:"Emphasized",press:function(){a.close();r(true)}}),endButton:new o({text:h.getText("C_COMMON_OBJECT_PAGE_CANCEL"),press:function(){a.close();n("Draft creation aborted for document: ".concat(e.getPath()))}}),afterClose:function(){a.destroy()}});a.addStyleClass("sapUiContentPadding");a.open()})}var g=f||{},h=s.getLibraryResourceBundle("sap.fe.core"),m=typeof g.bPreserveChanges==="undefined"||typeof g.bPreserveChanges==="boolean"&&g.bPreserveChanges;if(!e){throw new Error("Binding context to active document is required")}var P=g.fnBeforeCreateDraftFromActiveDocument?g.fnBeforeCreateDraftFromActiveDocument(e,m):true;if(!P){throw new Error("Draft creation was aborted by extension for document: ".concat(e.getPath()))}return Promise.resolve(l(function(){function t(t){if(v)return t;o=o&&g.fnAfterCreateDraftFromActiveDocument?g.fnAfterCreateDraftFromActiveDocument(e,o):o;if(o){var r;var n=p(o,A.EDIT);var i=u.getSideEffectsService().getODataActionSideEffects(n,o);if(i!==null&&i!==void 0&&(r=i.triggerActions)!==null&&r!==void 0&&r.length){return Promise.resolve(u.getSideEffectsService().requestSideEffectsForODataAction(i,o)).then(function(){return o})}else{return o}}else{return undefined}}var o;var i=l(function(){return Promise.resolve(O.executeDraftEditAction(e,m,f.oView)).then(function(e){o=e})},function(t){return function(){if(m&&t.status===409){n.removeBoundTransitionMessages();n.removeUnboundTransitionMessages();return function(){if(r.isCollaborationEnabled(f.oView)){return Promise.resolve(O.computeSiblingInformation(e,e)).then(function(e){if(e!==null&&e!==void 0&&e.targetContext){var r=e.targetContext;v=true;return r}else{throw new Error(t)}})}else{return Promise.resolve(d(g.fnWhenDecisionToOverwriteDocumentIsRequired?g.fnWhenDecisionToOverwriteDocumentIsRequired():true)).then(function(e){o=e})}}()}else if(!(t&&t.canceled)){throw new Error(t)}}()});return i&&i.then?i.then(t):t(i)},function(e){throw e}))}catch(C){return Promise.reject(C)}};var g=function(t,r){try{if(!r.getPath().startsWith(t.getPath())){e.error("Cannot compute rightmost sibling context");throw new Error("Cannot compute rightmost sibling context")}if(r.getProperty("IsActiveEntity")===false&&r.getProperty("HasActiveEntity")===false){return Promise.resolve(undefined)}var n=t.getModel();return Promise.resolve(l(function(){var e=r.getPath().replace(t.getPath(),"");var o=e?e.substring(1).split("/"):[];o.unshift(t.getPath().substring(1));var i=[];var a=[];var c="";var s=o.map(function(e){c+="/".concat(e);i.unshift(c);if(c.endsWith(")")){var t=n.bindContext("".concat(c,"/SiblingEntity")).getBoundContext();return t.requestCanonicalPath()}else{return Promise.resolve(undefined)}});return Promise.resolve(Promise.all(s)).then(function(e){var t=e;var r="";t.forEach(function(e,t){if(t!==0){if(o[t].endsWith(")")){var n=o[t].replace(/\(.*$/,"");var i=e.replace(/.*\(/,"(");r+="/".concat(n).concat(i)}else{r+="/".concat(o[t])}}else{r=e}a.unshift(r)});return{targetContext:n.bindContext(r).getBoundContext(),pathMapping:i.map(function(e,t){return{oldPath:e,newPath:a[t]}})}})},function(){return undefined}))}catch(e){return Promise.reject(e)}};var h=function(e,r,n){try{if(!e.getProperty("IsActiveEntity")){function i(r){var i="direct";var a=t.getTranslatedText("C_TRANSACTION_HELPER_DRAFT_DISCARD_BUTTON",r);var c=!n?o.execute(i):o.execute(i,undefined,u.fnOnStrictHandlingFailed.bind(O,i,{label:a,model:e.getModel()},r,null,null,null,undefined),false);e.getModel().submitBatch(i);return c}var o=O.createOperation(e,A.DISCARD);return Promise.resolve(r?Promise.resolve(r.getModel("sap.fe.i18n").getResourceBundle()).then(i):i(r))}else{throw new Error("The discard action cannot be executed on an active document")}}catch(a){return Promise.reject(a)}};var m=function(r,n,o){try{var i=b(r);var a=i;if(!r.getProperty("IsActiveEntity")){var c=D(r,A.ACTIVATION,{$$inheritExpandSelect:true});return Promise.resolve(n.getModel("sap.fe.i18n").getResourceBundle()).then(function(s){var f=t.getTranslatedText("C_OP_OBJECT_PAGE_SAVE",s);return l(function(){return Promise.resolve(c.execute(o,a,o?u.fnOnStrictHandlingFailed.bind(O,o,{label:f,model:r.getModel()},s,null,null,null,undefined):undefined,r.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding")))},function(t){function o(){throw t}var a=function(){if(i){var t=p(r,A.PREPARE),o=n.getSideEffectsService(),a=o.getODataActionSideEffects(t,r),c=a&&a.pathExpressions;var s=function(){if(c&&c.length>0){var t=l(function(){return Promise.resolve(o.requestSideEffects(c,r)).then(function(){})},function(t){e.error("Error while requesting side effects",t)});if(t&&t.then)return t.then(function(){})}else{var n=l(function(){return Promise.resolve(M(r,o)).then(function(){})},function(t){e.error("Error while requesting messages",t)});if(n&&n.then)return n.then(function(){})}}();if(s&&s.then)return s.then(function(){})}}();return a&&a.then?a.then(o):o(a)})})}else{throw new Error("The activation action cannot be executed on an active document")}}catch(e){return Promise.reject(e)}};var P=function(t,r){try{if(O.getMessagesPath(t)&&O.hasPrepareAction(t)){return Promise.resolve(O.executeDraftPreparationAction(t,t.getUpdateGroupId(),true).then(function(e){if(e&&!C(t,A.PREPARE)){var n=r.getSideEffectsService();M(t,n)}return e}).catch(function(t){e.error("Error while requesting messages",t)}))}return Promise.resolve(undefined)}catch(e){return Promise.reject(e)}};var E=function(e,r,n){try{if(e.getProperty("IsActiveEntity")){var o={$$inheritExpandSelect:true};var i=D(e,A.EDIT,o);i.setParameter("PreserveChanges",r);var a="direct";return Promise.resolve(n.getModel("sap.fe.i18n").getResourceBundle()).then(function(r){var n=t.getTranslatedText("C_COMMON_OBJECT_PAGE_EDIT",r);var o=i.execute(a,undefined,u.fnOnStrictHandlingFailed.bind(O,a,{label:n,model:e.getModel()},r,null,null,null,undefined),e.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding"));i.getModel().submitBatch(a);return Promise.resolve(o)})}else{throw new Error("You cannot edit this draft document")}}catch(e){return Promise.reject(e)}};var A={EDIT:"EditAction",ACTIVATION:"ActivationAction",DISCARD:"DiscardAction",PREPARE:"PreparationAction"};function p(e,t){var r=e.getModel(),n=r.getMetaModel(),o=n.getMetaPath(e.getPath());return n.getObject("".concat(o,"@com.sap.vocabularies.Common.v1.DraftRoot/").concat(t))}function D(e,t,r){var n=p(e,t);return e.getModel().bindContext("".concat(n,"(...)"),e,r)}function C(e,t){var r=e.getModel(),n=r.getMetaModel(),o=n.getMetaPath(e.getPath());return n.getObject("".concat(o,"@com.sap.vocabularies.Common.v1.DraftRoot/").concat(t,"/$ReturnType"))}function b(e){return!!p(e,A.PREPARE)}function x(e){var t=e.getModel().getMetaModel();var r=t.getMetaPath(e.getPath());var n=C(e,A.PREPARE);return!!n?t.getObject("".concat(r,"/@").concat("com.sap.vocabularies.Common.v1.Messages","/$Path")):null}function T(t,r,n){if(!t.getProperty("IsActiveEntity")){var o=n?x(t):null;var i=D(t,A.PREPARE,o?{$select:o}:null);i.setParameter("SideEffectsQualifier","");var a=r||i.getGroupId();return i.execute(a).then(function(){return i}).catch(function(t){e.error("Error while executing the operation",t)})}else{throw new Error("The preparation action cannot be executed on an active document")}}function w(e){var t=e.getModel(),r=t.getMetaModel(),n=r.getMetaPath(e.getPath());return r.getObject("".concat(n,"/@com.sap.vocabularies.Common.v1.Messages/$Path"))}function M(e,t){var r=O.getMessagesPath(e);if(r){return t.requestSideEffects([{$PropertyPath:r}],e)}return Promise.resolve()}function y(e,t,r){var n=p(e,A.DISCARD),o=e.getObject().IsActiveEntity;if(o||!o&&!n){if(e.hasPendingChanges()){return e.getBinding().resetChanges().then(function(){return e.delete()}).catch(function(e){return Promise.reject(e)})}else{return e.delete()}}else{return h(e,t,r)}}var O={createDraftFromActiveDocument:d,activateDocument:v,deleteDraft:y,executeDraftEditAction:E,executeDraftValidation:P,executeDraftPreparationAction:T,executeDraftActivationAction:m,hasPrepareAction:b,getMessagesPath:w,computeSiblingInformation:g,processDataLossOrDraftDiscardConfirmation:f.processDataLossOrDraftDiscardConfirmation,silentlyKeepDraftOnForwardNavigation:f.silentlyKeepDraftOnForwardNavigation,createOperation:D,executeDraftDiscardAction:h,NavigationType:f.NavigationType};return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/draftDataLossPopup", ["sap/fe/core/controls/DataLossOrDraftDiscard/DataLossOrDraftDiscardHandler","sap/fe/core/helpers/EditState","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/base/Log"],function(e,t,r,n){"use strict";function i(e,t){try{var r=e()}catch(e){return t(e)}if(r&&r.then){return r.then(void 0,t)}return r}var o=function(e,t,r,o,c,s){try{if(s===undefined)s=v.BackNavigation;var f=r.getModel();var u=f.bindContext("".concat(r.getPath(),"/DraftAdministrativeData")).getBoundContext();var l=function(){if(r&&r.getObject()&&(!r.getObject().DraftAdministrativeData||r.getObject().IsActiveEntity===true)){e()}else{var f=i(function(){return Promise.resolve(u.requestObject()).then(function(n){return Promise.resolve(a(n,e,t,r,o,c,s)).then(function(){})})},function(e){n.error("Cannot retrieve draftDataContext information",e)});if(f&&f.then)return f.then(function(){})}}();return Promise.resolve(l&&l.then?l.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};var a=function(e,n,i,o,a,d,h){try{if(h===undefined)h=v.BackNavigation;var g=r.isConnected(a.getView());var m=!g?n:function(){r.disconnect(a.getView());for(var e=arguments.length,t=new Array(e),i=0;i<e;i++){t[i]=arguments[i]}n.apply.apply(n,[null].concat(t))};var p=l(a);var D=function(){if(e){var r=function(){if(a.getAppComponent().getRootViewController().isFclEnabled()){return Promise.resolve(u(e,i,a,m,d)).then(function(){})}else if(!o.getObject().HasActiveEntity){f(e,i,a,m,h,p,d)}else if(e.CreationDateTime===e.LastChangeDateTime){s(a,o,m,h)}else if(t.isEditStateDirty()){c(a,i,m,h,p,d)}else{m()}}();if(r&&r.then)return r.then(function(){})}else{n()}}();return Promise.resolve(D&&D.then?D.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};var c=function(t,r,n,i,o,a){try{if(i===v.ForwardNavigation&&o){n()}else{e.performAfterDiscardorKeepDraft(n,r,t,a)}return Promise.resolve()}catch(e){return Promise.reject(e)}};var s=function(e,t,r,o){try{var a=function(){if(o===v.BackNavigation){var a={skipDiscardPopover:true};var c=i(function(){return Promise.resolve(e.editFlow.cancelDocument(t,a)).then(function(){r()})},function(e){n.error("Error while canceling the document",e)});if(c&&c.then)return c.then(function(){})}else{r()}}();return Promise.resolve(a&&a.then?a.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};var f=function(r,o,a,c,s,f,u){try{var l=function(){if(t.isEditStateDirty()){var l=function(){if(r.CreationDateTime===r.LastChangeDateTime&&s===v.BackNavigation){var t=i(function(){return Promise.resolve(e.discardDraft(a,u)).then(function(){c()})},function(e){n.error("Error while canceling the document",e)});if(t&&t.then)return t.then(function(){})}else if(s===v.ForwardNavigation&&f){c()}else{e.performAfterDiscardorKeepDraft(c,o,a,u)}}();if(l&&l.then)return l.then(function(){})}else{c()}}();return Promise.resolve(l&&l.then?l.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};var u=function(t,r,n,i,o){try{if(t.CreationDateTime!==t.LastChangeDateTime){e.performAfterDiscardorKeepDraft(i,r,n,o)}else{i()}return Promise.resolve()}catch(e){return Promise.reject(e)}};var v;(function(e){e["BackNavigation"]="BackNavigation";e["ForwardNavigation"]="ForwardNavigation"})(v||(v={}));function l(e){var t,r;var n=false;var i=e.getAppComponent().getManifest();n=(i===null||i===void 0?void 0:(t=i["sap.fe"])===null||t===void 0?void 0:(r=t.app)===null||r===void 0?void 0:r.silentlyKeepDraftOnForwardNavigation)||false;return n}var d={processDataLossOrDraftDiscardConfirmation:o,silentlyKeepDraftOnForwardNavigation:l,NavigationType:v,processFclMode:u,processNoActiveEntityMode:f,processEditingDraftForExistingEntity:s,processEditStateDirty:c};return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations", ["sap/base/Log","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/library","sap/m/Button","sap/m/Dialog","sap/m/MessageBox","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/model/json/JSONModel","../../operationsHelper"],function(e,t,n,r,a,o,i,l,s,c,u,f,d,g,v,m,p,h,P){"use strict";var M=g.MessageType;var x=i.generate;function C(e,t){var n=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))||t&&e&&typeof e.length==="number"){if(n)e=n;var r=0;var a=function(){};return{s:a,n:function(){if(r>=e.length)return{done:true};return{done:false,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=true,i=false,l;return{s:function(){n=n.call(e)},n:function(){var e=n.next();o=e.done;return e},e:function(e){i=true;l=e},f:function(){try{if(!o&&n.return!=null)n.return()}finally{if(i)throw l}}}}function y(e,t){if(!e)return;if(typeof e==="string")return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}function b(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++){r[n]=e[n]}return r}function A(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}function E(e,t){try{var n=e()}catch(e){return t(true,e)}if(n&&n.then){return n.then(t.bind(null,false),t.bind(null,true))}return t(false,n)}var O=function(e,t,n,r,a,o,i){try{return Promise.resolve(K(e,t,n,r)).then(function(e){var n;if(e!==null&&e!==void 0&&e.some(function(e){return e.status==="rejected"})){throw e}var l=f.getMessageManager().getMessageModel().getData();if(t.internalModelContext&&t.internalModelContext.getProperty("412Executed")&&(n=t.internalModelContext.getProperty("strictHandlingFails"))!==null&&n!==void 0&&n.length){if(!i){t.internalModelContext.setProperty("DelayMessages",t.internalModelContext.getProperty("DelayMessages").concat(l))}else{f.getMessageManager().addMessages(t.internalModelContext.getProperty("DelayMessages"));if(l.length){r.showMessageDialog({onBeforeShowMessage:function(e,n){return R(t,a,o,e,n)}})}}}else if(l.length){r.showMessageDialog({isActionParameterDialogOpen:t===null||t===void 0?void 0:t.oDialog.isOpen(),onBeforeShowMessage:function(e,n){return R(t,a,o,e,n)}})}return e})}catch(e){return Promise.reject(e)}};var I=l.Constants,S=l.InvocationGrouping;var T=u.Action;function $(e,t,n,r,a){if(!t||t.length===0){return Promise.reject("Bound actions always requires at least one context")}var o=Array.isArray(t);a.aContexts=o?t:[t];var i=n.getMetaModel(),l="".concat(i.getMetaPath(a.aContexts[0].getPath()),"/").concat(e),s=i.createBindingContext("".concat(l,"/@$ui5.overload/0"));a.isCriticalAction=G(i,l,a.aContexts,s);var c=function(e){if(e[0].status==="fulfilled"){return e[0].value}else{throw e[0].reason||e}};return w(e,n,s,r,a).then(function(e){if(o){return e}else{return c(e)}},function(e){if(o){throw e}else{return c(e)}})}function N(e,t,n,r){if(!t){return Promise.reject("Action expects a model/context for execution")}var a=t.getMetaModel(),o=t.bindContext("/".concat(e)).getPath(),i=a.createBindingContext("/".concat(a.createBindingContext(o).getObject("$Action"),"/0"));r.isCriticalAction=G(a,"".concat(o,"/@$ui5.overload"));return w(e,t,i,n,r)}function B(e,t,n){if(!t){return Promise.reject("Bound functions always requires a context")}var r=n.getMetaModel(),a="".concat(r.getMetaPath(t.getPath()),"/").concat(e),o=r.createBindingContext(a);return D(e,n,o,t)}function j(e,t){if(!e){return Promise.resolve()}var n=t.getMetaModel(),r=t.bindContext("/".concat(e)).getPath(),a=n.createBindingContext("/".concat(n.createBindingContext(r).getObject("$Function"),"/0"));return D(e,t,a)}function D(e,t,n,r){var a;if(!n||!n.getObject()){return Promise.reject(new Error("Function ".concat(e," not found")))}if(r){n=t.bindContext("".concat(e,"(...)"),r);a="functionGroup"}else{n=t.bindContext("/".concat(e,"(...)"));a="functionImport"}var o=n.execute(a);t.submitBatch(a);return o.then(function(){return n.getBoundContext()})}function w(e,t,n,r,a){return new Promise(function(o,i){try{var l={};var s;var c;var u=a.label;var d=a.skipParameterDialog;var g=a.aContexts;var v=a.bIsCreateAction;var m=a.isCriticalAction;var p;var h;var P;var M;var x;var C;var y;var b=n.getObject();if(!n||!n.getObject()){return Promise.resolve(i(new Error("Action ".concat(e," not found"))))}var O=V(n);var I=O.length>0&&!(O.length===1&&O[0].$Name==="ResultIsActiveEntity");var T=a.parameterValues;var $=r.getComponentData();var N=$&&$.startupParameters||{};if(I&&d){y=J(v,O,T,N)}s=null;if(I){if(!(d&&y)){s=H}}else if(m){s=_}l={fnOnSubmitted:a.onSubmitted,fnOnResponse:a.onResponse,actionName:e,model:t,aActionParameters:O,bGetBoundContext:a.bGetBoundContext,defaultValuesExtensionFunction:a.defaultValuesExtensionFunction,label:a.label,selectedItems:a.selectedItems};if(n.getObject("$IsBound")){if(a.additionalSideEffect&&a.additionalSideEffect.pathExpressions){p=t.getMetaModel();h=p.getMetaPath(g[0].getPath());P=p.getObject("".concat(h,"/@com.sap.vocabularies.Common.v1.Messages/$Path"));if(P){M=a.additionalSideEffect.pathExpressions.findIndex(function(e){return typeof e==="string"&&e===P});C=n.getObject("$ReturnType");x=C&&!C.$isCollection&&n.getModel().getObject(h).$Type===C.$Type;if(M>-1||x){a.mBindingParameters=a.mBindingParameters||{};if(n.getObject("$ReturnType/$Type/".concat(P))&&(!a.mBindingParameters.$select||a.mBindingParameters.$select.split(",").indexOf(P)===-1)){a.mBindingParameters.$select=a.mBindingParameters.$select?"".concat(a.mBindingParameters.$select,",").concat(P):P;if(M===-1){a.additionalSideEffect.pathExpressions.push("*")}if(a.additionalSideEffect.triggerActions.length===0&&M>-1){a.additionalSideEffect.pathExpressions.splice(M,1)}}}}}l.aContexts=g;l.mBindingParameters=a.mBindingParameters;l.additionalSideEffect=a.additionalSideEffect;l.bGrouped=a.invocationGrouping===S.ChangeSet;l.internalModelContext=a.internalModelContext;l.operationAvailableMap=a.operationAvailableMap;l.isCreateAction=v;l.bObjectPage=a.bObjectPage;if(a.controlId){l.control=a.parentControl.byId(a.controlId)}else{l.control=a.parentControl}}if(v){l.bIsCreateAction=v}var B=(b.$Parameter||[]).some(function(e){return(b.$EntitySetPath&&b.$EntitySetPath===e.$Name||b.$IsBound)&&e.$isCollection});l.isStatic=B;return Promise.resolve(function(){if(s){c=s(e,r,u,l,O,T,n,a.parentControl,a.entitySetName,a.messageHandler);return c.then(function(e){F(a,l,b);o(e)}).catch(function(e){i(e)})}else{if(T){var t=function(e){var t;l.aActionParameters[e].value=T===null||T===void 0?void 0:(t=T.find(function(t){return t.name===l.aActionParameters[e].$Name}))===null||t===void 0?void 0:t.value};for(var d in l.aActionParameters){t(d)}}else{for(var g in l.aActionParameters){var v;l.aActionParameters[g].value=(v=N[l.aActionParameters[g].$Name])===null||v===void 0?void 0:v[0]}}var m;var p=E(function(){return A(function(){var e,t;(e=l)===null||e===void 0?void 0:(t=e.internalModelContext)===null||t===void 0?void 0:t.setProperty("412Executed",false);return Promise.resolve(K(r,l,a.parentControl,a.messageHandler)).then(function(e){var t;m=e;var n=f.getMessageManager().getMessageModel().getData();if(l.internalModelContext&&l.internalModelContext.getProperty("412Executed")&&(t=l.internalModelContext.getProperty("strictHandlingFails"))!==null&&t!==void 0&&t.length){l.internalModelContext.setProperty("DelayMessages",l.internalModelContext.getProperty("DelayMessages").concat(n))}F(a,l,b);o(m)})},function(){i(m)})},function(e,t){function n(){var n;a===null||a===void 0?void 0:(n=a.messageHandler)===null||n===void 0?void 0:n.showMessageDialog();if(e)throw t;return t}var s=function(){var e;if(l.internalModelContext&&l.internalModelContext.getProperty("412Executed")&&(e=l.internalModelContext.getProperty("strictHandlingFails"))!==null&&e!==void 0&&e.length){var t=A(function(){var e=l.internalModelContext.getProperty("strictHandlingFails");var t=[];e.forEach(function(e){t.push(e.oAction.getContext())});l.aContexts=t;return Promise.resolve(K(r,l,a.parentControl,a.messageHandler)).then(function(e){f.getMessageManager().addMessages(l.internalModelContext.getProperty("DelayMessages"));l.internalModelContext.setProperty("strictHandlingFails",[]);l.internalModelContext.setProperty("processedMessageIds",[]);F(a,l,b);o(e)})},function(e){i(e)});if(t&&t.then)return t.then(function(){})}}();return s&&s.then?s.then(n):n(s)});if(p&&p.then)return p.then(function(){})}}())}catch(e){return Promise.reject(e)}})}function _(e,t,r,a,o,i,l,s,c,f){return new Promise(function(r,o){var i=e?e:null;i=i.indexOf(".")>=0?i.split(".")[i.split(".").length-1]:i;var l=i&&c?"".concat(c,"|").concat(i):"";var d=s.getController().oResourceBundle;var g=n.getTranslatedText("C_OPERATIONS_ACTION_CONFIRM_MESSAGE",d,null,l);u.confirm(g,{onClose:function(e){try{var n=function(){if(e===T.OK){var n=A(function(){return Promise.resolve(K(t,a,s,f)).then(function(e){r(e)})},function(e){var t=A(function(){return Promise.resolve(f.showMessageDialog()).then(function(){o(e)})},function(){o(e)});return t&&t.then?t.then(function(){}):void 0});if(n&&n.then)return n.then(function(){})}else{r()}}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}})})}function F(e,n,r){if(n.internalModelContext&&n.operationAvailableMap&&n.aContexts&&n.aContexts.length&&r.$IsBound){var a=n.isStatic;if(!a){t.setActionEnablement(n.internalModelContext,JSON.parse(n.operationAvailableMap),e.selectedItems,"table")}else if(n.control){var o=n.control;if(o.isA("sap.ui.mdc.Table")){var i=o.getSelectedContexts();t.setActionEnablement(n.internalModelContext,JSON.parse(n.operationAvailableMap),i,"table")}}}}function R(e,t,n,r,o){var i=o.showMessageBox,l=o.showMessageDialog;var s=e.control;var c=r.filter(function(e){return e.getTarget()===""});var u=r.filter(function(t){return t.getTarget&&t.getTarget().indexOf(e.actionName)!==-1&&e.aActionParameters.some(function(e){return t.getTarget().indexOf(e.$Name)!==-1})});u.forEach(function(e){e.isAPDTarget=true});var f=u.length?true:false;if(n.isOpen()&&t.length!==0&&!e.isStatic){if(!e.bGrouped){if(t.length>1||!f){n.close();e===null||e===void 0?void 0:e.onAfterAPDClose()}}else if(!f){n.close();e===null||e===void 0?void 0:e.onAfterAPDClose()}}var d=[];var g=n.isOpen();if(r.length===1&&r[0].getTarget&&r[0].getTarget()!==undefined&&r[0].getTarget()!==""){if(s&&s.getModel("ui").getProperty("/isEditable")===false||!s){i=!f;l=false}else if(s&&s.getModel("ui").getProperty("/isEditable")===true){i=false;l=false}}else if(s){if(s.getModel("ui").getProperty("/isEditable")===false){if(g&&f){l=false}}else if(s.getModel("ui").getProperty("/isEditable")===true){if(!g&&f){l=true;d=c.concat(u)}else if(!g&&c.length===0){l=false}}}return{showMessageBox:i,showMessageDialog:l,filteredMessages:d.length?d:r,fnGetMessageSubtitle:s&&s.isA("sap.ui.mdc.Table")&&a.setMessageSubtitle.bind({},s,t)}}function H(t,a,i,l,g,P,M,y,b,S){var T=U(M,t),$=M.getModel().oModel.getMetaModel(),N=$.createBindingContext(T),j=M.getObject("$IsBound")?M.getPath().split("/@$ui5.overload/0")[0]:M.getPath().split("/0")[0],D=$.createBindingContext(j),w=l.isCreateAction,_="sap/fe/core/controls/ActionParameterDialog";return new Promise(function(T,$){try{var j;var F=f.getMessageManager();var H=function(e){F.addMessages(e.map(function(e){var t=e.actionParameterInfo.field.getBinding(e.actionParameterInfo.isMultiValue?"items":"value");return new v({message:e.message,type:"Error",processor:t===null||t===void 0?void 0:t.getModel(),persistent:true,target:t===null||t===void 0?void 0:t.getResolvedPath()})}))};var V=function(e){var t=F.getMessageModel().getData();var n=x(["APD_",e.$Name]);var r=t.filter(function(e){return e.getControlIds().some(function(e){return n.split("-").includes(e)})});F.removeMessages(r)};var G=function(e){try{return Promise.resolve(Promise.allSettled(j.map(function(e){return e.validationPromise}))).then(function(){var t=j.filter(function(e){return e.field.getRequired()});var r=t.filter(function(e){if(e.isMultiValue){return e.value===undefined||!e.value.length}else{var t=e.field.getValue();return t===undefined||t===null||t===""}});H(r.map(function(t){var r;return{actionParameterInfo:t,message:n.getTranslatedText("C_OPERATIONS_ACTION_PARAMETER_DIALOG_MISSING_MANDATORY_MSG",e,[((r=t.field.getParent())===null||r===void 0?void 0:r.getAggregation("label")).getText()])}}));var a=j.find(function(e){return e.field.getValueState()==="Error"||r.includes(e)});if(a){a.field.focus();return false}else{return true}})}catch(e){return Promise.reject(e)}};var L={handleChange:function(e){try{var t=e.getSource();var n=j.find(function(e){return e.field===t});V(n.parameter);n.validationPromise=e.getParameter("promise");var r=A(function(){return Promise.resolve(n.validationPromise).then(function(e){n.value=e})},function(e){delete n.value;H([{actionParameterInfo:n,message:e.message}])});return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}};var q=p.loadTemplate(_,"fragment");var K=new h({$displayMode:{}});var U=A(function(){return Promise.resolve(m.process(q,{name:_},{bindingContexts:{action:M,actionName:D,entitySet:N},models:{action:M.getModel(),actionName:D.getModel(),entitySet:N.getModel(),metaModel:N.getModel()}})).then(function(v){var m=l.aContexts||[];var p=[];var N;return Promise.resolve(n.setUserDefaults(a,g,K,true)).then(function(){return Promise.resolve(d.load({definition:v,controller:L})).then(function(d){var v=d;j=g.map(function(e){var t=f.byId(x(["APD_",e.$Name]));var n=t.isA("sap.ui.mdc.MultiValueField");return{parameter:e,field:t,isMultiValue:n}});var D=y.getController().oResourceBundle;var _={dialogCancelled:true,result:undefined};var F=function(){g.forEach(V);L.destroy();H=false;if(_.dialogCancelled){$(I.CancelActionDialog)}else{T(_.result)}};var H=false;var L=new c(undefined,{title:i||n.getTranslatedText("C_OPERATIONS_ACTION_PARAMETER_DIALOG_TITLE",D),content:[v],escapeHandler:function(){L.close()},beginButton:new s(x(["fe","APD_",t,"Action","Ok"]),{text:w?n.getTranslatedText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON",D):k(D,i,t,b),type:"Emphasized",press:function(){try{var e=false;return Promise.resolve(E(function(){var t=false;if(H===true){return}H=true;return Promise.resolve(G(D)).then(function(t){if(!t){H=false;e=true;return}r.lock(L);return A(function(){S.removeTransitionMessages();var e;var t=N&&N.getParameterContext();for(var n in g){if(g[n].$isCollection){var o=L.getModel("mvfview").getProperty("/".concat(g[n].$Name)),s=[];for(var c in o){s.push(o[c].Key)}e=s}else{e=t.getProperty(g[n].$Name)}g[n].value=e;e=undefined}l.label=i;l.onAfterAPDClose=F;return E(function(){return A(function(){var e;l===null||l===void 0?void 0:(e=l.internalModelContext)===null||e===void 0?void 0:e.setProperty("412Executed",false);return Promise.resolve(O(a,l,y,S,m,L,false)).then(function(e){_={dialogCancelled:false,result:e};L.close()})},function(e){var t;var n=sap.ui.getCore().getMessageManager().getMessageModel().getData();if(l.internalModelContext&&l.internalModelContext.getProperty("412Executed")&&(t=l.internalModelContext.getProperty("strictHandlingFails"))!==null&&t!==void 0&&t.length){l.internalModelContext.setProperty("DelayMessages",l.internalModelContext.getProperty("DelayMessages").concat(n))}throw e})},function(e,t){function n(){if(r.isLocked(L)){r.unlock(L)}if(e)throw t;return t}var o=function(){var e;if(l.internalModelContext&&l.internalModelContext.getProperty("412Executed")&&(e=l.internalModelContext.getProperty("strictHandlingFails"))!==null&&e!==void 0&&e.length){var t=A(function(){var e=l.internalModelContext.getProperty("strictHandlingFails");var t=[];e.forEach(function(e){t.push(e.oAction.getContext())});l.aContexts=t;return Promise.resolve(O(a,l,y,S,m,L,true)).then(function(e){l.internalModelContext.setProperty("strictHandlingFails",[]);l.internalModelContext.setProperty("processedMessageIds",[]);_={dialogCancelled:false,result:e}})},function(){var e;if(l.internalModelContext&&l.internalModelContext.getProperty("412Executed")&&(e=l.internalModelContext.getProperty("strictHandlingFails"))!==null&&e!==void 0&&e.length){f.getMessageManager().addMessages(l.internalModelContext.getProperty("DelayMessages"))}return Promise.resolve(S.showMessageDialog({isActionParameterDialogOpen:L.isOpen(),onBeforeShowMessage:function(e,t){return R(l,m,L,e,t)}})).then(function(){})});if(t&&t.then)return t.then(function(){})}}();return o&&o.then?o.then(n):n(o)})},function(e){var t=true;return Promise.resolve(S.showMessages({context:l.aContexts&&l.aContexts[0],isActionParameterDialogOpen:L.isOpen(),messagePageNavigationCallback:function(){L.close()},onBeforeShowMessage:function(e,n){var r=R(l,m,L,e,n);t=r.showMessageDialog;return r}})).then(function(){H=false;if(t){$(e)}})})})},function(e,t){if(r.isLocked(L)){r.unlock(L)}if(e)throw t;return t}))}catch(e){return Promise.reject(e)}}}),endButton:new s(x(["fe","APD_",t,"Action","Cancel"]),{text:n.getTranslatedText("C_COMMON_ACTION_PARAMETER_DIALOG_CANCEL",D),press:function(){L.close()}}),beforeOpen:function(t){try{var r=Object.assign({},t);S.removeTransitionMessages();var a=function(){var e=L.getModel().getMetaModel(),t=M.sPath&&M.sPath.split("/@")[0],n=e.getObject("".concat(t,"@com.sap.vocabularies.Common.v1.DefaultValuesFunction"));return n};var i=function(t){try{var i=a();var s=function(r,a){try{if(a!==undefined){if(m.length>0&&a.$Path){return Promise.resolve(A(function(){return Promise.resolve(n.requestSingletonProperty(a.$Path,N.getModel())).then(function(e){function n(){if(m.length>1){var n=a.$Path;if(n.indexOf("".concat(t,"/"))===0){n=n.replace("".concat(t,"/"),"")}for(var o=1;o<m.length;o++){if(m[o].getProperty(n)!==e){return{paramName:r,value:undefined,bNoPossibleValue:true}}}}return{paramName:r,value:e}}var o=function(){if(e===null){return Promise.resolve(N.getParameterContext().requestProperty(a.$Path)).then(function(t){e=t})}}();return o&&o.then?o.then(n):n(o)})},function(){e.error("Error while reading default action parameter",r,l.actionName);return{paramName:r,value:undefined,bLatePropertyError:true}}))}else{return Promise.resolve({paramName:r,value:a})}}else if(K&&K.oData[r]){return Promise.resolve({paramName:r,value:K.oData[r]})}else{return Promise.resolve({paramName:r,value:undefined})}}catch(e){return Promise.reject(e)}};var c=function(e){var t=L.getModel().getMetaModel(),r=n.getParameterPath(M.getPath(),e)+"@",a=t.getObject(r),o=a&&a["@com.sap.vocabularies.UI.v1.ParameterDefaultValue"];return o};var f=[];var d,v;for(var h in g){d=g[h].$Name;v=c(d);f.push(s(d,v))}if(M.getObject("$IsBound")&&m.length>0){if(i&&i.length>0&&typeof i==="string"){for(var x in m){p.push(B(i,m[x],l.model))}}}var C=Promise.all(f);var y=Promise.resolve([]);var b;if(p&&p.length>0){y=Promise.all(p)}if(l.defaultValuesExtensionFunction){var E=l.defaultValuesExtensionFunction.substring(0,l.defaultValuesExtensionFunction.lastIndexOf(".")||-1).replace(/\./gi,"/"),O=l.defaultValuesExtensionFunction.substring(l.defaultValuesExtensionFunction.lastIndexOf(".")+1,l.defaultValuesExtensionFunction.length);b=o.actionWrapper(r,E,O,{contexts:m})}var I=A(function(){return Promise.resolve(Promise.all([C,y,b])).then(function(e){var t=e[0];var r=e[1];var a=e[2];var o;var l=function(e){var n;o=g[e].$Name;var l=P===null||P===void 0?void 0:(n=P.find(function(t){return t.name===g[e].$Name}))===null||n===void 0?void 0:n.value;if(l){N.setParameter(g[e].$Name,l)}else if(a&&a.hasOwnProperty(o)){N.setParameter(g[e].$Name,a[o])}else if(t[e]&&t[e].value!==undefined){N.setParameter(g[e].$Name,t[e].value)}else if(i&&!t[e].bNoPossibleValue){if(m.length>1){var s=0;while(s<m.length-1){if(r[s]&&r[s+1]&&r[s].getObject(o)===r[s+1].getObject(o)){s++}else{break}}if(s===m.length-1){N.setParameter(g[e].$Name,r[s].getObject(o))}}else if(r[0]&&r[0].getObject(o)){N.setParameter(g[e].$Name,r[0].getObject(o))}}};for(var s in g){l(s)}var c=t.some(function(e){if(e.bLatePropertyError){return e.bLatePropertyError}});if(c){var f=n.getTranslatedText("C_APP_COMPONENT_SAPFE_ETAG_LATE_PROPERTY",D);u.warning(f,{contentWidth:"25em"})}})},function(t){e.error("Error while retrieving the parameter",t)});return Promise.resolve(I&&I.then?I.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};var s=function(){try{var t=function(){if(M.getObject("$IsBound")&&m.length>0){var t=M.getObject("$Parameter");var n=t[0]&&t[0].$Name;var r=A(function(){return Promise.resolve(m[0].requestObject()).then(function(e){if(e){N.setParameter(n,e)}return Promise.resolve(i(n)).then(function(){})})},function(t){e.error("Error while retrieving the parameter",t)});if(r&&r.then)return r.then(function(){})}else{return Promise.resolve(i()).then(function(){})}}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};return Promise.resolve(s()).then(function(){var e=C(j),t;try{for(e.s();!(t=e.n()).done;){var n=t.value;var r=n.isMultiValue?n.field.getItems():n.field.getValue();n.value=r;n.validationPromise=Promise.resolve(r)}}catch(t){e.e(t)}finally{e.f()}})}catch(e){return Promise.reject(e)}},afterClose:F});l.oDialog=L;L.setModel(M.getModel().oModel);L.setModel(K,"paramsModel");L.bindElement({path:"/",model:"paramsModel"});var q=new h({});L.setModel(q,"mvfview");var U=C(j),J;try{var W=function(){var e=J.value;if(e.isMultiValue){var t,n;e===null||e===void 0?void 0:(t=e.field)===null||t===void 0?void 0:(n=t.getBinding("items"))===null||n===void 0?void 0:n.attachChange(function(){V(e.parameter)})}else{var r,a;e===null||e===void 0?void 0:(r=e.field)===null||r===void 0?void 0:(a=r.getBinding("value"))===null||a===void 0?void 0:a.attachChange(function(){V(e.parameter)})}};for(U.s();!(J=U.n()).done;){W()}}catch(e){U.e(e)}finally{U.f()}var X="".concat(t,"(...)");if(!m.length){X="/".concat(X)}L.bindElement({path:X});if(y){y.addDependent(L)}if(m.length>0){L.setBindingContext(m[0])}N=L.getObjectBinding();L.open()})})})},function(e){$(e)});return Promise.resolve(U&&U.then?U.then(function(){}):void 0)}catch(e){return Promise.reject(e)}})}function V(e){var t=e.getObject("$Parameter")||[];if(t&&t.length){if(e.getObject("$IsBound")){return t.slice(1,t.length)||[]}}return t}function G(e,t,n,r){var a=e.getObject("".concat(t,"@com.sap.vocabularies.Common.v1.IsActionCritical"));var o=a&&a.$Path;if(!o){return!!a}var i=r&&r.getObject("$Parameter"),l=o&&o.split("/"),s=i&&i.length&&typeof i==="object"&&o&&n&&n.length;if(s){i.filter(function(e){var t=l&&l.indexOf(e.$Name);if(t>-1){l.splice(t,1)}});o=l.join("/");return n[0].getObject(o)}else if(o){return n[0].getObject(o)}}function k(e,t,r,a){var o=r?r:null;var i=o.split(".");o=o.indexOf(".")>=0?i[i.length-1]:o;var l=o&&a?"".concat(a,"|").concat(o):"";var s="ACTION_PARAMETER_DIALOG_ACTION_NAME";var c=e&&n.checkIfResourceKeyExists(e.aCustomBundles,"".concat(s,"|").concat(l));if(t){if(c){return n.getTranslatedText(s,e,null,l)}else if(e&&n.checkIfResourceKeyExists(e.aCustomBundles,"".concat(s,"|").concat(a))){return n.getTranslatedText(s,e,null,"".concat(a))}else if(e&&n.checkIfResourceKeyExists(e.aCustomBundles,"".concat(s))){return n.getTranslatedText(s,e)}else{return t}}else{return n.getTranslatedText("C_COMMON_DIALOG_OK",e)}}function L(e,t,n,r,a,o,i){var l;if(e.aContexts.length>1){var s;var c=sap.ui.getCore().getMessageManager().getMessageModel().getData();var u=e.internalModelContext.getProperty("processedMessageIds");var f=c.filter(function(t){var n=u.find(function(e){return t.getId()===e});if(!n){u.push(t.getId());if(t.getType()===M.Success){e.internalModelContext.setProperty("DelayMessages",e.internalModelContext.getProperty("DelayMessages").concat(t))}}return t.getPersistent()===true&&t.getType()!==M.Success&&!n});e.internalModelContext.setProperty("processedMessageIds",u);if(f.length){if(e.internalModelContext){s=e.internalModelContext.getProperty("strictHandlingFails");s.push({oAction:t,groupId:n});e.internalModelContext.setProperty("strictHandlingFails",s)}}}if(r===a&&e.internalModelContext&&(l=e.internalModelContext.getProperty("412Messages"))!==null&&l!==void 0&&l.length){P.renderMessageView(e,i,o,e.internalModelContext.getProperty("412Messages"),true)}}function q(e,t,n,r,a,o,i,l){var s,c=true;if(n){var u;var f=e.getBoundContext().getPath();var d=e.getModel().getMetaModel().getMetaPath(f);var g=e.getModel().getMetaModel().getObject(d);if(g&&((u=g[0])===null||u===void 0?void 0:u.$kind)!=="Action"){c=false}}if(!c){s=n?e.execute(r).then(function(){return e.getBoundContext()}):e.execute(r)}else{s=n?e.execute(r,undefined,P.fnOnStrictHandlingFailed.bind(X,r,t,a,l,e.getContext(),i,o)).then(function(){L(t,e,r,l,i,o,a);return Promise.resolve(e.getBoundContext())}).catch(function(){L(t,e,r,l,i,o,a);return Promise.reject()}):e.execute(r,undefined,P.fnOnStrictHandlingFailed.bind(X,r,t,a,l,e.getContext(),i,o)).then(function(n){L(t,e,r,l,i,o,a);return Promise.resolve(n)}).catch(function(){L(t,e,r,l,i,o,a);return Promise.reject()})}return s.catch(function(){throw I.ActionExecutionFailed})}function K(e,t,n,r){var a=t.aContexts||[];var o=t.model;var i=t.aActionParameters||[];var l=t.actionName;var s=t.fnOnSubmitted;var c=t.fnOnResponse;var u=n&&n.isA("sap.ui.core.mvc.View")&&n.getController().oResourceBundle;var f;function d(){if(i&&i.length){for(var e=0;e<i.length;e++){if(!i[e].value){switch(i[e].$Type){case"Edm.String":i[e].value="";break;case"Edm.Boolean":i[e].value=false;break;case"Edm.Byte":case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":i[e].value=0;break;default:break}}f.setParameter(i[e].$Name,i[e].value)}}}if(a.length){return new Promise(function(n){var i=function(e){try{function n(e,n,r){f=o.bindContext("".concat(l,"(...)"),e,c);return x(f,n,{context:e,pathExpressions:t.additionalSideEffect&&t.additionalSideEffect.pathExpressions,triggerActions:t.additionalSideEffect&&t.additionalSideEffect.triggerActions},r)}(s||function e(){})(m);return Promise.resolve(e.reduce(function(e,t,r){try{return Promise.resolve(e).then(function(){return Promise.resolve(n(t,r+1,a.length)).then(function(){})})}catch(e){return Promise.reject(e)}},Promise.resolve())).then(function(){C()})}catch(r){return Promise.reject(r)}};var c=t.mBindingParameters;var g=t.bGrouped;var v=t.bGetBoundContext;if(t.internalModelContext&&!t.internalModelContext.getProperty("412Executed")){t.internalModelContext.setProperty("strictHandlingPromises",[]);t.internalModelContext.setProperty("strictHandlingFails",[]);t.internalModelContext.setProperty("412Messages",[]);t.internalModelContext.setProperty("processedMessageIds",[]);t.internalModelContext.setProperty("DelayMessages",[])}var m=[];var p;var h;var P;var M=function(n,a,o,i){d();P=!g?"$auto.".concat(a):n.getUpdateGroupId();t.requestSideEffects=W.bind(X,e,o,t);p=q(n,t,v,P,u,r,i,a);m.push(p);W(e,o,t,P)};var x=function(n,a,i,l){var s=[];d();P="apiMode".concat(a);t.requestSideEffects=W.bind(X,e,i,t,P,s);p=q(n,t,v,P,u,r,l,a);m.push(p);s.push(p);W(e,i,t,P,s);o.submitBatch(P);return Promise.allSettled(s)};if(!g){i(a)}else{for(h=0;h<a.length;h++){f=o.bindContext("".concat(l,"(...)"),a[h],c);M(f,a.length<=1?null:h,{context:a[h],pathExpressions:t.additionalSideEffect&&t.additionalSideEffect.pathExpressions,triggerActions:t.additionalSideEffect&&t.additionalSideEffect.triggerActions},a.length)}(s||function e(){})(m);C()}function C(){return Promise.allSettled(m).then(n)}}).finally(function(){(c||function e(){})()})}else{f=o.bindContext("/".concat(l,"(...)"));d();var g="actionImport";var v=f.execute(g,undefined,P.fnOnStrictHandlingFailed.bind(X,g,{label:t.label,model:o},u,null,null,null,r));o.submitBatch(g);(s||function e(){})(v);return v.finally(function(){(c||function e(){})()})}}function U(e,t){var n=e.getPath();n=e.getObject("$IsBound")?n.split("@$ui5.overload")[0]:n.split("/0")[0];return n.split("/".concat(t))[0]}function J(e,t,n,r){if(n){var a=C(t),o;try{var i=function(){var e=o.value;if(e.$Name!=="ResultIsActiveEntity"&&!(n!==null&&n!==void 0&&n.find(function(t){return t.name===e.$Name}))){return{v:false}}};for(a.s();!(o=a.n()).done;){var l=i();if(typeof l==="object")return l.v}}catch(e){a.e(e)}finally{a.f()}}else if(e&&r){var s=C(t),c;try{for(s.s();!(c=s.n()).done;){var u=c.value;if(!r[u.$Name]){return false}}}catch(e){s.e(e)}finally{s.f()}}return true}function W(n,r,a,o,i){var l=n.getSideEffectsService();var s;if(r&&r.triggerActions&&r.triggerActions.length){r.triggerActions.forEach(function(e){if(e){s=l.executeAction(e,r.context,o);if(i){i.push(s)}}})}if(r&&r.pathExpressions&&r.pathExpressions.length>0){s=l.requestSideEffects(r.pathExpressions,r.context,o);if(i){i.push(s)}s.then(function(){if(a.operationAvailableMap&&a.internalModelContext){t.setActionEnablement(a.internalModelContext,JSON.parse(a.operationAvailableMap),a.selectedItems,"table")}}).catch(function(t){e.error("Error while requesting side effects",t)})}}var X={callBoundAction:$,callActionImport:N,callBoundFunction:B,callFunctionImport:j,executeDependingOnSelectedContexts:q,valuesProvidedForAllParameters:J,getActionParameterActionName:k,actionParameterShowMessageCallback:R,afterActionResolution:F};return X},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/sticky", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/library","sap/m/MessageBox","sap/ui/core/Core","../../operationsHelper"],function(e,t,n,r,o,i){"use strict";var a=function(e,n){try{function s(n){var o=t.getTranslatedText("C_OP_OBJECT_PAGE_SAVE",n);var a=r.bindContext("".concat(c,"(...)"),e,{$$inheritExpandSelect:true});var s="direct";var u=a.execute(s,undefined,i.fnOnStrictHandlingFailed.bind(l,s,{label:o,model:r},n,null,null,null,undefined));r.submitBatch(s);return u}var r=e.getModel(),o=r.getMetaModel(),a=o.getMetaPath(e.getPath()),c=o.getObject("".concat(a,"@com.sap.vocabularies.Session.v1.StickySessionSupported/SaveAction"));if(!c){throw new Error("Save Action for Sticky Session not found for ".concat(a))}return Promise.resolve(n?Promise.resolve(n.getModel("sap.fe.i18n").getResourceBundle()).then(s):s(n))}catch(u){return Promise.reject(u)}};var c=function(e,n){try{var r=e.getModel(),o=r.getMetaModel(),a=o.getMetaPath(e.getPath()),c=o.getObject("".concat(a,"@com.sap.vocabularies.Session.v1.StickySessionSupported/EditAction"));if(!c){throw new Error("Edit Action for Sticky Session not found for ".concat(a))}return Promise.resolve(n.getModel("sap.fe.i18n").getResourceBundle()).then(function(o){var a=t.getTranslatedText("C_COMMON_OBJECT_PAGE_EDIT",o);var s=r.bindContext("".concat(c,"(...)"),e,{$$inheritExpandSelect:true});var u="direct";var d=s.execute(u,undefined,i.fnOnStrictHandlingFailed.bind(l,u,{label:a,model:r},o,null,null,null,undefined));r.submitBatch(u);return Promise.resolve(d).then(function(e){var t=n.getSideEffectsService().getODataActionSideEffects(c,e);var r=function(){var r;if(t!==null&&t!==void 0&&(r=t.triggerActions)!==null&&r!==void 0&&r.length){return Promise.resolve(n.getSideEffectsService().requestSideEffectsForODataAction(t,e)).then(function(){})}}();return r&&r.then?r.then(function(){return e}):e})})}catch(e){return Promise.reject(e)}};var s=n.ProgrammingModel;function u(e){var t=e.getModel(),n=t.getMetaModel(),r=n.getMetaPath(e.getPath()),o=n.getObject("".concat(r,"@com.sap.vocabularies.Session.v1.StickySessionSupported/DiscardAction"));if(!o){throw new Error("Discard Action for Sticky Session not found for ".concat(r))}var i=t.bindContext("/".concat(o,"(...)"));var a=i.execute("direct").then(function(){return e});t.submitBatch("direct");return a}function d(t,n,i){var a=n.getModel("ui").getProperty("/isEditable"),c=o.getLibraryResourceBundle("sap.fe.templates"),u=c&&c.getText("T_COMMON_UTILS_NAVIGATION_AWAY_MSG"),d=c&&c.getText("T_COMMON_UTILS_NAVIGATION_AWAY_CONFIRM_BUTTON"),l=c&&c.getText("T_COMMON_UTILS_NAVIGATION_AWAY_CANCEL_BUTTON");if(i===s.Sticky&&a){return r.warning(u,{actions:[d,l],emphasizedAction:d,onClose:function(r){if(r===d){var o=n&&n.getModel("internal");e.info("Navigation confirmed.");if(o){o.setProperty("/sessionOn",false);o.setProperty("/stickySessionToken",undefined)}else{e.warning("Local UIModel couldn't be found.")}t()}else{e.info("Navigation rejected.")}}})}return t()}var l={editDocumentInStickySession:c,activateDocument:a,discardDocument:u,processDataLossConfirmation:d};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/messageHandler/messageHandling", ["sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/FormattedText","sap/m/MessageBox","sap/m/MessageItem","sap/m/MessageToast","sap/m/MessageView","sap/m/Text","sap/ui/core/Core","sap/ui/core/format/DateFormat","sap/ui/core/IconPool","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel"],function(e,t,r,a,n,s,o,i,c,g,u,l,p,f,_,E,d){"use strict";var m=p.MessageType;var S=[];var h=[];var M=[];var A;var v;var T;function y(){var e;function t(e){return e.property?"( ${"+e.property+'} ? ("<p>'+e.property.substr(Math.max(e.property.lastIndexOf("/"),e.property.lastIndexOf("."))+1)+' : " + '+"${"+e.property+'} + "</p>") : "" )':""}function r(t){var r="";if(t.groupName&&t.property&&t.groupName!==e){r+="( ${"+t.property+'} ? "<br><h3>'+t.groupName+'</h3>" : "" ) + ';e=t.groupName}return r}function a(){var e="technicalDetails";return[{groupName:"",property:"".concat(e,"/status")},{groupName:"",property:"".concat(e,"/statusText")},{groupName:"Application",property:"".concat(e,"/error/@SAP__common.Application/ComponentId")},{groupName:"Application",property:"".concat(e,"/error/@SAP__common.Application/ServiceId")},{groupName:"Application",property:"".concat(e,"/error/@SAP__common.Application/ServiceRepository")},{groupName:"Application",property:"".concat(e,"/error/@SAP__common.Application/ServiceVersion")},{groupName:"ErrorResolution",property:"".concat(e,"/error/@SAP__common.ErrorResolution/Analysis")},{groupName:"ErrorResolution",property:"".concat(e,"/error/@SAP__common.ErrorResolution/Note")},{groupName:"ErrorResolution",property:"".concat(e,"/error/@SAP__common.ErrorResolution/DetailedNote")},{groupName:"ErrorResolution",property:"".concat(e,"/error/@SAP__common.ExceptionCategory")},{groupName:"ErrorResolution",property:"".concat(e,"/error/@SAP__common.TimeStamp")},{groupName:"ErrorResolution",property:"".concat(e,"/error/@SAP__common.TransactionId")},{groupName:"Messages",property:"".concat(e,"/error/code")},{groupName:"Messages",property:"".concat(e,"/error/message")}]}var n="Object.keys("+"${technicalDetails}"+').length > 0 ? "<h2>Technical Details</h2>" : "" ';a().forEach(function(e){n="".concat(n+r(e)).concat(t(e)," + ")});return n}function N(){return"(${"+'description} ? ("<h2>Description</h2>" + ${'+'description}) : "")'}function R(e){var t=m.None;var r=e.length;var a={Error:0,Warning:0,Success:0,Information:0};for(var n=0;n<r;n++){++a[e[n].getType()]}if(a[m.Error]>0){t=m.Error}else if(a[m.Warning]>0){t=m.Warning}else if(a[m.Success]>0){t=m.Success}else if(a[m.Information]>0){t=m.Information}return t}function C(e,t,r){var a=e.getMessageModel().getObject("/");var n=false;var s="";a.forEach(function(o,i){var c=o.getTechnicalDetails&&o.getTechnicalDetails();if(c&&c.httpStatus===412){if(c.isConcurrentModification&&r){s=s||t.getText("C_APP_COMPONENT_SAPFE_ETAG_TECHNICAL_ISSUES_CONCURRENT_MODIFICATION")}else{s=s||t.getText("C_APP_COMPONENT_SAPFE_ETAG_TECHNICAL_ISSUES")}e.removeMessages(a[i]);o.setMessage(s);o.target="";e.addMessages(o);n=true}});return n}function D(){A.close();v.setVisible(false);S=[];var e=T.getModel();if(e){e.setData({})}O()}function I(e,t){var r=new Date;var a=e.getTechnicalDetails();var n=g.getLibraryResourceBundle("sap.fe.core");var s;if(a&&a.httpStatus===503&&a.retryAfter){var o=a.retryAfter;var i;if(r.getFullYear()!==o.getFullYear()){i=u.getDateTimeInstance({pattern:"MMMM dd, yyyy 'at' hh:mm a"});s=n.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR",[i.format(o)])}else if(r.getFullYear()==o.getFullYear()){if(t){s="".concat(n.getText("C_MESSAGE_HANDLING_SAPFE_503_TITLE")," ").concat(n.getText("C_MESSAGE_HANDLING_SAPFE_503_DESC"))}else if(r.getMonth()!==o.getMonth()||r.getDate()!==o.getDate()){i=u.getDateTimeInstance({pattern:"MMMM dd 'at' hh:mm a"});s=n.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR",[i.format(o)])}else{i=u.getDateTimeInstance({pattern:"hh:mm a"});s=n.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR_DAY",[i.format(o)])}}}if(a&&a.httpStatus===503&&!a.retryAfter){s=n.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR_NO_RETRY_AFTER")}return s}function P(e,r,a){var n;if(!r){n=new s(undefined,{counter:{path:"counter"},title:"{message}",subtitle:"{additionalText}",longtextUrl:"{descriptionUrl}",type:{path:"type"},description:"{= ${"+"description} || ${technicalDetails} ? "+'"<html><body>" + '+N()+" + "+y()+'"</body></html>"'+' : "" }',markupDescription:true})}else if(a){n=new s(undefined,{counter:{path:"counter"},title:"{message}",subtitle:"{additionalText}",longtextUrl:"{descriptionUrl}",type:{path:"type"},description:"{description}",markupDescription:true})}else{n=new s({title:"{message}",type:{path:"type"},longtextUrl:"{descriptionUrl}"})}T=new i({showDetailsPageHeader:false,itemSelect:function(){v.setVisible(true)},items:{path:"/",template:n}});v=v||new t({icon:l.getIconURI("nav-back"),visible:false,press:function(){T.navigateBack();this.setVisible(false)}});T.setModel(e);return{oMessageView:T,oBackButton:v}}function x(s,i,u,l,p,y){var N=this.getMessages();var C=g.getMessageManager();var x;var w;var L=[new _({path:"persistent",operator:E.NE,value1:false})];var B=false,H=false;if(u){N=N.concat(F(true,true));L.push(new _({path:"persistent",operator:E.EQ,value1:true}));var U=function(e){var t=Infinity,a=g.byId(e[0]);var n=g.byId(e[0]);while(a){var s=a instanceof r?n.getParent().findElements(true).indexOf(n):Infinity;if(a instanceof r){if(t>s){t=s;n.focus()}return false}a=a.getParent()}return true};L.push(new _({path:"controlIds",test:U,caseSensitive:true}))}else{L.push(new _({path:"target",operator:E.EQ,value1:""}))}if(s&&s.length){s.forEach(function(e){var t=e.code?e.code:"";C.addMessages(new f({message:e.text,type:e.type,target:"",persistent:true,code:t}))})}var j=T&&T.getModel()||new d;var V=this.modifyETagMessagesOnly(C,g.getLibraryResourceBundle("sap.fe.core"),l);if(N.length===1&&N[0].getCode()==="503"){H=true}else if(N.length!==0){B=true}var $;var k=[];if(B||!H&&!y){var W=C.getMessageModel().bindList("/",undefined,undefined,L),Y=W.getCurrentContexts();if(Y&&Y.length>0){B=true;var z=[];Y.forEach(function(e){var t=e.getObject();z.push(t);h=z});var K=[];if(Array.isArray(j.getData())){K=j.getData()}var Q={};k=h.concat(K).filter(function(e){return!Q[e.id]&&(Q[e.id]=true)})}}if(y){$={showMessageBox:H,showMessageDialog:B};$=y(N,$);H=$.showMessageBox;B=$.showMessageDialog;if(B){k=$.filteredMessages?$.filteredMessages:k}}if(N.length===0&&!s&&!V){return Promise.resolve(true)}else if(N.length===1&&N[0].getType()===m.Success&&!s){return new Promise(function(e){o.show(N[0].message);if(j){j.setData({})}C.removeMessages(N);e()})}else if(B){j.setData(k);M=M||[];return new Promise(function(a,n){M.push(a);g.getLibraryResourceBundle("sap.fe.core",true).then(function(n){var s=false;if($&&$.fnGetMessageSubtitle){j.getData().forEach(function(e){$.fnGetMessageSubtitle(e)})}var o=P(j,s);A=A&&A.isOpen()?A:new r({resizable:true,endButton:new t({press:function(){D();C.removeMessages(k)},text:n.getText("C_COMMON_SAPFE_CLOSE")}),customHeader:new e({contentMiddle:[new c({text:n.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE")})],contentLeft:[v]}),contentWidth:"37.5em",contentHeight:"21.5em",verticalScrolling:false,afterClose:function(){for(var e=0;e<M.length;e++){M[e].call()}M=[]}});A.removeAllContent();A.addContent(o.oMessageView);if(V){sap.ui.require(["sap/m/ButtonType"],function(e){A.setBeginButton(new t({press:function(){D();if(i.hasPendingChanges()){i.getBinding().resetChanges()}i.refresh()},text:n.getText("C_COMMON_SAPFE_REFRESH"),type:e.Emphasized}))})}else{A.destroyBeginButton()}x=R(T.getItems());w=G(x);A.setState(x);A.getCustomHeader().getContentMiddle()[0].setText(w);T.navigateBack();A.open();if(p){a(A)}}).catch(n)})}else if(H){return new Promise(function(e){var t=N[0];if(t.technicalDetails&&S.indexOf(t.technicalDetails.originalMessage.message)===-1){S.push(t.technicalDetails.originalMessage.message);var r="<html><body>";var s=I(t,true);if(s){r="<h6>".concat(s,"</h6><br>")}if($&&$.fnGetMessageSubtitle){$.fnGetMessageSubtitle(t)}if(t.getCode()!=="503"&&t.getAdditionalText()!==undefined){r="".concat(r+t.getAdditionalText(),": ").concat(t.getMessage(),"</html></body>")}else{r="".concat(r+t.getMessage(),"</html></body>")}var o=new a({htmlText:r});n.error(o,{onClose:function(){S=[];if(u){b()}O();e(true)}})}})}else{return Promise.resolve(true)}}function G(e){var t=g.getLibraryResourceBundle("sap.fe.core");switch(e){case"Error":return t.getText("C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR");case"Information":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO");case"Success":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_SUCCESS");case"Warning":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_WARNING");default:return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE")}}function O(){L(false)}function b(e){L(true,e)}function w(e,t){if(t===undefined){return e.getObject("/")}var r=e.bindList("/");r.filter(new _({path:"target",operator:E.StartsWith,value1:t}));return r.getCurrentContexts().map(function(e){return e.getObject()})}function F(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=arguments.length>2?arguments[2]:undefined;var a;var n=g.getMessageManager(),s=n.getMessageModel(),o=g.getLibraryResourceBundle("sap.fe.core"),i=[];var c=[];if(e&&t&&r){c=w(s,r)}else{c=s.getObject("/")}for(a=0;a<c.length;a++){if((!t||c[a].persistent)&&(e&&c[a].target!==""||!e&&(!c[a].target||c[a].target===""))){i.push(c[a])}}for(a=0;a<i.length;a++){if(i[a].code==="503"&&i[a].message!==""&&i[a].message.indexOf(o.getText("C_MESSAGE_HANDLING_SAPFE_503_BACKEND_PREFIX"))===-1){i[a].message="\n".concat(o.getText("C_MESSAGE_HANDLING_SAPFE_503_BACKEND_PREFIX")).concat(i[a].message)}}var u=[];for(a=0;a<i.length;a++){if(i[a].technicalDetails&&(i[a].technicalDetails.originalMessage!==undefined&&i[a].technicalDetails.originalMessage!==null||i[a].technicalDetails.httpStatus!==undefined&&i[a].technicalDetails.httpStatus!==null)||i[a].code){u.push(i[a])}}return u}function L(e,t){var r=F(e,true,t);if(r.length>0){g.getMessageManager().removeMessages(r)}}function B(e,t,r){var a=e.getParent().getIdentifierColumn();var n=t.find(function(e){return r.getTarget().indexOf(e.getPath())!==-1});r.additionalText=n?n.getObject()[a]:undefined}var H={getMessages:F,showUnboundMessages:x,removeUnboundTransitionMessages:O,removeBoundTransitionMessages:b,modifyETagMessagesOnly:C,getRetryAfterMessage:I,prepareMessageViewForDialog:P,setMessageSubtitle:B};return H},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/pageReady/DataQueryWatcher", ["sap/base/Log","sap/fe/macros/table/Utils"],function(e,t){"use strict";function i(e,t){try{var i=e()}catch(e){return t(e)}if(i&&i.then){return i.then(void 0,t)}return i}var n=function(){function n(e,t){this._aBindingRegistrations=[];this._aOtherEventSources=[];this._isSearchPending=false;this._aMDCTables=[];this._aMDCCharts=[];this._oEventProvider=e;this._fnOnFinished=t}var r=n.prototype;r.isSearchPending=function e(){return this._isSearchPending};r.isDataReceived=function e(){return this._isDataReceived};r.resetDataReceived=function e(){this._isDataReceived=undefined};r.reset=function e(){var t=this;this._aBindingRegistrations.forEach(function(e){e.binding.detachEvent("dataRequested",t.onDataRequested,t);e.binding.detachEvent("dataReceived",t.onDataReceived,t)});this._aOtherEventSources.forEach(function(e){e.detachEvent("search",t.onSearch,t);e.detachEvent("bindingUpdated",t.register,t)});this._aBindingRegistrations=[];this._aOtherEventSources=[];this._aMDCTables=[];this._aMDCCharts=[];this._isSearchPending=false;this._isDataReceived=undefined};r.onDataReceived=function t(i,n){var r=i.getSource();var a=this._aBindingRegistrations.find(function(e){return e.binding===r});if(!a){e.error("PageReady - data received on an unregistered binding");return}switch(r.getGroupId()){case"$auto.Workers":this._oEventProvider.fireEvent("workersBatchReceived");break;case"$auto.Heroes":this._oEventProvider.fireEvent("heroesBatchReceived");break;default:}a.receivedCount++;if(a.receivedCount<a.requestedCount){r.attachEventOnce("dataReceived",{triggeredBySearch:n.triggeredBySearch},this.onDataReceived,this);return}var s=this._aBindingRegistrations.some(function(e){return e.requestedCount!==0})&&this._aBindingRegistrations.every(function(e){return e.requestedCount===0||e.receivedCount>=e.requestedCount});if(n.triggeredBySearch||a.receivedCount>=a.requestedCount){this._isSearchPending=false}if(s){this._isDataReceived=true;this._fnOnFinished()}};r.onDataRequested=function t(i,n){var r=i.getSource();var a=this._aBindingRegistrations.find(function(e){return e.binding===r});if(!a){e.error("PageReady - data requested on an unregistered binding");return}a.requestedCount++;this._isDataReceived=false;if(a.requestedCount-a.receivedCount===1){r.attachEventOnce("dataReceived",{triggeredBySearch:n.triggeredBySearch},this.onDataReceived,this)}};r.onSearch=function t(n){var r=this;var a=this;var s=this._aMDCTables.filter(function(e){var t;return n.getSource().sId===e.getFilter()&&e.getVisible()&&!((t=e.getParent())!==null&&t!==void 0&&t.getProperty("bindingSuspended"))});var d=this._aMDCCharts.filter(function(e){return n.getSource().sId===e.getFilter()&&e.getVisible()});if(s.length>0||d.length>0){this._isSearchPending=true}s.forEach(function(e){a.registerTable(e,true)});d.forEach(function(t){try{var n=i(function(){function e(){r.registerChart(t,true)}var i=function(){if(t.innerChartBoundPromise){return Promise.resolve(t.innerChartBoundPromise).then(function(){})}}();return i&&i.then?i.then(e):e(i)},function(t){e.error("Cannot find a inner bound chart",t)});return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}})};r.register=function e(t,i){var n,r;var a=i.binding||((n=i.table)===null||n===void 0?void 0:n.getRowBinding())||((r=i.chart)===null||r===void 0?void 0:r.getControlDelegate().getInnerChart(i.chart).getBinding("data"));var s=i.table||i.chart;if(!a){return}var d=this._aBindingRegistrations.find(function(e){return e.binding===a});if(d){if(s){d.boundControl=s}if(d.requestedCount>0){a.detachEvent("dataRequested",this.onDataRequested,this);a.attachEventOnce("dataRequested",{triggeredBySearch:i.triggeredBySearch},this.onDataRequested,this)}return}if(s){d=this._aBindingRegistrations.find(function(e){return e.boundControl===s});if(d&&d.binding!==a){d.binding=a;d.requestedCount=0;d.receivedCount=0}}if(!d){d={binding:a,boundControl:s,requestedCount:0,receivedCount:0};this._aBindingRegistrations.push(d)}a.detachEvent("dataRequested",this.onDataRequested,this);a.attachEventOnce("dataRequested",{triggeredBySearch:i.triggeredBySearch},this.onDataRequested,this)};r.registerBinding=function e(t){this.register(null,{binding:t,triggeredBySearch:false})};r.registerTable=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this._aMDCTables.indexOf(t)<0){this._aMDCTables.push(t)}var n=t.getRowBinding();if(n){this.register(null,{table:t,triggeredBySearch:i})}if(this._aOtherEventSources.indexOf(t)===-1){t.attachEvent("bindingUpdated",{table:t,triggeredBySearch:i},this.register,this);this._aOtherEventSources.push(t)}};r.registerChart=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this._aMDCCharts.indexOf(t)<0){this._aMDCCharts.push(t)}var n=t.getControlDelegate().getInnerChart(t);var r=n===null||n===void 0?void 0:n.getBinding("data");if(r){this.register(null,{chart:t,triggeredBySearch:i})}if(this._aOtherEventSources.indexOf(t)===-1){t.attachEvent("bindingUpdated",{chart:t,triggeredBySearch:i},this.register,this);this._aOtherEventSources.push(t)}};r.registerTableOrChart=function n(r){try{var a=this;if(!r.isA("sap.ui.mdc.Table")&&!r.isA("sap.ui.mdc.Chart")){return Promise.resolve()}var s=i(function(){return Promise.resolve(r.initialized()).then(function(){var e=function(){if(r.isA("sap.ui.mdc.Table")){a.registerTable(r);var e=function(){if(r.getAutoBindOnInit()&&r.getDomRef()){return Promise.resolve(t.whenBound(r)).then(function(){})}}();if(e&&e.then)return e.then(function(){})}else{a.registerChart(r)}}();if(e&&e.then)return e.then(function(){})})},function(t){e.error("PageReady - Cannot register a table or a chart",t)});return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};r.registerFilterBar=function e(t){t.attachEvent("search",this.onSearch,this);this._aOtherEventSources.push(t)};return n}();return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/routing/RouterProxy", ["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/Synchronization","sap/ui/base/Object","sap/ui/core/Core","sap/ui/thirdparty/URI"],function(e,t,a,s,i,r){"use strict";var n,o;var h=t.defineUI5Class;function u(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,a){t.__proto__=a;return t};return c(e,t)}var l={EQUAL:0,COMPATIBLE:1,ANCESTOR:2,DIFFERENT:3};var f={LAYOUTPARAM:"layout",IAPPSTATEPARAM:"sap-iapp-state"};function d(e){return{_guardHash:e.replace(/\?[^\?]*$/,""),check:function(e){return e.indexOf(this._guardHash)===0}}}function g(e){var t=e.match(new RegExp("\\?.*".concat(f.IAPPSTATEPARAM,"=([^&]*)")));return t&&t.length>1?t[1]:null}function p(e){return e.replace(new RegExp("[&?]*".concat(f.IAPPSTATEPARAM,"=[^&]*")),"")}function y(e,t){var a;if(e.indexOf(f.IAPPSTATEPARAM)>=0){a=e.replace(new RegExp("".concat(f.IAPPSTATEPARAM,"=[^&]*")),"".concat(f.IAPPSTATEPARAM,"=").concat(t))}else{if(e.indexOf("?")<0){a="".concat(e,"?")}else{a="".concat(e,"&")}a+="".concat(f.IAPPSTATEPARAM,"=").concat(t)}return a}var _=(n=h("sap.fe.core.RouterProxy"),n(o=function(t){u(s,t);function s(){var e;for(var a=arguments.length,s=new Array(a),i=0;i<a;i++){s[i]=arguments[i]}e=t.call.apply(t,[this].concat(s))||this;e.bIsRebuildHistoryRunning=false;e.bIsComputingTitleHierachy=false;e.bIsGuardCrossAllowed=false;e.sIAppStateKey=null;e._bActivateRouteMatchSynchro=false;e._bApplyRestore=false;e._bDelayedRebuild=false;e._pathMappings=[];return e}var n=s.prototype;n.init=function t(a,s){var i=this;a.getService("shellServices").then(function(){i._oShellServices=a.getShellServices();i.initRaw(a.getRouter());i.waitForRouteMatchBeforeNavigation();history.replaceState(Object.assign({feLevel:0},history.state),"",window.location);i.fclEnabled=s;i._fnBlockingNavFilter=i._blockingNavigationFilter.bind(i);i._oShellServices.registerNavigationFilter(i._fnBlockingNavFilter)}).catch(function(t){e.error("Cannot retrieve the shell services",t)});this._fnHashGuard=this.hashGuard.bind(this);window.addEventListener("popstate",this._fnHashGuard);this._bDisableOnHashChange=false;this._bIgnoreRestore=false;this._bForceFocus=true};n.destroy=function e(){if(this._oShellServices){this._oShellServices.unregisterNavigationFilter(this._fnBlockingNavFilter)}window.removeEventListener("popstate",this._fnHashGuard)};n.initRaw=function e(t){this._oRouter=t;this._oManagedHistory=[];this._oNavigationGuard=null;var a=this.getHash();this._oManagedHistory.push(this._extractStateFromHash(a));this.sIAppStateKey=g(a)};n.getHash=function e(){return this._oRouter.getHashChanger().getHash()};n.isFocusForced=function e(){return this._bForceFocus};n.setFocusForced=function e(t){this._bForceFocus=t};n.removeIAppStateKey=function e(){this.sIAppStateKey=null};n.navToHash=function e(t,a,s,i,r){var n=this;if(r!==false){this._oShellServices.setBackNavigation()}if(this._oRouteMatchSynchronization){return this._oRouteMatchSynchronization.waitFor().then(function(){n._oRouteMatchSynchronization=undefined;return n._internalNavToHash(t,a,s,i)})}else{if(this._bActivateRouteMatchSynchro){this.waitForRouteMatchBeforeNavigation()}return this._internalNavToHash(t,a,s,i)}};n._internalNavToHash=function e(t,a,s,r){if(this.fclEnabled&&this.sIAppStateKey&&!g(t)){t=y(t,this.sIAppStateKey)}if(!this.checkHashWithGuard(t)){if(!this.oResourceBundle){this.oResourceBundle=i.getLibraryResourceBundle("sap.fe.core")}if(!confirm(this.oResourceBundle.getText("C_ROUTER_PROXY_SAPFE_EXIT_NOTSAVED_MESSAGE"))){return Promise.resolve(false)}this.bIsGuardCrossAllowed=true}var n=this._extractStateFromHash(t);if(!this._bForceFocus){var o=this._extractEntitySetsFromHash(this.getHash());this._bForceFocus=r||o.length<n.keys.length&&o.every(function(e,t){return e===n.keys[t]})}var h=this._pushNewState(n,false,a,s);return this._rebuildBrowserHistory(h,false)};n.restoreHistory=function e(){if(this._bApplyRestore){this._bApplyRestore=false;var t=this.getHash();t=t.replace(/(\?|&)restoreHistory=true/,"");var a=this._extractStateFromHash(t);var s=this._pushNewState(a,true,false,true);return this._rebuildBrowserHistory(s,true)}else{return Promise.resolve()}};n.navBack=function e(){var t=this.getHash();var a;for(var s=this._oManagedHistory.length-1;s>0;s--){if(this._oManagedHistory[s].hash===t){a=this._oManagedHistory[s-1].hash;break}}if(a){return this.navToHash(a)}else{window.history.back();return Promise.resolve()}};n.navTo=function e(t,a){var s=this._oRouter.getURL(t,a);return this.navToHash(s,false,a.noPreservationCache,false,!a.bIsStickyMode)};n.exitFromApp=function e(){return this._oShellServices.backToPreviousApp()};n.isCurrentStateImpactedBy=function e(t){if(t[0]==="/"){t=t.substring(1)}var a=d(t);return a.check(this.getHash())};n.isNavigationFinalized=function e(){return!this.bIsRebuildHistoryRunning&&!this._bDelayedRebuild};n.setNavigationGuard=function e(t){this._oNavigationGuard=d(t);this.bIsGuardCrossAllowed=false};n.discardNavigationGuard=function e(){this._oNavigationGuard=null};n.hasNavigationGuard=function e(){return this._oNavigationGuard!==null};n.checkHashWithGuard=function e(t){return this._oNavigationGuard===null||this._oNavigationGuard.check(t)};n.isGuardCrossAllowedByUser=function e(){return this.bIsGuardCrossAllowed};n.activateRouteMatchSynchronization=function e(){this._bActivateRouteMatchSynchro=true};n.resolveRouteMatch=function e(){if(this._oRouteMatchSynchronization){this._oRouteMatchSynchronization.resolve()}};n.waitForRouteMatchBeforeNavigation=function e(){this._oRouteMatchSynchronization=new a;this._bActivateRouteMatchSynchro=false};n._extractEntitySetsFromHash=function e(t){if(t===undefined){t=""}var a=t.split("?")[0];var s=a.split("/");var i=[];s.forEach(function(e){if(e.length){i.push(e.split("(")[0])}});return i};n._extractStateFromHash=function e(t){if(t===undefined){t=""}var a={keys:this._extractEntitySetsFromHash(t)};var s=t.match(new RegExp("\\?.*".concat(f.LAYOUTPARAM,"=([^&]*)")));a.sLayout=s&&s.length>1?s[1]:null;if(a.sLayout==="MidColumnFullScreen"){a.screenMode=1}else if(a.sLayout==="EndColumnFullScreen"){a.screenMode=2}else{a.screenMode=0}a.hash=t;return a};n._pushNewState=function e(t,a,s,i){var r=this.getHash();var n=this._oManagedHistory.length-1;var o=a?1:0;if(!a){while(n>=0&&this._oManagedHistory[n].hash!==r){this._oManagedHistory.pop();n--}if(this._oManagedHistory.length===0){this._oManagedHistory.push(this._extractStateFromHash(r));history.replaceState(Object.assign({feLevel:0},history.state),"")}}if(s&&!i){this._oManagedHistory[this._oManagedHistory.length-1].preserved=true}var h;while(this._oManagedHistory.length>0){var u=this._oManagedHistory[this._oManagedHistory.length-1];if((i||!u.preserved)&&this._compareCacheStates(u,t)!==l.ANCESTOR){h=this._oManagedHistory.pop();o++}else if(u.preserved&&p(u.hash)===p(t.hash)){h=this._oManagedHistory.pop();o++;t.preserved=true;break}else{break}}this.sIAppStateKey=g(t.hash);if(!this.fclEnabled&&h){var c=g(h.hash);var f=this._compareCacheStates(h,t);if(!this.sIAppStateKey&&c&&(f===l.EQUAL||f===l.COMPATIBLE)){t.hash=y(t.hash,c)}}var d=h&&t.hash===h.hash;if(this._oManagedHistory.length===0||this._oManagedHistory[this._oManagedHistory.length-1].hash!==t.hash){this._oManagedHistory.push(t)}if(o===0){return{type:"append"}}else if(o===1){return d?{type:"none"}:{type:"replace"}}else{return d?{type:"back",steps:o-1}:{type:"back-replace",steps:o-1}}};n._blockingNavigationFilter=function e(){return this._bDisableOnHashChange?"Custom":"Continue"};n._disableEventOnHashChange=function e(){this._bDisableOnHashChange=true;this._oRouter.stop()};n._enableEventOnHashChange=function e(t){this._bDisableOnHashChange=false;this._oRouter.initialize(t)};n._rebuildBrowserHistory=function e(t,a){var s=this;var i=this;return new Promise(function(e){s.bIsRebuildHistoryRunning=true;var r=s._oManagedHistory[s._oManagedHistory.length-1],n=s._oManagedHistory.length-1;function o(){if(!a){i._enableEventOnHashChange(true)}i._oRouter.getHashChanger().replaceHash(r.hash);history.replaceState(Object.assign({feLevel:n},history.state),"");if(a){setTimeout(function(){i._enableEventOnHashChange(true)},0)}i.bIsRebuildHistoryRunning=false;e(true)}function h(){window.removeEventListener("popstate",h);setTimeout(function(){o()},0)}function u(){window.removeEventListener("popstate",u);i.bIsRebuildHistoryRunning=false;e(true)}i._bIgnoreRestore=true;switch(t.type){case"replace":i._oRouter.getHashChanger().replaceHash(r.hash);history.replaceState(Object.assign({feLevel:n},history.state),"");i.bIsRebuildHistoryRunning=false;e(true);break;case"append":i._oRouter.getHashChanger().setHash(r.hash);history.replaceState(Object.assign({feLevel:n},history.state),"");i.bIsRebuildHistoryRunning=false;e(true);break;case"back":window.addEventListener("popstate",u);history.go(-t.steps);break;case"back-replace":s._disableEventOnHashChange();window.addEventListener("popstate",h);history.go(-t.steps);break;default:s.bIsRebuildHistoryRunning=false;e(false)}})};n.getLastHistoryEntry=function e(){return this._oManagedHistory[this._oManagedHistory.length-1]};n.setPathMapping=function e(t){this._pathMappings=t.filter(function(e){return e.oldPath!==e.newPath})};n.hashGuard=function e(){var t=this;var a=window.location.hash;if(a.indexOf("restoreHistory=true")!==-1){this._bApplyRestore=true}else if(!this.bIsRebuildHistoryRunning){var s=this._pathMappings.find(function(e){return a.indexOf(e.oldPath)>=0});if(s){a=a.replace(s.oldPath,s.newPath);history.replaceState(Object.assign({},history.state),"",a)}else{var i=a.split("&/");var r=i[1]?i[1]:"";if(this.checkHashWithGuard(r)){this._bDelayedRebuild=true;var n=this._extractStateFromHash(r);this._pushNewState(n,false,false,true);setTimeout(function(){t._bDelayedRebuild=false},0)}}}};n._compareCacheStates=function e(t,a){if(t.keys.length>a.keys.length){return l.DIFFERENT}var s=true;var i;for(i=0;s&&i<t.keys.length;i++){if(t.keys[i]!==a.keys[i]){s=false}}if(!s){return l.DIFFERENT}if(t.keys.length<a.keys.length||t.screenMode<a.screenMode){return l.ANCESTOR}if(t.screenMode>a.screenMode){return l.DIFFERENT}return t.sLayout===a.sLayout?l.EQUAL:l.COMPATIBLE};n.checkIfBackIsOutOfGuard=function e(t){var a;var s;if(t===undefined){var i=this._oShellServices.splitHash(window.location.hash);if(i&&i.appSpecificRoute){s=i.appSpecificRoute;if(s.indexOf("&/")===0){s=s.substring(2)}}else{s=window.location.hash.substring(1);if(s[0]==="/"){s=s.substring(1)}}}else{s=t}t=r.decode(s);if(this._oNavigationGuard){for(var n=this._oManagedHistory.length-1;n>0;n--){if(this._oManagedHistory[n].hash===t){a=this._oManagedHistory[n-1].hash;break}}return!a||!this.checkHashWithGuard(a)}return false};n.checkIfBackHasSameContext=function e(){if(this._oManagedHistory.length<2){return false}var t=this._oManagedHistory[this._oManagedHistory.length-1];var a=this._oManagedHistory[this._oManagedHistory.length-2];return t.hash.split("?")[0]===a.hash.split("?")[0]};return s}(s))||o);return _},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/Any", ["sap/ui/base/ManagedObject"],function(e){"use strict";var n=e.extend("sap.fe.core.controls.Any",{metadata:{properties:{any:"any",anyText:"string"}},updateProperty:function(e){if(e==="any"){this.setAny(this.getBindingInfo(e).binding.getExternalValue())}else{this.setAnyText(this.getBindingInfo(e).binding.getExternalValue())}}});return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/AnyElement", ["sap/ui/core/Element"],function(e){"use strict";var t=e.extend("sap.fe.core.controls.AnyElement",{metadata:{properties:{anyText:"string"}},updateProperty:function(e){if(e==="anyText"){this.setAnyText(this.getBindingInfo(e).binding.getExternalValue())}}});return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/CommandExecution", ["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/ui/core/CommandExecution","sap/ui/core/Component","sap/ui/core/Element","sap/ui/core/Shortcut"],function(t,e,r,o,n,i){"use strict";var s,a;var c=e.defineUI5Class;function u(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;p(t,e)}function p(t,e){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,r){e.__proto__=r;return e};return p(t,e)}var f=(s=c("sap.fe.core.controls.CommandExecution"),s(a=function(e){u(r,e);function r(t,r){return e.call(this,t,r)||this}var s=r.prototype;s.setParent=function t(r){e.prototype.setParent.call(this,r);var o=r.data("sap.ui.core.Shortcut");if(Array.isArray(o)&&o.length>0){var n=r.data("sap.ui.core.Shortcut")[o.length-1],i=n.shortcutSpec;if(i){for(var s in i){if(i[s]&&s!=="key"){return this}}}return this}};s.destroy=function t(e){var r=this.getParent();if(r){var o=this._getCommandInfo();if(o){i.unregister(this.getParent(),o.shortcut)}this._cleanupContext(r)}n.prototype.destroy.apply(this,[e])};s.setVisible=function r(n){var i,s=this.getParent(),a;while(!a&&s){a=o.getOwnerComponentFor(s);s=s.getParent()}if(a){i=a.getCommand(this.getCommand());if(i){e.prototype.setVisible.call(this,n)}else{t.info("There is no shortcut definition registered in the manifest for the command : "+this.getCommand())}}return this};return r}(r))||a);return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/ConditionalWrapper", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/Control"],function(e,t){"use strict";var r,i,n,a,l,o,u,c,s,p,f,b,d,y,h,m,v;var g=e.property;var _=e.implementInterface;var w=e.defineUI5Class;var z=e.association;var C=e.aggregation;function A(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function B(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function L(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}function O(e,t){O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return O(e,t)}function j(e,t,r,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function S(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var F=(r=w("sap.fe.core.controls.ConditionalWrapper"),i=_("sap.ui.core.IFormContent"),n=g({type:"sap.ui.core.CSSSize",defaultValue:null}),a=g({type:"boolean",defaultValue:false}),l=g({type:"boolean",defaultValue:false}),o=z({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),u=C({type:"sap.ui.core.Control",multiple:false,isDefault:true}),c=C({type:"sap.ui.core.Control",multiple:false}),r(s=(p=function(e){L(t,e);function t(){var t;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}t=e.call.apply(e,[this].concat(i))||this;A(t,"__implements__sap_ui_core_IFormContent",f,B(t));A(t,"width",b,B(t));A(t,"formDoNotAdjustWidth",d,B(t));A(t,"condition",y,B(t));A(t,"ariaLabelledBy",h,B(t));A(t,"contentTrue",m,B(t));A(t,"contentFalse",v,B(t));return t}var r=t.prototype;r.enhanceAccessibilityState=function e(t,r){var i=this.getParent();if(i&&i.enhanceAccessibilityState){i.enhanceAccessibilityState(this,r)}return r};r._setAriaLabelledBy=function e(t){if(t&&t.addAriaLabelledBy){var r=this.ariaLabelledBy;for(var i=0;i<r.length;i++){var n=r[i];var a=t.getAriaLabelledBy()||[];if(a.indexOf(n)===-1){t.addAriaLabelledBy(n)}}}};r.onBeforeRendering=function e(){this._setAriaLabelledBy(this.contentTrue);this._setAriaLabelledBy(this.contentFalse)};t.render=function e(t,r){t.openStart("div",r);t.style("width",r.width);t.style("display","inline-block");t.openEnd();if(r.condition){t.renderControl(r.contentTrue)}else{t.renderControl(r.contentFalse)}t.close("div")};return t}(t),f=j(p.prototype,"__implements__sap_ui_core_IFormContent",[i],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),b=j(p.prototype,"width",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),d=j(p.prototype,"formDoNotAdjustWidth",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),y=j(p.prototype,"condition",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),h=j(p.prototype,"ariaLabelledBy",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),m=j(p.prototype,"contentTrue",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),v=j(p.prototype,"contentFalse",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),p))||s);return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/CustomFilterFieldContentWrapper", ["sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/SemanticDateOperators","sap/ui/base/ManagedObjectObserver","sap/ui/core/Control","sap/ui/mdc/condition/Condition","sap/ui/mdc/enum/ConditionValidated","sap/ui/mdc/field/ConditionsType","sap/ui/model/json/JSONModel"],function(e,t,i,n,r,o,a,l){"use strict";var u,s,d,c,p,f,h,v,b,g,y,_,C,m,w,O;var F={};var M=e.property;var A=e.implementInterface;var I=e.event;var L=e.defineUI5Class;var S=e.aggregation;function E(e,t,i,n){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function j(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function z(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;V(e,t)}function V(e,t){V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return V(e,t)}function P(e,t,i,n,r){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function D(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var T=(u=L("sap.fe.core.controls.CustomFilterFieldContentWrapper"),s=A("sap.ui.core.IFormContent"),d=M({type:"sap.ui.core.CSSSize",defaultValue:null}),c=M({type:"boolean",defaultValue:false}),p=M({type:"object[]",defaultValue:[]}),f=S({type:"sap.ui.core.Control",multiple:false,isDefault:true}),h=I(),u(v=(b=(O=function(e){z(n,e);function n(){var t;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++){n[r]=arguments[r]}t=e.call.apply(e,[this].concat(n))||this;E(t,"__implements__sap_ui_core_IFormContent",g,j(t));E(t,"width",y,j(t));E(t,"formDoNotAdjustWidth",_,j(t));E(t,"conditions",C,j(t));E(t,"content",m,j(t));E(t,"conditionsChange",w,j(t));return t}F=n;n.render=function e(t,i){t.openStart("div",i);t.style("min-height","1rem");t.style("width",i.width);t.openEnd();t.renderControl(i.getContent());t.close("div")};n._filterValuesToConditions=function e(i,n){var l={operators:[]},u=[];if(n){l={operators:[n]}}if(i===""){i=[]}else if(typeof i==="object"&&i.hasOwnProperty("operator")&&i.hasOwnProperty("values")){l={operators:[i.operator]};i=i.values}else if(i!==undefined&&typeof i!=="object"&&typeof i!=="string"){throw new Error("FilterUtils.js#_filterValuesToConditions: Unexpected type of input parameter vValues: ".concat(typeof i))}var s=new a(l);var d=Array.isArray(i)?i:[i];if(typeof n==="string"&&t.getSemanticDateOperations().includes(n)){u=[r.createCondition(n,d,null,null,o.NotValidated)]}else{u=d.map(function(e){var t=e===null||e===void 0?void 0:e.toString(),i=s.parseValue(t,"any");return i===null||i===void 0?void 0:i[0]}).filter(function(e){return e!==undefined})}return u};n._conditionsToFilterModelString=function e(t,i){var n=new a(i);return t.map(function(e){return n.formatValue([e],"any")||""}).filter(function(e){return e!==""}).join(",")};var u=n.prototype;u._handleFilterModelChange=function e(t){var i=this.getObjectBinding("filterValues").getPath(),n=t.getSource().getProperty(i);this.updateConditionsByFilterValues(n)};u._handleConditionsChange=function e(t){this.updateFilterModelByConditions(t)};u.init=function t(){e.prototype.init.call(this);this._conditionsObserver=new i(this._observeChanges.bind(this));this._conditionsObserver.observe(this,{properties:["conditions"]});this._filterModel=new l;this._filterModel.attachPropertyChange(this._handleFilterModelChange,this);this.setModel(this._filterModel,n.FILTER_MODEL_ALIAS)};u.clone=function t(i,r){var t=e.prototype.clone.call(this,i,r);t.setModel(t._filterModel,n.FILTER_MODEL_ALIAS);return t};u._observeChanges=function e(t){if(t.name==="conditions"){this._handleConditionsChange(t.current)}};u.getContent=function e(){return this.getAggregation("content")};u.getConditions=function e(){return this.getProperty("conditions")};u.setConditions=function e(t){this.setProperty("conditions",t||[]);return this};u.getFilterModelAlias=function e(){return n.FILTER_MODEL_ALIAS};u.updateConditionsByFilterValues=function e(t,i){var r=n._filterValuesToConditions(t,i);this.setConditions(r)};u.updateFilterModelByConditions=function e(t){var i;var r=((i=t[0])===null||i===void 0?void 0:i.operator)||"";var o=r!==""?{operators:[r]}:{operators:[]};if(this.getBindingContext(n.FILTER_MODEL_ALIAS)){var a;var l=n._conditionsToFilterModelString(t,o);this._filterModel.setProperty((a=this.getBindingContext(n.FILTER_MODEL_ALIAS))===null||a===void 0?void 0:a.getPath(),l)}};u.getAccessibilityInfo=function e(){var t;var i=this.getContent();return(i===null||i===void 0?void 0:(t=i.getAccessibilityInfo)===null||t===void 0?void 0:t.call(i))||{}};u.getIdForLabel=function e(){var t=this.getContent();return t===null||t===void 0?void 0:t.getIdForLabel()};return n}(n),O.FILTER_MODEL_ALIAS="filterValues",O),g=P(b.prototype,"__implements__sap_ui_core_IFormContent",[s],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),y=P(b.prototype,"width",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),_=P(b.prototype,"formDoNotAdjustWidth",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),C=P(b.prototype,"conditions",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),m=P(b.prototype,"content",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),w=P(b.prototype,"conditionsChange",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||v);F=T;return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/CustomQuickViewPage", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/fe/macros/DelegateUtil","sap/m/QuickViewPage"],function(e,t,r,i,a){"use strict";var n,o,s,l,c,p,u;var f=t.defineUI5Class;var g=t.aggregation;function m(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}function b(e,t){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return b(e,t)}function d(e,t,r,i,a){var n={};Object.keys(i).forEach(function(e){n[e]=i[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n);if(a&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(a):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}function y(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var C=(n=f("sap.fe.core.controls.CustomQuickViewPage"),o=g({type:"sap.ui.core.Control",multiple:true}),s=g({type:"sap.m.QuickViewGroup",multiple:true,singularName:"group",isDefault:true}),n(l=(c=function(t){v(a,t);function a(){var e;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++){i[a]=arguments[a]}e=t.call.apply(t,[this].concat(i))||this;m(e,"customContent",p,h(e));m(e,"groups",u,h(e));return e}var n=a.prototype;n.onBeforeRendering=function a(n){var o=this;if(this.getParent()&&this.getParent().isA("sap.fe.core.controls.ConditionalWrapper")&&this.getParent().getProperty("condition")===true){this.setCrossAppNavCallback(function(){var t=i.getCustomData(o,"titleLink");var a=e.getTargetView(o);var n=e.getAppComponent(a);var s=n.getShellServices();var l=s.parseShellHash(t);var c={target:{semanticObject:l.semanticObject,action:l.action},params:l.params};var p="".concat(c.target.semanticObject,"-").concat(c.target.action);if(p&&o.oCrossAppNavigator&&o.oCrossAppNavigator.isNavigationSupported([p])){if(p&&p!==""){if(typeof p==="string"&&p!==""){var u=o.getParent();while(u&&!u.isA("sap.ui.mdc.Link")){u=u.getParent()}var f=u.getModel("$sapuimdcLink").getProperty("/titleLinkHref");if(f){l=s.parseShellHash(f)}else{l=s.parseShellHash(p);l.params=c.params}r.storeControlRefreshStrategyForHash(a,l);return{target:{semanticObject:l.semanticObject,action:l.action},params:l.params}}}}else{var g=s.parseShellHash(window.location.hash);r.storeControlRefreshStrategyForHash(a,g);return{target:{semanticObject:g.semanticObject,action:g.action,appSpecificRoute:g.appSpecificRoute},params:g.params}}})}t.prototype.onBeforeRendering.call(this,n);var s=this.getPageContent();var l=s.form;if(l){var c=this.customContent;if(c&&c.length>0){c.forEach(function(e){var t=e.clone();t.setModel(o.getModel());t.setBindingContext(o.getBindingContext());l.addContent(t)});setTimeout(function(){l.rerender()},0)}}};return a}(a),p=d(c.prototype,"customContent",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),u=d(c.prototype,"groups",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||l);return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/DataLossOrDraftDiscard/DataLossOrDraftDiscardHandler", ["sap/base/Log","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/model/json/JSONModel"],function(e,t,n,r,a){"use strict";var o={};var i;(function(e){e["Save"]="draftDataLossOptionSave";e["Keep"]="draftDataLossOptionKeep";e["Discard"]="draftDataLossOptionDiscard"})(i||(i={}));var s;var c;function f(o,f,d,D){var g;s=o;c=f;var m="sap.fe.core.controls.DataLossOrDraftDiscard.DataLossDraft";var L=d.getView();var h={onDataLossOk:function(){var t=l(g);if(t===i.Save){p(d).then(s).catch(function(t){e.error("Error while saving document",t)});g.close()}else if(t===i.Keep){s();g.close()}else if(t===i.Discard){u(d,D).then(s).catch(function(t){e.error("Error while discarding draft",t)});g.close()}},onDataLossCancel:function(){c();g.close()},setDataLossPopup:function(e){d.dataLossPopup=e}};var P=L.getModel("sap.fe.i18n");var w=new a({}),O={bindingContexts:{this:w.createBindingContext("/")},models:{this:w,i18n:P}};if(d.dataLossPopup){g=d.dataLossPopup;g.open();v(g)}else{var C=r.loadTemplate(m,"fragment");Promise.resolve(n.process(C,{name:m},O)).then(function(e){return t.load({definition:e,controller:h})}).then(function(e){g=e;e.attachAfterOpen(function(){v(g)});L.addDependent(g);g.open();h.setDataLossPopup(g)}).catch(function(t){e.error("Error while opening the Discard Dialog fragment",t)})}}function d(e,t,n,r){return new Promise(function(a,o){var i=function(t){var n=e(t);a(n)};var s=function(){t();o()};f(i,s,n,r)})}o.performAfterDiscardorKeepDraft=d;function u(e,t){var n=e.getView().getBindingContext();var r={skipBackNavigation:true,skipDiscardPopover:true,skipBindingToView:t!==undefined?t:true};return e.editFlow.cancelDocument(n,r)}o.discardDraft=u;function p(e){var t=e.getView().getBindingContext();if(e.isA("sap.fe.templates.ObjectPage.ObjectPageController")){return e._saveDocument(t)}else{return e.editFlow.saveDocument(t)}}o.saveDocument=p;function l(e){var t=e.getContent().find(function(e){return e.data("listIdentifier")==="draftDataLossOptionsList"});return t.getSelectedItem().data("itemKey")}o.getSelectedKey=l;function v(e){var t=e.getContent().find(function(e){return e.data("listIdentifier")==="draftDataLossOptionsList"});var n=t.getItems()[0];t.setSelectedItem(n);e.getButtons()[0].focus()}o.selectAndFocusFirstEntry=v;return{performAfterDiscardorKeepDraft:d,discardDraft:u,saveDocument:p,getSelectedKey:l,selectAndFocusFirstEntry:v}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/FieldWrapper", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/Control"],function(e,t){"use strict";var i,r,n,l,a,o,u,s,c,p,d,f,b,y,h,g,v,m,w,_,A;var z=e.property;var D=e.implementInterface;var E=e.defineUI5Class;var C=e.association;var L=e.aggregation;function B(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function I(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function O(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;j(e,t)}function j(e,t){j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return j(e,t)}function S(e,t,i,r,n){var l={};Object.keys(r).forEach(function(e){l[e]=r[e]});l.enumerable=!!l.enumerable;l.configurable=!!l.configurable;if("value"in l||l.initializer){l.writable=true}l=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},l);if(n&&l.initializer!==void 0){l.value=l.initializer?l.initializer.call(n):void 0;l.initializer=undefined}if(l.initializer===void 0){Object.defineProperty(e,t,l);l=null}return l}function x(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var F=(i=E("sap.fe.core.controls.FieldWrapper"),r=D("sap.ui.core.IFormContent"),n=z({type:"sap.ui.core.TextAlign"}),l=z({type:"sap.ui.core.CSSSize",defaultValue:null}),a=z({type:"boolean",defaultValue:false}),o=z({type:"string",defaultValue:"Display"}),u=z({type:"boolean",defaultValue:false}),s=C({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),c=L({type:"sap.ui.core.Control",multiple:false,isDefault:true}),p=L({type:"sap.ui.core.Control",multiple:true}),i(d=(f=function(e){O(t,e);function t(){var t;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++){r[n]=arguments[n]}t=e.call.apply(e,[this].concat(r))||this;B(t,"__implements__sap_ui_core_IFormContent",b,I(t));B(t,"textAlign",y,I(t));B(t,"width",h,I(t));B(t,"formDoNotAdjustWidth",g,I(t));B(t,"editMode",v,I(t));B(t,"required",m,I(t));B(t,"ariaLabelledBy",w,I(t));B(t,"contentDisplay",_,I(t));B(t,"contentEdit",A,I(t));return t}var i=t.prototype;i.enhanceAccessibilityState=function e(t,i){var r=this.getParent();if(r&&r.enhanceAccessibilityState){r.enhanceAccessibilityState(this,i)}return i};i.getAccessibilityInfo=function e(){var t;if(this.editMode==="Display"){t=this.contentDisplay}else{t=this.contentEdit.length?this.contentEdit[0]:null}return t&&t.getAccessibilityInfo?t.getAccessibilityInfo():{}};i.getIdForLabel=function e(){var t;var i;if(this.editMode==="Display"){i=this.contentDisplay}else{i=this.contentEdit.length?this.contentEdit[0]:null}return(t=i)===null||t===void 0?void 0:t.getIdForLabel()};i._setAriaLabelledBy=function e(t){if(t&&t.addAriaLabelledBy){var i=this.ariaLabelledBy;for(var r=0;r<i.length;r++){var n=i[r];var l=t.getAriaLabelledBy()||[];if(l.indexOf(n)===-1){t.addAriaLabelledBy(n)}}}};i.onBeforeRendering=function e(){this._setAriaLabelledBy(this.contentDisplay);var t=this.contentEdit;for(var i=0;i<t.length;i++){this._setAriaLabelledBy(t[i])}};t.render=function e(t,i){t.openStart("div",i);t.style("text-align",i.textAlign);if(i.editMode==="Display"){t.style("width",i.width);t.openEnd();t.renderControl(i.contentDisplay)}else{var r=i.contentEdit;t.style("width",i.width);t.openEnd();for(var n=0;n<r.length;n++){var l=r[n];t.renderControl(l)}}t.close("div")};return t}(t),b=S(f.prototype,"__implements__sap_ui_core_IFormContent",[r],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),y=S(f.prototype,"textAlign",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),h=S(f.prototype,"width",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),g=S(f.prototype,"formDoNotAdjustWidth",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),v=S(f.prototype,"editMode",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),m=S(f.prototype,"required",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),w=S(f.prototype,"ariaLabelledBy",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),_=S(f.prototype,"contentDisplay",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),A=S(f.prototype,"contentEdit",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||d);return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/FileWrapper", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/fe/macros/ResourceModel","sap/m/BusyDialog","./FieldWrapper"],function(e,t,i,r,n){"use strict";var l,a,o,s,u,p,f,c,d,y,h,b,g,v,m,w,_,E,C,P,z,B,x,U,S,T,A;var L=t.property;var I=t.defineUI5Class;var O=t.aggregation;function k(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function D(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}function R(e,t){R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return R(e,t)}function F(e,t,i,r,n){var l={};Object.keys(r).forEach(function(e){l[e]=r[e]});l.enumerable=!!l.enumerable;l.configurable=!!l.configurable;if("value"in l||l.initializer){l.writable=true}l=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},l);if(n&&l.initializer!==void 0){l.value=l.initializer?l.initializer.call(n):void 0;l.initializer=undefined}if(l.initializer===void 0){Object.defineProperty(e,t,l);l=null}return l}function N(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var V=(l=I("sap.fe.core.controls.FileWrapper"),a=L({type:"sap.ui.core.URI"}),o=L({type:"sap.ui.model.Context"}),s=L({type:"sap.ui.model.Context"}),u=L({type:"string"}),p=L({type:"string"}),f=L({type:"string"}),c=O({type:"sap.m.Avatar",multiple:false}),d=O({type:"sap.ui.core.Icon",multiple:false}),y=O({type:"sap.m.Link",multiple:false}),h=O({type:"sap.m.Text",multiple:false}),b=O({type:"sap.ui.unified.FileUploader",multiple:false}),g=O({type:"sap.m.Button",multiple:false}),l(v=(m=function(t){j(l,t);function l(){var e;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++){r[n]=arguments[n]}e=t.call.apply(t,[this].concat(r))||this;k(e,"uploadUrl",w,D(e));k(e,"parentEntitySet",_,D(e));k(e,"parentEntityType",E,D(e));k(e,"propertyPath",C,D(e));k(e,"filename",P,D(e));k(e,"mediaType",z,D(e));k(e,"avatar",B,D(e));k(e,"icon",x,D(e));k(e,"link",U,D(e));k(e,"text",S,D(e));k(e,"fileUploader",T,D(e));k(e,"deleteButton",A,D(e));e._busy=false;return e}var a=l.prototype;a.getAccessibilityInfo=function e(){var t=[];if(this.avatar){t.push(this.avatar)}if(this.icon){t.push(this.icon)}if(this.link){t.push(this.link)}if(this.text){t.push(this.text)}if(this.fileUploader){t.push(this.fileUploader)}if(this.deleteButton){t.push(this.deleteButton)}return{children:t}};a.onBeforeRendering=function e(){this._setAriaLabels();this._addSideEffects()};a._setAriaLabels=function e(){this._setAriaLabelledBy(this.avatar);this._setAriaLabelledBy(this.icon);this._setAriaLabelledBy(this.link);this._setAriaLabelledBy(this.text);this._setAriaLabelledBy(this.fileUploader);this._setAriaLabelledBy(this.deleteButton)};a._addSideEffects=function e(){var t="",i="",r="",n="";var l=[];this.getCustomData().forEach(function(e){if(e.getProperty("key")==="sourcePath"){i=e.getProperty("value")}});n="/".concat(this.parentEntitySet,"/");t=i.substring(i.indexOf(n)+n.length,i.length);r=t.replace(this.propertyPath,"");l.push({$NavigationPropertyPath:t});if(this.filename){l.push({$NavigationPropertyPath:r+this.filename})}if(this.mediaType){l.push({$NavigationPropertyPath:r+this.mediaType})}this._getSideEffectController().addControlSideEffects(this.parentEntityType,{SourceProperties:t,TargetEntities:l,sourceControlId:this.getId()})};a._getSideEffectController=function e(){var t=this._getViewController();return t?t._sideEffects:undefined};a._getViewController=function t(){var i=e.getTargetView(this);return i&&i.getController()};a.getUploadUrl=function e(){var t=this.getBindingContext();return t&&this.uploadUrl?this.uploadUrl.replace(t.getPath(),t.getCanonicalPath()):""};a.setUIBusy=function e(t){var n=this;this._busy=t;if(t){if(!this.busyDialog){this.busyDialog=new r({text:i.getText("M_FILEWRAPPER_BUSY_DIALOG_TITLE"),showCancelButton:false})}setTimeout(function(){if(n._busy){var e;(e=n.busyDialog)===null||e===void 0?void 0:e.open()}},1e3)}else{var l;(l=this.busyDialog)===null||l===void 0?void 0:l.close(false)}};a.getUIBusy=function e(){return this._busy};l.render=function e(t,i){t.openStart("div",i);t.style("width",i.width);t.openEnd();t.openStart("div");t.style("display","flex");t.style("box-sizing","border-box");t.style("justify-content","space-between");t.style("align-items","center");t.style("flex-wrap","wrap");t.style("align-content","stretch");t.style("width","100%");t.openEnd();t.openStart("div");t.style("display","flex");t.style("align-items","center");t.openEnd();if(i.avatar){t.renderControl(i.avatar)}else{t.renderControl(i.icon);t.renderControl(i.link);t.renderControl(i.text)}t.close("div");t.openStart("div");t.style("display","flex");t.style("align-items","center");t.openEnd();t.renderControl(i.fileUploader);t.renderControl(i.deleteButton);t.close("div");t.close("div");t.close("div")};a.destroy=function e(t){var i=this._getSideEffectController();if(i){i.removeControlSideEffects(this)}delete this.busyDialog;n.prototype.destroy.apply(this,[t])};return l}(n),w=F(m.prototype,"uploadUrl",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),_=F(m.prototype,"parentEntitySet",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),E=F(m.prototype,"parentEntityType",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),C=F(m.prototype,"propertyPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),P=F(m.prototype,"filename",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),z=F(m.prototype,"mediaType",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),B=F(m.prototype,"avatar",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),x=F(m.prototype,"icon",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),U=F(m.prototype,"link",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),S=F(m.prototype,"text",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),T=F(m.prototype,"fileUploader",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),A=F(m.prototype,"deleteButton",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||v);return V},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/FilterBar", ["sap/fe/core/controls/filterbar/FilterContainer","sap/fe/core/controls/filterbar/VisualFilterContainer","sap/fe/core/helpers/ClassSupport","sap/ui/core/Core","sap/ui/mdc/FilterBar","sap/ui/mdc/filterbar/aligned/FilterItemLayout"],function(t,e,i,r,o,n){"use strict";var a,l,s,u,c,f,d;var g=i.property;var h=i.defineUI5Class;var y=i.association;function p(t,e,i,r){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function F(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function B(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;v(t,e)}function v(t,e){v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return v(t,e)}function _(t,e,i,r,o){var n={};Object.keys(r).forEach(function(t){n[t]=r[t]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=i.slice().reverse().reduce(function(i,r){return r(t,e,i)||i},n);if(o&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(o):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(t,e,n);n=null}return n}function b(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var m=(a=h("sap.fe.core.controls.FilterBar"),l=g({type:"string",defaultValue:"compact"}),s=y({type:"sap.m.SegmentedButton",multiple:false}),a(u=(c=function(i){B(o,i);function o(){var t;for(var e=arguments.length,r=new Array(e),o=0;o<e;o++){r[o]=arguments[o]}t=i.call.apply(i,[this].concat(r))||this;p(t,"initialLayout",f,F(t));p(t,"toggleControl",d,F(t));return t}var a=o.prototype;a.setToggleControl=function t(e){if(typeof e==="string"){this._oSegmentedButton=r.byId(e)}else{this._oSegmentedButton=e}if(this.toggleControl&&this._oSegmentedButton){this._oSegmentedButton.detachEvent("select",this._toggleLayout.bind(this))}if(this._oSegmentedButton){this._oSegmentedButton.attachEvent("select",this._toggleLayout.bind(this))}this.setAssociation("toggleControl",e,true)};a._toggleLayout=function t(){var i=this;if(!this._oSecondaryFilterBarLayout){this._oSecondaryFilterBarLayout=new e}if(this._oSecondaryFilterBarLayout.isA("sap.fe.core.controls.filterbar.VisualFilterContainer")){this.setShowAdaptFiltersButton(false)}else{this.setShowAdaptFiltersButton(true)}var r=this._oFilterBarLayout;var o=this.getFilterItems();var n=r.getAllFilterFields();var a=this.getSortedFilterFields(o,n);var l=r.getAllButtons();var s=r.getAllVisualFilterFields&&r.getAllVisualFilterFields();if(this._oSecondaryFilterBarLayout.isA("sap.fe.core.controls.filterbar.VisualFilterContainer")){this._oSecondaryFilterBarLayout.setAllFilterFields(a,s)}this._oFilterBarLayout=this._oSecondaryFilterBarLayout;n.forEach(function(t,e){r.removeFilterField(t);i._oFilterBarLayout.insertFilterField(t,e)});l.forEach(function(t){r.removeButton(t);i._oFilterBarLayout.addButton(t)});this._oSecondaryFilterBarLayout=r;this.setAggregation("layout",this._oFilterBarLayout,true);this._oFilterBarLayout.rerender()};a.getSortedFilterFields=function t(e,i){var r=[];e.forEach(function(t){r.push(t.getId())});i.sort(function(t,e){var i,o;t.getContent().forEach(function(t){if(t.isA("sap.ui.mdc.FilterField")){i=t.getId()}});e.getContent().forEach(function(t){if(t.isA("sap.ui.mdc.FilterField")){o=t.getId()}});return r.indexOf(i)-r.indexOf(o)});return i};a._createInnerLayout=function e(){var i=this;this._oFilterBarLayout=new t;this._cLayoutItem=n;this._oFilterBarLayout.getInner().addStyleClass("sapUiMdcFilterBarBaseAFLayout");this._addButtons();var r=this._oFilterBarLayout.getInner();var o={onBeforeRendering:function(){if(i.initialLayout==="visual"){i._toggleLayout()}r.removeEventDelegate(o)}};r.addEventDelegate(o);this.setAggregation("layout",this._oFilterBarLayout,true)};a.exit=function t(){i.prototype.exit.call(this);if(this._oSegmentedButton){this._oSegmentedButton.detachEvent("select",this._toggleLayout);delete this._oSegmentedButton}};a.getSegmentedButton=function t(){return this._oSegmentedButton};return o}(o),f=_(c.prototype,"initialLayout",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),d=_(c.prototype,"toggleControl",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||u);return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/FormElementWrapper", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/Control"],function(e,t){"use strict";var r,i,n,o,l,a,u,c,s,p,f;var b=e.property;var d=e.implementInterface;var y=e.defineUI5Class;var m=e.aggregation;function v(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;w(e,t)}function w(e,t){w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return w(e,t)}function _(e,t,r,i,n){var o={};Object.keys(i).forEach(function(e){o[e]=i[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function z(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var j=(r=y("sap.fe.core.controls.FormElementWrapper"),i=d("sap.ui.core.IFormContent"),n=b({type:"sap.ui.core.CSSSize",defaultValue:null}),o=b({type:"boolean",defaultValue:false}),l=m({type:"sap.ui.core.Control",multiple:false,isDefault:true}),r(a=(u=function(e){g(t,e);function t(){var t;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}t=e.call.apply(e,[this].concat(i))||this;v(t,"__implements__sap_ui_core_IFormContent",c,h(t));v(t,"width",s,h(t));v(t,"formDoNotAdjustWidth",p,h(t));v(t,"content",f,h(t));return t}var r=t.prototype;r.getAccessibilityInfo=function e(){var t=this.content;return t&&t.getAccessibilityInfo?t.getAccessibilityInfo():{}};t.render=function e(t,r){t.openStart("div",r);t.style("min-height","1rem");t.style("width",r.width);t.openEnd();t.openStart("div");t.style("display","flex");t.style("box-sizing","border-box");t.style("justify-content","space-between");t.style("align-items","center");t.style("flex-wrap","wrap");t.style("align-content","stretch");t.style("width","100%");t.openEnd();t.renderControl(r.content);t.close("div");t.close("div")};return t}(t),c=_(u.prototype,"__implements__sap_ui_core_IFormContent",[i],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),s=_(u.prototype,"width",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),p=_(u.prototype,"formDoNotAdjustWidth",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=_(u.prototype,"content",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||a);return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/MassEditSelect", ["sap/m/Select","sap/m/SelectRenderer"],function(e,r){"use strict";var t=e.extend("sap.fe.core.controls.MassEditSelect",{metadata:{properties:{showValueHelp:{type:"boolean"},valueHelpIconSrc:{type:"string"},selectValue:{type:"string"}},events:{valueHelpRequest:{}},interfaces:["sap.ui.core.IFormContent"]},renderer:{apiVersion:2,render:r.render}});return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/MultiValueParameterDelegate", ["sap/ui/mdc/field/MultiValueFieldDelegate"],function(t){"use strict";var e=Object.assign({},t,{_transformConditions:function(t,e,a){var i=[];for(var n=0;n<t.length;n++){var r={};var s=t[n];r[e]=s.values[0];if(a){r[a]=s.values[1]}i.push(r)}return i},updateItems:function(t,e,a){var i=a.getBinding("items");var n=a.getBindingInfo("items");var r=n.path;var s=n.template;var o=s.getBindingInfo("key");var v=o&&o.parts[0].path;var u=s.getBindingInfo("description");var d=u&&u.parts[0].path;var f=i.getModel();f.setProperty(r,this._transformConditions(e,v,d))}});return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/filterbar/FilterContainer", ["sap/ui/mdc/filterbar/aligned/FilterContainer","sap/fe/core/helpers/ClassSupport"],function(t,e){"use strict";var i,l;var r=e.defineUI5Class;function n(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;o(t,e)}function o(t,e){o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return o(t,e)}var s=(i=r("sap.fe.core.controls.filterbar.FilterContainer"),i(l=function(t){n(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;i.init=function e(){var i;this.aAllFilterFields=[];this.aAllVisualFilters={};for(var l=arguments.length,r=new Array(l),n=0;n<l;n++){r[n]=arguments[n]}(i=t.prototype.init).call.apply(i,[this].concat(r))};i.exit=function e(){var i,l=this;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}(i=t.prototype.exit).call.apply(i,[this].concat(n));this.aAllFilterFields.forEach(function(t){t.destroy()});Object.keys(this.aAllVisualFilters).forEach(function(t){l.aAllVisualFilters[t].destroy()})};i.insertFilterField=function e(i,l){var r=this;var n={onBeforeRendering:function(){if(i._fnGetContentCopy){i.getContent=i._fnGetContentCopy}i.removeEventDelegate(n)}};i.addEventDelegate(n);i.getContent().forEach(function(t){var e=t.getContent&&t.getContent();if(t.isA("sap.ui.mdc.FilterField")&&e&&e.isA("sap.fe.core.controls.filterbar.VisualFilter")){var i=t.getId();r.aAllVisualFilters[i]=e;t.setContent(null)}});this.aAllFilterFields.push(i);t.prototype.insertFilterField.call(this,i,l)};i.removeFilterField=function e(i){var l=this;var r=this.aAllFilterFields.findIndex(function(t){return t.getId()===i.getId()});i.getContent().forEach(function(t){if(t.isA("sap.ui.mdc.FilterField")&&!t.getContent()){var e=t.getId();if(l.aAllVisualFilters[e]){t.setContent(l.aAllVisualFilters[e])}}});this.aAllFilterFields.splice(r,1);t.prototype.removeFilterField.call(this,i)};i.removeAllFilterFields=function t(){this.aAllFilterFields=[];this.aAllVisualFilters={};this.oLayout.removeAllContent()};i.getAllButtons=function t(){return this.oLayout.getEndContent()};i.removeButton=function t(e){this.oLayout.removeEndContent(e)};i.getAllFilterFields=function t(){return this.aAllFilterFields.slice()};i.getAllVisualFilterFields=function t(){return this.aAllVisualFilters};i.setAllFilterFields=function t(e){this.aAllFilterFields=e};return e}(t))||l);return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/filterbar/VisualFilter", ["sap/fe/core/CommonUtils","sap/fe/core/controls/filterbar/utils/VisualFilterUtils","sap/fe/core/helpers/ClassSupport","sap/fe/macros/CommonHelper","sap/fe/macros/filter/FilterUtils","sap/m/VBox","sap/ui/core/Core","../../templating/FilterHelper"],function(e,t,r,a,i,n,o,s){"use strict";var l,c,u,g,p,f,_,h,d,E,v;var I=s.getFiltersConditionsFromSelectionVariant;var m=r.property;var T=r.implementInterface;var R=r.event;var S=r.defineUI5Class;function L(e,t,r,a){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function P(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return y(e,t)}function M(e,t,r,a,i){var n={};Object.keys(a).forEach(function(e){n[e]=a[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},n);if(i&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(i):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}function V(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var F=(l=S("sap.fe.core.controls.filterbar.VisualFilter"),c=T("sap.ui.core.IFormContent"),u=m({type:"boolean"}),g=m({type:"string"}),p=R(),l(f=(_=function(r){P(n,r);function n(){var e;for(var t=arguments.length,a=new Array(t),i=0;i<t;i++){a[i]=arguments[i]}e=r.call.apply(r,[this].concat(a))||this;L(e,"__implements__sap_ui_core_IFormContent",h,b(e));L(e,"showValueHelp",d,b(e));L(e,"valueHelpIconSrc",E,b(e));L(e,"valueHelpRequest",v,b(e));return e}var s=n.prototype;s.onAfterRendering=function e(){var r;var n=this.getItems()[1].getItems()[0];var s=this.data("infoPath");var l=n.getBinding("segments")||n.getBinding("bars")||n.getBinding("points");var c=n.getBindingContext("internal");var u=o.getLibraryResourceBundle("sap.fe.macros");var g=n.data("showOverlayInitially");var p=n.data("selectionVariantAnnotation")?a.parseCustomData(n.data("selectionVariantAnnotation")):{SelectOptions:[]};var f=n.data("requiredProperties")?a.parseCustomData(n.data("requiredProperties")):[];var _=n.getModel().getMetaModel();var h=l?l.getPath():"";var d=this.getParent().getParent();if(d.getMetadata().getElementName()==="sap.ui.mdc.filterbar.p13n.AdaptationFilterBar"){d=d.getParent().getParent()}var E={};var v=[];var m;if(d.getMetadata().getElementName()==="sap.fe.core.controls.FilterBar"){E=d.getConditions();v=d.getPropertyInfoSet();m=d.data("entityType").split("/")[1]}var T=n.data("parameters")?n.data("parameters").customData:[];var R=I(h,_,p,t.getCustomConditions.bind(t));var S=t.convertFilterCondions(R);var L={};Object.keys(E).forEach(function(e){if(E[e].length){L[e]=E[e]}});Object.keys(S).forEach(function(e){if(!L[e]){L[e]=S[e]}});if(g==="true"){if(!Object.keys(p).length){if(f.length>1){c.setProperty(s,{showError:true,errorMessageTitle:u.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:u.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF")})}else{r=_.getObject("".concat(h,"/").concat(f[0],"@com.sap.vocabularies.Common.v1.Label"))||f[0];c.setProperty(s,{showError:true,errorMessageTitle:u.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:u.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",r)})}}else{var b=[];var P=[];if(p.SelectOptions){p.SelectOptions.forEach(function(e){b.push(e.PropertyName.$PropertyPath)})}if(p.Parameters){p.Parameters.forEach(function(e){b.push(e.PropertyName.$PropertyPath)})}f.forEach(function(e){if(b.indexOf(e)===-1){P.push(e)}});if(P.length>1){c.setProperty(s,{showError:true,errorMessageTitle:u.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:u.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF")})}else{r=_.getObject("".concat(h,"/").concat(P[0],"@com.sap.vocabularies.Common.v1.Label"))||P[0];c.setProperty(s,{showError:true,errorMessageTitle:u.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:u.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",r)})}if(P.length>1){c.setProperty(s,{showError:true,errorMessageTitle:u.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:u.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF")})}else{c.setProperty(s,{showError:true,errorMessageTitle:u.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:u.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",P[0])})}}}if(!this._oChartBinding||this._oChartBinding!==l){if(this._oChartBinding){this.detachDataReceivedHandler(this._oChartBinding)}this.attachDataRecivedHandler(l);this._oChartBinding=l}var y=c.getProperty(s)&&c.getProperty(s).showError;var M=h!==""?h.split("/")[1].split("(")[0]:"";if(T&&T.length&&m===M){var V=i.getBindingPathForParameters(d,L,v,T);if(V){l.sPath=V}}if(l&&l.isSuspended()&&!y){l.resume()}};s.attachDataRecivedHandler=function e(t){if(t){t.attachEvent("dataReceived",this.onInternalDataReceived,this);this._oChartBinding=t}};s.detachDataReceivedHandler=function e(t){if(t){t.detachEvent("dataReceived",this.onInternalDataReceived,this);this._oChartBinding=undefined}};s.setShowValueHelp=function e(t){if(this.getItems().length>0){var r=this.getItems()[0].getItems()[0];r.getContent().some(function(e){if(e.isA("sap.m.Button")){e.setVisible(t)}});this.setProperty("showValueHelp",t)}};s.setValueHelpIconSrc=function e(t){if(this.getItems().length>0){var r=this.getItems()[0].getItems()[0];r.getContent().some(function(e){if(e.isA("sap.m.Button")){e.setIcon(t)}});this.setProperty("valueHelpIconSrc",t)}};s.onInternalDataReceived=function r(a){var i=this.getId();var n=e.getTargetView(this);var s=this.getItems()[1].getItems()[0];var l=this.data("infoPath");var c=s.getBindingContext("internal");var u=o.getLibraryResourceBundle("sap.fe.macros");var g=s.data("uom");t.updateChartScaleFactorTitle(s,n,i,l);if(a.getParameter("error")){var p=u.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");var f=u.getText("M_VISUAL_FILTERS_ERROR_DATA_TEXT");t.applyErrorMessageAndTitle(p,f,l,n)}else if(a.getParameter("data")){var _=a.getSource().getCurrentContexts();if(_&&_.length===0){t.setNoDataMessage(l,u,n)}else{c.setProperty(l,{})}t.setMultiUOMMessage(_,s,l,u,n)}if(g&&(g["ISOCurrency"]&&g["ISOCurrency"].$Path||g["Unit"]&&g["Unit"].$Path)){var h=a.getSource().getContexts();var d=h&&h[0].getObject();t.applyUOMToTitle(s,d,n,l)}};return n}(n),h=M(_.prototype,"__implements__sap_ui_core_IFormContent",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),d=M(_.prototype,"showValueHelp",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),E=M(_.prototype,"valueHelpIconSrc",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),v=M(_.prototype,"valueHelpRequest",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),_))||f);return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/filterbar/VisualFilterContainer", ["sap/fe/core/helpers/ClassSupport","sap/m/FlexBox","sap/m/HeaderContainer","sap/ui/core/library","sap/ui/Device","sap/ui/mdc/filterbar/IFilterContainer"],function(e,t,i,n,r,o){"use strict";var l,a,s,u,c;var f=r.system;var d=e.defineUI5Class;var p=e.aggregation;function h(e,t,i,n){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function F(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return y(e,t)}function b(e,t,i,n,r){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function C(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var m=(l=d("sap.fe.core.controls.filterbar.VisualFilterContainer"),a=p({type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}),l(s=(u=function(e){v(r,e);function r(){var t;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++){n[r]=arguments[r]}t=e.call.apply(e,[this].concat(n))||this;h(t,"_layout",c,F(t));return t}var o=r.prototype;o.init=function r(){var o;for(var l=arguments.length,a=new Array(l),s=0;s<l;s++){a[s]=arguments[s]}(o=e.prototype.init).call.apply(o,[this].concat(a));var u=f,c=n.Orientation,d=u.phone?c.Vertical:undefined,p=u.phone?"ColumnReverse":"Column";this.oHeaderContainer=new i({orientation:d});this.oButtonFlexBox=new t({alignItems:"End",justifyContent:"End"});this.oLayout=new t({direction:p,items:[this.oHeaderContainer,this.oButtonFlexBox]});this.aAllFilterFields=[];this.aVisualFilterFields={}};o.exit=function t(){var i;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++){r[o]=arguments[o]}(i=e.prototype.exit).call.apply(i,[this].concat(r));var l=this.getAllFilterFields();l.forEach(function(e){e.destroy()});this.oHeaderContainer=null;this.oButtonFlexBox=null;this.aAllFilterFields=[]};o.insertFilterField=function e(t,i){var n=this;var r={onBeforeRendering:function(){if(!t._fnGetContentCopy){t._fnGetContentCopy=t.getContent}t.getContent=function(){var e=[];e.push(t._oFilterField);return e};t.removeEventDelegate(r)}};t.addEventDelegate(r);var o=this.aVisualFilterFields;t.getContent().some(function(e){var r=e.getId();if(o[r]&&e.isA("sap.ui.mdc.FilterField")){e.setContent(o[r]);n.oHeaderContainer.insertContent(t,i)}})};o.removeFilterField=function e(t){this.oHeaderContainer.removeContent(t)};o.removeAllFilterFields=function e(){this.aAllFilterFields=[];this.aVisualFilterFields={};this.oHeaderContainer.removeAllContent()};o.getFilterFields=function e(){return this.oHeaderContainer.getContent()};o.addButton=function e(t){this.oButtonFlexBox.insertItem(t)};o.getAllButtons=function e(){return this.oButtonFlexBox.getItems().reverse()};o.removeButton=function e(t){this.oButtonFlexBox.removeItem(t)};o.getAllFilterFields=function e(){return this.aAllFilterFields.slice()};o.setAllFilterFields=function e(t,i){this.aAllFilterFields=t;this.aVisualFilterFields=i};return r}(o),c=b(u.prototype,"_layout",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||s);return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/filterbar/utils/VisualFilterUtils", ["sap/base/Log","sap/fe/core/templating/FilterHelper","sap/ui/core/format/NumberFormat","sap/ui/mdc/condition/Condition","sap/ui/model/odata/type/DateTimeOffset"],function(e,t,r,a,n){"use strict";var i=t.getTypeCompliantValue;var o=t.getRangeProperty;var s={applyMedianScaleToChartData:function(e,t,r,a){var n=[];var i=e.data("measure");var o=t.getBindingContext("internal");var s=e.getPoints&&e.getPoints()||e.getBars&&e.getBars()||e.getSegments&&e.getSegments();for(var l=0;l<s.length;l++){n.push(s[l].getBindingContext().getObject())}var c=this._getMedianScaleFactor(n,i);if(c&&c.iShortRefNumber&&c.scale){o.setProperty("scalefactor/".concat(a),c.scale);o.setProperty("scalefactorNumber/".concat(a),c.iShortRefNumber)}else{o.setProperty("scalefactor/".concat(a),"");o.setProperty("scalefactorNumber/".concat(a),"");var u=t.byId("".concat(r,"::ScaleUoMTitle"));var f=t.byId("".concat(r,"::MeasureDimensionTitle"));var g=u.getText();if(g===" | "){u.setVisible(false);f.setTooltip(f.getText())}}},_getMedianScaleFactor:function(e,t){var a;var n;e.sort(function(e,r){if(Number(e[t])<Number(r[t])){return-1}if(Number(e[t])>Number(r[t])){return 1}return 0});if(e.length>0){var i=e.length/2,o=i%1===0?(parseFloat(e[i-1][t])+parseFloat(e[i][t]))/2:parseFloat(e[Math.floor(i)][t]),s=o;for(a=0;a<14;a++){n=Math.pow(10,a);if(Math.round(Math.abs(s)/n)<10){break}}}var l=r.getIntegerInstance({style:"short",showScale:false,shortRefNumber:n});for(a=0;a<e.length;a++){var c=e[a],u=l.format(c[t]),f=u.split(".");if(!f[1]&&parseInt(f[0],10)===0||f[1]&&parseInt(f[0],10)===0&&f[1].indexOf("0")===0||u/1e3>=1e3){n=undefined;break}}return{iShortRefNumber:n,scale:n?l.getScale():""}},getFormattedNumber:function(e,t,a,n){var i;e=typeof e==="string"?Number(e.replace(/,/g,"")):e;if(n){var o=r.getCurrencyInstance({showMeasure:false});return o.format(parseFloat(e),n)}else if(t){i=r.getFloatInstance({style:"short",showScale:false,shortRefNumber:t,shortDecimals:a});return i.format(parseFloat(e))}else{i=r.getFloatInstance({decimals:a});return i.format(parseFloat(e))}},applyUOMToTitle:function(e,t,r,a){var n=e.data("uom");var i;var o;if(n&&n["ISOCurrency"]){i=n["ISOCurrency"];o=i.$Path?t[i.$Path]:i}else if(n&&n["Unit"]){i=n["Unit"]}if(i){var s=i.$Path?t[i.$Path]:i;var l=r.getBindingContext("internal");l.setProperty("uom/".concat(a),s);if(o){l.setProperty("currency/".concat(a),s)}}},updateChartScaleFactorTitle:function(e,t,a,n){if(!e.data("scalefactor")){this.applyMedianScaleToChartData(e,t,a,n)}else{var i=r.getIntegerInstance({style:"short",showScale:false,shortRefNumber:e.data("scalefactor")});var o=t.getBindingContext("internal");o.setProperty("scalefactor/".concat(n),i.getScale())}},applyErrorMessageAndTitle:function(e,t,r,a){var n=a.getBindingContext("internal");n.setProperty(r,{});n.setProperty(r,{errorMessageTitle:e,errorMessage:t,showError:true})},checkMulitUnit:function(e,t){var r=[];if(e&&t){for(var a=0;a<e.length;a++){var n=e[a]&&e[a].getObject();r.push(n[t])}}return!!r.reduce(function(e,t){return e===t?e:NaN})},setMultiUOMMessage:function(t,r,a,n,i){var o=r.data("uom");var s=o&&o["ISOCurrency"]&&o["ISOCurrency"].$Path;var l=o&&o["Unit"]&&o["Unit"].$Path;var c=s||l;var u,f;if(c){if(!this.checkMulitUnit(t,c)){if(s){u=n.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");f=n.getText("M_VISUAL_FILTERS_MULTIPLE_CURRENCY",c);this.applyErrorMessageAndTitle(u,f,a,i);e.warning("Filter is set for multiple Currency for".concat(c))}else if(l){u=n.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");f=n.getText("M_VISUAL_FILTERS_MULTIPLE_UNIT",c);this.applyErrorMessageAndTitle(u,f,a,i);e.warning("Filter is set for multiple UOMs for".concat(c))}}}},setNoDataMessage:function(e,t,r){var a=t.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");var n=t.getText("M_VISUAL_FILTER_NO_DATA_TEXT");this.applyErrorMessageAndTitle(a,n,e,r)},convertFilterCondions:function(e){var t={};Object.keys(e).forEach(function(r){var n=[];var i=e[r];for(var o=0;o<i.length;o++){var s=i[o].value2?[i[o].value1,i[o].value2]:[i[o].value1];n.push(a.createCondition(i[o].operator,s,null,null,"Validated"))}if(n.length){t[r]=n}});return t},getCustomConditions:function(e,t,r){var a,n;if(t.$Type==="Edm.DateTimeOffset"){a=this._parseDateTime(i(this._formatDateTime(e.Low),t.$Type));n=e.High?this._parseDateTime(i(this._formatDateTime(e.High),t.$Type)):null}else{a=e.Low;n=e.High?e.High:null}return{operator:e.Option?o(e.Option.$EnumMember||e.Option):null,value1:a,value2:n,path:r}},_parseDateTime:function(e){return this._getDateTimeTypeInstance().parseValue(e,"string")},_formatDateTime:function(e){return this._getDateTimeTypeInstance().formatValue(e,"string")},_getDateTimeTypeInstance:function(){return new n({pattern:"yyyy-MM-ddTHH:mm:ssZ",calendarType:"Gregorian"},{V4:true})}};return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/massEdit/MassEditHandlers", ["sap/base/Log","sap/fe/core/helpers/ModelHelper","sap/fe/macros/internal/valuehelp/ValueListHelperNew","sap/ui/core/Core"],function(e,t,a,n){"use strict";var r={contextPropertyChange:function(e,t,a){var i=n.byId(a);var u=i&&i.getBindingContext();var o=i&&i.getModel("fieldsInfo");var l=o.getProperty("/values/".concat(t))||o.getProperty("/unitData/".concat(t))||[];if(u&&(l.inputType==="InputWithValueHelp"||l.inputType==="InputWithUnit")&&!l.valueListInfo){r._setValueListInfo(u,i,o,t)}var s=o&&o.getProperty("/isOpen");if(!s||!i.getVisible()){return}r._updateSelectKey(i,t,e)},handleMDCFieldChange:function(t,a){var n=t&&t.getSource();var i=t&&t.getParameter("promise");var u=n.getContent();if(!u||!a){return}i.then(r._updateSelectKeyForMDCFieldChange.bind(r,n,a)).catch(function(t){e.warning("VHD selection couldn't be populated in the mass edit field.".concat(t))})},handleSelectionChange:function(e){var t=e&&e.getSource();var a=t.getSelectedKey();var n=t&&a&&a.split("/");var i;if(n[0]==="UseValueHelpValue"){var u=e.getParameter("previousSelectedItem");var o=u.getKey();i=n.slice(1).join("/");r._onVHSelect(t,i,o);return}var l=t&&t.getModel("fieldsInfo");i=r._getPropertyNameFromKey(a);r._updateSuggestionForFieldsWithInParameters(l,i,a.startsWith("Default/")||a.startsWith("ClearFieldValue/"),true);r._updateSuggestionForFieldsWithOutParameters(l,i,a.startsWith("Default/")||a.startsWith("ClearFieldValue/"),false);r._updateResults(t,n,true)},_updateSelectKeyForMDCFieldChange:function(e,t,a){var n=e&&e.getBindingContext();var i=e&&e.getModel("fieldsInfo");var u=i.getProperty("/values/".concat(t))||i.getProperty("/unitData/".concat(t))||[];if(n&&(u.inputType==="InputWithValueHelp"||u.inputType==="InputWithUnit")&&!u.valueListInfo){r._setValueListInfo(n,e,i,t)}r._updateSuggestionForFieldsWithOutParameters(i,t,false,true);r._updateSuggestionForFieldsWithInParameters(i,t,false,true);var o=e.getFormFormattedValue();r._updateSelectKey(e,t,a,o)},_updateSuggestionForFieldsWithInParameters:function(e,t,a,n){var i=e.getProperty("/values");var u=e.getProperty("/unitData");var o=Object.keys(i);var l=Object.keys(u);o.forEach(r._updateInParameterSuggetions.bind(r,e,"/values/",t,a,n));l.forEach(r._updateInParameterSuggetions.bind(r,e,"/unitData/",t,a,n))},_updateInParameterSuggetions:function(e,t,a,n,i,u){var o=e.getProperty("".concat(t+u,"/valueListInfo"));if(o&&a!=u){var l=o.inParameters;if(l&&l.length>0&&l.includes(a)){r._updateFieldPathSuggestions(e,t+u,n,i)}}},_updateSuggestionForFieldsWithOutParameters:function(e,t,a,n){var i=e.getProperty("/values/".concat(t,"/valueListInfo"))||e.getProperty("/unitData/".concat(t,"/valueListInfo"));if(i&&i.outParameters){var u=i.outParameters;if(u.length&&u.length>0){r._updateOutParameterSuggetions(u,e,a,n);var o=e.getProperty("/values/".concat(t))&&"/values/".concat(t)||e.getProperty("/unitData/".concat(t))&&"/unitData/".concat(t);if(o){r._updateFieldPathSuggestions(e,o,false,true)}}}},_updateOutParameterSuggetions:function(e,t,a,n){var i=t.getProperty("/values");var u=t.getProperty("/unitData");var o=Object.keys(i);var l=Object.keys(u);e.forEach(function(e){if(o.includes(e)){r._updateFieldPathSuggestions(t,"/values/".concat(e),a,n)}else if(l.includes(e)){r._updateFieldPathSuggestions(t,"/unitData/".concat(e),a,n)}})},_updateFieldPathSuggestions:function(e,t,a,n){var r=e.getProperty(t);var i=r.defaultOptions;var u=e.getProperty("".concat(t,"/selectedKey"));var o=n&&r.find(function(e){return e.key===u});if(a){var l=r.selectOptions;r.length=0;i.forEach(function(e){return r.push(e)});l.forEach(function(e){return r.push(e)})}else{r.length=0;i.forEach(function(e){return r.push(e)})}e.setProperty(t,r);if(o&&!r.includes(o)){r.push(o);e.setProperty("".concat(t,"/selectedKey"),u)}},_setValueListInfo:function(e,t,a,n){var i=a.getProperty("/values/".concat(n))&&"/values/"||a.getProperty("/unitData/".concat(n))&&"/unitData/";if(a.getProperty("".concat(i).concat(n,"/valueListInfo"))){return}var u=a.getProperty("".concat(i).concat(n,"/valueListInfo"));if(!u){r._requestValueList(e,t,a,n)}},_requestValueList:function(n,i,u,o){var l;var s=t.getMetaPathForContext(n);var c=s&&"".concat(s,"/").concat(o);var d=i===null||i===void 0?void 0:i.getDependents();var v=i===null||i===void 0?void 0:i.getFieldHelp();var f=d===null||d===void 0?void 0:d.find(function(e){return e.getId()===v});var g=(l=f.getDelegate())===null||l===void 0?void 0:l.payload;if(!(f!==null&&f!==void 0&&f.getBindingContext())){f===null||f===void 0?void 0:f.setBindingContext(n)}var p=n.getModel().getMetaModel();a.createVHUIModel(f,c,p);var y=a.getValueListInfo(f,c,g);y.then(function(e){var t=e[0];var n=u.getProperty("/values/".concat(o))&&"/values/"||u.getProperty("/unitData/".concat(o))&&"/unitData/";var i={inParameters:t.vhParameters&&a.getInParameters(t.vhParameters).map(function(e){return e.helpPath}),outParameters:t.vhParameters&&a.getOutParameters(t.vhParameters).map(function(e){return e.helpPath})};u.setProperty("".concat(n).concat(o,"/valueListInfo"),i);if(i.outParameters.length>0){r._updateFieldPathSuggestions(u,"/values/".concat(o),false,true)}}).catch(function(){e.warning("Mass Edit: Couldn't load valueList info for ".concat(c))})},_getValueHelp:function(e,t){var a=t===null||t===void 0?void 0:t.getDependents();var n=t===null||t===void 0?void 0:t.getFieldHelp();return a===null||a===void 0?void 0:a.find(function(e){return e.getId()===n})},_onVHSelect:function(e,t,a){var n=e&&e.getModel("fieldsInfo");var i=n.getProperty("/values/".concat(t))&&"/values/"||n.getProperty("/unitData/".concat(t))&&"/unitData/";var u=e.getBindingContext();var o=r._getValueHelp(u,e.getParent());if(!(o!==null&&o!==void 0&&o.getBindingContext())){o===null||o===void 0?void 0:o.setBindingContext(u)}e.fireValueHelpRequest();n.setProperty("".concat(i+t,"/selectedKey"),a)},_getPropertyNameFromKey:function(e){var t="";if(e.startsWith("Default/")||e.startsWith("ClearFieldValue/")||e.startsWith("UseValueHelpValue/")){t=e.substring(e.indexOf("/")+1)}else{t=e.substring(0,e.lastIndexOf("/"))}return t},_updateSelectKey:function(e,t,a,n){var i=e.getContent();if(!i||!t){return}var u=i.getSelectedKey();if((u.startsWith("Default/")||u.startsWith("ClearFieldValue/"))&&!a){return}var o=r._valueExists(n)?n:a;var l=e&&e.getModel("fieldsInfo");var s=l.getProperty("/values/".concat(t))||l.getProperty("/unitData/".concat(t))||[];var c=l.getProperty("/values/".concat(t))&&"/values/"||l.getProperty("/unitData/".concat(t))&&"/unitData/";var d=s.find(function(e){var t;return(e===null||e===void 0?void 0:(t=e.textInfo)===null||t===void 0?void 0:t.value)===a||e.text===a});if(d){if(n&&d.textInfo&&d.textInfo.descriptionPath&&(d.text!=o||d.textInfo.fullText!=o)){d.text=o;d.textInfo.fullText=o;d.textInfo.description=e.getAdditionalValue()}if(d.key===u){l.setProperty("".concat(c+t,"/selectedKey"),u);return}u=d.key}else if([undefined,null,""].indexOf(a)===-1){u="".concat(t,"/").concat(a);var v={text:o,key:u,textInfo:{description:e.getAdditionalValue(),descriptionPath:s&&s.textInfo&&s.textInfo.descriptionPath,fullText:o,textArrangement:e.getDisplay(),value:e.getValue(),valuePath:t}};s.push(v);s.selectOptions=s.selectOptions||[];s.selectOptions.push(v);l.setProperty(c+t,s)}else{u="Default/".concat(t)}l.setProperty("".concat(c+t,"/selectedKey"),u);r._updateResults(i)},_getValue:function(e){var t;return e.getMetadata().getName()==="sap.fe.core.controls.MassEditSelect"?(t=e.getSelectedItem())===null||t===void 0?void 0:t.getText():e.getValue()},_getValueOnEmpty:function(e,t,a,n){if(!a){var r=t.getProperty("/values/".concat(n))||t.getProperty("/unitData/".concat(n))||[];if(r.unitProperty){a=0;e.setValue(a)}else if(r.inputType==="CheckBox"){a=false}}return a},_valueExists:function(e){return e!=undefined&&e!=null},_updateResults:function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var a=arguments.length>2?arguments[2]:undefined;var n=e&&e.getModel("fieldsInfo");var i=n&&n.getData();var u=r._getValue(e);t=t.length>0?t:e&&e.getSelectedKey()&&e.getSelectedKey().split("/");var o;var l=e.data("fieldPath");if(t[0]==="Default"){o={keyValue:t[1],value:t[0]}}else if(t[0]==="ClearFieldValue"){u="";u=r._getValueOnEmpty(e,n,u,l);o={keyValue:t[1],value:u}}else if(!t){u=r._getValueOnEmpty(e,n,u,l);o={keyValue:l,value:u}}else{var s=t.slice(0,-1).join("/");var c=n.getProperty("/values/".concat(s))||n.getProperty("/unitData/".concat(s))||[];var d=(c||[]).find(function(e){var t;return(e===null||e===void 0?void 0:(t=e.textInfo)===null||t===void 0?void 0:t.value)===u||e.text===u});o={keyValue:s,value:d.textInfo&&r._valueExists(d.textInfo.value)?d.textInfo.value:d.text}}var v=-1;for(var f=0;f<i.results.length;f++){if(i.results[f].keyValue===o.keyValue){v=f}}if(v!==-1){i.results[v]=o}else{i.results.push(o)}if(a&&!o.keyValue.includes("/")){var g=e.getBindingContext();if(t[0]==="Default"||t[0]==="ClearFieldValue"){g.setProperty(o.keyValue,null)}else if(o){g.setProperty(o.keyValue,o.value)}}}};return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/ConverterContext", ["sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/DataModelPathHelper"],function(t,e,n){"use strict";var a=n.getTargetObjectPath;var r=n.getContextRelativeTargetObjectPath;var i=n.enhanceDataModelPath;var o=e.getInvolvedDataModelObjectFromPath;var s=e.convertTypes;var u=function(t){return typeof t==="object"};function c(t){return t&&t.hasOwnProperty("_type")}var h=function(t,e){var n;var a;var r;var i;var o=[];var s=[];t.objectPath.forEach(function(t){var e;if(c(t)){switch(t._type){case"NavigationProperty":o.push(t.name);s.push(t);i=t.targetType;if(r&&r.navigationPropertyBinding.hasOwnProperty(o.join("/"))){a=r.navigationPropertyBinding[o.join("/")];r=a;o=[]}else{a=undefined}break;case"EntitySet":if(n===undefined){n=t}a=t;r=a;i=(e=a)===null||e===void 0?void 0:e.entityType;break;default:break}}});var u={startingEntitySet:n,targetEntityType:i,targetEntitySet:a,navigationProperties:s,contextLocation:undefined,targetObject:t.target,convertedTypes:e};u.contextLocation=u;return u};var f=function(){function e(e,n,r,i,o){this.convertedTypes=e;this.manifestSettings=n;this.diagnostics=r;this.mergeFn=i;this.targetDataModelPath=o;this.manifestWrapper=new t(this.manifestSettings,i);this.baseContextPath=a(this.targetDataModelPath)}var n=e.prototype;n._getEntityTypeFromFullyQualifiedName=function t(e){return this.convertedTypes.entityTypes.find(function(t){if(e.startsWith(t.fullyQualifiedName)){var n=e.replace(t.fullyQualifiedName,"");return n.startsWith("/")||n.startsWith("@")}return false})};n.getAnnotationEntityType=function t(e){if(e){var n=e.fullyQualifiedName;var a=this._getEntityTypeFromFullyQualifiedName(n);if(!a){throw new Error("Cannot find Entity Type for ".concat(e.fullyQualifiedName))}return a}else{return this.targetDataModelPath.targetEntityType}};n.getManifestControlConfiguration=function t(e){if(u(e)){return this.manifestWrapper.getControlConfiguration(e.fullyQualifiedName.replace(this.targetDataModelPath.targetEntityType.fullyQualifiedName,""))}var n=this.manifestWrapper.hasMultipleEntitySets()&&this.baseContextPath!=="/".concat(this.manifestWrapper.getEntitySet())?"".concat(this.baseContextPath,"/").concat(e):e;return this.manifestWrapper.getControlConfiguration(n)};n.getAbsoluteAnnotationPath=function t(e){if(!e){return e}if(e[0]==="/"){return e}return"".concat(this.baseContextPath,"/").concat(e)};n.getEntitySet=function t(){return this.targetDataModelPath.targetEntitySet};n.getContextPath=function t(){return this.baseContextPath};n.getDataModelObjectPath=function t(){return this.targetDataModelPath};n.getEntityContainer=function t(){return this.convertedTypes.entityContainer};n.getEntityType=function t(){return this.targetDataModelPath.targetEntityType};n.getParameterEntityType=function t(){var e,n;var a=this.targetDataModelPath.startingEntitySet.entityType;var r=!!((e=a.annotations)!==null&&e!==void 0&&(n=e.Common)!==null&&n!==void 0&&n.ResultContext);return r&&a};n.getEntityTypeAnnotation=function t(n){if(!n.includes("@")){throw new Error("Not an annotation path: '".concat(n,"'"))}var a=n.startsWith("/");var r;if(a){r=n}else{var i=this.getContextPath().split("@",1)[0];r=i.endsWith("/")?i+n:"".concat(i,"/").concat(n)}var s=this.resolveAbsolutePath(r);var u=o({target:s.target,visitedObjects:s.objectPath},this.convertedTypes,a?undefined:this.targetDataModelPath.contextLocation,true);return{annotation:s.target,converterContext:new e(this.convertedTypes,this.manifestSettings,this.diagnostics,this.mergeFn,u)}};n.getTemplateType=function t(){return this.manifestWrapper.getTemplateType()};n.getConvertedTypes=function t(){return this.convertedTypes};n.getRelativeAnnotationPath=function t(e,n){return e.replace(n.fullyQualifiedName,"")};n.getEntitySetBasedAnnotationPath=function t(e){if(!e){return e}var n=this.targetDataModelPath.targetEntityType.fullyQualifiedName;if(this.targetDataModelPath.targetEntitySet||(this.baseContextPath.startsWith("/")&&this.baseContextPath.match(/\//g)||[]).length>1){var a=e.replace(n,"/");if(a.length>2&&a[0]==="/"&&a[1]==="/"){a=a.substr(1)}return this.baseContextPath+(a.startsWith("/")?a:"/".concat(a))}else{return"/".concat(e)}};n.getManifestWrapper=function t(){return this.manifestWrapper};n.getDiagnostics=function t(){return this.diagnostics};n.resolveAbsolutePath=function t(e){return this.convertedTypes.resolvePath(e)};n.getConverterContextFor=function t(n){var a=this.convertedTypes.resolvePath(n);var r=h(a,this.convertedTypes);return new e(this.convertedTypes,this.manifestSettings,this.diagnostics,this.mergeFn,r)};n.getAnnotationsByTerm=function t(e,n){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[this.getEntityType()];var r=[];a.forEach(function(t){if(t){var a=(t===null||t===void 0?void 0:t.annotations[e])||{};if(a){r=Object.keys(a).filter(function(t){return a[t].term===n}).reduce(function(t,e){t.push(a[e]);return t},r)}}});return r};n.getRelativeModelPathFunction=function t(){var e=this.targetDataModelPath;return function(t){var n=i(e,t);return r(n,true)}};e.createConverterContextForMacro=function t(n,a,r,i,o){var u=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};var c=a.isA("sap.ui.model.odata.v4.ODataMetaModel")?a:a.getModel();var h=s(c);var f=h.entitySets.find(function(t){return t.name===n});if(!f){f=h.singletons.find(function(t){return t.name===n})}if(!o||f!==o.startingEntitySet){o={startingEntitySet:f,navigationProperties:[],targetEntitySet:f,targetEntityType:f.entityType,targetObject:f,convertedTypes:h}}return new e(h,u,r,i,o)};return e}();return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/ManifestSettings", [],function(){"use strict";var t={};var e;(function(t){t["ListReport"]="ListReport";t["ObjectPage"]="ObjectPage";t["AnalyticalListPage"]="AnalyticalListPage"})(e||(e={}));t.TemplateType=e;var a;(function(t){t["DataFieldForAction"]="ForAction";t["DataFieldForIntentBasedNavigation"]="ForNavigation";t["Default"]="Default";t["Primary"]="Primary";t["Secondary"]="Secondary";t["SwitchToActiveObject"]="SwitchToActiveObject";t["SwitchToDraftObject"]="SwitchToDraftObject";t["DraftActions"]="DraftActions";t["CollaborationAvatars"]="CollaborationAvatars";t["DefaultApply"]="DefaultApply";t["Menu"]="Menu";t["ShowFormDetails"]="ShowFormDetails"})(a||(a={}));t.ActionType=a;var n;(function(t){t["Auto"]="Auto";t["None"]="None";t["Multi"]="Multi";t["Single"]="Single"})(n||(n={}));t.SelectionMode=n;var i;(function(t){t["Page"]="Page";t["Control"]="Control";t["None"]="None"})(i||(i={}));t.VariantManagementType=i;var o;(function(t){t["NewPage"]="NewPage";t["Inline"]="Inline";t["CreationRow"]="CreationRow";t["InlineCreationRows"]="InlineCreationRows";t["External"]="External"})(o||(o={}));t.CreationMode=o;var r;(function(t){t["Table"]="Table";t["Chart"]="Chart"})(r||(r={}));t.VisualizationType=r;var l;(function(t){t["Default"]="Default";t["Adaptation"]="Adaptation";t["Hidden"]="Hidden"})(l||(l={}));t.AvailabilityType=l;var c;(function(t){t["High"]="High";t["Medium"]="Medium";t["Low"]="Low";t["None"]="None"})(c||(c={}));t.Importance=c;var u;(function(t){t["End"]="End";t["Begin"]="Begin";t["Center"]="Center"})(u||(u={}));t.HorizontalAlign=u;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/ManifestWrapper", ["sap/fe/core/converters/ManifestSettings"],function(t){"use strict";var n=t.VariantManagementType;function i(t,n){var e=t===null||t===void 0?void 0:t[n];if(Array.isArray(e)){e.forEach(function(t){return i(t,"annotationPath")})}else if(e&&!e.includes("@")){t[n]="@"+e}}var e=function(){function t(t,n){var e;this.oManifestSettings=t;this.mergeFn=n;i(this.oManifestSettings,"defaultTemplateAnnotationPath");(e=this.oManifestSettings.views)===null||e===void 0?void 0:e.paths.forEach(function(t){i(t,"annotationPath");i(t,"primary");i(t,"secondary")});if(this.oManifestSettings.controlConfiguration){for(var o=0,a=Object.values(this.oManifestSettings.controlConfiguration);o<a.length;o++){var s;var r=a[o];var u=(s=r.tableSettings)===null||s===void 0?void 0:s.quickVariantSelection;i(u,"paths")}}}var e=t.prototype;e.getTemplateType=function t(){return this.oManifestSettings.converterType};e.isFilterBarHidden=function t(){var n;return!!((n=this.oManifestSettings)!==null&&n!==void 0&&n.hideFilterBar)};e.isDesktop=function t(){return!!this.oManifestSettings.isDesktop};e.isPhone=function t(){return!!this.oManifestSettings.isPhone};e.getFormContainer=function t(n){var i;return(i=this.oManifestSettings.controlConfiguration)===null||i===void 0?void 0:i[n]};e.getHeaderFacets=function t(){var n,i,e,o;return this.mergeFn({},(n=this.oManifestSettings.controlConfiguration)===null||n===void 0?void 0:(i=n["@com.sap.vocabularies.UI.v1.HeaderFacets"])===null||i===void 0?void 0:i.facets,(e=this.oManifestSettings.content)===null||e===void 0?void 0:(o=e.header)===null||o===void 0?void 0:o.facets)};e.getHeaderActions=function t(){var n,i;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.header)===null||i===void 0?void 0:i.actions)||{}};e.getFooterActions=function t(){var n,i;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.footer)===null||i===void 0?void 0:i.actions)||{}};e.getVariantManagement=function t(){return this.oManifestSettings.variantManagement||n.None};e.getDefaultTemplateAnnotationPath=function t(){return this.oManifestSettings.defaultTemplateAnnotationPath};e.getControlConfiguration=function t(n){var i,e;return((i=this.oManifestSettings)===null||i===void 0?void 0:(e=i.controlConfiguration)===null||e===void 0?void 0:e[n])||{}};e.getNavigationConfiguration=function t(n){var i,e;return((i=this.oManifestSettings)===null||i===void 0?void 0:(e=i.navigation)===null||e===void 0?void 0:e[n])||{}};e.getViewLevel=function t(){var n;return((n=this.oManifestSettings)===null||n===void 0?void 0:n.viewLevel)||-1};e.getContentDensities=function t(){var n;return((n=this.oManifestSettings)===null||n===void 0?void 0:n.contentDensities)||{cozy:false,compact:false}};e.isFclEnabled=function t(){var n;return!!((n=this.oManifestSettings)!==null&&n!==void 0&&n.fclEnabled)};e.isCondensedLayoutCompliant=function t(){var n,i;var e=((n=this.oManifestSettings)===null||n===void 0?void 0:n.contentDensities)||{cozy:false,compact:false};var o=((i=this.oManifestSettings)===null||i===void 0?void 0:i.shellContentDensity)||"compact";var t=true;if((e===null||e===void 0?void 0:e.cozy)===true&&(e===null||e===void 0?void 0:e.compact)!==true||o==="cozy"){t=false}return t};e.isCompactType=function t(){var n;var i=this.getContentDensities();var e=((n=this.oManifestSettings)===null||n===void 0?void 0:n.shellContentDensity)||"compact";return i.compact!==false||e==="compact"?true:false};e.getSectionLayout=function t(){return this.oManifestSettings.sectionLayout};e.getSections=function t(){var n,i,e,o;return this.mergeFn({},(n=this.oManifestSettings.controlConfiguration)===null||n===void 0?void 0:(i=n["@com.sap.vocabularies.UI.v1.Facets"])===null||i===void 0?void 0:i.sections,(e=this.oManifestSettings.content)===null||e===void 0?void 0:(o=e.body)===null||o===void 0?void 0:o.sections)};e.isHeaderEditable=function t(){return this.getShowObjectPageHeader()&&this.oManifestSettings.editableHeaderContent};e.getShowAnchorBar=function t(){var n,i,e,o;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.header)===null||i===void 0?void 0:i.anchorBarVisible)!==undefined?!!((e=this.oManifestSettings.content)!==null&&e!==void 0&&(o=e.header)!==null&&o!==void 0&&o.anchorBarVisible):true};e.useIconTabBar=function t(){return this.getShowAnchorBar()&&this.oManifestSettings.sectionLayout==="Tabs"};e.getShowObjectPageHeader=function t(){var n,i,e,o;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.header)===null||i===void 0?void 0:i.visible)!==undefined?!!((e=this.oManifestSettings.content)!==null&&e!==void 0&&(o=e.header)!==null&&o!==void 0&&o.visible):true};e.getViewConfiguration=function t(){return this.oManifestSettings.views};e.getStickyMultiTabHeaderConfiguration=function t(){var n=this.oManifestSettings.stickyMultiTabHeader;return n!==undefined?n:true};e.getKPIConfiguration=function t(){return this.oManifestSettings.keyPerformanceIndicators||{}};e.getFilterConfiguration=function t(){return this.getControlConfiguration("@com.sap.vocabularies.UI.v1.SelectionFields")};e.hasMultipleEntitySets=function t(){var n=this;var i=this.getViewConfiguration()||{paths:[]};var e=this.oManifestSettings.entitySet;return i.paths.find(function(t){var i;if((i=t)!==null&&i!==void 0&&i.template){return undefined}else if(n.hasMultipleVisualizations(t)){var o=t,a=o.primary,s=o.secondary;return a.some(function(t){return t.entitySet&&t.entitySet!==e})||s.some(function(t){return t.entitySet&&t.entitySet!==e})}else{t=t;return t.entitySet&&t.entitySet!==e}})!==undefined};e.getContextPath=function t(){var n;return(n=this.oManifestSettings)===null||n===void 0?void 0:n.contextPath};e.hasMultipleVisualizations=function t(n){var i,e;if(!n){var o=this.getViewConfiguration()||{paths:[]};return o.paths.some(function(t){var n,i;return((n=t.primary)===null||n===void 0?void 0:n.length)>0&&((i=t.secondary)===null||i===void 0?void 0:i.length)>0})}return((i=n.primary)===null||i===void 0?void 0:i.length)>0&&((e=n.secondary)===null||e===void 0?void 0:e.length)>0};e.getEntitySet=function t(){return this.oManifestSettings.entitySet};return t}();return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/MetaModelConverter", ["sap/fe/core/converters/common/AnnotationConverter","../helpers/StableIdHelper"],function(e,t){"use strict";var n={};var i=t.generate;function r(e,t){var n=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&typeof e.length==="number"){if(n)e=n;var i=0;var r=function(){};return{s:r,n:function(){if(i>=e.length)return{done:true};return{done:false,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,o=false,l;return{s:function(){n=n.call(e)},n:function(){var e=n.next();a=e.done;return e},e:function(e){o=true;l=e},f:function(){try{if(!a&&n.return!=null)n.return()}finally{if(o)throw l}}}}function a(e,t,n){t=o(t);if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function o(e){var t=l(e,"string");return typeof t==="symbol"?t:String(t)}function l(e,t){if(typeof e!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var i=n.call(e,t||"default");if(typeof i!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f(e,t){return u(e)||y(e,t)||s(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}function p(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,i=new Array(t);n<t;n++){i[n]=e[n]}return i}function y(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],f=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;f=!1}else for(;!(f=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);f=!0){}}catch(e){c=!0,r=e}finally{try{if(!f&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}function u(e){if(Array.isArray(e))return e}var d={"Org.OData.Capabilities.V1":"Capabilities","Org.OData.Core.V1":"Core","Org.OData.Measures.V1":"Measures","com.sap.vocabularies.Common.v1":"Common","com.sap.vocabularies.UI.v1":"UI","com.sap.vocabularies.Session.v1":"Session","com.sap.vocabularies.Analytics.v1":"Analytics","com.sap.vocabularies.PersonalData.v1":"PersonalData","com.sap.vocabularies.Communication.v1":"Communication"};var v={Chart:true,MicroChart:true,UShell:true,IntentBasedNavigation:true,AppState:true};n.DefaultEnvironmentCapabilities=v;function $(e,t,n,i,r){var a;var o="".concat(n,"/").concat(t);var l=typeof e;if(e===null){a={type:"Null",Null:null}}else if(l==="string"){a={type:"String",String:e}}else if(l==="boolean"){a={type:"Bool",Bool:e}}else if(l==="number"){a={type:"Int",Int:e}}else if(Array.isArray(e)){a={type:"Collection",Collection:e.map(function(e,t){return P(e,"".concat(o,"/").concat(t),i,r)})};if(e.length>0){if(e[0].hasOwnProperty("$PropertyPath")){a.Collection.type="PropertyPath"}else if(e[0].hasOwnProperty("$Path")){a.Collection.type="Path"}else if(e[0].hasOwnProperty("$NavigationPropertyPath")){a.Collection.type="NavigationPropertyPath"}else if(e[0].hasOwnProperty("$AnnotationPath")){a.Collection.type="AnnotationPath"}else if(e[0].hasOwnProperty("$Type")){a.Collection.type="Record"}else if(e[0].hasOwnProperty("$If")){a.Collection.type="If"}else if(e[0].hasOwnProperty("$Or")){a.Collection.type="Or"}else if(e[0].hasOwnProperty("$And")){a.Collection.type="And"}else if(e[0].hasOwnProperty("$Eq")){a.Collection.type="Eq"}else if(e[0].hasOwnProperty("$Ne")){a.Collection.type="Ne"}else if(e[0].hasOwnProperty("$Not")){a.Collection.type="Not"}else if(e[0].hasOwnProperty("$Gt")){a.Collection.type="Gt"}else if(e[0].hasOwnProperty("$Ge")){a.Collection.type="Ge"}else if(e[0].hasOwnProperty("$Lt")){a.Collection.type="Lt"}else if(e[0].hasOwnProperty("$Le")){a.Collection.type="Le"}else if(e[0].hasOwnProperty("$Apply")){a.Collection.type="Apply"}else if(typeof e[0]==="object"){a.Collection.type="Record"}else{a.Collection.type="String"}}}else if(e.$Path!==undefined){a={type:"Path",Path:e.$Path}}else if(e.$Decimal!==undefined){a={type:"Decimal",Decimal:parseFloat(e.$Decimal)}}else if(e.$PropertyPath!==undefined){a={type:"PropertyPath",PropertyPath:e.$PropertyPath}}else if(e.$NavigationPropertyPath!==undefined){a={type:"NavigationPropertyPath",NavigationPropertyPath:e.$NavigationPropertyPath}}else if(e.$If!==undefined){a={type:"If",If:e.$If}}else if(e.$And!==undefined){a={type:"And",And:e.$And}}else if(e.$Or!==undefined){a={type:"Or",Or:e.$Or}}else if(e.$Not!==undefined){a={type:"Not",Not:e.$Not}}else if(e.$Eq!==undefined){a={type:"Eq",Eq:e.$Eq}}else if(e.$Ne!==undefined){a={type:"Ne",Ne:e.$Ne}}else if(e.$Gt!==undefined){a={type:"Gt",Gt:e.$Gt}}else if(e.$Ge!==undefined){a={type:"Ge",Ge:e.$Ge}}else if(e.$Lt!==undefined){a={type:"Lt",Lt:e.$Lt}}else if(e.$Le!==undefined){a={type:"Le",Le:e.$Le}}else if(e.$Apply!==undefined){a={type:"Apply",Apply:e.$Apply,Function:e.$Function}}else if(e.$AnnotationPath!==undefined){a={type:"AnnotationPath",AnnotationPath:e.$AnnotationPath}}else if(e.$EnumMember!==undefined){a={type:"EnumMember",EnumMember:"".concat(h(e.$EnumMember.split("/")[0]),"/").concat(e.$EnumMember.split("/")[1])}}else if(e.$Type){a={type:"Record",Record:P(e,n,i,r)}}else{a={type:"Record",Record:P(e,n,i,r)}}return{name:t,value:a}}function h(e){var t=e.split("@"),n=f(t,2),i=n[0],r=n[1];if(!r){r=i;i=""}else{i+="@"}var a=r.lastIndexOf(".");return"".concat(i+d[r.substr(0,a)],".").concat(r.substr(a+1))}function P(e,t,n,i){var r={};var o=typeof e;if(e===null){r={type:"Null",Null:null}}else if(o==="string"){r={type:"String",String:e}}else if(o==="boolean"){r={type:"Bool",Bool:e}}else if(o==="number"){r={type:"Int",Int:e}}else if(e.$AnnotationPath!==undefined){r={type:"AnnotationPath",AnnotationPath:e.$AnnotationPath}}else if(e.$Path!==undefined){r={type:"Path",Path:e.$Path}}else if(e.$Decimal!==undefined){r={type:"Decimal",Decimal:parseFloat(e.$Decimal)}}else if(e.$PropertyPath!==undefined){r={type:"PropertyPath",PropertyPath:e.$PropertyPath}}else if(e.$If!==undefined){r={type:"If",If:e.$If}}else if(e.$And!==undefined){r={type:"And",And:e.$And}}else if(e.$Or!==undefined){r={type:"Or",Or:e.$Or}}else if(e.$Not!==undefined){r={type:"Not",Not:e.$Not}}else if(e.$Eq!==undefined){r={type:"Eq",Eq:e.$Eq}}else if(e.$Ne!==undefined){r={type:"Ne",Ne:e.$Ne}}else if(e.$Gt!==undefined){r={type:"Gt",Gt:e.$Gt}}else if(e.$Ge!==undefined){r={type:"Ge",Ge:e.$Ge}}else if(e.$Lt!==undefined){r={type:"Lt",Lt:e.$Lt}}else if(e.$Le!==undefined){r={type:"Le",Le:e.$Le}}else if(e.$Apply!==undefined){r={type:"Apply",Apply:e.$Apply,Function:e.$Function}}else if(e.$NavigationPropertyPath!==undefined){r={type:"NavigationPropertyPath",NavigationPropertyPath:e.$NavigationPropertyPath}}else if(e.$EnumMember!==undefined){r={type:"EnumMember",EnumMember:"".concat(h(e.$EnumMember.split("/")[0]),"/").concat(e.$EnumMember.split("/")[1])}}else if(Array.isArray(e)){var l=r;l.collection=e.map(function(e,r){return P(e,"".concat(t,"/").concat(r),n,i)});if(e.length>0){if(e[0].hasOwnProperty("$PropertyPath")){l.collection.type="PropertyPath"}else if(e[0].hasOwnProperty("$Path")){l.collection.type="Path"}else if(e[0].hasOwnProperty("$NavigationPropertyPath")){l.collection.type="NavigationPropertyPath"}else if(e[0].hasOwnProperty("$AnnotationPath")){l.collection.type="AnnotationPath"}else if(e[0].hasOwnProperty("$Type")){l.collection.type="Record"}else if(e[0].hasOwnProperty("$If")){l.collection.type="If"}else if(e[0].hasOwnProperty("$And")){l.collection.type="And"}else if(e[0].hasOwnProperty("$Or")){l.collection.type="Or"}else if(e[0].hasOwnProperty("$Eq")){l.collection.type="Eq"}else if(e[0].hasOwnProperty("$Ne")){l.collection.type="Ne"}else if(e[0].hasOwnProperty("$Not")){l.collection.type="Not"}else if(e[0].hasOwnProperty("$Gt")){l.collection.type="Gt"}else if(e[0].hasOwnProperty("$Ge")){l.collection.type="Ge"}else if(e[0].hasOwnProperty("$Lt")){l.collection.type="Lt"}else if(e[0].hasOwnProperty("$Le")){l.collection.type="Le"}else if(e[0].hasOwnProperty("$Apply")){l.collection.type="Apply"}else if(typeof e[0]==="object"){l.collection.type="Record"}else{l.collection.type="String"}}}else{if(e.$Type){var f=e.$Type;r.type=f}var c=[];Object.keys(e).forEach(function(r){if(r!=="$Type"&&r!=="$If"&&r!=="$Apply"&&r!=="$And"&&r!=="$Or"&&r!=="$Ne"&&r!=="$Gt"&&r!=="$Ge"&&r!=="$Lt"&&r!=="$Le"&&r!=="$Not"&&r!=="$Eq"&&!r.startsWith("@")){c.push($(e[r],r,t,n,i))}else if(r.startsWith("@")){N(a({},r,e[r]),t,n,i)}});r.propertyValues=c}return r}function m(e,t){if(!t.hasOwnProperty(e)){t[e]={target:e,annotations:[]}}return t[e]}function g(e){return e.filter(function(e){if(e.Target&&e.Target.$AnnotationPath){return e.Target.$AnnotationPath.indexOf("@com.sap.vocabularies.UI.v1.Chart")===-1}else{return true}})}function b(e){return e.filter(function(e){return e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"})}function O(e){return e.filter(function(e){return e.$AnnotationPath!=="@com.sap.vocabularies.UI.v1.Chart"})}function N(e,t,n,i){if(Object.keys(e).length===0){return}var r=m(t,n);if(!i.MicroChart){delete e["@com.sap.vocabularies.UI.v1.Chart"]}var o=function(o){var f=e[o];switch(o){case"@com.sap.vocabularies.UI.v1.HeaderFacets":if(!i.MicroChart){f=g(f);e[o]=f}break;case"@com.sap.vocabularies.UI.v1.Identification":if(!i.IntentBasedNavigation){f=b(f);e[o]=f}break;case"@com.sap.vocabularies.UI.v1.LineItem":if(!i.IntentBasedNavigation){f=b(f);e[o]=f}if(!i.MicroChart){f=g(f);e[o]=f}break;case"@com.sap.vocabularies.UI.v1.FieldGroup":if(!i.IntentBasedNavigation){f.Data=b(f.Data);e[o]=f}if(!i.MicroChart){f.Data=g(f.Data);e[o]=f}break;case"@com.sap.vocabularies.UI.v1.PresentationVariant":if(!i.Chart&&f.Visualizations){f.Visualizations=O(f.Visualizations);e[o]=f}break;default:break}var c=r;var s=o.split("@");if(s.length>2){c=m("".concat(t,"@").concat(s[1]),n);o=s[2]}else{o=s[1]}var p=o.split("#");var y=p[1];o=p[0];var u={term:"".concat(o),qualifier:y};var d="".concat(t,"@").concat(u.term);if(y){d+="#".concat(y)}var v=false;var A=typeof f;if(f===null){u.value={type:"Bool",Bool:f}}else if(A==="string"){u.value={type:"String",String:f}}else if(A==="boolean"){u.value={type:"Bool",Bool:f}}else if(A==="number"){u.value={type:"Int",Int:f}}else if(f.$If!==undefined){u.value={type:"If",If:f.$If}}else if(f.$And!==undefined){u.value={type:"And",And:f.$And}}else if(f.$Or!==undefined){u.value={type:"Or",Or:f.$Or}}else if(f.$Not!==undefined){u.value={type:"Not",Not:f.$Not}}else if(f.$Eq!==undefined){u.value={type:"Eq",Eq:f.$Eq}}else if(f.$Ne!==undefined){u.value={type:"Ne",Ne:f.$Ne}}else if(f.$Gt!==undefined){u.value={type:"Gt",Gt:f.$Gt}}else if(f.$Ge!==undefined){u.value={type:"Ge",Ge:f.$Ge}}else if(f.$Lt!==undefined){u.value={type:"Lt",Lt:f.$Lt}}else if(f.$Le!==undefined){u.value={type:"Le",Le:f.$Le}}else if(f.$Apply!==undefined){u.value={type:"Apply",Apply:f.$Apply,Function:f.$Function}}else if(f.$Path!==undefined){u.value={type:"Path",Path:f.$Path}}else if(f.$AnnotationPath!==undefined){u.value={type:"AnnotationPath",AnnotationPath:f.$AnnotationPath}}else if(f.$Decimal!==undefined){u.value={type:"Decimal",Decimal:parseFloat(f.$Decimal)}}else if(f.$EnumMember!==undefined){u.value={type:"EnumMember",EnumMember:"".concat(h(f.$EnumMember.split("/")[0]),"/").concat(f.$EnumMember.split("/")[1])}}else if(Array.isArray(f)){v=true;u.collection=f.map(function(e,t){return P(e,"".concat(d,"/").concat(t),n,i)});if(f.length>0){if(f[0].hasOwnProperty("$PropertyPath")){u.collection.type="PropertyPath"}else if(f[0].hasOwnProperty("$Path")){u.collection.type="Path"}else if(f[0].hasOwnProperty("$NavigationPropertyPath")){u.collection.type="NavigationPropertyPath"}else if(f[0].hasOwnProperty("$AnnotationPath")){u.collection.type="AnnotationPath"}else if(f[0].hasOwnProperty("$Type")){u.collection.type="Record"}else if(f[0].hasOwnProperty("$If")){u.collection.type="If"}else if(f[0].hasOwnProperty("$Or")){u.collection.type="Or"}else if(f[0].hasOwnProperty("$Eq")){u.collection.type="Eq"}else if(f[0].hasOwnProperty("$Ne")){u.collection.type="Ne"}else if(f[0].hasOwnProperty("$Not")){u.collection.type="Not"}else if(f[0].hasOwnProperty("$Gt")){u.collection.type="Gt"}else if(f[0].hasOwnProperty("$Ge")){u.collection.type="Ge"}else if(f[0].hasOwnProperty("$Lt")){u.collection.type="Lt"}else if(f[0].hasOwnProperty("$Le")){u.collection.type="Le"}else if(f[0].hasOwnProperty("$And")){u.collection.type="And"}else if(f[0].hasOwnProperty("$Apply")){u.collection.type="Apply"}else if(typeof f[0]==="object"){u.collection.type="Record"}else{u.collection.type="String"}}}else{var w={propertyValues:[]};if(f.$Type){var T=f.$Type;w.type="".concat(T)}var E=[];for(var C in f){if(C!=="$Type"&&!C.startsWith("@")){E.push($(f[C],C,d,n,i))}else if(C.startsWith("@")){N(a({},C,f[C]),d,n,i)}}w.propertyValues=E;u.record=w}u.isCollection=v;c.annotations.push(u);l=o};for(var l in e){o(l)}}function A(e,t,n){var i={_type:"Property",name:n,fullyQualifiedName:"".concat(t.fullyQualifiedName,"/").concat(n),type:e.$Type,maxLength:e.$MaxLength,precision:e.$Precision,scale:e.$Scale,nullable:e.$Nullable};return i}function w(e,t,n){var i=[];if(e.$ReferentialConstraint){i=Object.keys(e.$ReferentialConstraint).map(function(n){return{sourceTypeName:t.name,sourceProperty:n,targetTypeName:e.$Type,targetProperty:e.$ReferentialConstraint[n]}})}var r={_type:"NavigationProperty",name:n,fullyQualifiedName:"".concat(t.fullyQualifiedName,"/").concat(n),partner:e.$Partner,isCollection:e.$isCollection?e.$isCollection:false,containsTarget:e.$ContainsTarget,targetTypeName:e.$Type,referentialConstraint:i};return r}function T(e,t,n){var i={_type:"EntitySet",name:t,navigationPropertyBinding:{},entityTypeName:e.$Type,fullyQualifiedName:"".concat(n,"/").concat(t)};return i}function E(e,t,n){return{_type:"Singleton",name:t,navigationPropertyBinding:{},entityTypeName:e.$Type,fullyQualifiedName:"".concat(n,"/").concat(t),nullable:true}}function C(e,t,n){var i={_type:"TypeDefinition",name:t.replace("".concat(n,"."),""),fullyQualifiedName:t,underlyingType:e.$UnderlyingType};return i}function I(e,t,n){var i={_type:"ComplexType",name:t.replace("".concat(n,"."),""),fullyQualifiedName:t,properties:[],navigationProperties:[]};var r=Object.keys(e).filter(function(t){if(t!="$Key"&&t!="$kind"){return e[t].$kind==="Property"}}).sort(function(e,t){return e>t?1:-1}).map(function(t){return A(e[t],i,t)});i.properties=r;var a=Object.keys(e).filter(function(t){if(t!="$Key"&&t!="$kind"){return e[t].$kind==="NavigationProperty"}}).sort(function(e,t){return e>t?1:-1}).map(function(t){return w(e[t],i,t)});i.navigationProperties=a;return i}function L(e,t){if(!e.$Key&&e.$BaseType){return L(t["".concat(e.$BaseType)],t)}return e.$Key||[]}function k(e,t,n,i){var r=L(e,i);var a={_type:"EntityType",name:t.replace("".concat(n,"."),""),fullyQualifiedName:t,keys:[],entityProperties:[],navigationProperties:[],actions:{}};var o=Object.keys(e).filter(function(t){if(t!="$Key"&&t!="$kind"){return e[t].$kind==="Property"}}).map(function(t){return A(e[t],a,t)});var l=Object.keys(e).filter(function(t){if(t!="$Key"&&t!="$kind"){return e[t].$kind==="NavigationProperty"}}).map(function(t){return w(e[t],a,t)});a.keys=r.map(function(e){return o.find(function(t){return t.name===e})}).filter(function(e){return e!==undefined});a.entityProperties=o;a.navigationProperties=l;return a}function S(e,t,n,i){var r="";var a="".concat(e);var o=e.substr(n.length+1);if(t.$IsBound){var l=t.$Parameter[0];r=l.$Type;if(l.$isCollection===true){a="".concat(e,"(Collection(").concat(r,"))")}else{a="".concat(e,"(").concat(r,")")}}else{a="".concat(i,"/").concat(o)}var f=t.$Parameter||[];return{_type:"Action",name:o,fullyQualifiedName:a,isBound:t.$IsBound,isFunction:false,sourceType:r,returnType:t.$ReturnType?t.$ReturnType.$Type:"",parameters:f.map(function(e){var t;return{_type:"ActionParameter",fullyQualifiedName:"".concat(a,"/").concat(e.$Name),isCollection:(t=e.$isCollection)!==null&&t!==void 0?t:false,name:e.$Name,type:e.$Type}})}}function j(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:v;var n=e.getObject("/$");var r={};var a=[];var o=[];var l=[];var f=[];var c=[];var s=n.$EntityContainer;var p="";var y=Object.keys(n).filter(function(e){return n[e].$kind==="Schema"});if(y&&y.length>0){p=y[0].substr(0,y[0].length-1)}else if(a&&a.length){p=a[0].fullyQualifiedName.replace(a[0].name,"");p=p.substr(0,p.length-1)}Object.keys(n).forEach(function(e){if(e!=="$kind"){switch(n[e].$kind){case"EntityType":var t=k(n[e],e,p,n);if(n.$Annotations[t.fullyQualifiedName]&&n.$Annotations[t.fullyQualifiedName]["@com.sap.vocabularies.UI.v1.FilterFacets"]){n.$Annotations[t.fullyQualifiedName]["@com.sap.vocabularies.UI.v1.FilterFacets"].forEach(function(e){e.ID=e.ID||i([{Facet:e}])})}t.entityProperties.forEach(function(e){if(!n.$Annotations[e.fullyQualifiedName]){n.$Annotations[e.fullyQualifiedName]={}}if(!n.$Annotations[e.fullyQualifiedName]["@com.sap.vocabularies.UI.v1.DataFieldDefault"]){n.$Annotations[e.fullyQualifiedName]["@com.sap.vocabularies.UI.v1.DataFieldDefault"]={$Type:"com.sap.vocabularies.UI.v1.DataField",Value:{$Path:e.name}}}});a.push(t);break;case"ComplexType":var r=I(n[e],e,p);f.push(r);break;case"TypeDefinition":var o=C(n[e],e,p);c.push(o);break}}});var u=n[s];Object.keys(u).forEach(function(e){if(e!=="$kind"){switch(u[e].$kind){case"EntitySet":var t=T(u[e],e,s);o.push(t);break;case"Singleton":var n=E(u[e],e,s);l.push(n);break}}});var d={_type:"EntityContainer",name:"",fullyQualifiedName:""};if(s){d={_type:"EntityContainer",name:s.replace("".concat(p,"."),""),fullyQualifiedName:s}}o.forEach(function(e){var t=u[e.name].$NavigationPropertyBinding;if(t){Object.keys(t).forEach(function(n){var i=o.find(function(e){return e.name===t[n]});if(i){e.navigationPropertyBinding[n]=i}})}});var $=Object.keys(n).filter(function(e){return Array.isArray(n[e])&&n[e].length>0&&n[e][0].$kind==="Action"}).reduce(function(e,t){var i=n[t];i.forEach(function(n){e.push(S(t,n,p,s))});return e},[]);for(var h in n.$Annotations){N(n.$Annotations[h],h,r,t)}var P=Object.keys(r).sort(function(e,t){return e.length>=t.length?1:-1}).map(function(e){return r[e]});var m=[];return{identification:"metamodelResult",version:"4.0",schema:{entityContainer:d,entitySets:o,entityTypes:a,complexTypes:f,typeDefinitions:c,singletons:l,associations:[],associationSets:[],actions:$,namespace:p,annotations:{metamodelResult:P}},references:m}}n.prepareEntityTypes=j;var G={};function D(t,n){var i=t.id;if(!G.hasOwnProperty(i)){var r=j(t,n);try{G[i]=e.convert(r)}catch(e){throw new Error(e)}}return G[i]}n.convertTypes=D;function M(e){var t=e.getModel();if(!t.isA("sap.ui.model.odata.v4.ODataMetaModel")){throw new Error("This should only be called on a ODataMetaModel")}return D(t)}n.getConvertedTypes=M;function B(e){delete G[e.id]}n.deleteModelCacheData=B;function F(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=D(e.getModel());var i=e.getPath();var a=i.split("/");var o=a[1];var l=2;if(n.entityContainer.fullyQualifiedName===o){o=a[2];l++}var f=n.entitySets.find(function(e){return e.name===o});if(!f){f=n.singletons.find(function(e){return e.name===o})}var c=a.slice(l).join("/");var s=[f];while(c&&c.length>0&&c.startsWith("$NavigationPropertyBinding")){var p;var y=c.split("/");var u=0;var d=void 0,v=void 0;y=y.slice(1);while(!d&&y.length>u){if(y[u]!=="$NavigationPropertyBinding"){v=y.slice(0,u+1).join("/").replace("/$NavigationPropertyBinding","");d=f&&f.navigationPropertyBinding[v]}u++}if(!d){v=y[0]}var $=((p=v)===null||p===void 0?void 0:p.split("/"))||[];var h=f&&f.entityType;var P=r($),m;try{var g=function(){var e=m.value;var t=h&&h.navigationProperties.find(function(t){return t.name===e});if(t){s.push(t);h=t.targetType}else{return"break"}};for(P.s();!(m=P.n()).done;){var b=g();if(b==="break")break}}catch(e){P.e(e)}finally{P.f()}f=f&&d||f&&f.navigationPropertyBinding[y[0]];if(f){s.push(f)}y=y.slice($.length||1);if(y.length&&y[0]==="$"){y.shift()}c=y.join("/")}if(c.startsWith("$Type")){if(c.startsWith("$Type@")){c=c.replace("$Type","")}else{c=a.slice(3).join("/")}}if(f&&c.length){var O=f.entityType.resolvePath(c,t);if(O){if(t){O.visitedObjects=s.concat(O.visitedObjects)}}else if(f.entityType&&f.entityType.actions){var N=f.entityType&&f.entityType.actions;var A=c.split("/");if(N[A[0]]){var w=N[A[0]];if(A[1]&&w.parameters){var T=A[1];return w.parameters.find(function(e){return e.fullyQualifiedName.endsWith("/".concat(T))})}else if(c.length===1){return w}}}return O}else{if(t){return{target:f,visitedObjects:s}}return f}}n.convertMetaModelContext=F;function Q(e,t){var n=D(e.getModel());var i=F(e,true);var r;if(t&&t.getPath()!=="/"){r=Q(t)}return _(i,n,r)}n.getInvolvedDataModelObjects=Q;function _(e,t,n,i){var r;var a=e.visitedObjects.filter(function(e){return e&&e.hasOwnProperty("_type")&&e._type!=="EntityType"&&e._type!=="EntityContainer"});if(e.target&&e.target.hasOwnProperty("_type")&&e.target._type!=="EntityType"&&a[a.length-1]!==e.target&&!i){a.push(e.target)}var o=[];var l=a[0];var f=l;var c=l.entityType;var s;var p=[];for(var y=1;y<a.length;y++){s=a[y];if(s._type==="NavigationProperty"){var u;p.push(s.name);o.push(s);c=s.targetType;var d=(u=f)===null||u===void 0?void 0:u.navigationPropertyBinding[p.join("/")];if(d){f=d;p=[]}}if(s._type==="EntitySet"||s._type==="Singleton"){f=s;c=f.entityType}}if(p.length>0){f=undefined}if(n&&n.startingEntitySet!==l){var v=a.indexOf(n.startingEntitySet);if(v!==-1){var $=a.slice(0,v);n.startingEntitySet=l;n.navigationProperties=$.filter(function(e){return e._type==="NavigationProperty"}).concat(n.navigationProperties)}}var h={startingEntitySet:l,targetEntitySet:f,targetEntityType:c,targetObject:e.target,navigationProperties:o,contextLocation:n,convertedTypes:t};if(!((r=h.targetObject)!==null&&r!==void 0&&r.hasOwnProperty("_type"))&&i){h.targetObject=s}if(!h.contextLocation){h.contextLocation=h}return h}n.getInvolvedDataModelObjectFromPath=_;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/TemplateConverter", ["sap/base/util/merge","sap/fe/core/converters/helpers/IssueManager","./ConverterContext","./ManifestSettings","./MetaModelConverter","./templates/ListReportConverter","./templates/ObjectPageConverter"],function(e,t,a,o,n,i,v){"use strict";var s={};var l=n.getInvolvedDataModelObjects;var c=n.convertTypes;var r=o.TemplateType;var d=t.IssueSeverity;var u=t.IssueCategoryType;var f=t.IssueCategory;function p(e,t,a,o){e.forEach(function(e){var n="For entity set ".concat(a);if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"&&!(e!==null&&e!==void 0&&e.ID)){var i;n="".concat(n,", ")+"level ".concat(o,", the collection facet does not have an ID.");t.addIssue(f.Facets,d.High,n,u,u===null||u===void 0?void 0:(i=u.Facets)===null||i===void 0?void 0:i.MissingID)}if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"&&o>=3){var v;n="".concat(n,", collection facet ").concat(e.Label," is not supported at ")+"level ".concat(o);t.addIssue(f.Facets,d.Medium,n,u,u===null||u===void 0?void 0:(v=u.Facets)===null||v===void 0?void 0:v.UnSupportedLevel)}if(e!==null&&e!==void 0&&e.Facets){p(e===null||e===void 0?void 0:e.Facets,t,a,++o);o=o-1}})}function g(t,o,n,s,u,g){var I;var y=c(o,g);y.diagnostics.forEach(function(e){var t=s.checkIfIssueExists(f.Annotation,d.High,e.message);if(!t){s.addIssue(f.Annotation,d.High,e.message)}});y===null||y===void 0?void 0:(I=y.entityTypes)===null||I===void 0?void 0:I.forEach(function(e){var t,a;if(e!==null&&e!==void 0&&(t=e.annotations)!==null&&t!==void 0&&(a=t.UI)!==null&&a!==void 0&&a.Facets){var o,n;p(e===null||e===void 0?void 0:(o=e.annotations)===null||o===void 0?void 0:(n=o.UI)===null||n===void 0?void 0:n.Facets,s,e===null||e===void 0?void 0:e.name,1)}});var h=n.entitySet;var F=(n===null||n===void 0?void 0:n.contextPath)||(u==="/"?u+h:u);var m=o.createBindingContext(F);var C=l(m);if(C){var b={};switch(t){case r.ListReport:case r.AnalyticalListPage:b=i.convertPage(new a(y,n,s,e,C));break;case r.ObjectPage:b=v.convertPage(new a(y,n,s,e,C));break}return b}return undefined}s.convertPage=g;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/annotations/DataField", ["sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/PropertyHelper"],function(a,e){"use strict";var t={};var i=e.isProperty;var o=e.getAssociatedUnitProperty;var n=e.getAssociatedTimezoneProperty;var r=e.getAssociatedCurrencyProperty;var l=a.getDisplayMode;function v(a){return a.hasOwnProperty("Action")}t.isDataFieldForActionAbstract=v;function d(a){return a.hasOwnProperty("Value")}t.isDataFieldTypes=d;function u(a){var e,t,i,o,n,r,l;return((e=a.annotations)===null||e===void 0?void 0:(t=e.UI)===null||t===void 0?void 0:(i=t.Hidden)===null||i===void 0?void 0:i.valueOf())===true||d(a)&&((o=a.Value)===null||o===void 0?void 0:(n=o.$target)===null||n===void 0?void 0:(r=n.annotations)===null||r===void 0?void 0:(l=r.UI)===null||l===void 0?void 0:l.Hidden)===true}t.isDataFieldAlwaysHidden=u;function c(a,e){if(typeof e==="object"){var t;if(d(e)&&(t=e.Value)!==null&&t!==void 0&&t.$target){var o,n,r;var l=(o=e.Value)===null||o===void 0?void 0:o.$target;if((l===null||l===void 0?void 0:(n=l.annotations)===null||n===void 0?void 0:(r=n.Common)===null||r===void 0?void 0:r.SemanticObject)!==undefined){return a.getEntitySetBasedAnnotationPath(l===null||l===void 0?void 0:l.fullyQualifiedName)}}else if(i(e)){var v,u;if((e===null||e===void 0?void 0:(v=e.annotations)===null||v===void 0?void 0:(u=v.Common)===null||u===void 0?void 0:u.SemanticObject)!==undefined){return a.getEntitySetBasedAnnotationPath(e===null||e===void 0?void 0:e.fullyQualifiedName)}}}return undefined}t.getSemanticObjectPath=c;function s(a){return a.indexOf("/")>-1?a.substring(0,a.lastIndexOf("/")+1):""}function p(a,e,t,i){if(t==="AnalyticalTable"){var o,n,r;var l=(o=a.annotations)===null||o===void 0?void 0:(n=o.UI)===null||n===void 0?void 0:n.Hidden;if(l!==null&&l!==void 0&&l.path&&((r=l.$target)===null||r===void 0?void 0:r._type)==="Property"){var v=e+l.path;i.additionalProperties[v]=l.$target}}return i}function g(a,e,t,i,v){var d=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{properties:{},additionalProperties:{},textOnlyPropertiesFromTextAnnotation:[]};var u=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;function c(a,e){if(!d.properties.hasOwnProperty(a)){d.properties[a]=e}return Object.keys(d.properties).indexOf(a)}function g(a){d.exportSettingsTemplate=d.exportSettingsTemplate?"".concat(d.exportSettingsTemplate).concat(a):"".concat(a)}if(a&&e){var f,m;var T=s(a);var y=(f=e.annotations)===null||f===void 0?void 0:(m=f.Common)===null||m===void 0?void 0:m.Text;var b;var $;var h;var D;if(d.exportSettingsTemplate){g("\n");d.exportSettingsWrapping=true}if(y!==null&&y!==void 0&&y.path&&y!==null&&y!==void 0&&y.$target){var F=t.getDataModelObjectPath();var I=T+y.path;var U=l(e,F);var P;switch(U){case"Value":b=c(a,e);g("{".concat(b,"}"));break;case"Description":P=c(I,y.$target);g("{".concat(P,"}"));d.textOnlyPropertiesFromTextAnnotation.push(y.path);break;case"ValueDescription":b=c(a,e);P=c(I,y.$target);g("{".concat(b,"} ({").concat(P,"})"));break;case"DescriptionValue":b=c(a,e);P=c(I,y.$target);g("{".concat(P,"} ({").concat(b,"})"));break}}else{var x,V,A,k,O,S,C,N,W,j,w,B,M;var z=r(e)||o(e);var H=(e===null||e===void 0?void 0:(x=e.annotations)===null||x===void 0?void 0:(V=x.Measures)===null||V===void 0?void 0:V.ISOCurrency)||(e===null||e===void 0?void 0:(A=e.annotations)===null||A===void 0?void 0:(k=A.Measures)===null||k===void 0?void 0:k.Unit);var E=n(e);var R=e===null||e===void 0?void 0:(O=e.annotations)===null||O===void 0?void 0:(S=O.Common)===null||S===void 0?void 0:S.Timezone;if(z&&H!==null&&H!==void 0&&H.$target){b=c(a,e);h=c(T+H.path,H.$target);if(u){g("{".concat(b,"}  {").concat(h,"}"))}else{d.exportUnitName=T+H.path}}else if(E&&R!==null&&R!==void 0&&R.$target){b=c(a,e);D=c(T+R.path,R.$target);if(u){g("{".concat(b,"}  {").concat(D,"}"))}else{d.exportTimezoneName=T+R.path}}else if((C=e.Target)!==null&&C!==void 0&&(N=C.$target)!==null&&N!==void 0&&N.Visualization){var Q=e.Target.$target.Value.$target;b=c(a,Q);c(e.Target.value,e.Target.$target);$=(e.Target.$target.TargetValue||e.Target.$target.MaximumValue).toString();g("{".concat(b,"}/").concat($))}else if(((W=e.annotations)===null||W===void 0?void 0:(j=W.UI)===null||j===void 0?void 0:(w=j.DataFieldDefault)===null||w===void 0?void 0:(B=w.Target)===null||B===void 0?void 0:(M=B.$target)===null||M===void 0?void 0:M.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){var G=e.annotations.UI.DataFieldDefault;b=c(a,e);c(G.Target.value,e);$=(G.Target.$target.TargetValue||G.Target.$target.TargetValue.MaximumValue).toString();g("{".concat(b,"}/").concat($))}else if(e.$Type==="com.sap.vocabularies.Communication.v1.ContactType"){var _,q;var J=(_=e.fn)===null||_===void 0?void 0:_.$target;var K=(q=e.fn)===null||q===void 0?void 0:q.path;b=c(T?T+K:K,J);g("{".concat(b,"}"))}else if(!i){b=c(a,e);g("{".concat(b,"}"));if(H){d.exportUnitString="".concat(H)}else if(R){d.exportTimezoneString="".concat(R)}}}d=p(e,T,v,d);if(Object.keys(d.additionalProperties).length>0&&Object.keys(d.properties).length===0){b=c(a,e);g("{".concat(b,"}"))}}return d}t.collectRelatedProperties=g;function f(a,e,t){var i,o,n;var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{properties:{},additionalProperties:{},textOnlyPropertiesFromTextAnnotation:[]};var l=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;switch(a===null||a===void 0?void 0:a.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":if(a.Value){var v=a.Value;r=g(v.path,v.$target,e,false,t,r,l);var d=s(v.path);r=p(a,d,t,r)}break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":switch((i=a.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.$Type){case"com.sap.vocabularies.UI.v1.FieldGroupType":(n=a.Target.$target.Data)===null||n===void 0?void 0:n.forEach(function(a){r=f(a,e,t,r,true)});break;case"com.sap.vocabularies.UI.v1.DataPointType":r=g(a.Target.$target.Value.path,a,e,false,t,r,l);break;case"com.sap.vocabularies.Communication.v1.ContactType":var u=a.Target.$target;r=g(a.Target.value,u,e,false,t,r,l);break;default:break}break;default:break}return r}t.collectRelatedPropertiesRecursively=f;var m=function(a){var e,t,i;var o=a.$Type;switch(o){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":o=undefined;break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":o=a===null||a===void 0?void 0:(e=a.Value)===null||e===void 0?void 0:(t=e.$target)===null||t===void 0?void 0:t.type;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":default:var n=(i=a.Target)===null||i===void 0?void 0:i.$target.$Type;if(n){var r,l;if(((r=a.Target)===null||r===void 0?void 0:r.$target.$Type)==="com.sap.vocabularies.Communication.v1.ContactType"){var v,d,u;o=(v=((d=a.Target)===null||d===void 0?void 0:(u=d.$target)===null||u===void 0?void 0:u.fn).$target)===null||v===void 0?void 0:v.type}else if(((l=a.Target)===null||l===void 0?void 0:l.$target.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){var c,s,p,g,f,m,T;o=((c=a.Target)===null||c===void 0?void 0:(s=c.$target)===null||s===void 0?void 0:(p=s.Value)===null||p===void 0?void 0:(g=p.$Path)===null||g===void 0?void 0:g.$Type)||((f=a.Target)===null||f===void 0?void 0:(m=f.$target)===null||m===void 0?void 0:(T=m.Value)===null||T===void 0?void 0:T.$target.type)}else{var y;o=((y=a.Target)===null||y===void 0?void 0:y.$target.$Type)==="com.sap.vocabularies.UI.v1.ChartDefinitionType"?undefined:"Edm.Boolean"}}else{o=undefined}break}return o};t.getDataFieldDataType=m;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/common/AnnotationConverter", [],function(){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
"use strict";function a(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),t.push.apply(t,r)}return t}function e(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?a(Object(o),!0).forEach(function(a){t(e,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(o,a))})}return e}function t(a,e,t){e=r(e);if(e in a){Object.defineProperty(a,e,{value:t,enumerable:true,configurable:true,writable:true})}else{a[e]=t}return a}function r(a){var e=o(a,"string");return typeof e==="symbol"?e:String(e)}function o(a,e){if(typeof a!=="object"||a===null)return a;var t=a[Symbol.toPrimitive];if(t!==undefined){var r=t.call(a,e||"default");if(typeof r!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function i(a){return m(a)||n(a)||l(a)||c()}function n(a){if(typeof Symbol!=="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function s(a,e){return m(a)||p(a,e)||l(a,e)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(a,e){if(!a)return;if(typeof a==="string")return u(a,e);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor)t=a.constructor.name;if(t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(a,e)}function u(a,e){if(e==null||e>a.length)e=a.length;for(var t=0,r=new Array(e);t<e;t++){r[t]=a[t]}return r}function p(a,e){var t=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=t){var r,o,i,n,s=[],c=!0,l=!1;try{if(i=(t=t.call(a)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(s.push(r.value),s.length!==e);c=!0){}}catch(a){l=!0,o=a}finally{try{if(!c&&null!=t.return&&(n=t.return(),Object(n)!==n))return}finally{if(l)throw o}}return s}}function m(a){if(Array.isArray(a))return a}var v;(function(){"use strict";var a={830:function(a,e,t){Object.defineProperty(e,"__esModule",{value:true});e.convert=void 0;var r=t(716);var o=function a(e,t,r,o){this.path=e.Path;this.type="Path";this.$target=t;this.term=o;this.annotationsTerm=r};function i(a){var e;var t={};if((e=a.schema.entityContainer)===null||e===void 0?void 0:e.fullyQualifiedName){t[a.schema.entityContainer.fullyQualifiedName]=a.schema.entityContainer}a.schema.entitySets.forEach(function(a){t[a.fullyQualifiedName]=a});a.schema.singletons.forEach(function(a){t[a.fullyQualifiedName]=a});a.schema.actions.forEach(function(a){t[a.fullyQualifiedName]=a;if(a.isBound){var e=a.fullyQualifiedName.split("(")[0];if(!t[e]){t[e]={_type:"UnboundGenericAction",actions:[]}}t[e].actions.push(a);var r=a.fullyQualifiedName.split("(");t["".concat(r[1].split(")")[0],"/").concat(r[0])]=a}a.parameters.forEach(function(a){t[a.fullyQualifiedName]=a})});a.schema.complexTypes.forEach(function(a){t[a.fullyQualifiedName]=a;a.properties.forEach(function(a){t[a.fullyQualifiedName]=a})});a.schema.typeDefinitions.forEach(function(a){t[a.fullyQualifiedName]=a});a.schema.entityTypes.forEach(function(a){a.annotations={};t[a.fullyQualifiedName]=a;t["Collection(".concat(a.fullyQualifiedName,")")]=a;a.entityProperties.forEach(function(a){t[a.fullyQualifiedName]=a;var e=t[a.type];if((0,r.isComplexTypeDefinition)(e)){e.properties.forEach(function(e){var r=Object.assign(e,{_type:"Property",fullyQualifiedName:a.fullyQualifiedName+"/"+e.name});t[r.fullyQualifiedName]=r})}});a.navigationProperties.forEach(function(a){t[a.fullyQualifiedName]=a})});Object.keys(a.schema.annotations).forEach(function(e){a.schema.annotations[e].forEach(function(e){var o=(0,r.unalias)(a.references,e.target);e.annotations.forEach(function(e){var i="".concat(o,"@").concat((0,r.unalias)(a.references,e.term));if(e.qualifier){i+="#".concat(e.qualifier)}t[i]=e;e.fullyQualifiedName=i})})});return t}function n(a,e){if(e.startsWith("@")){return a+(0,r.unalias)(r.defaultReferences,e)}else{return a+"/"+e}}var c={};var l=[];function u(a,e){if(!c[a]){c[a]=[e]}else{c[a].push(e)}}function p(a,e,t){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var i=arguments.length>5?arguments[5]:undefined;var c;if(!t){return undefined}var l=[];if(e&&e._type==="Property"){e=a[e.fullyQualifiedName.split("/")[0]]}t=n(e.fullyQualifiedName,t);var m=t.split("/");var v=[];m.forEach(function(a){if(a.indexOf("@")!==-1){var e=a.split("@"),t=s(e,2),r=t[0],o=t[1];v.push(r);v.push("@".concat(o))}else{v.push(a)}});var g=t;var y=e;var O=v.reduce(function(t,r){if(r==="$Type"&&t._type==="EntityType"){return t}if(r==="$"&&t._type==="EntitySet"){return t}if((r==="@$ui5.overload"||r==="0")&&t._type==="Action"){return t}if(r.length===0){if(t&&(t._type==="EntitySet"||t._type==="Singleton")&&t.entityType){if(o){l.push(t)}t=t.entityType}if(t&&t._type==="NavigationProperty"&&t.targetType){if(o){l.push(t)}t=t.targetType}return t}if(o&&t!==null&&t!==undefined){l.push(t)}if(!t){g=r}else if((t._type==="EntitySet"||t._type==="Singleton")&&r==="$Type"){t=t.targetType;return t}else if((t._type==="EntitySet"||t._type==="Singleton")&&r==="$NavigationPropertyBinding"){t=t.navigationPropertyBinding;return t}else if((t._type==="EntitySet"||t._type==="Singleton")&&t.entityType){g=n(t.entityTypeName,r)}else if(t._type==="NavigationProperty"){g=n(t.fullyQualifiedName,r);if(!a[g]){g=n(t.targetTypeName,r)}}else if(t._type==="Property"){if(t.targetType){g=n(t.targetType.fullyQualifiedName,r)}else{g=n(t.fullyQualifiedName,r)}}else if(t._type==="Action"&&t.isBound){g=n(t.fullyQualifiedName,r);if(r==="$Parameter"){return t.parameters}if(!a[g]){g=n(t.sourceType,r)}}else if(t._type==="ActionParameter"){g=n(e.fullyQualifiedName.substring(0,e.fullyQualifiedName.lastIndexOf("/")),r);if(!a[g]){var i=e.fullyQualifiedName.lastIndexOf("/");if(i===-1){i=e.fullyQualifiedName.length}g=n(a[e.fullyQualifiedName.substring(0,i)].sourceType,r)}}else{g=n(t.fullyQualifiedName,r);if(r!=="name"&&t[r]!==undefined){return t[r]}else if(r==="$AnnotationPath"&&t.$target){var s=a[t.fullyQualifiedName.split("@")[0]];var c=p(a,s,t.value,false,true);c.visitedObjects.forEach(function(a){if(l.indexOf(a)===-1){l.push(a)}});return c.target}else if(r==="$Path"&&t.$target){y=l.concat().reverse().find(function(a){return a._type==="EntityType"||a._type==="EntitySet"||a._type==="Singleton"||a._type==="NavigationProperty"});if(y){var u=p(a,y,t.path,false,true);u.visitedObjects.forEach(function(a){if(l.indexOf(a)===-1){l.push(a)}});return u.target}return t.$target}else if(r.startsWith("$Path")&&t.$target){var m=t.$target;g=n(m.fullyQualifiedName,r.substring(5))}else if(t.hasOwnProperty("$Type")&&!a[g]){var v=a[t.fullyQualifiedName.split("@")[0]];if(v){g=n(v.fullyQualifiedName,r)}}}return a[g]},null);if(!O){if(i){var d=f(i,e);c={message:"Unable to resolve the path expression: "+"\n"+t+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+i+">"+"\n"+"<Record Type = "+d+">"+"\n"+"<AnnotationPath = "+t+">"};u(t,c)}else{c={message:"Unable to resolve the path expression: "+t+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+m[0]+">"+"\n"+"<PropertyValue  Path= "+m[1]+">"};u(t,c)}}if(r){return g}if(o){return{visitedObjects:l,target:O}}return O}function m(a){return a.indexOf("@")!==-1}function v(a,e,t,i){if(a===undefined){return undefined}switch(a.type){case"String":return a.String;case"Int":return a.Int;case"Bool":return a.Bool;case"Decimal":return(0,r.Decimal)(a.Decimal);case"Date":return a.Date;case"EnumMember":return(0,r.alias)(i.rawMetadata.references,a.EnumMember);case"PropertyPath":return{type:"PropertyPath",value:a.PropertyPath,fullyQualifiedName:e,$target:p(t,i.currentTarget,a.PropertyPath,false,false,i.currentTerm)};case"NavigationPropertyPath":return{type:"NavigationPropertyPath",value:a.NavigationPropertyPath,fullyQualifiedName:e,$target:p(t,i.currentTarget,a.NavigationPropertyPath,false,false,i.currentTerm)};case"AnnotationPath":var n=p(t,i.currentTarget,(0,r.unalias)(i.rawMetadata.references,a.AnnotationPath),true,false,i.currentTerm);var s={type:"AnnotationPath",value:a.AnnotationPath,fullyQualifiedName:e,$target:n,annotationsTerm:i.currentTerm,term:"",path:""};i.unresolvedAnnotations.push({inline:false,toResolve:s});return s;case"Path":var c=p(t,i.currentTarget,a.Path,true,false,i.currentTerm);var l=new o(a,c,i.currentTerm,"");i.unresolvedAnnotations.push({inline:m(a.Path),toResolve:l});return l;case"Record":return O(a.Record,e,t,i);case"Collection":return C(a.Collection,e,t,i);case"Apply":case"Null":case"Not":case"Eq":case"Ne":case"Gt":case"Ge":case"Lt":case"Le":case"If":case"And":case"Or":default:return a}}function f(a,e){var t=r.TermToTypes[a];var o={isError:false,message:"The type of the record used within the term ".concat(a," was not defined and was inferred as ").concat(t,'.\nHint: If possible, try to maintain the Type property for each Record.\n<Annotations Target="').concat(e,'">\n\t<Annotation Term="').concat(a,'">\n\t\t<Record>...</Record>\n\t</Annotation>\n</Annotations>')};u(e+"/"+a,o);return t}function g(a,e){return a.hasOwnProperty("Action")&&(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")}function y(a,e){var t;if(!a.type&&e.currentTerm){t=f(e.currentTerm,e.currentTarget.fullyQualifiedName)}else{t=(0,r.unalias)(e.rawMetadata.references,a.type)}return t}function O(a,e,t,r){var o=y(a,r);var i={$Type:o,fullyQualifiedName:e,annotations:{}};var n={};if(Array.isArray(a.annotations)){var s={target:e,annotations:a.annotations,__source:r.currentSource};r.additionalAnnotations.push(s)}if(a.propertyValues){a.propertyValues.forEach(function(a){n[a.name]=v(a.value,"".concat(e,"/").concat(a.name),t,r);if(Array.isArray(a.annotations)){var o={target:"".concat(e,"/").concat(a.name),annotations:a.annotations,__source:r.currentSource};r.additionalAnnotations.push(o)}if(g(n,i)){n.ActionTarget=r.currentTarget.actions&&r.currentTarget.actions[n.Action]||t[n.Action];if(!n.ActionTarget){l.push({message:"Unable to resolve the action "+n.Action+" defined for "+i.fullyQualifiedName})}}})}return Object.assign(i,n)}function d(a){var e=a.type;if(e===undefined&&a.length>0){var t=a[0];if(t.hasOwnProperty("PropertyPath")){e="PropertyPath"}else if(t.hasOwnProperty("Path")){e="Path"}else if(t.hasOwnProperty("AnnotationPath")){e="AnnotationPath"}else if(t.hasOwnProperty("NavigationPropertyPath")){e="NavigationPropertyPath"}else if(typeof t==="object"&&(t.hasOwnProperty("type")||t.hasOwnProperty("propertyValues"))){e="Record"}else if(typeof t==="string"){e="String"}}else if(e===undefined){e="EmptyCollection"}return e}function C(a,e,t,r){var i=d(a);switch(i){case"PropertyPath":return a.map(function(a,o){return{type:"PropertyPath",value:a.PropertyPath,fullyQualifiedName:"".concat(e,"/").concat(o),$target:p(t,r.currentTarget,a.PropertyPath,false,false,r.currentTerm)}});case"Path":return a.map(function(a){var e=p(t,r.currentTarget,a.Path,true,false,r.currentTerm);var i=new o(a,e,r.currentTerm,"");r.unresolvedAnnotations.push({inline:m(a.Path),toResolve:i});return i});case"AnnotationPath":return a.map(function(a,o){var i=p(t,r.currentTarget,a.AnnotationPath,true,false,r.currentTerm);var n={type:"AnnotationPath",value:a.AnnotationPath,fullyQualifiedName:"".concat(e,"/").concat(o),$target:i,annotationsTerm:r.currentTerm,term:"",path:""};r.unresolvedAnnotations.push({inline:false,toResolve:n});return n});case"NavigationPropertyPath":return a.map(function(a,o){return{type:"NavigationPropertyPath",value:a.NavigationPropertyPath,fullyQualifiedName:"".concat(e,"/").concat(o),$target:p(t,r.currentTarget,a.NavigationPropertyPath,false,false,r.currentTerm)}});case"Record":return a.map(function(a,o){return O(a,"".concat(e,"/").concat(o),t,r)});case"Apply":case"Null":case"If":case"Eq":case"Ne":case"Lt":case"Gt":case"Le":case"Ge":case"Not":case"And":case"Or":return a.map(function(a){return a});case"String":return a.map(function(a){if(typeof a==="string"){return a}else if(a===undefined){return a}else{return a.String}});default:if(a.length===0){return[]}throw new Error("Unsupported case")}}function b(a,e,t){if(a.record){return O(a.record,a.fullyQualifiedName,e,t)}else if(a.collection===undefined){if(a.value){return v(a.value,a.fullyQualifiedName,e,t)}else{return true}}else if(a.collection){var r=C(a.collection,a.fullyQualifiedName,e,t);r.fullyQualifiedName=a.fullyQualifiedName;return r}else{throw new Error("Unsupported case")}}function T(a,e){return function(t,r){var o="";return p(e,a,t,false,r,o)}}function h(a,e,t,r){var o=e.find(function(e){return e.fullyQualifiedName===a.relationship});if(o){var i=o.associationEnd.find(function(e){return e.role===a.toRole});if(i){r.targetType=t[i.type];r.isCollection=i.multiplicity==="*"}}r.referentialConstraint=a.referentialConstraint||[]}function D(a,e,t){t.targetType=e[a.targetTypeName];t.partner=a.partner;t.isCollection=a.isCollection;t.containsTarget=a.containsTarget;t.referentialConstraint=a.referentialConstraint}function V(a){return!!a.targetTypeName}function P(a,e,t){return a.map(function(a){var r={_type:"NavigationProperty",name:a.name,fullyQualifiedName:a.fullyQualifiedName,isCollection:false,containsTarget:false,referentialConstraint:[],annotations:{},partner:"",targetType:undefined,targetTypeName:""};if(V(a)){D(a,t,r)}else{h(a,e,t,r)}if(r.targetType){r.targetTypeName=r.targetType.fullyQualifiedName}t[r.fullyQualifiedName]=r;return r})}function I(a,e,t){a.forEach(function(a){a.navigationProperties=P(a.navigationProperties,e,t);a.resolvePath=T(a,t)})}function A(a,e,t){e.forEach(function(e){if(!e.annotations){e.annotations={}}if(e.isBound){var r=t[e.sourceType];e.sourceEntityType=r;if(r){if(!r.actions){r.actions={}}r.actions[e.name]=e;r.actions["".concat(a,".").concat(e.name)]=e}e.returnEntityType=t[e.returnType]}})}function S(a,e,t){a.forEach(function(a){a.entityType=e[a.entityTypeName];if(!a.entityType){a.entityType=e[(0,r.unalias)(t,a.entityTypeName)]}if(!a.annotations){a.annotations={}}if(!a.entityType.annotations){a.entityType.annotations={}}a.entityType.keys.forEach(function(a){a.isKey=true})})}function E(a,e,t){a.forEach(function(a){a.entityType=e[a.entityTypeName];if(!a.entityType){a.entityType=e[(0,r.unalias)(t,a.entityTypeName)]}if(!a.annotations){a.annotations={}}if(!a.entityType.annotations){a.entityType.annotations={}}a.entityType.keys.forEach(function(a){a.isKey=true})})}function N(a,e){function t(a){if(!a.annotations){a.annotations={}}try{if(a.type.indexOf("Edm")!==0){var r;if(a.type.startsWith("Collection")){var o=a.type.substring(11,a.type.length-1);r=e[o]}else{r=e[a.type]}if(r){a.targetType=r;if(r.properties){r.properties.forEach(t)}}}}catch(a){throw new Error("Property Type is not defined")}}a.forEach(function(a){a.entityProperties.forEach(t)})}function U(a,e,t){a.forEach(function(a){a.annotations={};a.properties.forEach(function(a){if(!a.annotations){a.annotations={}}});a.navigationProperties=P(a.navigationProperties,e,t)})}function R(a,e){var t=(0,r.alias)(a,e);var o=t.lastIndexOf(".");var i=t.substring(0,o);var n=t.substring(o+1);return[i,n]}function Q(a,e){return function t(r){var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(o){var i=r;if(!r.startsWith("/")){i="/".concat(r)}var n=p(e,a,i,false,true);if(n.target){n.visitedObjects.push(n.target)}return{target:n.target,objectPath:n.visitedObjects}}var s=r.split("/");if(s.shift()!==""){throw new Error("Cannot deal with relative path")}var c=s.shift();var l=a.entitySets.find(function(a){return a.name===c});var u=a.singletons.find(function(a){return a.name===c});if(!l&&!u){return{target:a.entityContainer,objectPath:[a.entityContainer]}}if(s.length===0){return{target:l||u,objectPath:[a.entityContainer,l||u]}}else{var m=p(e,l||u,"/"+s.join("/"),false,true);if(m.target){m.visitedObjects.push(m.target)}return{target:m.target,objectPath:m.visitedObjects}}}}function M(a,e){if(!a.annotations){a.annotations={}}if(!a.annotations[e]){a.annotations[e]={}}if(!a.annotations._annotations){a.annotations._annotations={}}}function x(a,e,t,o){var i=a.currentTarget;var n=i.fullyQualifiedName;e.annotations.forEach(function(c){var l,u;a.currentSource=c.__source||e.__source;var p=R(r.defaultReferences,c.term),m=s(p,2),v=m[0],f=m[1];M(i,v);var g="".concat(f).concat(c.qualifier?"#"+c.qualifier:"");if(!o&&((u=(l=i.annotations)===null||l===void 0?void 0:l[v])===null||u===void 0?void 0:u[g])!==undefined){return}a.currentTerm=c.term;i.annotations[v][g]=b(c,t,a);switch(typeof i.annotations[v][g]){case"string":i.annotations[v][g]=new String(i.annotations[v][g]);break;case"boolean":i.annotations[v][g]=new Boolean(i.annotations[v][g]);break;default:break}if(i.annotations[v][g]!==null&&typeof i.annotations[v][g]==="object"&&!i.annotations[v][g].annotations){i.annotations[v][g].annotations={}}if(i.annotations[v][g]!==null&&typeof i.annotations[v][g]==="object"){i.annotations[v][g].term=(0,r.unalias)(r.defaultReferences,"".concat(v,".").concat(f));i.annotations[v][g].qualifier=c.qualifier;i.annotations[v][g].__source=a.currentSource}var y="".concat(n,"@").concat((0,r.unalias)(r.defaultReferences,v+"."+g));if(Array.isArray(c.annotations)){var O={target:y,annotations:c.annotations,__source:a.currentSource};a.additionalAnnotations.push(O)}else if(c.annotations&&!i.annotations[v][g].annotations){i.annotations[v][g].annotations=c.annotations}i.annotations._annotations["".concat(v,".").concat(g)]=i.annotations._annotations[(0,r.unalias)(r.defaultReferences,"".concat(v,".").concat(g))]=i.annotations[v][g];t[y]=i.annotations[v][g]})}function _(a,e){a.forEach(function(a){var t=a.toResolve;var r=t.$target;var o=e[r];var i=t.annotationsTerm,n=t.annotationType;delete t.annotationType;delete t.annotationsTerm;if(a.inline&&!(o instanceof String)){var s;for(s in t){delete t[s]}Object.assign(t,o)}else{t.$target=o}if(!o){t.targetString=r;if(i&&n){var c={message:"Unable to resolve the path expression: "+r+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+i+">"+"\n"+"<Record Type = "+n+">"+"\n"+"<AnnotationPath = "+r+">"};u(r,c)}else{var l=t.term;var p=t.path;var m=r?r.split("/")[0]:r;var v={message:"Unable to resolve the path expression: "+r+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+m+">"+"\n"+"<PropertyValue Property = "+l+"        Path= "+p+">"};u(r,v)}}})}function w(a){var e={};Object.keys(a.schema.annotations).forEach(function(t){a.schema.annotations[t].forEach(function(o){var i=(0,r.unalias)(a.references,o.target);o.__source=t;if(!e[i]){e[i]={annotations:o.annotations.concat(),target:i};e[i].__source=t}else{o.annotations.forEach(function(a){var r=e[i].annotations.findIndex(function(e){return e.term===a.term&&e.qualifier===a.qualifier});a.__source=t;if(r!==-1){e[i].annotations.splice(r,1,a)}else{e[i].annotations.push(a)}})}})});return e}function j(a){l=[];var e=i(a);I(a.schema.entityTypes,a.schema.associations,e);a.schema.entityContainer.annotations={};A(a.schema.namespace,a.schema.actions,e);S(a.schema.entitySets,e,a.references);E(a.schema.singletons,e,a.references);N(a.schema.entityTypes,e);U(a.schema.complexTypes,a.schema.associations,e);var t=[];var o=[];var n=w(a);Object.keys(n).forEach(function(r){var i=n[r];var s=e[r];if(!s&&(r===null||r===void 0?void 0:r.indexOf("@"))>0){o.push(i)}else if(s){var c=[s];var l=true;if(s._type==="UnboundGenericAction"){c=s.actions;l=false}c.forEach(function(r){var n={additionalAnnotations:o,currentSource:i.__source,currentTarget:r,currentTerm:"",rawMetadata:a,unresolvedAnnotations:t};x(n,i,e,l)})}});var u=[];o.forEach(function(o){var i=(0,r.unalias)(a.references,o.target);var n=i.split("@"),c=s(n,2),p=c[0],m=c[1];var v=m.split("/");p=p+"@"+v[0];var f=v.slice(1).reduce(function(a,e){return a===null||a===void 0?void 0:a[e]},e[p]);if(!f||typeof f!=="object"){l.push({message:"The following annotation target was not found on the service "+i})}else{var g={additionalAnnotations:u,currentSource:o.__source,currentTarget:f,currentTerm:"",rawMetadata:a,unresolvedAnnotations:t};x(g,o,e,false)}});_(t,e);for(var p in c){l.push(c[p][0])}a.entitySets=a.schema.entitySets;var m=a.references.filter(function(a){return r.defaultReferences.find(function(e){return e.namespace===a.namespace})===undefined});var v={version:a.version,annotations:a.schema.annotations,namespace:a.schema.namespace,entityContainer:a.schema.entityContainer,actions:a.schema.actions,entitySets:a.schema.entitySets,singletons:a.schema.singletons,entityTypes:a.schema.entityTypes,complexTypes:a.schema.complexTypes,typeDefinitions:a.schema.typeDefinitions,references:r.defaultReferences.concat(m),diagnostics:l.concat()};v.resolvePath=Q(v,e);return v}e.convert=j},349:function(a,e,t){var r=this&&this.__createBinding||(Object.create?function(a,e,t,r){if(r===undefined)r=t;var o=Object.getOwnPropertyDescriptor(e,t);if(!o||("get"in o?!e.__esModule:o.writable||o.configurable)){o={enumerable:true,get:function(){return e[t]}}}Object.defineProperty(a,r,o)}:function(a,e,t,r){if(r===undefined)r=t;a[r]=e[t]});var o=this&&this.__exportStar||function(a,e){for(var t in a){if(t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t))r(e,a,t)}};Object.defineProperty(e,"__esModule",{value:true});o(t(830),e);o(t(364),e);o(t(716),e)},716:function(a,e){Object.defineProperty(e,"__esModule",{value:true});e.Decimal=e.isComplexTypeDefinition=e.TermToTypes=e.unalias=e.alias=e.defaultReferences=void 0;e.defaultReferences=[{alias:"Capabilities",namespace:"Org.OData.Capabilities.V1",uri:""},{alias:"Aggregation",namespace:"Org.OData.Aggregation.V1",uri:""},{alias:"Validation",namespace:"Org.OData.Validation.V1",uri:""},{namespace:"Org.OData.Core.V1",alias:"Core",uri:""},{namespace:"Org.OData.Measures.V1",alias:"Measures",uri:""},{namespace:"com.sap.vocabularies.Common.v1",alias:"Common",uri:""},{namespace:"com.sap.vocabularies.UI.v1",alias:"UI",uri:""},{namespace:"com.sap.vocabularies.Session.v1",alias:"Session",uri:""},{namespace:"com.sap.vocabularies.Analytics.v1",alias:"Analytics",uri:""},{namespace:"com.sap.vocabularies.CodeList.v1",alias:"CodeList",uri:""},{namespace:"com.sap.vocabularies.PersonalData.v1",alias:"PersonalData",uri:""},{namespace:"com.sap.vocabularies.Communication.v1",alias:"Communication",uri:""},{namespace:"com.sap.vocabularies.HTML5.v1",alias:"HTML5",uri:""}];function t(a,e){if(!a.reverseReferenceMap){a.reverseReferenceMap=a.reduce(function(a,e){a[e.namespace]=e;return a},{})}if(!e){return e}var r=e.lastIndexOf(".");var o=e.substring(0,r);var n=e.substring(r+1);var s=a.reverseReferenceMap[o];if(s){return"".concat(s.alias,".").concat(n)}else if(e.indexOf("@")!==-1){var c=e.split("@"),l=i(c),u=l[0],p=l.slice(1);return"".concat(u,"@").concat(t(a,p.join("@")))}else{return e}}e.alias=t;function r(a,e){if(!a.referenceMap){a.referenceMap=a.reduce(function(a,e){a[e.alias]=e;return a},{})}if(!e){return e}var t=e.split("."),o=i(t),n=o[0],s=o.slice(1);var c=a.referenceMap[n];if(c){return"".concat(c.namespace,".").concat(s.join("."))}else if(e.indexOf("@")!==-1){var l=e.split("@"),u=i(l),p=u[0],m=u.slice(1);return"".concat(p,"@").concat(r(a,m.join("@")))}else{return e}}e.unalias=r;var o;(function(a){a["Org.OData.Authorization.V1.SecuritySchemes"]="Org.OData.Authorization.V1.SecurityScheme";a["Org.OData.Authorization.V1.Authorizations"]="Org.OData.Authorization.V1.Authorization";a["Org.OData.Core.V1.Revisions"]="Org.OData.Core.V1.RevisionType";a["Org.OData.Core.V1.Links"]="Org.OData.Core.V1.Link";a["Org.OData.Core.V1.Example"]="Org.OData.Core.V1.ExampleValue";a["Org.OData.Core.V1.Messages"]="Org.OData.Core.V1.MessageType";a["Org.OData.Core.V1.ValueException"]="Org.OData.Core.V1.ValueExceptionType";a["Org.OData.Core.V1.ResourceException"]="Org.OData.Core.V1.ResourceExceptionType";a["Org.OData.Core.V1.DataModificationException"]="Org.OData.Core.V1.DataModificationExceptionType";a["Org.OData.Core.V1.IsLanguageDependent"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.DereferenceableIDs"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.ConventionalIDs"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.Permissions"]="Org.OData.Core.V1.Permission";a["Org.OData.Core.V1.DefaultNamespace"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.Immutable"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.Computed"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.ComputedDefaultValue"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.IsURL"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.IsMediaType"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.ContentDisposition"]="Org.OData.Core.V1.ContentDispositionType";a["Org.OData.Core.V1.OptimisticConcurrency"]="Edm.PropertyPath";a["Org.OData.Core.V1.AdditionalProperties"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.AutoExpand"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.AutoExpandReferences"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.MayImplement"]="Org.OData.Core.V1.QualifiedTypeName";a["Org.OData.Core.V1.Ordered"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.PositionalInsert"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.AlternateKeys"]="Org.OData.Core.V1.AlternateKey";a["Org.OData.Core.V1.OptionalParameter"]="Org.OData.Core.V1.OptionalParameterType";a["Org.OData.Core.V1.OperationAvailable"]="Edm.Boolean";a["Org.OData.Core.V1.SymbolicName"]="Org.OData.Core.V1.SimpleIdentifier";a["Org.OData.Capabilities.V1.ConformanceLevel"]="Org.OData.Capabilities.V1.ConformanceLevelType";a["Org.OData.Capabilities.V1.AsynchronousRequestsSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.BatchContinueOnErrorSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.IsolationSupported"]="Org.OData.Capabilities.V1.IsolationLevel";a["Org.OData.Capabilities.V1.CrossJoinSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.CallbackSupported"]="Org.OData.Capabilities.V1.CallbackType";a["Org.OData.Capabilities.V1.ChangeTracking"]="Org.OData.Capabilities.V1.ChangeTrackingType";a["Org.OData.Capabilities.V1.CountRestrictions"]="Org.OData.Capabilities.V1.CountRestrictionsType";a["Org.OData.Capabilities.V1.NavigationRestrictions"]="Org.OData.Capabilities.V1.NavigationRestrictionsType";a["Org.OData.Capabilities.V1.IndexableByKey"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.TopSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.SkipSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.ComputeSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.SelectSupport"]="Org.OData.Capabilities.V1.SelectSupportType";a["Org.OData.Capabilities.V1.BatchSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.BatchSupport"]="Org.OData.Capabilities.V1.BatchSupportType";a["Org.OData.Capabilities.V1.FilterRestrictions"]="Org.OData.Capabilities.V1.FilterRestrictionsType";a["Org.OData.Capabilities.V1.SortRestrictions"]="Org.OData.Capabilities.V1.SortRestrictionsType";a["Org.OData.Capabilities.V1.ExpandRestrictions"]="Org.OData.Capabilities.V1.ExpandRestrictionsType";a["Org.OData.Capabilities.V1.SearchRestrictions"]="Org.OData.Capabilities.V1.SearchRestrictionsType";a["Org.OData.Capabilities.V1.KeyAsSegmentSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.QuerySegmentSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.InsertRestrictions"]="Org.OData.Capabilities.V1.InsertRestrictionsType";a["Org.OData.Capabilities.V1.DeepInsertSupport"]="Org.OData.Capabilities.V1.DeepInsertSupportType";a["Org.OData.Capabilities.V1.UpdateRestrictions"]="Org.OData.Capabilities.V1.UpdateRestrictionsType";a["Org.OData.Capabilities.V1.DeepUpdateSupport"]="Org.OData.Capabilities.V1.DeepUpdateSupportType";a["Org.OData.Capabilities.V1.DeleteRestrictions"]="Org.OData.Capabilities.V1.DeleteRestrictionsType";a["Org.OData.Capabilities.V1.CollectionPropertyRestrictions"]="Org.OData.Capabilities.V1.CollectionPropertyRestrictionsType";a["Org.OData.Capabilities.V1.OperationRestrictions"]="Org.OData.Capabilities.V1.OperationRestrictionsType";a["Org.OData.Capabilities.V1.AnnotationValuesInQuerySupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.ModificationQueryOptions"]="Org.OData.Capabilities.V1.ModificationQueryOptionsType";a["Org.OData.Capabilities.V1.ReadRestrictions"]="Org.OData.Capabilities.V1.ReadRestrictionsType";a["Org.OData.Capabilities.V1.CustomHeaders"]="Org.OData.Capabilities.V1.CustomParameter";a["Org.OData.Capabilities.V1.CustomQueryOptions"]="Org.OData.Capabilities.V1.CustomParameter";a["Org.OData.Capabilities.V1.MediaLocationUpdateSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Aggregation.V1.ApplySupported"]="Org.OData.Aggregation.V1.ApplySupportedType";a["Org.OData.Aggregation.V1.Groupable"]="Org.OData.Core.V1.Tag";a["Org.OData.Aggregation.V1.Aggregatable"]="Org.OData.Core.V1.Tag";a["Org.OData.Aggregation.V1.ContextDefiningProperties"]="Edm.PropertyPath";a["Org.OData.Aggregation.V1.LeveledHierarchy"]="Edm.PropertyPath";a["Org.OData.Aggregation.V1.RecursiveHierarchy"]="Org.OData.Aggregation.V1.RecursiveHierarchyType";a["Org.OData.Aggregation.V1.AvailableOnAggregates"]="Org.OData.Aggregation.V1.AvailableOnAggregatesType";a["Org.OData.Validation.V1.Minimum"]="Edm.PrimitiveType";a["Org.OData.Validation.V1.Maximum"]="Edm.PrimitiveType";a["Org.OData.Validation.V1.Exclusive"]="Org.OData.Core.V1.Tag";a["Org.OData.Validation.V1.AllowedValues"]="Org.OData.Validation.V1.AllowedValue";a["Org.OData.Validation.V1.MultipleOf"]="Edm.Decimal";a["Org.OData.Validation.V1.Constraint"]="Org.OData.Validation.V1.ConstraintType";a["Org.OData.Validation.V1.ItemsOf"]="Org.OData.Validation.V1.ItemsOfType";a["Org.OData.Validation.V1.OpenPropertyTypeConstraint"]="Org.OData.Core.V1.QualifiedTypeName";a["Org.OData.Validation.V1.DerivedTypeConstraint"]="Org.OData.Core.V1.QualifiedTypeName";a["Org.OData.Validation.V1.AllowedTerms"]="Org.OData.Core.V1.QualifiedTermName";a["Org.OData.Validation.V1.ApplicableTerms"]="Org.OData.Core.V1.QualifiedTermName";a["Org.OData.Validation.V1.MaxItems"]="Edm.Int64";a["Org.OData.Validation.V1.MinItems"]="Edm.Int64";a["Org.OData.Measures.V1.Scale"]="Edm.Byte";a["Org.OData.Measures.V1.DurationGranularity"]="Org.OData.Measures.V1.DurationGranularityType";a["com.sap.vocabularies.Analytics.v1.Dimension"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Analytics.v1.Measure"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Analytics.v1.AccumulativeMeasure"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Analytics.v1.RolledUpPropertyCount"]="Edm.Int16";a["com.sap.vocabularies.Analytics.v1.PlanningAction"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Analytics.v1.AggregatedProperties"]="com.sap.vocabularies.Analytics.v1.AggregatedPropertyType";a["com.sap.vocabularies.Common.v1.ServiceVersion"]="Edm.Int32";a["com.sap.vocabularies.Common.v1.ServiceSchemaVersion"]="Edm.Int32";a["com.sap.vocabularies.Common.v1.TextFor"]="Edm.PropertyPath";a["com.sap.vocabularies.Common.v1.IsLanguageIdentifier"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.TextFormat"]="com.sap.vocabularies.Common.v1.TextFormatType";a["com.sap.vocabularies.Common.v1.IsDigitSequence"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsUpperCase"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCurrency"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsUnit"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.UnitSpecificScale"]="Edm.PrimitiveType";a["com.sap.vocabularies.Common.v1.UnitSpecificPrecision"]="Edm.PrimitiveType";a["com.sap.vocabularies.Common.v1.SecondaryKey"]="Edm.PropertyPath";a["com.sap.vocabularies.Common.v1.MinOccurs"]="Edm.Int64";a["com.sap.vocabularies.Common.v1.MaxOccurs"]="Edm.Int64";a["com.sap.vocabularies.Common.v1.AssociationEntity"]="Edm.NavigationPropertyPath";a["com.sap.vocabularies.Common.v1.DerivedNavigation"]="Edm.NavigationPropertyPath";a["com.sap.vocabularies.Common.v1.Masked"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.MaskedAlways"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.SemanticObjectMapping"]="com.sap.vocabularies.Common.v1.SemanticObjectMappingType";a["com.sap.vocabularies.Common.v1.IsInstanceAnnotation"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.FilterExpressionRestrictions"]="com.sap.vocabularies.Common.v1.FilterExpressionRestrictionType";a["com.sap.vocabularies.Common.v1.FieldControl"]="com.sap.vocabularies.Common.v1.FieldControlType";a["com.sap.vocabularies.Common.v1.Application"]="com.sap.vocabularies.Common.v1.ApplicationType";a["com.sap.vocabularies.Common.v1.Timestamp"]="Edm.DateTimeOffset";a["com.sap.vocabularies.Common.v1.ErrorResolution"]="com.sap.vocabularies.Common.v1.ErrorResolutionType";a["com.sap.vocabularies.Common.v1.Messages"]="Edm.ComplexType";a["com.sap.vocabularies.Common.v1.numericSeverity"]="com.sap.vocabularies.Common.v1.NumericMessageSeverityType";a["com.sap.vocabularies.Common.v1.MaximumNumericMessageSeverity"]="com.sap.vocabularies.Common.v1.NumericMessageSeverityType";a["com.sap.vocabularies.Common.v1.IsActionCritical"]="Edm.Boolean";a["com.sap.vocabularies.Common.v1.Attributes"]="Edm.PropertyPath";a["com.sap.vocabularies.Common.v1.RelatedRecursiveHierarchy"]="Edm.AnnotationPath";a["com.sap.vocabularies.Common.v1.Interval"]="com.sap.vocabularies.Common.v1.IntervalType";a["com.sap.vocabularies.Common.v1.ResultContext"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.WeakReferentialConstraint"]="com.sap.vocabularies.Common.v1.WeakReferentialConstraintType";a["com.sap.vocabularies.Common.v1.IsNaturalPerson"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.ValueList"]="com.sap.vocabularies.Common.v1.ValueListType";a["com.sap.vocabularies.Common.v1.ValueListRelevantQualifiers"]="com.sap.vocabularies.Common.v1.SimpleIdentifier";a["com.sap.vocabularies.Common.v1.ValueListWithFixedValues"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.ValueListMapping"]="com.sap.vocabularies.Common.v1.ValueListMappingType";a["com.sap.vocabularies.Common.v1.IsCalendarYear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarHalfyear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarQuarter"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarMonth"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarWeek"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsDayOfCalendarMonth"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsDayOfCalendarYear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarYearHalfyear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarYearQuarter"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarYearMonth"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarYearWeek"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarDate"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalYear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalPeriod"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalQuarter"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalWeek"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalYearWeek"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalYearVariant"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.MutuallyExclusiveTerm"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.DraftRoot"]="com.sap.vocabularies.Common.v1.DraftRootType";a["com.sap.vocabularies.Common.v1.DraftNode"]="com.sap.vocabularies.Common.v1.DraftNodeType";a["com.sap.vocabularies.Common.v1.DraftActivationVia"]="com.sap.vocabularies.Common.v1.SimpleIdentifier";a["com.sap.vocabularies.Common.v1.EditableFieldFor"]="Edm.PropertyPath";a["com.sap.vocabularies.Common.v1.SemanticKey"]="Edm.PropertyPath";a["com.sap.vocabularies.Common.v1.SideEffects"]="com.sap.vocabularies.Common.v1.SideEffectsType";a["com.sap.vocabularies.Common.v1.DefaultValuesFunction"]="com.sap.vocabularies.Common.v1.QualifiedName";a["com.sap.vocabularies.Common.v1.FilterDefaultValue"]="Edm.PrimitiveType";a["com.sap.vocabularies.Common.v1.FilterDefaultValueHigh"]="Edm.PrimitiveType";a["com.sap.vocabularies.Common.v1.SortOrder"]="com.sap.vocabularies.Common.v1.SortOrderType";a["com.sap.vocabularies.Common.v1.RecursiveHierarchy"]="com.sap.vocabularies.Common.v1.RecursiveHierarchyType";a["com.sap.vocabularies.Common.v1.CreatedAt"]="Edm.DateTimeOffset";a["com.sap.vocabularies.Common.v1.CreatedBy"]="com.sap.vocabularies.Common.v1.UserID";a["com.sap.vocabularies.Common.v1.ChangedAt"]="Edm.DateTimeOffset";a["com.sap.vocabularies.Common.v1.ChangedBy"]="com.sap.vocabularies.Common.v1.UserID";a["com.sap.vocabularies.Common.v1.ApplyMultiUnitBehaviorForSortingAndFiltering"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.CodeList.v1.CurrencyCodes"]="com.sap.vocabularies.CodeList.v1.CodeListSource";a["com.sap.vocabularies.CodeList.v1.UnitsOfMeasure"]="com.sap.vocabularies.CodeList.v1.CodeListSource";a["com.sap.vocabularies.CodeList.v1.StandardCode"]="Edm.PropertyPath";a["com.sap.vocabularies.CodeList.v1.ExternalCode"]="Edm.PropertyPath";a["com.sap.vocabularies.CodeList.v1.IsConfigurationDeprecationCode"]="Edm.Boolean";a["com.sap.vocabularies.Communication.v1.Contact"]="com.sap.vocabularies.Communication.v1.ContactType";a["com.sap.vocabularies.Communication.v1.Address"]="com.sap.vocabularies.Communication.v1.AddressType";a["com.sap.vocabularies.Communication.v1.IsEmailAddress"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Communication.v1.IsPhoneNumber"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Communication.v1.Event"]="com.sap.vocabularies.Communication.v1.EventData";a["com.sap.vocabularies.Communication.v1.Task"]="com.sap.vocabularies.Communication.v1.TaskData";a["com.sap.vocabularies.Communication.v1.Message"]="com.sap.vocabularies.Communication.v1.MessageData";a["com.sap.vocabularies.Hierarchy.v1.RecursiveHierarchy"]="com.sap.vocabularies.Hierarchy.v1.RecursiveHierarchyType";a["com.sap.vocabularies.PersonalData.v1.EntitySemantics"]="com.sap.vocabularies.PersonalData.v1.EntitySemanticsType";a["com.sap.vocabularies.PersonalData.v1.FieldSemantics"]="com.sap.vocabularies.PersonalData.v1.FieldSemanticsType";a["com.sap.vocabularies.PersonalData.v1.IsPotentiallyPersonal"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Session.v1.StickySessionSupported"]="com.sap.vocabularies.Session.v1.StickySessionSupportedType";a["com.sap.vocabularies.UI.v1.HeaderInfo"]="com.sap.vocabularies.UI.v1.HeaderInfoType";a["com.sap.vocabularies.UI.v1.Identification"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";a["com.sap.vocabularies.UI.v1.Badge"]="com.sap.vocabularies.UI.v1.BadgeType";a["com.sap.vocabularies.UI.v1.LineItem"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";a["com.sap.vocabularies.UI.v1.StatusInfo"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";a["com.sap.vocabularies.UI.v1.FieldGroup"]="com.sap.vocabularies.UI.v1.FieldGroupType";a["com.sap.vocabularies.UI.v1.ConnectedFields"]="com.sap.vocabularies.UI.v1.ConnectedFieldsType";a["com.sap.vocabularies.UI.v1.GeoLocations"]="com.sap.vocabularies.UI.v1.GeoLocationType";a["com.sap.vocabularies.UI.v1.GeoLocation"]="com.sap.vocabularies.UI.v1.GeoLocationType";a["com.sap.vocabularies.UI.v1.Contacts"]="Edm.AnnotationPath";a["com.sap.vocabularies.UI.v1.MediaResource"]="com.sap.vocabularies.UI.v1.MediaResourceType";a["com.sap.vocabularies.UI.v1.DataPoint"]="com.sap.vocabularies.UI.v1.DataPointType";a["com.sap.vocabularies.UI.v1.KPI"]="com.sap.vocabularies.UI.v1.KPIType";a["com.sap.vocabularies.UI.v1.Chart"]="com.sap.vocabularies.UI.v1.ChartDefinitionType";a["com.sap.vocabularies.UI.v1.ValueCriticality"]="com.sap.vocabularies.UI.v1.ValueCriticalityType";a["com.sap.vocabularies.UI.v1.CriticalityLabels"]="com.sap.vocabularies.UI.v1.CriticalityLabelType";a["com.sap.vocabularies.UI.v1.SelectionFields"]="Edm.PropertyPath";a["com.sap.vocabularies.UI.v1.Facets"]="com.sap.vocabularies.UI.v1.Facet";a["com.sap.vocabularies.UI.v1.HeaderFacets"]="com.sap.vocabularies.UI.v1.Facet";a["com.sap.vocabularies.UI.v1.QuickViewFacets"]="com.sap.vocabularies.UI.v1.Facet";a["com.sap.vocabularies.UI.v1.QuickCreateFacets"]="com.sap.vocabularies.UI.v1.Facet";a["com.sap.vocabularies.UI.v1.FilterFacets"]="com.sap.vocabularies.UI.v1.ReferenceFacet";a["com.sap.vocabularies.UI.v1.SelectionPresentationVariant"]="com.sap.vocabularies.UI.v1.SelectionPresentationVariantType";a["com.sap.vocabularies.UI.v1.PresentationVariant"]="com.sap.vocabularies.UI.v1.PresentationVariantType";a["com.sap.vocabularies.UI.v1.SelectionVariant"]="com.sap.vocabularies.UI.v1.SelectionVariantType";a["com.sap.vocabularies.UI.v1.ThingPerspective"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.IsSummary"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.PartOfPreview"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.Map"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.Gallery"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.IsImageURL"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.IsImage"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.MultiLineText"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.TextArrangement"]="com.sap.vocabularies.UI.v1.TextArrangementType";a["com.sap.vocabularies.UI.v1.Importance"]="com.sap.vocabularies.UI.v1.ImportanceType";a["com.sap.vocabularies.UI.v1.Hidden"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.CreateHidden"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.UpdateHidden"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.DeleteHidden"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.HiddenFilter"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.DataFieldDefault"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";a["com.sap.vocabularies.UI.v1.Criticality"]="com.sap.vocabularies.UI.v1.CriticalityType";a["com.sap.vocabularies.UI.v1.CriticalityCalculation"]="com.sap.vocabularies.UI.v1.CriticalityCalculationType";a["com.sap.vocabularies.UI.v1.Emphasized"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.OrderBy"]="Edm.PropertyPath";a["com.sap.vocabularies.UI.v1.ParameterDefaultValue"]="Edm.PrimitiveType";a["com.sap.vocabularies.UI.v1.RecommendationState"]="com.sap.vocabularies.UI.v1.RecommendationStateType";a["com.sap.vocabularies.UI.v1.RecommendationList"]="com.sap.vocabularies.UI.v1.RecommendationListType";a["com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.HTML5.v1.CssDefaults"]="com.sap.vocabularies.HTML5.v1.CssDefaultsType"})(o=e.TermToTypes||(e.TermToTypes={}));function n(a){return!!a&&a._type==="ComplexType"&&!!a.properties}e.isComplexTypeDefinition=n;function s(a){return{isDecimal:function(){return true},valueOf:function(){return a},toString:function(){return a.toString()}}}e.Decimal=s},364:function(a,t,r){Object.defineProperty(t,"__esModule",{value:true});t.revertTermToGenericType=void 0;var o=r(716);function i(a,e){var t,r;var o;if(Array.isArray(e)){o={type:"Collection",Collection:e.map(function(e){return l(a,e)})}}else if((t=e.isDecimal)===null||t===void 0?void 0:t.call(e)){o={type:"Decimal",Decimal:e.valueOf()}}else if((r=e.isString)===null||r===void 0?void 0:r.call(e)){var i=e.split(".");if(i.length>1&&a.find(function(a){return a.alias===i[0]})){o={type:"EnumMember",EnumMember:e.valueOf()}}else{o={type:"String",String:e.valueOf()}}}else if(e.type==="Path"){o={type:"Path",Path:e.path}}else if(e.type==="AnnotationPath"){o={type:"AnnotationPath",AnnotationPath:e.value}}else if(e.type==="Apply"){o={type:"Apply",Apply:e.Apply}}else if(e.type==="Null"){o={type:"Null"}}else if(e.type==="PropertyPath"){o={type:"PropertyPath",PropertyPath:e.value}}else if(e.type==="NavigationPropertyPath"){o={type:"NavigationPropertyPath",NavigationPropertyPath:e.value}}else if(Object.prototype.hasOwnProperty.call(e,"$Type")){o={type:"Record",Record:l(a,e)}}return o}function n(a,e){var t;var r=e===null||e===void 0?void 0:e.constructor.name;switch(r){case"String":case"string":var o=e.toString().split(".");if(o.length>1&&a.find(function(a){return a.alias===o[0]})){t={type:"EnumMember",EnumMember:e.toString()}}else{t={type:"String",String:e.toString()}}break;case"Boolean":case"boolean":t={type:"Bool",Bool:e.valueOf()};break;case"Number":case"number":if(e.toString()===e.toFixed()){t={type:"Int",Int:e.valueOf()}}else{t={type:"Decimal",Decimal:e.valueOf()}}break;case"object":default:t=i(a,e);break}return t}var s=["$Type","term","__source","qualifier","ActionTarget","fullyQualifiedName","annotations"];function c(a,e,t){Object.keys(e).filter(function(a){return a!=="_annotations"}).forEach(function(r){Object.keys(e[r]).forEach(function(i){var n=u(a,e[r][i]);if(!n.term){var s=(0,o.unalias)(a,"".concat(r,".").concat(i));if(s){var c=s.split("#");n.term=c[0];if(c.length>1){n.qualifier=c[1]}}}t.push(n)})})}function l(a,e){if(typeof e==="string"){return e}else if(typeof e==="object"){if(e.hasOwnProperty("$Type")){var t={type:e.$Type,propertyValues:[]};Object.keys(e).forEach(function(r){if(s.indexOf(r)===-1){var o=e[r];t.propertyValues.push({name:r,value:n(a,o)})}else if(r==="annotations"&&Object.keys(e[r]).length>0){t.annotations=[];c(a,e[r],t.annotations)}});return t}else if(e.type==="PropertyPath"){return{type:"PropertyPath",PropertyPath:e.value}}else if(e.type==="AnnotationPath"){return{type:"AnnotationPath",AnnotationPath:e.value}}else if(e.type==="NavigationPropertyPath"){return{type:"NavigationPropertyPath",NavigationPropertyPath:e.value}}}}function u(a,t){var r={term:t.term,qualifier:t.qualifier};if(Array.isArray(t)){if(t.hasOwnProperty("annotations")&&Object.keys(t.annotations).length>0){r.annotations=[];c(a,t.annotations,r.annotations)}return e(e({},r),{},{collection:t.map(function(e){return l(a,e)})})}else if(t.hasOwnProperty("$Type")){return e(e({},r),{},{record:l(a,t)})}else{return e(e({},r),{},{value:n(a,t)})}}t.revertTermToGenericType=u}};var t={};function r(e){var o=t[e];if(o!==undefined){return o.exports}var i=t[e]={exports:{}};a[e].call(i.exports,i,i.exports,r);return i.exports}var o=r(349);v=o})();return v},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Action", ["sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/ID","sap/fe/core/converters/ManifestSettings","sap/fe/core/formatters/FPMFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper"],function(e,n,t,r,i,o,a){"use strict";var l={};var u=a.replaceSpecialChars;var c=o.resolveBindingString;var f=o.pathInModel;var v=o.or;var d=o.isConstant;var s=o.ifElse;var p=o.greaterOrEqual;var b=o.getExpressionFromAnnotation;var y=o.formatResult;var m=o.equal;var g=o.compileExpression;var h=o.and;var A=r.ActionType;var S=t.getCustomActionID;var O=n.Placement;var j=e.bindingContextPathVisitor;function E(e){return k(e)||w(e)||I(e)||P()}function P(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k(e){if(Array.isArray(e))return B(e)}function x(e,n){var t=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=I(e))||n&&e&&typeof e.length==="number"){if(t)e=t;var r=0;var i=function(){};return{s:i,n:function(){if(r>=e.length)return{done:true};return{done:false,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=true,a=false,l;return{s:function(){t=t.call(e)},n:function(){var e=t.next();o=e.done;return e},e:function(e){a=true;l=e},f:function(){try{if(!o&&t.return!=null)t.return()}finally{if(a)throw l}}}}function I(e,n){if(!e)return;if(typeof e==="string")return B(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor)t=e.constructor.name;if(t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return B(e,n)}function B(e,n){if(n==null||n>e.length)n=e.length;for(var t=0,r=new Array(n);t<n;t++){r[t]=e[t]}return r}function M(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?M(Object(t),!0).forEach(function(n){D(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function D(e,n,t){n=N(n);if(n in e){Object.defineProperty(e,n,{value:t,enumerable:true,configurable:true,writable:true})}else{e[n]=t}return e}function N(e){var n=F(e,"string");return typeof n==="symbol"?n:String(n)}function F(e,n){if(typeof e!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==undefined){var r=t.call(e,n||"default");if(typeof r!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var T;(function(e){e["Accept"]="Accept";e["Attention"]="Attention";e["Back"]="Back";e["Critical"]="Critical";e["Default"]="Default";e["Emphasized"]="Emphasized";e["Ghost"]="Ghost";e["Negative"]="Negative";e["Neutral"]="Neutral";e["Reject"]="Reject";e["Success"]="Success";e["Transparent"]="Transparent";e["Unstyled"]="Unstyled";e["Up"]="Up"})(T||(T={}));l.ButtonType=T;function q(e,n,t,r){var i=n.find(function(e){return e.key===r});var o=e[r];var a=C({},i!==null&&i!==void 0?i:o);if(i){var l,u;a.enabled=(l=o===null||o===void 0?void 0:o.enabled)!==null&&l!==void 0?l:i.enabled;a.visible=(u=o===null||o===void 0?void 0:o.visible)!==null&&u!==void 0?u:i.visible;for(var c in o||{}){if(!i[c]&&c!=="menu"){a[c]=o[c]}}}var f=((a===null||a===void 0?void 0:a.visible)||(a===null||a===void 0?void 0:a.type)===A.DataFieldForAction||(a===null||a===void 0?void 0:a.type)===A.DataFieldForIntentBasedNavigation)&&!t.find(function(e){return e.key===(a===null||a===void 0?void 0:a.key)});return{action:a,canBeMenuItem:f}}function U(e,n,t,r,i){var o=q(n,t,i,e.defaultAction),a=o.action,l=o.canBeMenuItem;if(l){e.defaultAction=a}if(a.command){r[a.key]=a}}function _(e,n,t,r,i){var o;var a=[];var l=x((o=e.menu)!==null&&o!==void 0?o:[]),u;try{for(l.s();!(u=l.n()).done;){var f=u.value;var d=q(n,t,i,f),s=d.action,p=d.canBeMenuItem;if(p){a.push(s)}if(s.command){r[f]=s}}}catch(e){l.e(e)}finally{l.f()}e.menu=a;var b=a.map(function(e){return c(e.visible,"boolean")});e.visible=g(h(c(e.visible,"boolean"),v.apply(void 0,E(b))))}function L(e,n,t){var r={};var i=[];var o={};for(var a in e){var l=e[a];if(l.defaultAction!==undefined){U(l,e,n,o,t)}if(l.type===A.Menu){var u;i.push.apply(i,E(l.menu));_(l,e,n,o,t);if(!((u=l.menu)!==null&&u!==void 0&&u.length)){i.push(l.key)}}if(l.command){o[a]=l}r[a]=l}i.forEach(function(e){return delete r[e]});return{actions:r,commandActions:o}}var R=function(e,n,t){if(n&&e.enabled===undefined){return undefined}var r=H(e.enabled,t);return g(s(e.requiresSelection===true,h(p(f("numberOfSelectedContexts","internal"),1),r),r))};var V=function(e,n,t){if(n&&e.visible===undefined){return undefined}var r=H(e.visible,t);return g(r)};function $(e,n){var t,r;if(!n){return}e.type=n.type;e.annotationPath=n.annotationPath;e.press=n.press;e.enabled=(t=e.enabled)!==null&&t!==void 0?t:n.enabled;e.visible=(r=e.visible)!==null&&r!==void 0?r:n.visible}function z(e,n){if(n!==null&&n!==void 0&&n.find(function(n){return n.key===e.key})){e.visible="false"}}function G(e,n,t,r,i,o,a){var l={};var c=function(c){var f,v,d;var s=e[c];var p=((f=s.press)===null||f===void 0?void 0:f.lastIndexOf("."))||-1;var b=t===null||t===void 0?void 0:t.find(function(e){return e.key===c});var y=!!b;if(s.facetName){a=s.facetName}l[c]={id:b?c:S(c),type:s.menu?A.Menu:A.Default,visible:V(s,y,n),enabled:R(s,y,n),handlerModule:s.press&&s.press.substring(0,p).replace(/\./gi,"/"),handlerMethod:s.press&&s.press.substring(p+1),press:s.press,text:s.text,noWrap:s.__noWrap,key:u(c),enableOnSelect:s.enableOnSelect,defaultValuesExtensionFunction:s.defaultValuesFunction,position:{anchor:(v=s.position)===null||v===void 0?void 0:v.anchor,placement:s.position===undefined?O.After:s.position.placement},isNavigable:K(s,r,i),command:s.command,requiresSelection:s.requiresSelection===undefined?false:s.requiresSelection,enableAutoScroll:X(s),menu:(d=s.menu)!==null&&d!==void 0?d:[],facetName:s.inline?a:undefined,defaultAction:s.defaultAction};$(l[c],b);z(l[c],o)};for(var f in e){c(f)}return L(l,t!==null&&t!==void 0?t:[],o!==null&&o!==void 0?o:[])}l.getActionsFromManifest=G;function H(e,n){var t=c(e,"boolean");var r;if(d(t)&&t.value===undefined){r=true}else if(d(t)&&typeof t.value==="boolean"){r=t.value}else if(t._type!=="EmbeddedBinding"&&t._type!=="EmbeddedExpressionBinding"){var o;var a=t.value;r=y([f("/","$view"),a,f("selectedContexts","internal")],i.customBooleanPropertyCheck,((o=n.getDataModelObjectPath().contextLocation)===null||o===void 0?void 0:o.targetEntityType)||n.getEntityType())}else{r=t}return r}var W=function(e){var n={};e.forEach(function(e){var t;if(e!==null&&e!==void 0&&(t=e.menu)!==null&&t!==void 0&&t.length){n=e.menu.reduce(function(e,n){var t=n.key;if(t&&!e[t]){e[t]=true}return e},n)}});return e.filter(function(e){return!n[e.key]})};l.removeDuplicateActions=W;function Q(e,n){var t;if((n===null||n===void 0?void 0:n.isBound)!==true){return"true"}if(n!==null&&n!==void 0&&(t=n.parameters)!==null&&t!==void 0&&t.length){var r,i;var o=n===null||n===void 0?void 0:n.parameters[0].fullyQualifiedName,a=b(n===null||n===void 0?void 0:(r=n.annotations.Core)===null||r===void 0?void 0:r.OperationAvailable,[],undefined,function(n){return j(n,e,o)});if((n===null||n===void 0?void 0:(i=n.annotations.Core)===null||i===void 0?void 0:i.OperationAvailable)!==undefined){return g(m(a,true))}}return"true"}l.getEnabledForAnnotationAction=Q;function J(e){var n=[];e.forEach(function(e){var t={LocalProperty:{$PropertyPath:e.LocalProperty.value},SemanticObjectProperty:e.SemanticObjectProperty};n.push(t)});return n}l.getSemanticObjectMapping=J;function K(e,n,t){var r,i;var o=true;if(t){var a=n&&(n.detail||n.display);o=a!==null&&a!==void 0&&a.route?true:false}if(e&&e.afterExecution&&(((r=e.afterExecution)===null||r===void 0?void 0:r.navigateToInstance)===false||((i=e.afterExecution)===null||i===void 0?void 0:i.enableAutoScroll)===true)||!o){return false}return true}l.isActionNavigable=K;function X(e){var n;return(e===null||e===void 0?void 0:(n=e.afterExecution)===null||n===void 0?void 0:n.enableAutoScroll)===true}l.enableAutoScroll=X;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Chart", ["sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/Key","sap/fe/core/templating/DataModelPathHelper","sap/ui/core/Core","../../helpers/Aggregation","../../helpers/ID","../../ManifestSettings"],function(e,t,r,n,a,o,i,l,u){"use strict";var v={};var s=u.VisualizationType;var d=u.TemplateType;var f=u.ActionType;var g=l.getFilterBarID;var c=l.getChartID;var p=i.AggregationHelper;var y=a.getTargetObjectPath;var m=n.KeyHelper;var h=r.insertCustomElements;var b=t.getActionsFromManifest;var A=e.isDataFieldForActionAbstract;function P(e,t){return C(e)||S(e,t)||O(e,t)||T()}function T(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],u=!0,v=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0){}}catch(e){v=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(v)throw a}}return l}}function C(e){if(Array.isArray(e))return e}function I(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=O(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var a=function(){};return{s:a,n:function(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=true,i=false,l;return{s:function(){r=r.call(e)},n:function(){var e=r.next();o=e.done;return e},e:function(e){i=true;l=e},f:function(){try{if(!o&&r.return!=null)r.return()}finally{if(i)throw l}}}}function O(e,t){if(!e)return;if(typeof e==="string")return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}function w(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function D(e,t,r){var n=[];if(e){var a=e.Actions||[];a.forEach(function(e){var t,a,o,i;var l;if(A(e)&&!(((t=e.annotations)===null||t===void 0?void 0:(a=t.UI)===null||a===void 0?void 0:(o=a.Hidden)===null||o===void 0?void 0:o.valueOf())===true)&&!e.Inline&&!e.Determining&&!(e!==null&&e!==void 0&&(i=e.ActionTarget)!==null&&i!==void 0&&i.isBound)){var u=m.generateKeyFromDataField(e);switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":l={type:f.DataFieldForAction,annotationPath:r.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:u};break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":l={type:f.DataFieldForIntentBasedNavigation,annotationPath:r.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:u};break}}if(l){n.push(l)}})}return n}function E(e,t,r){var n=D(e,t,r);var a=b(r.getManifestControlConfiguration(t).actions,r,n);var o=h(n,a.actions,{enableOnSelect:"overwrite",enabled:"overwrite",visible:"overwrite",command:"overwrite"});return{actions:o,commandActions:a.commandActions}}v.getChartActions=E;function F(e,t){var r;var n=t.getManifestWrapper();var a=t.getManifestControlConfiguration(e);var o=["Page","Control"].indexOf(n.getVariantManagement())>-1;var i=true;var l=[];if((a===null||a===void 0?void 0:(r=a.chartSettings)===null||r===void 0?void 0:r.personalization)!==undefined){i=a.chartSettings.personalization}if(o&&i){if(i===true){return"Sort,Type,Item"}else if(typeof i==="object"){if(i.type){l.push("Type")}if(i.item){l.push("Item")}if(i.sort){l.push("Sort")}return l.join(",")}}return undefined}v.getP13nMode=F;function M(e,t,r,n){var a,i,l;var u=new p(r.getEntityType(),r);if(!n&&!u.isAnalyticsSupported()){throw new Error("ApplySupported is not added to the annotations")}var v=u.getTransAggregations();var f=u.getCustomAggregateDefinitions();var m={};if(f){var h=u.getEntityType();var b=I(f),A;try{var T=function(){var e,t,r,n,a;var o=A.value;var i=o===null||o===void 0?void 0:(e=o.annotations)===null||e===void 0?void 0:(t=e.Aggregation)===null||t===void 0?void 0:t.ContextDefiningProperties;var l=o===null||o===void 0?void 0:o.qualifier;var u=l&&h.entityProperties.find(function(e){return e.name===l});var v=u&&(u===null||u===void 0?void 0:(r=u.annotations)===null||r===void 0?void 0:(n=r.Common)===null||n===void 0?void 0:(a=n.Label)===null||a===void 0?void 0:a.toString());m[l]={name:l,label:v||"Custom Aggregate (".concat(l,")"),sortable:true,sortOrder:"both",contextDefiningProperty:i?i.map(function(e){return e.value}):[]}};for(b.s();!(A=b.n()).done;){T()}}catch(e){b.e(e)}finally{b.f()}}var S={};var C=o.getLibraryResourceBundle("sap.fe.core");if(v){for(var O=0;O<v.length;O++){var w,D,M,j,N,B;S[v[O].Name]={name:v[O].Name,propertyPath:v[O].AggregatableProperty.valueOf().value,aggregationMethod:v[O].AggregationMethod,label:(w=v[O])!==null&&w!==void 0&&(D=w.annotations)!==null&&D!==void 0&&(M=D.Common)!==null&&M!==void 0&&M.Label?(j=v[O])===null||j===void 0?void 0:(N=j.annotations)===null||N===void 0?void 0:(B=N.Common)===null||B===void 0?void 0:B.Label.toString():"".concat(C.getText("AGGREGATABLE_PROPERTY")," (").concat(v[O].Name,")"),sortable:true,sortOrder:"both",custom:false}}}var x=u.getAggregatableProperties();var L=u.getGroupableProperties();var $={};$.$Type="Org.OData.Aggregation.V1.ApplySupportedType";$.AggregatableProperties=[];$.GroupableProperties=[];for(var z=0;x&&z<x.length;z++){var G,V,H;var R={$Type:(G=x[z])===null||G===void 0?void 0:G.$Type,Property:{$PropertyPath:(V=x[z])===null||V===void 0?void 0:(H=V.Property)===null||H===void 0?void 0:H.value}};$.AggregatableProperties.push(R)}for(var U=0;L&&U<L.length;U++){var k;var Q={$PropertyPath:(k=L[U])===null||k===void 0?void 0:k.value};$.GroupableProperties.push(Q)}var K=E(e,t,r);var W=t.split("@"),q=P(W,1),J=q[0];if(J.lastIndexOf("/")===J.length-1){J=J.substr(0,J.length-1)}var Y=(a=r.getEntityType().annotations)===null||a===void 0?void 0:(i=a.UI)===null||i===void 0?void 0:(l=i.HeaderInfo)===null||l===void 0?void 0:l.TypeNamePlural;var _=r.getDataModelObjectPath();var X=J.length===0;var Z=_.targetEntitySet?_.targetEntitySet.name:_.startingEntitySet.name;var ee=X?g(r.getContextPath()):undefined;var te={legendGroup:{layout:{position:"bottom"}}};var re;if(r.getTemplateType()===d.ObjectPage){re=true}else if(r.getTemplateType()===d.ListReport||r.getTemplateType()===d.AnalyticalListPage){re=false}var ne=r.getManifestWrapper().hasMultipleVisualizations()||r.getTemplateType()==="AnalyticalListPage";var ae=ne?".handlers.onSegmentedButtonPressed":"";var oe=ne?"{= ${pageInternal>alpContentView} !== 'Table'}":"true";var ie=u.getAllowedTransformations();$.enableSearch=ie?ie.indexOf("search")>=0:true;var le="";if(e.fullyQualifiedName.split("#").length>1){le=e.fullyQualifiedName.split("#")[1]}return{type:s.Chart,id:le?c(X?Z:J,le,s.Chart):c(X?Z:J,s.Chart),collection:y(r.getDataModelObjectPath()),entityName:Z,personalization:F(t,r),navigationPath:J,annotationPath:r.getAbsoluteAnnotationPath(t),filterId:ee,vizProperties:JSON.stringify(te),actions:K.actions,commandActions:K.commandActions,title:Y,autoBindOnInit:re,onSegmentedButtonPressed:ae,visible:oe,customAgg:m,transAgg:S,applySupported:$}}v.createChartVisualization=M;return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Criticality", ["sap/fe/core/formatters/TableFormatterTypes"],function(e){"use strict";var i={};var a=e.MessageType;function t(e){var i;switch(e){case"UI.CriticalityType/Negative":case"UI.CriticalityType/VeryNegative":i=a.Error;break;case"UI.CriticalityType/Critical":i=a.Warning;break;case"UI.CriticalityType/Positive":case"UI.CriticalityType/VeryPositive":i=a.Success;break;case"UI.CriticalityType/Information":i=a.Information;break;case"UI.CriticalityType/Neutral":default:i=a.None}return i}i.getMessageTypeFromCriticalityType=t;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/DataVisualization", ["sap/fe/core/converters/helpers/IssueManager","sap/fe/macros/CommonHelper","../../ManifestSettings","./Chart","./Table"],function(t,a,e,n,i){"use strict";var o={};var r=n.createChartVisualization;var s=e.TemplateType;var l=t.IssueType;var u=t.IssueSeverity;var v=t.IssueCategory;var c=function(t,a,e){var n=[];var i=e.getManifestWrapper().hasMultipleVisualizations()||e.getTemplateType()===s.AnalyticalListPage;var o=a.split("@")[0];if(!m(t,i)){var r=e.getEntityType();var l=p(r);if(l){n.push({visualization:l,annotationPath:"".concat(o).concat(e.getRelativeAnnotationPath(l.fullyQualifiedName,r)),converterContext:e})}}else{var u=t.Visualizations;var v=function(t){var a=u.find(function(a){return t.indexOf(a.$target.term)>=0});if(a){n.push({visualization:a.$target,annotationPath:"".concat(o).concat(a.value),converterContext:e})}};if(i){v(["com.sap.vocabularies.UI.v1.LineItem"]);v(["com.sap.vocabularies.UI.v1.Chart"])}else{v(["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.Chart"])}}return n};o.getVisualizationsFromPresentationVariant=c;function f(t,a,e){if(a){var n=e.getEntityTypeAnnotation(a);var i=n.annotation;if(i){if(i.term==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){return i}}else{throw new Error("Annotation Path for the SPV mentioned in the manifest is not found, Please add the SPV in the annotation")}}else{var o,r;return(o=t.annotations)===null||o===void 0?void 0:(r=o.UI)===null||r===void 0?void 0:r.SelectionPresentationVariant}}o.getSelectionPresentationVariant=f;function d(t,a){var e=t&&t.PresentationVariant;if(e){return m(e,a)}else{throw new Error("Presentation Variant is not present in the SPV annotation")}}o.isSelectionPresentationCompliant=d;function m(t){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var e=false,n=false;if(a){if(t!==null&&t!==void 0&&t.Visualizations){var i=t.Visualizations;i.forEach(function(t){if(t.$target.term==="com.sap.vocabularies.UI.v1.LineItem"){e=true}if(t.$target.term==="com.sap.vocabularies.UI.v1.Chart"){n=true}})}return n&&e}else{return(t===null||t===void 0?void 0:t.Visualizations)&&!!t.Visualizations.find(function(t){return t.$target.term==="com.sap.vocabularies.UI.v1.LineItem"||t.$target.term==="com.sap.vocabularies.UI.v1.Chart"})}}o.isPresentationCompliant=m;function p(t){var a;return(a=t.annotations.UI)===null||a===void 0?void 0:a.LineItem}o.getDefaultLineItem=p;function h(t){var a;return(a=t.annotations.UI)===null||a===void 0?void 0:a.Chart}o.getDefaultChart=h;function g(t){var a,e;return(a=t.annotations)===null||a===void 0?void 0:(e=a.UI)===null||e===void 0?void 0:e.PresentationVariant}o.getDefaultPresentationVariant=g;function I(t){var a,e;return(a=t.annotations)===null||a===void 0?void 0:(e=a.UI)===null||e===void 0?void 0:e.SelectionVariant}o.getDefaultSelectionVariant=I;function P(t,a){var e=a.getManifestWrapper().getDefaultTemplateAnnotationPath();var n=f(t,e,a);var i;if(n){i=n.SelectionVariant;if(i){return i}}else{i=I(t);return i}}o.getSelectionVariant=P;function V(t,a,e,n,o,s){var f=t!==""?e.getEntityTypeAnnotation(t):{annotation:undefined,converterContext:e};var d=s?e.getEntityTypeAnnotation(s):null;var m=f.annotation;e=f.converterContext;var p=[];var h;var g="";var I,P;var V=m===null||m===void 0?void 0:m.term;if(V){switch(V){case"com.sap.vocabularies.UI.v1.LineItem":case"com.sap.vocabularies.UI.v1.Chart":h=d===null||d===void 0?void 0:d.annotation;p.push({visualization:m,annotationPath:t,converterContext:e});break;case"com.sap.vocabularies.UI.v1.PresentationVariant":h=m;p=p.concat(c(m,t,e));break;case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":h=m.PresentationVariant;g=h.fullyQualifiedName;p=p.concat(c(h,t,e));break;default:break}p.forEach(function(t){var e=t.visualization,s=t.annotationPath,l=t.converterContext;switch(e.term){case"com.sap.vocabularies.UI.v1.Chart":I=r(e,s,l,o);break;case"com.sap.vocabularies.UI.v1.LineItem":default:P=i.createTableVisualization(e,s,l,h,a,n);break}})}else{P=i.createDefaultTableVisualization(e);e.getDiagnostics().addIssue(v.Annotation,u.Medium,l.MISSING_LINEITEM)}var b=[];var C=V==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"?g:m&&m.fullyQualifiedName;if(C===undefined){C="/"}if(I){b.push(I)}if(P){b.push(P)}return{visualizations:b,annotationPath:e.getEntitySetBasedAnnotationPath(C)}}o.getDataVisualizationConfiguration=V;function b(t,e){var n=t.getObject(t.getPath()),i=a.createPresentationPathContext(t),o=t.getModel();if(a._isPresentationVariantAnnotation(i.getPath())){var r=n.Visualizations;if(Array.isArray(r)){for(var s=0;s<r.length;s++){if(r[s].$AnnotationPath.indexOf(e)!==-1){e=r[s].$AnnotationPath;break}}}return o.getMetaContext(t.getPath().split("@")[0]+e)}return t}o.getUiControl=b;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Form", ["sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/templating/DataModelPathHelper","../../../helpers/StableIdHelper","../../helpers/ConfigurableObject","../../helpers/DataFieldHelper","../../helpers/ID","../../helpers/Key","../../ManifestSettings"],function(e,t,n,a,i,o,r,l,v,u){"use strict";var s={};var c=u.ActionType;var f=v.KeyHelper;var d=l.getFormStandardActionButtonID;var p=l.getFormID;var m=r.isReferencePropertyStaticallyHidden;var y=o.Placement;var O=o.insertCustomElements;var b=i.generate;var g=a.getTargetObjectPath;var P=a.getTargetEntitySetPath;var h=t.pathInModel;var E=t.not;var F=t.ifElse;var C=t.getExpressionFromAnnotation;var D=t.equal;var S=t.compileExpression;var I=e.getSemanticObjectPath;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e,t,n){t=A(t);if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function A(e){var t=U(e,"string");return typeof t==="symbol"?t:String(t)}function U(e,t){if(typeof e!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if(typeof a!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N;(function(e){e["Default"]="Default";e["Slot"]="Slot";e["Annotation"]="Annotation"})(N||(N={}));s.FormElementType=N;function M(){return{textLinesEdit:4}}function _(e,t){var n,a,i,o;return(t===null||t===void 0?void 0:t.valueOf())===false||((n=e.annotations)===null||n===void 0?void 0:(a=n.UI)===null||a===void 0?void 0:a.PartOfPreview)===undefined||((i=e.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:o.PartOfPreview.valueOf())===true}function k(e,t){var n=[];var a=t.getEntityTypeAnnotation(e.Target.value);var i=a.annotation;t=a.converterContext;function o(e,a){var i,o,r;var l=I(t,e);if(e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForAction"&&e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&!m(e)&&((i=e.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:(r=o.Hidden)===null||r===void 0?void 0:r.valueOf())!==true){n.push({key:f.generateKeyFromDataField(e),type:N.Annotation,annotationPath:"".concat(t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),"/"),semanticObjectPath:l,formatOptions:M(),isPartOfPreview:_(e,a)})}}switch(i===null||i===void 0?void 0:i.term){case"com.sap.vocabularies.UI.v1.FieldGroup":i.Data.forEach(function(t){var n,a;return o(t,(n=e.annotations)===null||n===void 0?void 0:(a=n.UI)===null||a===void 0?void 0:a.PartOfPreview)});break;case"com.sap.vocabularies.UI.v1.Identification":i.forEach(function(t){var n,a;return o(t,(n=e.annotations)===null||n===void 0?void 0:(a=n.UI)===null||a===void 0?void 0:a.PartOfPreview)});break;case"com.sap.vocabularies.UI.v1.DataPoint":n.push({key:"DataPoint::".concat(i.qualifier?i.qualifier:""),type:N.Annotation,annotationPath:"".concat(t.getEntitySetBasedAnnotationPath(i.fullyQualifiedName),"/")});break;case"com.sap.vocabularies.Communication.v1.Contact":n.push({key:"Contact::".concat(i.qualifier?i.qualifier:""),type:N.Annotation,annotationPath:"".concat(t.getEntitySetBasedAnnotationPath(i.fullyQualifiedName),"/")});break;default:break}return n}function x(e,t){var n=t.getManifestWrapper();var a=n.getFormContainer(e.Target.value);var i={};if(a!==null&&a!==void 0&&a.fields){Object.keys(a===null||a===void 0?void 0:a.fields).forEach(function(e){i[e]={key:e,id:"CustomFormElement::".concat(e),type:a.fields[e].type||N.Default,template:a.fields[e].template,label:a.fields[e].label,position:a.fields[e].position||{placement:y.After},formatOptions:T(T({},M()),a.fields[e].formatOptions)}})}return i}s.getFormElementsFromManifest=x;function H(e,t,a){var i,o,r,l,v,u;var s=b([{Facet:e}]);var f="/".concat(e.fullyQualifiedName);var p=t.getEntityTypeAnnotation(e.Target.value);var m=S(E(D(true,C((i=e.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:o.Hidden))));var y;if(p.converterContext.getEntitySet()&&p.converterContext.getEntitySet()!==t.getEntitySet()){y=P(p.converterContext.getDataModelObjectPath())}else if(((r=p.converterContext.getDataModelObjectPath().targetObject)===null||r===void 0?void 0:r.containsTarget)===true){y=g(p.converterContext.getDataModelObjectPath(),false)}else if(p.converterContext.getEntitySet()&&!y&&n.isSingleton(p.converterContext.getEntitySet())){var I;y=(I=p.converterContext.getEntitySet())===null||I===void 0?void 0:I.fullyQualifiedName}var w=O(k(e,t),x(e,t),{formatOptions:"overwrite"});a=a!==undefined?a.filter(function(t){return t.facetName==e.fullyQualifiedName}):[];if(a.length===0){a=undefined}var T={id:d(s,"ShowHideDetails"),key:"StandardAction::ShowHideDetails",text:S(F(D(h("showDetails","internal"),true),h("T_COMMON_OBJECT_PAGE_HIDE_FORM_CONTAINER_DETAILS","sap.fe.i18n"),h("T_COMMON_OBJECT_PAGE_SHOW_FORM_CONTAINER_DETAILS","sap.fe.i18n"))),type:c.ShowFormDetails,press:"FormContainerRuntime.toggleDetails"};if(((l=e.annotations)===null||l===void 0?void 0:(v=l.UI)===null||v===void 0?void 0:(u=v.PartOfPreview)===null||u===void 0?void 0:u.valueOf())!==false&&w.some(function(e){return e.isPartOfPreview===false})){if(a!==undefined){a.push(T)}else{a=[T]}}return{id:s,formElements:w,annotationPath:f,isVisible:m,entitySet:y,actions:a}}s.getFormContainer=H;function R(e,t,n){var a;var i=[];(a=e.Facets)===null||a===void 0?void 0:a.forEach(function(e){if(e.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){return}i.push(H(e,t,n))});return i}function B(e){return e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"}s.isReferenceFacet=B;function L(e,t,n,a){var i,o,r;switch(e.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":return{id:p({Facet:e}),useFormContainerLabels:true,hasFacetsNotPartOfPreview:e.Facets.some(function(e){var t,n,a;return((t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(a=n.PartOfPreview)===null||a===void 0?void 0:a.valueOf())===false}),formContainers:R(e,n,a),isVisible:t};case"com.sap.vocabularies.UI.v1.ReferenceFacet":return{id:p({Facet:e}),useFormContainerLabels:false,hasFacetsNotPartOfPreview:((i=e.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:(r=o.PartOfPreview)===null||r===void 0?void 0:r.valueOf())===false,formContainers:[H(e,n,a)],isVisible:t};default:throw new Error("Cannot create form based on ReferenceURLFacet")}}s.createFormDefinition=L;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/KPI", ["sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/SelectionVariantHelper","sap/fe/core/formatters/TableFormatterTypes","sap/fe/core/templating/PropertyHelper","../../helpers/Aggregation","../../helpers/ID","./Criticality"],function(e,a,t,i,n,r,l){"use strict";var o={};var u=l.getMessageTypeFromCriticalityType;var c=r.getKPIID;var d=n.AggregationHelper;var s=i.isPathExpression;var v=t.MessageType;var p=a.getFilterDefinitionsFromSelectionVariant;var f=e.IssueType;var g=e.IssueSeverity;var y=e.IssueCategory;var C={"UI.TrendType/StrongUp":"Up","UI.TrendType/Up":"Up","UI.TrendType/StrongDown":"Down","UI.TrendType/Down":"Down","UI.TrendType/Sideways":"None"};var T={"UI.ChartType/ColumnStacked":"StackedColumn","UI.ChartType/BarStacked":"StackedBar","UI.ChartType/Donut":"Donut","UI.ChartType/Line":"Line","UI.ChartType/Bubble":"bubble","UI.ChartType/Column":"column","UI.ChartType/Bar":"bar","UI.ChartType/VerticalBullet":"vertical_bullet","UI.ChartType/Combination":"combination","UI.ChartType/Scatter":"scatter"};function h(e,a){var t,i;if(e.Measures===undefined){return undefined}var n=e.Dimensions?e.Dimensions.map(function(a){var t,i,n,r;var l=(t=e.DimensionAttributes)===null||t===void 0?void 0:t.find(function(e){var t;return((t=e.Dimension)===null||t===void 0?void 0:t.value)===a.value});return{name:a.value,label:((i=a.$target.annotations.Common)===null||i===void 0?void 0:(n=i.Label)===null||n===void 0?void 0:n.toString())||a.value,role:l===null||l===void 0?void 0:(r=l.Role)===null||r===void 0?void 0:r.replace("UI.ChartDimensionRoleType/","")}}):[];var r=e.Measures.map(function(a){var t,i,n,r;var l=(t=e.MeasureAttributes)===null||t===void 0?void 0:t.find(function(e){var t;return((t=e.Measure)===null||t===void 0?void 0:t.value)===a.value});return{name:a.value,label:((i=a.$target.annotations.Common)===null||i===void 0?void 0:(n=i.Label)===null||n===void 0?void 0:n.toString())||a.value,role:l===null||l===void 0?void 0:(r=l.Role)===null||r===void 0?void 0:r.replace("UI.ChartMeasureRoleType/","")}});return{chartType:T[e.ChartType]||"Line",dimensions:n,measures:r,sortOrder:a===null||a===void 0?void 0:(t=a.SortOrder)===null||t===void 0?void 0:t.map(function(e){var a;return{name:((a=e.Property)===null||a===void 0?void 0:a.value)||"",descending:!!e.Descending}}),maxItems:a===null||a===void 0?void 0:(i=a.MaxItems)===null||i===void 0?void 0:i.valueOf()}}function m(e,a){var t,i;var n=e.Value.$target;if((t=n.annotations.Measures)!==null&&t!==void 0&&t.ISOCurrency){var r;var l=(r=n.annotations.Measures)===null||r===void 0?void 0:r.ISOCurrency;if(s(l)){a.datapoint.unit={value:l.$target.name,isCurrency:true,isPath:true}}else{a.datapoint.unit={value:l.toString(),isCurrency:true,isPath:false}}}else if((i=n.annotations.Measures)!==null&&i!==void 0&&i.Unit){var o;var u=(o=n.annotations.Measures)===null||o===void 0?void 0:o.Unit;if(s(u)){a.datapoint.unit={value:u.$target.name,isCurrency:false,isPath:true}}else{a.datapoint.unit={value:u.toString(),isCurrency:false,isPath:false}}}}function I(e,a,t){if(e.Criticality){if(typeof e.Criticality==="object"){var i=e.Criticality.$target;if(a.isPropertyAggregatable(i)){t.datapoint.criticalityPath=e.Criticality.path}else{t.datapoint.criticalityValue=v.None}}else{t.datapoint.criticalityValue=u(e.Criticality)}}else if(e.CriticalityCalculation){t.datapoint.criticalityCalculationMode=e.CriticalityCalculation.ImprovementDirection;t.datapoint.criticalityCalculationThresholds=[];switch(t.datapoint.criticalityCalculationMode){case"UI.ImprovementDirectionType/Target":t.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeLowValue);t.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeLowValue);t.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeLowValue);t.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeHighValue);t.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeHighValue);t.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeHighValue);break;case"UI.ImprovementDirectionType/Minimize":t.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeHighValue);t.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeHighValue);t.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeHighValue);break;case"UI.ImprovementDirectionType/Maximize":default:t.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeLowValue);t.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeLowValue);t.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeLowValue)}}else{t.datapoint.criticalityValue=v.None}}function S(e,a,t){if(e.Trend){if(typeof e.Trend==="object"){var i=e.Trend.$target;if(a.isPropertyAggregatable(i)){t.datapoint.trendPath=e.Trend.path}else{t.datapoint.trendValue="None"}}else{t.datapoint.trendValue=C[e.Trend]||"None"}}else if(e.TrendCalculation){t.datapoint.trendCalculationIsRelative=e.TrendCalculation.IsRelativeDifference?true:false;if(e.TrendCalculation.ReferenceValue.$target){var n=e.TrendCalculation.ReferenceValue.$target;if(a.isPropertyAggregatable(n)){t.datapoint.trendCalculationReferencePath=e.TrendCalculation.ReferenceValue.path}else{t.datapoint.trendValue="None"}}else{t.datapoint.trendCalculationReferenceValue=e.TrendCalculation.ReferenceValue}if(t.datapoint.trendCalculationReferencePath!==undefined||t.datapoint.trendCalculationReferenceValue!==undefined){t.datapoint.trendCalculationTresholds=[e.TrendCalculation.StrongDownDifference.valueOf(),e.TrendCalculation.DownDifference.valueOf(),e.TrendCalculation.UpDifference.valueOf(),e.TrendCalculation.StrongUpDifference.valueOf()]}}else{t.datapoint.trendValue="None"}}function D(e,a,t){if(e.TargetValue){if(e.TargetValue.$target){var i=e.TargetValue.$target;if(a.isPropertyAggregatable(i)){t.datapoint.targetPath=e.TargetValue.path}}else{t.datapoint.targetValue=e.TargetValue}}}function b(e){var a=e.annotations["Common"]||{};var t;Object.keys(a).forEach(function(e){var i=a[e];if(i.term==="com.sap.vocabularies.Common.v1.SemanticObject"){if(!i.qualifier||!t){t=i}}});if(t){var i={semanticObject:t.toString(),unavailableActions:[]};var n=Object.keys(a).find(function(e){var i;return a[e].term==="com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"&&a[e].qualifier===((i=t)===null||i===void 0?void 0:i.qualifier)});if(n){i.unavailableActions=a[n]}return i}else{return undefined}}function V(e,a,t){var i,n;var r=t.getConverterContextFor("/".concat(a.entitySet));var l=new d(r.getEntityType(),r);if(!l.isAnalyticsSupported()){t.getDiagnostics().addIssue(y.Annotation,g.Medium,f.KPI_ISSUES.NO_ANALYTICS+a.entitySet);return undefined}var o;var u;var s;var v;var C;var T=r.getAnnotationsByTerm("UI","com.sap.vocabularies.UI.v1.KPI");var V=T.find(function(e){return e.qualifier===a.qualifier});if(V){var U,P,A,R,O;u=V.DataPoint;o=V.SelectionVariant;s=(U=V.Detail)===null||U===void 0?void 0:U.DefaultPresentationVariant;v=(P=s)===null||P===void 0?void 0:(A=P.Visualizations)===null||A===void 0?void 0:(R=A.find(function(e){return e.$target.$Type==="com.sap.vocabularies.UI.v1.ChartDefinitionType"}))===null||R===void 0?void 0:R.$target;if((O=V.Detail)!==null&&O!==void 0&&O.SemanticObject){var M;C={semanticObject:V.Detail.SemanticObject.toString(),action:(M=V.Detail.Action)===null||M===void 0?void 0:M.toString(),unavailableActions:[]}}}else{var $=r.getAnnotationsByTerm("UI","com.sap.vocabularies.UI.v1.SelectionPresentationVariant");var N=$.find(function(e){return e.qualifier===a.qualifier});if(N){var w,L,_,E,j,q;o=N.SelectionVariant;s=N.PresentationVariant;u=(w=s)===null||w===void 0?void 0:(L=w.Visualizations)===null||L===void 0?void 0:(_=L.find(function(e){return e.$target.$Type==="com.sap.vocabularies.UI.v1.DataPointType"}))===null||_===void 0?void 0:_.$target;v=(E=s)===null||E===void 0?void 0:(j=E.Visualizations)===null||j===void 0?void 0:(q=j.find(function(e){return e.$target.$Type==="com.sap.vocabularies.UI.v1.ChartDefinitionType"}))===null||q===void 0?void 0:q.$target}else{t.getDiagnostics().addIssue(y.Annotation,g.Medium,f.KPI_ISSUES.KPI_NOT_FOUND+a.qualifier);return undefined}}if(!s||!u||!v){t.getDiagnostics().addIssue(y.Annotation,g.Medium,f.KPI_ISSUES.KPI_DETAIL_NOT_FOUND+a.qualifier);return undefined}var K=u.Value.$target;if(!l.isPropertyAggregatable(K)){t.getDiagnostics().addIssue(y.Annotation,g.Medium,f.KPI_ISSUES.MAIN_PROPERTY_NOT_AGGREGATABLE+a.qualifier);return undefined}var k=h(v,s);if(!k){return undefined}var B={id:c(e),entitySet:a.entitySet,datapoint:{propertyPath:u.Value.path,annotationPath:r.getEntitySetBasedAnnotationPath(u.fullyQualifiedName),title:(i=u.Title)===null||i===void 0?void 0:i.toString(),description:(n=u.Description)===null||n===void 0?void 0:n.toString()},selectionVariantFilterDefinitions:o?p(o):undefined,chart:k};if(!C){if(a.detailNavigation){C={outboundNavigation:a.detailNavigation}}else{C=b(K)}}if(C){B.navigation=C}m(u,B);I(u,l,B);S(u,l,B);D(u,l,B);return B}function U(e){var a=e.getManifestWrapper().getKPIConfiguration(),t=[];Object.keys(a).forEach(function(i){var n=V(i,a[i],e);if(n){t.push(n)}});return t}o.getKPIDefinitions=U;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Table", ["sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/formatters/TableFormatter","sap/fe/core/formatters/TableFormatterTypes","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/EntitySetHelper","sap/fe/core/templating/PropertyHelper","sap/fe/macros/internal/helpers/ActionHelper","../../helpers/Aggregation","../../helpers/DataFieldHelper","../../helpers/ID","../../ManifestSettings","./Criticality","./table/StandardActions"],function(e,t,n,i,a,o,r,l,v,u,d,s,c,f,p,g,m,y,b,h,T,I){"use strict";var D={};var P=I.isInDisplayMode;var A=I.isDraftOrStickySupported;var F=I.getStandardActionPaste;var S=I.getStandardActionMassEdit;var C=I.getStandardActionDelete;var O=I.getStandardActionCreate;var E=I.getRestrictions;var U=I.getMassEditVisibility;var M=I.getInsertUpdateActionsTemplating;var x=I.getDeleteVisibility;var w=I.getCreationRow;var N=I.getCreateVisibility;var $=I.generateStandardActionsContext;var V=T.getMessageTypeFromCriticalityType;var j=h.VisualizationType;var k=h.VariantManagementType;var L=h.TemplateType;var R=h.SelectionMode;var H=h.Importance;var B=h.HorizontalAlign;var z=h.CreationMode;var G=h.AvailabilityType;var K=h.ActionType;var W=b.getTableID;var q=y.isReferencePropertyStaticallyHidden;var Q=m.AggregationHelper;var _=p.isProperty;var Y=p.isPathExpression;var J=p.isNavigationProperty;var X=p.getTargetValueOnDataPoint;var Z=p.getAssociatedUnitProperty;var ee=p.getAssociatedTimezoneProperty;var te=p.getAssociatedCurrencyProperty;var ne=f.getNonSortablePropertiesRestrictions;var ie=c.getDisplayMode;var ae=c.EDM_TYPE_MAPPING;var oe=s.isPathUpdatable;var re=s.isPathSearchable;var le=s.isPathDeletable;var ve=s.getTargetObjectPath;var ue=s.enhanceDataModelPath;var de=d.replaceSpecialChars;var se=v.resolveBindingString;var ce=v.pathInModel;var fe=v.or;var pe=v.not;var ge=v.isConstant;var me=v.ifElse;var ye=v.getExpressionFromAnnotation;var be=v.formatResult;var he=v.equal;var Te=v.constant;var Ie=v.compileExpression;var De=v.and;var Pe=l.MessageType;var Ae=o.KeyHelper;var Fe=a.IssueType;var Se=a.IssueSeverity;var Ce=a.IssueCategoryType;var Oe=a.IssueCategory;var Ee=i.Placement;var Ue=i.insertCustomElements;var Me=n.UI;var xe=n.Entity;var we=t.removeDuplicateActions;var Ne=t.isActionNavigable;var $e=t.getActionsFromManifest;var Ve=e.isDataFieldTypes;var je=e.isDataFieldForActionAbstract;var ke=e.isDataFieldAlwaysHidden;var Le=e.getSemanticObjectPath;var Re=e.getDataFieldDataType;var He=e.collectRelatedPropertiesRecursively;var Be=e.collectRelatedProperties;function ze(e,t){return We(e)||Ke(e,t)||tt(e,t)||Ge()}function Ge(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ke(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,r,l=[],v=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;v=!1}else for(;!(v=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);v=!0){}}catch(e){u=!0,a=e}finally{try{if(!v&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(u)throw a}}return l}}function We(e){if(Array.isArray(e))return e}function qe(e,t){var n=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=tt(e))||t&&e&&typeof e.length==="number"){if(n)e=n;var i=0;var a=function(){};return{s:a,n:function(){if(i>=e.length)return{done:true};return{done:false,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=true,r=false,l;return{s:function(){n=n.call(e)},n:function(){var e=n.next();o=e.done;return e},e:function(e){r=true;l=e},f:function(){try{if(!o&&n.return!=null)n.return()}finally{if(r)throw l}}}}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach(function(t){Ye(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ye(e,t,n){t=Je(t);if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function Je(e){var t=Xe(e,"string");return typeof t==="symbol"?t:String(t)}function Xe(e,t){if(typeof e!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var i=n.call(e,t||"default");if(typeof i!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ze(e){return it(e)||nt(e)||tt(e)||et()}function et(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tt(e,t){if(!e)return;if(typeof e==="string")return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}function nt(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function it(e){if(Array.isArray(e))return at(e)}function at(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,i=new Array(t);n<t;n++){i[n]=e[n]}return i}var ot;(function(e){e["Default"]="Default";e["Annotation"]="Annotation";e["Slot"]="Slot"})(ot||(ot={}));function rt(e,t,n,i){var a=Ft(e,t,n);var o=a.tableActions;var r=a.hiddenTableActions;var l=$e(n.getManifestControlConfiguration(t).actions,n,o,i,true,r);var v=Ue(o,l.actions,{isNavigable:"overwrite",enableOnSelect:"overwrite",enableAutoScroll:"overwrite",enabled:"overwrite",visible:"overwrite",defaultValuesExtensionFunction:"overwrite",command:"overwrite"});return{actions:v,commandActions:l.commandActions}}D.getTableActions=rt;function lt(e,t,n,i){var a=tn(e,t,n);var o=on(n.getManifestControlConfiguration(t).columns,a,n,n.getAnnotationEntityType(e),i);return Ue(a,o,{width:"overwrite",importance:"overwrite",horizontalAlign:"overwrite",availability:"overwrite",isNavigable:"overwrite",settings:"overwrite",formatOptions:"overwrite"})}D.getTableColumns=lt;var vt=function(e,t,n){var i=new Q(e,n);function a(e){return t.find(function(t){var n=t;return n.propertyInfos===undefined&&n.relativePath===e})}if(!i.isAnalyticsSupported()){return undefined}var o=new Set;t.forEach(function(e){var t=e;if(t.unit){o.add(t.unit)}});var r=i.getCustomAggregateDefinitions();var l={};r.forEach(function(e){var t=i._entityType.entityProperties.find(function(t){return t.name===e.qualifier});if(t){var n,a;var o=(n=e.annotations)===null||n===void 0?void 0:(a=n.Aggregation)===null||a===void 0?void 0:a.ContextDefiningProperties;l[t.name]=o?o.map(function(e){return e.value}):[]}});var v={};t.forEach(function(e){var t=e;if(t.propertyInfos===undefined&&t.relativePath){var n=l[t.relativePath];if(n&&!o.has(t.name)&&!t.isDataPointFakeTargetProperty){v[t.name]={defaultAggregate:{},relativePath:t.relativePath};var i=[];n.forEach(function(e){var t=a(e);if(t){i.push(t.name)}});if(i.length){v[t.name].defaultAggregate.contextDefiningProperties=i}}}});return v};D.getAggregateDefinitionsFromEntityType=vt;function ut(e,t,n,i){if(e.control.type==="AnalyticalTable"){var a=vt(t,e.columns,n),o=new Q(t,n);if(a){e.enableAnalytics=true;e.aggregates=a;var r=o.getAllowedTransformations();e.enableAnalyticsSearch=r?r.indexOf("search")>=0:true;e.annotation.groupConditions=dn(i,e.columns,e.control.type);e.annotation.aggregateConditions=sn(i,e.columns)}e.control.type="GridTable"}else if(e.control.type==="ResponsiveTable"){e.annotation.groupConditions=dn(i,e.columns,e.control.type)}}function dt(e,t){var n=e.getManifestWrapper();if(t&&n.getNavigationConfiguration(t)){var i=n.getNavigationConfiguration(t);if(Object.keys(i).length>0){return t}}var a=e.getDataModelObjectPath();var o=e.getContextPath();var r=n.getNavigationConfiguration(o);if(r&&Object.keys(r).length>0){return o}return a.targetEntitySet?a.targetEntitySet.name:a.startingEntitySet.name}function st(e,t){function n(e){return t.find(function(t){var n=t;return n.propertyInfos===undefined&&n.relativePath===e})}t.forEach(function(t){var i=t;if(i.propertyInfos===undefined&&i.relativePath){var a=e.entityProperties.find(function(e){return e.name===i.relativePath});if(a){var o,r,l;var v=te(a)||Z(a);var u=ee(a);var d=a===null||a===void 0?void 0:(o=a.annotations)===null||o===void 0?void 0:(r=o.Common)===null||r===void 0?void 0:r.Timezone;if(v){var s=n(v.name);i.unit=s===null||s===void 0?void 0:s.name}else{var c,f,p,g;var m=(a===null||a===void 0?void 0:(c=a.annotations)===null||c===void 0?void 0:(f=c.Measures)===null||f===void 0?void 0:f.ISOCurrency)||(a===null||a===void 0?void 0:(p=a.annotations)===null||p===void 0?void 0:(g=p.Measures)===null||g===void 0?void 0:g.Unit);if(m){i.unitText="".concat(m)}}if(u){var y=n(u.name);i.timezone=y===null||y===void 0?void 0:y.name}else if(d){i.timezoneText=d.toString()}var b=ie(a),h=(l=a.annotations.Common)===null||l===void 0?void 0:l.Text;if(Y(h)&&b!=="Value"){var T=n(h.path);if(T&&T.name!==i.name){i.textArrangement={textProperty:T.name,mode:b}}}}}})}D.updateLinkedProperties=st;function ct(e){var t,n,i,a,o,r,l,v,u,d,s,c,f;var p=(t=e.getAnnotationEntityType())===null||t===void 0?void 0:(n=t.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:(a=i.HeaderInfo)===null||a===void 0?void 0:(o=a.Title)===null||o===void 0?void 0:(r=o.Value)===null||r===void 0?void 0:r.path;var g=(l=e.getAnnotationEntityType())===null||l===void 0?void 0:(v=l.annotations)===null||v===void 0?void 0:(u=v.Common)===null||u===void 0?void 0:u.SemanticKey;var m=e===null||e===void 0?void 0:(d=e.getAnnotationEntityType())===null||d===void 0?void 0:(s=d.annotations)===null||s===void 0?void 0:(c=s.UI)===null||c===void 0?void 0:(f=c.HeaderInfo)===null||f===void 0?void 0:f.TypeName;var y=[];if(g){g.forEach(function(e){y.push(e.value)})}return{headerInfoTitlePath:p,semanticKeyColumns:y,headerInfoTypeName:m}}function ft(e,t,n,i,a,o){var r=Cn(e,t,n,a);var l=pn(t),v=l.navigationPropertyPath;var u=dt(n,v);var d=n.getManifestWrapper().getNavigationConfiguration(u);var s=lt(e,t,n,d);var c=gt(e,n);var f=ct(n);var p=rt(e,t,n,d);var g={type:j.Table,annotation:cn(e,t,n,r,s,i,o),control:r,actions:we(p.actions),commandActions:p.commandActions,columns:s,operationAvailableMap:JSON.stringify(c),operationAvailableProperties:yt(c,n),headerInfoTitle:f.headerInfoTitlePath,semanticKeys:f.semanticKeyColumns,headerInfoTypeName:f.headerInfoTypeName};st(n.getAnnotationEntityType(e),s);ut(g,n.getAnnotationEntityType(e),n,i);return g}D.createTableVisualization=ft;function pt(e){var t=Cn(undefined,"",e,false);var n=Et({},e.getEntityType(),[],[],e,t.type,[]);var i=gt(undefined,e);var a=ct(e);var o={type:j.Table,annotation:cn(undefined,"",e,t,n),control:t,actions:[],columns:n,operationAvailableMap:JSON.stringify(i),operationAvailableProperties:yt(i,e),headerInfoTitle:a.headerInfoTitlePath,semanticKeys:a.semanticKeyColumns,headerInfoTypeName:a.headerInfoTypeName};st(e.getEntityType(),n);ut(o,e.getEntityType(),e);return o}D.createDefaultTableVisualization=pt;function gt(e,t){return g.getOperationAvailableMap(e,"table",t)}function mt(e){var t,n,i;var a=E(e);var o=e.getEntitySet();var r=a.isUpdatable;var l=!ge(r.expression)&&r.navigationExpression._type==="Unresolvable";var v=o===null||o===void 0?void 0:(t=o.annotations.Capabilities)===null||t===void 0?void 0:(n=t.UpdateRestrictions)===null||n===void 0?void 0:(i=n.Updatable)===null||i===void 0?void 0:i.path;return l?v:""}function yt(e,t){var n=new Set;for(var i in e){var a=e[i];if(a===null){n.add(i)}else if(typeof a==="string"){n.add(a)}}if(n.size){var o,r,l,v,u;var d=t.getEntityType();var s=(o=d.annotations)===null||o===void 0?void 0:(r=o.UI)===null||r===void 0?void 0:(l=r.HeaderInfo)===null||l===void 0?void 0:(v=l.Title)===null||v===void 0?void 0:(u=v.Value)===null||u===void 0?void 0:u.path;if(s){n.add(s)}}return Array.from(n).join(",")}function bt(e,t,n,i){var a=[];e.forEach(function(e){var o,r;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&e!==null&&e!==void 0&&(o=e.ActionTarget)!==null&&o!==void 0&&o.isBound&&t===(e===null||e===void 0?void 0:e.ActionTarget.sourceEntityType)||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&e.RequiresContext&&(e===null||e===void 0?void 0:(r=e.Inline)===null||r===void 0?void 0:r.valueOf())!==true){var l,v,u;if(typeof((l=e.annotations)===null||l===void 0?void 0:(v=l.UI)===null||v===void 0?void 0:(u=v.Hidden)===null||u===void 0?void 0:u.valueOf())==="object"){a.push(he(ht(e,n,i),false))}}});return a}function ht(e,t,n){var i;var a;if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForAction"||(e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){var o,r;a=e===null||e===void 0?void 0:(o=e.annotations)===null||o===void 0?void 0:(r=o.UI)===null||r===void 0?void 0:r.Hidden}else{a=e===null||e===void 0?void 0:e.visible}var l;if((i=a)!==null&&i!==void 0&&i.path){l=a.path}else{l=a}if(l){if(e!==null&&e!==void 0&&e.visible){l=l.substring(1,l.length-1)}if(l.indexOf("/")>0){var v;var u=l.split("/");var d=u[0];if((t===null||t===void 0?void 0:(v=t.targetObject)===null||v===void 0?void 0:v._type)==="NavigationProperty"&&t.targetObject.partner===d){return ce(u.slice(1).join("/"))}else{return Te(true)}}else if(n){return ce(l)}else{return Te(true)}}return Te(true)}function Tt(e,t){return e.some(function(e){var n,i,a,o,r,l,v;if((e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&(e===null||e===void 0?void 0:(n=e.Inline)===null||n===void 0?void 0:n.valueOf())!==true&&(((i=e.annotations)===null||i===void 0?void 0:(a=i.UI)===null||a===void 0?void 0:(o=a.Hidden)===null||o===void 0?void 0:o.valueOf())===false||((r=e.annotations)===null||r===void 0?void 0:(l=r.UI)===null||l===void 0?void 0:(v=l.Hidden)===null||v===void 0?void 0:v.valueOf())===undefined)){if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){var u;return(e===null||e===void 0?void 0:(u=e.ActionTarget)===null||u===void 0?void 0:u.isBound)&&t===(e===null||e===void 0?void 0:e.ActionTarget.sourceEntityType)}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){return e.RequiresContext}}return false})}function It(e){return Object.keys(e).some(function(t){var n;var i=e[t];if(i.requiresSelection&&((n=i.visible)===null||n===void 0?void 0:n.toString())==="true"){return true}return false})}function Dt(e){var t=[];if(e){Object.keys(e).forEach(function(n){var i=e[n];if(i.requiresSelection===true&&i.visible!==undefined){if(typeof i.visible==="string"){var a;t.push(se(i===null||i===void 0?void 0:(a=i.visible)===null||a===void 0?void 0:a.valueOf()))}}})}return t}function Pt(e){var t=le(e.getDataModelObjectPath());var n=oe(e.getDataModelObjectPath());return{isDeletable:!(ge(t)&&t.value===false),isUpdatable:!(ge(n)&&n.value===false)}}D.getCapabilityRestriction=Pt;function At(e,t,n,i,a,o){var r;var l=arguments.length>6&&arguments[6]!==undefined?arguments[6]:Te(false);if(!e){return R.None}var v=n.getManifestControlConfiguration(t);var u=(r=v.tableSettings)===null||r===void 0?void 0:r.selectionMode;var d=[],s=[];var c=$e(n.getManifestControlConfiguration(t).actions,n,[],undefined,false);var f,p;if(n.getTemplateType()===L.ObjectPage){f=le(n.getDataModelObjectPath());p=f?Ie(f,true):f}var g=!ge(l)||l.value!==false;if(u&&u===R.None&&o){if(n.getTemplateType()===L.ObjectPage&&g){return Ie(me(De(Me.IsEditable,l),Te("Multi"),me(o,Te("Multi"),Te("None"))))}else if(g){return R.Multi}return Ie(me(o,Te("Multi"),Te("None")))}if(!u||u===R.Auto){u=R.Multi}if(g){u=u===R.Single?R.Single:R.Multi}if(Tt(e,n.getEntityType())||It(c.actions)){return u}d=bt(e,n.getEntityType(),n.getDataModelObjectPath(),i);s=Dt(c.actions);if(d.length===0&&s.length===0&&(o||g)){if(!i){if(a.isDeletable||p!=="false"||g){var m=fe(o||true,l);return Ie(me(De(Me.IsEditable,m),Te(u),Te(R.None)))}else{return R.None}}else if(g){return u}else if(a.isDeletable&&o){return Ie(me(o,Te(u),Te("None")))}else{return R.None}}else if(!i){if(a.isDeletable||p!=="false"||g){var y=me(g&&!a.isDeletable,l,Te(true));return Ie(me(De(Me.IsEditable,y),Te(u),me(fe.apply(void 0,Ze(d.concat(s))),Te(u),Te(R.None))))}else{return Ie(me(fe.apply(void 0,Ze(d.concat(s))),Te(u),Te(R.None)))}}else if(a.isDeletable||g){return u}else{return Ie(me(fe.apply(void 0,Ze(d.concat(s)).concat([l])),Te(u),Te(R.None)))}}D.getSelectionMode=At;function Ft(e,t,n){var i=[];var a=[];if(e){e.forEach(function(e){var t,o,r,l,v,u,d,s,c,f;var p;if(je(e)&&!(((t=e.annotations)===null||t===void 0?void 0:(o=t.UI)===null||o===void 0?void 0:(r=o.Hidden)===null||r===void 0?void 0:r.valueOf())===true)&&!e.Inline&&!e.Determining){var g=Ae.generateKeyFromDataField(e);switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":p={type:K.DataFieldForAction,annotationPath:n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:g,visible:Ie(pe(he(ye((l=e.annotations)===null||l===void 0?void 0:(v=l.UI)===null||v===void 0?void 0:v.Hidden,[],undefined,n.getRelativeModelPathFunction()),true))),isNavigable:true};break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":p={type:K.DataFieldForIntentBasedNavigation,annotationPath:n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:g,visible:Ie(pe(he(ye((u=e.annotations)===null||u===void 0?void 0:(d=u.UI)===null||d===void 0?void 0:d.Hidden,[],undefined,n.getRelativeModelPathFunction()),true)))};break;default:break}}else if(((s=e.annotations)===null||s===void 0?void 0:(c=s.UI)===null||c===void 0?void 0:(f=c.Hidden)===null||f===void 0?void 0:f.valueOf())===true){a.push({type:K.Default,key:Ae.generateKeyFromDataField(e)})}if(p){i.push(p)}})}return{tableActions:i,hiddenTableActions:a}}function St(e,t,n){var i=Pe.None;if(e){if(typeof e==="object"){i=ye(e)}else{i=V(e)}}var a=[];n===null||n===void 0?void 0:n.keys.forEach(function(e){if(e.name!=="IsActiveEntity"){a.push(ce(e.name,undefined))}});return be([i,ce("filteredMessages","internal"),t&&xe.HasActive,t&&xe.IsActive,"".concat(t)].concat(a),r.rowHighlighting,n)}function Ct(e,t,n,i,a){var o;var r=(i===null||i===void 0?void 0:i.create)||(i===null||i===void 0?void 0:i.detail);var l=n.getManifestControlConfiguration(a);var v=l&&l.tableSettings||{};if(r!==null&&r!==void 0&&r.outbound&&r.outboundDetail&&i!==null&&i!==void 0&&i.create){return{mode:"External",outbound:r.outbound,outboundDetail:r.outboundDetail,navigationSettings:i}}var u;if(e){var d,s,c;var f=(d=n.getEntitySet())===null||d===void 0?void 0:d.annotations;var p=f===null||f===void 0?void 0:f.Common,g=f===null||f===void 0?void 0:f.Session;u=(p===null||p===void 0?void 0:(s=p.DraftRoot)===null||s===void 0?void 0:s.NewAction)||(g===null||g===void 0?void 0:(c=g.StickySessionSupported)===null||c===void 0?void 0:c.NewAction);if(t.creationMode===z.CreationRow&&u){throw Error("Creation mode '".concat(z.CreationRow,"' can not be used with a custom 'new' action (").concat(u,")"))}if(r!==null&&r!==void 0&&r.route){var m;return{mode:t.creationMode,append:t.createAtEnd,newAction:(m=u)===null||m===void 0?void 0:m.toString(),navigateToTarget:t.creationMode===z.NewPage?r.route:undefined}}}if(t.creationMode===z.NewPage){var y;t.creationMode=z.Inline;if(((y=v.creationMode)===null||y===void 0?void 0:y.createAtEnd)===undefined){t.createAtEnd=false}}return{mode:t.creationMode,append:t.createAtEnd,newAction:(o=u)===null||o===void 0?void 0:o.toString()}}var Ot=function(e,t,n,i,a){var o,l;var v=Te(Pe.None);var d=n.getEntityType();if(i&&e){var s,c,f,p;l=((s=i.display)===null||s===void 0?void 0:s.target)||((c=i.detail)===null||c===void 0?void 0:c.outbound);var g=n.getEntitySet();v=St((f=e.annotations)===null||f===void 0?void 0:(p=f.UI)===null||p===void 0?void 0:p.Criticality,!!u.getDraftRoot(g)||!!u.getDraftNode(g),d);if(l){o=".handlers.onChevronPressNavigateOutBound( $controller ,'"+l+"', ${$parameters>bindingContext})"}else if(d){var m;l=(m=i.detail)===null||m===void 0?void 0:m.route;if(l&&!u.isSingleton(g)){var y,b;v=St((y=e.annotations)===null||y===void 0?void 0:(b=y.UI)===null||b===void 0?void 0:b.Criticality,!!u.getDraftRoot(g)||!!u.getDraftNode(g),d);o="API.onTableRowPress($event, $controller, ${$parameters>bindingContext}, { callExtension: true, targetPath: '"+a+"', editable : "+(u.getDraftRoot(g)||u.getDraftNode(g)?"!${$parameters>bindingContext}.getProperty('IsActiveEntity')":"undefined")+"})"}else{var h,T;v=St((h=e.annotations)===null||h===void 0?void 0:(T=h.UI)===null||T===void 0?void 0:T.Criticality,false,d)}}}var I=be([ce("/deepestPath","internal")],r.navigatedRow,d);return{press:o,action:o?"Navigation":undefined,rowHighlighting:Ie(v),rowNavigated:Ie(I),visible:Ie(pe(Me.IsInactive))}};var Et=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var i=arguments.length>3?arguments[3]:undefined;var a=arguments.length>4?arguments[4]:undefined;var o=arguments.length>5?arguments[5]:undefined;var r=arguments.length>6?arguments[6]:undefined;var l=n;var v=new Q(t,a);t.entityProperties.forEach(function(t){var u=n.some(function(e){return e.name===t.name});if(!t.targetType&&!u){var d=Be(t.name,t,a,true,o);var s=Object.keys(d.properties);var c=Object.keys(d.additionalProperties);if(d.textOnlyPropertiesFromTextAnnotation.length>0){r.push.apply(r,Ze(d.textOnlyPropertiesFromTextAnnotation))}var f=Ut(t,a.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),t.name,true,true,i,v,a,r);var p=a.getAnnotationsByTerm("Common","com.sap.vocabularies.Common.v1.SemanticKey",[a.getEntityType()])[0];var g=Yt(f.name,p,false,null);if(Object.keys(g).length>0){f.formatOptions=_e({},g)}if(s.length>0){f.propertyInfos=s;f.exportSettings=_e(_e({},f.exportSettings),{},{template:d.exportSettingsTemplate,wrap:d.exportSettingsWrapping});f.exportSettings.type=fn(t.type,s.length>1);if(d.exportUnitName){f.exportSettings.unitProperty=d.exportUnitName;f.exportSettings.type="Currency"}else if(d.exportUnitString){f.exportSettings.unit=d.exportUnitString}if(d.exportTimezoneName){f.exportSettings.timezoneProperty=d.exportTimezoneName;f.exportSettings.utc=false}else if(d.exportTimezoneString){f.exportSettings.timezone=d.exportTimezoneString}s.forEach(function(t){e[t]=d.properties[t]})}if(c.length>0){f.additionalPropertyInfos=c;c.forEach(function(t){e[t]=d.additionalProperties[t]})}l.push(f)}if(ie(t)==="Description"){i=i.concat(t.name);l.push(Ut(t,a.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),t.name,false,false,i,v,a,[]))}});var u=kt(e,l,i,a,t,r);return l.concat(u)};D.getColumnsFromEntityType=Et;var Ut=function(e,t,n,i,a,o,r,l,v){var u,d,s,c,f,p,g,m,y,b,h;var T=i?n:"Property::".concat(n);var I=(i?"DataField::":"Property::")+de(n);var D=Le(l,e);var P=((u=e.annotations)===null||u===void 0?void 0:(d=u.UI)===null||d===void 0?void 0:(s=d.Hidden)===null||s===void 0?void 0:s.valueOf())===true;var A=e.name?Bt(e.name,true,false):undefined;var F=A!=e.name;var S=T.indexOf("@com.sap.vocabularies.UI.v1.DataPoint")>-1;var C=fn(e.type);var O=e.type==="Edm.Date"?"YYYY-MM-DD":undefined;var E=Re(e);var U=!S?On(e,E):undefined;var M=l.getAnnotationsByTerm("Common","com.sap.vocabularies.Common.v1.SemanticKey",[l.getEntityType()])[0];var x=v&&v.indexOf(n)>=0;var w=(!P||x)&&o.indexOf(n)===-1&&!S;var N=!S?{className:e.type||E,oFormatOptions:U.formatOptions,oConstraints:U.constraints}:undefined;var $=S?{template:X(e)}:null;if(!S&&Mt(e)){var V,j,k,L,R,H;var B=te(e)||Z(e);var z=ee(e);var K=(e===null||e===void 0?void 0:(V=e.annotations)===null||V===void 0?void 0:(j=V.Measures)===null||j===void 0?void 0:j.ISOCurrency)||(e===null||e===void 0?void 0:(k=e.annotations)===null||k===void 0?void 0:(L=k.Measures)===null||L===void 0?void 0:L.Unit);var W=e===null||e===void 0?void 0:(R=e.annotations)===null||R===void 0?void 0:(H=R.Common)===null||H===void 0?void 0:H.Timezone;$={type:C,inputFormat:O,scale:e.scale,delimiter:e.type==="Edm.Int64"};if(B){$.unitProperty=B.name;$.type="Currency"}else if(K){$.unit="".concat(K)}if(z){$.timezoneProperty=z.name;$.utc=false}else if(W){$.timezone=W.toString()}}var q=Sn(n,l);var Q={key:I,type:ot.Annotation,label:$t(e,F),groupLabel:F?$t(e):null,group:F?A:null,annotationPath:t,semanticObjectPath:D,availability:!a||P||S?G.Hidden:G.Adaptation,name:T,relativePath:S?((c=e.annotations)===null||c===void 0?void 0:(f=c.UI)===null||f===void 0?void 0:(p=f.DataFieldDefault)===null||p===void 0?void 0:(g=p.Target)===null||g===void 0?void 0:(m=g.$target)===null||m===void 0?void 0:(y=m.Value)===null||y===void 0?void 0:y.path)||e.Value.path:n,sortable:w,isGroupable:r.isAnalyticsSupported()?r.isPropertyGroupable(e):w,isKey:e.isKey,isDataPointFakeTargetProperty:S,exportSettings:$,caseSensitive:Gt(l),typeConfig:N,visualSettings:S?{widthCalculation:null}:undefined,importance:en((b=e.annotations)===null||b===void 0?void 0:(h=b.UI)===null||h===void 0?void 0:h.DataFieldDefault,M),additionalLabels:q};var _=Vt(e);if(_){Q.tooltip=_}return Q};function Mt(e){var t,n,i;var a,o;var r=(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(i=n.DataFieldDefault)===null||i===void 0?void 0:i.$Type;if(_(e&&r)){a=r}else{var l,v,u,d,s,c,f,p,g,m;o=e;a=o.$Type;if(a==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&(l=o.Target.$target)!==null&&l!==void 0&&l.$Type){a=o.Target.$target.$Type;return"com.sap.vocabularies.UI.v1.ChartDefinitionType".indexOf(a)===-1}else if(((v=o.Value)===null||v===void 0?void 0:(u=v.$target)===null||u===void 0?void 0:(d=u.annotations)===null||d===void 0?void 0:(s=d.Core)===null||s===void 0?void 0:(c=s.MediaType)===null||c===void 0?void 0:c.term)==="Org.OData.Core.V1.MediaType"&&((f=o.Value)===null||f===void 0?void 0:(p=f.$target)===null||p===void 0?void 0:(g=p.annotations)===null||g===void 0?void 0:(m=g.Core)===null||m===void 0?void 0:m.isURL)!==true){return false}}return a?["com.sap.vocabularies.UI.v1.DataFieldForAction","com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldForActionGroup"].indexOf(a)===-1:true}var xt=function(e){switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":return!!e.Inline;case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":return true;default:}};var wt=function(e,t){var n,i,a,o,r,l;var v=e.targetObject;var u;if(v){switch(v.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataPointType":u=v.Value.$target;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if((v===null||v===void 0?void 0:(n=v.Target)===null||n===void 0?void 0:(i=n.$target)===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){var d;u=(d=v.Target.$target)===null||d===void 0?void 0:d.Value.$target}break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":default:u=undefined}}var s=t!==null&&t!==void 0&&t.isAnalytics?Me.IsExpanded:Te(false);var c=t!==null&&t!==void 0&&t.isAnalytics?he(Me.NodeLevel,0):Te(false);return De.apply(void 0,[pe(he(ye(v===null||v===void 0?void 0:(a=v.annotations)===null||a===void 0?void 0:(o=a.UI)===null||o===void 0?void 0:o.Hidden),true)),me(!!u,u&&pe(he(ye((r=u.annotations)===null||r===void 0?void 0:(l=r.UI)===null||l===void 0?void 0:l.Hidden),true)),true),fe(pe(s),c)])};D._getVisibleExpression=wt;var Nt=function(e,t){var n,i;var a=[];if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((n=e.Target)===null||n===void 0?void 0:(i=n.$target)===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){var o;(o=e.Target.$target.Data)===null||o===void 0?void 0:o.forEach(function(e){a.push(wt({targetObject:e},t))});return Ie(me(fe.apply(void 0,a),Te(true),Te(false)))}else{return undefined}};var $t=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!e){return undefined}if(_(e)||J(e)){var n,i,a,o,r;var l=(n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:i.DataFieldDefault;if(l&&!l.qualifier&&(a=l.Label)!==null&&a!==void 0&&a.valueOf()){var v;return Ie(ye((v=l.Label)===null||v===void 0?void 0:v.valueOf()))}return Ie(ye(((o=e.annotations.Common)===null||o===void 0?void 0:(r=o.Label)===null||r===void 0?void 0:r.valueOf())||e.name))}else if(Ve(e)){var u,d,s,c,f,p,g,m;if(!!t&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){var y;return Ie(ye((y=e.Label)===null||y===void 0?void 0:y.valueOf()))}return Ie(ye(((u=e.Label)===null||u===void 0?void 0:u.valueOf())||((d=e.Value)===null||d===void 0?void 0:(s=d.$target)===null||s===void 0?void 0:(c=s.annotations)===null||c===void 0?void 0:(f=c.Common)===null||f===void 0?void 0:(p=f.Label)===null||p===void 0?void 0:p.valueOf())||((g=e.Value)===null||g===void 0?void 0:(m=g.$target)===null||m===void 0?void 0:m.name)))}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var b,h,T,I,D,P,A,F;return Ie(ye(((b=e.Label)===null||b===void 0?void 0:b.valueOf())||((h=e.Target)===null||h===void 0?void 0:(T=h.$target)===null||T===void 0?void 0:(I=T.Value)===null||I===void 0?void 0:(D=I.$target)===null||D===void 0?void 0:(P=D.annotations)===null||P===void 0?void 0:(A=P.Common)===null||A===void 0?void 0:(F=A.Label)===null||F===void 0?void 0:F.valueOf())))}else{var S;return Ie(ye((S=e.Label)===null||S===void 0?void 0:S.valueOf()))}};var Vt=function(e){var t,n;if(!e){return undefined}if(_(e)||(t=e.annotations)!==null&&t!==void 0&&(n=t.Common)!==null&&n!==void 0&&n.QuickInfo){var i,a;return(i=e.annotations)!==null&&i!==void 0&&(a=i.Common)!==null&&a!==void 0&&a.QuickInfo?Ie(ye(e.annotations.Common.QuickInfo.valueOf())):undefined}else if(Ve(e)){var o,r,l,v;return(o=e.Value)!==null&&o!==void 0&&(r=o.$target)!==null&&r!==void 0&&(l=r.annotations)!==null&&l!==void 0&&(v=l.Common)!==null&&v!==void 0&&v.QuickInfo?Ie(ye(e.Value.$target.annotations.Common.QuickInfo.valueOf())):undefined}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var u,d,s,c,f;var p=(u=e.Target)===null||u===void 0?void 0:u.$target;return p!==null&&p!==void 0&&(d=p.Value)!==null&&d!==void 0&&(s=d.$target)!==null&&s!==void 0&&(c=s.annotations)!==null&&c!==void 0&&(f=c.Common)!==null&&f!==void 0&&f.QuickInfo?Ie(ye(p.Value.$target.annotations.Common.QuickInfo.valueOf())):undefined}else{return undefined}};function jt(e,t){return be([ce("semanticKeyHasDraftIndicator","internal"),ce("filteredMessages","internal"),e,t],r.getErrorStatusTextVisibilityFormatter)}D.getRowStatusVisibility=jt;var kt=function(e,t,n,i,a,o){var r=[];var l={};var v=new Q(a,i);Object.keys(e).forEach(function(a){var u=e[a],d=i.getAbsoluteAnnotationPath(a),s=t.find(function(e){return e.name===a});if(s===undefined){r.push(Ut(u,d,a,true,false,n,v,i,o))}else if(s.annotationPath!==d||s.propertyInfos){var c="Property::".concat(a);if(!t.some(function(e){return e.name===c})){var f=Ut(u,d,a,false,false,n,v,i,o);f.isPartOfLineItem=s.isPartOfLineItem;r.push(f);l[a]=c}else if(t.some(function(e){return e.name===c})&&t.some(function(e){var t;return(t=e.propertyInfos)===null||t===void 0?void 0:t.includes(a)})){l[a]=c}}});t.forEach(function(e){var t,n;e.propertyInfos=(t=e.propertyInfos)===null||t===void 0?void 0:t.map(function(e){var t;return(t=l[e])!==null&&t!==void 0?t:e});e.additionalPropertyInfos=(n=e.additionalPropertyInfos)===null||n===void 0?void 0:n.map(function(e){var t;return(t=l[e])!==null&&t!==void 0?t:e})});return r};var Lt=function(e){var t,n,i;if(Ve(e)){var a;return(a=e.Value)===null||a===void 0?void 0:a.path}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&(t=e.Target)!==null&&t!==void 0&&(n=t.$target)!==null&&n!==void 0&&(i=n.Value)!==null&&i!==void 0&&i.path){var o,r;return(o=e.Target)===null||o===void 0?void 0:(r=o.$target)===null||r===void 0?void 0:r.Value.path}else{return Ae.generateKeyFromDataField(e)}};var Rt=function(e,t,n){var i;var a=(i=n.getManifestControlConfiguration(t))===null||i===void 0?void 0:i.columns;var o=a&&Object.keys(a);return o&&!!o.find(function(t){return t===e&&a[t].showDataFieldsLabel})};var Ht=function(e){var t,n;var i="";switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":i=e===null||e===void 0?void 0:(t=e.Value)===null||t===void 0?void 0:t.path;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":i=e===null||e===void 0?void 0:(n=e.Target)===null||n===void 0?void 0:n.value;break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldWithActionGroup":i=Ae.generateKeyFromDataField(e);break}return i};var Bt=function(e,t,n){var i=t?e.lastIndexOf("/"):e.indexOf("/");if(i===-1){return e}return n?e.substring(i+1,e.length):e.substring(0,i)};var zt=function(e,t,n){return n.indexOf(t)===-1&&(e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")};var Gt=function(e){var t=Kt(e);return Array.isArray(t)?t.indexOf("tolower")===-1:true};D.isFilteringCaseSensitive=Gt;function Kt(e){var t,n,i,a,o;if(u.isSingleton(e.getEntitySet())){return undefined}var r=(t=e.getEntitySet())===null||t===void 0?void 0:(n=t.annotations)===null||n===void 0?void 0:n.Capabilities;return(r===null||r===void 0?void 0:r.FilterFunctions)||((i=e.getEntityContainer())===null||i===void 0?void 0:(a=i.annotations)===null||a===void 0?void 0:(o=a.Capabilities)===null||o===void 0?void 0:o.FilterFunctions)}function Wt(e){return e===undefined?undefined:_e({textLinesEdit:4},e)}function qt(e,t){var n=[];var i=false;for(var a=0;a<e.length;a++){n.push(e[a].value);if(e[a].value===t){i=true}}return{values:n,semanticKeyFound:i}}function Qt(e,t){var n=false;var i;if(e&&e.length>=1&&t&&t.length>=1){for(var a=0;a<e.length;a++){if([e[a]].some(function(e){return t.indexOf(e)>=0})){n=true;i=e[a];break}}}return{semanticKeyHasPropertyInFieldGroup:n,fieldGroupPropertyPath:i}}function _t(e,t){var n,i;var a=[];var o={semanticKeyHasPropertyInFieldGroup:false,fieldGroupPropertyPath:undefined};if(e&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((n=e.Target)===null||n===void 0?void 0:(i=n.$target)===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){var r;(r=e.Target.$target.Data)===null||r===void 0?void 0:r.forEach(function(e){if((e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&e.Value){a.push(e.Value.path)}o=Qt(t,a)})}return{semanticKeyHasPropertyInFieldGroup:o.semanticKeyHasPropertyInFieldGroup,propertyPath:o.fieldGroupPropertyPath}}function Yt(e,t,n,i){if(!t){return{}}var a=qt(t,e);var o=_t(i,a.values);if(a.semanticKeyFound){var r={hasDraftIndicator:true,semantickeys:a.values,objectStatusTextVisibility:Ie(jt(e,false))};if(n&&o.semanticKeyHasPropertyInFieldGroup){r["objectStatusTextVisibility"]=Ie(jt(e,true));r["fieldGroupDraftIndicatorPropertyPath"]=o.propertyPath}return r}else if(!o.semanticKeyHasPropertyInFieldGroup){return{}}else{return{fieldGroupDraftIndicatorPropertyPath:o.propertyPath,fieldGroupName:e,objectStatusTextVisibility:Ie(jt(e,true))}}}function Jt(e){var t,n;var i=e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Importance;if(i&&i.includes("UI.ImportanceType/High")){return 3}if(i&&i.includes("UI.ImportanceType/Medium")){return 2}if(i&&i.includes("UI.ImportanceType/Low")){return 1}return 0}function Xt(e){var t,n;var i=e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Importance;return i?i.split("/")[1]:H.None}function Zt(e){if(e&&e.length>0){var t=-1;var n=-1;var i;var a=qe(e),o;try{for(a.s();!(o=a.n()).done;){var r=o.value;n=Jt(r);if(n>t){t=n;i=r}}}catch(e){a.e(e)}finally{a.f()}return Xt(i)}return H.None}function en(e,t){var n;var i,a;if(t&&t.length>0){a=t.map(function(e){return e.value})}if(!e){return undefined}if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var o=e.Target["$target"]["Data"],r=o&&o.some(function(e){var t,n;return(e===null||e===void 0?void 0:(t=e.Value)===null||t===void 0?void 0:t.path)&&e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&a&&a.includes(e===null||e===void 0?void 0:(n=e.Value)===null||n===void 0?void 0:n.path)});if(r){return H.High}else{var l,v;if(e!==null&&e!==void 0&&(l=e.annotations)!==null&&l!==void 0&&(v=l.UI)!==null&&v!==void 0&&v.Importance){return Xt(e)}i=o&&o.filter(function(e){var t,n;return e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Importance});return Zt(i)}}return e.Value&&e!==null&&e!==void 0&&(n=e.Value)!==null&&n!==void 0&&n.path&&a&&a.includes(e.Value.path)?H.High:Xt(e)}D.getImportance=en;var tn=function(e,t,n){var i;var a=n.getAnnotationEntityType(e),o=[],r={},l=ne(n.getEntitySet()),v=n.getManifestControlConfiguration(t),u=(v===null||v===void 0?void 0:(i=v.tableSettings)===null||i===void 0?void 0:i.type)||"ResponsiveTable";var d=[];var s=n.getAnnotationsByTerm("Common","com.sap.vocabularies.Common.v1.SemanticKey",[n.getEntityType()])[0];if(e){e.forEach(function(e){var i,a,v,c,f,p,g,m,y,b;if(!xt(e)){return}var h=null;var T=Ve(e)&&(i=e.Value)!==null&&i!==void 0&&(a=i.$target)!==null&&a!==void 0&&a.fullyQualifiedName?Le(n,e):undefined;var I=Ht(e);var D;var P=He(e,n,u);var A=P.properties;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((v=e.Target)===null||v===void 0?void 0:(c=v.$target)===null||c===void 0?void 0:c.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){D=Object.keys(P.properties).filter(function(e){var t;var n;if((t=A[e].annotations)!==null&&t!==void 0&&t.UI){var i,a;n=q((i=A[e].annotations)===null||i===void 0?void 0:(a=i.UI)===null||a===void 0?void 0:a.DataFieldDefault)}else{n=q(A[e])}return!n})}else{D=Object.keys(P.properties)}var F=Object.keys(P.additionalProperties);var S=Bt(I,true,false);var C=S!=I;var O=$t(e,C);var E=Lt(e);var U=S.indexOf("@com.sap.vocabularies.UI.v1.FieldGroup")>-1;var M=U?Rt(E,t,n):false;var x=Re(e);var w=x==="Edm.Date"?"YYYY-MM-DD":undefined;var N=Wt(Yt(E,s,U,e));var $;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((f=e.Target)===null||f===void 0?void 0:(p=f.$target)===null||p===void 0?void 0:p.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){$=Nt(e,N)}if(Mt(e)){h={template:P.exportSettingsTemplate,wrap:P.exportSettingsWrapping,type:x?fn(x,D.length>1):undefined,inputFormat:w,delimiter:x==="Edm.Int64"};if(P.exportUnitName){h.unitProperty=P.exportUnitName;h.type="Currency"}else if(P.exportUnitString){h.unit=P.exportUnitString}if(P.exportTimezoneName){h.timezoneProperty=P.exportTimezoneName}else if(P.exportTimezoneString){h.timezone=P.exportTimezoneString}}var V=x&&On(e,x);var j=V?{className:x,oFormatOptions:_e(_e({},N),V.formatOptions),oConstraints:V.constraints}:undefined;var k={};if(!x||!j){k.widthCalculation=null}var L={key:Ae.generateKeyFromDataField(e),type:ot.Annotation,label:O,groupLabel:C?$t(e):null,group:C?S:null,FieldGroupHiddenExpressions:$,annotationPath:n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),semanticObjectPath:T,availability:ke(e)?G.Hidden:G.Default,name:E,showDataFieldsLabel:M,relativePath:I,sortable:zt(e,I,l),propertyInfos:D.length?D:undefined,additionalPropertyInfos:F.length>0?F:undefined,exportSettings:h,width:((g=e.annotations)===null||g===void 0?void 0:(m=g.HTML5)===null||m===void 0?void 0:(y=m.CssDefaults)===null||y===void 0?void 0:y.width)||undefined,importance:en(e,s),isNavigable:true,formatOptions:N,caseSensitive:Gt(n),typeConfig:j,visualSettings:k,timezoneText:(b=h)===null||b===void 0?void 0:b.timezone,isPartOfLineItem:true};var R=Vt(e);if(R){L.tooltip=R}if(P.textOnlyPropertiesFromTextAnnotation.length>0){d.push.apply(d,Ze(P.textOnlyPropertiesFromTextAnnotation))}o.push(L);D.forEach(function(e){r[e]=P.properties[e]});F.forEach(function(e){r[e]=P.additionalProperties[e]})})}return Et(r,a,o,l,n,u,d)};var nn=function(e,t,n,i){var a;if(e){a=e.map(function(e){var a=t.find(function(t){return t.relativePath===e&&t.propertyInfos===undefined});if(a){return a.name}else{var o=kt(Ye({},e,i.resolvePath(e)),t,[],n,i,[]);t.push(o[0]);return o[0].name}})}return a};var an=function(e){return e.map(function(t){return"{".concat(e.indexOf(t),"}")}).join("\n")};var on=function(e,t,n,i,a){var o={};function r(e,n){return t.some(function(e){return e.key===n})}function l(e){return e.type===ot.Slot}function v(e){return e.type===undefined&&!!e.template}function u(e,t){var i=ne(n.getEntitySet());e.forEach(function(e){t.forEach(function(t){if(t.name===e){t.sortable=i.indexOf(e.replace("Property::",""))===-1;t.isGroupable=t.sortable}})})}for(var d in e){var s;var c=e[d];Ae.validateKey(d);var f={key:d,width:c.width||undefined,position:{anchor:(s=c.position)===null||s===void 0?void 0:s.anchor,placement:c.position===undefined?Ee.After:c.position.placement},caseSensitive:Gt(n)};if(r(c,d)){var p=_e(_e({},f),{},{importance:c===null||c===void 0?void 0:c.importance,horizontalAlign:c===null||c===void 0?void 0:c.horizontalAlign,availability:c===null||c===void 0?void 0:c.availability,type:ot.Annotation,isNavigable:r(c,d)?undefined:Ne(c,a,true),settings:c.settings,formatOptions:Wt(c.formatOptions)});o[d]=p}else{var g=nn(c.properties,t,n,i);var m=_e(_e({},f),{},{header:c.header,importance:(c===null||c===void 0?void 0:c.importance)||H.None,horizontalAlign:(c===null||c===void 0?void 0:c.horizontalAlign)||B.Begin,availability:(c===null||c===void 0?void 0:c.availability)||G.Default,template:c.template,propertyInfos:g,exportSettings:g?{template:an(g),wrap:!!(g.length>1)}:null,id:"CustomColumn::".concat(d),name:"CustomColumn::".concat(d),formatOptions:{textLinesEdit:4},isGroupable:false,isNavigable:false,sortable:false,visualSettings:{widthCalculation:null}});if(g){u(g,t)}if(l(c)){var y=_e(_e({},m),{},{type:ot.Slot});o[d]=y}else if(v(c)){var b=_e(_e({},m),{},{type:ot.Default});o[d]=b}else{var h;var T="The annotation column '".concat(d,"' referenced in the manifest is not found");n.getDiagnostics().addIssue(Oe.Manifest,Se.Low,T,Ce,Ce===null||Ce===void 0?void 0:(h=Ce.AnnotationColumns)===null||h===void 0?void 0:h.InvalidKey)}}}return o};function rn(e,t,n){var i;var a=t.getManifestWrapper();var o=t.getManifestControlConfiguration(e);var r=a.getVariantManagement();var l=[];var v=n.type==="AnalyticalTable";var u=n.type==="ResponsiveTable";if((o===null||o===void 0?void 0:(i=o.tableSettings)===null||i===void 0?void 0:i.personalization)!==undefined){var d=o.tableSettings.personalization;if(d===true){switch(n.type){case"AnalyticalTable":return"Sort,Column,Filter,Group,Aggregate";case"ResponsiveTable":return"Sort,Column,Filter,Group";default:return"Sort,Column,Filter"}}else if(typeof d==="object"){if(d.sort){l.push("Sort")}if(d.column){l.push("Column")}if(d.filter){l.push("Filter")}if(d.group&&(v||u)){l.push("Group")}if(d.aggregate&&v){l.push("Aggregate")}return l.length>0?l.join(","):undefined}}else{l.push("Sort");l.push("Column");if(t.getTemplateType()===L.ListReport){if(r===k.Control||ln(a,t)){l.push("Filter")}}else{l.push("Filter")}if(v){l.push("Group");l.push("Aggregate")}if(u){l.push("Group")}return l.join(",")}return undefined}D.getP13nMode=rn;function ln(e,t){return e.isFilterBarHidden()&&!t.getManifestWrapper().hasMultipleVisualizations()&&t.getTemplateType()!==L.AnalyticalListPage}function vn(e,t,n){var i=ne(e.getEntitySet());var a;if(t!==null&&t!==void 0&&t.SortOrder){var o=[];var r={sorters:o};t.SortOrder.forEach(function(e){var t;var a=e.Property;if(a&&i.indexOf((t=a.$target)===null||t===void 0?void 0:t.name)===-1){var o=un([a],n)[0];if(o){r.sorters.push({name:o,descending:!!e.Descending})}}});a=r.sorters.length?JSON.stringify(r):undefined}return a}function un(e,t){var n=[];var i,a;e.forEach(function(e){if(e!==null&&e!==void 0&&e.value){i=t.find(function(t){a=t;return!a.propertyInfos&&a.relativePath===(e===null||e===void 0?void 0:e.value)});if(i){n.push(i.name)}}});return n}function dn(e,t,n){var i;if(e!==null&&e!==void 0&&e.GroupBy){var a=e.GroupBy;if(n==="ResponsiveTable"){a=a.slice(0,1)}var o=un(a,t).map(function(e){return{name:e}});i=o.length?JSON.stringify({groupLevels:o}):undefined}return i}function sn(e,t){var n;if(e!==null&&e!==void 0&&e.Total){var i=e.Total;var a={};un(i,t).forEach(function(e){a[e]={}});n=JSON.stringify(a)}return n}function cn(e,t,n,i,a,o,r){var l,v,u;var d=pn(t),s=d.navigationPropertyPath;var c=(l=n.getDataModelObjectPath().targetEntityType.annotations)===null||l===void 0?void 0:(v=l.UI)===null||v===void 0?void 0:(u=v.HeaderInfo)===null||u===void 0?void 0:u.TypeNamePlural;var f=n.getDataModelObjectPath().targetEntitySet;var p=n.getManifestWrapper();var g=s.length===0,m=rn(t,n,i),y=s?W(t):W(n.getContextPath(),"LineItem");var b=Pt(n);var h=dt(n,s);var T=p.getNavigationConfiguration(h);var I=Ct(e,i,n,T,t);var D=$(n,I.mode,i,r);var E=x(n,D);var V=N(n,D);var j=U(n,D);var R=M(D,A(n),Ie(V)==="false");var H=At(e,t,n,g,b,E,j);var B=s?10:30;if(o!==null&&o!==void 0&&o.MaxItems){B=o.MaxItems.valueOf()}var z=p.getVariantManagement();var G=re(n.getDataModelObjectPath());var K={create:O(n,D),delete:C(n,D),paste:F(n,D,R),massEdit:S(n,D),creationRow:w(n,D)};return{id:y,entityName:f?f.name:"",collection:ve(n.getDataModelObjectPath()),navigationPath:s,row:Ot(e,t,n,T,h),p13nMode:m,standardActions:{actions:K,isInsertUpdateTemplated:R,updatablePropertyPath:mt(n)},displayMode:P(n,r),create:I,selectionMode:H,autoBindOnInit:ln(p,n)||n.getTemplateType()!==L.ListReport&&n.getTemplateType()!==L.AnalyticalListPage&&!(r&&p.hasMultipleVisualizations(r)),variantManagement:z==="Control"&&!m?k.None:z,threshold:B,sortConditions:vn(n,o,a),title:c,searchable:i.type!=="AnalyticalTable"&&!(ge(G)&&G.value===false)}}D.getTableAnnotationConfiguration=cn;function fn(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n="String";if(t){if(e==="Edm.DateTimeOffset"){n="DateTime"}return n}else{switch(e){case"Edm.Decimal":case"Edm.Int32":case"Edm.Int64":case"Edm.Double":case"Edm.Byte":n="Number";break;case"Edm.DateOfTime":case"Edm.Date":n="Date";break;case"Edm.DateTimeOffset":n="DateTime";break;case"Edm.TimeOfDay":n="Time";break;case"Edm.Boolean":n="Boolean";break;default:n="String"}}return n}function pn(e){var t=e.split("@"),n=ze(t,2),i=n[0],a=n[1];if(i.lastIndexOf("/")===i.length-1){i=i.substr(0,i.length-1)}return{navigationPropertyPath:i,annotationPath:a}}D.splitPath=pn;function gn(e,t){var n=t.getEntityTypeAnnotation(e);var i=n.annotation;if(i){var a,o;var r=[];(a=i.SelectOptions)===null||a===void 0?void 0:a.forEach(function(e){var t=e.PropertyName;var n=t.value;if(r.indexOf(n)===-1){r.push(n)}});return{text:i===null||i===void 0?void 0:(o=i.Text)===null||o===void 0?void 0:o.toString(),propertyNames:r}}return undefined}D.getSelectionVariantConfiguration=gn;function mn(e,t,n){var i;var a=(i=e.enableFullScreen)!==null&&i!==void 0?i:n;if(!n&&a&&t.getTemplateType()===L.ListReport){a=false;t.getDiagnostics().addIssue(Oe.Manifest,Se.Low,Fe.FULLSCREENMODE_NOT_ON_LISTREPORT)}return a}function yn(e,t,n){var i;if(t!=="ResponsiveTable"){return undefined}switch(n.getTemplateType()){case L.ListReport:case L.AnalyticalListPage:i=!e.selectAll?"ClearAll":"Default";break;case L.ObjectPage:i=e.selectAll===false?"ClearAll":"Default";if(n.getManifestWrapper().useIconTabBar()){i=!e.selectAll?"ClearAll":"Default"}break;default:}return i}function bn(e,t,n){var i=(e===null||e===void 0?void 0:e.type)||"ResponsiveTable";if(i==="AnalyticalTable"&&!n.getManifestWrapper().isDesktop()){i="ResponsiveTable"}return i}function hn(e,t,n){if(e==="GridTable"){if(n){return{rowCountMode:"Auto",rowCount:"3"}}else{return{rowCountMode:t.rowCountMode?t.rowCountMode:"Fixed",rowCount:t.rowCount?t.rowCount:5}}}else{return{}}}function Tn(e,t){return t.condensedTableLayout!==undefined&&e!=="ResponsiveTable"?t.condensedTableLayout:false}function In(e){return e.selectAll===true||e.selectionLimit===0?0:e.selectionLimit||200}function Dn(e){var t,n;return(t=e.creationMode)!==null&&t!==void 0&&t.inlineCreationRowCount?(n=e.creationMode)===null||n===void 0?void 0:n.inlineCreationRowCount:2}function Pn(e,t,n,i,a){var o;if(n){t.push({annotationPath:i.annotationPath})}return{quickFilters:{enabled:a.getTemplateType()!==L.ListReport,showCounts:e===null||e===void 0?void 0:(o=e.quickVariantSelection)===null||o===void 0?void 0:o.showCounts,paths:t}}}function An(e,t,n){return e.enableExport!==undefined?e.enableExport:t.getTemplateType()!=="ObjectPage"||n}function Fn(e,t,n){var i,a,o;if(!t){return{}}var r=[];var l=n.getAnnotationEntityType(t);var v;var u;e===null||e===void 0?void 0:(i=e.quickVariantSelection)===null||i===void 0?void 0:(a=i.paths)===null||a===void 0?void 0:a.forEach(function(t){v=l.resolvePath(t.annotationPath);u=Pn(e,r,v,t,n)});var d=false;d=!!((o=e.quickVariantSelection)!==null&&o!==void 0&&o.hideTableTitle);return{filters:u,headerVisible:!(v&&d)}}function Sn(e,t){var n=ue(t.getDataModelObjectPath(),e).navigationProperties;if((n===null||n===void 0?void 0:n.length)>0){var i=[];n.forEach(function(e){i.push($t(e)||e.name)});return i}}function Cn(e,t,n){var i,a,o,r,l,v,u;var d=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var s=n.getManifestWrapper();var c=n.getManifestControlConfiguration(t);var f=c&&c.tableSettings||{};var p=((i=f.creationMode)===null||i===void 0?void 0:i.name)||z.NewPage;var g=!s.isPhone();var m=f.enablePaste!==undefined?f.enablePaste:n.getTemplateType()==="ObjectPage";var y=n.getTemplateType();var b=y===L.ListReport?"API.dataStateIndicatorFilter":undefined;var h=d&&s.isCondensedLayoutCompliant();var T=Fn(f,e,n);var I=(a=f.creationMode)===null||a===void 0?void 0:a.customValidationFunction;var D=n.getEntityType();var P=new Q(D,n);var A=bn(f,P,n);var F=hn(A,f,y===L.ListReport);var S=Tn(A,f);var C={createAtEnd:((o=f.creationMode)===null||o===void 0?void 0:o.createAtEnd)!==undefined?(r=f.creationMode)===null||r===void 0?void 0:r.createAtEnd:p!==z.Inline,creationMode:p,customValidationFunction:I,dataStateIndicatorFilter:b,disableAddRowButtonForEmptyData:!I?!!((l=f.creationMode)!==null&&l!==void 0&&l.disableAddRowButtonForEmptyData):false,enableAutoColumnWidth:g,enableExport:An(f,n,m),enableFullScreen:mn(f,n,s.isPhone()),enableMassEdit:f===null||f===void 0?void 0:f.enableMassEdit,enablePaste:m,headerVisible:true,multiSelectMode:yn(f,A,n),selectionLimit:In(f),inlineCreationRowCount:Dn(f),showRowCount:!(f!==null&&f!==void 0&&(v=f.quickVariantSelection)!==null&&v!==void 0&&v.showCounts)&&!((u=s.getViewConfiguration())!==null&&u!==void 0&&u.showCounts),type:A,useCondensedTableLayout:S&&h,isCompactType:s.isCompactType()};return _e(_e(_e({},C),F),T)}D.getTableManifestConfiguration=Cn;function On(e,t){var n,i,a,o,r,l;var v=ae[e===null||e===void 0?void 0:e.type]||(t?ae[t]:undefined);if(!v&&e!==null&&e!==void 0&&e.targetType&&((n=e.targetType)===null||n===void 0?void 0:n._type)==="TypeDefinition"){v=ae[e.targetType.underlyingType]}var u={type:(i=v)===null||i===void 0?void 0:i.type,constraints:{},formatOptions:{}};if(_(e)){var d,s,c,f,p,g,m,y,b,h,T,I,D,P,A,F,S;u.constraints={scale:(d=v.constraints)!==null&&d!==void 0&&d.$Scale?e.scale:undefined,precision:(s=v.constraints)!==null&&s!==void 0&&s.$Precision?e.precision:undefined,maxLength:(c=v.constraints)!==null&&c!==void 0&&c.$MaxLength?e.maxLength:undefined,nullable:(f=v.constraints)!==null&&f!==void 0&&f.$Nullable?e.nullable:undefined,minimum:(p=v.constraints)!==null&&p!==void 0&&p["@Org.OData.Validation.V1.Minimum/$Decimal"]&&!isNaN((g=e.annotations)===null||g===void 0?void 0:(m=g.Validation)===null||m===void 0?void 0:m.Minimum)?"".concat((y=e.annotations)===null||y===void 0?void 0:(b=y.Validation)===null||b===void 0?void 0:b.Minimum):undefined,maximum:(h=v.constraints)!==null&&h!==void 0&&h["@Org.OData.Validation.V1.Maximum/$Decimal"]&&!isNaN((T=e.annotations)===null||T===void 0?void 0:(I=T.Validation)===null||I===void 0?void 0:I.Maximum)?"".concat((D=e.annotations)===null||D===void 0?void 0:(P=D.Validation)===null||P===void 0?void 0:P.Maximum):undefined,isDigitSequence:u.type==="sap.ui.model.odata.type.String"&&(A=v.constraints)!==null&&A!==void 0&&A["@com.sap.vocabularies.Common.v1.IsDigitSequence"]&&(F=e.annotations)!==null&&F!==void 0&&(S=F.Common)!==null&&S!==void 0&&S.IsDigitSequence?true:undefined}}u.formatOptions={parseAsString:(u===null||u===void 0?void 0:(a=u.type)===null||a===void 0?void 0:a.indexOf("sap.ui.model.odata.type.Int"))===0||(u===null||u===void 0?void 0:(o=u.type)===null||o===void 0?void 0:o.indexOf("sap.ui.model.odata.type.Double"))===0?false:undefined,emptyString:(u===null||u===void 0?void 0:(r=u.type)===null||r===void 0?void 0:r.indexOf("sap.ui.model.odata.type.Int"))===0||(u===null||u===void 0?void 0:(l=u.type)===null||l===void 0?void 0:l.indexOf("sap.ui.model.odata.type.Double"))===0?"":undefined,parseKeepsEmptyString:u.type==="sap.ui.model.odata.type.String"?true:undefined};return u}D.getTypeConfig=On;return{getTableActions:rt,getTableColumns:lt,getColumnsFromEntityType:Et,updateLinkedProperties:st,createTableVisualization:ft,createDefaultTableVisualization:pt,getCapabilityRestriction:Pt,getSelectionMode:At,getRowStatusVisibility:jt,getImportance:en,getP13nMode:rn,getTableAnnotationConfiguration:cn,isFilteringCaseSensitive:Gt,splitPath:pn,getSelectionVariantConfiguration:gn,getTableManifestConfiguration:Cn,getTypeConfig:On}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/table/StandardActions", ["sap/fe/core/formatters/TableFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/templating/DataModelPathHelper","../../../helpers/BindingHelper","../../../ManifestSettings"],function(e,t,n,a,i,r){"use strict";var o={};var l=r.TemplateType;var s=r.CreationMode;var d=i.UI;var v=i.singletonPathVisitor;var u=a.isPathUpdatable;var p=a.isPathInsertable;var c=a.isPathDeletable;var f=a.getTargetObjectPath;var g=t.pathInModel;var b=t.or;var h=t.notEqual;var y=t.not;var T=t.length;var m=t.isPathInModelExpression;var C=t.isConstant;var M=t.ifElse;var P=t.greaterThan;var E=t.greaterOrEqual;var S=t.getExpressionFromAnnotation;var D=t.formatResult;var x=t.equal;var A=t.constant;var O=t.compileExpression;var R=t.and;var I;(function(e){e["CreateHidden"]="CreateHidden";e["DeleteHidden"]="DeleteHidden";e["UpdateHidden"]="UpdateHidden"})(I||(I={}));function U(e,t,n,a){return{collectionPath:f(e.getDataModelObjectPath()),hiddenAnnotation:{create:j(e,I.CreateHidden),delete:j(e,I.DeleteHidden),update:j(e,I.UpdateHidden)},creationMode:t,isDraftOrStickySupported:V(e),isViewWithMultipleVisualizations:a?e.getManifestWrapper().hasMultipleVisualizations(a):false,newAction:w(e),tableManifestConfiguration:n,restrictions:H(e)}}o.generateStandardActionsContext=U;function V(e){var t,a,i;var r=e.getDataModelObjectPath();var o=n.isObjectPathDraftSupported(r);var l=(t=r.startingEntitySet)!==null&&t!==void 0&&(a=t.annotations)!==null&&a!==void 0&&(i=a.Session)!==null&&i!==void 0&&i.StickySessionSupported?true:false;return o||l}o.isDraftOrStickySupported=V;function w(e){var t,a,i,r,o,l;var s=e.getEntitySet();var d=!n.isSingleton(s)?(s===null||s===void 0?void 0:(t=s.annotations)===null||t===void 0?void 0:(a=t.Common)===null||a===void 0?void 0:(i=a.DraftRoot)===null||i===void 0?void 0:i.NewAction)||(s===null||s===void 0?void 0:(r=s.annotations)===null||r===void 0?void 0:(o=r.Session)===null||o===void 0?void 0:(l=o.StickySessionSupported)===null||l===void 0?void 0:l.NewAction):undefined;var v=d===null||d===void 0?void 0:d.toString();if(v){var u,p,c;var f=e===null||e===void 0?void 0:(u=e.getEntityType().actions[v])===null||u===void 0?void 0:(p=u.annotations)===null||p===void 0?void 0:(c=p.Core)===null||c===void 0?void 0:c.OperationAvailable;f=f!==undefined?f:true;return{name:v,available:S(f)}}return undefined}o.getNewAction=w;function j(e,t){var n;var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var i=e.getEntitySet();var r=e.getDataModelObjectPath();var o=r.navigationProperties.length>0&&a?[r.navigationProperties[r.navigationProperties.length-1].name]:[];var l=(i===null||i===void 0?void 0:(n=i.annotations.UI)===null||n===void 0?void 0:n[t])||false;return i?S(l,o,undefined,function(t){return v(t,e.getConvertedTypes(),o)}):A(false)}o.isActionAnnotatedHidden=j;function H(e){var t=e.getDataModelObjectPath();var n=[{key:"isInsertable",function:p},{key:"isUpdatable",function:u},{key:"isDeletable",function:c}];var a={};n.forEach(function(n){var i=n["function"];a[n.key]={expression:i.apply(null,[t,{pathVisitor:function(t,n){return v(t,e.getConvertedTypes(),n)}}]),navigationExpression:i.apply(null,[t,{ignoreTargetCollection:true,authorizeUnresolvable:true,pathVisitor:function(t,n){return v(t,e.getConvertedTypes(),n)}}])}});return a}o.getRestrictions=H;function k(e,t,n){return(t||e.creationMode===s.External)&&!n}o.getInsertUpdateActionsTemplating=k;function L(e,t){var n=N(e,t);return{isTemplated:O(q(t,n)),visible:O(n),enabled:O(X(e,t,n))}}o.getStandardActionCreate=L;function z(e,t){var n=G(e,t);return{isTemplated:O(B(n)),visible:O(n),enabled:O(Y(e,t,n))}}o.getStandardActionDelete=z;function F(e,t){var n=N(e,t,true);return{isTemplated:O(q(t,n,true)),visible:O(n),enabled:O(Q(e,t,n))}}o.getCreationRow=F;function W(e,t,n){var a=N(e,t);var i=X(e,t,a);var r=J(e,t,a,n);return{visible:O(r),enabled:O(Z(r,i))}}o.getStandardActionPaste=W;function _(e,t){var n=K(e,t);return{isTemplated:O(B(n)),visible:O(n),enabled:O($(e,t,n))}}o.getStandardActionMassEdit=_;function q(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return R(b(R(n,e.creationMode===s.CreationRow),R(!n,e.creationMode!==s.CreationRow)),b(y(C(t)),t))}o.getCreateTemplating=q;function B(e){return b(y(C(e)),e)}o.getDefaultTemplating=B;function N(e,t){var n;var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var i=t.restrictions.isInsertable.expression;var r=a?j(e,I.CreateHidden,false):t.hiddenAnnotation.create;var o=t.newAction;return M(t.creationMode===s.External,R(y(r),b(e.getTemplateType()===l.ListReport,d.IsEditable)),M(b(R(C(o===null||o===void 0?void 0:o.available),x(o===null||o===void 0?void 0:o.available,false)),R(C(i),x(i,false),!o),R(C(r),x(r,true)),R(t.creationMode===s.InlineCreationRows,((n=t.tableManifestConfiguration)===null||n===void 0?void 0:n.type)==="ResponsiveTable")),false,M(e.getTemplateType()===l.ListReport,b(y(m(r)),y(r)),R(y(r),d.IsEditable))))}o.getCreateVisibility=N;function G(e,t){var n=t.hiddenAnnotation.delete;var a=t.restrictions.isDeletable.expression;return M(b(t.isViewWithMultipleVisualizations,e.getTemplateType()===l.AnalyticalListPage),false,M(R(C(a),x(a,false)),false,M(R(C(n),x(n,A(true))),false,M(e.getTemplateType()!==l.ListReport,R(y(n),d.IsEditable),y(R(m(n),n))))))}o.getDeleteVisibility=G;function J(e,t,n,a){return R(h(t.tableManifestConfiguration.enablePaste,false),n,a,[l.ListReport,l.AnalyticalListPage].indexOf(e.getTemplateType())===-1,t.restrictions.isInsertable.expression)}o.getPasteVisibility=J;function K(e,t){var n;var a=t.hiddenAnnotation.update,i=t.restrictions.isUpdatable.expression,r=((n=t.tableManifestConfiguration)===null||n===void 0?void 0:n.enableMassEdit)||false;var o=e.getTemplateType()===l.ObjectPage?d.IsEditable:e.getTemplateType()===l.ListReport;return R(y(R(C(i),x(i,false))),r,o,y(a))}o.getMassEditVisibility=K;function Q(t,n,a){var i=p(t.getDataModelObjectPath(),{ignoreTargetCollection:true,authorizeUnresolvable:true,pathVisitor:function(e,n){if(e.indexOf("/")===0){e=v(e,t.getConvertedTypes(),n);return e}var a=t.getDataModelObjectPath().navigationProperties;if(a){var i=a[a.length-1].partner;if(i){e="".concat(i,"/").concat(e)}}return e}});var r=i._type==="Unresolvable"?p(t.getDataModelObjectPath(),{pathVisitor:function(e){return v(e,t.getConvertedTypes(),[])}}):i;return R(a,r,b(!n.tableManifestConfiguration.disableAddRowButtonForEmptyData,D([g("creationRowFieldValidity","internal")],e.validateCreationRowFields)))}o.getCreationRowEnablement=Q;function X(e,t,n){var a;var i=t.restrictions.isInsertable.expression;var r=(a=e.resolveAbsolutePath(t.collectionPath).target)===null||a===void 0?void 0:a._type;return R(n,b(r==="EntitySet",R(i,b(e.getTemplateType()!==l.ObjectPage,d.IsEditable))))}o.getCreateEnablement=X;function Y(e,t,n){var a=t.restrictions.isDeletable.expression;var i=!C(a)&&t.restrictions.isDeletable.navigationExpression._type==="Unresolvable";var r=g("numberOfSelectedContexts","internal");var o=g("deletableContexts","internal");var s=g("unSavedContexts","internal");return R(n,M(b(e.getTemplateType()!==l.ObjectPage,i),R(b(R(h(o,undefined),P(T(o),0)),R(h(s,undefined),P(T(s),0))),g("deleteEnabled","internal")),R(h(r,0),a)))}o.getDeleteEnablement=Y;function Z(e,t){return R(e,t)}o.getPasteEnablement=Z;function $(e,t,a){var i=t.restrictions.isUpdatable.expression;var r=!C(i)&&t.restrictions.isUpdatable.navigationExpression._type==="Unresolvable";var o=E(g("numberOfSelectedContexts","internal"),1);var l=E(T(g("updatableContexts","internal")),1);var s=n.isObjectPathDraftSupported(e.getDataModelObjectPath());var d=ee(e);var v=M(b(R(d,s),r),R(o,l),R(o));return R(a,M(r,v,R(v,i)))}o.getMassEditEnablement=$;function ee(e,t){var n=e.getTemplateType();if(n===l.ListReport||n===l.AnalyticalListPage||t&&e.getManifestWrapper().hasMultipleVisualizations(t)){return true}return false}o.isInDisplayMode=ee;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ListReport/FilterBar", ["sap/fe/core/converters/controls/Common/Table","sap/fe/core/converters/controls/ListReport/VisualFilters","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","../../ManifestSettings","../Common/DataVisualization"],function(e,t,i,r,n,a,o,l,v){"use strict";var u={};var s=v.getSelectionVariant;var d=l.AvailabilityType;var c=a.getExpressionFromAnnotation;var f=a.compileExpression;var p=n.KeyHelper;var y=r.IssueType;var g=r.IssueSeverity;var m=r.IssueCategory;var h=i.Placement;var b=i.insertCustomElements;var P=t.getVisualFilters;var F=e.isFilteringCaseSensitive;var S=e.getTypeConfig;var E=e.getSelectionVariantConfiguration;function T(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function O(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?T(Object(i),!0).forEach(function(t){x(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):T(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function x(e,t,i){t=D(t);if(t in e){Object.defineProperty(e,t,{value:i,enumerable:true,configurable:true,writable:true})}else{e[t]=i}return e}function D(e){var t=I(e,"string");return typeof t==="symbol"?t:String(t)}function I(e,t){if(typeof e!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==undefined){var r=i.call(e,t||"default");if(typeof r!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C;(function(e){e["Default"]="Default";e["Slot"]="Slot"})(C||(C={}));var j="Edm.String";var A="sap.ui.model.odata.type.String";function w(e){var t={};e.Data.forEach(function(i){if(i.$Type==="com.sap.vocabularies.UI.v1.DataField"){var r,n;t[i.Value.path]={group:e.fullyQualifiedName,groupLabel:f(c(e.Label||((r=e.annotations)===null||r===void 0?void 0:(n=r.Common)===null||n===void 0?void 0:n.Label)||e.qualifier))||e.qualifier}}});return t}function N(e){return e.reduce(function(e,t){t.propertyNames.forEach(function(t){e[t]=true});return e},{})}function R(e,t){if(t&&e.length>0){return e.every(function(e){return e.enableAnalytics&&t===e.annotation.collection})}return false}function V(e,t){var i=[];return e.map(function(e){var r=e.control.filters;var n=[];for(var a in r){if(Array.isArray(r[a].paths)){var o=r[a].paths;o.forEach(function(e){if(e&&e.annotationPath&&i.indexOf(e.annotationPath)===-1){i.push(e.annotationPath);var r=E(e.annotationPath,t);if(r){n.push(r)}}})}}return n}).reduce(function(e,t){return e.concat(t)},[])}var L=function(e,t){var i=t.split("/");var r;var n="";while(i.length){var a=i.shift();r=r?"".concat(r,"/").concat(a):a;var o=e.resolvePath(r);if(o._type==="NavigationProperty"&&o.isCollection){a+="*"}n=n?"".concat(n,"/").concat(a):a}return n};var M=function(e,t,i,r,n){var a,o,l;if(t!==undefined&&t.targetType===undefined&&(r||((a=t.annotations)===null||a===void 0?void 0:(o=a.UI)===null||o===void 0?void 0:(l=o.Hidden)===null||l===void 0?void 0:l.valueOf())!==true)){var v,u,s,y,g,m,h,b;var P=n.getAnnotationEntityType(t);return{key:p.getSelectionFieldKeyFromPath(i),annotationPath:n.getAbsoluteAnnotationPath(i),conditionPath:L(e,i),availability:((v=t.annotations)===null||v===void 0?void 0:(u=v.UI)===null||u===void 0?void 0:(s=u.HiddenFilter)===null||s===void 0?void 0:s.valueOf())===true?d.Hidden:d.Adaptation,label:f(c(((y=t.annotations.Common)===null||y===void 0?void 0:(g=y.Label)===null||g===void 0?void 0:g.valueOf())||t.name)),group:P.name,groupLabel:f(c((P===null||P===void 0?void 0:(m=P.annotations)===null||m===void 0?void 0:(h=m.Common)===null||h===void 0?void 0:(b=h.Label)===null||b===void 0?void 0:b.valueOf())||P.name))}}return undefined};function U(e){var t={"Edm.Boolean":{modelType:"Bool"},"Edm.Byte":{modelType:"Int"},"Edm.Date":{modelType:"Date"},"Edm.DateTime":{modelType:"Date"},"Edm.DateTimeOffset":{modelType:"DateTimeOffset"},"Edm.Decimal":{modelType:"Decimal"},"Edm.Double":{modelType:"Float"},"Edm.Float":{modelType:"Float"},"Edm.Guid":{modelType:"Guid"},"Edm.Int16":{modelType:"Int"},"Edm.Int32":{modelType:"Int"},"Edm.Int64":{modelType:"Int"},"Edm.SByte":{modelType:"Int"},"Edm.Single":{modelType:"Float"},"Edm.String":{modelType:"String"},"Edm.Time":{modelType:"TimeOfDay"},"Edm.TimeOfDay":{modelType:"TimeOfDay"},"Edm.Stream":{}};return e&&e in t&&t[e].modelType}u.getModelType=U;var k=function(e,t,i,r,n){var a={};if(i){i.forEach(function(i){var o=i.name;var l=(t?"".concat(t,"/"):"")+o;var v=M(e,i,l,r,n);if(v){a[l]=v}})}return a};var q=function(e,t,i,r){var n={};if(t){t.forEach(function(t){var a;var o=e.resolvePath(t);if(o===undefined){return}if(o._type==="NavigationProperty"){a=k(e,t,o.targetType.entityProperties,i,r)}else if(o.targetType!==undefined&&o.targetType._type==="ComplexType"){a=k(e,t,o.targetType.properties,i,r)}else{var l=t.includes("/")?t.split("/").splice(0,1).join("/"):"";a=k(e,l,[o],i,r)}n=O(O({},n),a)})}return n};var $=function(e,t,i,r){var n=e[t];if(n){delete e[t]}else{n=M(r,r.resolvePath(t),t,true,i)}if(n){var a,o;n.availability=n.availability===d.Hidden?d.Hidden:d.Default;n.isParameter=!!((a=r.annotations)!==null&&a!==void 0&&(o=a.Common)!==null&&o!==void 0&&o.ResultContext)}else{var l;(l=i.getDiagnostics())===null||l===void 0?void 0:l.addIssue(m.Annotation,g.High,y.MISSING_SELECTIONFIELD)}return n};var B=function(e,t,i,r,n){var a=[];var o={};var l=t.entityProperties;n===null||n===void 0?void 0:n.forEach(function(e){o[e.value]=true});if(e&&e.length>0){e===null||e===void 0?void 0:e.forEach(function(e){var o=e.PropertyName;var l=o.value;var v={};n===null||n===void 0?void 0:n.forEach(function(e){v[e.value]=true});if(!(l in r)){if(!(l in v)){var u=W(l,i,t);if(u){a.push(u)}}}})}else if(l){l.forEach(function(e){var n,l;var v=(n=e.annotations)===null||n===void 0?void 0:(l=n.Common)===null||l===void 0?void 0:l.FilterDefaultValue;var u=e.name;if(!(u in r)){if(v&&!(u in o)){var s=W(u,i,t);if(s){a.push(s)}}}})}return a};function H(e){var t,i;var r=e.getDataModelObjectPath();var n=r.startingEntitySet.entityType;var a=!!((t=n.annotations)!==null&&t!==void 0&&(i=t.Common)!==null&&i!==void 0&&i.ResultContext)&&!r.targetEntitySet;var o=a&&e.getConverterContextFor("/".concat(r.startingEntitySet.name));return o?n.entityProperties.map(function(e){return $({},e.name,o,n)}):[]}var K=function(e,t,i){var r=t.length===0||t.every(function(e){return!e.applySupported.enableSearch});var n=e.length===0||e.every(function(e){return e.enableAnalytics&&!e.enableAnalyticsSearch});var a=i.getContextPath();if(a&&r&&n){return true}else{return false}};u.getFilterBarhideBasicSearch=K;var J=function(e,t){var i=t.getManifestWrapper().getFilterConfiguration();var r=(i===null||i===void 0?void 0:i.filterFields)||{};var n=q(e,Object.keys(r).map(function(e){return p.getPathFromSelectionFieldKey(e)}),true,t);var a={};for(var o in r){var l=r[o];var v=p.getPathFromSelectionFieldKey(o);var u=n[v];var s=l.type==="Slot"?C.Slot:C.Default;var c=l&&l!==null&&l!==void 0&&l.visualFilter?P(e,t,o,r):undefined;a[o]={key:o,type:s,annotationPath:u===null||u===void 0?void 0:u.annotationPath,conditionPath:(u===null||u===void 0?void 0:u.conditionPath)||v,template:l.template,label:l.label,position:l.position||{placement:h.After},availability:l.availability||d.Default,settings:l.settings,visualFilter:c,required:l.required}}return a};u.getManifestFilterFields=J;var W=function(e,t,i){return $({},e,t,i)};u.getFilterField=W;var G=function(e,t){if(t==="RequiredProperties"||t==="NonFilterableProperties"){var i=[];if(e&&e[t]){i=e[t].map(function(e){return e.$PropertyPath||e.value})}return i}else if(t==="FilterAllowedExpressions"){var r={};if(e&&e.FilterExpressionRestrictions){e.FilterExpressionRestrictions.forEach(function(e){if(r[e.Property.value]){r[e.Property.value].push(e.AllowedExpressions)}else{r[e.Property.value]=[e.AllowedExpressions]}})}return r}return e};u.getFilterRestrictions=G;var _=function(){return{name:"$search",path:"$search",dataType:A,maxConditions:1}};var z=function(){return{name:"$editState",path:"$editState",groupLabel:"",group:"",dataType:A,hiddenFilter:false}};var Q=function(e){var t;if(!o.isSingleton(e.getEntitySet())){var i,r;var n=(i=e.getEntitySet())===null||i===void 0?void 0:(r=i.annotations)===null||r===void 0?void 0:r.Capabilities;t=n===null||n===void 0?void 0:n.SearchRestrictions}return t};var X=function(e,t){var i,r,n;var a=(i=e.getEntitySet())===null||i===void 0?void 0:(r=i.annotations)===null||r===void 0?void 0:(n=r.Capabilities)===null||n===void 0?void 0:n.NavigationRestrictions;var o=a&&a.RestrictedProperties;return o&&o.find(function(e){return e&&e.NavigationProperty&&(e.NavigationProperty.$NavigationPropertyPath===t||e.NavigationProperty.value===t)})};u.getNavigationRestrictions=X;var Y=function(e){return{key:e.key,annotationPath:e.annotationPath,conditionPath:e.conditionPath,name:e.conditionPath,label:e.label,hiddenFilter:e.availability==="Hidden",display:"Value",isParameter:e.isParameter,caseSensitive:e.caseSensitive,availability:e.availability,position:e.position,type:e.type,template:e.template,menu:e.menu,required:e.required}};var Z=function(e){var t=["SingleValue","MultiValue","SingleRange","MultiRange","SearchExpression","MultiRangeOrSearchExpression"];e.sort(function(e,i){return t.indexOf(e)-t.indexOf(i)});return e[0]};u.getSpecificAllowedExpression=Z;var ee=function(e,t){var i,r,n,a,o,l;var v=e===null||e===void 0?void 0:(i=e.Common)===null||i===void 0?void 0:i.Text,u=v&&(e&&(e===null||e===void 0?void 0:(r=e.Common)===null||r===void 0?void 0:(n=r.Text)===null||n===void 0?void 0:(a=n.annotations)===null||a===void 0?void 0:(o=a.UI)===null||o===void 0?void 0:o.TextArrangement)||t&&(t===null||t===void 0?void 0:(l=t.UI)===null||l===void 0?void 0:l.TextArrangement));if(u){if(u.valueOf()==="UI.TextArrangementType/TextOnly"){return"Description"}else if(u.valueOf()==="UI.TextArrangementType/TextLast"){return"ValueDescription"}return"DescriptionValue"}return v?"DescriptionValue":"Value"};u.displayMode=ee;var te=function(e,t,i){var r;var n=Y(t);var a=t.annotationPath;if(!a){return n}var o=e.getConverterContextFor(a).getDataModelObjectPath().targetObject;var l=o===null||o===void 0?void 0:o.annotations;var v=e===null||e===void 0?void 0:(r=e.getDataModelObjectPath().targetObject)===null||r===void 0?void 0:r.annotations;var u=i.formatOptions;var s=i.constraints;n=Object.assign(n,{formatOptions:u,constraints:s,display:ee(l,v)});return n};u.fetchPropertyInfo=te;var ie=function(e){var t=true;switch(e.filterExpression){case"SearchExpression":case"SingleRange":case"SingleValue":t=false;break;default:break}if(e.type&&e.type.indexOf("Boolean")>0){t=false}return t};u.isMultiValue=ie;var re=function(e){return(e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath")&&e.Value.path.includes("/")};var ne=function(e){var t,i,r;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var l=arguments.length>4?arguments[4]:undefined;var v=V(n,e);var u=N(v);var d=e.getEntityType();var c=a&&((t=e.getEntityTypeAnnotation(a))===null||t===void 0?void 0:t.annotation)||((i=d.annotations)===null||i===void 0?void 0:(r=i.UI)===null||r===void 0?void 0:r.SelectionFields)||[];var f=[];if(n.length===0&&!!l){var p;(p=e.getEntityTypeAnnotation(l).annotation)===null||p===void 0?void 0:p.forEach(function(e){if(re(e)){var t=e.Value.path.slice(0,e.Value.path.lastIndexOf("/"));if(!f.includes(t)){f.push(t)}}})}var y=O(O(O({},k(d,"",d.entityProperties,o,e)),q(d,f,false,e)),q(d,e.getManifestWrapper().getFilterConfiguration().navigationProperties,o,e));var g=[];var m=s(d,e);if(m){g=m.SelectOptions}var h=(c===null||c===void 0?void 0:c.reduce(function(t,i){var r=i.value;if(!(r in u)){var n;if(a.startsWith("@com.sap.vocabularies.UI.v1.SelectionFields")){n=""}else{n=a.split("/@com.sap.vocabularies.UI.v1.SelectionFields")[0]}var o=n?n+"/"+r:r;var l=$(y,o,e,d);if(l){l.group="";l.groupLabel="";t.push(l)}}return t},[]))||[];var b=B(g,d,e,u,c);return{excludedFilterProperties:u,entityType:d,annotatedSelectionFields:c,filterFields:y,propertyInfoFields:h,defaultFilterFields:b}};var ae=function(e){var t=S(e,e===null||e===void 0?void 0:e.type);if((e===null||e===void 0?void 0:e.type)===j&&(t.constraints.nullable===undefined||t.constraints.nullable===true)){t.formatOptions.parseKeepsEmptyString=false}return t};u.fetchTypeConfig=ae;var oe=function(e,t,i,r){var n=te(t,e,r[e.key]),a="";if(e.conditionPath){a=e.conditionPath.replace(/\+|\*/g,"")}if(n){var o;n=Object.assign(n,{maxConditions:!n.isParameter&&ie(n)?-1:1,required:(o=e.required)!==null&&o!==void 0?o:n.isParameter||i.indexOf(a)>=0,caseSensitive:F(t),dataType:r[e.key].type})}return n};u.assignDataTypeToPropertyInfo=oe;var le=function(e,t,i){var r=[];var n={};if(i){e=e.concat(i)}e.forEach(function(e){if(e.annotationPath){var i=t.getConverterContextFor(e.annotationPath);var a=i.getDataModelObjectPath().targetObject;r.push(a===null||a===void 0?void 0:a.type);var o=ae(a);n[e.key]=o}else{r.push(j);n[e.key]={type:A}}});var a;if(!o.isSingleton(t.getEntitySet())){var l,v,u;a=(l=t.getEntitySet())===null||l===void 0?void 0:(v=l.annotations)===null||v===void 0?void 0:(u=v.Capabilities)===null||u===void 0?void 0:u.FilterRestrictions}var s=a;var d={};d["RequiredProperties"]=G(s,"RequiredProperties")||[];d["NonFilterableProperties"]=G(s,"NonFilterableProperties")||[];d["FilterAllowedExpressions"]=G(s,"FilterAllowedExpressions")||{};var c=t.getContextPath();var f=c.split("/");if(f.length>2){var p=f[f.length-1];f.splice(-1,1);var y=X(t,p);var g=y&&y.FilterRestrictions;d.RequiredProperties.concat(G(g,"RequiredProperties")||[]);d.NonFilterableProperties.concat(G(g,"NonFilterableProperties")||[]);d.FilterAllowedExpressions=O(O({},G(g,"FilterAllowedExpressions")||{}),d.FilterAllowedExpressions)}var m=d.RequiredProperties;var h=d.NonFilterableProperties;var b=[];e.forEach(function(e){var i;if(h.indexOf(i)===-1){var r=oe(e,t,m,n);b.push(r)}});var P=t.getDataModelObjectPath();if(o.isObjectPathDraftSupported(P)){b.push(z())}var F=Q(t);var S=Boolean(F&&!F.Searchable);if(c&&S!==true){if(!F||F!==null&&F!==void 0&&F.Searchable){b.push(_())}}return b};u.processSelectionFields=le;var ve=function(e,t,i){return b(e,J(t,i),{availability:"overwrite",label:"overwrite",type:"overwrite",position:"overwrite",template:"overwrite",settings:"overwrite",visualFilter:"overwrite",required:"overwrite"})};u.insertCustomManifestElements=ve;var ue=function(e){var t,i;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var a=arguments.length>3?arguments[3]:undefined;var o=arguments.length>4?arguments[4]:undefined;var l=ne(e,r,n,a,o);var v=H(e);var u=JSON.parse(JSON.stringify(l.propertyInfoFields));var s=l.entityType;u=v.concat(u);u=ve(u,s,e);var d=le(u,e,l.defaultFilterFields);d.sort(function(e,t){if(e.groupLabel===undefined||e.groupLabel===null){return-1}if(t.groupLabel===undefined||t.groupLabel===null){return 1}return e.groupLabel.localeCompare(t.groupLabel)});var c=JSON.stringify(d);c=c.replace(/\{/g,"\\{");c=c.replace(/\}/g,"\\}");var f=c;var p=JSON.parse(JSON.stringify(l.propertyInfoFields));p=v.concat(p);var y=l.excludedFilterProperties;var g=s===null||s===void 0?void 0:(t=s.annotations)===null||t===void 0?void 0:(i=t.UI)===null||i===void 0?void 0:i.FilterFacets;var m={};var h=e.getAnnotationsByTerm("UI","com.sap.vocabularies.UI.v1.FieldGroup");if(g===undefined||g.length<0){for(var b in h){m=O(O({},m),w(h[b]))}}else{m=g.reduce(function(e,t){for(var i=0;i<(t===null||t===void 0?void 0:(r=t.Target)===null||r===void 0?void 0:(n=r.$target)===null||n===void 0?void 0:(a=n.Data)===null||a===void 0?void 0:a.length);i++){var r,n,a,o,l,v,u,s,d;e[t===null||t===void 0?void 0:(o=t.Target)===null||o===void 0?void 0:(l=o.$target)===null||l===void 0?void 0:(v=l.Data[i])===null||v===void 0?void 0:(u=v.Value)===null||u===void 0?void 0:u.path]={group:t===null||t===void 0?void 0:(s=t.ID)===null||s===void 0?void 0:s.toString(),groupLabel:t===null||t===void 0?void 0:(d=t.Label)===null||d===void 0?void 0:d.toString()}}return e},{})}var P=l.filterFields;var S=p.concat(Object.keys(P).filter(function(e){return!(e in y)}).map(function(e){return Object.assign(P[e],m[e])}));var E=e.getContextPath();if(R(r,E)){var T=r[0].aggregates;if(T){var x=Object.keys(T).map(function(e){return T[e].relativePath});S=S.filter(function(e){return x.indexOf(e.key)===-1})}}var D=ve(S,s,e);var I=F(e);D.forEach(function(e){e.caseSensitive=I});return{selectionFields:D,sPropertyInfo:f}};u.getSelectionFields=ue;var se=function(e,t,i){var r=G(t,"RequiredProperties");var n=Q(e);var a=Boolean(n&&!n.Searchable);var o=i.getObject();if(r.length>0||a||(o===null||o===void 0?void 0:o.FetchValues)===2){return true}return false};u.getExpandFilterFields=se;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ListReport/VisualFilters", ["sap/fe/core/converters/helpers/Aggregation","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/FilterTemplating"],function(e,t,i,o,n,a){"use strict";var r={};var l=a.isPropertyFilterable;var v=a.getIsRequired;var u=n.checkFilterExpressionRestrictions;var d=i.compileExpression;var s=t.IssueType;var f=t.IssueSeverity;var g=t.IssueCategory;var c=e.AggregationHelper;function p(e,t){var i=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=y(e))||t&&e&&typeof e.length==="number"){if(i)e=i;var o=0;var n=function(){};return{s:n,n:function(){if(o>=e.length)return{done:true};return{done:false,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,r=false,l;return{s:function(){i=i.call(e)},n:function(){var e=i.next();a=e.done;return e},e:function(e){r=true;l=e},f:function(){try{if(!a&&i.return!=null)i.return()}finally{if(r)throw l}}}}function y(e,t){if(!e)return;if(typeof e==="string")return h(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return h(e,t)}function h(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,o=new Array(t);i<t;i++){o[i]=e[i]}return o}var m=function(e,t,i){var o,n,a,r;var l,v,u;var d;var s=i.getCustomAggregateDefinitions();var f=i.getTransAggregations();var g=[];if(t!==null&&t!==void 0&&(o=t.$target)!==null&&o!==void 0&&o.Measures){var c,y,h;g=s.filter(function(e){var i,o,n;return e.qualifier===(t===null||t===void 0?void 0:(i=t.$target)===null||i===void 0?void 0:(o=i.Measures)===null||o===void 0?void 0:(n=o[0])===null||n===void 0?void 0:n.value)});d=g.length>0?g[0].qualifier:t===null||t===void 0?void 0:(c=t.$target)===null||c===void 0?void 0:(y=c.Measures)===null||y===void 0?void 0:(h=y[0])===null||h===void 0?void 0:h.value}if(!g[0]&&t!==null&&t!==void 0&&(n=t.$target)!==null&&n!==void 0&&n.DynamicMeasures){var m,P;d=e.getConverterContextFor(e.getAbsoluteAnnotationPath((m=t.$target.DynamicMeasures)===null||m===void 0?void 0:(P=m[0])===null||P===void 0?void 0:P.value)).getDataModelObjectPath().targetObject.Name;f=i.getAggregatedProperties("AggregatedProperty")}else{f=i.getAggregatedProperties("AggregatedProperties")[0]}var A=t===null||t===void 0?void 0:(a=t.$target)===null||a===void 0?void 0:(r=a.Dimensions[0])===null||r===void 0?void 0:r.value;if(s.some(function(e){return e.qualifier===d})){l=d}else if(f&&f[0]){f.some(function(e){if(e.Name===d){l=e===null||e===void 0?void 0:e.AggregatableProperty.value}})}var b=i.getAggregatableProperties();var I=i.getGroupableProperties();if(b&&b.length){var E=p(b),C;try{for(E.s();!(C=E.n()).done;){var S;var L=C.value;if((L===null||L===void 0?void 0:(S=L.Property)===null||S===void 0?void 0:S.value)===l){u=true}}}catch(e){E.e(e)}finally{E.f()}}if(I&&I.length){var D=p(I),O;try{for(D.s();!(O=D.n()).done;){var T=O.value;if((T===null||T===void 0?void 0:T.value)===A){v=true}}}catch(e){D.e(e)}finally{D.f()}}return u&&v};function P(e,t,i,n){var a;var r={};var y=n[i];if(y!==null&&y!==void 0&&(a=y.visualFilter)!==null&&a!==void 0&&a.valueList){var h,P;var A=y===null||y===void 0?void 0:(h=y.visualFilter)===null||h===void 0?void 0:h.valueList;var b=A.split("#");var I=b.length>1?"ValueList#".concat(b[1]):b[0];var E=e.resolvePath(i);var C=E===null||E===void 0?void 0:(P=E.annotations)===null||P===void 0?void 0:P.Common[I];if(C){var S,L;var D=C===null||C===void 0?void 0:C.CollectionPath;var O=t.getConverterContextFor("/".concat(D||((S=t.getEntitySet())===null||S===void 0?void 0:S.name)));var T=C===null||C===void 0?void 0:C.Parameters;var M;var F=[];var V=[];var R=O.getParameterEntityType();V=R?R.keys.map(function(e){return e.name}):[];if(t.getContextPath()===O.getContextPath()){V.forEach(function(e){F.push({localDataProperty:e,valueListProperty:e})})}if(T){var $=p(T),w;try{for($.s();!(w=$.n()).done;){var x;var N=w.value;var U=(x=N.LocalDataProperty)===null||x===void 0?void 0:x.value;var j=N.ValueListProperty;if(((N===null||N===void 0?void 0:N.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||(N===null||N===void 0?void 0:N.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterOut")&&i===U){M=N}if(((N===null||N===void 0?void 0:N.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||(N===null||N===void 0?void 0:N.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterIn")&&i!==U){var H=l(O,j);if(!H){F.push({localDataProperty:U,valueListProperty:j})}}}}catch(e){$.e(e)}finally{$.f()}}if(F&&F.length){F.forEach(function(e){var o=d(u(t.getConverterContextFor(t.getAbsoluteAnnotationPath(e===null||e===void 0?void 0:e.localDataProperty)).getDataModelObjectPath(),["SingleValue"]));var n=d(u(O.getConverterContextFor(O.getAbsoluteAnnotationPath(e===null||e===void 0?void 0:e.valueListProperty)).getDataModelObjectPath(),["SingleValue"]));if(n==="true"&&o==="false"){throw new Error("FilterRestrictions of ".concat(i," in MainEntitySet and ValueListEntitySet are different"))}})}var q=C===null||C===void 0?void 0:C.PresentationVariantQualifier;var k=C===null||C===void 0?void 0:C.SelectionVariantQualifier;var Q=O===null||O===void 0?void 0:(L=O.getEntityTypeAnnotation("@UI.PresentationVariant#".concat(q)))===null||L===void 0?void 0:L.annotation;var _=new c(O.getEntityType(),O);if(!_.isAnalyticsSupported()){return}if(Q){var z;var B=Q===null||Q===void 0?void 0:Q.Visualizations;var G="/".concat(C===null||C===void 0?void 0:C.CollectionPath)||"/".concat(O===null||O===void 0?void 0:(z=O.getEntitySet())===null||z===void 0?void 0:z.name);r.contextPath=G;var J;var K=p(B),W;try{for(K.s();!(W=K.n()).done;){var X;var Y=W.value;if(((X=Y.$target)===null||X===void 0?void 0:X.term)==="com.sap.vocabularies.UI.v1.Chart"){J=Y;break}}}catch(e){K.e(e)}finally{K.f()}if(J){var Z,ee,te,ie,oe,ne,ae,re,le,ve,ue,de,se,fe;var ge=m(O,J,_);if(!ge){return}var ce=(Z=J)===null||Z===void 0?void 0:(ee=Z.$target)===null||ee===void 0?void 0:(te=ee.Dimensions[0])===null||te===void 0?void 0:(ie=te.$target)===null||ie===void 0?void 0:(oe=ie.annotations)===null||oe===void 0?void 0:(ne=oe.UI)===null||ne===void 0?void 0:(ae=ne.Hidden)===null||ae===void 0?void 0:ae.valueOf();var pe=(re=J)===null||re===void 0?void 0:(le=re.$target)===null||le===void 0?void 0:(ve=le.Dimensions[0])===null||ve===void 0?void 0:(ue=ve.$target)===null||ue===void 0?void 0:(de=ue.annotations)===null||de===void 0?void 0:(se=de.UI)===null||se===void 0?void 0:(fe=se.HiddenFilter)===null||fe===void 0?void 0:fe.valueOf();if(ce===true||pe===true){return}else if(B&&B.length){var ye,he,me,Pe,Ae,be,Ie,Ee;r.chartAnnotation=J?O===null||O===void 0?void 0:O.getAbsoluteAnnotationPath("".concat(J.fullyQualifiedName,"/$AnnotationPath/")):undefined;r.presentationAnnotation=Q?O===null||O===void 0?void 0:O.getAbsoluteAnnotationPath("".concat(Q.fullyQualifiedName,"/")):undefined;r.outParameter=(ye=M)===null||ye===void 0?void 0:(he=ye.LocalDataProperty)===null||he===void 0?void 0:he.value;r.inParameters=F;var Ce=u(t.getConverterContextFor(t.getAbsoluteAnnotationPath(i)).getDataModelObjectPath(),["SingleRange","MultiRange"]);if(d(Ce)==="true"){throw new Error("Range AllowedExpression is not supported for visual filters")}var Se=u(t.getConverterContextFor(t.getAbsoluteAnnotationPath(i)).getDataModelObjectPath(),["SingleValue"]);r.multipleSelectionAllowed=d(!Se.value);r.required=v(t,i);var Le;if(k){var De;Le=O===null||O===void 0?void 0:(De=O.getEntityTypeAnnotation("@UI.SelectionVariant#".concat(k)))===null||De===void 0?void 0:De.annotation;r.selectionVariantAnnotation=Le?O===null||O===void 0?void 0:O.getAbsoluteAnnotationPath("".concat(Le.fullyQualifiedName,"/")):undefined}var Oe=[];if(R){var Te,Me,Fe,Ve,Re;var $e=D.split("/")[0];var we=D.split("/")[1];var xe=t.getConverterContextFor("/".concat($e));var Ne=xe===null||xe===void 0?void 0:(Te=xe.getDataModelObjectPath().startingEntitySet)===null||Te===void 0?void 0:(Me=Te.annotations)===null||Me===void 0?void 0:(Fe=Me.Capabilities)===null||Fe===void 0?void 0:(Ve=Fe.NavigationRestrictions)===null||Ve===void 0?void 0:Ve.RestrictedProperties;var Ue=Ne===null||Ne===void 0?void 0:Ne.find(function(e){var t;if(((t=e.NavigationProperty)===null||t===void 0?void 0:t.type)==="NavigationPropertyPath"){return e.NavigationProperty.value===we}});Oe=Ue===null||Ue===void 0?void 0:(Re=Ue.FilterRestrictions)===null||Re===void 0?void 0:Re.RequiredProperties}else{var je;var He=(je=O.getEntitySet())===null||je===void 0?void 0:je.annotations;if(!o.isSingleton(O.getEntitySet())){var qe,ke;Oe=He===null||He===void 0?void 0:(qe=He.Capabilities)===null||qe===void 0?void 0:(ke=qe.FilterRestrictions)===null||ke===void 0?void 0:ke.RequiredProperties}}var Qe=[];if((me=Oe)!==null&&me!==void 0&&me.length){Oe.forEach(function(e){Qe.push(e.value)})}Qe=Qe.concat(V);r.requiredProperties=Qe;if((Pe=r.requiredProperties)!==null&&Pe!==void 0&&Pe.length){if(!r.inParameters||!r.inParameters.length){if(!r.selectionVariantAnnotation){r.showOverlayInitially=true}else{var _e,ze,Be,Ge;var Je=((_e=Le)===null||_e===void 0?void 0:(ze=_e.SelectOptions)===null||ze===void 0?void 0:ze.map(function(e){return e.PropertyName.value}))||[];var Ke=((Be=Le)===null||Be===void 0?void 0:(Ge=Be.Parameters)===null||Ge===void 0?void 0:Ge.map(function(e){return e.PropertyName.value}))||[];Je=Je.concat(Ke);Qe=Qe.sort();Je=Je.sort();r.showOverlayInitially=Qe.some(function(e){return Je.indexOf(e)===-1})}}else{r.showOverlayInitially=false}}else{r.showOverlayInitially=false}var We=(Ae=J)===null||Ae===void 0?void 0:(be=Ae.$target)===null||be===void 0?void 0:(Ie=be.Dimensions[0])===null||Ie===void 0?void 0:(Ee=Ie.$target)===null||Ee===void 0?void 0:Ee.type;if(!(We==="Edm.DateTimeOffset"||We==="Edm.Date"||We==="Edm.TimeOfDay")&&J.$target.ChartType==="UI.ChartType/Line"){r.renderLineChart=false}else{r.renderLineChart=true}}}else{t.getDiagnostics().addIssue(g.Annotation,f.High,s.MALFORMED_VISUALFILTERS.CHART)}}else{t.getDiagnostics().addIssue(g.Annotation,f.High,s.MALFORMED_VISUALFILTERS.PRESENTATIONVARIANT)}}else{t.getDiagnostics().addIssue(g.Annotation,f.High,s.MALFORMED_VISUALFILTERS.VALUELIST)}}else{t.getDiagnostics().addIssue(g.Manifest,f.High,s.MALFORMED_VISUALFILTERS.VALUELIST)}if(Object.keys(r).length>1){return r}}r.getVisualFilters=P;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ObjectPage/Avatar", ["sap/fe/core/helpers/BindingToolkit"],function(e){"use strict";var n={};var r=e.getExpressionFromAnnotation;var i=e.compileExpression;var a;(function(e){e["Circle"]="Circle";e["Square"]="Square"})(a||(a={}));var o=function(e){var n,r;return((n=e.getEntityType().annotations.Common)===null||n===void 0?void 0:(r=n.IsNaturalPerson)===null||r===void 0?void 0:r.valueOf())===true};var t=function(e){var n,a;var t=(n=e.getEntityType().annotations)===null||n===void 0?void 0:(a=n.UI)===null||a===void 0?void 0:a.HeaderInfo;if(!t||t&&!t.ImageUrl&&!t.TypeImageUrl){return undefined}if(t.ImageUrl&&t.TypeImageUrl){return i(r(t.TypeImageUrl))}return i(o(e)?"sap-icon://person-placeholder":"sap-icon://product")};var l=function(e){var n,a;var o=(n=e.getEntityType().annotations)===null||n===void 0?void 0:(a=n.UI)===null||a===void 0?void 0:a.HeaderInfo;if(!o||!(o.ImageUrl||o.TypeImageUrl)){return undefined}return i(r(o.ImageUrl||o.TypeImageUrl))};var u=function(e){var n,u;var v=(n=e.getEntityType().annotations)===null||n===void 0?void 0:(u=n.UI)===null||u===void 0?void 0:u.HeaderInfo;var d=v&&(v.ImageUrl||v.TypeImageUrl||v.Initials);if(!d){return undefined}return{src:l(e),initials:i(r((v===null||v===void 0?void 0:v.Initials)||"")),fallbackIcon:t(e),displayShape:i(o(e)?a.Circle:a.Square)}};n.getAvatar=u;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ObjectPage/HeaderFacet", ["sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/ID","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","../../../helpers/StableIdHelper","../../helpers/DataFieldHelper","../Common/Form"],function(e,t,a,i,n,o,r,l){"use strict";var v={};var d=l.getFormElementsFromManifest;var u=l.FormElementType;var c=r.isReferencePropertyStaticallyHidden;var s=r.isAnnotationFieldStaticallyHidden;var f=o.generate;var p=n.not;var b=n.getExpressionFromAnnotation;var g=n.equal;var m=n.compileExpression;var y=i.KeyHelper;var F=a.getHeaderFacetID;var I=a.getHeaderFacetFormID;var h=a.getHeaderFacetContainerID;var T=a.getCustomHeaderFacetID;var P=t.Placement;var U=t.insertCustomElements;var D=e.getSemanticObjectPath;function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach(function(t){C(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function C(e,t,a){t=A(t);if(t in e){Object.defineProperty(e,t,{value:a,enumerable:true,configurable:true,writable:true})}else{e[t]=a}return e}function A(e){var t=S(e,"string");return typeof t==="symbol"?t:String(t)}function S(e,t){if(typeof e!=="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var i=a.call(e,t||"default");if(typeof i!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H;(function(e){e["Annotation"]="Annotation";e["XMLFragment"]="XMLFragment"})(H||(H={}));v.HeaderFacetType=H;var j;(function(e){e["Reference"]="Reference";e["Collection"]="Collection"})(j||(j={}));v.FacetType=j;var E;(function(e){e["Default"]="Default";e["NotAdaptable"]="not-adaptable";e["NotAdaptableTree"]="not-adaptable-tree";e["NotAdaptableVisibility"]="not-adaptable-visibility"})(E||(E={}));v.FlexDesignTimeType=E;var N;(function(e){e["ProgressIndicator"]="ProgressIndicator";e["RatingIndicator"]="RatingIndicator";e["Content"]="Content"})(N||(N={}));var R;(function(e){e["None"]="None";e["DataPoint"]="DataPoint";e["Chart"]="Chart";e["Identification"]="Identification";e["Contact"]="Contact";e["Address"]="Address";e["FieldGroup"]="FieldGroup"})(R||(R={}));function k(e){var t,a,i;var n=[];(t=e.getEntityType().annotations)===null||t===void 0?void 0:(a=t.UI)===null||a===void 0?void 0:(i=a.HeaderFacets)===null||i===void 0?void 0:i.forEach(function(t){var a=z(t,e);if(a){n.push(a)}});return n}v.getHeaderFacetsFromAnnotations=k;function w(e){var t={};Object.keys(e).forEach(function(a){var i=e[a];t[a]=q(i,a)});return t}v.getHeaderFacetsFromManifest=w;function x(e,t,a){var i;if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&t.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){return false}var n=f([{Facet:e}]);var o=a.getManifestWrapper().getHeaderFacets();var r=(i=o[n])===null||i===void 0?void 0:i.stashed;return r===true}v.getStashedSettingsForHeaderFacet=x;function L(e,t,a){var i=E.Default;var n=f([{Facet:e}]);if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&t.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){i=E.NotAdaptableTree}else{var o=a.getManifestWrapper().getHeaderFacets();if(n){var r,l;var v=(r=o[n])===null||r===void 0?void 0:(l=r.flexSettings)===null||l===void 0?void 0:l.designtime;switch(v){case E.NotAdaptable:case E.NotAdaptableTree:case E.NotAdaptableVisibility:i=v;break;default:break}}}return i}v.getDesignTimeMetadataSettingsForHeaderFacet=L;function V(e,t,a){var i,n,o;if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&!(((i=e.annotations)===null||i===void 0?void 0:(n=i.UI)===null||n===void 0?void 0:(o=n.Hidden)===null||o===void 0?void 0:o.valueOf())===true)){var r,l;var v=F({Facet:e}),d=function(e,t){var a,i;return((a=e.ID)===null||a===void 0?void 0:a.toString())||((i=e.Label)===null||i===void 0?void 0:i.toString())||t},u=e.Target.value,c=B(e);var f;var y;switch(c){case R.FieldGroup:f=G(e,a);break;case R.DataPoint:y=Q(e,a);break;default:break}var I=e.annotations;if(((r=e.Target)===null||r===void 0?void 0:(l=r.$target)===null||l===void 0?void 0:l.term)==="com.sap.vocabularies.UI.v1.Chart"&&s(e)){return undefined}else{var T,P;return{type:H.Annotation,facetType:j.Reference,id:v,containerId:h({Facet:e}),key:d(e,v),flexSettings:{designtime:L(e,t,a)},stashed:x(e,t,a),visible:m(p(g(b(I===null||I===void 0?void 0:(T=I.UI)===null||T===void 0?void 0:(P=T.Hidden)===null||P===void 0?void 0:P.valueOf()),true))),annotationPath:"".concat(a.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),"/"),targetAnnotationValue:u,targetAnnotationType:c,headerFormData:f,headerDataPointData:y}}}return undefined}function M(e,t){if(e.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){var a,i,n;var o=[],r=F({Facet:e}),l=function(e,t){var a,i;return((a=e.ID)===null||a===void 0?void 0:a.toString())||((i=e.Label)===null||i===void 0?void 0:i.toString())||t};e.Facets.forEach(function(a){var i=V(a,e,t);if(i){o.push(i)}});return{type:H.Annotation,facetType:j.Collection,id:r,containerId:h({Facet:e}),key:l(e,r),flexSettings:{designtime:L(e,e,t)},stashed:x(e,e,t),visible:m(p(g(b((a=e.annotations)===null||a===void 0?void 0:(i=a.UI)===null||i===void 0?void 0:(n=i.Hidden)===null||n===void 0?void 0:n.valueOf()),true))),annotationPath:"".concat(t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),"/"),facets:o}}return undefined}function B(e){var t=R.None;var a={"com.sap.vocabularies.UI.v1.DataPoint":R.DataPoint,"com.sap.vocabularies.UI.v1.Chart":R.Chart,"com.sap.vocabularies.UI.v1.Identification":R.Identification,"com.sap.vocabularies.Communication.v1.Contact":R.Contact,"com.sap.vocabularies.Communication.v1.Address":R.Address,"com.sap.vocabularies.UI.v1.FieldGroup":R.FieldGroup};if(e.$Type!=="com.sap.vocabularies.UI.v1.ReferenceURLFacet"&&e.$Type!=="com.sap.vocabularies.UI.v1.CollectionFacet"){var i,n;t=a[(i=e.Target)===null||i===void 0?void 0:(n=i.$target)===null||n===void 0?void 0:n.term]||R.None}return t}function G(e,t){var a;if(!e){throw new Error("Cannot get FieldGroup form data without facet definition")}var i=U(W(e,t),d(e,t));return{id:I({Facet:e}),label:(a=e.Label)===null||a===void 0?void 0:a.toString(),formElements:i}}function W(e,t){var a=[];if(e.$Type!=="com.sap.vocabularies.UI.v1.ReferenceURLFacet"&&e.$Type!=="com.sap.vocabularies.UI.v1.CollectionFacet"){var i,n;(i=e.Target)===null||i===void 0?void 0:(n=i.$target)===null||n===void 0?void 0:n.Data.forEach(function(i){var n,o,r;if(!(((n=i.annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:(r=o.Hidden)===null||r===void 0?void 0:r.valueOf())===true)){var l=D(t,i);if((i.$Type==="com.sap.vocabularies.UI.v1.DataField"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")&&!c(i)){var v,d,s,f,F,h,T,P,U,O,$;var C=i.annotations;a.push({isValueMultilineText:((v=i.Value)===null||v===void 0?void 0:(d=v.$target)===null||d===void 0?void 0:(s=d.annotations)===null||s===void 0?void 0:(f=s.UI)===null||f===void 0?void 0:(F=f.MultiLineText)===null||F===void 0?void 0:F.valueOf())===true,type:u.Annotation,key:y.generateKeyFromDataField(i),visible:m(p(g(b(C===null||C===void 0?void 0:(h=C.UI)===null||h===void 0?void 0:(T=h.Hidden)===null||T===void 0?void 0:T.valueOf()),true))),label:((P=i.Value)===null||P===void 0?void 0:(U=P.$target)===null||U===void 0?void 0:(O=U.annotations)===null||O===void 0?void 0:($=O.Common)===null||$===void 0?void 0:$.Label)||i.Label,idPrefix:I({Facet:e},i),annotationPath:"".concat(t.getEntitySetBasedAnnotationPath(i.fullyQualifiedName),"/"),semanticObjectPath:l})}else if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&!c(i)){var A,S,H,j,E,N,R,k,w,x,L,V,M;var B=i.annotations;a.push({isValueMultilineText:((A=i.Target)===null||A===void 0?void 0:(S=A.$target)===null||S===void 0?void 0:(H=S.annotations)===null||H===void 0?void 0:(j=H.UI)===null||j===void 0?void 0:(E=j.MultiLineText)===null||E===void 0?void 0:E.valueOf())===true,type:u.Annotation,key:y.generateKeyFromDataField(i),visible:m(p(g(b(B===null||B===void 0?void 0:(N=B.UI)===null||N===void 0?void 0:(R=N.Hidden)===null||R===void 0?void 0:R.valueOf()),true))),label:((k=i.Target)===null||k===void 0?void 0:(w=k.$target)===null||w===void 0?void 0:(x=w.annotations)===null||x===void 0?void 0:(L=x.Common)===null||L===void 0?void 0:(V=L.Label)===null||V===void 0?void 0:V.toString())||((M=i.Label)===null||M===void 0?void 0:M.toString()),idPrefix:I({Facet:e},i),annotationPath:"".concat(t.getEntitySetBasedAnnotationPath(i.fullyQualifiedName),"/"),semanticObjectPath:l})}}})}return a}function Q(e,t){var a=N.Content;var i;if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&!s(e)){var n,o,r,l,v;if(((n=e.Target)===null||n===void 0?void 0:(o=n.$target)===null||o===void 0?void 0:o.Visualization)==="UI.VisualizationType/Progress"){a=N.ProgressIndicator}else if(((r=e.Target)===null||r===void 0?void 0:(l=r.$target)===null||l===void 0?void 0:l.Visualization)==="UI.VisualizationType/Rating"){a=N.RatingIndicator}var d=(v=e.Target)===null||v===void 0?void 0:v.$target;if(typeof d==="object"){var u;if(d!==null&&d!==void 0&&(u=d.Value)!==null&&u!==void 0&&u.$target){var c,f;var p=d.Value.$target;if((p===null||p===void 0?void 0:(c=p.annotations)===null||c===void 0?void 0:(f=c.Common)===null||f===void 0?void 0:f.SemanticObject)!==undefined){i=t.getEntitySetBasedAnnotationPath(p===null||p===void 0?void 0:p.fullyQualifiedName)}}}}return{type:a,semanticObjectPath:i}}function z(e,t){var a;switch(e.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":a=V(e,e,t);break;case"com.sap.vocabularies.UI.v1.CollectionFacet":a=M(e,t);break;default:break}return a}function K(e){if(!e){return undefined}var t=["Heroes","Decoration","Workers","LongRunners"].indexOf(e)!==-1?"$auto.".concat(e):e;return"{ path : '', parameters : { $$groupId : '".concat(t,"' } }")}function q(e,t){var a=T(t);var i=e.position;if(!i){i={placement:P.After}}return{facetType:j.Reference,facets:[],type:e.type,id:a,containerId:a,key:t,position:i,visible:e.visible,fragmentName:e.template||e.name,title:e.title,subTitle:e.subTitle,stashed:e.stashed||false,flexSettings:$($({},{designtime:E.Default}),e.flexSettings),binding:K(e.requestGroupId),templateEdit:e.templateEdit}}return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ObjectPage/SubSection", ["sap/base/Log","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/controls/ObjectPage/HeaderFacet","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/PropertyHelper","../../helpers/ConfigurableObject","../../helpers/ID","../../ManifestSettings","../../objectPage/FormMenuActions","../Common/DataVisualization","../Common/Form"],function(e,t,n,a,i,r,o,l,u,c,s,v,d){"use strict";var f={};var p=d.isReferenceFacet;var m=d.createFormDefinition;var b=v.getDataVisualizationConfiguration;var g=s.getVisibilityEnablementFormMenuActions;var y=s.getFormHiddenActions;var I=s.getFormActions;var h=c.ActionType;var F=u.getSubSectionID;var S=u.getSideContentID;var A=u.getFormID;var U=u.getCustomSubSectionID;var O=l.Placement;var D=l.insertCustomElements;var T=o.isPathExpression;var C=r.ref;var w=r.pathInModel;var E=r.not;var P=r.ifElse;var k=r.getExpressionFromAnnotation;var M=r.fn;var j=r.equal;var L=r.compileExpression;var x=r.and;var N=i.KeyHelper;var R=a.IssueType;var $=a.IssueSeverity;var V=a.IssueCategory;var H=n.getStashedSettingsForHeaderFacet;var B=n.getHeaderFacetsFromManifest;var _=n.getDesignTimeMetadataSettingsForHeaderFacet;var z=t.removeDuplicateActions;var G=t.isActionNavigable;var q=t.getSemanticObjectMapping;var X=t.getEnabledForAnnotationAction;var K=t.getActionsFromManifest;var Q=t.ButtonType;function W(e,t){return Z(e)||Y(e,t)||ue(e,t)||J()}function J(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Y(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r,o,l=[],u=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=r.call(n)).done)&&(l.push(a.value),l.length!==t);u=!0){}}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}function Z(e){if(Array.isArray(e))return e}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach(function(t){ne(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ne(e,t,n){t=ae(t);if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function ae(e){var t=ie(e,"string");return typeof t==="symbol"?t:String(t)}function ie(e,t){if(typeof e!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if(typeof a!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function re(e,t){var n=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ue(e))||t&&e&&typeof e.length==="number"){if(n)e=n;var a=0;var i=function(){};return{s:i,n:function(){if(a>=e.length)return{done:true};return{done:false,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,o=false,l;return{s:function(){n=n.call(e)},n:function(){var e=n.next();r=e.done;return e},e:function(e){o=true;l=e},f:function(){try{if(!r&&n.return!=null)n.return()}finally{if(o)throw l}}}}function oe(e){return se(e)||ce(e)||ue(e)||le()}function le(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ue(e,t){if(!e)return;if(typeof e==="string")return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}function ce(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function se(e){if(Array.isArray(e))return ve(e)}function ve(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,a=new Array(t);n<t;n++){a[n]=e[n]}return a}var de;(function(e){e["Unknown"]="Unknown";e["Form"]="Form";e["DataVisualization"]="DataVisualization";e["XMLFragment"]="XMLFragment";e["Placeholder"]="Placeholder";e["Mixed"]="Mixed"})(de||(de={}));f.SubSectionType=de;var fe=["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.Chart","com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant"];function pe(e,t,n){var a=e.reduce(function(e,t){switch(t.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":e.push(t);break;case"com.sap.vocabularies.UI.v1.CollectionFacet":if(t.Facets.find(function(e){return e.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"})){e.splice.apply(e,[e.length,0].concat(oe(t.Facets)))}else{e.push(t)}break;case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":break}return e},[]);return a.map(function(e){var i;return Fe(e,a,t,0,!(e!==null&&e!==void 0&&(i=e.Facets)!==null&&i!==void 0&&i.length),n)})}f.createSubSections=pe;function me(e){var t=B(e.getManifestWrapper().getHeaderFacets());var n=[];Object.keys(t).forEach(function(e){n.push(t[e]);return n});var a=n.reduce(function(e,t){if(t.templateEdit){e.push(t)}return e},[]);return a.map(function(e){return be(e)})}f.createCustomHeaderFacetSubSections=me;function be(e){var t=U(e.key);var n={id:t,key:e.key,title:e.title,type:de.XMLFragment,template:e.templateEdit||"",visible:e.visible,level:1,sideContent:undefined,stashed:e.stashed,flexSettings:e.flexSettings,actions:{}};return n}var ge=function(e,t){var n,a;return((n=e.ID)===null||n===void 0?void 0:n.toString())||((a=e.Label)===null||a===void 0?void 0:a.toString())||t};function ye(e,t,n){var a=y(t,n)||[],i=I(t,n),r=K(i,n,e,undefined,undefined,a),o=D(e,r.actions,{command:"overwrite"});return{actions:o?g(z(o)):e,commandActions:r.commandActions}}function Ie(e,t){var n=new Array;switch(e.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":n=e.Facets.filter(function(e){return p(e)}).reduce(function(e,n){return Ae(e,n,t)},[]);break;case"com.sap.vocabularies.UI.v1.ReferenceFacet":n=Ae([],e,t);break;default:break}return ye(n,e,t)}function he(e){var t=j(k(e),true);return L(P(t,Q.Ghost,Q.Transparent))}function Fe(t,n,a,i,r,o){var l,u,c,s,v;var d=F({Facet:t});var f=(l=t.annotations)===null||l===void 0?void 0:(u=l.UI)===null||u===void 0?void 0:u.Hidden;var p=E(j(true,k(f)));var g=L(p);var y=g!==undefined&&typeof g==="string"&&g.indexOf("{=")===0&&!T(f);var I=g&&y?g.substring(g.indexOf("{=")+2,g.lastIndexOf("}"))!==undefined:false;var h=L(k(t.Label));var S={id:d,key:ge(t,d),title:h,type:de.Unknown,annotationPath:a.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),visible:g,isVisibilityDynamic:y,level:i,sideContent:undefined};if(o){S.stashed=H(t,t,a);S.flexSettings={designtime:_(t,t,a)}}var A="";i++;switch(t.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":var U=t.Facets;var O=U.map(function(e,t){return{index:t,facet:e}}).filter(function(e){var t,n;var a=e.facet;return fe.includes((t=a.Target)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.term)});var D=U.filter(function(e){return!O.find(function(t){return t.facet===e})});if(O.length>0){var C=[];var w=[];var M=[];var N=re(O),R;try{for(N.s();!(R=N.n()).done;){var $=R.value.facet;C.push(Fe($,[],a,i,true,o))}}catch(e){N.e(e)}finally{N.f()}if(D.length>0){e.warning("Warning: CollectionFacet '".concat(t.ID,"' includes a combination of either a chart or a table and other content. This can lead to rendering issues. Consider moving the chart or table into a separate CollectionFacet."));t.Facets=D;w.push(Fe(t,[],a,i,r,o))}if(O.find(function(e){var t=e.index;return t===0})){M.push.apply(M,C);M.push.apply(M,w)}else{M.push.apply(M,w);M.push.apply(M,C)}var V=te(te({},S),{},{type:de.Mixed,level:i,content:M});return V}else{var B=Ie(t,a),z=te(te({},S),{},{type:de.Form,formDefinition:m(t,g,a,B.actions),level:i,actions:B.actions.filter(function(e){return e.facetName===undefined}),commandActions:B.commandActions});return z}case"com.sap.vocabularies.UI.v1.ReferenceFacet":if(!t.Target.$target){A="Unable to find annotationPath ".concat(t.Target.value)}else{switch(t.Target.$target.term){case"com.sap.vocabularies.UI.v1.LineItem":case"com.sap.vocabularies.UI.v1.Chart":case"com.sap.vocabularies.UI.v1.PresentationVariant":case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":var G=b(t.Target.value,Te(t,n,a),a,undefined,o);var q=((c=G.visualizations[0])===null||c===void 0?void 0:(s=c.annotation)===null||s===void 0?void 0:s.title)||((v=G.visualizations[0])===null||v===void 0?void 0:v.title);var X=Se(r,S.title,q);var K=P(y,x(I,E(j(h,"undefined")),X),x(g!==undefined,h!=="undefined",h!==undefined,p,X));var Q=te(te({},S),{},{type:de.DataVisualization,level:i,presentation:G,showTitle:X,titleVisible:L(K)});return Q;case"com.sap.vocabularies.UI.v1.FieldGroup":case"com.sap.vocabularies.UI.v1.Identification":case"com.sap.vocabularies.UI.v1.DataPoint":case"com.sap.vocabularies.UI.v1.StatusInfo":case"com.sap.vocabularies.Communication.v1.Contact":var W=Ie(t,a),J=te(te({},S),{},{type:de.Form,level:i,formDefinition:m(t,g,a,W.actions),actions:W.actions.filter(function(e){return e.facetName===undefined}),commandActions:W.commandActions});return J;default:A="For ".concat(t.Target.$target.term," Fragment");break}}break;case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":A="For Reference URL Facet";break;default:break}var Y=te(te({},S),{},{text:A});return Y}f.createSubSection=Fe;function Se(e,t,n){if(e&&n===t){return false}return true}function Ae(e,t,n){var a=t.Target.$target;var i=t.Target.value;var r={};var o=[];var l=i.split("@"),u=W(l,1),c=u[0];if(c.length>0){if(c.lastIndexOf("/")===c.length-1){c=c.substr(0,c.length-1)}}else{c=undefined}if(a){switch(a.term){case"com.sap.vocabularies.UI.v1.FieldGroup":o=a.Data;r=K(n.getManifestControlConfiguration(a).actions,n,undefined,undefined,undefined,undefined,t.fullyQualifiedName).actions;break;case"com.sap.vocabularies.UI.v1.Identification":case"com.sap.vocabularies.UI.v1.StatusInfo":if(a.qualifier){o=a}break;default:break}}e=o.reduce(function(e,i){var r,o,l,u,s,v,d,f,p,m,b,g,y,I,F,S;switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":if(((r=i.RequiresContext)===null||r===void 0?void 0:r.valueOf())===true){n.getDiagnostics().addIssue(V.Annotation,$.Low,R.MALFORMED_DATAFIELD_FOR_IBN.REQUIRESCONTEXT)}if(((o=i.Inline)===null||o===void 0?void 0:o.valueOf())===true){n.getDiagnostics().addIssue(V.Annotation,$.Low,R.MALFORMED_DATAFIELD_FOR_IBN.INLINE)}if(((l=i.Determining)===null||l===void 0?void 0:l.valueOf())===true){n.getDiagnostics().addIssue(V.Annotation,$.Low,R.MALFORMED_DATAFIELD_FOR_IBN.DETERMINING)}var U={};if(i.Mapping){U.semanticObjectMapping=q(i.Mapping)}e.push({type:h.DataFieldForIntentBasedNavigation,id:A({Facet:t},i),key:N.generateKeyFromDataField(i),text:(u=i.Label)===null||u===void 0?void 0:u.toString(),annotationPath:"",enabled:i.NavigationAvailable!==undefined?L(j(k((s=i.NavigationAvailable)===null||s===void 0?void 0:s.valueOf()),true)):"true",visible:L(E(j(k((v=i.annotations)===null||v===void 0?void 0:(d=v.UI)===null||d===void 0?void 0:(f=d.Hidden)===null||f===void 0?void 0:f.valueOf()),true))),buttonType:he((p=i.annotations)===null||p===void 0?void 0:(m=p.UI)===null||m===void 0?void 0:m.Emphasized),press:L(M("._intentBasedNavigation.navigate",[k(i.SemanticObject),k(i.Action),U])),customData:L({semanticObject:k(i.SemanticObject),action:k(i.Action)})});break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":var O=n.getManifestControlConfiguration(a).actions;var D=N.generateKeyFromDataField(i);e.push({type:h.DataFieldForAction,id:A({Facet:t},i),key:D,text:(b=i.Label)===null||b===void 0?void 0:b.toString(),annotationPath:"",enabled:X(n,i.ActionTarget),binding:c?"{ 'path' : '".concat(c,"'}"):undefined,visible:L(E(j(k((g=i.annotations)===null||g===void 0?void 0:(y=g.UI)===null||y===void 0?void 0:(I=y.Hidden)===null||I===void 0?void 0:I.valueOf()),true))),requiresDialog:Ue(i.ActionTarget),buttonType:he((F=i.annotations)===null||F===void 0?void 0:(S=F.UI)===null||S===void 0?void 0:S.Emphasized),press:L(M("invokeAction",[i.Action,{contexts:M("getBindingContext",[],w("","$source")),invocationGrouping:i.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated",label:k(i.Label),model:M("getModel",[],w("/","$source")),isNavigable:G(O&&O[D])}],C(".editFlow"))),facetName:i.Inline?t.fullyQualifiedName:undefined});break;default:break}return e},e);return D(e,r)}function Ue(e){if(e){var t,n;var a=(t=e.annotations)===null||t===void 0?void 0:(n=t.Common)===null||n===void 0?void 0:n.IsActionCritical;if(e.parameters.length>1||a){return"Dialog"}else{return"None"}}else{return"None"}}f.isDialog=Ue;function Oe(e,t){var n={};Object.keys(e).forEach(function(a){return n[a]=De(e[a],a,t)});return n}f.createCustomSubSections=Oe;function De(e,t,n){var a=e.sideContent?{template:e.sideContent.template,id:S(t),visible:false,equalSplit:e.sideContent.equalSplit}:undefined;var i=e.position;if(!i){i={placement:O.After}}var r=e.visible!==undefined?e.visible:true;var o=r&&typeof r==="string"&&r.indexOf("{=")===0;var l=K(e.actions,n);var u={type:de.Unknown,id:e.id||U(t),actions:l.actions,key:t,title:e.title,level:1,position:i,visible:e.visible!==undefined?e.visible:true,sideContent:a,isVisibilityDynamic:o};if(e.template||e.name){u.type=de.XMLFragment;u.template=e.template||e.name||""}else{u.type=de.Placeholder}return u}f.createCustomSubSection=De;function Te(e,t,n){var a=n.getManifestWrapper();if(a.useIconTabBar()){return Ce(e,t)}else{var i,r,o,l,u,c;var s=n.getEntityType();if((i=s.annotations)!==null&&i!==void 0&&(r=i.UI)!==null&&r!==void 0&&(o=r.Facets)!==null&&o!==void 0&&o.length&&((l=s.annotations)===null||l===void 0?void 0:(u=l.UI)===null||u===void 0?void 0:(c=u.Facets)===null||c===void 0?void 0:c.length)>1){return Ce(e,t)}else{return true}}}function Ce(e,t){return t.every(function(t){if(t!==e){if(t.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){var n,a,i,r,o;var l=t;if(((n=l.Target)===null||n===void 0?void 0:(a=n.$target)===null||a===void 0?void 0:a.term)==="com.sap.vocabularies.UI.v1.LineItem"||((i=l.Target)===null||i===void 0?void 0:(r=i.$target)===null||r===void 0?void 0:r.term)==="com.sap.vocabularies.UI.v1.PresentationVariant"||((o=l.Target.$target)===null||o===void 0?void 0:o.term)==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){var u,c,s,v;return((u=l.annotations)===null||u===void 0?void 0:(c=u.UI)===null||c===void 0?void 0:c.Hidden)!==undefined?(s=l.annotations)===null||s===void 0?void 0:(v=s.UI)===null||v===void 0?void 0:v.Hidden:false}return true}else{var d=t;return d.Facets.every(function(e){var t,n,a,i,r,o;var l=e;if(((t=l.Target)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.term)==="com.sap.vocabularies.UI.v1.LineItem"||((a=l.Target)===null||a===void 0?void 0:(i=a.$target)===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.UI.v1.PresentationVariant"||((r=l.Target)===null||r===void 0?void 0:(o=r.$target)===null||o===void 0?void 0:o.term)==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){var u,c,s,v;return((u=l.annotations)===null||u===void 0?void 0:(c=u.UI)===null||c===void 0?void 0:c.Hidden)!==undefined?(s=l.annotations)===null||s===void 0?void 0:(v=s.UI)===null||v===void 0?void 0:v.Hidden:false}return true})}}return true})}return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/Aggregation", ["sap/fe/core/helpers/ModelHelper"],function(t){"use strict";var e={};var n=function(){function n(t,e){var n,o,i,r;this._entityType=t;this._converterContext=e;this._oAggregationAnnotationTarget=this._determineAggregationAnnotationTarget();if(((n=this._oAggregationAnnotationTarget)===null||n===void 0?void 0:n._type)==="NavigationProperty"){var g,a;this.oTargetAggregationAnnotations=(g=this._oAggregationAnnotationTarget)===null||g===void 0?void 0:(a=g.annotations)===null||a===void 0?void 0:a.Aggregation}else if(((o=this._oAggregationAnnotationTarget)===null||o===void 0?void 0:o._type)==="EntityType"){var l,s;this.oTargetAggregationAnnotations=(l=this._oAggregationAnnotationTarget)===null||l===void 0?void 0:(s=l.annotations)===null||s===void 0?void 0:s.Aggregation}else if(((i=this._oAggregationAnnotationTarget)===null||i===void 0?void 0:i._type)==="EntitySet"){var u,p;this.oTargetAggregationAnnotations=(u=this._oAggregationAnnotationTarget)===null||u===void 0?void 0:(p=u.annotations)===null||p===void 0?void 0:p.Aggregation}this._bApplySupported=(r=this.oTargetAggregationAnnotations)!==null&&r!==void 0&&r.ApplySupported?true:false;if(this._bApplySupported){var A,v,d,y;this._aGroupableProperties=(A=this.oTargetAggregationAnnotations)===null||A===void 0?void 0:(v=A.ApplySupported)===null||v===void 0?void 0:v.GroupableProperties;this._aAggregatableProperties=(d=this.oTargetAggregationAnnotations)===null||d===void 0?void 0:(y=d.ApplySupported)===null||y===void 0?void 0:y.AggregatableProperties;this.oContainerAggregationAnnotation=e.getEntityContainer().annotations.Aggregation}}e.AggregationHelper=n;var o=n.prototype;o._determineAggregationAnnotationTarget=function e(){var n,o,i,r,g;var a=(n=this._converterContext.getDataModelObjectPath())!==null&&n!==void 0&&(o=n.targetEntitySet)!==null&&o!==void 0&&(i=o.entityType)!==null&&i!==void 0&&(r=i.annotations)!==null&&r!==void 0&&(g=r.Common)!==null&&g!==void 0&&g.ResultContext?true:false;var l;if(a){var s,u,p,A;var v=this._converterContext.getDataModelObjectPath();var d=v===null||v===void 0?void 0:v.targetObject;var y=v===null||v===void 0?void 0:v.targetEntityType;if(d!==null&&d!==void 0&&(s=d.annotations)!==null&&s!==void 0&&(u=s.Aggregation)!==null&&u!==void 0&&u.ApplySupported){l=d}else if(y!==null&&y!==void 0&&(p=y.annotations)!==null&&p!==void 0&&(A=p.Aggregation)!==null&&A!==void 0&&A.ApplySupported){l=y}}else{var f,h;var c=this._converterContext.getEntitySet();if(!t.isSingleton(c)&&c!==null&&c!==void 0&&(f=c.annotations)!==null&&f!==void 0&&(h=f.Aggregation)!==null&&h!==void 0&&h.ApplySupported){l=c}else{l=this._converterContext.getEntityType()}}return l};o.isAnalyticsSupported=function t(){return this._bApplySupported};o.isPropertyGroupable=function t(e){if(!this._bApplySupported){return undefined}else if(!this._aGroupableProperties||this._aGroupableProperties.length===0){return true}else{return this._aGroupableProperties.findIndex(function(t){return t.$target.fullyQualifiedName===e.fullyQualifiedName})>=0}};o.isPropertyAggregatable=function t(e){if(!this._bApplySupported){return undefined}else{var n=this._converterContext.getAnnotationsByTerm("Aggregation","Org.OData.Aggregation.V1.CustomAggregate",[this._oAggregationAnnotationTarget]);return n.some(function(t){return e.name===t.qualifier})}};o.getGroupableProperties=function t(){return this._aGroupableProperties};o.getAggregatableProperties=function t(){return this._aAggregatableProperties};o.getEntityType=function t(){return this._entityType};o.getAggregatedProperties=function t(e){if(e==="AggregatedProperties"){return this._converterContext.getAnnotationsByTerm("Analytics","com.sap.vocabularies.Analytics.v1.AggregatedProperties",[this._converterContext.getEntityContainer(),this._converterContext.getEntityType()])}return this._converterContext.getAnnotationsByTerm("Analytics","com.sap.vocabularies.Analytics.v1.AggregatedProperty",[this._converterContext.getEntityContainer(),this._converterContext.getEntityType()])};o.getTransAggregations=function t(){var e,n=this;var o=this.getAggregatedProperties("AggregatedProperty");if(!o||o.length===0){o=this.getAggregatedProperties("AggregatedProperties")[0]}return(e=o)===null||e===void 0?void 0:e.filter(function(t){if(n._getAggregatableAggregates(t.AggregatableProperty)){return t}})};o._getAggregatableAggregates=function t(e){var n=this.getAggregatableProperties()||[];return n.find(function(t){return t.Property.value===(e.qualifier?e.qualifier:e.$target.name)})};o.getCustomAggregateDefinitions=function t(){var e=this;var n=this._converterContext.getAnnotationsByTerm("Aggregation","Org.OData.Aggregation.V1.CustomAggregate",[this._oAggregationAnnotationTarget]);return n.filter(function(t){if(e._getAggregatableAggregates(t)){return t}})};o.getAllowedTransformations=function t(){var e,n,o,i;return((e=this.oTargetAggregationAnnotations)===null||e===void 0?void 0:(n=e.ApplySupported)===null||n===void 0?void 0:n.Transformations)||((o=this.oContainerAggregationAnnotation)===null||o===void 0?void 0:(i=o.ApplySupportedDefaults)===null||i===void 0?void 0:i.Transformations)};return n}();e.AggregationHelper=n;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/BindingHelper", ["sap/fe/core/helpers/BindingToolkit"],function(t){"use strict";var e={};var i=t.pathInModel;var n=t.or;var a=t.not;var r=t.equal;var s=t.and;var o={IsCreateMode:i("createMode","ui"),IsCreateModeSticky:i("createModeSticky","ui"),IsEditable:i("/isEditable","ui"),IsTransientBinding:r(i("@$ui5.context.isTransient"),true),IsTotal:r(i("@$ui5.node.isTotal"),true),IsExpanded:r(i("@$ui5.node.isExpanded"),true),NodeLevel:i("@$ui5.node.level"),IsInactive:i("@$ui5.context.isInactive")};e.UI=o;var u={HasDraft:i("HasDraftEntity"),HasActive:i("HasActiveEntity"),IsActive:i("IsActiveEntity")};e.Entity=u;var c={IsNewObject:s(a(u.HasActive),a(u.IsActive)),HasNoDraftForCurrentUser:n(a(u.HasDraft),s(u.HasDraft,a(i("DraftAdministrativeData/DraftIsCreatedByMe"))))};e.Draft=c;function d(t,e){return t.singletons.find(function(t){return t.fullyQualifiedName===e})}var v=function(t,e,i){if(t.indexOf("/")===0){var n=t.split("/").filter(Boolean),a=n.pop(),r=n.join("/"),s=d(e,r);if(s){t="/".concat(s.name,"/").concat(a)}}else{var o=i.concat();o.push(t);t=o.join("/")}return t};e.singletonPathVisitor=v;function f(t,e,i){var n="".concat(i===null||i===void 0?void 0:i.substring(i.lastIndexOf("/")+1),"/");if(t.startsWith(n)){return t.substring(n.length)}return v(t,e.getConvertedTypes(),[])}e.bindingContextPathVisitor=f;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/ConfigurableObject", ["sap/base/Log"],function(e){"use strict";var n={};var i;(function(e){e["After"]="After";e["Before"]="Before";e["End"]="End"})(i||(i={}));n.Placement=i;var r=function(n,t,o,a){var f=o.indexOf(t);if(f!==-1){return f}var l=n[t];if(l===undefined){var c=t.split("::"),s=Object.keys(a)[0];e.warning("Position anchor '".concat(c[c.length-1],"' not found for item '").concat(s,"'. Please check manifest settings."));return o.length}a[t]=l;if(l&&!(l.anchor in a)){f=r(n,l.anchor,o,a);if(l.placement!==i.Before){++f}}else{f=o.length}o.splice(f,0,t);return f};function t(e){return typeof e==="object"}function o(e,n,i){var r=n||i;for(var o in e){if(Object.hasOwnProperty.call(e,o)){var f=e[o];if(n!==null){switch(f){case"overwrite":if(i.hasOwnProperty(o)&&i[o]!==undefined){n[o]=i[o]}break;case"merge":default:var l=n[o]||[];var c={};if(t(f)){c=f}if(Array.isArray(l)){n[o]=a(l,i&&i[o]||{},c)}break}}else{switch(f){case"overwrite":if(i.hasOwnProperty(o)&&i[o]!==undefined){r[o]=i[o]}break;case"merge":default:var s={};if(t(f)){s=f}r[o]=a([],i&&i[o]||{},s);break}}}}return r}function a(e,n){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var a=e.length?e[0].key:null;var f=e.filter(function(e){var n;return((n=e.position)===null||n===void 0?void 0:n.placement)!==i.End});var l=e.length?e[f.length-1].key:null;var c;var s={};var u={};e.forEach(function(e){var n;if(((n=e.position)===null||n===void 0?void 0:n.placement)===i.End&&!c){c=e}else{var r,t;s[e.key]={anchor:((r=e.position)===null||r===void 0?void 0:r.anchor)||e.key,placement:((t=e.position)===null||t===void 0?void 0:t.placement)||i.After}}u[e.key]=e});Object.keys(n).forEach(function(e){var r;var f=n[e];var c=f.position.anchor;if(!f.position.placement){f.position.placement=i.After}if(!c){var v=f.position.placement===i.After?l:a;f.position.anchor=v?v:e}f.menu=f===null||f===void 0?void 0:(r=f.menu)===null||r===void 0?void 0:r.map(function(e){var n;return(n=u[e.key])!==null&&n!==void 0?n:e});if(u[f.key]){u[f.key]=o(t,u[f.key],f);if(c&&f.position&&t.position&&t.position==="overwrite"){s[f.key]=u[f.key].position}}else{u[f.key]=o(t,null,f);s[f.key]=f.position}});var v=[];Object.keys(s).forEach(function(e){r(s,e,v,{})});var p=v.map(function(e){return u[e]});if(c){p.push(c)}return p}n.insertCustomElements=a;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/DataFieldHelper", ["sap/base/Log"],function(e){"use strict";var i={};function n(i){var n,o,l,d,a,r,v,u,s,f,g,c,U,I,H;if(i){switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":return t(i);case"com.sap.vocabularies.UI.v1.DataField":if(i.annotations&&((n=i.annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:(l=o.Hidden)===null||l===void 0?void 0:l.valueOf())===true){var h,p;if(i.annotations&&((h=i.annotations.UI)===null||h===void 0?void 0:(p=h.HiddenFilter)===null||p===void 0?void 0:p.valueOf())===true){e.warning("Warning: Property "+i.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else if(i.Value.$target&&((d=i.Value)===null||d===void 0?void 0:(a=d.$target)===null||a===void 0?void 0:(r=a.annotations)===null||r===void 0?void 0:(v=r.UI)===null||v===void 0?void 0:(u=v.Hidden)===null||u===void 0?void 0:u.valueOf())===true){var F,y,b,w,$;if(((F=i.Value)===null||F===void 0?void 0:(y=F.$target)===null||y===void 0?void 0:(b=y.annotations)===null||b===void 0?void 0:(w=b.UI)===null||w===void 0?void 0:($=w.HiddenFilter)===null||$===void 0?void 0:$.valueOf())===true)e.warning("Warning: Property "+i.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!");return true}else{return false}case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":var O=(s=i.Value)===null||s===void 0?void 0:(f=s.$target)===null||f===void 0?void 0:f.annotations;if((O===null||O===void 0?void 0:(g=O.UI)===null||g===void 0?void 0:(c=g.Hidden)===null||c===void 0?void 0:c.valueOf())===true){var V,P;if((O===null||O===void 0?void 0:(V=O.UI)===null||V===void 0?void 0:(P=V.HiddenFilter)===null||P===void 0?void 0:P.valueOf())===true){e.warning("Warning: Property "+i.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":if(((U=i.annotations)===null||U===void 0?void 0:(I=U.UI)===null||I===void 0?void 0:(H=I.Hidden)===null||H===void 0?void 0:H.valueOf())===true){var W,m;if(i.annotations&&((W=i.annotations.UI)===null||W===void 0?void 0:(m=W.HiddenFilter)===null||m===void 0?void 0:m.valueOf())===true){e.warning("Warning: Property "+i.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}default:}}}i.isReferencePropertyStaticallyHidden=n;function t(i){var t,o,l;var d=i.Target.$target.term;switch(d){case"com.sap.vocabularies.UI.v1.Chart":var a;i.Target.$target.Measures.forEach(function(i){var n,t,o;if(((n=i.$target.annotations)===null||n===void 0?void 0:(t=n.UI)===null||t===void 0?void 0:(o=t.Hidden)===null||o===void 0?void 0:o.valueOf())===true){var l,d;e.warning("Warning: Measure attribute for Chart "+i.$target.name+" is statically hidden hence chart can't be rendered");if(i.$target.annotations&&((l=i.$target.annotations.UI)===null||l===void 0?void 0:(d=l.HiddenFilter)===null||d===void 0?void 0:d.valueOf())===true){e.warning("Warning: Property "+i.$target.name+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}a=true}});if(a===true){return true}else{return false}case"com.sap.vocabularies.UI.v1.ConnectedFields":if(i){var r,v,u;if(((r=i.annotations)===null||r===void 0?void 0:(v=r.UI)===null||v===void 0?void 0:(u=v.Hidden)===null||u===void 0?void 0:u.valueOf())===true){var s,f;if(i.annotations&&((s=i.annotations.UI)===null||s===void 0?void 0:(f=s.HiddenFilter)===null||f===void 0?void 0:f.valueOf())===true){e.warning("Warning: Property "+i.Target.$target.qualifier+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}}break;case"com.sap.vocabularies.UI.v1.FieldGroup":if(i){i.Target.$target.Data.forEach(function(e){return n(e)})}break;case"com.sap.vocabularies.UI.v1.DataPoint":var g=i.Target.$target.Value.$target;if(((t=g.annotations)===null||t===void 0?void 0:(o=t.UI)===null||o===void 0?void 0:(l=o.Hidden)===null||l===void 0?void 0:l.valueOf())===true){var c,U,I;if(((c=g.annotations)===null||c===void 0?void 0:(U=c.UI)===null||U===void 0?void 0:(I=U.HiddenFilter)===null||I===void 0?void 0:I.valueOf())===true){e.warning("Warning: Property "+i.Target.$target.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}default:}}i.isAnnotationFieldStaticallyHidden=t;function o(i){if(i.targetObject){var n,t,o,l,d,a,r,v,u;var s=i.targetObject;if(s.annotations&&((n=s.annotations)===null||n===void 0?void 0:(t=n.UI)===null||t===void 0?void 0:(o=t.Hidden)===null||o===void 0?void 0:o.valueOf())===true){var f,g,c,U,I;if(((f=s.Value)===null||f===void 0?void 0:(g=f.$target)===null||g===void 0?void 0:(c=g.annotations)===null||c===void 0?void 0:(U=c.UI)===null||U===void 0?void 0:(I=U.HiddenFilter)===null||I===void 0?void 0:I.valueOf())===true){e.warning("Warning: Property "+s.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else if(s!==null&&s!==void 0&&(l=s.Value)!==null&&l!==void 0&&l.$target&&(s===null||s===void 0?void 0:(d=s.Value)===null||d===void 0?void 0:(a=d.$target)===null||a===void 0?void 0:(r=a.annotations)===null||r===void 0?void 0:(v=r.UI)===null||v===void 0?void 0:(u=v.Hidden)===null||u===void 0?void 0:u.valueOf())===true){var H,h,p,F,y;if((s===null||s===void 0?void 0:(H=s.Value)===null||H===void 0?void 0:(h=H.$target)===null||h===void 0?void 0:(p=h.annotations)===null||p===void 0?void 0:(F=p.UI)===null||F===void 0?void 0:(y=F.HiddenFilter)===null||y===void 0?void 0:y.valueOf())===true){e.warning("Warning: Property "+s.Value.path+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}return true}else{return false}}}i.isHeaderStaticallyHidden=o;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/ID", ["../../helpers/StableIdHelper"],function(e){"use strict";var t={};var r=e.generate;var a=["fe"];function n(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++){n[o]=arguments[o]}return r(a.concat.apply(a,t.concat(n)))}}t.createIDGenerator=n;var o=n("HeaderFacet");t.getHeaderFacetID=o;var i=n("HeaderFacetContainer");t.getHeaderFacetContainerID=i;var c=n("HeaderFacet","Form");t.getHeaderFacetFormID=c;var u=n("HeaderFacetCustomContainer");t.getCustomHeaderFacetID=u;var g=n("EditableHeaderSection");t.getEditableHeaderSectionID=g;var v=n("FacetSection");t.getSectionID=v;var I=n("CustomSection");t.getCustomSectionID=I;var D=n("FacetSubSection");t.getSubSectionID=D;var d=n("CustomSubSection");t.getCustomSubSectionID=d;var C=n("SideContent");t.getSideContentID=C;var m=function(e){return r(["fe",e,"SideContentLayout"])};t.getSideContentLayoutID=m;var F=n("Form");t.getFormID=F;var S=n("FormContainer");t.getFormContainerID=S;var s=function(e,t){return r(["fe","FormContainer",e,"StandardAction",t])};t.getFormStandardActionButtonID=s;var f=n("table");t.getTableID=f;var l=n("CustomTab");t.getCustomTabID=l;var b=n("FilterBar");t.getFilterBarID=b;var H=function(){return"fe::ListReport"};t.getDynamicListReportID=H;var p=n("TabMultipleMode");t.getIconTabBarID=p;var y=function(e){return r([e,"VariantManagement"])};t.getFilterVariantManagementID=y;var A=n("Chart");t.getChartID=A;var h=function(e){return r(["CustomAction",e])};t.getCustomActionID=h;var T=n("KPI");t.getKPIID=T;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/IssueManager", [],function(){"use strict";var e={};var n;(function(e){e[e["High"]=0]="High";e[e["Low"]=1]="Low";e[e["Medium"]=2]="Medium"})(n||(n={}));e.IssueSeverity=n;var t={Facets:{MissingID:"MissingID",UnSupportedLevel:"UnsupportedLevel"},AnnotationColumns:{InvalidKey:"InvalidKey"},Annotations:{IgnoredAnnotation:"IgnoredAnnotation"}};e.IssueCategoryType=t;var i;(function(e){e["Annotation"]="Annotation";e["Template"]="Template";e["Manifest"]="Manifest";e["Facets"]="Facets"})(i||(i={}));e.IssueCategory=i;var o={MISSING_LINEITEM:"We couldn't find a line item annotation for the current entitySet, you should consider adding one.",MISSING_SELECTIONFIELD:"Defined Selection Field is not found",MALFORMED_DATAFIELD_FOR_IBN:{REQUIRESCONTEXT:"DataFieldForIntentBasedNavigation cannot use requires context in form/header.",INLINE:"DataFieldForIntentBasedNavigation cannot use Inline in form/header.",DETERMINING:"DataFieldForIntentBasedNavigation cannot use Determining in form/header."},MALFORMED_VISUALFILTERS:{VALUELIST:"ValueList Path mentioned in the manifest is not found",PRESENTATIONVARIANT:"Presentation Variant Annotation is missing for the VisualFilters",CHART:"Chart Annotation is missing from the PV configured for the VisualFilters",VALUELISTCONFIG:"ValueList is not been configured inside the Visual Filter Settings"},FULLSCREENMODE_NOT_ON_LISTREPORT:"enableFullScreenMode is not supported on list report pages.",KPI_ISSUES:{KPI_NOT_FOUND:"Couldn't find KPI or SPV with qualifier ",KPI_DETAIL_NOT_FOUND:"Can't find proper datapoint or chart definition for KPI ",NO_ANALYTICS:"The following entitySet used in a KPI definition doesn't support $apply queries:",MAIN_PROPERTY_NOT_AGGREGATABLE:"Main property used in KPI cannot be aggregated "}};e.IssueType=o;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/Key", ["../../helpers/StableIdHelper"],function(e){"use strict";var r={};var t=e.getStableIdPartFromDataField;var n=function(){function e(){}r.KeyHelper=e;e.generateKeyFromDataField=function e(r){return t(r)};e.validateKey=function e(r){var t=/[^A-Za-z0-9_\-:]/;if(t.exec(r)){throw new Error("Invalid key: ".concat(r," - only 'A-Za-z0-9_-:' are allowed"))}};e.getSelectionFieldKeyFromPath=function e(r){return r.replace(/(\*|\+)?\//g,"::")};e.getPathFromSelectionFieldKey=function e(r){return r.replace(/::/g,"/")};return e}();r.KeyHelper=n;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/SelectionVariantHelper", [],function(){"use strict";var e={};function n(e,n){var t;var a=e.Sign!=="UI.SelectionRangeSignType/E"?true:false;switch(e.Option){case"UI.SelectionRangeOptionType/BT":t=a?"BT":"NB";break;case"UI.SelectionRangeOptionType/CP":t=a?"Contains":"NotContains";break;case"UI.SelectionRangeOptionType/EQ":t=a?"EQ":"NE";break;case"UI.SelectionRangeOptionType/GE":t=a?"GE":"LT";break;case"UI.SelectionRangeOptionType/GT":t=a?"GT":"LE";break;case"UI.SelectionRangeOptionType/LE":t=a?"LE":"GT";break;case"UI.SelectionRangeOptionType/LT":t=a?"LT":"GE";break;case"UI.SelectionRangeOptionType/NB":t=a?"NB":"BT";break;case"UI.SelectionRangeOptionType/NE":t=a?"NE":"EQ";break;case"UI.SelectionRangeOptionType/NP":t=a?"NotContains":"Contains";break;default:t="EQ"}return{operator:t,rangeLow:n&&n.indexOf("Edm.Date")===0?new Date(e.Low):e.Low,rangeHigh:e.High&&n&&n.indexOf("Edm.Date")===0?new Date(e.High):e.High}}e.getRangeDefinition=n;function t(e){var t=[];if(e.SelectOptions){e.SelectOptions.forEach(function(e){if(e.PropertyName&&e.Ranges.length>0){t.push({propertyPath:e.PropertyName.value,propertyType:e.PropertyName.$target.type,ranges:e.Ranges.map(function(t){var a;return n(t,(a=e.PropertyName)===null||a===void 0?void 0:a.$target.type)})})}})}return t}e.getFilterDefinitionsFromSelectionVariant=t;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/objectPage/FormMenuActions", ["sap/fe/core/converters/helpers/Key"],function(i){"use strict";var o={};var a=i.KeyHelper;var e;(function(i){i["Default"]="Default"})(e||(e={}));var n=function(i){var o,a;i.forEach(function(i){var e;o=false;a=[];if(i!==null&&i!==void 0&&(e=i.menu)!==null&&e!==void 0&&e.length){var n;i===null||i===void 0?void 0:(n=i.menu)===null||n===void 0?void 0:n.forEach(function(i){var e=i.visible;if(!o){if(e&&typeof e==="boolean"||e.valueOf()==="true"){o=true}else if(e&&e.valueOf()!=="false"){a.push(e.valueOf())}}});if(a.length){i.visible=a}else{i.visible=o.toString()}}});return i};o.getVisibilityEnablementFormMenuActions=n;var l=function(i,o){for(var a in i){if(i.hasOwnProperty(a)){o[a]=i[a]}}return i};o.mergeFormActions=l;var v=function(i,o){var n,l;var v=t(i,o)||[],r=o===null||o===void 0?void 0:(n=o.getEntityType())===null||n===void 0?void 0:(l=n.annotations)===null||l===void 0?void 0:l.UI;var d=[];for(var u in r){var c,s,f;if(((c=r[u])===null||c===void 0?void 0:c.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){var p;(p=r[u])===null||p===void 0?void 0:p.Data.forEach(function(i){if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&v.hasOwnProperty("DataFieldForAction::".concat(i.Action))){var o,n,l;if((i===null||i===void 0?void 0:(o=i.annotations)===null||o===void 0?void 0:(n=o.UI)===null||n===void 0?void 0:(l=n.Hidden)===null||l===void 0?void 0:l.valueOf())===true){d.push({type:e.Default,key:a.generateKeyFromDataField(i)})}}else if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&v.hasOwnProperty("DataFieldForIntentBasedNavigation::".concat(i.Action))){var t,r,u;if((i===null||i===void 0?void 0:(t=i.annotations)===null||t===void 0?void 0:(r=t.UI)===null||r===void 0?void 0:(u=r.Hidden)===null||u===void 0?void 0:u.valueOf())===true){d.push({type:e.Default,key:a.generateKeyFromDataField(i)})}}})}else if(((s=r[u])===null||s===void 0?void 0:s.term)==="com.sap.vocabularies.UI.v1.Identification"||((f=r[u])===null||f===void 0?void 0:f.term)==="@com.sap.vocabularies.UI.v1.StatusInfo"){var F;(F=r[u])===null||F===void 0?void 0:F.forEach(function(i){if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&v.hasOwnProperty("DataFieldForAction::".concat(i.Action))){var o,n,l;if((i===null||i===void 0?void 0:(o=i.annotations)===null||o===void 0?void 0:(n=o.UI)===null||n===void 0?void 0:(l=n.Hidden)===null||l===void 0?void 0:l.valueOf())===true){d.push({type:e.Default,key:a.generateKeyFromDataField(i)})}}else if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&v.hasOwnProperty("DataFieldForIntentBasedNavigation::".concat(i.Action))){var t,r,u;if((i===null||i===void 0?void 0:(t=i.annotations)===null||t===void 0?void 0:(r=t.UI)===null||r===void 0?void 0:(u=r.Hidden)===null||u===void 0?void 0:u.valueOf())===true){d.push({type:e.Default,key:a.generateKeyFromDataField(i)})}}})}}return d};o.getFormHiddenActions=v;var t=function(i,o){var a=o.getManifestWrapper();var e,n;var v={};if((i===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"){if(i!==null&&i!==void 0&&i.Facets){i===null||i===void 0?void 0:i.Facets.forEach(function(i){var o,t;e=i===null||i===void 0?void 0:(o=i.Target)===null||o===void 0?void 0:o.value;n=a.getFormContainer(e);if((t=n)!==null&&t!==void 0&&t.actions){var r;for(var d in n.actions){n.actions[d].facetName=i.fullyQualifiedName}v=l((r=n)===null||r===void 0?void 0:r.actions,v)}})}}else if((i===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.ReferenceFacet"){var t,r;e=i===null||i===void 0?void 0:(t=i.Target)===null||t===void 0?void 0:t.value;n=a.getFormContainer(e);if((r=n)!==null&&r!==void 0&&r.actions){for(var d in n.actions){n.actions[d].facetName=i.fullyQualifiedName}v=n.actions}}return v};o.getFormActions=t;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/objectPage/HeaderAndFooterAction", ["sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/templating/DataModelPathHelper","../helpers/BindingHelper","../ManifestSettings"],function(i,e,t,n,o,a,l,r){"use strict";var d={};var v=r.ActionType;var u=l.UI;var s=l.singletonPathVisitor;var f=l.Draft;var c=a.isPathDeletable;var p=n.not;var y=n.ifElse;var g=n.getExpressionFromAnnotation;var b=n.fn;var A=n.equal;var m=n.constant;var D=n.compileExpression;var h=n.and;var E=t.KeyHelper;var S=e.Placement;var F=i.getSemanticObjectMapping;var I=i.getEnabledForAnnotationAction;var O=i.ButtonType;function C(i,e){var t,n,o;return((t=i.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(o=n.Identification)===null||o===void 0?void 0:o.filter(function(i){var t,n,o;if((i===null||i===void 0?void 0:(t=i.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(o=n.Hidden)===null||o===void 0?void 0:o.valueOf())!==true){var a,l,r,d,v;if((i===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&!!i.Determining===e&&(!(i!==null&&i!==void 0&&(a=i.ActionTarget)!==null&&a!==void 0&&a.isBound)||(i===null||i===void 0?void 0:(l=i.ActionTarget)===null||l===void 0?void 0:(r=l.annotations)===null||r===void 0?void 0:(d=r.Core)===null||d===void 0?void 0:(v=d.OperationAvailable)===null||v===void 0?void 0:v.valueOf())!==false)){return true}}return false}))||[]}d.getIdentificationDataFieldForActions=C;function T(i,e){var t,n,o;return((t=i.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(o=n.Identification)===null||o===void 0?void 0:o.filter(function(i){var t,n,o;if((i===null||i===void 0?void 0:(t=i.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(o=n.Hidden)===null||o===void 0?void 0:o.valueOf())!==true){if((i===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&!!i.Determining===e){return true}}return false}))||[]}var P=["UI.CriticalityType/VeryPositive","UI.CriticalityType/Positive","UI.CriticalityType/Negative","UI.CriticalityType/VeryNegative"];function N(i,e){var t=i.getDataModelObjectPath(),n=t.navigationProperties.map(function(i){return i.name}),o=g(e,n,undefined,function(e){return s(e,i.getConvertedTypes(),[])}),a=i.getManifestWrapper(),l=a.getViewLevel(),r=l>1?u.IsEditable:p(u.IsEditable);return y(e===undefined||e.valueOf()===false,r,h(r,A(o,false)))}d.getDeleteButtonVisibility=N;function U(i,e){return y(e!==undefined,e,y(i!==undefined,A(i,true),m(true)))}d.getDeleteButtonEnabled=U;function k(i,e){var t=i.getEntitySet(),n=o.isDraftRoot(t),a=i.getDataModelObjectPath(),l=a.navigationProperties.map(function(i){return i.name}),r=g(e,l,undefined,function(e){return s(e,i.getConvertedTypes(),l)}),d=p(u.IsEditable);var v=y(e===undefined||e.valueOf()===false,d,h(d,A(r,false)));return y(n,h(v,f.HasNoDraftForCurrentUser),v)}d.getEditButtonVisibility=k;function H(i){var e=i.getEntitySet(),t=o.isDraftRoot(e),n=o.isSticky(e);var a;if(t&&!o.isSingleton(e)){var l,r;a=e===null||e===void 0?void 0:(l=e.annotations.Common)===null||l===void 0?void 0:(r=l.DraftRoot)===null||r===void 0?void 0:r.EditAction}else if(n&&!o.isSingleton(e)){var d,v;a=e===null||e===void 0?void 0:(d=e.annotations.Session)===null||d===void 0?void 0:(v=d.StickySessionSupported)===null||v===void 0?void 0:v.EditAction}if(a){var u,s;var f=i.getAbsoluteAnnotationPath(a);var c=i.resolveAbsolutePath(f).target;if((c===null||c===void 0?void 0:(u=c.annotations)===null||u===void 0?void 0:(s=u.Core)===null||s===void 0?void 0:s.OperationAvailable)===null){}else{return I(i,c!==null&&c!==void 0?c:undefined)}}return"true"}d.getEditButtonEnabled=H;function B(i){var e,t,n,a,l;var r=i.getEntitySet(),d=i.getEntityType(),u=o.getStickySession(r),f=o.getDraftRoot(r),y=o.getDraftNode(r),m=r&&((e=r.annotations)===null||e===void 0?void 0:(t=e.Capabilities)===null||t===void 0?void 0:t.DeleteRestrictions),h=r&&!o.isSingleton(r)&&((n=r.annotations.UI)===null||n===void 0?void 0:(a=n.UpdateHidden)===null||a===void 0?void 0:a.valueOf()),S=i.getDataModelObjectPath(),B=c(S,{pathVisitor:function(e,t){return s(e,i.getConvertedTypes(),t)}}),M=B?D(B):B,x=C(i.getEntityType(),false);var R=[];if(!o.isSingleton(r)&&f!==null&&f!==void 0&&f.EditAction&&h!==true){R.push({type:v.DraftActions,key:"DraftActions"})}if(f||y){R.push({type:v.CollaborationAvatars,key:"CollaborationAvatars"})}x.filter(function(i){return P.indexOf(i===null||i===void 0?void 0:i.Criticality)>-1}).forEach(function(e){var t,n;R.push({type:v.DataFieldForAction,annotationPath:i.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:E.generateKeyFromDataField(e),visible:D(p(A(g((t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Hidden),true))),enabled:I(i,e.ActionTarget),isNavigable:true})});if((f!==null&&f!==void 0&&f.EditAction||u!==null&&u!==void 0&&u.EditAction)&&h!==true){var j=o.isUpdateHidden(r,d);R.push({type:v.Primary,key:"EditAction",visible:D(k(i,j)),enabled:H(i)})}if(M&&M!=="false"||(m===null||m===void 0?void 0:(l=m.Deletable)===null||l===void 0?void 0:l.valueOf())!==false&&M!=="false"){var K=o.getDeleteHidden(r,d);R.push({type:v.Secondary,key:"DeleteAction",visible:D(N(i,K)),enabled:D(U(m===null||m===void 0?void 0:m.Deletable,B)),parentEntityDeleteEnabled:M})}var V=T(i.getEntityType(),false);V.filter(function(i){return P.indexOf(i===null||i===void 0?void 0:i.Criticality)===-1}).forEach(function(e){var t,n,o,a,l,r,d;var u={semanticObjectMapping:e.Mapping?F(e.Mapping):[]};if(((t=e.RequiresContext)===null||t===void 0?void 0:t.valueOf())===true){throw new Error("RequiresContext property should not be true for header IBN action : ".concat(e.Label))}else if(((n=e.Inline)===null||n===void 0?void 0:n.valueOf())===true){throw new Error("Inline property should not be true for header IBN action : ".concat(e.Label))}R.push({type:v.DataFieldForIntentBasedNavigation,text:(o=e.Label)===null||o===void 0?void 0:o.toString(),annotationPath:i.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),buttonType:O.Ghost,visible:D(p(A(g((a=e.annotations)===null||a===void 0?void 0:(l=a.UI)===null||l===void 0?void 0:(r=l.Hidden)===null||r===void 0?void 0:r.valueOf()),true))),enabled:e.NavigationAvailable!==undefined?D(A(g((d=e.NavigationAvailable)===null||d===void 0?void 0:d.valueOf()),true)):true,key:E.generateKeyFromDataField(e),isNavigable:true,press:D(b("._intentBasedNavigation.navigate",[g(e.SemanticObject),g(e.Action),u])),customData:D({semanticObject:g(e.SemanticObject),action:g(e.Action)})})});x.filter(function(i){return P.indexOf(i===null||i===void 0?void 0:i.Criticality)===-1}).forEach(function(e){var t,n;R.push({type:v.DataFieldForAction,annotationPath:i.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:E.generateKeyFromDataField(e),visible:D(p(A(g((t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Hidden),true))),enabled:I(i,e.ActionTarget),isNavigable:true})});return R}d.getHeaderDefaultActions=B;function M(i){var e,t,n;var o=i.getEntityType();var a=((e=o.annotations)===null||e===void 0?void 0:(t=e.UI)===null||t===void 0?void 0:(n=t.Identification)===null||n===void 0?void 0:n.filter(function(i){var e,t,n;return(i===null||i===void 0?void 0:(e=i.annotations)===null||e===void 0?void 0:(t=e.UI)===null||t===void 0?void 0:(n=t.Hidden)===null||n===void 0?void 0:n.valueOf())===true}))||[];return a.map(function(i){return{type:v.Default,key:E.generateKeyFromDataField(i)}})}d.getHiddenHeaderActions=M;function x(i,e){var t,n,a,l,r;var d=e.getEntitySet();var u=e.getEntityType();var s=o.getStickySession(d),f=!o.isSingleton(d)&&d&&(((t=d.annotations.Common)===null||t===void 0?void 0:(n=t.DraftRoot)===null||n===void 0?void 0:n.term)||((a=d.annotations)===null||a===void 0?void 0:(l=a.Session)===null||l===void 0?void 0:(r=l.StickySessionSupported)===null||r===void 0?void 0:r.term)),c=f==="com.sap.vocabularies.Common.v1.DraftRoot"||s&&(s===null||s===void 0?void 0:s.SaveAction),y=i>1,b=f==="com.sap.vocabularies.Common.v1.DraftRoot"||s&&(s===null||s===void 0?void 0:s.DiscardAction);var m=C(e.getEntityType(),true);var h=m.filter(function(i){return P.indexOf(i===null||i===void 0?void 0:i.Criticality)>-1}).map(function(i){var t,n;return{type:v.DataFieldForAction,annotationPath:e.getEntitySetBasedAnnotationPath(i.fullyQualifiedName),key:E.generateKeyFromDataField(i),visible:D(p(A(g((t=i.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Hidden),true))),enabled:I(e,i.ActionTarget),isNavigable:true}});if((d===null||d===void 0?void 0:d.entityTypeName)===(u===null||u===void 0?void 0:u.fullyQualifiedName)&&c){h.push({type:v.Primary,key:"SaveAction"})}if(y){h.push({type:v.DefaultApply,key:"ApplyAction"})}m.filter(function(i){return P.indexOf(i===null||i===void 0?void 0:i.Criticality)===-1}).forEach(function(i){var t,n;h.push({type:v.DataFieldForAction,annotationPath:e.getEntitySetBasedAnnotationPath(i.fullyQualifiedName),key:E.generateKeyFromDataField(i),visible:D(p(A(g((t=i.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Hidden),true))),enabled:I(e,i.ActionTarget),isNavigable:true})});if(b){h.push({type:v.Secondary,key:"CancelAction",position:{placement:S.End}})}return h}d.getFooterDefaultActions=x;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/templates/ListReportConverter", ["sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/helpers/BindingToolkit","../controls/Common/DataVisualization","../controls/Common/KPI","../helpers/ID","../ManifestSettings"],function(t,e,a,n,r,i,o,l){"use strict";var s={};var u=l.VisualizationType;var v=l.VariantManagementType;var f=l.TemplateType;var c=o.getTableID;var d=o.getIconTabBarID;var p=o.getFilterVariantManagementID;var y=o.getFilterBarID;var h=o.getDynamicListReportID;var g=o.getCustomTabID;var m=o.getChartID;var b=i.getKPIDefinitions;var C=r.isSelectionPresentationCompliant;var I=r.isPresentationCompliant;var P=r.getSelectionVariant;var T=r.getSelectionPresentationVariant;var V=r.getDefaultPresentationVariant;var S=r.getDefaultLineItem;var E=r.getDefaultChart;var z=r.getDataVisualizationConfiguration;var w=n.getExpressionFromAnnotation;var A=n.compileExpression;var M=a.insertCustomElements;var k=e.getSelectionFields;var D=e.getManifestFilterFields;var F=e.getFilterBarhideBasicSearch;var L=t.getActionsFromManifest;function x(t){return j(t)||R(t)||H(t)||B()}function B(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(t){if(typeof Symbol!=="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function j(t){if(Array.isArray(t))return O(t)}function W(t,e){var a=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=H(t))||e&&t&&typeof t.length==="number"){if(a)t=a;var n=0;var r=function(){};return{s:r,n:function(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,l;return{s:function(){a=a.call(t)},n:function(){var t=a.next();i=t.done;return t},e:function(t){o=true;l=t},f:function(){try{if(!i&&a.return!=null)a.return()}finally{if(o)throw l}}}}function H(t,e){if(!t)return;if(typeof t==="string")return O(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor)a=t.constructor.name;if(a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return O(t,e)}function O(t,e){if(e==null||e>t.length)e=t.length;for(var a=0,n=new Array(e);a<e;a++){n[a]=t[a]}return n}function N(t){var e=[];t.forEach(function(t){if(!t.type){var a=t.secondaryVisualization?t.secondaryVisualization.visualizations:t.presentation.visualizations;a.forEach(function(t){if(t.type===u.Table){e.push(t)}})}});return e}function Q(t){var e=[];t.forEach(function(t){if(!t.type){var a=t.primaryVisualization?t.primaryVisualization.visualizations:t.presentation.visualizations;a.forEach(function(t){if(t.type===u.Chart){e.push(t)}})}});return e}var U=function(t){var e={};for(var a in t){var n,r,i;if((n=t[a])!==null&&n!==void 0&&(r=n.settings)!==null&&r!==void 0&&(i=r.defaultValues)!==null&&i!==void 0&&i.length){var o,l;e[a]=(o=t[a])===null||o===void 0?void 0:(l=o.settings)===null||l===void 0?void 0:l.defaultValues}}return e};function K(t,e,a){var n=e.getManifestWrapper().getDefaultTemplateAnnotationPath();var r=T(t,n,e);if(n&&r){var i=r.PresentationVariant;if(!i){throw new Error("Presentation Variant is not configured in the SPV mentioned in the manifest")}var o=I(r.PresentationVariant);if(!o){return undefined}if(C(r,a)){return r}}if(r){if(C(r,a)){return r}}var l=V(t);if(l){if(I(l,a)){return l}}if(!a){var s=S(t);if(s){return s}}return undefined}var q=function(t){var e=t;if(e.converterContext){var a,n;var r=e.converterContext;e=e;var i=z(e.annotation?r.getRelativeAnnotationPath(e.annotation.fullyQualifiedName,r.getEntityType()):"",true,r,e);var o="";var l="";var s="";var v="";var d=function(t){return t.key!==undefined};var p=function(t,e){var a;var n=W(t.visualizations),r;try{for(n.s();!(r=n.n()).done;){var i=r.value;if(e&&i.type===u.Chart){a=i;break}if(!e&&i.type===u.Table){a=i;break}}}catch(t){n.e(t)}finally{n.f()}var o=Object.assign({},t);if(a){o.visualizations=[a]}return o};var y=function(t){var a=r.getEntityTypeAnnotation(t.annotationPath);var n=a.annotation;r=a.converterContext;var o=n;i=z(o?r.getRelativeAnnotationPath(o.fullyQualifiedName,r.getEntityType()):"",true,r,e);return i};var h=function(t,a){var n=p(t[0],true);l=(n===null||n===void 0?void 0:n.visualizations[0]).id;var r=p(t[1]?t[1]:t[0]);o=(r===null||r===void 0?void 0:r.visualizations[0]).annotation.id;if(n&&r){e=e;var i=e.visible;var s={primaryVisualization:n,secondaryVisualization:r,tableControlId:o,chartControlId:l,defaultPath:a,visible:i};return s}};if(((a=i)===null||a===void 0?void 0:(n=a.visualizations)===null||n===void 0?void 0:n.length)===2&&r.getTemplateType()===f.AnalyticalListPage){var b=h([i],"both");if(b){return b}}else if(r.getManifestWrapper().hasMultipleVisualizations(e)||r.getTemplateType()===f.AnalyticalListPage){var C=e,I=C.primary,P=C.secondary;if(I&&I.length&&P&&P.length){var T=h([y(I[0]),y(P[0])],e.defaultPath);if(T){return T}}else{throw new Error("SecondaryItems in the Views is not present")}}else if(d(e)){var V=r.getEntityTypeAnnotation(e.annotationPath);var S=V.annotation;r=V.converterContext;s=A(w(S.Text));i.visualizations.forEach(function(t,a){switch(t.type){case u.Table:var n=i.visualizations[a];var r=n.control.filters||{};r.hiddenFilters=r.hiddenFilters||{paths:[]};if(!e.keepPreviousPersonalization){n.annotation.id=c(e.key||"","LineItem")}e=e;if(e&&e.annotation&&e.annotation.term==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){v="@".concat(e.annotation.SelectionVariant.fullyQualifiedName.split("@")[1])}else{v=e.annotationPath}r.hiddenFilters.paths.push({annotationPath:v});n.control.filters=r;break;case u.Chart:var o=i.visualizations[a];o.id=m(e.key||"","Chart");o.multiViews=true;break;default:break}})}i.visualizations.forEach(function(t){if(t.type===u.Table){o=t.annotation.id}else if(t.type===u.Chart){l=t.id}});e=e;var E=e.visible;return{presentation:i,tableControlId:o,chartControlId:l,title:s,selectionVariantPath:v,visible:E}}else{e=e;var M=e.label,k=e.template,D=e.type,F=g(e.key||""),L=e.visible;return{title:M,fragment:k,type:D,customTabId:F,visible:L}}};var $=function(t,e){var a=[];if(e){e.paths.forEach(function(n){if(t.getManifestWrapper().hasMultipleVisualizations(n)){if(e.paths.length>1){throw new Error("ALP flavor cannot have multiple views")}else{n=n;a.push({converterContext:t,primary:n.primary,secondary:n.secondary,defaultPath:n.defaultPath})}}else if(n.template){n=n;a.push({key:n.key,label:n.label,template:n.template,type:"Custom",visible:n.visible})}else{n=n;var r=t.getConverterContextFor(n.contextPath||n.entitySet&&"/".concat(n.entitySet)||t.getContextPath()),i=r.getEntityType();if(i&&r){var o;var l=r.getEntityTypeAnnotation(n.annotationPath);var s=l.annotation;if(s){o=s.term==="com.sap.vocabularies.UI.v1.SelectionVariant"?K(i,r,false):s;a.push({converterContext:r,annotation:o,annotationPath:n.annotationPath,keepPreviousPersonalization:n.keepPreviousPersonalization,key:n.key,visible:n.visible})}}else{}}})}else{var n=t.getEntityType();if(t.getTemplateType()===f.AnalyticalListPage){a=J(t,a)}else{a.push({annotation:K(n,t,false),converterContext:t})}}return a.map(function(t){return q(t)})};var G=function(t,e){var a=t.getManifestWrapper();var n=a.getViewConfiguration();if(e.length>1&&!X(t)){return{showTabCounts:n?(n===null||n===void 0?void 0:n.showCounts)||a.hasMultipleEntitySets():undefined,id:d()}}return undefined};function J(t,e){var a=t.getEntityType();var n=K(a,t,true);var r,i;if(n){e.push({annotation:n,converterContext:t})}else{r=E(a);i=S(a);if(r&&i){var o=[{annotationPath:r.term}];var l=[{annotationPath:i.term}];e.push({converterContext:t,primary:o,secondary:l,defaultPath:"both"})}}return e}function X(t){return t.getManifestWrapper().hasMultipleVisualizations()||t.getTemplateType()===f.AnalyticalListPage}var Y=function(t){var e=t.getManifestWrapper();return M([],L(e.getHeaderActions(),t).actions)};s.getHeaderActions=Y;var Z=function(t,e){t.forEach(function(t){if(!t.type){var a=t.presentation;a.visualizations.forEach(function(t){if(t.type===u.Chart&&t.filterId!==e){t.filterId=e}})}})};s.checkChartFilterBarId=Z;var _=function(t){var e=t.getEntityType();var a=t.getContextPath();if(!a){throw new Error("An EntitySet is required to be able to display a ListReport, please adjust your `entitySet` property to point to one.")}var n=t.getManifestWrapper();var r=n.getViewConfiguration();var i=n.hasMultipleEntitySets();var o=$(t,r);var l=N(o);var s=Q(o);var u=l.some(function(t){return t.control.type==="ResponsiveTable"});var f="";var c="";var d=h();var g=y(a);var m=p(g);var C=n.getFilterConfiguration();var I=(C===null||C===void 0?void 0:C.initialLayout)!==undefined?C===null||C===void 0?void 0:C.initialLayout.toLowerCase():"compact";var T=(C===null||C===void 0?void 0:C.layout)!==undefined?C===null||C===void 0?void 0:C.layout.toLowerCase():"compact";var V=C.useSemanticDateRange!==undefined?C.useSemanticDateRange:true;var S=tt(t,o);if(S){c=S.chartId;f=S.tableId}var E=n.isFilterBarHidden()&&c==="";var z=k(t,l);var w=z.selectionFields;var A=z.sPropertyInfo;var M=F(l,s,t);var L=G(t,o);var B=L?undefined:P(e,t);var R=V?U(D(e,t)):{};var j=Y(t);if(i){Z(o,g)}var W=l.map(function(t){return t.annotation.id}).concat(s.map(function(t){return t.id}));var H=[].concat(x(E?[]:[g]),x(n.getVariantManagement()!==v.Control?W:[]),x(L?[L.id]:[]));var O=L&&n.getStickyMultiTabHeaderConfiguration()?L.id:undefined;return{mainEntitySet:a,mainEntityType:"".concat(a,"/"),multiViewsControl:L,stickySubheaderProvider:O,singleTableId:f,singleChartId:c,dynamicListReportId:d,headerActions:j,showPinnableToggle:u,filterBar:{propertyInfo:A,selectionFields:w,hideBasicSearch:M},views:o,filterBarId:E?"":g,filterConditions:{selectionVariant:B,defaultSemanticDates:R},variantManagement:{id:m,targetControlIds:H.join(",")},hasMultiVisualizations:X(t),templateType:n.getTemplateType(),useSemanticDateRange:V,filterInitialLayout:I,filterLayout:T,kpiDefinitions:b(t),hideFilterBar:E}};s.convertPage=_;function tt(t,e){var a="",n="";if(t.getManifestWrapper().hasMultipleVisualizations()||t.getTemplateType()===f.AnalyticalListPage){var r=W(e),i;try{for(r.s();!(i=r.n()).done;){var o=i.value;o=o;if(o.chartControlId&&o.tableControlId){n=o.chartControlId;a=o.tableControlId;break}}}catch(t){r.e(t)}finally{r.f()}}else{var l=W(e),s;try{for(l.s();!(s=l.n()).done;){var u=s.value;u=u;if(!a&&u.tableControlId){a=u.tableControlId||""}if(!n&&u.chartControlId){n=u.chartControlId||""}if(n&&a){break}}}catch(t){l.e(t)}finally{l.f()}}if(a||n){return{chartId:n,tableId:a}}return undefined}return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/templates/ObjectPageConverter", ["sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/objectPage/HeaderAndFooterAction","sap/fe/core/helpers/BindingToolkit","sap/fe/templates/ObjectPage/ObjectPageTemplating","../controls/ObjectPage/Avatar","../controls/ObjectPage/HeaderFacet","../controls/ObjectPage/SubSection","../helpers/BindingHelper","../helpers/ConfigurableObject","../helpers/ID","../ManifestSettings"],function(e,t,n,r,i,o,a,l,s,c,v){"use strict";var u={};var d=v.TemplateType;var f=c.getSectionID;var b=c.getEditableHeaderSectionID;var g=c.getCustomSectionID;var p=s.Placement;var m=s.insertCustomElements;var y=l.UI;var h=a.SubSectionType;var S=a.createSubSections;var A=a.createCustomSubSections;var O=a.createCustomHeaderFacetSubSections;var E=o.getHeaderFacetsFromManifest;var w=o.getHeaderFacetsFromAnnotations;var C=i.getAvatar;var P=r.getPressExpressionForPrimaryAction;var j=r.getEditCommandExecutionVisible;var H=r.getEditCommandExecutionEnabled;var I=n.not;var F=n.ifElse;var T=n.getExpressionFromAnnotation;var k=n.equal;var M=n.constant;var x=n.compileExpression;var D=t.getHiddenHeaderActions;var U=t.getHeaderDefaultActions;var B=t.getFooterDefaultActions;var V=e.removeDuplicateActions;var z=e.getActionsFromManifest;function W(e){return G(e)||_(e)||N(e)||L()}function L(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if(!e)return;if(typeof e==="string")return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}function _(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G(e){if(Array.isArray(e))return q(e)}function q(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++){r[n]=e[n]}return r}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $(e,t,n){t=K(t);if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function K(e){var t=Q(e,"string");return typeof t==="symbol"?t:String(t)}function Q(e,t){if(typeof e!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if(typeof r!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X=function(e,t){var n,r;return((n=e.ID)===null||n===void 0?void 0:n.toString())||((r=e.Label)===null||r===void 0?void 0:r.toString())||t};function Y(e,t){var n,r;var i=b();var o=(n=e.getEntityType().annotations)===null||n===void 0?void 0:(r=n.UI)===null||r===void 0?void 0:r.HeaderFacets;var a=o?S(o,e,true):[];var l=O(e);var s=[];if(l.length>0){var c=0;t.forEach(function(e){while(a.length>c&&a[c].visible==="false"){s.push(a[c]);c++}if(a.length>c&&(e.key===a[c].key||e.key.slice(e.key.lastIndexOf("::")+2)===a[c].key.slice(a[c].key.lastIndexOf("::")+2))){s.push(a[c]);c++}else{l.forEach(function(t){if(e.key===t.key){s.push(t)}})}})}else{s=a}var v={id:i,key:"EditableHeaderContent",title:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_HEADER_SECTION}",visible:x(y.IsEditable),subSections:s};return v}u.createEditableHeaderSection=Y;function Z(e){var t,n,r;var i=e.getEntityType();var o=((t=i.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(r=n.Facets)===null||r===void 0?void 0:r.map(function(t){return ee(t,e)}))||[];return o}function ee(e,t){var n,r,i;var o=f({Facet:e});var a={id:o,key:X(e,o),title:x(T(e.Label)),showTitle:!!e.Label,visible:x(I(k(T((n=e.annotations)===null||n===void 0?void 0:(r=n.UI)===null||r===void 0?void 0:(i=r.Hidden)===null||i===void 0?void 0:i.valueOf()),true))),subSections:S([e],t)};return a}function te(e,t){var n={};Object.keys(e).forEach(function(r){n[r]=ne(e[r],r,t)});return n}function ne(e,t,n){var r=e.id||g(t);var i=e.position;if(!i){i={placement:p.After}}var o;if(!e.subSections){o=$({},t,R(R({},e),{},{position:undefined,visible:"true"}))}else{o=e.subSections}var a=A(o,n);var l={id:r,key:t,title:e.title,showTitle:!!e.title,visible:e.visible!==undefined?e.visible:"true",position:i,subSections:a};return l}var re=function(e){var t=U(e);var n=e.getManifestWrapper();var r=z(n.getHeaderActions(),e,t,undefined,undefined,D(e));var i=m(t,r.actions,{isNavigable:"overwrite",enabled:"overwrite",visible:"overwrite",defaultValuesExtensionFunction:"overwrite",command:"overwrite"});return{actions:V(i),commandActions:r.commandActions}};u.getHeaderActions=re;var ie=function(e){var t=e.getManifestWrapper();var n=B(t.getViewLevel(),e);var r=z(t.getFooterActions(),e,n);var i=m(n,r.actions,{isNavigable:"overwrite",enabled:"overwrite",visible:"overwrite",defaultValuesExtensionFunction:"overwrite",command:"overwrite"});return{actions:i,commandActions:r.commandActions}};u.getFooterActions=ie;var oe=function(e,t,n){var r="";var i=[].concat(W(t),W(n));var o=function(e){if(e&&e.indexOf("{=")>-1){return e.replace("{=","(").slice(0,-1)+")"}return e};var a=i.filter(function(t){if(t!==null&&t!==void 0&&t.annotationPath){var n=e.getConverterContextFor(t===null||t===void 0?void 0:t.annotationPath).getDataModelObjectPath().targetObject;if(n!==null&&n!==void 0&&n.Criticality&&(n===null||n===void 0?void 0:n.Criticality)==="UI.CriticalityType/Positive"){return true}}});var l=e.getEntitySet();if(a.length>0){var s,c;r=P(a[0].annotationPath&&e.getConverterContextFor(a[0].annotationPath).getDataModelObjectPath().targetObject,l===null||l===void 0?void 0:l.name,a[0],o((s=a[0].visible)!==null&&s!==void 0?s:"true"),o((c=a[0].enabled)!==null&&c!==void 0?c:"true"),o(j(t)),o(H(t)))}else{r=P(null,l===null||l===void 0?void 0:l.name,null,"false","false",o(j(t)),o(H(t)))}return r};u.getPrimaryAction=oe;function ae(e){var t;return e!==null&&e!==void 0&&(t=e.presentation)!==null&&t!==void 0&&t.visualizations[0]?e.presentation.visualizations[0]:undefined}function le(e,t){var n,r;return e.visible==="true"&&(e===null||e===void 0?void 0:(n=e.presentation)===null||n===void 0?void 0:n.visualizations)&&(t===null||t===void 0?void 0:t.type)==="Table"&&(t===null||t===void 0?void 0:(r=t.control)===null||r===void 0?void 0:r.type)==="GridTable"}function se(e,t,n,r){if(le(t,n)){var i=n.control;if(!(r==="Page"&&e.length>1)){i.rowCountMode="Auto"}}}function ce(e){if(e!==null&&e!==void 0&&e.content){if(e.content.length===1){var t;if(((t=e.content[0].presentation)===null||t===void 0?void 0:t.visualizations[0]).control.type==="GridTable"){var n;((n=e.content[0].presentation)===null||n===void 0?void 0:n.visualizations[0]).control.rowCountMode="Auto"}}}}function ve(e,t,n){var r;var i;var o=t.subSections;if(o.length===1){r=o[0];switch(o[0].type){case"DataVisualization":i=ae(r);se(e,r,i,n);break;case"Mixed":ce(r);break;default:break}}}var ue=function(e){var t=e.getManifestWrapper();var n=m(Z(e),te(t.getSections(),e),{title:"overwrite",visible:"overwrite",subSections:{actions:"merge",title:"overwrite",sideContent:"overwrite"}});n.forEach(function(e){var r;ve(n,e,t.getSectionLayout());(r=e.subSections)===null||r===void 0?void 0:r.forEach(function(e){var t;e.title=e.title==="undefined"?undefined:e.title;if(e.type==="Mixed"&&(t=e.content)!==null&&t!==void 0&&t.length){var n;var r=e.content.find(function(e){return e.type===h.Form});if(e.sideContent){if(r){r.sideContent=e.sideContent}else{e.content[0].sideContent=e.sideContent}e.sideContent=undefined}if(r&&(n=e.actions)!==null&&n!==void 0&&n.length){r.actions=e.actions;e.actions=[]}}})});return n};u.getSections=ue;function de(e){var t,n;var r=e.getManifestWrapper();return(((t=e.getEntityType().annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.HeaderFacets)||[]).length>0||Object.keys(r.getHeaderFacets()).length>0}function fe(e){var t=e.getManifestWrapper();return F(!de(e),M(false),F(k(t.isHeaderEditable(),false),M(true),I(y.IsEditable)))}var be=function(e){return x(fe(e))};u.getShowHeaderContent=be;var ge=function(e){return x(I(fe(e)))};u.getExpandedImageVisible=ge;var pe=function(e){var t,n;var r=e.getManifestWrapper();var i;var o=e.getEntityType();var a=m(w(e),E(r.getHeaderFacets()));var l=re(e);var s=ie(e);if(r.isHeaderEditable()&&((t=o.annotations.UI)!==null&&t!==void 0&&t.HeaderFacets||(n=o.annotations.UI)!==null&&n!==void 0&&n.HeaderInfo)){i=Y(e,a)}var c=ue(e);var v=oe(e,l.actions,s.actions);return{template:d.ObjectPage,header:{visible:r.getShowObjectPageHeader(),section:i,facets:a,actions:l.actions,showContent:be(e),hasContent:de(e),avatar:C(e),title:{expandedImageVisible:ge(e)}},sections:c,footerActions:s.actions,headerCommandActions:l.commandActions,footerCommandActions:s.commandActions,showAnchorBar:r.getShowAnchorBar(),useIconTabBar:r.useIconTabBar(),primaryAction:v}};u.convertPage=pe;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/CollaborationFormatter", [],function(){"use strict";var t={};var o=function(t){if(o.hasOwnProperty(t)){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++){a[i-1]=arguments[i]}return o[t].apply(this,a)}else{return""}};var r=function(t){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++){r[a-1]=arguments[a]}return!!n.apply(void 0,[t].concat(r))};r.__functionName="sap.fe.core.formatters.CollaborationFormatter#hasCollaborationActivity";t.hasCollaborationActivity=r;var a=function(t){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++){r[a-1]=arguments[a]}var i=n.apply(void 0,[t].concat(r));return(i===null||i===void 0?void 0:i.initials)||undefined};a.__functionName="sap.fe.core.formatters.CollaborationFormatter#getCollaborationActivityInitials";t.getCollaborationActivityInitials=a;var i=function(t){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++){r[a-1]=arguments[a]}var i=n.apply(void 0,[t].concat(r));return i!==null&&i!==void 0&&i.color?"Accent".concat(i.color):undefined};i.__functionName="sap.fe.core.formatters.CollaborationFormatter#getCollaborationActivityColor";t.getCollaborationActivityColor=i;function n(t){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++){r[a-1]=arguments[a]}if(t&&t.length>0){return t.find(function(t){var o;var a=(t===null||t===void 0?void 0:(o=t.key)===null||o===void 0?void 0:o.split(","))||[];var i="";var n;for(var l=0;l<a.length;l++){var e;n=a[l].split("=");i=(n[1]||n[0]).split("'").join("");if(i!==((e=r[l])===null||e===void 0?void 0:e.toString())){return false}}return true})}}o.hasCollaborationActivity=r;o.getCollaborationActivityInitials=a;o.getCollaborationActivityColor=i;return o},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/FPMFormatter", [],function(){"use strict";var r=function(r,e,t){var n=this;var o=r.getController().getExtensionAPI();var i=e.split(".");var a=i.pop();var u=i.join("/");return new Promise(function(r){sap.ui.require([u],function(e){r(e[a].bind(o)(n.getBindingContext(),t||[]))})})};r.__functionName="sap.fe.core.formatters.FPMFormatter#customBooleanPropertyCheck";var e=function(r){if(e.hasOwnProperty(r)){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++){n[o-1]=arguments[o]}return e[r].apply(this,n)}else{return""}};e.customBooleanPropertyCheck=r;return e},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/KPIFormatter", ["sap/ui/core/Core"],function(e){"use strict";var r=function(e){if(e){var r=e.split(" ");var t;if(r.length===1){t=r[0].substring(0,3).toUpperCase()}else if(r.length===2){t=(r[0].substring(0,1)+r[1].substring(0,1)).toUpperCase()}else{t=(r[0].substring(0,1)+r[1].substring(0,1)+r[2].substring(0,1)).toUpperCase()}return t}else{return""}};r.__functionName="sap.fe.core.formatters.KPIFormatter#labelFormat";var t=function(r,t,a,s,n){var o=e.getLibraryResourceBundle("sap.fe.core");var i=s?"C_KPI_TOOLTIP_".concat(s.toUpperCase()):"C_KPI_TOOLTIP_NONE";var u;if(n==="true"){if(!a){u=o.getText("C_KPI_TOOLTIP_AMOUNT_MULTIUNIT")}else{u="".concat(t," ").concat(a)}}else{u=t}return o.getText(i,[r,u])};t.__functionName="sap.fe.core.formatters.KPIFormatter#tooltipFormat";var a=function(e){if(a.hasOwnProperty(e)){for(var r=arguments.length,t=new Array(r>1?r-1:0),s=1;s<r;s++){t[s-1]=arguments[s]}return a[e].apply(this,t)}else{return""}};a.labelFormat=r;a.tooltipFormat=t;return a},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/StandardFormatter", ["sap/fe/core/controls/Any","sap/fe/core/helpers/BindingToolkit"],function(r,e){"use strict";var t=e.transformRecursively;var n=e.constant;var a=e.compileExpression;var o=function(r){var e=this;for(var o=arguments.length,s=new Array(o>1?o-1:0),u=1;u<o;u++){s[u-1]=arguments[u]}var f=JSON.parse(r);t(f,"PathInModel",function(r){if(r.modelName==="$"){return n(s[parseInt(r.path.substring(1),10)])}return r},true);t(f,"ComplexType",function(r){var t=a(r);if(t){return n(i(t,e))}return n(t)});var c=a(f);return i(c,this)};var i=function(e,t){var n=new r({anyText:e});n.setModel(t.getModel());n.setBindingContext(t.getBindingContext());return n.getAnyText()};o.__functionName="sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression";var s=function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++){e[t]=arguments[t]}return e.join("")};s.__functionName="sap.fe.core.formatters.StandardFormatter#concat";var u=function(r,e,t){return r?e:t};u.__functionName="sap.fe.core.formatters.StandardFormatter#ifElse";var f=function(r){if(f.hasOwnProperty(r)){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++){t[n-1]=arguments[n]}return f[r].apply(this,t)}else{return""}};f.evaluateComplexExpression=o;f.concat=s;f.ifElse=u;return f},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/TableFormatter", ["sap/fe/core/formatters/TableFormatterTypes"],function(t){"use strict";var e=t.MessageType;var r=function(t){switch(t){case"Error":return 4;case"Warning":return 3;case"Information":return 2;case"None":return 1;default:return-1}};var a=function(t){if(!t){return false}var e=Object.keys(t);return e.length>0&&e.every(function(e){return t[e]["validity"]})};a.__functionName="sap.fe.core.formatters.TableFormatter#validateCreationRowFields";var n=function(t,e,r,a){var n=false;if(e&&e.length>0&&(a||r===t)){var i=this.getBindingContext()?this.getBindingContext().getPath():undefined;e.forEach(function(t){if(t.type==="Error"&&t.aTargets[0].indexOf(i)===0){n=true;return n}})}return n};n.__functionName="sap.fe.core.formatters.TableFormatter#getErrorStatusTextVisibilityFormatter";var i=function(t,a,n,i,o){var s=!n&&!i;var f=-1;if(a&&a.length>0){var l;var u=(l=this.getBindingContext())===null||l===void 0?void 0:l.getPath();a.forEach(function(e){if(e.aTargets[0].indexOf(u)===0&&f<r(e.type)){f=r(e.type);t=e.type}})}if(typeof t!=="string"){switch(t){case 1:t=e.Error;break;case 2:t=e.Warning;break;case 3:t=e.Success;break;case 5:t=e.Information;break;default:t=e.None}}if(t===e.None){if(o==="true"&&s){return e.Information}else{return e.None}}else{return t}};i.__functionName="sap.fe.core.formatters.TableFormatter#rowHighlighting";var o=function(t){var e;var r=(e=this.getBindingContext())===null||e===void 0?void 0:e.getPath();if(r&&t){return t.indexOf(r)===0}else{return false}};o.__functionName="sap.fe.core.formatters.TableFormatter#navigatedRow";function s(t){if(t.isA("sap.fe.core.controls.FieldWrapper")){var e=Array.isArray(t.getContentDisplay())?t.getContentDisplay()[0]:t.getContentDisplay();if(e&&e.isA("sap.m.RatingIndicator")){return true}}return false}function f(t,e){var r=Array.isArray(t.getContentDisplay())?t.getContentDisplay()[0]:t.getContentDisplay();var a=Array.isArray(t.getContentEdit())?t.getContentEdit()[0]:t.getContentEdit();if(e){r.addStyleClass("sapUiNoMarginBottom");r.addStyleClass("sapUiNoMarginTop");a.removeStyleClass("sapUiTinyMarginBottom")}else{r.addStyleClass("sapUiNoMarginBottom");r.removeStyleClass("sapUiNoMarginTop");a.addStyleClass("sapUiTinyMarginBottom")}}function l(){var t=this.getItems();var e=false;for(var r=arguments.length,a=new Array(r),n=0;n<r;n++){a[n]=arguments[n]}for(var i=t.length-1;i>=0;i--){if(!e){if(a[i]!==true){e=true;if(s(t[i])){f(t[i],true)}else{t[i].removeStyleClass("sapUiTinyMarginBottom")}}}else if(s(t[i])){f(t[i],false)}else{t[i].addStyleClass("sapUiTinyMarginBottom")}}return true}l.__functionName="sap.fe.core.formatters.TableFormatter#getVBoxVisibility";var u=function(t){if(u.hasOwnProperty(t)){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++){r[a-1]=arguments[a]}return u[t].apply(this,r)}else{return""}};u.validateCreationRowFields=a;u.rowHighlighting=i;u.navigatedRow=o;u.getErrorStatusTextVisibilityFormatter=n;u.getVBoxVisibility=l;u.isRatingIndicator=s;return u},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/TableFormatterTypes", [],function(){"use strict";var n={};var r;(function(n){n["Error"]="Error";n["Information"]="Information";n["None"]="None";n["Success"]="Success";n["Warning"]="Warning"})(r||(r={}));n.MessageType=r;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/ValueFormatter", ["sap/ui/core/Core","sap/ui/core/format/DateFormat"],function(e,t){"use strict";var r={};var a=function(e){if(a.hasOwnProperty(e)){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++){r[i-1]=arguments[i]}return a[e].apply(this,r)}else{return""}};var i=function(t,r){if(t&&r){return e.getLibraryResourceBundle("sap.fe.core").getText("C_FORMAT_FOR_TEXT_ARRANGEMENT",[t,r])}else{return t||r||""}};i.__functionName="sap.fe.core.formatters.ValueFormatter#formatWithBrackets";var o=function(t,r,a,o,n,s){var c=i(n,s);if(!c){var l=t?t:e.getLibraryResourceBundle("sap.fe.templates").getText("T_NEW_OBJECT");var f=r?r:e.getLibraryResourceBundle("sap.fe.templates").getText("T_ANNOTATION_HELPER_DEFAULT_OBJECT_PAGE_HEADER_TITLE_NO_HEADER_INFO");c=!o&&!a?l:f}return c};o.__functionName="sap.fe.core.formatters.ValueFormatter#formatOPTitle";var n=function(e){return e!==null&&e!==undefined?"".concat(e," %"):""};n.__functionName="sap.fe.core.formatters.ValueFormatter#formatWithPercentage";var s=function(e,t,r){var a;var i=typeof e==="string"?parseFloat(e):e;var o=typeof t==="string"?parseFloat(t):t;if(r==="%"){if(i>100){a="100"}else if(i<=0){a="0"}else{a=typeof e==="string"?e:e===null||e===void 0?void 0:e.toString()}}else if(i>o){a="100"}else if(i<=0){a="0"}else{a=i&&o?(i/o*100).toString():"0"}return a};s.__functionName="sap.fe.core.formatters.ValueFormatter#computePercentage";var c=function(e){var t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="sap-icon://message-error"}else if(e==="UI.CriticalityType/Critical"||e==="2"||e===2){t="sap-icon://message-warning"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="sap-icon://message-success"}else if(e==="UI.CriticalityType/Information"||e==="5"||e===5){t="sap-icon://message-information"}else{t=""}return t};c.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityIcon";r.formatCriticalityIcon=c;var l=function(e){var t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="Error"}else if(e==="UI.CriticalityType/Critical"||e==="2"||e===2){t="Warning"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="Success"}else if(e==="UI.CriticalityType/Information"||e==="5"||e===5){t="Information"}else{t="None"}return t};l.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityValueState";r.formatCriticalityValueState=l;var f=function(e){var t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="Reject"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="Accept"}else{t="Default"}return t};f.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityButtonType";r.formatCriticalityButtonType=f;var u=function(e){var t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="Error"}else if(e==="UI.CriticalityType/Critical"||e==="2"||e===2){t="Critical"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="Good"}else{t="Neutral"}return t};u.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityColorMicroChart";r.formatCriticalityColorMicroChart=u;var m=function(r,a,i){if(r&&a&&i){var o,n,s;var c=i.split("-");var l="".concat(c[1]===undefined?i:c[1],"-narrow");var f=t.getDateInstance();var u=f.oLocaleData.mData;var m=e.getLibraryResourceBundle("sap.fe.macros");var y=i;if(u!==null&&u!==void 0&&(o=u.dateFields[l])!==null&&o!==void 0&&o.displayName){y=u.dateFields[l].displayName}else if(u!==null&&u!==void 0&&(n=u.units)!==null&&n!==void 0&&(s=n.short[i])!==null&&s!==void 0&&s.displayName){y=u.units.short[i].displayName}return m.getText("T_COMMON_PROGRESS_INDICATOR_DISPLAY_VALUE_WITH_UOM",[r,a,y])}};m.__functionName="sap.fe.core.formatters.ValueFormatter#formatProgressIndicatorText";r.formatProgressIndicatorText=m;a.formatWithBrackets=i;a.formatOPTitle=o;a.formatWithPercentage=n;a.computePercentage=s;a.formatCriticalityIcon=c;a.formatCriticalityValueState=l;a.formatCriticalityButtonType=f;a.formatCriticalityColorMicroChart=u;a.formatProgressIndicatorText=m;return a},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/fpm/Component", ["sap/fe/core/helpers/ClassSupport","sap/fe/core/TemplateComponent"],function(e,r){"use strict";var i,t,n,a,o,l,u,c,f;var s=e.property;var p=e.defineUI5Class;function b(e,r,i,t){if(!i)return;Object.defineProperty(e,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(t):void 0})}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function d(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;v(e,r)}function v(e,r){v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(r,i){r.__proto__=i;return r};return v(e,r)}function w(e,r,i,t,n){var a={};Object.keys(t).forEach(function(e){a[e]=t[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=i.slice().reverse().reduce(function(i,t){return t(e,r,i)||i},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,r,a);a=null}return a}function y(e,r){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var g=(i=p("sap.fe.core.fpm.Component",{manifest:"json"}),t=s({type:"string"}),n=s({type:"string"}),a=s({type:"string"}),i(o=(l=function(e){d(r,e);function r(r){var i;if(r.viewType==="JSX"){r._mdxViewName=r.viewName;r.viewName="module:sap/fe/core/jsx-runtime/ViewLoader"}i=e.call(this,r)||this;b(i,"viewName",u,m(i));b(i,"controllerName",c,m(i));b(i,"_mdxViewName",f,m(i));return i}return r}(r),u=w(l.prototype,"viewName",[t],{configurable:true,enumerable:true,writable:true,initializer:null}),c=w(l.prototype,"controllerName",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),f=w(l.prototype,"_mdxViewName",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),l))||o);return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/AnnotationEnum", [],function(){"use strict";var r={};function t(r,t){return o(r)||l(r,t)||n(r,t)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(r,t){if(!r)return;if(typeof r==="string")return a(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor)e=r.constructor.name;if(e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a(r,t)}function a(r,t){if(t==null||t>r.length)t=r.length;for(var e=0,n=new Array(t);e<t;e++){n[e]=r[e]}return n}function l(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var n,a,l,o,i=[],u=!0,f=!1;try{if(l=(e=e.call(r)).next,0===t){if(Object(e)!==e)return;u=!1}else for(;!(u=(n=l.call(e)).done)&&(i.push(n.value),i.length!==t);u=!0){}}catch(r){f=!0,a=r}finally{try{if(!u&&null!=e.return&&(o=e.return(),Object(o)!==o))return}finally{if(f)throw a}}return i}}function o(r){if(Array.isArray(r))return r}var i={"com.sap.vocabularies.Common.v1.FieldControlType":{Mandatory:7,Optional:3,ReadOnly:0,Inapplicable:0,Disabled:1}};var u=function(r){var e=r.split("/"),n=t(e,2),a=n[0],l=n[1];if(i.hasOwnProperty(a)){return i[a][l]}else{return false}};r.resolveEnumValue=u;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/AppStartupHelper", ["sap/ui/model/Filter","sap/ui/model/FilterOperator","./ModelHelper"],function(e,t,a){"use strict";var r={_getKeysFromStartupParams:function(e,t){var a=true;var r=e.map(function(e){if(t[e]&&t[e].length===1){return{name:e,value:t[e][0]}}else{a=false;return{name:e,value:""}}});return a?r:undefined},_createFilterFromKeys:function(r,n,i){var o=a.isFilteringCaseSensitive(i);var s=false;var u=r.map(function(a){if(a.name==="IsActiveEntity"){s=true}return new e({path:a.name,operator:t.EQ,value1:a.value,caseSensitive:o})});if(n&&!s){var c=new e({filters:[new e("IsActiveEntity","EQ",false),new e("SiblingEntity/IsActiveEntity","EQ",null)],and:false});u.push(c)}return new e(u,true)},_requestObjectsFromParameters:function(e,t){var a=this;var r=e.map(function(e){var r=e.semanticKeys||e.technicalKeys||[];var n=a._createFilterFromKeys(r,e.draftMode,t.getMetaModel());var i=t.bindList(e.contextPath,undefined,undefined,n,{$select:r.map(function(e){return e.name}).join(",")});return i.requestContexts(0,2)});return Promise.all(r)},_getReachablePageInfoFromRoute:function(e,t,a,r){var n,i;var o=e.pattern.replace(":?query:","");o=o.replace(/\/$/,"");if(!o||!o.endsWith(")")){return undefined}o=o.replace(/\(\{[^\}]*\}\)/g,"(#)");var s=Array.isArray(e.target)?e.target[e.target.length-1]:e.target;var u=t.targets[s];var c=o.split("/");var l=c.length-1;if(l!==0&&(u===null||u===void 0?void 0:(n=u.options)===null||n===void 0?void 0:(i=n.settings)===null||i===void 0?void 0:i.allowDeepLinking)!==true){return undefined}var f=u.options.settings.contextPath||u.options.settings.entitySet&&"/".concat(u.options.settings.entitySet);var v=f&&r.getObject("/$EntityContainer".concat(f,"/"));if(!v){return undefined}var p=r.getObject("/$EntityContainer".concat(f,"/@com.sap.vocabularies.Common.v1.SemanticKey"));var g=p?this._getKeysFromStartupParams(p.map(function(e){return e.$PropertyPath}),a):undefined;var h=!g&&l===0?this._getKeysFromStartupParams(v["$Key"],a):undefined;if(g===undefined&&h===undefined){return undefined}var d=r.getObject("/$EntityContainer".concat(f,"@com.sap.vocabularies.Common.v1.DraftRoot"))||r.getObject("/$EntityContainer".concat(f,"@com.sap.vocabularies.Common.v1.DraftNode"))?true:false;return{pattern:o,contextPath:f,draftMode:d,technicalKeys:h,semanticKeys:g,target:s,pageLevel:l}},_getReachablePages:function(e,t,a){var r=this;var n=e.routes;var i={};n.forEach(function(n){var o=r._getReachablePageInfoFromRoute(n,e,t,a);if(o){if(!i[o.pageLevel]){i[o.pageLevel]=[]}i[o.pageLevel].push(o)}});var o=[];var s=0;while(i[s]){o.push(i[s]);s++}return o},_getStartupPagesFromStartupParams:function(e,t,a){var r=this._getReachablePages(e,t,a);if(r.length===0){return[]}var n=[];var i=[];function o(e){var t=r[e];var a=i.length?i[i.length-1]:undefined;if(t){t.forEach(function(t){if(!a||t.pattern.indexOf(a.pattern)===0){i.push(t);o(e+1);i.pop()}})}if(i.length>n.length){n=i.slice()}}o(0);return n},_getDeepLinkObject:function(e,t){if(t.length===1){return{context:t[0]}}else if(t.length>1){var a=e[e.length-1].pattern;t.forEach(function(e){a=a.replace("(#)","(".concat(e.getPath().split("(")[1]))});return{hash:a}}else{return{}}},getDeepLinkStartupHash:function(e,t,a){var r=this;var n;return a.getMetaModel().requestObject("/$EntityContainer/").then(function(){n=r._getStartupPagesFromStartupParams(e,t,a.getMetaModel());return r._requestObjectsFromParameters(n,a)}).then(function(e){if(e.length){var t=[];e.forEach(function(e){if(e.length===1){t.push(e[0])}});return t.length===e.length?r._getDeepLinkObject(n,t):{}}else{return{}}})},getCreateStartupHash:function(e,t,a,r){var n=this;return r.requestObject("".concat(t,"@")).then(function(i){var o="";var s=true;if(i["@com.sap.vocabularies.Common.v1.DraftRoot"]&&i["@com.sap.vocabularies.Common.v1.DraftRoot"]["NewAction"]){o="".concat(t,"@com.sap.vocabularies.Common.v1.DraftRoot/NewAction@Org.OData.Core.V1.OperationAvailable")}else if(i["@com.sap.vocabularies.Session.v1.StickySessionSupported"]&&i["@com.sap.vocabularies.Session.v1.StickySessionSupported"]["NewAction"]){o="".concat(t,"@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction@Org.OData.Core.V1.OperationAvailable")}if(o){var u=r.getObject(o);if(u===false){s=false}}else{var c=i["@Org.OData.Capabilities.V1.InsertRestrictions"];if(c&&c.Insertable===false){s=false}}if(s){return n.getDefaultCreateHash(e,t,a)}else{return""}})},getDefaultCreateHash:function(e,t,a){var r=e&&e.preferredMode?e.preferredMode[0]:"create";var n="";r=r.indexOf(":")!==-1&&r.length>r.indexOf(":")+1?r.substr(0,r.indexOf(":")):"create";n="".concat(t.substring(1),"(...)?i-action=").concat(r);if(a.getRouteInfoByHash(n)){return n}else{throw new Error("No route match for creating a new ".concat(t.substring(1)))}}};return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/BindingToolkit", ["./AnnotationEnum"],function(e){"use strict";var r={};var n=e.resolveEnumValue;function t(e,r){return u(e)||o(e,r)||v(e,r)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o,u,i=[],s=!0,f=!1;try{if(o=(n=n.call(e)).next,0===r){if(Object(n)!==n)return;s=!1}else for(;!(s=(t=o.call(n)).done)&&(i.push(t.value),i.length!==r);s=!0){}}catch(e){f=!0,a=e}finally{try{if(!s&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(f)throw a}}return i}}function u(e){if(Array.isArray(e))return e}function i(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach(function(r){f(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f(e,r,n){r=c(r);if(r in e){Object.defineProperty(e,r,{value:n,enumerable:true,configurable:true,writable:true})}else{e[r]=n}return e}function c(e){var r=l(e,"string");return typeof r==="symbol"?r:String(r)}function l(e,r){if(typeof e!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var t=n.call(e,r||"default");if(typeof t!=="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function p(e){return m(e)||y(e)||v(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,r){if(!e)return;if(typeof e==="string")return h(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,r)}function y(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m(e){if(Array.isArray(e))return h(e)}function h(e,r){if(r==null||r>e.length)r=e.length;for(var n=0,t=new Array(r);n<r;n++){t[n]=e[n]}return t}var g={_type:"Unresolvable"};r.unresolveableExpression=g;function b(e){return e.replace(/'/g,"\\'")}function O(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}return r.find(function(e){return e._type==="Unresolvable"})!==undefined}r.hasUnresolveableExpression=O;function E(e,r){if(e._type!==r._type){return false}switch(e._type){case"Unresolvable":return false;case"Constant":case"EmbeddedBinding":case"EmbeddedExpressionBinding":return e.value===r.value;case"Not":return E(e.operand,r.operand);case"Truthy":return E(e.operand,r.operand);case"Set":return e.operator===r.operator&&e.operands.length===r.operands.length&&e.operands.every(function(e){return r.operands.some(function(r){return E(e,r)})});case"IfElse":return E(e.condition,r.condition)&&E(e.onTrue,r.onTrue)&&E(e.onFalse,r.onFalse);case"Comparison":return e.operator===r.operator&&E(e.operand1,r.operand1)&&E(e.operand2,r.operand2);case"Concat":var n=e.expressions;var t=r.expressions;if(n.length!==t.length){return false}return n.every(function(e,r){return E(e,t[r])});case"Length":return E(e.pathInModel,r.pathInModel);case"PathInModel":return e.modelName===r.modelName&&e.path===r.path&&e.targetEntitySet===r.targetEntitySet;case"Formatter":return e.fn===r.fn&&e.parameters.length===r.parameters.length&&e.parameters.every(function(e,n){return E(r.parameters[n],e)});case"ComplexType":return e.type===r.type&&e.bindingParameters.length===r.bindingParameters.length&&e.bindingParameters.every(function(e,n){return E(r.bindingParameters[n],e)});case"Function":var a=r;if(e.obj===undefined||a.obj===undefined){return e.obj===a}return e.fn===a.fn&&E(e.obj,a.obj)&&e.parameters.length===a.parameters.length&&e.parameters.every(function(e,r){return E(a.parameters[r],e)});case"Ref":return e.ref===r.ref}return false}r._checkExpressionsAreEqual=E;function _(e){return e.operands.reduce(function(r,n){var t=n._type==="Set"&&n.operator===e.operator?n.operands:[n];t.forEach(function(e){if(r.operands.every(function(r){return!E(r,e)})){r.operands.push(e)}});return r},{_type:"Set",operator:e.operator,operands:[]})}function P(e){var r=e.map($);return e.some(function(e,n){for(var t=n+1;t<r.length;t++){if(E(e,r[t])){return true}}return false})}function j(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}var t=_({_type:"Set",operator:"&&",operands:r.map(F)}).operands;if(O.apply(void 0,p(t))){return g}var a=false;var o=t.filter(function(e){if(L(e)){a=true}return!M(e)});if(a){return T(false)}else if(o.length===0){var u=t.reduce(function(e,r){return e&&k(r)},true);return T(u)}else if(o.length===1){return o[0]}else if(P(o)){return T(false)}else{return{_type:"Set",operator:"&&",operands:o}}}r.and=j;function w(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}var t=_({_type:"Set",operator:"||",operands:r.map(F)}).operands;if(O.apply(void 0,p(t))){return g}var a=false;var o=t.filter(function(e){if(k(e)){a=true}return!M(e)||e.value});if(a){return T(true)}else if(o.length===0){var u=t.reduce(function(e,r){return e&&k(r)},true);return T(u)}else if(o.length===1){return o[0]}else if(P(o)){return T(true)}else{return{_type:"Set",operator:"||",operands:o}}}r.or=w;function $(e){e=F(e);if(O(e)){return g}else if(M(e)){return T(!e.value)}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="||"&&e.operands.every(function(e){return M(e)||U(e)})){return j.apply(void 0,p(e.operands.map(function(e){return $(e)})))}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="&&"&&e.operands.every(function(e){return M(e)||U(e)})){return w.apply(void 0,p(e.operands.map(function(e){return $(e)})))}else if(U(e)){switch(e.operator){case"!==":return s(s({},e),{},{operator:"==="});case"<":return s(s({},e),{},{operator:">="});case"<=":return s(s({},e),{},{operator:">"});case"===":return s(s({},e),{},{operator:"!=="});case">":return s(s({},e),{},{operator:"<="});case">=":return s(s({},e),{},{operator:"<"})}}else if(e._type==="Not"){return e.operand}return{_type:"Not",operand:e}}r.not=$;function I(e){if(M(e)){return T(!!e.value)}else{return{_type:"Truthy",operand:e}}}r.isTruthy=I;function S(e,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var t=arguments.length>3?arguments[3]:undefined;return x(e,r,n,t)}r.bindingExpression=S;function x(e,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var t=arguments.length>3?arguments[3]:undefined;if(e===undefined){return g}var a;if(t){a=t(e);if(a===undefined){return g}}else{var o=n.concat();o.push(e);a=o.join("/")}return{_type:"PathInModel",modelName:r,path:a}}r.pathInModel=x;function T(e){var r;if(typeof e==="object"&&e!==null&&e!==undefined){if(Array.isArray(e)){r=e.map(F)}else if(D(e)){r=e.valueOf()}else{r=Object.entries(e).reduce(function(e,r){var n=t(r,2),a=n[0],o=n[1];var u=F(o);if(u._type!=="Constant"||u.value!==undefined){e[a]=u}return e},{})}}else{r=e}return{_type:"Constant",value:r}}r.constant=T;function C(e,r){if(e!==undefined&&typeof e==="string"&&e.startsWith("{")){if(e.startsWith("{=")){return{_type:"EmbeddedExpressionBinding",value:e}}else{return{_type:"EmbeddedBinding",value:e}}}else if(r==="boolean"&&typeof e==="string"&&(e==="true"||e==="false")){return T(e==="true")}else if(r==="number"&&typeof e==="string"&&(!isNaN(Number(e))||e==="NaN")){return T(Number(e))}else{return T(e)}}r.resolveBindingString=C;function A(e){return{_type:"Ref",ref:e}}r.ref=A;function N(e){return e!==null&&typeof e==="object"&&e._type!==undefined}function F(e){if(N(e)){return e}return T(e)}function M(e){return typeof e!=="object"||e._type==="Constant"}r.isConstant=M;function k(e){return M(e)&&e.value===true}function L(e){return M(e)&&e.value===false}function q(e){return typeof e==="object"&&e._type==="PathInModel"}r.isPathInModelExpression=q;function G(e){return typeof e==="object"&&e._type==="ComplexType"}r.isComplexTypeExpression=G;function B(e){return typeof e==="object"&&e._type==="Concat"}function U(e){return e._type==="Comparison"}function D(e){switch(e.constructor.name){case"String":case"Number":case"Boolean":return true;default:return false}}function R(e){return typeof e==="object"&&!D(e)}function J(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2?arguments[2]:undefined;var t=arguments.length>3?arguments[3]:undefined;return W(e,r,n,t)}r.annotationExpression=J;function W(e){var r;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var t=arguments.length>2?arguments[2]:undefined;var a=arguments.length>3?arguments[3]:undefined;if(e===undefined){return F(t)}e=(r=e)===null||r===void 0?void 0:r.valueOf();if(!R(e)){return T(e)}switch(e.type){case"Path":return x(e.path,undefined,n,a);case"If":return z(e.If,n,a);case"Not":return $(V(e.Not,n,a));case"Eq":return X(V(e.Eq[0],n,a),V(e.Eq[1],n,a));case"Ne":return Y(V(e.Ne[0],n,a),V(e.Ne[1],n,a));case"Gt":return ee(V(e.Gt[0],n,a),V(e.Gt[1],n,a));case"Ge":return Z(V(e.Ge[0],n,a),V(e.Ge[1],n,a));case"Lt":return ne(V(e.Lt[0],n,a),V(e.Lt[1],n,a));case"Le":return re(V(e.Le[0],n,a),V(e.Le[1],n,a));case"Or":return w.apply(void 0,p(e.Or.map(function(e){return V(e,n,a)})));case"And":return j.apply(void 0,p(e.And.map(function(e){return V(e,n,a)})));case"Apply":return H(e,n,a)}return g}r.getExpressionFromAnnotation=W;function V(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var t=arguments.length>2?arguments[2]:undefined;if(e===null||typeof e!=="object"){return T(e)}else if(e.hasOwnProperty("$Or")){return w.apply(void 0,p(e.$Or.map(function(e){return V(e,r,t)})))}else if(e.hasOwnProperty("$And")){return j.apply(void 0,p(e.$And.map(function(e){return V(e,r,t)})))}else if(e.hasOwnProperty("$Not")){return $(V(e.$Not,r,t))}else if(e.hasOwnProperty("$Eq")){return X(V(e.$Eq[0],r,t),V(e.$Eq[1],r,t))}else if(e.hasOwnProperty("$Ne")){return Y(V(e.$Ne[0],r,t),V(e.$Ne[1],r,t))}else if(e.hasOwnProperty("$Gt")){return ee(V(e.$Gt[0],r,t),V(e.$Gt[1],r,t))}else if(e.hasOwnProperty("$Ge")){return Z(V(e.$Ge[0],r,t),V(e.$Ge[1],r,t))}else if(e.hasOwnProperty("$Lt")){return ne(V(e.$Lt[0],r,t),V(e.$Lt[1],r,t))}else if(e.hasOwnProperty("$Le")){return re(V(e.$Le[0],r,t),V(e.$Le[1],r,t))}else if(e.hasOwnProperty("$Path")){return x(e.$Path,undefined,r,t)}else if(e.hasOwnProperty("$Apply")){return W({type:"Apply",Function:e.$Function,Apply:e.$Apply},r,undefined,t)}else if(e.hasOwnProperty("$If")){return W({type:"If",If:e.$If},r,undefined,t)}else if(e.hasOwnProperty("$EnumMember")){return T(n(e.$EnumMember))}return T(false)}function z(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2?arguments[2]:undefined;return te(V(e[0],r,n),V(e[1],r,n),V(e[2],r,n))}r.annotationIfExpression=z;function H(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2?arguments[2]:undefined;switch(e.Function){case"odata.concat":return fe.apply(void 0,p(e.Apply.map(function(e){var t=e;if(e.hasOwnProperty("$Path")){t={type:"Path",path:e.$Path}}else if(e.hasOwnProperty("$If")){t={type:"If",If:e.$If}}else if(e.hasOwnProperty("$Apply")){t={type:"Apply",Function:e.$Function,Apply:e.$Apply}}return W(t,r,undefined,n)})))}return g}r.annotationApplyExpression=H;function K(e,r,n){var t=F(r);var a=F(n);if(O(t,a)){return g}if(M(t)&&M(a)){switch(e){case"!==":return T(t.value!==a.value);case"<":return T(t.value<a.value);case"<=":return T(t.value<=a.value);case">":return T(t.value>a.value);case">=":return T(t.value>=a.value);case"===":return T(t.value===a.value)}}else{return{_type:"Comparison",operator:e,operand1:t,operand2:a}}}function Q(e){if(e._type==="Unresolvable"){return e}return{_type:"Length",pathInModel:e}}r.length=Q;function X(e,r){var n;var t=F(e);var a=F(r);if(O(t,a)){return g}if(E(t,a)){return T(true)}function o(e,r){if(e._type==="Comparison"&&k(r)){return e}else if(e._type==="Comparison"&&L(r)){return $(e)}else if(e._type==="IfElse"&&E(e.onTrue,r)){return w(e.condition,X(e.onFalse,r))}else if(e._type==="IfElse"&&E(e.onFalse,r)){return w($(e.condition),X(e.onTrue,r))}else if(e._type==="IfElse"&&M(e.onTrue)&&M(e.onFalse)&&M(r)&&!E(e.onTrue,r)&&!E(e.onFalse,r)){return T(false)}return undefined}var u=(n=o(t,a))!==null&&n!==void 0?n:o(a,t);return u!==null&&u!==void 0?u:K("===",t,a)}r.equal=X;function Y(e,r){return $(X(e,r))}r.notEqual=Y;function Z(e,r){return K(">=",e,r)}r.greaterOrEqual=Z;function ee(e,r){return K(">",e,r)}r.greaterThan=ee;function re(e,r){return K("<=",e,r)}r.lessOrEqual=re;function ne(e,r){return K("<",e,r)}r.lessThan=ne;function te(e,r,n){var t=F(e);var a=F(r);var o=F(n);if(O(t,a,o)){return g}if(t._type==="Not"){var u=[o,a];a=u[0];o=u[1];t=$(t)}if(a._type==="IfElse"&&E(t,a.condition)){a=a.onTrue}if(o._type==="IfElse"&&E(t,o.condition)){o=o.onFalse}if(M(t)){return t.value?a:o}if(E(a,o)){return a}if(L(o)){return j(t,a)}if(k(o)){return w($(t),a)}if(L(a)){return j($(t),o)}if(k(a)){return w(t,o)}if(G(e)||G(r)||G(n)){var i=0;var s=oe([e,r,n],"sap.fe.core.formatters.StandardFormatter#ifElse");var f=[];ce(s,"PathInModel",function(e){f.push(e);return x("$".concat(i++),"$")},true);f.unshift(T(JSON.stringify(s)));return oe(f,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"IfElse",condition:t,onTrue:a,onFalse:o}}r.ifElse=te;function ae(e){switch(e._type){case"Constant":case"Formatter":case"ComplexType":return false;case"Set":return e.operands.some(ae);case"PathInModel":return e.modelName===undefined;case"Comparison":return ae(e.operand1)||ae(e.operand2);case"IfElse":return ae(e.condition)||ae(e.onTrue)||ae(e.onFalse);case"Not":case"Truthy":return ae(e.operand);default:return false}}function oe(e,r,n){var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var o=e.map(F);if(O.apply(void 0,p(o))){return g}if(n){if(!o.some(ae)){n.keys.forEach(function(e){return o.push(x(e.name,""))})}}var u="";if(typeof r==="string"){u=r}else{u=r.__functionName}var i=u.split("#"),s=t(i,2),f=s[0],c=s[1];if(!a&&(o.some(G)||o.some(B))){var l=0;var d=oe(o,u,undefined,true);var v=[];ce(d,"PathInModel",function(e){v.push(e);return x("$".concat(l++),"$")});v.unshift(T(JSON.stringify(d)));return oe(v,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}else if(!!c&&c.length>0){o.unshift(T(c))}return{_type:"Formatter",fn:f,parameters:o}}r.formatResult=oe;function ue(e,r,n,t){var a,o,u,i,s,f;var c=e.map(F);if(O.apply(void 0,p(c))){return g}if(c.length===1&&M(c[0])&&!n){return c[0]}else if(n){if(!c.some(ae)){n.keys.forEach(function(e){return c.push(x(e.name,""))})}}if(!(t&&t.showNumber===false)&&(((a=e[0])===null||a===void 0?void 0:(o=a.type)===null||o===void 0?void 0:o.indexOf("sap.ui.model.odata.type.Int"))===0||((u=e[0])===null||u===void 0?void 0:(i=u.type)===null||i===void 0?void 0:i.indexOf("sap.ui.model.odata.type.Decimal"))===0||((s=e[0])===null||s===void 0?void 0:(f=s.type)===null||f===void 0?void 0:f.indexOf("sap.ui.model.odata.type.Double"))===0)){var l,d;if(((l=e[0])===null||l===void 0?void 0:l.type)==="sap.ui.model.odata.type.Int64"||((d=e[0])===null||d===void 0?void 0:d.type)==="sap.ui.model.odata.type.Decimal"){var v;t=((v=t)===null||v===void 0?void 0:v.showMeasure)===false?{emptyString:"",showMeasure:false}:{emptyString:""}}else{var y;t=((y=t)===null||y===void 0?void 0:y.showMeasure)===false?{parseAsString:false,emptyString:"",showMeasure:false}:{parseAsString:false,emptyString:""}}}if(r==="sap.ui.model.odata.type.Unit"){var m=x("/##@@requestUnitsOfMeasure");m.targetType="any";m.mode="OneTime";c.push(m)}else if(r==="sap.ui.model.odata.type.Currency"){var h=x("/##@@requestCurrencyCodes");h.targetType="any";h.mode="OneTime";c.push(h)}return{_type:"ComplexType",type:r,formatOptions:t||{},parameters:{},bindingParameters:c}}r.addTypeInformation=ue;function ie(e,r,n){var t=typeof e==="string"?e:e.__functionName;return{_type:"Function",obj:n!==undefined?F(n):undefined,fn:t,parameters:r.map(F)}}r.fn=ie;function se(e){var r=[];ce(e,"PathInModel",function(e){r.push(w(X(e,""),X(e,undefined),X(e,null)));return e});return j.apply(void 0,r)}r.isEmpty=se;function fe(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}var t=r.map(F);if(O.apply(void 0,p(t))){return g}if(t.every(M)){return T(t.reduce(function(e,r){if(r.value!==undefined){return e+r.value.toString()}return e},""))}else if(t.some(G)){var a=0;var o=oe(t,"sap.fe.core.formatters.StandardFormatter#concat",undefined,true);var u=[];ce(o,"PathInModel",function(e){u.push(e);return x("$".concat(a++),"$")});u.unshift(T(JSON.stringify(o)));return oe(u,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"Concat",expressions:t}}r.concat=fe;function ce(e,r,n){var t=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var a=e;switch(a._type){case"Function":case"Formatter":a.parameters=a.parameters.map(function(e){return ce(e,r,n,t)});break;case"Concat":a.expressions=a.expressions.map(function(e){return ce(e,r,n,t)});a=fe.apply(void 0,p(a.expressions));break;case"ComplexType":a.bindingParameters=a.bindingParameters.map(function(e){return ce(e,r,n,t)});break;case"IfElse":var o=ce(a.onTrue,r,n,t);var u=ce(a.onFalse,r,n,t);var i=a.condition;if(t){i=ce(a.condition,r,n,t)}a=te(i,o,u);break;case"Not":if(t){var s=ce(a.operand,r,n,t);a=$(s)}break;case"Truthy":break;case"Set":if(t){var f=a.operands.map(function(e){return ce(e,r,n,t)});a=a.operator==="||"?w.apply(void 0,p(f)):j.apply(void 0,p(f))}break;case"Comparison":if(t){var c=ce(a.operand1,r,n,t);var l=ce(a.operand2,r,n,t);a=K(a.operator,c,l)}break;case"Ref":case"Length":case"PathInModel":case"Constant":case"EmbeddedBinding":case"EmbeddedExpressionBinding":case"Unresolvable":break}if(r===a._type){a=n(e)}return a}r.transformRecursively=ce;var le=function(e){return!M(e)&&!q(e)&&N(e)&&e._type!=="IfElse"&&e._type!=="Function"};function pe(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(r&&Object.keys(e.value).length===0){return""}var n=e.value;var t=[];Object.keys(n).forEach(function(e){var a=n[e];var o=he(a,true,false,r);if(o&&o.length>0){t.push("".concat(e,": ").concat(o))}});return"{".concat(t.join(", "),"}")}function de(e,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var t=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(e.value===null){return t?null:"null"}if(e.value===undefined){return t?undefined:"undefined"}if(typeof e.value==="object"){if(Array.isArray(e.value)){var a=e.value.map(function(e){return he(e,true)});return"[".concat(a.join(", "),"]")}else{return pe(e,n)}}if(r){switch(typeof e.value){case"number":case"bigint":case"boolean":return e.value.toString();case"string":return"'".concat(b(e.value.toString()),"'");default:return""}}else{return t?e.value:e.value.toString()}}r.compileConstant=de;function ve(e,r,n){if(e.type||e.parameters||e.targetType||e.formatOptions||e.constraints){var t={path:_e(e),type:e.type,targetType:e.targetType,parameters:e.parameters,formatOptions:e.formatOptions,constraints:e.constraints};var a=he(t,false,false,true);if(r){return"".concat(n).concat(a)}return a}else if(r){return"".concat(n,"{").concat(_e(e),"}")}else{return"{".concat(_e(e),"}")}}function ye(e){if(e.bindingParameters.length===1){return"{".concat(Oe(e.bindingParameters[0],true),", type: '").concat(e.type,"'}")}var r="], type: '".concat(e.type,"'");if(Ee(e.formatOptions)){r+=", formatOptions: ".concat(he(e.formatOptions))}if(Ee(e.parameters)){r+=", parameters: ".concat(he(e.parameters))}r+="}";return"{mode:'TwoWay', parts:[".concat(e.bindingParameters.map(function(e){return Oe(e)}).join(",")).concat(r)}function me(e,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(r){if(n){return"(".concat(e,")")}else{return e}}else{return"{= ".concat(e,"}")}}function he(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var t=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var a=F(e);var o=n?"$":"%";switch(a._type){case"Unresolvable":return undefined;case"Constant":return de(a,r,t);case"Ref":return a.ref||"null";case"Function":var u="".concat(a.parameters.map(function(e){return he(e,true)}).join(", "));return a.obj===undefined?"".concat(a.fn,"(").concat(u,")"):"".concat(he(a.obj,true),".").concat(a.fn,"(").concat(u,")");case"EmbeddedExpressionBinding":return r?"(".concat(a.value.substr(2,a.value.length-3),")"):"".concat(a.value);case"EmbeddedBinding":return r?"".concat(o).concat(a.value):"".concat(a.value);case"PathInModel":return ve(a,r,o);case"Comparison":var i=ge(a);return me(i,r);case"IfElse":var s="".concat(he(a.condition,true)," ? ").concat(he(a.onTrue,true)," : ").concat(he(a.onFalse,true));return me(s,r,true);case"Set":var f=a.operands.map(function(e){return he(e,true)}).join(" ".concat(a.operator," "));return me(f,r,true);case"Concat":var c=a.expressions.map(function(e){return he(e,true,true)}).join(" + ");return me(c,r);case"Length":var l="".concat(he(a.pathInModel,true),".length");return me(l,r);case"Not":var p="!".concat(he(a.operand,true));return me(p,r);case"Truthy":var d="!!".concat(he(a.operand,true));return me(d,r);case"Formatter":var v=be(a);return r?"$".concat(v):v;case"ComplexType":var y=ye(a);return r?"$".concat(y):y;default:return""}}r.compileExpression=he;function ge(e){function r(e){var r;var n=(r=he(e,true))!==null&&r!==void 0?r:"undefined";return me(n,true,le(e))}return"".concat(r(e.operand1)," ").concat(e.operator," ").concat(r(e.operand2))}function be(e){if(e.parameters.length===1){return"{".concat(Oe(e.parameters[0],true),", formatter: '").concat(e.fn,"'}")}else{var r=e.parameters.map(function(e){if(e._type==="ComplexType"){return ye(e)}else{return Oe(e)}});return"{parts: [".concat(r.join(", "),"], formatter: '").concat(e.fn,"'}")}}function Oe(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n="";if(e._type==="Constant"){if(e.value===undefined){n="value: 'undefined'"}else{n="value: ".concat(de(e,true))}}else if(e._type==="PathInModel"){n="path: '".concat(_e(e),"'");n+=e.type?", type: '".concat(e.type,"'"):", targetType: 'any'";if(Ee(e.mode)){n+=", mode: '".concat(he(e.mode),"'")}if(Ee(e.constraints)){n+=", constraints: ".concat(he(e.constraints))}if(Ee(e.formatOptions)){n+=", formatOptions: ".concat(he(e.formatOptions))}if(Ee(e.parameters)){n+=", parameters: ".concat(he(e.parameters))}}else{return""}return r?n:"{".concat(n,"}")}function Ee(e){return e&&Object.keys(e).length>0}function _e(e){return"".concat(e.modelName?"".concat(e.modelName,">"):"").concat(e.path)}return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ClassSupport", ["sap/base/util/merge","sap/base/util/ObjectPath","sap/base/util/uid","sap/ui/base/Metadata","sap/ui/core/mvc/ControllerMetadata"],function(t,e,r,n,i){"use strict";var a={};var o=function(e){e.metadata=t({controllerExtensions:{},properties:{},macroContexts:{},aggregations:{},associations:{},methods:{},events:{},interfaces:[]},e.metadata||{});return e.metadata};function u(t){return function(e,r){if(!e.override){e.override={}}var n=e.override;if(t){if(!n.extension){n.extension={}}if(!n.extension[t]){n.extension[t]={}}n=n.extension[t]}n[r.toString()]=e[r.toString()]}}a.methodOverride=u;function s(t){return function(e,r){var n=o(e);if(!n.methods[r.toString()]){n.methods[r.toString()]={}}n.methods[r.toString()].overrideExecution=t}}a.extensible=s;function c(){return function(t,e,r){var n=o(t);r.enumerable=true;if(!n.methods[e.toString()]){n.methods[e.toString()]={}}n.methods[e.toString()].public=true}}a.publicExtension=c;function f(){return function(t,e,r){var n=o(t);r.enumerable=true;if(!n.methods[e.toString()]){n.methods[e.toString()]={}}n.methods[e.toString()].public=false}}a.privateExtension=f;function d(){return function(t,e,r){var n=o(t);r.enumerable=true;if(!n.methods[e.toString()]){n.methods[e.toString()]={}}n.methods[e.toString()].final=true}}a.finalExtension=d;function l(t){return function(e,r,n){var i=o(e);delete n.initializer;i.controllerExtensions[r.toString()]=t;return n}}a.usingExtension=l;function g(){return function(t,e){var r=o(t);if(!r.events[e.toString()]){r.events[e.toString()]={}}}}a.event=g;function p(t){return function(e,r,n){var i=o(e);if(!i.properties[r]){i.properties[r]=t}delete n.writable;delete n.initializer;return n}}a.property=p;function v(t){return function(e,r,n){var i=o(e);if(t.multiple===undefined){t.multiple=false}if(!i.aggregations[r]){i.aggregations[r]=t}if(t.isDefault){i.defaultAggregation=r}delete n.writable;delete n.initializer;return n}}a.aggregation=v;function m(t){return function(e,r,n){var i=o(e);if(!i.associations[r]){i.associations[r]=t}delete n.writable;delete n.initializer;return n}}a.association=m;function y(t){return function(e){var r=o(e);r.interfaces.push(t)}}a.implementInterface=y;function b(){return function(t,e){var r=t.constructor;r[e.toString()]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++){n[i]=arguments[i]}if(n&&n.length){var a=r.getAPI(n[0]);a===null||a===void 0?void 0:a[e.toString()].apply(a,n)}}}}a.xmlEventHandler=b;function h(t,e){return function(r){if(!r.prototype.metadata){r.prototype.metadata={}}if(e){for(var n in e){r.prototype.metadata[n]=e[n]}}return E(r,t,r.prototype)}}a.defineUI5Class=h;function x(){return{current:undefined,setCurrent:function(t){this.current=t}}}a.createReference=x;function S(){return function(t,e,r){delete r.writable;delete r.initializer;r.initializer=x;return r}}a.defineReference=S;function E(t,a,o){var u,s,c,f;if(t.getMetadata&&t.getMetadata().isA("sap.ui.core.mvc.ControllerExtension")){Object.getOwnPropertyNames(o).forEach(function(t){var e=Object.getOwnPropertyDescriptor(o,t);if(e&&!e.enumerable){e.enumerable=true}})}var d={};d.metadata=o.metadata||{};d.override=o.override;d.constructor=t;d.metadata.baseType=Object.getPrototypeOf(t.prototype).getMetadata().getName();if((t===null||t===void 0?void 0:(u=t.getMetadata())===null||u===void 0?void 0:u.getStereotype())==="control"){var l=o.renderer||t.renderer||t.render;d.renderer={apiVersion:2};if(typeof l==="function"){d.renderer.render=l}else if(l!=undefined){d.renderer=l}}d.metadata.interfaces=((s=o.metadata)===null||s===void 0?void 0:s.interfaces)||((c=t.metadata)===null||c===void 0?void 0:c.interfaces);Object.keys(t.prototype).forEach(function(e){if(e!=="metadata"){try{d[e]=t.prototype[e]}catch(t){}}});if((f=d.metadata)!==null&&f!==void 0&&f.controllerExtensions&&Object.keys(d.metadata.controllerExtensions).length>0){for(var g in d.metadata.controllerExtensions){d[g]=d.metadata.controllerExtensions[g]}}var p=t.extend(a,d);var v=p.prototype.init;p.prototype.init=function(){var t=this;if(v){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}v.apply(this,r)}this.metadata=d.metadata;if(d.metadata.properties){var i=Object.keys(d.metadata.properties);i.forEach(function(e){Object.defineProperty(t,e,{configurable:true,set:function(r){return t.setProperty(e,r)},get:function(){return t.getProperty(e)}})});var a=Object.keys(d.metadata.aggregations);a.forEach(function(e){Object.defineProperty(t,e,{configurable:true,set:function(r){return t.setAggregation(e,r)},get:function(){var r=t.getAggregation(e);if(d.metadata.aggregations[e].multiple){return r||[]}else{return r}}})});var o=Object.keys(d.metadata.associations);o.forEach(function(e){Object.defineProperty(t,e,{configurable:true,set:function(r){return t.setAssociation(e,r)},get:function(){var r=t.getAssociation(e);if(d.metadata.associations[e].multiple){return r||[]}else{return r}}})})}};t.override=function(e){var a={};a.constructor=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}return t.apply(this,r)};var o=n.createClass(t,"anonymousExtension~".concat(r()),a,i);o.getMetadata()._staticOverride=e;o.getMetadata()._override=t.getMetadata()._override;return o};e.set(a,p);return p}return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/DynamicAnnotationPathHelper", ["sap/ui/base/BindingParser"],function(r){"use strict";var s={};function e(r,s){if(!r){return null}var t=s.split("/");if(t.length===1){return r[s]}else{return e(r[t[0]],t.splice(1).join("/"))}}function t(s,a){if(s.indexOf("[")!==-1){var i=s.indexOf("[");var n=s.substr(0,i);var u=s.substr(i+1);var f=u.indexOf("]");var l=a.getObject(n);var p=r.parseExpression(u.substr(0,f));if(Array.isArray(l)&&p&&p.result&&p.result.parts&&p.result.parts[0]&&p.result.parts[0].path){var v;var o=false;for(v=0;v<l.length&&!o;v++){var c=e(l[v],p.result.parts[0].path);var b=p.result.formatter(c);if(b){o=true}}if(o){s=t(n+(v-1)+u.substr(f+1),a)}}}return s}s.resolveDynamicExpression=t;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/EditState", [],function(){"use strict";var t={CLEAN:0,PROCESSED:1,DIRTY:2};var e=t.CLEAN;return{setEditStateDirty:function(){e=t.DIRTY},setEditStateProcessed:function(){e=t.PROCESSED},resetEditState:function(){e=t.CLEAN},isEditStateDirty:function(){return e!==t.CLEAN},cleanProcessedEditState:function(){if(e===t.PROCESSED){e=t.CLEAN}}}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ExcelFormatHelper", ["sap/ui/core/format/DateFormat"],function(e){"use strict";var t={getExcelDatefromJSDate:function(){var t=e.getDateInstance().oFormatOptions.pattern.toLowerCase();if(t){var a=/^[^y]*y[^y]*$/m;if(a.exec(t)){t=t.replace("y","yyyy")}}return t},getExcelDateTimefromJSDateTime:function(){var t=e.getDateTimeInstance().oFormatOptions.pattern.toLowerCase();if(t){var a=/^[^y]*y[^y]*$/m;if(a.exec(t)){t=t.replace("y","yyyy")}if(t.includes("a")){t=t.replace("a","AM/PM")}}return t},getExcelTimefromJSTime:function(){var t=e.getTimeInstance().oFormatOptions.pattern;if(t&&t.includes("a")){t=t.replace("a","AM/PM")}return t}};return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/FPMHelper", ["sap/base/util/ObjectPath","sap/fe/core/CommonUtils"],function(e,t){"use strict";var r={actionWrapper:function(r,n,o,i){return new Promise(function(a){var s=r.getSource?r.getSource():r.oSource,l=t.getTargetView(s),u=s.getBindingContext();var p;var f;if(i!==undefined){f=i.contexts||[]}else if(u!==undefined){f=[u]}else{f=[]}if(l.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"||l.getControllerName()==="sap.fe.templates.ListReport.ListReportController"){p=l.getController().getExtensionAPI()}if(n.startsWith("/extension/")){var c=e.get(n.replace(/\//g,".").substr(1),p);a(c[o](u,f))}else{sap.ui.require([n],function(e){a(e[o].bind(p)(u,f))})}})},validationWrapper:function(e,t,r,n,o){return new Promise(function(i){var a;if(n.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"||n.getControllerName()==="sap.fe.templates.ListReport.ListReportController"){a=n.getController().getExtensionAPI()}sap.ui.require([e],function(e){i(e[t].bind(a)(o,r))})})}};return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/KeepAliveHelper", ["sap/base/Log","sap/fe/core/helpers/KeepAliveRefreshTypes","./ModelHelper"],function(e,t,r){"use strict";var n=t.RefreshStrategyType;var a=t.PATH_TO_STORE;var o=function(e,t){var n=r.getEntitySetPath(t);var a=n.indexOf("$NavigationPropertyBinding")>-1&&e.getObject(n);return a?"/".concat(a):t};var i=function(e,t,r){return e===t||r===n.IncludingDependents&&e.startsWith(t)};var s=function(e,t,r,n){var a=t.startsWith("/")?t:"/".concat(t),s=r.startsWith("/")?r:"/".concat(r);if(!i(a,s,n)){a=o(e,a);if(!i(a,s,n)){s=o(e,s)}else{return true}}return i(a,s,n)};var v=function(e,t){var r=[];var n=e.getModel().getMetaModel();var o=e.getModel("internal");var i=o.getProperty(a)||{};if(t){t.forEach(function(e){var t=e.data("targetCollectionPath");for(var a in i){var o=i[a];if(r.indexOf(e)===-1&&s(n,t,a,o)){r.push(e)}}})}return r};var f=function(e,t){var r=e.getModel().getMetaModel();var n=e.getModel("internal");var o=n.getProperty(a)||{};var i;if(t){for(var v in o){var f=o[v];if(s(r,t,v,f)){i=f;if(i==="includingDependents"){break}}}}return i};var c=function(e){var t=e.getViewData(),r=t&&((t===null||t===void 0?void 0:t.contextPath)||"/".concat(t===null||t===void 0?void 0:t.entitySet));return d.getControlRefreshStrategyForContextPath(e,r)};var l=function(e,t,r){var n=t&&r&&"".concat(t,"-").concat(r);var a=e.intents;var o=a&&n&&a[n];var i=!o&&a&&t&&a[t];return o||i||(e===null||e===void 0?void 0:e.defaultBehavior)||(e===null||e===void 0?void 0:e._feDefault)};var u=function(e,t){if(e&&e.getModel("viewData")&&e.getModel("internal")){var r=e.getModel("viewData");var n=r.getProperty(a);if(n){var o=e.getModel("internal");var i=d.getRefreshStrategyForIntent(n,t===null||t===void 0?void 0:t.semanticObject,t===null||t===void 0?void 0:t.action);o.setProperty(a,i)}}};var g=function(t){var r=t.getBindingContext("internal");var n=t.getController();var a=n===null||n===void 0?void 0:n.viewState;var o=Promise.resolve();if(r&&r.getProperty("restoreStatus")==="pending"){if(a.refreshViewBindings){o=a.refreshViewBindings();o.then(function(){e.info("FE V4: Refresh was triggered successfull: ".concat(t.getId()))}).catch(function(r){e.warning("FE V4: Refresh was unsuccessfull: ".concat(t.getId()),r)})}o=o.then(function(){a.onRestore();r.setProperty("restoreStatus","done")}).catch(function(r){e.warning("FE V4: Restore was unsuccessfull: ".concat(t.getId()),r)})}return o};var d={getControlsForRefresh:v,getControlRefreshStrategyForContextPath:f,getViewRefreshInfo:c,getRefreshStrategyForIntent:l,storeControlRefreshStrategyForHash:u,restoreView:g};return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/KeepAliveRefreshTypes", [],function(){"use strict";var e={};var n;(function(e){e["Self"]="self";e["IncludingDependents"]="includingDependents"})(n||(n={}));e.RefreshStrategyType=n;var r="/refreshStrategyOnAppRestore";e.PATH_TO_STORE=r;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/LRMessageStrip", ["sap/ui/core/Core","sap/ui/core/message/Message"],function(e,s){"use strict";var t={};var a=function(){function a(){var s=e.getMessageManager();this.customMessageInfo={messageManagerDataBinding:s.getMessageModel().bindList("/"),multiModeControlMessagesMap:{}}}t.LRMessageStrip=a;var n=a.prototype;n.getCustomMessageInfo=function e(){return this.customMessageInfo};n.destroy=function e(){this.customMessageInfo.messageManagerDataBinding.detachChange(this._eventHandlerCustomMessage,this)};n._getMessagesWithSameTargetThanCustomMessage=function s(){var t=this;var a=e.getMessageManager();return a.getMessageModel().getData().filter(function(e){var s;return e.getTargets()[0]===((s=t.customMessageInfo.currentMessage)===null||s===void 0?void 0:s.getTargets()[0])&&e!==t.customMessageInfo.currentMessage})};n._eventHandlerCustomMessage=function s(){var t=this;var a=e.getMessageManager();if(this.customMessageInfo.currentMessage){var n=this._getMessagesWithSameTargetThanCustomMessage();var o=!!a.getMessageModel().getData().find(function(e){return e===t.customMessageInfo.currentMessage});if(n.length>0&&o){var g;a.removeMessages([(g=this.customMessageInfo)===null||g===void 0?void 0:g.currentMessage])}else if(n.length===0&&!o){a.addMessages([this.customMessageInfo.currentMessage])}}};n.createCustomMessage=function t(a,n){var o,g;var r=n.message;var i=n.table;var M=n.skipMessageManagerUpdate;var u=(o=i.getRowBinding())===null||o===void 0?void 0:o.getPath();var l=e.getMessageManager();var c=this.customMessageInfo.multiModeControlMessagesMap;c[i.getId()]=r;if(!u){i.attachEventOnce("bindingUpdated",n,this.createCustomMessage,this);return}if((g=c[i.getId()])!==null&&g!==void 0&&g.onClose){var d;i.getDataStateIndicator().detachEvent("close",(d=c[i.getId()])===null||d===void 0?void 0:d.onClose,this)}var h=i.getModel();var f=r?new s({message:r.message,type:r.type,target:[u],persistent:true,processor:h}):null;this.customMessageInfo.messageManagerDataBinding.detachChange(this._eventHandlerCustomMessage,this);if(!M){if(this.customMessageInfo.currentMessage){l.removeMessages([this.customMessageInfo.currentMessage])}if(f){this.customMessageInfo.currentMessage=f}else{delete this.customMessageInfo.currentMessage}if(f&&this._getMessagesWithSameTargetThanCustomMessage().length===0){l.addMessages([f])}}this.customMessageInfo.messageManagerDataBinding.attachChange(this._eventHandlerCustomMessage,this);this.attachDataStateIndicatorCloseEvent(i,c,r===null||r===void 0?void 0:r.onClose)};n.attachDataStateIndicatorCloseEvent=function e(s,t,a){if(a){s.getDataStateIndicator().attachEventOnce("close",a,this)}s.getDataStateIndicator().attachEventOnce("close",function(){delete t[s.getId()]})};n.onSelectMultipleModeControl=function e(s,t){var a=t._getTable();var n=this.customMessageInfo.multiModeControlMessagesMap[a.getId()];this.createCustomMessage(null,{message:n,table:a})};n.showCustomMessage=function e(s,t,a,n){var o=this;var g=Array.isArray(a)?a:[a];var r=t._isMultiMode();var i;if(s){s.onClose=n}if(r){var M=t._getMultiModeControl();M.detachEvent("select",this.onSelectMultipleModeControl,this);M.attachEvent("select",t,this.onSelectMultipleModeControl,this);M.getAllInnerControls(true).forEach(function(e,t){if(e.isA("sap.fe.macros.table.TableAPI")){if(!a||g.indexOf(t.toString())!==-1){i=e.getContent();o.createCustomMessage(null,{message:s,table:i,skipMessageManagerUpdate:M.getSelectedInnerControl()!==e})}}});return}i=t._getTable();this.createCustomMessage(null,{message:s,table:i})};return a}();t.LRMessageStrip=a;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/LoaderUtils", [],function(){"use strict";var e={};var r=function(e){try{var r;var n=new Promise(function(e){r=e});if(e.length>0){sap.ui.require(e,function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++){n[i]=arguments[i]}r(n)})}else{r([])}return Promise.resolve(n)}catch(e){return Promise.reject(e)}};e.requireDependencies=r;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/MassEditHelper", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit","sap/fe/core/library","sap/fe/core/TemplateModel","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldTemplating","sap/fe/macros/table/TableHelper","sap/m/Button","sap/m/Dialog","sap/m/MessageToast","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/mdc/enum/EditMode","sap/ui/model/json/JSONModel","../controllerextensions/messageHandler/messageHandling","../controls/Any","../converters/MetaModelConverter","../templating/FieldControlHelper","../templating/UIFormatters","./SideEffectsHelper"],function(e,t,r,a,n,o,i,l,s,u,c,d,f,p,v,y,g,P,h,m,b,x,E,O,T){"use strict";var M=O.isCollectionField;var C=O.getRequiredExpression;var F=O.getEditMode;var S=E.isReadOnlyExpression;var D=x.getInvolvedDataModelObjects;var V=x.convertMetaModelContext;var B=s.setEditStyleProperties;var I=s.getTextBinding;var j=i.hasValueHelpWithFixedValues;var k=i.hasValueHelp;var A=i.hasUnit;var w=i.hasCurrency;var _=i.getAssociatedUnitPropertyPath;var H=i.getAssociatedUnitProperty;var R=o.getRelativePaths;var L=o.enhanceDataModelPath;var U=r.pathInModel;var N=r.or;var $=r.not;var G=r.ifElse;var q=r.constant;var Q=r.compileExpression;function K(e,t){return J(e)||z(e,t)||W(e,t)||X()}function X(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function z(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,i,l=[],s=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(a=o.call(r)).done)&&(l.push(a.value),l.length!==t);s=!0){}}catch(e){u=!0,n=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw n}}return l}}function J(e){if(Array.isArray(e))return e}function Y(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=W(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var a=0;var n=function(){};return{s:n,n:function(){if(a>=e.length)return{done:true};return{done:false,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=true,i=false,l;return{s:function(){r=r.call(e)},n:function(){var e=r.next();o=e.done;return e},e:function(e){i=true;l=e},f:function(){try{if(!o&&r.return!=null)r.return()}finally{if(i)throw l}}}}function W(e,t){if(!e)return;if(typeof e==="string")return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}function Z(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,a=new Array(t);r<t;r++){a[r]=e[r]}return a}var ee={initLastLevelOfPropertyPath:function(e,t){var r;var a=0;var n=e.split("/");var o="";n.forEach(function(n){if(!t[n]&&a===0){t[n]={};r=t[n];o=o+n;a++}else if(!r[n]){o="".concat(o,"/").concat(n);if(o!==e){r[n]={};r=r[n]}else{r[n]=[]}}});return r},getUniqueValues:function(e,t,r){if(e!=undefined&&e!=null){return r.indexOf(e)===t}},getValueForMultiLevelPath:function(e,t){if(e&&e.indexOf("/")>0){var r=e.split("/");var a;r.forEach(function(e){a=t&&t[e]?t[e]:a&&a[e]});return a}},getDefaultSelectionPathComboBox:function(e,t){if(t&&e.length>0){var r=e,a=[];r.forEach(function(e){var r=e.getObject();var n=t.indexOf("/")>-1&&r.hasOwnProperty(t.split("/")[0]);if(e&&(r.hasOwnProperty(t)||n)){a.push(e.getObject(t))}});var n=a.filter(ee.getUniqueValues);if(n.length>1){return"Default/".concat(t)}else if(n.length===0){return"Empty/".concat(t)}else if(n.length===1){return"".concat(t,"/").concat(n[0])}}},getHiddenValueForContexts:function(e,t){if(e&&e.$Path){return!t.some(function(t){return t.getObject(e.$Path)===false})}return e},getInputType:function(e,t,r){var a={};var n;if(e){B(a,t,r,true);n=(a===null||a===void 0?void 0:a.editStyle)||""}var o=n&&["DatePicker","TimePicker","DateTimePicker","RatingIndicator"].indexOf(n)===-1&&!M(r)&&!j(e);return(o||"")&&n},getIsFieldGrp:function(e){return e&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&e.Target&&e.Target.value&&e.Target.value.indexOf("FieldGroup")>-1},getTextPath:function(e,t,r){var a;if(t&&(t.path||t.parameters&&t.parameters.length)&&e){if(t.path&&r==="Description"){a=t.path}else if(t.parameters){t.parameters.forEach(function(t){if(t.path&&t.path!==e){a=t.path}})}}return a},prepareDataForDialog:function(e,r,a){var n=e&&e.getModel().getMetaModel(),o=e.data("metaPath"),i=ee.getTableFields(e),l=n.getContext("".concat(o,"/@")),s=n.getContext(o),u=D(l);var c=new h;var d;var f;var p;var v;var y;var g;i.forEach(function(e){var i=e.dataProperty;if(i){var l,c,h,m,b,x,E;var O=i&&n.getObject("".concat(o,"/").concat(i,"@"));f=e.label||O&&O["@com.sap.vocabularies.Common.v1.Label"]||i;if(u){u.targetObject=u.targetEntityType.entityProperties.filter(function(e){return e.name===i})}u.targetObject=u.targetObject[0]||{};g=I(u,{},true)||{};var T=n.getContext(e.annotationPath),M=V(T),B=n.getContext("".concat(o,"/").concat(i,"@")),j=B&&B.getInterface();var U=D(T,s);if((M===null||M===void 0?void 0:(l=M.Value)===null||l===void 0?void 0:(c=l.path)===null||c===void 0?void 0:c.length)>0){U=L(U,i)}var N=ee.getHiddenValueForContexts(T&&T.getObject()["@com.sap.vocabularies.UI.v1.Hidden"],r)||false;var $=O&&O["@com.sap.vocabularies.UI.v1.IsImageURL"];j.context={getModel:function(){return j.getModel()},getPath:function(){return"".concat(o,"/").concat(i)}};O=M._type==="Property"?M:M&&M.Value&&M.Value.$target||M&&M.Target&&M.Target.$target;var G=O&&O.term&&O.term==="com.sap.vocabularies.UI.v1.Chart";var Q=!!M.Action;var K=ee.getIsFieldGrp(M);if($||N||G||Q||K){return}v=(w(O)||A(O))&&_(O)||"";var X=v&&H(O);p=k(O);y=X&&k(X);var z=(p||y)&&(((h=O)===null||h===void 0?void 0:(m=h.annotations)===null||m===void 0?void 0:(b=m.Common)===null||b===void 0?void 0:b.ValueListRelevantQualifiers)||X&&(X===null||X===void 0?void 0:(x=X.annotations)===null||x===void 0?void 0:(E=x.Common)===null||E===void 0?void 0:E.ValueListRelevantQualifiers));if(z){return}var J=O&&O.Value?O.Value:O;var Y=F(J,U,false,false,M,q(true));var W=Object.keys(P);var Z=!!Y&&W.includes(Y);var te=!!Y&&(Z&&Y===P.Editable||!Z);var re=i.includes("/")&&p;if(!te||re){return}var ae=ee.getInputType(O,M,U);if(ae){var ne=R(U);var oe=S(O,ne);var ie=t.computeDisplayMode(B.getObject());var le=p?p:false;var se=y&&!v.includes("/")?y:false;var ue=v&&!i.includes("/")?v:false;d={label:f,dataProperty:i,isValueHelpEnabled:p?p:false,unitProperty:ue,isFieldRequired:C(O,M,true,false,{},U),defaultSelectionPath:i?ee.getDefaultSelectionPathComboBox(r,i):false,defaultSelectionUnitPath:v?ee.getDefaultSelectionPathComboBox(r,v):false,entitySet:o,display:ie,descriptionPath:ee.getTextPath(i,g,ie),nullable:O.nullable!==undefined?O.nullable:true,isPropertyReadOnly:oe!==undefined?oe:false,inputType:ae,editMode:te?Y:undefined,propertyInfo:{hasVH:le,runtimePath:"fieldsInfo>/values/",relativePath:i,propertyPathForValueHelp:"".concat(o,"/").concat(i)},unitInfo:ue&&{hasVH:se,runtimePath:"fieldsInfo>/unitData/",relativePath:ue,propertyPathForValueHelp:"".concat(o,"/").concat(ue)}};a.push(d)}}});c.setData(a);return c},getTableFields:function(e){var t=e&&e.getColumns()||[];var r=e&&e.getParent().getTableDefinition().columns;return t.map(function(e){var t=e&&e.getDataProperty(),a=r&&r.filter(function(e){return e.name===t&&e.type==="Annotation"});return{dataProperty:t,label:e.getHeader(),annotationPath:a&&a[0]&&a[0].annotationPath}})},getDefaultTextsForDialog:function(e,t,r){var a=r.data("displayModePropertyBinding")==="true";return{keepExistingPrefix:"< Keep",leaveBlankValue:"< Leave Blank >",clearFieldValue:"< Clear Values >",massEditTitle:e.getText("C_MASS_EDIT_DIALOG_TITLE",t.toString()),applyButtonText:a?e.getText("C_MASS_EDIT_SAVE_BUTTON_TEXT"):e.getText("C_MASS_EDIT_APPLY_BUTTON_TEXT"),useValueHelpValue:"< Use Value Help >",cancelButtonText:e.getText("C_COMMON_OBJECT_PAGE_CANCEL"),noFields:e.getText("C_MASS_EDIT_NO_EDITABLE_FIELDS"),okButtonText:e.getText("C_COMMON_DIALOG_OK")}},setDefaultValuesToDialog:function(e,t,r,a){var n=a?r.unitProperty:r.dataProperty,o=r.inputType,i=r.isFieldRequired;var l="Values";e.defaultOptions=e.defaultOptions||[];var s=e.selectOptions&&e.selectOptions.length>0;var u={text:"".concat(t.keepExistingPrefix," ").concat(l," >"),key:"Default/".concat(n)};if(o==="CheckBox"){var c={text:"No",key:"".concat(n,"/false"),textInfo:{value:false}};var d={text:"Yes",key:"".concat(n,"/true"),textInfo:{value:true}};e.unshift(c);e.defaultOptions.unshift(c);e.unshift(d);e.defaultOptions.unshift(d);e.unshift(u);e.defaultOptions.unshift(u)}else{var f,p;if(r!==null&&r!==void 0&&(f=r.propertyInfo)!==null&&f!==void 0&&f.hasVH||r!==null&&r!==void 0&&(p=r.unitInfo)!==null&&p!==void 0&&p.hasVH&&a){var v={text:t.useValueHelpValue,key:"UseValueHelpValue/".concat(n)};e.unshift(v);e.defaultOptions.unshift(v)}if(s){if(i!=="true"&&!a){var y={text:t.clearFieldValue,key:"ClearFieldValue/".concat(n)};e.unshift(y);e.defaultOptions.unshift(y)}e.unshift(u);e.defaultOptions.unshift(u)}else{var g={text:t.leaveBlankValue,key:"Default/".concat(n)};e.unshift(g);e.defaultOptions.unshift(g)}}},getTextArrangementInfo:function(t,r,a,n){var o=n.getObject(t),i,l;if(r&&t){switch(a){case"Description":i=n.getObject(r)||"";l=i;break;case"Value":o=n.getObject(t)||"";l=o;break;case"ValueDescription":o=n.getObject(t)||"";i=n.getObject(r)||"";l=i?"".concat(o," (").concat(i,")"):o;break;case"DescriptionValue":o=n.getObject(t)||"";i=n.getObject(r)||"";l=i?"".concat(i," (").concat(o,")"):o;break;default:e.info("Display Property not applicable: ".concat(t));break}}return{textArrangement:a,valuePath:t,descriptionPath:r,value:o,description:i,fullText:l}},isEditable:function(e){var t=e.getBinding("any");var r=t.getExternalValue();return r===P.Editable},onContextEditableChange:function(e,t){var r=e.getProperty("/values/".concat(t,"/objectsForVisibility"))||[];var a=r.some(ee.isEditable);if(a){e.setProperty("/values/".concat(t,"/visible"),a)}},updateOnContextChange:function(e,t,r,a){var n=e.getBinding("any");a.objectsForVisibility=a.objectsForVisibility||[];a.objectsForVisibility.push(e);n.attachChange(ee.onContextEditableChange.bind(null,t,r))},getBoundObject:function(e,t){var r=new b({any:e});var a=t.getModel();r.setModel(a);r.setBindingContext(t);return r},getFieldVisiblity:function(e,t,r,a,n){var o=ee.getBoundObject(e,n);var i=ee.isEditable(o);if(!i){ee.updateOnContextChange(o,t,r,a)}return i},setRuntimeModelOnDialog:function(e,t,r,a){var n=[];var o=[];var i=[];var l=[];var s=[];var u={values:n,unitData:o,results:i,readablePropertyData:s,selectedKey:undefined,textPaths:l,noFields:r.noFields};var c=new h(u);t.forEach(function(t){var r;var i;var s;var u={};var c={};if(t.dataProperty&&t.dataProperty.indexOf("/")>-1){var d=ee.initLastLevelOfPropertyPath(t.dataProperty,n);var f=t.dataProperty.split("/");var p=Y(e),v;try{for(p.s();!(v=p.n()).done;){var y=v.value;var g=y.getObject(t.dataProperty);i="".concat(t.dataProperty,"/").concat(g);if(!u[i]&&d[f[f.length-1]]){r=ee.getTextArrangementInfo(t.dataProperty,t.descriptionPath,t.display,y);d[f[f.length-1]].push({text:r&&r.fullText||g,key:i,textInfo:r});u[i]=g}}}catch(e){p.e(e)}finally{p.f()}d[f[f.length-1]].textInfo={descriptionPath:t.descriptionPath,valuePath:t.dataProperty,displayMode:t.display}}else{n[t.dataProperty]=n[t.dataProperty]||[];n[t.dataProperty]["selectOptions"]=n[t.dataProperty]["selectOptions"]||[];if(t.unitProperty){o[t.unitProperty]=o[t.unitProperty]||[];o[t.unitProperty]["selectOptions"]=o[t.unitProperty]["selectOptions"]||[]}var P=Y(e),h;try{for(P.s();!(h=P.n()).done;){var m=h.value;var b=m.getObject();i="".concat(t.dataProperty,"/").concat(b[t.dataProperty]);if(t.dataProperty&&b[t.dataProperty]&&!u[i]){if(t.inputType!="CheckBox"){r=ee.getTextArrangementInfo(t.dataProperty,t.descriptionPath,t.display,m);var x={text:r&&r.fullText||b[t.dataProperty],key:i,textInfo:r};n[t.dataProperty].push(x);n[t.dataProperty]["selectOptions"].push(x)}u[i]=b[t.dataProperty]}if(t.unitProperty&&b[t.unitProperty]){s="".concat(t.unitProperty,"/").concat(b[t.unitProperty]);if(!c[s]){if(t.inputType!="CheckBox"){r=ee.getTextArrangementInfo(t.unitProperty,t.descriptionPath,t.display,m);var E={text:r&&r.fullText||b[t.unitProperty],key:s,textInfo:r};o[t.unitProperty].push(E);o[t.unitProperty]["selectOptions"].push(E)}c[s]=b[t.unitProperty]}}}}catch(e){P.e(e)}finally{P.f()}n[t.dataProperty].textInfo={descriptionPath:t.descriptionPath,valuePath:t.dataProperty,displayMode:t.display};if(Object.keys(u).length===1){a.setProperty(t.dataProperty,i&&u[i])}if(Object.keys(c).length===1){a.setProperty(t.unitProperty,s&&c[s])}}l[t.dataProperty]=t.descriptionPath?[t.descriptionPath]:[]});t.forEach(function(t){var a={};if(t.dataProperty.indexOf("/")>-1){var i=ee.getValueForMultiLevelPath(t.dataProperty,n);if(!i){i.push({text:r.leaveBlankValue,key:"Empty/".concat(t.dataProperty)})}else{ee.setDefaultValuesToDialog(i,r,t)}a=i}else if(n[t.dataProperty]){n[t.dataProperty]=n[t.dataProperty]||[];ee.setDefaultValuesToDialog(n[t.dataProperty],r,t);a=n[t.dataProperty]}if(o[t.unitProperty]&&o[t.unitProperty].length){ee.setDefaultValuesToDialog(o[t.unitProperty],r,t,true);o[t.unitProperty].textInfo={};o[t.unitProperty].selectedKey=ee.getDefaultSelectionPathComboBox(e,t.unitProperty);o[t.unitProperty].inputType=t.inputType}else if(t.dataProperty&&n[t.dataProperty]&&!n[t.dataProperty].length||t.unitProperty&&o[t.unitProperty]&&!o[t.unitProperty].length){var l=n[t.dataProperty]&&n[t.dataProperty].some(function(e){return e.text==="< Clear Values >"||e.text==="< Leave Blank >"});if(t.dataProperty&&!l){n[t.dataProperty].push({text:r.leaveBlankValue,key:"Empty/".concat(t.dataProperty)})}var u=o[t.unitProperty]&&o[t.unitProperty].some(function(e){return e.text==="< Clear Values >"||e.text==="< Leave Blank >"});if(t.unitProperty){if(!u){o[t.unitProperty].push({text:r.leaveBlankValue,key:"Empty/".concat(t.unitProperty)})}o[t.unitProperty].textInfo={};o[t.unitProperty].selectedKey=ee.getDefaultSelectionPathComboBox(e,t.unitProperty);o[t.unitProperty].inputType=t.inputType}}if(t.isPropertyReadOnly&&typeof t.isPropertyReadOnly==="boolean"){s.push({property:t.dataProperty,value:t.isPropertyReadOnly,type:"Default"})}else if(t.isPropertyReadOnly&&t.isPropertyReadOnly.operands&&t.isPropertyReadOnly.operands[0]&&t.isPropertyReadOnly.operands[0].operand1&&t.isPropertyReadOnly.operands[0].operand2){s.push({property:t.dataProperty,propertyPath:t.isPropertyReadOnly.operands[0].operand1.path,propertyValue:t.isPropertyReadOnly.operands[0].operand2.value,type:"Path"})}if(t.editMode){a.visible=t.editMode===P.Editable||e.some(ee.getFieldVisiblity.bind(ee,t.editMode,c,t.dataProperty,a))}else{a.visible=true}a.selectedKey=ee.getDefaultSelectionPathComboBox(e,t.dataProperty);a.inputType=t.inputType;a.unitProperty=t.unitProperty});return c},getDialogContext:function(e,t){var r=t&&t.getBindingContext();if(!r){var a=e.getModel();var n=e.getRowBinding();var o=a.bindList(n.getPath(),n.getContext(),[],[],{$$updateGroupId:"submitLater"});o.refreshInternal=function(){};r=o.create({},true)}return r},onDialogOpen:function(e){var t=e.getSource();var r=t.getModel("fieldsInfo");r.setProperty("/isOpen",true)},closeDialog:function(e){e.close();e.destroy()},messageHandlingForMassEdit:function(e,t,r,n,o,i){try{var l,s,u,c;var d=a.DraftStatus;var v=p.getLibraryResourceBundle("sap.fe.core");(l=r.getView())===null||l===void 0?void 0:(s=l.getBindingContext("internal"))===null||s===void 0?void 0:s.setProperty("getBoundMessagesForMassEdit",true);r._editFlow.getMessageHandler().showMessages({onBeforeShowMessage:function(a,n){n.fnGetMessageSubtitle=m.setMessageSubtitle.bind({},e,t);var l=[];a.forEach(function(e){if(!e.getTarget()){l.push(e)}});if(o.length>0&&i.length===0){r._editFlow.setDraftStatus(d.Saved);var s=v.getText("C_MASS_EDIT_SUCCESS_TOAST");f.show(s)}else if(i.length<e.getSelectedContexts().length){r._editFlow.setDraftStatus(d.Saved)}else if(i.length===e.getSelectedContexts().length){r._editFlow.setDraftStatus(d.Clear)}if(r.getModel("ui").getProperty("/isEditable")&&l.length===0){n.showMessageBox=false;n.showMessageDialog=false}return n}});if(n.isOpen()){var y,g;ee.closeDialog(n);(y=r.getView())===null||y===void 0?void 0:(g=y.getBindingContext("internal"))===null||g===void 0?void 0:g.setProperty("skipPatchHandlers",false)}(u=r.getView())===null||u===void 0?void 0:(c=u.getBindingContext("internal"))===null||c===void 0?void 0:c.setProperty("getBoundMessagesForMassEdit",false);return Promise.resolve()}catch(e){return Promise.reject(e)}},getSideEffectDataForKey:function(e,t,r,a){var n=e.getProperty("$Type");var o={};a.forEach(function(e){var a=e.keyValue;var i=l.getSideEffectsOnEntityAndProperty(a,n,t);o[a]=r._sideEffects.generateSideEffectsMapFromSideEffectId(i)});return o},fnGetPathForSourceProperty:function(e,t,r){var a=e.indexOf("/")>0?"/"+t+"/"+e.substr(0,e.lastIndexOf("/")+1)+"@sapui.name":false,n=!a?Promise.resolve(t):r.requestObject(a);e=a?e.substr(e.lastIndexOf("/")+1):e;return{sPath:e,pOwnerEntity:n,sNavigationPath:a}},fnGetEntityTypeOfOwner:function(e,t,r,a,n){var o=r.getProperty("$Type");var i=e.getObject("".concat(r,"/").concat(t)),l=i["$Type"],s=i["$Partner"];if(s){var u=e.getObject("/".concat(l,"/").concat(s));if(u){var c=u["$Type"];if(c!==o){n.push(a)}}}else{n.push(a)}return n},fnGetTargetsForMassEdit:function(e,t,r,a){var n=e.TargetProperties,o=e.TargetEntities;var i=[];var l=[];var s=t.getProperty("$Type");if(r===s){o===null||o===void 0?void 0:o.forEach(function(e){e=e["$NavigationPropertyPath"];var r;if(e.includes("/")){r=e.split("/")[0]}else{r=e}l=ee.fnGetEntityTypeOfOwner(a,r,t,e,l)})}if(n.length){n.forEach(function(e){var n=ee.fnGetPathForSourceProperty(e,r,a),o=n.pOwnerEntity;i.push(o.then(function(r){if(r===s){l.push(e)}else if(e.includes("/")){var n=e.split("/")[0];l=ee.fnGetEntityTypeOfOwner(a,n,t,e,l)}return Promise.resolve(l)}))})}else{i.push(Promise.resolve(l))}return Promise.all(i)},handleMassEditFieldUpdateAndRequestSideEffects:function(e){try{var r=function(){var r=e.oController,a=e.oFieldPromise,n=e.sideEffectsMap,o=e.textPaths,i=e.groupId,l=e.key,s=e.oEntitySetContext,c=e.oMetaModel,d=e.oSelectedContext,f=e.deferredTargetsForAQualifiedName;var p=[a];var v=s.getProperty("$Type");var y=t.getAppComponent(r.getView());var g=y.getSideEffectsService();if(n){var P=Object.keys(n);var h=Object.values(n);var m={};f[l]={};var b=Y(h.entries()),x;try{var E=function(){var e=K(x.value,2),t=e[0],a=e[1];var n=P[t];var o=n.split("#")[0];var y=r._sideEffects.getContextForSideEffects(d,o);a.context=y;var g=r._sideEffects.getRegisteredFailedRequests();var h=g[y.getPath()];r._sideEffects.deleteFailedRequestsForAContext(y);var b=[a.sideEffects];b=h&&h.length?b.concat(h):b;m[y]={};var E=Y(b),O;try{for(E.s();!(O=E.n()).done;){var T=O.value;if(!m[y].hasOwnProperty(T.fullyQualifiedName)){(function(){m[y][T.fullyQualifiedName]=true;var e=[],t=[],a=void 0;var n=function(r){try{var n=r.TargetProperties,o=r.TargetEntities;var i=r.fullyQualifiedName.split("@")[0];return Promise.resolve(ee.fnGetTargetsForMassEdit(r,s,i,c)).then(function(s){e=s[0];t=(n||[]).concat(o||[]);var d=r.TriggerAction;var p=t.filter(function(t){return!e.includes(t)});f[l][r.fullyQualifiedName]={aTargets:p,oContext:y,mSideEffect:r};if(d&&i===v){var g=u._isStaticAction(c.getObject("/".concat(d)),d);if(!g){a=d}else{f[l][r.fullyQualifiedName]["TriggerAction"]=d}}else{f[l][r.fullyQualifiedName]["TriggerAction"]=d}return{aTargets:e,TriggerAction:a}})}catch(e){return Promise.reject(e)}};p.push(r._sideEffects.requestSideEffects(T,y,i,n))})()}}}catch(e){E.e(e)}finally{E.f()}};for(b.s();!(x=b.n()).done;){E()}}catch(e){b.e(e)}finally{b.f()}}if(o!==null&&o!==void 0&&o[l]&&o[l].length){p.push(g.requestSideEffects(o[l],d,i))}return{v:Promise.resolve(Promise.allSettled(p))}}();if(typeof r==="object")return r.v}catch(e){return Promise.reject(e)}},createDialog:function(t,r,a){try{var o="sap/fe/core/controls/massEdit/MassEditDialog",i=[],l=p.getLibraryResourceBundle("sap.fe.core"),s=ee.getDefaultTextsForDialog(l,r.length,t),u=ee.prepareDataForDialog(t,r,i),f=ee.getDialogContext(t),P=ee.setRuntimeModelOnDialog(r,i,s,f),h=t.getModel(),b=h.getMetaModel(),x=new n(u.getData(),b);var E=g.loadTemplate(o,"fragment");return Promise.resolve(Promise.resolve(y.process(E,{name:o},{bindingContexts:{dataFieldModel:x.createBindingContext("/"),metaModel:b.createBindingContext("/")},models:{dataFieldModel:x,metaModel:b}}))).then(function(n){return Promise.resolve(v.load({definition:n})).then(function(n){var o=new d({resizable:true,title:s.massEditTitle,content:[n],afterOpen:ee.onDialogOpen,beginButton:new c({text:ee.helpers.getExpBindingForApplyButtonTxt(s,u.getObject("/")),type:"Emphasized",press:function(n){try{var i,l;m.removeBoundTransitionMessages();m.removeUnboundTransitionMessages();(i=a.getView())===null||i===void 0?void 0:(l=i.getBindingContext("internal"))===null||l===void 0?void 0:l.setProperty("skipPatchHandlers",true);var s=n.getSource().getParent();var u=s.getModel("fieldsInfo");var c=u.getProperty("/results");var d=t&&t.getModel().getMetaModel(),f=t.data("metaPath"),p=d.getContext(f);return Promise.resolve(T.generateSideEffectsMapFromMetaModel(d)).then(function(n){var i=[];var l=u.getProperty("/textPaths");var f=u.getProperty("/readablePropertyData");var v;var y;var g=[];var P={};var h=r.length;var m={};var b=ee.getSideEffectDataForKey(p,n,a,c);r.forEach(function(t,r){y=[];c.forEach(function(n){try{if(!P.hasOwnProperty(n.keyValue)){P[n.keyValue]=0}if(b[n.keyValue]){y[n.keyValue]=b[n.keyValue]}if(f){f.some(function(e){if(n.keyValue===e.property){if(e.type==="Default"){return e.value===true}else if(e.type==="Path"&&e.propertyValue&&e.propertyPath){return t.getObject(e.propertyPath)===e.propertyValue}}})}v="$auto.".concat(r);var o=t.setProperty(n.keyValue,n.value,v).catch(function(r){i.push(t.getObject());e.error("Mass Edit: Something went wrong in updating entries.",r);P[n.keyValue]=P[n.keyValue]+1;return Promise.reject({isFieldUpdateFailed:true})});var s={oController:a,oFieldPromise:o,sideEffectsMap:b[n.keyValue],textPaths:l,groupId:v,key:n.keyValue,oEntitySetContext:p,oMetaModel:d,oSelectedContext:t,deferredTargetsForAQualifiedName:m};g.push(ee.handleMassEditFieldUpdateAndRequestSideEffects(s));return Promise.resolve()}catch(e){return Promise.reject(e)}})});return Promise.resolve(Promise.allSettled(g).then(function(){try{v="$auto.massEditDeferred";var e=[];var t=Object.values(m);var r=Object.keys(m);t.forEach(function(t,n){var o=r[n];if(P[o]!==h){var i=Object.values(t);i.forEach(function(t){var r=t.aTargets,n=t.oContext,o=t.TriggerAction,i=t.mSideEffect;var l=function(){return r};var s=function(){return{aTargets:l(),TriggerAction:o}};e.push(a._sideEffects.requestSideEffects(i,n,v,s))})}});return Promise.resolve()}catch(e){return Promise.reject(e)}}).then(function(){ee.messageHandlingForMassEdit(t,r,a,s,c,i)}).catch(function(e){ee.closeDialog(o);return Promise.reject(e)})).then(function(){})})}catch(e){return Promise.reject(e)}}}),endButton:new c({text:s.cancelButtonText,visible:ee.helpers.hasEditableFieldsBinding(u.getObject("/"),true),press:function(e){var t=e.getSource().getParent();ee.closeDialog(t)}})});o.setModel(P,"fieldsInfo");o.setModel(h);o.setBindingContext(f);return o})})}catch(e){return Promise.reject(e)}},helpers:{getBindingExpForHasEditableFields:function(e,t){var r=e.reduce(function(e,t){return N(e,U("/values/"+t.dataProperty+"/visible","fieldsInfo"))},q(false));return t?r:$(r)},getExpBindingForApplyButtonTxt:function(e,t){var r=ee.helpers.getBindingExpForHasEditableFields(t,true);var a=G(r,q(e.applyButtonText),q(e.okButtonText));return Q(a)},hasEditableFieldsBinding:function(e,t){return Q(ee.helpers.getBindingExpForHasEditableFields(e,t))}}};return ee},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/MessageStrip", ["sap/fe/core/CommonUtils","sap/fe/macros/DelegateUtil","sap/ui/core/Core","sap/ui/Device"],function(e,t,r,a){"use strict";var n=a.system;function o(e,a,n,o){var c=n.getModel().getMetaModel(),_=e.map(function(e){var _=r.getLibraryResourceBundle("sap.fe.macros");if(e==="$search"){return _?_.getText("M_FILTERBAR_SEARCH"):""}if(e==="$editState"){return o?o.getText("FILTERBAR_EDITING_STATUS"):""}var u=c.getObject("".concat(a).concat(e,"@com.sap.vocabularies.Common.v1.Label"));return t.getLocalizedText(u,n)});return _}function c(t,a,n){var o="";var c=[];var _=i();if(!_){return""}var R=e.getTargetView(a);var s=R.getController().getChartControl();var L=s.data("draftSupported")==="true";var g=r.getLibraryResourceBundle("sap.fe.macros");n=n&&t.includes(g.getText("M_FILTERBAR_SEARCH"));var l="C_LR_MULTIVIZ_CHART_".concat(T(t),"_IGNORED_FILTER_").concat(u());if(L&&(t.length===2&&n||t.length===1)){o=t.length===1?"C_MULTIVIZ_CHART_IGNORED_FILTER_DRAFT_DATA":"C_LR_MULTIVIZ_CHART_IGNORED_FILTER_DRAFT_DATA_AND_SEARCH"}else{o=l;c=[t.join(", ")]}return _.getText(o,c)}function _(e,t,r,a){var n=i();return n?n.getText("C_LR_MULTITABLES_".concat(T(e),"_IGNORED_FILTER_").concat(u()),[e.join(", "),a(r,t)]):""}function u(){return n.desktop?"LARGE":"SMALL"}function T(e){return e.length===1?"SINGLE":"MULTI"}function i(){return r.getLibraryResourceBundle("sap.fe.templates")}var R={getALPText:c,getText:_,getLabels:o};return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ModelHelper", ["sap/fe/core/converters/MetaModelConverter"],function(t){"use strict";var e={};var n;(function(t){t["TypeSingleton"]="Singleton";t["TypeEntity"]="EntitySet"})(n||(n={}));e.TypeOfEntity=n;var i={isStickySessionSupported:function(t){var e=t.getObject("/");for(var n in e){if(e[n].$kind==="EntitySet"&&t.getObject("/".concat(n,"@com.sap.vocabularies.Session.v1.StickySessionSupported"))){return true}}return false},isDraftSupported:function(t,e){var n=t.getMetaContext(e);var i=this.getTargetEntitySet(n),o,r;if(n.getProperty&&n.getProperty()&&n.getProperty().$ContainsTarget===true){r=t.getMetaPath(e).split("/").filter(Boolean);if(r.length){for(var a=r.length-1;a>=0;a--){o=t.getMetaContext(t.getMetaPath("/".concat(r[a])));if(o.getObject("$kind")==="EntitySet"){i=this.getTargetEntitySet(o);break}}}}else{i=this.getTargetEntitySet(n)}var d=t.getMetaContext(i);if(d.getObject("@com.sap.vocabularies.Common.v1.DraftRoot")||d.getObject("@com.sap.vocabularies.Common.v1.DraftNode")){return true}return false},isObjectPathDraftSupported:function(t){var e,n,o,r,a,d,l;var u=t.targetEntitySet;var v=i.isDraftRoot(u);var g=i.isDraftNode(u);var s=(e=t.targetObject)!==null&&e!==void 0&&e.containsTarget&&((n=t.startingEntitySet)!==null&&n!==void 0&&(o=n.annotations)!==null&&o!==void 0&&(r=o.Common)!==null&&r!==void 0&&r.DraftRoot||(a=t.startingEntitySet)!==null&&a!==void 0&&(d=a.annotations)!==null&&d!==void 0&&(l=d.Common)!==null&&l!==void 0&&l.DraftNode)?true:false;return v||g||!u&&s},isCollaborationDraftSupported:function(t,e){var n;var i=(e===null||e===void 0?void 0:(n=e.context)===null||n===void 0?void 0:n.getModel())||t;var o=i.getObject("/");for(var r in o){if(o[r].$kind==="EntitySet"&&i.getObject("/".concat(r,"@com.sap.vocabularies.Common.v1.DraftRoot/ShareAction"))){return true}}return false},getDraftRootPath:function(e){var n=e.getModel().getMetaModel();var i=function(e,o){var r;var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var d=a?e:(r=new RegExp(/.*(?=\/)/).exec(e))===null||r===void 0?void 0:r[0];if(d&&d!=="/"){var l,u;var v=n.getMetaPath(d);var g=t.getInvolvedDataModelObjects(n.getContext(v));if((l=g.targetEntitySet)!==null&&l!==void 0&&(u=l.annotations.Common)!==null&&u!==void 0&&u.DraftRoot){return d}return i(d,o,false)}return undefined};return i(e.getPath(),e.getModel())},getTargetEntitySet:function(t){var e=t.getPath();if(t.getObject("$kind")==="EntitySet"||t.getObject("$kind")==="Action"||t.getObject("0/$kind")==="Action"){return e}var n=i.getEntitySetPath(e);return"/".concat(t.getObject(n))},getEntitySetPath:function(t,e){var n="";if(!e){n="/".concat(t.split("/").filter(i.filterOutNavPropBinding).join("/$NavigationPropertyBinding/"))}else{var o=t.split("/").filter(i.filterOutNavPropBinding);if(o.length>1){var r={growingPath:"/",pendingNavPropBinding:""};var a=o.reduce(function(t,n,i){var o=!!i&&"/$NavigationPropertyBinding/"||"";var r=t.growingPath,a=t.pendingNavPropBinding;var d=r+o;var l=e.getObject(d);var u=a?"".concat(a,"/").concat(n):n;if(l&&Object.keys(l).length>0&&l.hasOwnProperty(u)){r=d+u.replace("/","%2F");a=""}else{a+=a?"/".concat(n):n}return{growingPath:r,pendingNavPropBinding:a}},r);n=a.growingPath}else{n="/".concat(o[0])}}return n},getActionParameterItemsModelPath:function(t){return t&&t.$Name?"{path: 'mvfview>/".concat(t.$Name,"'}"):undefined},filterOutNavPropBinding:function(t){return t!==""&&t!=="$NavigationPropertyBinding"},enhanceInternalJSONModel:function(t){var e=t.bindContext;t.bindContext=function(t,n,i){for(var o=arguments.length,r=new Array(o>3?o-3:0),a=3;a<o;a++){r[a-3]=arguments[a]}n=e.apply(this,[t,n,i].concat(r));var d=n.getBoundContext;n.getBoundContext=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}var i=d.apply.apply(d,[this].concat(e));if(i&&!i.setProperty){i.setProperty=function(t,e){if(this.getObject()===undefined){this.getModel().setProperty(this.getPath(),{})}this.getModel().setProperty(t,e,this)}}return i};return n}},enhanceUiJSONModel:function(t,e){var n=t.setProperty;t.setProperty=function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++){o[r]=arguments[r]}var a=o[1];if(o[0]==="/isEditable"){t.setProperty("/editMode",a?e.EditMode.Editable:e.EditMode.Display,o[2],o[3])}return n.apply(this,[].concat(o))}},isFilteringCaseSensitive:function(t){if(!t){return undefined}var e=t.getObject("/@Org.OData.Capabilities.V1.FilterFunctions");return e?e.indexOf("tolower")===-1:true},getMetaPathForContext:function(t){var e=t.getModel(),n=e.getMetaModel(),i=t.getPath();return n&&i&&n.getMetaPath(i)},getAbsoluteMetaPathForListBinding:function(t,e){var n=t.getModel().getMetaModel();var i;if(typeof e==="string"){if(e.startsWith("/")){i=n.getMetaPath(e)}else{var o=t.getBindingContext();var r=o.getPath();i=n.getMetaPath("".concat(r,"/").concat(e))}}else{var a=e;var d=a.getRootBinding();if(a===d){i=n.getMetaPath(a.getPath())}else{var l=d.getPath();var u=a.getPath();i=n.getMetaPath("".concat(l,"/").concat(u))}}return i},isSingleton:function(t){if((t===null||t===void 0?void 0:t._type)===n.TypeSingleton){return true}return false},isDraftRoot:function(t){var e;if(i.isSingleton(t)){return false}return t&&(e=t.annotations.Common)!==null&&e!==void 0&&e.DraftRoot?true:false},isDraftNode:function(t){var e;if(i.isSingleton(t)){return false}return t&&(e=t.annotations.Common)!==null&&e!==void 0&&e.DraftNode?true:false},isSticky:function(t){var e;if(i.isSingleton(t)){return false}return t&&(e=t.annotations.Session)!==null&&e!==void 0&&e.StickySessionSupported?true:false},isUpdateHidden:function(t,e){var n,o,r,a;if(i.isSingleton(t)){return false}return(t===null||t===void 0?void 0:(n=t.annotations.UI)===null||n===void 0?void 0:(o=n.UpdateHidden)===null||o===void 0?void 0:o.valueOf())!==undefined?t===null||t===void 0?void 0:(r=t.annotations.UI)===null||r===void 0?void 0:r.UpdateHidden:e===null||e===void 0?void 0:(a=e.annotations.UI)===null||a===void 0?void 0:a.UpdateHidden},getDraftRoot:function(t){var e;if(i.isSingleton(t)){return undefined}return t&&((e=t.annotations.Common)===null||e===void 0?void 0:e.DraftRoot)},getDraftNode:function(t){var e;if(i.isSingleton(t)){return undefined}return t&&((e=t.annotations.Common)===null||e===void 0?void 0:e.DraftNode)},getStickySession:function(t){var e,n;if(i.isSingleton(t)){return undefined}return t&&((e=t.annotations)===null||e===void 0?void 0:(n=e.Session)===null||n===void 0?void 0:n.StickySessionSupported)},getDeleteHidden:function(t,e){var n,o,r,a;if(i.isSingleton(t)){return false}return(t===null||t===void 0?void 0:(n=t.annotations.UI)===null||n===void 0?void 0:(o=n.DeleteHidden)===null||o===void 0?void 0:o.valueOf())!==undefined?t===null||t===void 0?void 0:(r=t.annotations.UI)===null||r===void 0?void 0:r.DeleteHidden:e===null||e===void 0?void 0:(a=e.annotations.UI)===null||a===void 0?void 0:a.DeleteHidden}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/PasteHelper", ["sap/base/Log","sap/m/MessageBox","sap/ui/core/Core","sap/ui/core/util/PasteHelper"],function(e,t,r,n){"use strict";function o(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=i(e,"string");return typeof t==="symbol"?t:String(t)}function i(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e){return c(e)||l(e)||f(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(!e)return;if(typeof e==="string")return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}function l(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c(e){if(Array.isArray(e))return g(e)}function g(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var p=function(e,t,r,n){var o=r.getProperty(e),a={parseKeepsEmptyString:true},i=n.getUI5Type("".concat(t,"/").concat(e),a),u=!o||r.getProperty("".concat(e,"@Org.OData.Core.V1.Computed"));return{property:e,ignore:u,type:i}};var E=function(e){var n=u(e);var o=r.getLibraryResourceBundle("sap.fe.core"),a=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_CORRECTION_MESSAGE"),i=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_CORRECTION_NOTE");var s;if(n.length>1){s=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_MESSAGE_PLURAL",[n.length])}else{s=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_MESSAGE_SINGULAR")}n.unshift("");n.unshift(i);n.unshift(a);t.error(s,{title:o.getText("C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR"),details:n.join("<br>")})};var v={displayErrorMessages:E,formatCustomMessage:function(e,t){var n="";var o=e.length;var a=r.getLibraryResourceBundle("sap.fe.core"),i=a.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW");if(o>0){n+="".concat(i," ").concat(t,": ");e.forEach(function(e,t){if(e.messageText){n+=e.messageText+(t+1!==o?" ":"")}})}return n},getColumnInfo:function(e){var t=this;var r=e.getRowBinding().getModel(),n=r.getMetaModel(),a=r.resolve(e.getRowBinding().getPath(),e.getRowBinding().getContext()),i=n.getMetaContext(a);return e.getControlDelegate().fetchProperties(e).then(function(r){var s=Object.assign.apply(Object,[{}].concat(u(r.map(function(e){return o({},e.name,e)}))));var f=[];e.getColumns().forEach(function(e){var r=s[e.getDataProperty()];if(r.propertyInfos){r.propertyInfos.forEach(function(e){var r=s[e];if(r.exportSettings!==null){if(r&&r.path.indexOf("@com.sap.vocabularies.UI.v1.DataPoint")>-1||e.indexOf("/")>-1){f.push({property:r.path,ignore:true})}else{f.push(t.getInfoForEntityProperty(r.path,a,i,n))}}})}else if(r.exportSettings!==null){if(r.path){f.push(t.getInfoForEntityProperty(r.path,a,i,n))}else{f.push({property:"unused",type:null,ignore:true})}}});return f})},getInfoForEntityProperty:p,parsePastedData:function(e,t){var r=this;return this.getColumnInfo(t).then(function(t){var r=e.length?e[0].length:0;var o=-1;for(var a=0;a<t.length&&o<0;a++){if(!t[a].ignore){o=a}}return o<0||o>r-1?Promise.resolve({}):n.parse(e,t)}).then(function(e){if(e.errors){var t=e.errors.map(function(e){return e.message});r.displayErrorMessages(t);return[]}else{return e.parsedData?e.parsedData:[]}})},pasteData:function(t,r,n){var o=this;var a=n._editFlow;var i=r.getParent().getTableDefinition();var u=[];return this.parsePastedData(t,r).then(function(e){u=e||[];return Promise.all(u.map(function(e){var t;return a.getTransactionHelper().validateDocument(r.getBindingContext(),{data:e,customValidationFunction:i===null||i===void 0?void 0:(t=i.control)===null||t===void 0?void 0:t.customValidationFunction},n.getView())}))}).then(function(e){var t=e.reduce(function(e,t,r){if(t.length>0){e.push({messages:t,row:r+1})}return e},[]);if(t.length>0){var r=t.map(function(e){return o.formatCustomMessage(e.messages,e.row)});o.displayErrorMessages(r);return[]}return u}).then(function(e){var t;return e.length>0?a.createMultipleDocuments(r.getRowBinding(),e,i===null||i===void 0?void 0:(t=i.control)===null||t===void 0?void 0:t.createAtEnd,true,n.editFlow.onBeforeCreate):undefined}).catch(function(t){e.error("Error while pasting data",t)})}};return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/SemanticDateOperators", ["sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/ValidateException"],function(e,t,r,a,T){"use strict";var o=["DATE","FROM","TO","DATERANGE"];var E="DYNAMIC.DATE";var n="FIXED.DATE";var i="DYNAMIC.DATE.INT";var A="DYNAMIC.DATERANGE";var u="DYNAMIC.MONTH";var y="FIXED.WEEK";var l="FIXED.MONTH";var s="FIXED.QUARTER";var R="FIXED.YEAR";var c="DYNAMIC.WEEK.INT";var O="DYNAMIC.MONTH.INT";var f="DYNAMIC.QUARTER.INT";var D="DYNAMIC.YEAR.INT";var S={DATE:{key:"DATE",category:E},FROM:{key:"FROM",category:E},TO:{key:"TO",category:E},DATERANGE:{key:"DATERANGE",category:A},SPECIFICMONTH:{key:"SPECIFICMONTH",category:u},TODAY:{key:"TODAY",category:n},TODAYFROMTO:{key:"TODAYFROMTO",category:i},YESTERDAY:{key:"YESTERDAY",category:n},TOMORROW:{key:"TOMORROW",category:n},LASTDAYS:{key:"LASTDAYS",category:i},NEXTDAYS:{key:"NEXTDAYS",category:i},THISWEEK:{key:"THISWEEK",category:y},LASTWEEK:{key:"LASTWEEK",category:y},LASTWEEKS:{key:"LASTWEEKS",category:c},NEXTWEEK:{key:"NEXTWEEK",category:y},NEXTWEEKS:{key:"NEXTWEEKS",category:c},THISMONTH:{key:"THISMONTH",category:l},LASTMONTH:{key:"LASTMONTH",category:l},LASTMONTHS:{key:"LASTMONTHS",category:O},NEXTMONTH:{key:"NEXTMONTH",category:l},NEXTMONTHS:{key:"NEXTMONTHS",category:O},THISQUARTER:{key:"THISQUARTER",category:s},LASTQUARTER:{key:"LASTQUARTER",category:s},LASTQUARTERS:{key:"LASTQUARTERS",category:f},NEXTQUARTER:{key:"NEXTQUARTER",category:s},NEXTQUARTERS:{key:"NEXTQUARTERS",category:f},QUARTER1:{key:"QUARTER1",category:s},QUARTER2:{key:"QUARTER2",category:s},QUARTER3:{key:"QUARTER3",category:s},QUARTER4:{key:"QUARTER4",category:s},THISYEAR:{key:"THISYEAR",category:R},LASTYEAR:{key:"LASTYEAR",category:R},LASTYEARS:{key:"LASTYEARS",category:D},NEXTYEAR:{key:"NEXTYEAR",category:R},NEXTYEARS:{key:"NEXTYEARS",category:D},YEARTODATE:{key:"YEARTODATE",category:R},DATETOYEAR:{key:"DATETOYEAR",category:R}};function p(){return new t({name:"DATERANGE",filterOperator:a.BT,alias:{Date:"DATERANGE",DateTime:"DATERANGE"},valueTypes:[t.ValueType.Self,t.ValueType.Self],validate:function(e,r){if(e.length<2){throw new T("Date Range must have two values")}else{var a=new Date(e[0]);var o=new Date(e[1]);if(a.getTime()>o.getTime()){throw new T("From Date Should Be Less Than To Date")}}t.prototype.validate.apply(this,[e,r])}})}function v(){return new t({name:"DATE",alias:{Date:"DATE",DateTime:"DATE"},filterOperator:a.EQ,valueTypes:[t.ValueType.Self],getModelFilter:function(e,t,r){return d.getModelFilterForDate(e,t,r)}})}function g(){return new t({name:"FROM",alias:{Date:"FROM",DateTime:"FROM"},filterOperator:a.GE,valueTypes:[t.ValueType.Self]})}function N(){return new t({name:"TO",alias:{Date:"TO",DateTime:"TO"},filterOperator:a.LE,valueTypes:[t.ValueType.Self],getModelFilter:function(e,t,r){return d.getModelFilterForTo(e,t,r)}})}function M(e,t){if(!t){return true}t=Array.isArray(t)?t:[t];var r;t.some(function(t){var a;if(!t.path){return false}var T=e[t.path];var o=t.exclude||false;var E;if(t.contains&&T){E=t.contains.split(",");r=o;for(a=0;a<E.length;a++){if(o&&T.indexOf(E[a])>-1){r=false;return true}else if(!o&&T.indexOf(E[a])>-1){r=true;return true}}}if(t.equals&&T){E=t.equals.split(",");r=o;for(a=0;a<E.length;a++){if(o&&T===E[a]){r=false;return true}else if(!o&&T===E[a]){r=true;return true}}}return false});return r}var d={addSemanticDateOperators:function(){e.addOperator(p());e.addOperator(v());e.addOperator(g());e.addOperator(N())},getSupportedOperations:function(){return o},getSemanticDateOperations:function(){return Object.keys(S)},removeSemanticDateOperators:function(){},getFilterOperations:function(e){var t=[];for(var r in S){var a=S[r];if(M(a,e)){t.push(a)}}return t.map(function(e){return e.key})},hasSemanticDateOperations:function(e){var t=this.getSemanticDateOperations();for(var r in e){var a=e[r];var T=a.find(function(e){return t.indexOf(e.operator)>-1});if(T){return false}}return true},getModelFilterForDate:function(e,t,T){if(T.isA("sap.ui.model.odata.type.DateTimeOffset")){var o=e.values[0];var E=T.getModelFormat();var n=E.parse(o);n.setHours(23);n.setMinutes(59);n.setSeconds(59);n.setMilliseconds(999);var i=E.format(n);return new r({path:t,operator:a.BT,value1:o,value2:i})}else{return new r({path:t,operator:a.EQ,value1:e.values[0]})}},getModelFilterForTo:function(e,t,T){if(T.isA("sap.ui.model.odata.type.DateTimeOffset")){var o=e.values[0];var E=T.getModelFormat();var n=E.parse(o);n.setHours(23);n.setMinutes(59);n.setSeconds(59);n.setMilliseconds(999);var i=E.format(n);return new r({path:t,operator:a.LE,value1:i})}else{return new r({path:t,operator:a.LE,value1:e.values[0]})}}};return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/SemanticKeyHelper", ["sap/base/Log"],function(t){"use strict";var e={getSemanticKeys:function(t,e){return t.getObject("/".concat(e,"/@com.sap.vocabularies.Common.v1.SemanticKey"))},getSemanticObjectInformation:function(t,e){var n=t.getObject("/".concat(e,"/@com.sap.vocabularies.Common.v1.SemanticObject"));var a=this.getSemanticKeys(t,e);return{semanticObject:n,semanticKeys:a}},getSemanticPath:function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var a=e.getModel().getMetaModel(),c=a.getMetaContext(e.getPath()).getObject("@sapui.name"),i=this.getSemanticObjectInformation(a,c);var o,r;if(e.isA("sap.ui.model.odata.v4.ODataListBinding")&&e.isRelative()){o=e.getHeaderContext().getPath()}else{o=e.getPath()}if(this._isPathForSemantic(o)&&i.semanticKeys){var s=i.semanticKeys,m=a.getObject("/".concat(a.getObject("/".concat(c)).$Type));try{var g=s.map(function(t){var n=t.$PropertyPath;var a=e.getProperty(n);if(a===undefined||a===null){throw new Error("Couldn't resolve semantic key value for ".concat(n))}else{if(m[n].$Type==="Edm.String"){a="'".concat(encodeURIComponent(a),"'")}if(s.length>1){a="".concat(n,"=").concat(a)}return a}}).join(",");r="/".concat(c,"(").concat(g,")")}catch(e){t.info(e)}}return n?r:r||o},_isPathForSemantic:function(t){return/^[^\(\)]+\([^\(\)]+\)$/.test(t)}};return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/SideEffectsHelper", [],function(){"use strict";var t=function(t,e,n){var r=t["$NavigationPropertyPath"];var i;if(r===""){i=Promise.resolve(e)}else{i=n.requestObject("/"+e+"/"+r+"/@sapui.name")}return{pOwnerEntity:i,sNavigationPath:r}};var e=function(e,r,i,a){var s=r.indexOf("#")>-1&&r.substr(r.indexOf("#"))||"",u=i.SourceProperties||[],o=i.SourceEntities||[],f=[];u.forEach(function(t){var r=n(t["$PropertyPath"],e,a),u=r.sPath,o=r.pOwnerEntity,c=r.sNavigationPath;f.push({pOwnerEntity:o,sQualifier:s,sNavigationPath:c,sPath:u,sEntityType:e,oSideEffectAnnotation:i})});o.forEach(function(n){var r=t(n,e,a),u=r.pOwnerEntity,o=r.sNavigationPath;f.push({pOwnerEntity:u,sQualifier:s,sNavigationPath:o,sPath:"entity",sEntityType:e,oSideEffectAnnotation:i})});return f};var n=function(t,e,n){var r=t.indexOf("/")>0?"/"+e+"/"+t.substr(0,t.lastIndexOf("/")+1)+"@sapui.name":false,i=!r?Promise.resolve(e):n.requestObject(r);t=r?t.substr(t.lastIndexOf("/")+1):t;return{sPath:t,pOwnerEntity:i,sNavigationPath:r}};var r={generateSideEffectsMapFromMetaModel:function(t){var n={};var r=[];var i=[];return t.requestObject("/$").then(function(t){var e=function(e){return t[e]["$kind"]==="EntityType"};return Object.keys(t).filter(e)}).then(function(e){r=e;return Promise.allSettled(e.map(function(e){return t.requestObject("/"+e+"@")}))}).then(function(n){var a=[];n.forEach(function(n,s){if(n.status==="fulfilled"){var u=r[s];var o=n.value;Object.keys(o).filter(function(t){return t.indexOf("@com.sap.vocabularies.Common.v1.SideEffects")>-1}).forEach(function(n){var r=e(u,n,o[n],t);i=i.concat(r);a=a.concat(r.map(function(t){return t["pOwnerEntity"]}))})}});return Promise.allSettled(a)}).then(function(t){t.forEach(function(t,e){if(t.status==="fulfilled"){var r=t.value;var a=i[e];var s=a.sEntityType,u=a.sQualifier,o=a.oSideEffectAnnotation,f=a.sPath;var c=o.SourceProperties;if(f==="entity"){n[r]=n[r]||[[],{}];n[r][0].push(s+u+"$$ImmediateRequest")}else{n[r]=n[r]||[[],{}];n[r][1][f]=n[r][1][f]||[];n[r][1][f].push(s+u+(c.length===1&&"$$ImmediateRequest"||""))}}});return n}).catch(function(t){return Promise.reject(t)})}};return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/StableIdHelper", [],function(){"use strict";var e={};function a(e){return/^([A-Za-z_][-A-Za-z0-9_.:]*)$/.test(e)}function t(e){if(e.indexOf(" ")>=0){throw"".concat(e," - Spaces are not allowed in ID parts.")}e=e.replace(/^\/|^@|^#|^\*/,"").replace(/\/$|@$|#$|\*$/,"").replace(/\/|@|\(|\)|#|\*/g,"::");while(e.indexOf("::::")>-1){e=e.replace("::::","::")}if(e.slice(-2)=="::"){e=e.slice(0,-2)}return e}e.replaceSpecialChars=t;function i(e){e=e.replace("com.sap.vocabularies.UI.v1.","");e=e.replace("com.sap.vocabularies.Communication.v1.","");return e}function n(e){if(e&&e.$Path||e.path){return e.$Path||e.path}if(e&&e.$Apply&&e.$Function==="odata.concat"){var a="";for(var i=0;i<e.$Apply.length;i++){if(e.$Apply[i].$Path){if(a){a+="::"}a+=e.$Apply[i].$Path}}return a}if(e){return t(e.replace(/ /g,"_"))}}var c=function(e){var a="",t,i;for(var n=0;n<e.length;n++){t=e[n];if(!t){continue}a+=a!==""?"::":"";if(t["Facet"]&&t["Facet"]["$Type"]&&t["Facet"]["$Type"]=="com.sap.vocabularies.UI.v1.CollectionFacet"){a+=t["Facet"]["ID"]}else if(typeof t==="string"){if(t){a+=t}}else if(typeof t==="object"){if(t&&t.Facet){if(t.Facet.$Type&&t.Facet.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){if(t.Facet.ID){i=t.Facet.ID}}else if(t.Facet.$Type&&t.Facet.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){if(t.Facet.ID){i=t.Facet.ID}else{i=t.Facet.Target.$AnnotationPath||t.Facet.Target.value}}else if(t.Facet.$Type&&t.Facet.$Type==="com.sap.vocabularies.UI.v1.FieldGroupType"){if(t.Facet.Label){i=t.Facet.Label}}if(i){a+=i}}if(t&&t["$Type"]&&t["$Type"].indexOf("com.sap.vocabularies.UI.v1.DataField")>-1){a+=o(t)}}}a=l(a);return a};e.generate=c;var r=function(e){var a="";if(typeof e.SemanticObject=="string"){a+=e.SemanticObject}else if(e.SemanticObject.$Path){a+=e.SemanticObject.$Path}if(typeof e.Action=="string"){a+="::".concat(e.Action)}else if(e.Action&&e.Action.$Path){a+="::".concat(e.Action.$Path)}if(e["RequiresContext"]&&e["RequiresContext"]==true){a+="::RequiresContext"}return a};e.getStableIdPartFromSemanticObjectAndAction=r;var o=function(e){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var t="";if(e.$Type&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){t="DataFieldForAction::";t+=e.Action;return l(t)}else if(e.$Type&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){t="DataFieldForIntentBasedNavigation::";t+=r(e);return t}else if(e.$Type&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){t="DataFieldForAnnotation::";t+=l(e.Target.$AnnotationPath||e.Target.value);return t}else if(e.$Type&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction"){t="DataFieldWithAction::";if(e.Value){t+="".concat(n(e.Value),"::")}t+=e.Action;return l(t)}else if(e.$Type&&e.$Type==="com.sap.vocabularies.UI.v1.DataField"){t="DataField::";t+=n(e.Value);return l(t)}else if(e.$Type&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){t="DataFieldWithIntentBasedNavigation::";t+="".concat(n(e.Value),"::");t+=r(e);return l(t)}else if(e.$Type&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){t="DataFieldWithNavigationPath::";t+=n(e.Value);if(e.Target&&e.Target["$NavigationPropertyPath"]){t+="::".concat(e.Target["$NavigationPropertyPath"])}return l(t)}else if(e.$Type&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){t="DataFieldWithUrl::";t+=n(e.Value);return l(t)}else if(a&&a.context&&a.context.getObject("@sapui.name")){return l(a.context.getObject("@sapui.name").toString())}else{}return undefined};e.getStableIdPartFromDataField=o;var l=function(e){e=t(i(e));if(a(e)){return e}else{throw"".concat(e," - Stable Id could not be generated due to insufficient information.")}};e.prepareId=l;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/Synchronization", [],function(){"use strict";var e=function(){function e(){this._fnResolve=null;this._isResolved=false}var s=e.prototype;s.waitFor=function e(){var s=this;if(this._isResolved){return Promise.resolve()}else{return new Promise(function(e){s._fnResolve=e})}};s.resolve=function e(){if(!this._isResolved){this._isResolved=true;if(this._fnResolve){this._fnResolve()}}};return e}();return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ToES6Promise", [],function(){"use strict";function r(r){return Promise.resolve(r.then(function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++){e[n]=arguments[n]}return Array.prototype.slice.call(e)}).catch(function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++){e[n]=arguments[n]}return Array.prototype.slice.call(e)}))}return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/Fragment", [],function(){"use strict";var e={};var n=function e(){};n.isFragment=true;e=n;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/ViewLoader", ["sap/fe/core/helpers/ClassSupport","sap/m/Page","sap/ui/base/ManagedObject","sap/ui/core/mvc/View","sap/fe/core/jsx-runtime/jsx"],function(e,r,t,n,i){"use strict";var a,o,c,u,s;var l={};var f=e.property;var p=e.defineUI5Class;function d(e,r,t,n){if(!t)return;Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function v(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function b(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;m(e,r)}function m(e,r){m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(r,t){r.__proto__=t;return r};return m(e,r)}function h(e,r,t,n,i){var a={};Object.keys(n).forEach(function(e){a[e]=n[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=t.slice().reverse().reduce(function(t,n){return n(e,r,t)||t},a);if(i&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(i):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,r,a);a=null}return a}function y(e,r){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var w=(a=p("sap.fe.core.jsx-runtime.MDXViewLoader"),o=f({type:"string"}),a(c=(u=function(e){b(n,e);function n(){var r;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++){n[i]=arguments[i]}r=e.call.apply(e,[this].concat(n))||this;d(r,"viewName",s,v(r));return r}l=n;var a=n.prototype;a.loadDependency=function e(r){return new Promise(function(e){sap.ui.require([r],function(r){try{e(r);return Promise.resolve()}catch(e){return Promise.reject(e)}})})};a.getControllerName=function e(){var r=this.getViewData();return r.controllerName};a.createContent=function e(a){try{var o=this;function s(e){n.preprocessorData=o.mPreprocessors.xml;n.controller=a;var c=t.runWithPreprocessors(function(){return e()},{id:function(e){return o.createId(e)}});return i(r,{class:"sapUiContentPadding",children:{content:c}})}var c=o.getViewData();var u=c.viewContent;return Promise.resolve(u?s(u):Promise.resolve(o.loadDependency(c._mdxViewName)).then(s))}catch(l){return Promise.reject(l)}};return n}(n),s=h(u.prototype,"viewName",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||c);l=w;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/jsx-control", ["sap/fe/core/helpers/BindingToolkit","sap/m/Text"],function(e,n){"use strict";var r=e.isConstant;var t=e.compileExpression;var i=e.compileConstant;var a=function(e,n,r){if(r===undefined||typeof r==="string"){return}if(!e[n]){e[n]=[]}if(f(r)){e[n].push(r)}else if(Array.isArray(r)){r.forEach(function(r){a(e,n,r)})}else{Object.keys(r).forEach(function(n){a(e,n,r[n])})}};var f=function(e){var n,r;return e===null||e===void 0?void 0:(n=(r=e).isA)===null||n===void 0?void 0:n.call(r,"sap.ui.core.Element")};var s=function(e){return!!(e!==null&&e!==void 0&&e.getMetadata)};function l(e,n){var r=e.getAllAggregations();var t=e.getDefaultAggregationName();var i={};a(i,t,n.children);delete n.children;Object.keys(r).forEach(function(e){if(i[e]!==undefined){if(n.hasOwnProperty(e)){n[e].template=i[e][0]}else{n[e]=i[e]}}})}var o=function(e,a,f){if(e.isFragment){return a.children}var o;if(s(e)){var u=e.getMetadata();if(f!==undefined){a["key"]=f}l(u,a);var c=a.class;var v=a.ref;delete a.ref;delete a.class;var d;for(d in a){var p;if((p=a[d])!==null&&p!==void 0&&p._type){var g=a[d];if(r(g)){a[d]=i(a[d],false,true,true)}else{a[d]=t(g)}}}o=new e(a);if(c){o.addStyleClass(c)}if(v){v.setCurrent(o)}}else if(typeof e==="function"){var y=e;o=y(a)}else{o=new n({text:"Missing component "+e})}return o};return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/jsx-xml", [],function(){"use strict";function t(t,n,r){n=e(n);if(n in t){Object.defineProperty(t,n,{value:r,enumerable:true,configurable:true,writable:true})}else{t[n]=r}return t}function e(t){var e=n(t,"string");return typeof e==="symbol"?e:String(e)}function n(t,e){if(typeof t!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==undefined){var r=n.call(t,e||"default");if(typeof r!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r=function(t){if(Array.isArray(t)){return t.join("")}else{return t}};var a=function(t,e,n){if(n===undefined){return}if(!t[e]){t[e]=[]}if(typeof n==="string"&&n.trim().length>0){t[e].push(n)}else if(Array.isArray(n)){n.forEach(function(n){a(t,e,n)})}else{Object.keys(n).forEach(function(e){a(t,e,n[e])})}};var i="fl:delegate";var c=function(e,n,c){var o=e.getMetadata();var f=o.getName().split(".");if(c!==undefined){n["key"]=c}var u=o.getAllProperties();var s=o.getAllAggregations();u["class"]={name:"class"};u["id"]={name:"id"};u[i]={name:i};u["xmlns:fl"]={name:i};if(o.getName()==="sap.ui.core.Fragment"){u["fragmentName"]={name:"fragmentName"}}var l=f.slice(0,-1);var g=f[f.length-1];var v=l[l.length-1];var m="".concat(v,":").concat(g);var y=[];var p=[];var d=o.getDefaultAggregationName();Object.keys(u).forEach(function(t){if(n.hasOwnProperty(t)&&n[t]!==undefined){if(typeof n[t]==="object"){y.push("".concat(t,"='").concat(JSON.stringify(n[t]),"'"))}else{y.push("".concat(t,"='").concat(n[t],"'"))}}});var h=t({},d,[]);a(h,d,n.children);Object.keys(s).forEach(function(t){if(h!==null&&h!==void 0&&h.hasOwnProperty(t)&&h[t].length>0){p.push("<".concat(v,":").concat(t,">\n\t\t\t\t\t\t").concat(r(h[t]),"\n\t\t\t\t\t</").concat(v,":").concat(t,">"))}if(n.hasOwnProperty(t)&&n[t]!==undefined){y.push("".concat(t,"='").concat(JSON.stringify(n[t]),"'"))}});return"<".concat(m," xmlns:").concat(v,'="').concat(l.join("."),'" ').concat(y.join(" "),">").concat(p.join(""),"</").concat(m,">")};return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/jsx", ["sap/fe/core/jsx-runtime/jsx-control","sap/fe/core/jsx-runtime/jsx-xml"],function(e,r){"use strict";var n=false;var s=function(s,t,u){if(!n){return e(s,t,u)}else{return r(s,t,u)}};s.renderAsXML=function(e){n=true;var r=e();n=false;return r};return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/jsxs", ["sap/fe/core/jsx-runtime/jsx"],function(e){"use strict";return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/useMDXComponents", ["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockRuntime","sap/fe/core/helpers/ClassSupport","sap/fe/core/jsx-runtime/ViewLoader","sap/fe/macros/macroLibrary","sap/m/FormattedText","sap/m/HBox","sap/m/Panel","sap/m/Title","sap/ui/codeeditor/CodeEditor","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/util/XMLPreprocessor","sap/fe/core/jsx-runtime/jsx"],function(e,r,n,t,i,a,o,l,c,s,u,d,h,p){"use strict";var f=d.TitleLevel;var m=n.createReference;var v=r.parseXMLString;function g(e){var r=Array.isArray(e.children)?e.children.map(function(e){var r;if(typeof e==="string"){r=e}else{switch(e.getMetadata().getName()){case"sap.m.Link":r='<a href="'.concat(e.getHref(),'">').concat(e.getText(),"</a>");break;case"sap.ui.codeeditor.CodeEditor":r="<code>".concat(e.getValue(),"</code>");break}}return r}).join(""):e.children;return p(a,{htmlText:r,class:"sapUiTinyMarginBottom"})}function x(e){return p(c,{text:e.children,level:f.H1,class:"sapUiTinyMarginBottom"})}function y(e){return"<a href={strValue.href}>".concat(e.children,"</a>")}function T(e){var r="<ul>".concat(Array.isArray(e.children)?e.children.join(""):e.children,"</ul>");return p(a,{htmlText:r})}function b(e){return"<li>".concat(Array.isArray(e.children)?e.children.join(""):e.children,"</li>")}function B(e){return p(c,{text:e.children,level:f.H2,class:"sapUiSmallMarginTop sapUiTinyMarginBottom"})}function M(e){return e.children}function L(r){var n=m();var a=r.binding?{path:r.binding}:undefined;var c=p(l,{headerText:r.headerText||"",class:"sapUiSmallMarginTop",children:p(o,{ref:n})});if(a){c.bindElement(a)}i.register();var s=h.process(v("<root>".concat(r.children,"</root>"),true),{name:"myBuildingBlockFragment"},t.preprocessorData);Promise.resolve(s).then(function(e){return u.load({definition:e.firstElementChild,controller:t.controller})}).then(function(e){n.current.removeAllItems();n.current.addItem(e)}).catch(function(r){e.error(r)});return c}function k(e){var r,n,t;var i=((r=e.children)===null||r===void 0?void 0:r.trim())||"";var a=e.lineCount||Math.max((n=i.split("\n"))===null||n===void 0?void 0:n.length,3);var o=e.type||(e===null||e===void 0?void 0:(t=e.className)===null||t===void 0?void 0:t.split("-")[1])||"js";var l=p(s,{class:"sapUiTinyMargin",lineNumbers:e.lineNumbers||false,type:o,editable:e.editable||false,maxLines:a,height:"auto",width:"98%"});l.setValue(i);if(e.source){fetch(e.source).then(function(e){return e.text()}).then(function(e){var r;var n=Math.max((r=e.split("\n"))===null||r===void 0?void 0:r.length,3);l.setMaxLines(n);l.setValue(e)}).catch(function(e){l.setValue(e.message)})}return l}var j=function(){return{p:g,a:y,h1:x,h2:B,ul:T,li:b,pre:M,code:k,CodeBlock:k,BuildingBlockPlayground:L}};return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/library", ["sap/base/Log","sap/fe/core/formatters/FPMFormatter","sap/fe/core/formatters/StandardFormatter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/services/AsyncComponentServiceFactory","sap/fe/core/services/CacheHandlerServiceFactory","sap/fe/core/services/EnvironmentServiceFactory","sap/fe/core/services/NavigationServiceFactory","sap/fe/core/services/ResourceModelServiceFactory","sap/fe/core/services/RoutingServiceFactory","sap/fe/core/services/ShellServicesFactory","sap/fe/core/services/SideEffectsServiceFactory","sap/fe/core/services/TemplatedViewServiceFactory","sap/fe/core/type/DateTimeWithTimezone","sap/fe/core/type/Email","sap/fe/navigation/library","sap/fe/placeholder/library","sap/ui/base/DataType","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/fl/library","sap/ui/mdc/library"],function(e,r,a,i,o,t,s,n,c,l,p,d,f,v,u,y,S,g,C,m,b,w,D){"use strict";var F=C.initLibrary({name:"sap.fe.core",dependencies:["sap.ui.core","sap.fe.navigation","sap.fe.placeholder","sap.ui.fl","sap.ui.mdc","sap.f"],types:["sap.fe.core.CreationMode","sap.fe.core.VariantManagement"],interfaces:[],controls:[],elements:[],version:"1.108.22",noLibraryCSS:true,extensions:{"sap.ui.support":{publicRules:true,internalRules:true},flChangeHandlers:{"sap.fe.core.controls.FilterBar":"sap/ui/mdc/flexibility/FilterBar"}}});F.InvocationGrouping={Isolated:"Isolated",ChangeSet:"ChangeSet"};F.CreationMode={NewPage:"NewPage",Sync:"Sync",Async:"Async",Deferred:"Deferred",Inline:"Inline",CreationRow:"CreationRow",InlineCreationRows:"InlineCreationRows",External:"External"};F.VariantManagement={None:"None",Page:"Page",Control:"Control"};F.Constants={CancelActionDialog:"cancel",ActionExecutionFailed:"actionExecutionFailed",CreationFailed:"creationFailed"};F.ProgrammingModel={Draft:"Draft",Sticky:"Sticky",NonDraft:"NonDraft"};F.DraftStatus={Saving:"Saving",Saved:"Saved",Clear:"Clear"};F.EditMode={Display:"Display",Editable:"Editable"};F.TemplateContentView={Hybrid:"Hybrid",Chart:"Chart",Table:"Table"};F.InitialLoadMode={Enabled:"Enabled",Disabled:"Disabled",Auto:"Auto"};F.StartupMode={Normal:"Normal",Deeplink:"Deeplink",Create:"Create",AutoCreate:"AutoCreate"};var E=g.createType("sap.fe.core.InitialLoadMode",{defaultValue:F.InitialLoadMode.Auto,isValid:function(r){if(typeof r==="boolean"){e.warning("DEPRECATED: boolean value not allowed for 'initialLoad' manifest setting - supported values are: Disabled|Enabled|Auto")}return r===undefined||r===null||typeof r==="boolean"||F.InitialLoadMode.hasOwnProperty(r)}});E.setNormalizer(function(e){if(!e){return F.InitialLoadMode.Disabled}return e===true?F.InitialLoadMode.Enabled:e});b.register("sap.fe.core.services.TemplatedViewService",new f);b.register("sap.fe.core.services.ResourceModelService",new c);b.register("sap.fe.core.services.CacheHandlerService",new t);b.register("sap.fe.core.services.NavigationService",new n);b.register("sap.fe.core.services.RoutingService",new l);b.register("sap.fe.core.services.SideEffectsService",new d);b.register("sap.fe.core.services.ShellServices",new p);b.register("sap.fe.core.services.EnvironmentService",new s);b.register("sap.fe.core.services.AsyncComponentService",new o);return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/manifestMerger/ChangePageConfiguration", ["sap/base/Log","sap/base/util/ObjectPath"],function(t,i){"use strict";var r={};function o(r,o){var n,e;var a=o.getContent();var l=a===null||a===void 0?void 0:a.page;var v=((n=r["sap.ui5"])===null||n===void 0?void 0:(e=n.routing)===null||e===void 0?void 0:e.targets)||{};var u;var d=a===null||a===void 0?void 0:a.entityPropertyChange;if((d===null||d===void 0?void 0:d.operation)!=="UPSERT"||!(d!==null&&d!==void 0&&d.propertyPath)||(d===null||d===void 0?void 0:d.propertyValue)===undefined||d!==null&&d!==void 0&&d.propertyPath.startsWith("/")){t.error("Change content is not a valid");return r}for(var s in v){if(v[s].id===l){var p;if((p=v[s].name)!==null&&p!==void 0&&p.startsWith("sap.fe.templates.")){var f,g;u=((f=v[s])===null||f===void 0?void 0:(g=f.options)===null||g===void 0?void 0:g.settings)||{};break}}}if(!u){t.error("No Fiori elements page with ID ".concat(l," found in routing targets."));return r}var c=d.propertyPath.split("/");if(c[0]==="controlConfiguration"){var h="";for(var y=1;y<c.length;y++){h+=(y>1?"/":"")+c[y];if(h.indexOf("@")>-1){c=["controlConfiguration",h].concat(c.slice(y+1));break}}}i.set(c,d.propertyValue,u);return r}r.applyChange=o;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/operationsHelper", ["sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/MessageBox","sap/m/Title","sap/ui/core/message/Message","sap/ui/model/json/JSONModel","./CommonUtils","./controllerextensions/messageHandler/messageHandling","./formatters/TableFormatterTypes"],function(e,t,n,o,i,l,a,r,s,d){"use strict";var v=d.MessageType;function u(d,u,c,f,g,M,p){var E;var T=d.label;var m=d.model,x=r.getTranslatedText("C_COMMON_DIALOG_SKIP",u);var S=d===null||d===void 0?void 0:(E=d.internalModelContext)===null||E===void 0?void 0:E.getProperty("strictHandlingPromises");var C;if(f.length===1){var _=f[0].getMessage();var P=f[0].getAdditionalText();if(!g){C="".concat(_,"\n").concat(r.getTranslatedText("PROCEED",u))}else if(P!==undefined&&P!==""){var I=d.control.getParent().getTableDefinition().headerInfoTypeName;if(I){C="".concat(I," ").concat(P,": ").concat(_,"\n\n").concat(r.getTranslatedText("C_COMMON_DIALOG_SKIP_SINGLE_MESSAGE_TEXT",u))}else{C="".concat(P,": ").concat(_,"\n\n").concat(r.getTranslatedText("C_COMMON_DIALOG_SKIP_SINGLE_MESSAGE_TEXT",u))}}else{C="".concat(_,"\n\n").concat(r.getTranslatedText("C_COMMON_DIALOG_SKIP_SINGLE_MESSAGE_TEXT",u))}o.warning(C,{title:r.getTranslatedText("WARNING",u),actions:[T,x],emphasizedAction:T,onClose:function(e){var t;if(e===T){var n;if(!g){M(true);m.submitBatch(p);if(d.requestSideEffects){d.requestSideEffects()}}else{var o;S.forEach(function(e){e.resolve(true);m.submitBatch(e.groupId);if(e.requestSideEffects){e.requestSideEffects()}});var i=d===null||d===void 0?void 0:(o=d.internalModelContext)===null||o===void 0?void 0:o.getProperty("strictHandlingFails");if(i.length>0){c===null||c===void 0?void 0:c.removeTransitionMessages()}}d===null||d===void 0?void 0:(n=d.internalModelContext)===null||n===void 0?void 0:n.setProperty("412Executed",true)}else{var l;d===null||d===void 0?void 0:(l=d.internalModelContext)===null||l===void 0?void 0:l.setProperty("412Executed",false);if(!g){M(false)}else{S.forEach(function(e){e.resolve(false)})}}d===null||d===void 0?void 0:(t=d.internalModelContext)===null||t===void 0?void 0:t.setProperty("412Messages",[])}})}else if(f.length>1){if(g){var O=new l({message:r.getTranslatedText("C_COMMON_DIALOG_SKIP_MESSAGES_WARNING",u),type:v.Warning,target:undefined,persistent:true,description:r.getTranslatedText("C_COMMON_DIALOG_SKIP_MESSAGES_TEXT",u,T)});f=[O].concat(f)}var y=new a;y.setData(f);var h=true;var A=s.prepareMessageViewForDialog(y,h,g);var G=new n({resizable:true,content:A.oMessageView,state:"Warning",customHeader:new e({contentLeft:[A.oBackButton],contentMiddle:[new i({text:"Warning"})]}),contentHeight:"50%",contentWidth:"50%",verticalScrolling:false});G.setBeginButton(new t({press:function(){var e;if(!g){M(true);m.submitBatch(p)}else{var t,n;S.forEach(function(e){e.resolve(true);m.submitBatch(e.groupId);if(e.requestSideEffects){e.requestSideEffects()}});var o=d===null||d===void 0?void 0:(t=d.internalModelContext)===null||t===void 0?void 0:t.getProperty("strictHandlingFails");if(o.length>0){c===null||c===void 0?void 0:c.removeTransitionMessages()}d===null||d===void 0?void 0:(n=d.internalModelContext)===null||n===void 0?void 0:n.setProperty("412Messages",[])}d===null||d===void 0?void 0:(e=d.internalModelContext)===null||e===void 0?void 0:e.setProperty("412Executed",true);y.setData({});G.close()},type:"Emphasized",text:T}));G.setEndButton(new t({press:function(){var e,t;d===null||d===void 0?void 0:(e=d.internalModelContext)===null||e===void 0?void 0:e.setProperty("412Messages",[]);d===null||d===void 0?void 0:(t=d.internalModelContext)===null||t===void 0?void 0:t.setProperty("412Executed",false);if(!g){M(false)}else{S.forEach(function(e){e.resolve(false)})}y.setData({});G.close()},text:x}));G.open()}}function c(e,t,n,o,i,l,a,r){if(o===null&&l===null||o===1&&l===1){return new Promise(function(o){f.renderMessageView(t,n,a,r,false,o,e)})}else{var s,d,v,u;var c=t.label;var g=t===null||t===void 0?void 0:(s=t.internalModelContext)===null||s===void 0?void 0:s.getProperty("412Messages");var M="";if(l&&l>1){var p;var E=(p=t.control)===null||p===void 0?void 0:p.getParent();var T=E.isA("sap.fe.macros.table.TableAPI")&&(E===null||E===void 0?void 0:E.getIdentifierColumn());if(T){M=i&&i.getObject(T)}}r.forEach(function(e){e.setType("Warning");e.setAdditionalText(M);g.push(e)});if(t.dialog&&t.dialog.isOpen()){t.dialog.close()}var m=t===null||t===void 0?void 0:(d=t.internalModelContext)===null||d===void 0?void 0:d.getProperty("strictHandlingPromises");var x=new Promise(function(n){m.push({groupId:e,resolve:n,actionName:c,model:t.model,value:M,requestSideEffects:t.requestSideEffects})});t===null||t===void 0?void 0:(v=t.internalModelContext)===null||v===void 0?void 0:v.setProperty("412Messages",g);t===null||t===void 0?void 0:(u=t.internalModelContext)===null||u===void 0?void 0:u.setProperty("strictHandlingPromises",m);if(o===l||o===null&&l!==null&&l>=1){var S;f.renderMessageView(t,n,a,t===null||t===void 0?void 0:(S=t.internalModelContext)===null||S===void 0?void 0:S.getProperty("412Messages"),true)}return x}}var f={renderMessageView:u,fnOnStrictHandlingFailed:c};return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/rootView/Fcl.controller", ["sap/base/Log","sap/f/FlexibleColumnLayoutSemanticHelper","sap/f/library","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/m/Link","sap/m/MessageBox","sap/m/MessagePage","./RootViewBaseController"],function(e,t,n,o,r,i,a,l,u,s){"use strict";var g,c,C,h,f;var d=l.Icon;var m=l.Action;var p=r.usingExtension;var v=r.defineUI5Class;function F(e,t){var n=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=P(e))||t&&e&&typeof e.length==="number"){if(n)e=n;var o=0;var r=function(){};return{s:r,n:function(){if(o>=e.length)return{done:true};return{done:false,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function(){n=n.call(e)},n:function(){var e=n.next();i=e.done;return e},e:function(e){a=true;l=e},f:function(){try{if(!i&&n.return!=null)n.return()}finally{if(a)throw l}}}}function y(e){return E(e)||b(e)||P(e)||w()}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(e,t){if(!e)return;if(typeof e==="string")return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}function b(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E(e){if(Array.isArray(e))return M(e)}function M(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,o=new Array(t);n<t;n++){o[n]=e[n]}return o}function x(e,t,n,o){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function S(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function T(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}function R(e,t){R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return R(e,t)}function _(e,t,n,o,r){var i={};Object.keys(o).forEach(function(e){i[e]=o[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i);if(r&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(r):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}function A(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var L=n.LayoutType;var B={page:{names:["BeginColumn","MidColumn","EndColumn"],currentGetter:{prefix:"getCurrent",suffix:"Page"},getter:{prefix:"get",suffix:"Pages"}}};var V=function(e){if(e.isA("sap.ui.core.ComponentContainer")){return e.getComponentInstance().getRootControl()}else{return e}};var I=(g=v("sap.fe.core.rootView.Fcl"),c=p(o.override({applyInitialStateOnly:function(){return false},adaptBindingRefreshControls:function(e){this.getView().getController()._getAllVisibleViews().forEach(function(t){var n=Promise.resolve(t);e.push(n)})},adaptStateControls:function(e){this.getView().getController()._getAllVisibleViews().forEach(function(t){var n=Promise.resolve(t);e.push(n)})},onRestore:function(){var e=this.getView();var t=this.getView().getController();var n=t.getAppContentContainer(e);var o=n.getModel("internal");var r=o.getProperty("/pages");for(var i in r){o.setProperty("/pages/".concat(i,"/restoreStatus"),"pending")}t.onContainerReady()},onSuspend:function(){var e=this.getView().getController();var t=e.getFclControl();var n=t.getBeginColumnPages()||[];var o=t.getMidColumnPages()||[];var r=t.getEndColumnPages()||[];var i=[].concat(n,o,r);i.forEach(function(e){var t=V(e);var n=t&&t.getController();if(n&&n.viewState&&n.viewState.onSuspend){n.viewState.onSuspend()}})}})),g(C=(h=function(n){T(o,n);function o(){var e;for(var t=arguments.length,o=new Array(t),r=0;r<t;r++){o[r]=arguments[r]}e=n.call.apply(n,[this].concat(o))||this;x(e,"viewState",f,S(e));return e}var r=o.prototype;r.onInit=function e(){n.prototype.onInit.call(this);this._internalInit()};r.attachRouteMatchers=function e(){this.getRouter().attachBeforeRouteMatched(this._getViewForNavigatedRowsComputation,this);n.prototype.attachRouteMatchers.call(this);this._internalInit();this.getRouter().attachBeforeRouteMatched(this.onBeforeRouteMatched,this);this.getRouter().attachRouteMatched(this.onRouteMatched,this);this.getFclControl().attachStateChange(this._saveLayout,this)};r._internalInit=function e(){var t,n;if(this._oRouterProxy){return}this.sCurrentRouteName="";this.sCurrentArguments={};this.SQUERYKEYNAME="?query";var o=this.getAppComponent();this._oRouterProxy=o.getRouterProxy();this._oFCLConfig={maxColumnsCount:3};var r=o.getManifest()["sap.ui5"].routing;if(r!==null&&r!==void 0&&(t=r.config)!==null&&t!==void 0&&t.flexibleColumnLayout){var i=r.config.flexibleColumnLayout;if(i.defaultTwoColumnLayoutType){this._oFCLConfig.defaultTwoColumnLayoutType=i.defaultTwoColumnLayoutType}if(i.defaultThreeColumnLayoutType){this._oFCLConfig.defaultThreeColumnLayoutType=i.defaultThreeColumnLayoutType}if(i.limitFCLToTwoColumns===true){this._oFCLConfig.maxColumnsCount=2}}if(r!==null&&r!==void 0&&(n=r.config)!==null&&n!==void 0&&n.controlAggregation){this._oFCLConfig.defaultControlAggregation=r.config.controlAggregation}this._initializeTargetAggregation(o);this._initializeRoutesInformation(o)};r.getFclControl=function e(){return this.getView().getContent()[0]};r._saveLayout=function e(t){this.sPreviousLayout=t.getParameters().layout};r._getViewForNavigatedRowsComputation=function e(){var t=this;var n=this._getAllVisibleViews(this.sPreviousLayout);var o=n[n.length-1];var r;this.getRouter().attachEventOnce("routeMatched",function(e){r=V(e.getParameter("views")[e.getParameter("views").length-1]);if(o){if(r.getViewData()&&r.getViewData().viewLevel===t._oFCLConfig.maxColumnsCount){t.oAdditionalViewForNavRowsComputation=r}if(r.getViewData()&&o.getViewData()&&o.getViewData().viewLevel<t._oFCLConfig.maxColumnsCount&&o.getViewData()&&o.getViewData().viewLevel>r.getViewData().viewLevel&&r!==o){t.oAdditionalViewForNavRowsComputation=o}}})};r.getViewForNavigatedRowsComputation=function e(){return this.oAdditionalViewForNavRowsComputation};r.onExit=function e(){this.getRouter().detachRouteMatched(this.onRouteMatched,this);this.getRouter().detachBeforeRouteMatched(this.onBeforeRouteMatched,this);this.getFclControl().detachStateChange(this.onStateChanged,this);this.getFclControl().detachAfterEndColumnNavigate(this.onStateChanged,this);this._oTargetsAggregation=null;this._oTargetsFromRoutePattern=null;s.prototype.onExit.bind(this)()};r.isFclEnabled=function e(){return true};r.displayMessagePage=function e(t,n){var o=this.getFclControl();if(this._oFCLConfig&&n.FCLLevel>=this._oFCLConfig.maxColumnsCount){n.FCLLevel=this._oFCLConfig.maxColumnsCount-1}if(!this.aMessagePages){this.aMessagePages=[null,null,null]}var r=this.aMessagePages[n.FCLLevel];if(!r){r=new u({showHeader:false,icon:"sap-icon://message-error"});this.aMessagePages[n.FCLLevel]=r;switch(n.FCLLevel){case 0:o.addBeginColumnPage(r);break;case 1:o.addMidColumnPage(r);break;default:o.addEndColumnPage(r)}}r.setText(t);if(n.technicalMessage){r.setCustomDescription(new a({text:n.description||n.technicalMessage,press:function(){l.show(n.technicalMessage,{icon:d.ERROR,title:n.title,actions:[m.OK],defaultAction:m.OK,details:n.technicalDetails||"",contentWidth:"60%"})}}))}else{r.setDescription(n.description||"")}o.to(r.getId());return Promise.resolve(true)};r._initializeTargetAggregation=function e(t){var n=this;var o=t.getManifest(),r=o["sap.ui5"].routing?o["sap.ui5"].routing.targets:null;this._oTargetsAggregation={};if(r){Object.keys(r).forEach(function(e){var t=r[e];if(t.controlAggregation){n._oTargetsAggregation[e]={aggregation:t.controlAggregation,pattern:t.contextPattern}}else{n._oTargetsAggregation[e]={aggregation:"page",pattern:null}}})}};r._initializeRoutesInformation=function e(t){var n=this;var o=t.getManifest(),r=o["sap.ui5"].routing?o["sap.ui5"].routing.routes:null;this._oTargetsFromRoutePattern={};if(r){r.forEach(function(e){n._oTargetsFromRoutePattern[e.pattern]=e.target})}};r.getCurrentArgument=function e(){return this.sCurrentArguments};r.getCurrentRouteName=function e(){return this.sCurrentRouteName};r.getConstants=function e(){return B};r.getTargetAggregation=function e(){return this._oTargetsAggregation};r.onRouteMatched=function e(t){var n=t.getParameter("name");this.sCurrentRouteName=n;this.sCurrentArguments=t.getParameter("arguments")};r._scrollTablesToLastNavigatedItems=function e(){var t=this._getAllVisibleViews();if(t.length>1||t[0].getViewData().viewLevel<this._oFCLConfig.maxColumnsCount){var n;var o=this.getViewForNavigatedRowsComputation();if(o&&t.indexOf(o)===-1){t.push(o)}for(var r=t.length-1;r>0;r--){var i=t[r],a=t[r-1];if(i.getBindingContext()){n=i.getBindingContext().getPath();a.getController()._scrollTablesToRow(n)}}}};r.onStateChanged=function e(t){var n=t.getParameter("isNavigationArrow");if(this.sCurrentArguments!==undefined){if(!this.sCurrentArguments[this.SQUERYKEYNAME]){this.sCurrentArguments[this.SQUERYKEYNAME]={}}this.sCurrentArguments[this.SQUERYKEYNAME].layout=t.getParameter("layout")}this._forceModelContextChangeOnBreadCrumbs(t);if(n){this._oRouterProxy.navTo(this.sCurrentRouteName,this.sCurrentArguments)}};r._forceModelContextChangeOnBreadCrumbs=function e(t){var n=t.getSource();var o=[];o=o.concat(n.getBeginColumnPages()).concat(n.getMidColumnPages()).concat(n.getEndColumnPages());o.forEach(function(e){var t=V(e);var n=t.byId&&t.byId("breadcrumbs");if(n){n.fireModelContextChange()}})};r._updateShareButtonVisibility=function e(t,n){var o;switch(n){case"OneColumn":o=t==="beginColumn";break;case"MidColumnFullScreen":case"ThreeColumnsBeginExpandedEndHidden":case"ThreeColumnsMidExpandedEndHidden":case"TwoColumnsBeginExpanded":case"TwoColumnsMidExpanded":o=t==="midColumn";break;case"EndColumnFullScreen":case"ThreeColumnsEndExpanded":case"ThreeColumnsMidExpanded":o=t==="endColumn";break;default:o=false}return o};r.updateUIStateForView=function e(t,n){var o=this.getHelper().getCurrentUIState(),r=["beginColumn","midColumn","endColumn"],i=this.getFclControl().getLayout();var a;if(!t.getModel("fclhelper")){t.setModel(this._createHelperModel(),"fclhelper")}if(n>=this._oFCLConfig.maxColumnsCount){a=r[this._oFCLConfig.maxColumnsCount-1];o.actionButtonsInfo.midColumn.fullScreen=null;o.actionButtonsInfo.midColumn.exitFullScreen=null;o.actionButtonsInfo.midColumn.closeColumn=null;o.actionButtonsInfo.endColumn.exitFullScreen=null;o.actionButtonsInfo.endColumn.fullScreen=null;o.actionButtonsInfo.endColumn.closeColumn=null}else{a=r[n]}if(n>=this._oFCLConfig.maxColumnsCount||i==="EndColumnFullScreen"||i==="MidColumnFullScreen"||i==="OneColumn"){t.getModel("fclhelper").setProperty("/breadCrumbIsVisible",true)}else{t.getModel("fclhelper").setProperty("/breadCrumbIsVisible",false)}o.actionButtonsInfo.beginColumn={fullScreen:null,exitFullScreen:null,closeColumn:null};var l=Object.assign({},o.actionButtonsInfo[a]);l.switchVisible=l.fullScreen!==null||l.exitFullScreen!==null;l.switchIcon=l.fullScreen!==null?"sap-icon://full-screen":"sap-icon://exit-full-screen";l.isFullScreen=l.fullScreen===null;t.getModel("fclhelper").setProperty("/actionButtonsInfo",l);t.getModel("fclhelper").setProperty("/showShareIcon",this._updateShareButtonVisibility(a,i))};r.onBeforeRouteMatched=function e(t){if(t){var n=t.getParameters().arguments[this.SQUERYKEYNAME];var o=n?n.layout:null;if(!o){var r=this.getHelper().getNextUIState(0);o=r.layout}var i=t.getParameter("config").target;o=this._correctLayoutForTargets(o,i);if(o){this.getFclControl().setLayout(o)}}};r.getHelper=function e(){return t.getInstanceFor(this.getFclControl(),this._oFCLConfig)};r.calculateLayout=function e(t,n,o){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!o){o=r?this.getFclControl().getLayout():this.getHelper().getNextUIState(t).layout}var i=this.getRouter().getRouteByHash("".concat(n,"?layout=").concat(o));var a=this._oTargetsFromRoutePattern[i.getPattern()];return this._correctLayoutForTargets(o,a)};r._correctLayoutForTargets=function e(t,n){var o={2:["TwoColumnsMidExpanded","TwoColumnsBeginExpanded","MidColumnFullScreen"],3:["ThreeColumnsMidExpanded","ThreeColumnsEndExpanded","ThreeColumnsMidExpandedEndHidden","ThreeColumnsBeginExpandedEndHidden","MidColumnFullScreen","EndColumnFullScreen"]};if(n&&!Array.isArray(n)){n=[n]}if(!n){return t}else if(n.length>1){var r=o[n.length];if(r.indexOf(t)<0){t=r[0]}}else{var i=this.getTargetAggregation()[n[0]].aggregation||this._oFCLConfig.defaultControlAggregation;switch(i){case"beginColumnPages":t="OneColumn";break;case"midColumnPages":t="MidColumnFullScreen";break;case"endColumnPages":t="EndColumnFullScreen";break}}return t};r.getInstancedViews=function e(){var t=this.getFclControl();var n=[].concat(y(t.getBeginColumnPages()),y(t.getMidColumnPages()),y(t.getEndColumnPages()));return n.map(function(e){return e.getComponentInstance().getRootControl()})};r._getAllVisibleViews=function t(n){var o=[];n=n?n:this.getFclControl().getLayout();switch(n){case L.EndColumnFullScreen:if(this.getFclControl().getCurrentEndColumnPage()){o.push(V(this.getFclControl().getCurrentEndColumnPage()))}break;case L.MidColumnFullScreen:if(this.getFclControl().getCurrentMidColumnPage()){o.push(V(this.getFclControl().getCurrentMidColumnPage()))}break;case L.OneColumn:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(V(this.getFclControl().getCurrentBeginColumnPage()))}break;case L.ThreeColumnsEndExpanded:case L.ThreeColumnsMidExpanded:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(V(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){o.push(V(this.getFclControl().getCurrentMidColumnPage()))}if(this.getFclControl().getCurrentEndColumnPage()){o.push(V(this.getFclControl().getCurrentEndColumnPage()))}break;case L.TwoColumnsBeginExpanded:case L.TwoColumnsMidExpanded:case L.ThreeColumnsMidExpandedEndHidden:case L.ThreeColumnsBeginExpandedEndHidden:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(V(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){o.push(V(this.getFclControl().getCurrentMidColumnPage()))}break;default:e.error("Unhandled switch case for ".concat(this.getFclControl().getLayout()))}return o};r._getAllViews=function t(n){var o=[];n=n?n:this.getFclControl().getLayout();switch(n){case L.OneColumn:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(V(this.getFclControl().getCurrentBeginColumnPage()))}break;case L.ThreeColumnsEndExpanded:case L.ThreeColumnsMidExpanded:case L.ThreeColumnsMidExpandedEndHidden:case L.ThreeColumnsBeginExpandedEndHidden:case L.EndColumnFullScreen:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(V(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){o.push(V(this.getFclControl().getCurrentMidColumnPage()))}if(this.getFclControl().getCurrentEndColumnPage()){o.push(V(this.getFclControl().getCurrentEndColumnPage()))}break;case L.TwoColumnsBeginExpanded:case L.TwoColumnsMidExpanded:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(V(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){o.push(V(this.getFclControl().getCurrentMidColumnPage()))}break;case L.MidColumnFullScreen:var r=this.getHelper().getCurrentUIState().actionButtonsInfo.midColumn.exitFullScreen;if(this.getFclControl().getCurrentBeginColumnPage()){o.push(V(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){o.push(V(this.getFclControl().getCurrentMidColumnPage()))}if(r.indexOf("ThreeColumn")>=0){if(this.getFclControl().getCurrentEndColumnPage()){o.push(V(this.getFclControl().getCurrentEndColumnPage()))}}break;default:e.error("Unhandled switch case for ".concat(this.getFclControl().getLayout()))}return o};r.onContainerReady=function e(){var t=this._getAllVisibleViews();var n=t.reduce(function(e,t){e.push(i.restoreView(t));return e},[]);return Promise.all(n)};r.getRightmostContext=function e(){var t=this.getRightmostView();return t&&t.getBindingContext()};r.getRightmostView=function e(){return this._getAllViews().pop()};r.isContextUsedInPages=function e(t){if(!this.getFclControl()){return false}var n=this._getAllViews();var o=F(n),r;try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i){if(i.getBindingContext()===t){return true}}else{return false}}}catch(e){o.e(e)}finally{o.f()}return false};return o}(s),f=_(h.prototype,"viewState",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),h))||C);return I},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/rootView/NavContainer.controller", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/m/Link","sap/m/MessageBox","sap/m/MessagePage","./RootViewBaseController"],function(e,t,n,r,a,i,o,s,l){"use strict";var c,g,u,f,p;var v=o.Icon;var d=o.Action;var h=r.usingExtension;var C=r.defineUI5Class;function w(e,t,n,r){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function P(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function b(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return y(e,t)}function m(e,t,n,r,a){var i={};Object.keys(r).forEach(function(e){i[e]=r[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i);if(a&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(a):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}function S(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var V=(c=C("sap.fe.core.rootView.NavContainer"),g=h(n.override({applyInitialStateOnly:function(){return false},adaptBindingRefreshControls:function(e){var t=this.getView(),n=t.getController();e.push(n._getCurrentPage(t))},adaptStateControls:function(e){var t=this.getView(),n=t.getController();e.push(n._getCurrentPage(t))},onRestore:function(){var e=this.getView(),t=e.getController(),n=t.getAppContentContainer(e);var r=n.getModel("internal");var a=r.getProperty("/pages");for(var i in a){r.setProperty("/pages/".concat(i,"/restoreStatus"),"pending")}t.onContainerReady()},onSuspend:function(){var e=this.getView(),n=e.getController(),r=n.getAppContentContainer(e);var a=r.getPages();a.forEach(function(e){var n=t.getTargetView(e);var r=n&&n.getController();if(r&&r.viewState&&r.viewState.onSuspend){r.viewState.onSuspend()}})}})),c(u=(f=function(n){b(r,n);function r(){var e;for(var t=arguments.length,r=new Array(t),a=0;a<t;a++){r[a]=arguments[a]}e=n.call.apply(n,[this].concat(r))||this;w(e,"viewState",p,P(e));return e}var l=r.prototype;l.onContainerReady=function e(){var n=this.getView(),r=this._getCurrentPage(n);return r.then(function(e){var n=t.getTargetView(e);return a.restoreView(n)})};l._getCurrentPage=function e(n){var r=this.getAppContentContainer(n);return new Promise(function(e){var a=r.getCurrentPage();if(a&&a.getController&&a.getController().isPlaceholder&&a.getController().isPlaceholder()){a.getController().attachEventOnce("targetPageInsertedInContainer",function(r){var a=r.getParameter("targetpage");var i=t.getTargetView(a);e(i!==n&&i)})}else{var i=t.getTargetView(a);e(i!==n&&i)}})};l._getNavContainer=function e(){return this.getView().getContent()[0]};l.getInstancedViews=function e(){return this._getNavContainer().getPages().map(function(e){return e.getComponentInstance().getRootControl()})};l.isFclEnabled=function e(){return false};l._scrollTablesToLastNavigatedItems=function e(){};l.displayMessagePage=function n(r,a){var l=this;return new Promise(function(n,c){try{var g=l._getNavContainer();if(!l.oMessagePage){l.oMessagePage=new s({showHeader:false,icon:"sap-icon://message-error"});g.addPage(l.oMessagePage)}l.oMessagePage.setText(r);if(a.technicalMessage){l.oMessagePage.setCustomDescription(new i({text:a.description||a.technicalMessage,press:function(){o.show(a.technicalMessage,{icon:v.ERROR,title:a.title,actions:[d.OK],defaultAction:d.OK,details:a.technicalDetails||"",contentWidth:"60%"})}}))}else{l.oMessagePage.setDescription(a.description||"")}if(a.handleShellBack){var u=g.getCurrentPage(),f=t.getAppComponent(g.getCurrentPage());f.getShellServices().setBackNavigation(function(){g.to(u.getId());f.getShellServices().setBackNavigation()})}g.attachAfterNavigate(function(){n(true)});g.to(l.oMessagePage.getId())}catch(t){c(false);e.info(t)}})};return r}(l),p=m(f.prototype,"viewState",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||u);return V},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/rootView/RootViewBaseController", ["sap/base/Log","sap/fe/core/BaseController","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/helpers/ClassSupport","sap/fe/macros/table/TableSizeHelper","sap/ui/base/BindingParser","sap/ui/core/routing/HashChanger","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/AnnotationHelper","sap/ui/thirdparty/URI"],function(e,t,r,n,a,o,i,c,s,u,l){"use strict";var f,h,p,g,d;var v=a.usingExtension;var m=a.defineUI5Class;function y(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=b(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var a=function(){};return{s:a,n:function(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=true,i=false,c;return{s:function(){r=r.call(e)},n:function(){var e=r.next();o=e.done;return e},e:function(e){i=true;c=e},f:function(){try{if(!o&&r.return!=null)r.return()}finally{if(i)throw c}}}}function b(e,t){if(!e)return;if(typeof e==="string")return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}function P(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function C(e,t){try{var r=e()}catch(e){return t(e)}if(r&&r.then){return r.then(void 0,t)}return r}function R(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function T(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}function M(e,t){M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return M(e,t)}function H(e,t,r,n,a){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o);if(a&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(a):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function I(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var w=(f=m("sap.fe.core.rootView.RootViewBaseController"),h=v(n),f(p=(g=function(t){_(n,t);function n(){var e;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++){n[a]=arguments[a]}e=t.call.apply(t,[this].concat(n))||this;R(e,"oPlaceholder",d,T(e));e.bIsComputingTitleHierachy=false;return e}var a=n.prototype;a.onInit=function e(){o.init();this._aHelperModels=[]};a.getPlaceholder=function e(){return this.oPlaceholder};a.attachRouteMatchers=function e(){this.oPlaceholder.attachRouteMatchers();this.getAppComponent().getRoutingService().attachAfterRouteMatched(this._onAfterRouteMatched,this)};a.onExit=function e(){this.getAppComponent().getRoutingService().detachAfterRouteMatched(this._onAfterRouteMatched,this);this.oRouter=undefined;o.exit();this._aHelperModels.forEach(function(e){e.destroy()})};a.getResourceBundle=function e(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()};a.getRouter=function e(){if(!this.oRouter){this.oRouter=this.getAppComponent().getRouter()}return this.oRouter};a._createHelperModel=function e(){var t=new s;this._aHelperModels.push(t);return t};a.waitForRightMostViewReady=function e(t){return new Promise(function(e){var r=t.getParameter("views"),n=[];r.forEach(function(e){var t=e;if(e&&e.getComponentInstance){var r=e.getComponentInstance();t=r.getRootControl()}if(t&&t.getController()&&t.getController().pageReady){n.push(t)}});var a=n[n.length-1];if(a&&a.getController().pageReady.isPageReady()){e(a)}else if(a){a.getController().pageReady.attachEventOnce("pageReady",function(){e(a)})}})};a._onAfterRouteMatched=function t(r){var n=this;if(!this._oRouteMatchedPromise){this._oRouteMatchedPromise=this.waitForRightMostViewReady(r).then(function(e){var t=n.getView().getContent()[0];if(t&&t.getAutoFocus&&!t.getAutoFocus()){t.setProperty("autoFocus",true,true)}var r=n.getAppComponent();n._scrollTablesToLastNavigatedItems();if(r.getEnvironmentCapabilities().getCapabilities().UShell){n._computeTitleHierarchy(e)}var a=r.getRouterProxy().isFocusForced();r.getRouterProxy().setFocusForced(false);if(e.getController()&&e.getController().onPageReady&&e.getParent().onPageReady){e.getParent().onPageReady({forceFocus:a})}if(n.onContainerReady){n.onContainerReady()}}).catch(function(t){e.error("An error occurs while computing the title hierarchy and calling focus method",t)}).finally(function(){n._oRouteMatchedPromise=null})}};a._getTitleHierarchyCache=function e(){if(!this.oTitleHierarchyCache){this.oTitleHierarchyCache={}}return this.oTitleHierarchyCache};a._computeTitleInfo=function e(t,r,n){var a=n.split("/");n=l.decode(n);if(a[a.length-1].indexOf("?")===-1){n+="?restoreHistory=true"}else{n+="&restoreHistory=true"}return{title:t,subtitle:r,intent:n,icon:""}};a._formatTitle=function e(t,r,n){var a="";switch(t){case"Value":a="".concat(r);break;case"ValueDescription":a="".concat(r," (").concat(n,")");break;case"DescriptionValue":a="".concat(n," (").concat(r,")");break;case"Description":a="".concat(n);break;default:}return a};a._fetchTitleValue=function t(n){try{var a=false;var o=this;var c=o.getAppComponent(),s=o.getView().getModel(),l=c.getMetaModel(),f=l.getMetaPath(n),h=s.createBindingContext(n),p=u.format(l.getObject("".concat(f,"/@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value")),{context:l.createBindingContext("/")});if(!p){return Promise.resolve("")}var g=u.format(l.getObject("".concat(f,"/@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value/$Path@com.sap.vocabularies.Common.v1.Text")),{context:l.createBindingContext("/")}),d=l.getObject("".concat(f,"/@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value/$Path@")),v=[],m=i.complexParser(p),y=new Promise(function(e){var t=r.computeDisplayMode(d);e(t)});v.push(y);var b=m.parts?m.parts[0].path:m.path,P=m.formatter,R=s.bindProperty(b,h);R.initialize();var T=new Promise(function(e){var t=function(r){var n=P?P(r.getSource().getValue()):r.getSource().getValue();R.detachChange(t);e(n)};R.attachChange(t)});v.push(T);if(g){var _=i.complexParser(g);var M=_.parts?_.parts[0].path:_.path;M=b.lastIndexOf("/")>-1?"".concat(b.slice(0,b.lastIndexOf("/")),"/").concat(M):M;var H=_.formatter,I=s.bindProperty(M,h);I.initialize();var w=new Promise(function(e){var t=function(r){var n=H?H(r.getSource().getValue()):r.getSource().getValue();I.detachChange(t);e(n)};I.attachChange(t)});v.push(w)}var A=C(function(){return Promise.resolve(Promise.all(v)).then(function(e){var t="";if(typeof e!=="string"){t=o._formatTitle(e[0],e[1],e[2])}a=true;return t})},function(t){e.error("Error while fetching the title from the header info :"+t)});return Promise.resolve(A&&A.then?A.then(function(e){return a?e:""}):a?A:"")}catch(e){return Promise.reject(e)}};a._getAppSpecificHash=function e(){return c.getInstance().hrefForAppSpecificHash?c.getInstance().hrefForAppSpecificHash(""):""};a._getHash=function e(){return c.getInstance().getHash()};a.getTitleInfoFromPath=function e(t){var r=this;var n=this._getTitleHierarchyCache();if(n[t]){return Promise.resolve(n[t])}var a=this.getAppComponent().getMetaModel();var o=a.getMetaPath(t);var i=a.getObject("".concat(o,"/@com.sap.vocabularies.UI.v1.HeaderInfo/TypeName"));var c=this._getAppSpecificHash();var s=c+t.slice(1);return this._fetchTitleValue(t).then(function(e){var a=r._computeTitleInfo(i,e,s);n[t]=a;return a})};a._ensureHierarchyElementsAreStrings=function e(t){var r=[];for(var n in t){var a=t[n];var o={};for(var i in a){o[i]=typeof a[i]!=="string"?String(a[i]):a[i]}r.push(o)}return r};a._getTargetTypeFromHash=function e(t){var r=this.getAppComponent();var n="";var a=r.getManifestEntry("/sap.ui5/routing/routes");var o=y(a),i;try{for(o.s();!(i=o.n()).done;){var c=i.value;var s=r.getRouter().getRoute(c.name);if(s.match(t)){var u=Array.isArray(c.target)?c.target[0]:c.target;n=r.getRouter().getTarget(u)._oOptions.name;break}}}catch(e){o.e(e)}finally{o.f()}return n};a._computeTitleHierarchy=function t(r){var n=this;var a=this.getAppComponent(),o=r.getBindingContext(),i=r.getParent(),c=[],s=this._getAppSpecificHash(),u=a.getMetadata().getManifestEntry("sap.app").title||"",l=a.getMetadata().getManifestEntry("sap.app").appSubTitle||"";var f,h;if(i&&i._getPageTitleInformation){if(o){if(this._getTargetTypeFromHash("")==="sap.fe.templates.ListReport"){c.push(Promise.resolve(this._computeTitleInfo(u,l,s)))}h=o.getPath();var p=h.split("/");var g="";p.shift();p.pop();p.forEach(function(e){g+="/".concat(e);var t=a.getMetaModel(),r=t.getMetaPath(g),o=t.getObject("".concat(r,"/@com.sap.vocabularies.Common.v1.ResultContext"));if(!o){c.push(n.getTitleInfoFromPath(g))}})}f=i._getPageTitleInformation();f=this._computeTitleInfo(f.title,f.subtitle,s+this._getHash());if(o){this._getTitleHierarchyCache()[h]=f}else{this._getTitleHierarchyCache()[s]=f}}else{c.push(Promise.reject("Title information missing in HeaderInfo"))}return Promise.all(c).then(function(e){var t=n._ensureHierarchyElementsAreStrings(e),r=f.title;t.reverse();a.getShellServices().setHierarchy(t);a.getShellServices().setTitle(r)}).catch(function(t){e.error(t)}).finally(function(){n.bIsComputingTitleHierachy=false}).catch(function(t){e.error(t)})};a.calculateLayout=function e(t,r,n){var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;return null};a.onContextBoundToView=function e(t){if(t){var r=this.getView().getModel("internal").getProperty("/deepestPath"),n=t.getPath();if(!r||r.indexOf(n)!==0){this.getView().getModel("internal").setProperty("/deepestPath",n,undefined,true)}}};a.displayMessagePage=function e(t,r){return Promise.resolve(true)};a.updateUIStateForView=function e(t,r){};a.getInstancedViews=function e(){return[]};a._scrollTablesToLastNavigatedItems=function e(){};a.getAppContentContainer=function e(t){var r=this.getAppComponent();var n=r.getManifestEntry("/sap.ui5/routing/config/controlId")||"appContent";return t.byId(n)};return n}(t),d=H(g.prototype,"oPlaceholder",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),g))||p);return w},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/AsyncComponentServiceFactory", ["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(t,e){"use strict";function r(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;n(t,e)}function n(t,e){n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,r){e.__proto__=r;return e};return n(t,e)}var o=function(t){r(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.init=function t(){var e=this;this.initPromise=new Promise(function(t,r){e.resolveFn=t;e.rejectFn=r});var r=this.getContext();var n=r.scopeObject;var o=n._getManifestEntry("/sap.ui5/services",true);Promise.all(Object.keys(o).filter(function(t){return o[t].startup==="waitFor"&&o[t].factoryName!=="sap.fe.core.services.AsyncComponentService"}).map(function(t){return n.getService(t).then(function(e){var r="get".concat(t[0].toUpperCase()).concat(t.substr(1));if(!n.hasOwnProperty(r)){n[r]=function(){return e}}})})).then(function(){return n.pRootControlLoaded||Promise.resolve()}).then(function(){if(n.onServicesStarted){n.onServicesStarted()}e.resolveFn(e)}).catch(this.rejectFn)};return e}(t);var i=function(t){r(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.createInstance=function t(e){var r=new o(e);return r.initPromise};return e}(e);return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/CacheHandlerServiceFactory", ["sap/base/strings/hash","sap/ui/core/cache/CacheManager","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,n,r){"use strict";var i={};function a(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}function o(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}function s(e,t){s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return s(e,t)}function c(e,t,n){return new Promise(function(r){jQuery.ajax(e,{method:"GET"}).done(function(i,a,o){n[e]=o.getResponseHeader("ETag")||o.getResponseHeader("Last-Modified");r(t===n[e])}).fail(function(){n[e]="";r(false)})})}var u=function(n){o(r,n);function r(){return n.apply(this,arguments)||this}i.CacheHandlerService=r;var s=r.prototype;s.init=function e(){var t=this;var n=this.getContext();this.oFactory=n.factory;var r=n.settings;if(!r.metaModel){throw new Error("a `metaModel` property is expected when instantiating the CacheHandlerService")}this.oMetaModel=r.metaModel;this.oAppComponent=r.appComponent;this.oComponent=r.component;this.initPromise=this.oMetaModel.fetchEntityContainer().then(function(){return t});this.mCacheNeedsInvalidate={}};s.exit=function e(){this.oFactory.removeGlobalInstance(this.oMetaModel)};s.validateCacheKey=function e(n,r){try{var i=this;function f(){i.mCacheNeedsInvalidate[n]=o;return s}var o=true;var s;var u=a(function(){return Promise.resolve(t.get(n)).then(function(e){var t=i.getETags(r);s=JSON.stringify(t);var n=function(){if(e){var n={};var r=JSON.parse(e.cachedETags);return Promise.resolve(Promise.all(Object.keys(r).map(function(e){if(r[e]){if(t[e]){n[e]=t[e];return r[e]===t[e]}else{return c(e,r[e],n)}}else{n[e]=t[e];return r[e]===t[e]}}))).then(function(t){o=t.indexOf(false)>=0;if(Object.keys(n).some(function(e){return!n[e]})){s=null}else{s=o?JSON.stringify(n):e.viewCacheKey}})}else if(Object.keys(t).some(function(e){return!t[e]})){o=true;s=null}}();if(n&&n.then)return n.then(function(){})})},function(){o=true;s=null});return Promise.resolve(u&&u.then?u.then(f):f(u))}catch(h){return Promise.reject(h)}};s.invalidateIfNeeded=function e(n,r,i){var a=JSON.stringify(this.getETags(i));if(this.mCacheNeedsInvalidate[r]||n&&n!==a){var o={};o.cachedETags=a;o.viewCacheKey=n;return t.set(r,o)}else{return Promise.resolve()}};s.getETags=function t(n){var r=this.oMetaModel.getETags();Object.keys(r).forEach(function(e){if(r[e]instanceof Date){r[e]=r[e].toISOString()}});var i=this.oAppComponent.getManifest();var a=e(JSON.stringify({sapApp:i["sap.app"],viewData:n.getViewData()}));r["manifest"]=a;return r};s.getInterface=function e(){return this};return r}(n);i.CacheHandlerService=u;var f=function(e){o(t,e);function t(){var t;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++){r[i]=arguments[i]}t=e.call.apply(e,[this].concat(r))||this;t._oInstanceRegistry={};return t}var n=t.prototype;n.createInstance=function e(t){var n=this;var r=t.settings.metaModel.getId();var i=this._oInstanceRegistry[r];if(!i){this._oInstanceRegistry[r]=i=new u(Object.assign({factory:this,scopeObject:null,scopeType:"service"},t))}return i.initPromise.then(function(){return n._oInstanceRegistry[r]}).catch(function(e){n._oInstanceRegistry[r]=null;throw e})};n.getInstance=function e(t){return this._oInstanceRegistry[t.getId()]};n.removeGlobalInstance=function e(t){this._oInstanceRegistry[t.getId()]=null};return t}(r);return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/EnvironmentServiceFactory", ["sap/ui/core/Core","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/VersionInfo","../converters/MetaModelConverter"],function(e,t,i,n,r){"use strict";var a={};var o=r.DefaultEnvironmentCapabilities;function s(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return c(e,t)}var u=function(t){s(i,t);function i(){return t.apply(this,arguments)||this}a.EnvironmentCapabilitiesService=i;var r=i.prototype;r.init=function e(){var t=this;this.initPromise=new Promise(function(e,i){t.resolveFn=e;t.rejectFn=i});var i=this.getContext();this.environmentCapabilities=Object.assign({},o);n.load().then(function(e){t.environmentCapabilities.Chart=!!e.libraries.find(function(e){return e.name==="sap.viz"});t.environmentCapabilities.MicroChart=!!e.libraries.find(function(e){return e.name==="sap.suite.ui.microchart"});t.environmentCapabilities.UShell=!!(sap&&sap.ushell&&sap.ushell.Container);t.environmentCapabilities.IntentBasedNavigation=!!(sap&&sap.ushell&&sap.ushell.Container);t.environmentCapabilities=Object.assign(t.environmentCapabilities,i.settings);t.resolveFn(t)}).catch(this.rejectFn)};r.resolveLibrary=function t(i){return new Promise(function(t){try{e.loadLibrary("".concat(i.replace(/\./g,"/")),{async:true}).then(function(){t(true)}).catch(function(){t(false)})}catch(e){t(false)}})};r.setCapabilities=function e(t){this.environmentCapabilities=t};r.setCapability=function e(t,i){this.environmentCapabilities[t]=i};r.getCapabilities=function e(){return this.environmentCapabilities};r.getInterface=function e(){return this};return i}(t);a.EnvironmentCapabilitiesService=u;var p=function(e){s(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i.createInstance=function e(t){var i=new u(t);return i.initPromise};return t}(i);return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/NavigationServiceFactory", ["sap/fe/navigation/NavigationHandler","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(t,e,n){"use strict";var r={};function i(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;a(t,e)}function a(t,e){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,n){e.__proto__=n;return e};return a(t,e)}var o=function(e){i(n,e);function n(){return e.apply(this,arguments)||this}r.NavigationService=n;var a=n.prototype;a.init=function e(){var n=this.getContext(),r=n&&n.scopeObject;this.oNavHandler=new t(r);this.oNavHandler.setModel(r.getModel());this.initPromise=Promise.resolve(this)};a.exit=function t(){this.oNavHandler.destroy()};a.navigate=function t(e,n,r,i,a,o,s){this.oNavHandler.navigate(e,n,r,i,a,o,s)};a.parseNavigation=function t(){return this.oNavHandler.parseNavigation()};a._processBeforeSmartLinkPopoverOpens=function t(e,n,r){return this.oNavHandler.processBeforeSmartLinkPopoverOpens(e,n,r)};a.getAppStateKeyAndUrlParameters=function t(e){return this.oNavHandler._getAppStateKeyAndUrlParameters(e)};a.getTechnicalParameters=function t(){return this.oNavHandler.getTechnicalParameters()};a.setTechnicalParameters=function t(e){this.oNavHandler.setTechnicalParameters(e)};a.setModel=function t(e){this.oNavHandler.setModel(e)};a.storeInnerAppStateAsync=function t(e,n,r){return this.oNavHandler.storeInnerAppStateAsync(e,n,r)};a.storeInnerAppStateWithImmediateReturn=function t(e,n){return this.oNavHandler.storeInnerAppStateWithImmediateReturn(e,n)};a.replaceHash=function t(e){this.oNavHandler.replaceHash(e)};a.replaceInnerAppStateKey=function t(e,n){return this.oNavHandler._replaceInnerAppStateKey(e,n)};a.getUrlParametersFromSelectionVariant=function t(e){return this.oNavHandler._getURLParametersFromSelectionVariant(e)};a.saveAppStateWithImmediateReturn=function t(e){if(e){var n=e.toJSONString(),r=JSON.parse(n),i={selectionVariant:r},a=this.oNavHandler._saveAppStateWithImmediateReturn(i);return a!==null&&a!==void 0&&a.appStateKey?a.appStateKey:""}};a.mixAttributesAndSelectionVariant=function t(e,n,r){return this.oNavHandler.mixAttributesAndSelectionVariant(e,n,r)};a.constructContextUrl=function t(e,n){return this.oNavHandler.constructContextUrl(e,n)};a.getInterface=function t(){return this};return n}(e);r.NavigationService=o;function s(){return{}}function c(){return Promise.resolve({})}function u(){var t=jQuery.Deferred();t.resolve({},{},"initial");return t.promise()}function p(){return""}var l=function(){function t(){this.createEmptyAppState=s;this.storeInnerAppStateWithImmediateReturn=s;this.mixAttributesAndSelectionVariant=s;this.getAppState=c;this.getStartupAppState=c;this.parseNavigation=u;this.constructContextUrl=p;this.initPromise=Promise.resolve(this)}r.NavigationServicesMock=t;var e=t.prototype;e.getInterface=function t(){return this};e.replaceInnerAppStateKey=function t(e){return e?e:""};e.navigate=function t(){};return t}();r.NavigationServicesMock=l;var v=function(t){i(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.createInstance=function t(e){var n=sap.ushell&&sap.ushell.Container?new o(e):new l;return n.initPromise.then(function(t){return t})};return e}(n);return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/ResourceModelServiceFactory", ["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/model/resource/ResourceModel"],function(e,t,n){"use strict";var o={};function r(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return c(e,t)}var s=function(e){r(t,e);function t(){return e.apply(this,arguments)||this}o.ResourceModelService=t;var c=t.prototype;c.init=function e(){var t=this;var o=this.getContext();var r=o.settings;this.oFactory=o.factory;var c=r.bundles.concat(r.enhanceI18n||[]).map(function(e){return typeof e.isA==="function"&&e.isA("sap.ui.model.resource.ResourceModel")?e.getResourceBundle():{bundleName:e.replace(/\//g,".")}});this.oResourceModel=new n({bundleName:c[0].bundleName,enhanceWith:c.slice(1),async:true});if(o.scopeType==="component"){var s=o.scopeObject;s.setModel(this.oResourceModel,r.modelName)}this.initPromise=Promise.all([this.oResourceModel.getResourceBundle(),this.oResourceModel._pEnhanced||Promise.resolve()]).then(function(e){t.oResourceModel.__bundle=e[0];return t})};c.getResourceModel=function e(){return this.oResourceModel};c.getInterface=function e(){return this};c.exit=function e(){this.oFactory.removeGlobalInstance()};return t}(e);o.ResourceModelService=s;var i=function(e){r(t,e);function t(){var t;for(var n=arguments.length,o=new Array(n),r=0;r<n;r++){o[r]=arguments[r]}t=e.call.apply(e,[this].concat(o))||this;t._oInstances={};return t}var n=t.prototype;n.createInstance=function e(t){var n="".concat(t.scopeObject.getId(),"_").concat(t.settings.bundles.join(","))+(t.settings.enhanceI18n?",".concat(t.settings.enhanceI18n.join(",")):"");if(!this._oInstances[n]){this._oInstances[n]=new s(Object.assign({factory:this},t))}return this._oInstances[n].initPromise};n.removeGlobalInstance=function e(){this._oInstances={}};return t}(t);return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/RoutingServiceFactory", ["sap/base/Log","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/helpers/AppStartupHelper","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/EditState","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/suite/ui/commons/collaboration/CollaborationHelper","sap/ui/base/BindingParser","sap/ui/base/EventProvider","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/model/odata/v4/ODataUtils"],function(e,t,r,n,a,o,i,s,u,c,h,l,f,g,v){"use strict";var p,d,m,P,C,R,_;var M={};var y=o.event;var b=o.defineUI5Class;function x(e,t){try{var r=e()}catch(e){return t(e)}if(r&&r.then){return r.then(void 0,t)}return r}function L(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function T(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function S(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;w(e,t)}function w(e,t){w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return w(e,t)}function E(e,t,r,n,a){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o);if(a&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(a):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function I(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var A=(p=b("sap.fe.core.services.RoutingServiceEventing"),d=y(),m=y(),p(P=(C=function(e){S(t,e);function t(){var t;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++){n[a]=arguments[a]}t=e.call.apply(e,[this].concat(n))||this;L(t,"routeMatched",R,T(t));L(t,"afterRouteMatched",_,T(t));return t}return t}(l),R=E(C.prototype,"routeMatched",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),_=E(C.prototype,"afterRouteMatched",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),C))||P);var O=function(o){S(l,o);function l(){var e;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}e=o.call.apply(o,[this].concat(r))||this;e.navigationInfoQueue=[];return e}M.RoutingService=l;var f=l.prototype;f.init=function e(){var t=this.getContext();if(t.scopeType==="component"){this.oAppComponent=t.scopeObject;this.oModel=this.oAppComponent.getModel();this.oMetaModel=this.oModel.getMetaModel();this.oRouter=this.oAppComponent.getRouter();this.oRouterProxy=this.oAppComponent.getRouterProxy();this.eventProvider=new A;var r=this.oAppComponent.getManifestEntry("/sap.ui5/routing");var n=this.oAppComponent.getManifestEntry("/sap.ui5/rootView");this._parseRoutingConfiguration(r,n);var a=this.oAppComponent.getManifestEntry("/sap.app");this.outbounds=a&&a.crossNavigation&&a.crossNavigation.outbounds}this.initPromise=Promise.resolve(this)};f.beforeExit=function e(){this.oRouter.detachRouteMatched(this._fnOnRouteMatched,this);this.eventProvider.fireEvent("routeMatched",{})};f.exit=function e(){this.eventProvider.destroy()};f._parseRoutingConfiguration=function t(r,n){var a=this;var o=(n===null||n===void 0?void 0:n.viewName)==="sap.fe.core.rootView.Fcl"||(n===null||n===void 0?void 0:n.viewName)==="sap.fe.templates.RootContainer.view.Fcl";this._mTargets={};Object.keys(r.targets).forEach(function(e){a._mTargets[e]=Object.assign({targetName:e},r.targets[e]);if(a._mTargets[e].contextPattern!==undefined){a._mTargets[e].viewLevel=a._getViewLevelFromPattern(a._mTargets[e].contextPattern,0)}});this._mRoutes={};for(var i in r.routes){var s=r.routes[i],u=Array.isArray(s.target)?s.target:[s.target],c=Array.isArray(r.routes)?s.name:i,h=s.pattern;if(h.length<8||h.indexOf(":?query:")!==h.length-8){e.warning("Pattern for route ".concat(c," doesn't end with ':?query:' : ").concat(h))}var l=this._getViewLevelFromPattern(h,0);this._mRoutes[c]={name:c,pattern:h,targets:u,routeLevel:l};for(var f=0;f<u.length;f++){var g=this._mTargets[u[f]].parent;if(g){u.push(g)}}if(!o){if(this._mTargets[u[0]].viewLevel===undefined||this._mTargets[u[0]].viewLevel<l){this._mTargets[u[0]].viewLevel=l}this._mTargets[u[0]].FCLLevel=-1}else if(u.length===1&&this._mTargets[u[0]].controlAggregation!=="beginColumnPages"){this._mTargets[u[0]].FCLLevel=3}else{u.forEach(function(e){switch(a._mTargets[e].controlAggregation){case"beginColumnPages":a._mTargets[e].FCLLevel=0;break;case"midColumnPages":a._mTargets[e].FCLLevel=1;break;default:a._mTargets[e].FCLLevel=2}})}}Object.keys(this._mTargets).forEach(function(e){while(a._mTargets[e].parent){var t=a._mTargets[e].parent;a._mTargets[t].viewLevel=a._mTargets[t].viewLevel||a._mTargets[e].viewLevel;a._mTargets[t].contextPattern=a._mTargets[t].contextPattern||a._mTargets[e].contextPattern;a._mTargets[t].FCLLevel=a._mTargets[t].FCLLevel||a._mTargets[e].FCLLevel;a._mTargets[t].controlAggregation=a._mTargets[t].controlAggregation||a._mTargets[e].controlAggregation;e=t}});var v=[];var p=[];var d;for(var m in this._mRoutes){var P=this._mRoutes[m].routeLevel;if(P===0){v.push(m)}else if(P===1){p.push(m)}}if(v.length===1){d=v[0]}else if(p.length===1){d=p[0]}if(d){var C=this._mRoutes[d].targets.slice(-1)[0];this.sContextPath="";if(this._mTargets[C].options&&this._mTargets[C].options.settings){var R=this._mTargets[C].options.settings;this.sContextPath=R.contextPath||"/".concat(R.entitySet)}if(!this.sContextPath){e.warning("Cannot determine default contextPath: contextPath or entitySet missing in default target: ".concat(C))}}else{e.warning("Cannot determine default contextPath: no default route found.")}Object.keys(this._mTargets).map(function(e){return a._mTargets[e]}).sort(function(e,t){return e.viewLevel<t.viewLevel?-1:1}).forEach(function(e){if(e.options){var t=e.options.settings;var r=t.contextPath||(t.entitySet?"/".concat(t.entitySet):"");if(!t.fullContextPath&&r){t.fullContextPath="".concat(r,"/")}Object.keys(t.navigation||{}).forEach(function(r){var n=a._mRoutes[t.navigation[r].detail.route];if(n&&n.targets){n.targets.forEach(function(n){if(a._mTargets[n].options&&a._mTargets[n].options.settings&&!a._mTargets[n].options.settings.fullContextPath){if(e.viewLevel===0){a._mTargets[n].options.settings.fullContextPath="".concat((r.startsWith("/")?"":"/")+r,"/")}else{a._mTargets[n].options.settings.fullContextPath="".concat(t.fullContextPath+r,"/")}}})}})}})};f._getViewLevelFromPattern=function e(t,r){t=t.replace(":?query:","");var n=new RegExp("/[^/]*$");if(t&&t[0]!=="/"&&t[0]!=="?"){t="/".concat(t)}if(t.length){t=t.replace(n,"");if(this.oRouter.match(t)||t===""){return this._getViewLevelFromPattern(t,++r)}else{return this._getViewLevelFromPattern(t,r)}}else{return r}};f._getRouteInformation=function e(t){return this._mRoutes[t]};f._getTargetInformation=function e(t){return this._mTargets[t]};f._getComponentId=function e(t,r){if(r.indexOf("".concat(t,"---"))===0){return r.substr(t.length+3)}return r};f.getTargetInformationFor=function e(t){var r=this;var n=this._getComponentId(t._sOwnerId,t.getId());var a=null;Object.keys(this._mTargets).forEach(function(e){if(r._mTargets[e].id===n||r._mTargets[e].viewId===n){a=e}});return this._getTargetInformation(a)};f.getLastSemanticMapping=function e(){return this.oLastSemanticMapping};f.setLastSemanticMapping=function e(t){this.oLastSemanticMapping=t};f.navigateTo=function e(t,r,n,a){var o=this;var i,c;if(t.getModel()&&t.getModel().getMetaModel&&t.getModel().getMetaModel()){c=s.isStickySessionSupported(t.getModel().getMetaModel())}if(!n){i=Promise.resolve(u.getSemanticPath(t))}else{i=this.prepareParameters(n,r,t).then(function(e){return o.oRouter.getURL(r,e)})}return i.then(function(e){o.oRouterProxy.navToHash(e,a,false,false,!c)})};f.prepareParameters=function t(r,n,a){var o=this;var i;try{var s=a.getPath();var u=a.getModel().getMetaModel();var c=s.split("/");var l=Object.keys(r).map(function(e){var t=r[e];var n=h.complexParser(t);var i=n.parts||[n];var s=i.map(function(e){var t=e.path.split("../");var r=c.slice(0,c.length-t.length+1);var n=r.join("/");var o=n===a.getPath()?a:a.getModel().bindContext(n).getBoundContext();var i=u.getMetaContext(n+"/"+t[t.length-1]);return o.requestProperty(t[t.length-1]).then(function(e){var t=i.getObject();var r=t.$Type;return v.formatLiteral(e,r)})});return Promise.all(s).then(function(t){var r=n.formatter?n.formatter.apply(o,t):t.join("");return{key:e,value:r}})});i=Promise.all(l).then(function(e){var t={};e.forEach(function(e){t[e.key]=e.value});return t})}catch(t){e.error("Could not parse the parameters for the navigation to route ".concat(n));i=Promise.resolve(undefined)}return i};f._fireRouteMatchEvents=function e(t){this.eventProvider.fireEvent("routeMatched",t);this.eventProvider.fireEvent("afterRouteMatched",t);i.cleanProcessedEditState()};f.navigateToContext=function e(t,n,a,o){var i=this;var u="",c,h=false;if(t.getModel()&&t.getModel().getMetaModel){h=s.isStickySessionSupported(t.getModel().getMetaModel())}if(n&&n.targetPath&&a&&a.navigation){var l=a.navigation[n.targetPath].detail;u=l.route;if(l.parameters){c=this.prepareParameters(l.parameters,u,t)}}var f=this._getPathFromContext(t,n);if(f.length===0&&this.bExitOnNavigateBackToRoot){this.oRouterProxy.exitFromApp();return Promise.resolve(true)}if(n!==null&&n!==void 0&&n.asyncContext||n!==null&&n!==void 0&&n.bDeferredContext){f+="(...)"}var g=this._calculateLayout(f,n);if(g){f+="?layout=".concat(g)}var v={oAsyncContext:n===null||n===void 0?void 0:n.asyncContext,bDeferredContext:n===null||n===void 0?void 0:n.bDeferredContext,bTargetEditable:n===null||n===void 0?void 0:n.editable,bPersistOPScroll:n===null||n===void 0?void 0:n.bPersistOPScroll,useContext:(n===null||n===void 0?void 0:n.updateFCLLevel)===-1||n!==null&&n!==void 0&&n.bRecreateContext?undefined:t,bDraftNavigation:n===null||n===void 0?void 0:n.bDraftNavigation,bShowPlaceholder:(n===null||n===void 0?void 0:n.showPlaceholder)!==undefined?n===null||n===void 0?void 0:n.showPlaceholder:true};if(n!==null&&n!==void 0&&n.checkNoHashChange){var p=this.oRouterProxy.getHash().replace(/[&?]{1}sap-iapp-state=[A-Z0-9]+/,"");if(f===p){var d=this.oRouter.getRouteInfoByHash(this.oRouterProxy.getHash());if(d){d.navigationInfo=v;d.routeInformation=this._getRouteInformation(this.sCurrentRouteName);d.routePattern=this.sCurrentRoutePattern;d.views=this.aCurrentViews}this.oRouterProxy.setFocusForced(!!n.bForceFocus);this._fireRouteMatchEvents(d);return Promise.resolve(true)}}if(n!==null&&n!==void 0&&n.transient&&n.editable==true&&f.indexOf("(...)")===-1){if(f.indexOf("?")>-1){f+="&i-action=create"}else{f+="?i-action=create"}}if(o&&o.name==="sap.fe.templates.ListReport"){var m=this.oRouter.getRouteInfoByHash(f);if(m){var P=this._getRouteInformation(m.name);if(P&&P.targets&&P.targets.length>0){var C=P.targets[P.targets.length-1];var R=this._getTargetInformation(C);if(R&&R.name==="sap.fe.templates.ObjectPage"){r.removeUnboundTransitionMessages()}}}}this.navigationInfoQueue.push(v);if(u&&c){return c.then(function(e){e.bIsStickyMode=h;i.oRouter.navTo(u,e);return Promise.resolve(true)})}return this.oRouterProxy.navToHash(f,false,n===null||n===void 0?void 0:n.noPreservationCache,n===null||n===void 0?void 0:n.bForceFocus,!h).then(function(e){if(!e){i.navigationInfoQueue.pop()}return e})};f.navigateToRoute=function e(t,r){var n=this.oRouter.getURL(t,r);return this.oRouterProxy.navToHash(n,undefined,undefined,undefined,!r.bIsStickyMode)};f.isCurrentStateImpactedBy=function e(t){var r=t.getPath();if(this.oRouterProxy.isCurrentStateImpactedBy(r)){return true}else if(/^[^\(\)]+\([^\(\)]+\)$/.test(r)){var n;if(this.oLastSemanticMapping&&this.oLastSemanticMapping.technicalPath===r){n=this.oLastSemanticMapping.semanticPath}else{n=u.getSemanticPath(t)}return n!=r?this.oRouterProxy.isCurrentStateImpactedBy(n):false}else{return false}};f._findPathToNavigate=function e(t){var r=new RegExp("/[^/]*$");t=t.replace(r,"");if(this.oRouter.match(t)||t===""){return t}else{return this._findPathToNavigate(t)}};f._checkIfContextSupportsSemanticPath=function e(t){var r=t.getPath();if(!/^\/[^\(]+\([^\)]+\)$/.test(r)){return false}var n=t.getModel().getMetaModel();var a=n.getMetaContext(t.getPath()).getObject("@sapui.name");if(!u.getSemanticKeys(n,a)){return false}return s.isDraftSupported(n,r)};f._getPathFromContext=function e(t,r){var n;if(t.isA("sap.ui.model.odata.v4.ODataListBinding")&&t.isRelative()){n=t.getHeaderContext().getPath()}else{n=t.getPath()}if(r.updateFCLLevel===-1){n=this._findPathToNavigate(n);if(this.oLastSemanticMapping&&this.oLastSemanticMapping.technicalPath===n){n=this.oLastSemanticMapping.semanticPath}}else if(this._checkIfContextSupportsSemanticPath(t)){var a=u.getSemanticPath(t,true);if(!a){this.setLastSemanticMapping(undefined)}else if(a!==n){this.setLastSemanticMapping({technicalPath:n,semanticPath:a});n=a}}if(n[0]==="/"){n=n.substring(1)}return n};f._calculateLayout=function e(t,r){var n=r.FCLLevel;if(r.updateFCLLevel){n+=r.updateFCLLevel;if(n<0){n=0}}return this.oAppComponent.getRootViewController().calculateLayout(n,t,r.sLayout,r.keepCurrentLayout)};f._beforeRouteMatched=function e(){var r=(new n).isPlaceholderEnabled();if(!r){var a=this.oAppComponent.getRootControl();t.lock(a)}};f._onRouteMatched=function r(a){var o=this;var i=this.oAppComponent.getAppStateHandler(),s=this.oAppComponent.getRootControl();var u=(new n).isPlaceholderEnabled();if(t.isLocked(s)&&!u){t.unlock(s)}var c=a.getParameters();if(this.navigationInfoQueue.length){c.navigationInfo=this.navigationInfoQueue[0];this.navigationInfoQueue=this.navigationInfoQueue.slice(1)}else{c.navigationInfo={}}if(i.checkIfRouteChangedByIApp()){c.navigationInfo.bReasonIsIappState=true;i.resetRouteChangedByIApp()}this.sCurrentRouteName=a.getParameter("name");this.sCurrentRoutePattern=c.config.pattern;this.aCurrentViews=a.getParameter("views");c.routeInformation=this._getRouteInformation(this.sCurrentRouteName);c.routePattern=this.sCurrentRoutePattern;this._fireRouteMatchEvents(c);if(!history.state||history.state.feLevel===undefined){this.oRouterProxy.restoreHistory().then(function(){o.oRouterProxy.resolveRouteMatch()}).catch(function(t){e.error("Error while restoring history",t)})}else{this.oRouterProxy.resolveRouteMatch()}};f.attachRouteMatched=function e(t,r,n){this.eventProvider.attachEvent("routeMatched",t,r,n)};f.detachRouteMatched=function e(t,r){this.eventProvider.detachEvent("routeMatched",t,r)};f.attachAfterRouteMatched=function e(t,r,n){this.eventProvider.attachEvent("afterRouteMatched",t,r,n)};f.detachAfterRouteMatched=function e(t,r){this.eventProvider.detachEvent("afterRouteMatched",t,r)};f.getRouteFromHash=function e(t,r){var n=t.getHashChanger().hash;var a=t.getRouteInfoByHash(n);return r.getMetadata().getManifestEntry("/sap.ui5/routing/routes").filter(function(e){return e.name===a.name})[0]};f.getTargetsFromRoute=function e(t){var r=this;var n=t.target;if(typeof n==="string"){return[this._mTargets[n]]}else{var a=[];n.forEach(function(e){a.push(r._mTargets[e])});return a}};f.initializeRouting=function t(){try{var r=this;return Promise.resolve(c.processAndExpandHash()).then(function(){r._fnOnRouteMatched=r._onRouteMatched.bind(r);r.oRouter.attachRouteMatched(r._fnOnRouteMatched,r);var t=(new n).isPlaceholderEnabled();if(!t){r.oRouter.attachBeforeRouteMatched(r._beforeRouteMatched.bind(r))}r.navigationInfoQueue=[];i.resetEditState();r.bExitOnNavigateBackToRoot=!r.oRouter.match("");var a=r.oRouter.getHashChanger().getHash().indexOf("sap-iapp-state")!==-1;var o=x(function(){return Promise.resolve(r.oAppComponent.getStartupParameters()).then(function(e){var t=e!==undefined&&Object.keys(e).length!==0;var n=r.oRouter.getHashChanger().getHash();var o=function(){if(!a&&t&&!n){var o=function(){if(e.preferredMode&&e.preferredMode[0].toUpperCase().indexOf("CREATE")!==-1){return Promise.resolve(r._manageCreateStartup(e)).then(function(){})}else{return Promise.resolve(r._manageDeepLinkStartup(e)).then(function(){})}}();if(o&&o.then)return o.then(function(){})}}();if(o&&o.then)return o.then(function(){})})},function(t){e.error("Error during routing initialization",t)});if(o&&o.then)return o.then(function(){})})}catch(e){return Promise.reject(e)}};f.getDefaultCreateHash=function e(t){return a.getDefaultCreateHash(t,this.getContextPath(),this.oRouter)};f._manageCreateStartup=function e(t){var r=this;return a.getCreateStartupHash(t,this.getContextPath(),this.oRouter,this.oMetaModel).then(function(e){if(e){r.oRouter.getHashChanger().replaceHash(e);if(t!==null&&t!==void 0&&t.preferredMode&&t.preferredMode[0].toUpperCase().indexOf("AUTOCREATE")!==-1){r.oAppComponent.setStartupModeAutoCreate()}else{r.oAppComponent.setStartupModeCreate()}r.bExitOnNavigateBackToRoot=true}})};f._manageDeepLinkStartup=function e(t){var r=this;return a.getDeepLinkStartupHash(this.oAppComponent.getManifest()["sap.ui5"].routing,t,this.oModel).then(function(e){var t;if(e.context){var n=e.context.getPath();var a=r._checkIfContextSupportsSemanticPath(e.context)?u.getSemanticPath(e.context):n;if(a!==n){r.setLastSemanticMapping({technicalPath:n,semanticPath:a})}t=a.substring(1)}else if(e.hash){t=e.hash}if(t){r.oRouter.getHashChanger().replaceHash(t);r.oAppComponent.setStartupModeDeeplink()}})};f.getOutbounds=function e(){return this.outbounds};f.getContextPath=function e(){return this.sContextPath};f.getInterface=function e(){return this};return l}(f);M.RoutingService=O;var k=function(e){S(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.createInstance=function e(t){var r=new O(t);return r.initPromise};return t}(g);return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/ShellServicesFactory", ["sap/base/Log","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,n){"use strict";function r(e,t){return c(e)||a(e,t)||s(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}function o(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++){r[n]=e[n]}return r}function a(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,o,a=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0){}}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function c(e){if(Array.isArray(e))return e}function l(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}function u(e,t){u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return u(e,t)}var h=function(e){l(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.init=function e(){this.initPromise=Promise.resolve(this);this.instanceType="mock"};n.getLinks=function e(){return Promise.resolve([])};n.getLinksWithCache=function e(){return Promise.resolve([])};n.toExternal=function e(){};n.getStartupAppState=function e(){return Promise.resolve(null)};n.backToPreviousApp=function e(){};n.hrefForExternal=function e(){return""};n.hrefForExternalAsync=function e(){return Promise.resolve({})};n.getAppState=function e(){return Promise.resolve({})};n.createEmptyAppState=function e(){return Promise.resolve({})};n.createEmptyAppStateAsync=function e(){return Promise.resolve({})};n.isNavigationSupported=function e(){return Promise.resolve({})};n.isInitialNavigation=function e(){return false};n.isInitialNavigationAsync=function e(){return Promise.resolve({})};n.expandCompactHash=function e(){return Promise.resolve({})};n.parseShellHash=function e(){return{}};n.splitHash=function e(){return Promise.resolve({})};n.constructShellHash=function e(){return""};n.setDirtyFlag=function e(){};n.registerDirtyStateProvider=function e(){};n.deregisterDirtyStateProvider=function e(){};n.createRenderer=function e(){return{}};n.getUser=function e(){return{}};n.hasUShell=function e(){return false};n.registerNavigationFilter=function e(){};n.unregisterNavigationFilter=function e(){};n.setBackNavigation=function e(){};n.setHierarchy=function e(){};n.setTitle=function e(){};n.getContentDensity=function e(){if(document.body.classList.contains("sapUiSizeCozy")){return"cozy"}else if(document.body.classList.contains("sapUiSizeCompact")){return"compact"}else{return""}};n.getPrimaryIntent=function e(){return Promise.resolve()};n.waitForPluginsLoad=function e(){return Promise.resolve(true)};return t}(t);function f(e){return new Promise(function(t,n){e.done(t).fail(n)})}var v=function(t){l(n,t);function n(){return t.apply(this,arguments)||this}var i=n.prototype;i.init=function e(){var t=this;var n=this.getContext();var i=n.scopeObject;this.oShellContainer=n.settings.shellContainer;this.instanceType="real";this.linksCache={};this.fnFindSemanticObjectsInCache=function(e){var t=e;var n=[];var r=[];for(var i=0;i<t.length;i++){if(!!t[i][0]&&!!t[i][0].semanticObject){if(this.linksCache[t[i][0].semanticObject]){n.push(this.linksCache[t[i][0].semanticObject].links);Object.defineProperty(e[i][0],"links",{value:this.linksCache[t[i][0].semanticObject].links})}else{r.push(t[i])}}}return{oldArgs:e,newArgs:r,cachedLinks:n}};this.initPromise=new Promise(function(e,n){t.resolveFn=e;t.rejectFn=n});var s=this.oShellContainer.getServiceAsync("CrossApplicationNavigation");var o=this.oShellContainer.getServiceAsync("URLParsing");var a=this.oShellContainer.getServiceAsync("ShellNavigation");var c=this.oShellContainer.getServiceAsync("PluginManager");var l=i.getService("ShellUIService");Promise.all([s,o,a,l,c]).then(function(e){var n=r(e,5),i=n[0],s=n[1],o=n[2],a=n[3],c=n[4];t.crossAppNavService=i;t.urlParsingService=s;t.shellNavigation=o;t.shellUIService=a;t.shellPluginManager=c;t.resolveFn()}).catch(this.rejectFn)};i.getLinks=function e(t){var n=this;return new Promise(function(e,r){n.crossAppNavService.getLinks(t).fail(function(e){r(new Error("".concat(e," sap.fe.core.services.ShellServicesFactory.getLinks")))}).then(e)})};i.getLinksWithCache=function e(t){var n=this;return new Promise(function(e,r){if(t.length===0){e([])}else{var i=n.fnFindSemanticObjectsInCache(t);if(i.newArgs.length===0){e(i.cachedLinks)}else{n.crossAppNavService.getLinks(i.newArgs).fail(function(e){r(new Error("".concat(e," sap.fe.core.services.ShellServicesFactory.getLinksWithCache")))}).then(function(t){if(t.length!==0){var r={};for(var s=0;s<t.length;s++){if(t[s].length>0&&i.newArgs[s][0].links===undefined){r[i.newArgs[s][0].semanticObject]={links:t[s]};n.linksCache=Object.assign(n.linksCache,r)}}}if(i.cachedLinks.length===0){e(t)}else{var o=[];var a=0;for(var c=0;c<i.oldArgs.length;c++){if(a<t.length){if(t[a].length>0&&i.oldArgs[c][0].semanticObject===i.newArgs[a][0].semanticObject){o.push(t[a]);a++}else{o.push(i.oldArgs[c][0].links)}}else{o.push(i.oldArgs[c][0].links)}}e(o)}})}}})};i.getShellContainer=function e(){return this.oShellContainer};i.toExternal=function e(t,n){this.crossAppNavService.toExternal(t,n)};i.getStartupAppState=function e(t){var n=this;return new Promise(function(e,r){n.crossAppNavService.getStartupAppState(t).fail(function(e){r(new Error("".concat(e," sap.fe.core.services.ShellServicesFactory.getStartupAppState")))}).then(e)})};i.backToPreviousApp=function e(){return this.crossAppNavService.backToPreviousApp()};i.hrefForExternal=function e(t,n,r){return this.crossAppNavService.hrefForExternal(t,n,!!r)};i.hrefForExternalAsync=function e(t,n){return this.crossAppNavService.hrefForExternalAsync(t,n)};i.getAppState=function e(t,n){return f(this.crossAppNavService.getAppState(t,n))};i.createEmptyAppState=function e(t){return this.crossAppNavService.createEmptyAppState(t)};i.createEmptyAppStateAsync=function e(t){return this.crossAppNavService.createEmptyAppStateAsync(t)};i.isNavigationSupported=function e(t,n){return f(this.crossAppNavService.isNavigationSupported(t,n))};i.isInitialNavigation=function e(){return this.crossAppNavService.isInitialNavigation()};i.isInitialNavigationAsync=function e(){return this.crossAppNavService.isInitialNavigationAsync()};i.expandCompactHash=function e(t){return this.crossAppNavService.expandCompactHash(t)};i.parseShellHash=function e(t){return this.urlParsingService.parseShellHash(t)};i.splitHash=function e(t){return this.urlParsingService.splitHash(t)};i.constructShellHash=function e(t){return this.urlParsingService.constructShellHash(t)};i.setDirtyFlag=function e(t){this.oShellContainer.setDirtyFlag(t)};i.registerDirtyStateProvider=function e(t){this.oShellContainer.registerDirtyStateProvider(t)};i.deregisterDirtyStateProvider=function e(t){this.oShellContainer.deregisterDirtyStateProvider(t)};i.createRenderer=function e(){return this.oShellContainer.createRenderer()};i.getUser=function e(){return this.oShellContainer.getUser()};i.hasUShell=function e(){return true};i.registerNavigationFilter=function e(t){this.shellNavigation.registerNavigationFilter(t)};i.unregisterNavigationFilter=function e(t){this.shellNavigation.unregisterNavigationFilter(t)};i.setBackNavigation=function e(t){this.shellUIService.setBackNavigation(t)};i.setHierarchy=function e(t){this.shellUIService.setHierarchy(t)};i.setTitle=function e(t){this.shellUIService.setTitle(t)};i.getContentDensity=function e(){return this.oShellContainer.getUser().getContentDensity()};i.getPrimaryIntent=function e(t,n){var r=this;return new Promise(function(e,i){r.crossAppNavService.getPrimaryIntent(t,n).fail(function(e){i(new Error("".concat(e," sap.fe.core.services.ShellServicesFactory.getPrimaryIntent")))}).then(e)})};i.waitForPluginsLoad=function t(){var n=this;return new Promise(function(t){var r;if(!((r=n.shellPluginManager)!==null&&r!==void 0&&r.getPluginLoadingPromise)){t(false)}else{n.shellPluginManager.getPluginLoadingPromise("RendererExtensions").fail(function(n){e.error(n,"sap.fe.core.services.ShellServicesFactory.waitForPluginsLoad");t(false)}).then(function(){return t(true)})}})};return n}(t);var p=function(e){l(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.createInstance=function e(t){t.settings.shellContainer=sap.ushell&&sap.ushell.Container;var n=t.settings.shellContainer?new v(t):new h(t);return n.initPromise.then(function(){t.scopeObject.getShellServices=function(){return n};return n})};return t}(n);return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/SideEffectsServiceFactory", ["sap/base/Log","sap/fe/core/converters/MetaModelConverter","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(t,e,r,i){"use strict";var n={};var o=e.convertTypes;function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach(function(e){f(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function f(t,e,r){e=s(e);if(e in t){Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true})}else{t[e]=r}return t}function s(t){var e=u(t,"string");return typeof e==="symbol"?e:String(e)}function u(t,e){if(typeof t!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==undefined){var i=r.call(t,e||"default");if(typeof i!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;v(t,e)}function v(t,e){v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,r){e.__proto__=r;return e};return v(t,e)}var l=function(e){p(r,e);function r(){return e.apply(this,arguments)||this}n.SideEffectsService=r;var i=r.prototype;i.init=function t(){this._oSideEffectsType={oData:{entities:{},actions:{}},control:{}};this._bInitialized=false;this.initPromise=Promise.resolve(this)};i.addControlSideEffects=function t(e,r){if(r.sourceControlId){var i=c(c({},r),{},{fullyQualifiedName:"".concat(e,"/SideEffectsForControl/").concat(r.sourceControlId)});var n=this._oSideEffectsType.control[e]||{};n[i.sourceControlId]=i;this._oSideEffectsType.control[e]=n}};i.executeAction=function t(e,r,i){var n=r.getModel().bindContext("".concat(e,"(...)"),r);return n.execute(i||r.getBinding().getUpdateGroupId())};i.getConvertedMetaModel=function t(){var e=this.getContext();var r=e.scopeObject;var i=r.getModel().getMetaModel();return o(i,this._oCapabilities)};i.getEntityTypeFromContext=function t(e){var r=e.getModel().getMetaModel(),i=r.getMetaPath(e.getPath()),n=r.getObject(i)["$Type"];return n};i.getODataEntitySideEffects=function t(e){return this._oSideEffectsType.oData.entities[e]||{}};i.getGlobalODataEntitySideEffects=function t(e){var r=this.getODataEntitySideEffects(e);var i=[];for(var n in r){var o=r[n];if(!o.SourceEntities&&!o.SourceProperties){i.push(o)}}return i};i.getODataActionSideEffects=function t(e,r){if(r){var i=this.getEntityTypeFromContext(r);if(i){var n;return(n=this._oSideEffectsType.oData.actions[i])===null||n===void 0?void 0:n[e]}}return undefined};i.initializeSideEffects=function t(e){var r=this;this._oCapabilities=e;if(!this._bInitialized){var i=this.getConvertedMetaModel();i.entityTypes.forEach(function(t){r._oSideEffectsType.oData.entities[t.fullyQualifiedName]=r._retrieveODataEntitySideEffects(t);r._oSideEffectsType.oData.actions[t.fullyQualifiedName]=r._retrieveODataActionsSideEffects(t)});this._bInitialized=true}};i.removeControlSideEffects=function t(e){var r=this;Object.keys(this._oSideEffectsType.control).forEach(function(t){if(r._oSideEffectsType.control[t][e]){delete r._oSideEffectsType.control[t][e]}})};i.requestSideEffects=function t(e,r,i){this._logRequest(e,r);var n;try{n=r.requestSideEffects(e,i)}catch(t){n=Promise.reject(t)}return n};i.requestSideEffectsForODataAction=function t(e,r){var i,n=this,o;var a;if((i=e.triggerActions)!==null&&i!==void 0&&i.length){a=e.triggerActions.map(function(t){return n.executeAction(t,r)})}else{a=[]}if((o=e.pathExpressions)!==null&&o!==void 0&&o.length){a.push(this.requestSideEffects(e.pathExpressions,r))}return a.length?Promise.all(a):Promise.resolve()};i.requestSideEffectsForNavigationProperty=function e(r,i){var n=this;var o=this.getEntityTypeFromContext(i);if(o){var a="".concat(r,"/");var c=this.getODataEntitySideEffects(o);var f=[];Object.keys(c).filter(function(t){var e=c[t];return(e.SourceProperties||[]).some(function(t){var e=t.value;return e.startsWith(a)&&e.replace(a,"").indexOf("/")===-1})||(e.SourceEntities||[]).some(function(t){return t.value===r})}).forEach(function(t){var e=c[t];if(e.TriggerAction){n.executeAction(e.TriggerAction,i)}(e.TargetEntities||[]).concat(e.TargetProperties||[]).forEach(function(t){return f.push(t)})});f=this._removeDuplicateTargets(f);if(f.length>0){return this.requestSideEffects(f,i).catch(function(e){return t.error("SideEffects - Error while processing SideEffects for Navigation Property ".concat(r),e)})}}return Promise.resolve()};i.getControlEntitySideEffects=function t(e){return this._oSideEffectsType.control[e]||{}};i._addRequiredTextProperties=function e(r,i){var n=r.TargetProperties||[],o=(r.TargetEntities||[]).map(function(t){return t.$NavigationPropertyPath});var a=[];n.forEach(function(e){var r=e.endsWith("*"),n=e.substring(0,e.lastIndexOf("/")),c=n?"".concat(n,"/"):"",f=i.resolvePath(n)||i;if(f){var s;var u=f.entityProperties||((s=f.targetType)===null||s===void 0?void 0:s.properties)||f.targetType.entityProperties;if(u){if(r){o.push(n);a=a.concat(u.map(function(t){return{navigationPath:c,property:t}}))}else{a.push({property:u.find(function(t){return t.name===e.split("/").pop()}),navigationPath:c})}}else{t.info("SideEffects - The entity type associated to property path ".concat(e," cannot be resolved"))}}else{t.info("SideEffects - The property path ".concat(e," cannot be resolved"))}});a.forEach(function(t){if(t.property){var e,a,c;var f=(e=t.property.annotations)===null||e===void 0?void 0:(a=e.Common)===null||a===void 0?void 0:(c=a.Text)===null||c===void 0?void 0:c.path,s=t.navigationPath+f,u=s.substring(0,s.lastIndexOf("/"));if(f&&o.indexOf(u)===-1&&n.indexOf(s)===-1){var p;if(f.lastIndexOf("/")>-1&&((p=i.resolvePath(u))===null||p===void 0?void 0:p._type)==="NavigationProperty"){r.TargetEntities.push({$NavigationPropertyPath:u});o.push(u)}else{r.TargetProperties.push(s)}}}});return r};i._convertSideEffects=function t(e,r,i){var n=this._removeBindingParameter(this._convertTargetsFormat(e),i);return this._addRequiredTextProperties(n,r)};i._convertTargetsFormat=function e(r){var i=(r.TargetProperties||[]).reduce(function(e,i){var n=typeof i==="string"&&i||i.type==="PropertyPath"&&i.value;if(n){e.push(n)}else{t.error("SideEffects - Error while processing TargetProperties for SideEffects".concat(r.fullyQualifiedName))}return e},[]),n=(r.TargetEntities||[]).map(function(t){return{$NavigationPropertyPath:t.$NavigationPropertyPath||t.value||""}});return c(c({},r),{TargetProperties:i,TargetEntities:n})};i._getSideEffectsFromSource=function t(e){var r=this;var i=[];var n=["EntityType","Action"];if(e._type&&n.indexOf(e._type)>-1){var o=e._type==="EntityType"?e:e.sourceEntityType;if(o){var a;var c=((a=e.annotations)===null||a===void 0?void 0:a.Common)||{};var f=(e.parameters||[]).find(function(t){return t.type===o.fullyQualifiedName});var s=f?f.fullyQualifiedName.split("/")[1]:"";Object.keys(c).filter(function(t){return c[t].$Type==="com.sap.vocabularies.Common.v1.SideEffectsType"}).forEach(function(t){i.push(r._convertSideEffects(c[t],o,s))})}}return i};i._logRequest=function e(r,i){var n=r.reduce(function(t,e){return"".concat(t,"\n\t\t").concat(e.$NavigationPropertyPath||e||"")},"");t.debug("SideEffects - Request:\n\tContext path : ".concat(i.getPath(),"\n\tProperty paths :").concat(n))};i._removeBindingParameter=function t(e,r){if(r){var i=["TargetProperties","TargetEntities"];i.forEach(function(t){var i=e[t];if(i){i=i.map(function(t){var e=t.$NavigationPropertyPath!==undefined;var i=(e?t.$NavigationPropertyPath:t).replace(new RegExp("^".concat(r,"/?")),"");return e?{$NavigationPropertyPath:i}:i})}e[t]=i})}return e};i._removeDuplicateTargets=function t(e){return e.filter(function(t,e,r){return r.findIndex(function(e){return e===t||t.$NavigationPropertyPath&&e.$NavigationPropertyPath===t.$NavigationPropertyPath})===e})};i._retrieveODataActionsSideEffects=function t(e){var r=this;var i={};var n=e.actions;if(n){Object.keys(n).forEach(function(t){var n=e.actions[t];var o=[];var a=[];var c=[];r._getSideEffectsFromSource(n).forEach(function(t){var e=t.TriggerAction;c=c.concat(t.TargetEntities||[]).concat(t.TargetProperties||[]);if(e&&o.indexOf(e)===-1){o.push(e)}});a=r._removeDuplicateTargets(c);i[t]={pathExpressions:a,triggerActions:o}})}return i};i._retrieveODataEntitySideEffects=function t(e){var r={};this._getSideEffectsFromSource(e).forEach(function(t){r[t.fullyQualifiedName]=t});return r};i.getInterface=function t(){return this};return r}(r);n.SideEffectsService=l;var d=function(t){p(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;r.createInstance=function t(e){var r=new l(e);return r.initPromise};return e}(i);return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/TemplatedViewServiceFactory", ["sap/base/Log","sap/base/util/UriParameters","sap/fe/core/helpers/LoaderUtils","sap/fe/core/TemplateModel","sap/ui/core/Component","sap/ui/core/mvc/View","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/Device","sap/ui/model/base/ManagedObjectModel","sap/ui/model/json/JSONModel","sap/ui/VersionInfo","../helpers/DynamicAnnotationPathHelper"],function(e,t,r,n,o,a,i,s,c,u,l,f,v,p){"use strict";var d=p.resolveDynamicExpression;var g=r.requireDependencies;function h(e,t){try{var r=e()}catch(e){return t(e)}if(r&&r.then){return r.then(void 0,t)}return r}function m(e,t){return M(e)||C(e,t)||b(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(!e)return;if(typeof e==="string")return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}function w(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function C(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0){}}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}function M(e){if(Array.isArray(e))return e}function O(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;V(e,t)}function V(e,t){V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return V(e,t)}var S=function(r){O(i,r);function i(){return r.apply(this,arguments)||this}var s=i.prototype;s.init=function e(){var t=this;var r=this;var n=[];var a=this.getContext();var i=a.scopeObject;var s=o.getOwnerComponentFor(i);var u=s.getMetaModel();var l="".concat(s.getMetadata().getComponentName(),"::").concat(s.getLocalId(i.getId()));var f=i.getEnhanceI18n()||[];var p;this.oFactory=a.factory;if(f){p=s.getMetadata().getComponentName();for(var d=0;d<f.length;d++){var h=s.getModel(f[d]);if(h&&h.isA("sap.ui.model.resource.ResourceModel")){f[d]=h}else{f[d]="".concat(p,".").concat(f[d].replace(".properties",""))}}}var y="".concat(s.getMetadata().getName(),"_").concat(l,"_").concat(sap.ui.getCore().getConfiguration().getLanguageTag());n.push(c.get("sap.fe.core.services.ResourceModelService").createInstance({scopeType:"component",scopeObject:i,settings:{bundles:["sap.fe.core.messagebundle","sap.fe.macros.messagebundle","sap.fe.templates.messagebundle"],enhanceI18n:f,modelName:"sap.fe.i18n"}}).then(function(e){r.oResourceModelService=e;return e.getResourceModel()}));n.push(c.get("sap.fe.core.services.CacheHandlerService").createInstance({settings:{metaModel:u,appComponent:s,component:i}}).then(function(e){r.oCacheHandlerService=e;return e.validateCacheKey(y,i)}));n.push(v.load().then(function(e){var t="";if(!e.libraries){t=sap.ui.buildinfo.buildtime}else{e.libraries.forEach(function(e){t+=e.buildTimestamp})}return t}).catch(function(){return"<NOVALUE>"}));this.initPromise=Promise.all(n).then(function(e){try{var r=e[0];var n=e[1];var o=s.getSideEffectsService();o.initializeSideEffects(s.getEnvironmentCapabilities().getCapabilities());return Promise.resolve(g(["sap/fe/core/converters/TemplateConverter","sap/fe/core/converters/MetaModelConverter"])).then(function(e){var o=m(e,2),a=o[0],i=o[1];return t.createView(r,l,n,a,i)})}catch(e){return Promise.reject(e)}}).then(function(e){var t=c.get("sap.fe.core.services.CacheHandlerService").getInstance(u);t.invalidateIfNeeded(e,y,i)})};s.refreshView=function t(r){var n=r.getRootControl();if(n){n.destroy()}else if(this.oView){this.oView.destroy()}return this.createView(this.resourceModel,this.stableId,"",this.TemplateConverter,this.MetaModelConverter).then(function(){r.oContainer.invalidate()}).catch(function(t){r.oContainer.invalidate();e.error(t)})};s.createView=function r(i,s,c,v,p){try{var g=this;g.resourceModel=i;g.stableId=s;g.TemplateConverter=v;g.MetaModelConverter=p;var m=g.getContext();var y=m.settings;var b=y.converterType;var w=m.scopeObject;var C=o.getOwnerComponentFor(w);var M=C.getRoutingService().getTargetInformationFor(w).options.settings.fullContextPath;var O=C.getMetaModel();var V=C.getManifest();var S=new f(u).setDefaultBindingMode("OneWay");var I=new f(V);var j=false;function A(){var e=M.split("/");var t=e.reduce(function(e,t){if(t===""){return e}if(e===""){e="/".concat(t)}else{var r=O.getObject("".concat(e,"/$NavigationPropertyBinding/").concat(t));if(r&&Object.keys(r).length>0){e+="/$NavigationPropertyBinding"}e+="/".concat(t)}return e},"");var r=y.viewType||w.getViewType()||"XML";if(r!=="XML"){r=undefined}return{type:r,preprocessors:{xml:{bindingContexts:{entitySet:t?O.createBindingContext(t):null,fullContextPath:M?O.createBindingContext(M):null,contextPath:M?O.createBindingContext(M):null,converterContext:x.createBindingContext("/",undefined,{noResolve:true}),viewData:N?D.createBindingContext("/"):null},models:{entitySet:O,fullContextPath:O,contextPath:O,"sap.fe.i18n":i,metaModel:O,device:S,manifest:I,converterContext:x,viewData:D},appComponent:C}},id:s,viewName:y.viewName||w.getViewName(),viewData:N,cache:{keys:[c],additionalData:{getAdditionalCacheData:function(){return x.getData()},setAdditionalCacheData:function(e){x.setData(e)}}},models:{"sap.fe.i18n":i},height:"100%"}}var x,D,P,N;var T=function(t){e.error(t.message,t);P.viewName=y.errorViewName||"sap.fe.core.services.view.TemplatingErrorPage";P.preprocessors.xml.models["error"]=new f(t);return w.runAsOwner(function(){return a.create(P).then(function(e){g.oView=e;g.oView.setModel(new l(g.oView),"$view");w.setAggregation("rootControl",g.oView);return c})})};return Promise.resolve(h(function(){return Promise.resolve(C.getService("routingService")).then(function(r){var o;var h=r.getTargetInformationFor(w);var m=V["sap.app"]&&V["sap.app"].crossNavigation&&V["sap.app"].crossNavigation.outbounds||{};var y=w.getNavigation()||{};Object.keys(y).forEach(function(e){var t=y[e];var r;if(t.detail&&t.detail.outbound&&m[t.detail.outbound]){r=m[t.detail.outbound];t.detail.outboundDetail={semanticObject:r.semanticObject,action:r.action,parameters:r.parameters}}if(t.create&&t.create.outbound&&m[t.create.outbound]){r=m[t.create.outbound];t.create.outboundDetail={semanticObject:r.semanticObject,action:r.action,parameters:r.parameters}}});N={navigation:y,viewLevel:h.viewLevel,stableId:s,contentDensities:(o=V["sap.ui5"])===null||o===void 0?void 0:o.contentDensities,resourceBundle:i.__bundle,fullContextPath:M,isDesktop:u.system.desktop,isPhone:u.system.phone};if(w.getViewData){Object.assign(N,w.getViewData())}var S=C.getShellServices();N.converterType=b;N.shellContentDensity=S.getContentDensity();N.useNewLazyLoading=t.fromQuery(window.location.search).get("sap-fe-xx-lazyloadingtest")==="true";N.retrieveTextFromValueList=V["sap.fe"]&&V["sap.fe"].form?V["sap.fe"].form.retrieveTextFromValueList:undefined;D=new f(N);if(N&&N.controlConfiguration){Object.keys(N.controlConfiguration).forEach(function(e){if(e.indexOf("[")!==-1){var t=d(e,O);N.controlConfiguration[t]=N.controlConfiguration[e]}})}p.convertTypes(O,C.getEnvironmentCapabilities().getCapabilities());x=new n(function(){try{var t=C.getDiagnostics();var r=t.getIssues().length;var n=v.convertPage(b,O,N,t,M,C.getEnvironmentCapabilities().getCapabilities(),w);var o=t.getIssues();var a=o.slice(r);if(a.length>0){e.warning("Some issues have been detected in your project, please check the UI5 support assistant rule for sap.fe.core")}return n}catch(t){e.error(t,t);return{}}},O);if(!j){P=A();w.setModel(x,"_pageModel");return w.runAsOwner(function(){return a.create(P).catch(T).then(function(e){g.oView=e;g.oView.setModel(new l(g.oView),"$view");g.oView.setModel(D,"viewData");w.setAggregation("rootControl",g.oView);return c}).catch(function(t){return e.error(t.message,t)})})}})},function(t){e.error(t.message,t);throw new Error("Error while creating view : ".concat(t))}))}catch(E){return Promise.reject(E)}};s.getView=function e(){return this.oView};s.getInterface=function e(){return this};s.exit=function e(){if(this.oResourceModelService){this.oResourceModelService.destroy()}if(this.oCacheHandlerService){this.oCacheHandlerService.destroy()}this.oFactory.removeGlobalInstance()};return i}(i);var I=function(e){O(t,e);function t(){var t;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}t=e.call.apply(e,[this].concat(n))||this;t._oInstanceRegistry={};return t}var r=t.prototype;r.createInstance=function e(r){t.iCreatingViews++;var n=new S(Object.assign({factory:this},r));return n.initPromise.then(function(){t.iCreatingViews--;return n})};r.removeGlobalInstance=function e(){this._oInstanceRegistry={}};t.getNumberOfViewsInCreationState=function e(){return t.iCreatingViews};return t}(s);return I},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/view/TemplatingErrorPage.controller", ["sap/ui/core/mvc/Controller","sap/fe/core/controllerextensions/InternalRouting","sap/fe/core/helpers/ClassSupport"],function(e,r,i){"use strict";var t,n,o,a,l;var u=i.usingExtension;var c=i.defineUI5Class;function s(e,r,i,t){if(!i)return;Object.defineProperty(e,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(t):void 0})}function f(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;b(e,r)}function b(e,r){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(r,i){r.__proto__=i;return r};return b(e,r)}function d(e,r,i,t,n){var o={};Object.keys(t).forEach(function(e){o[e]=t[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,t){return t(e,r,i)||i},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,r,o);o=null}return o}function v(e,r){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}var g=(t=c("sap.fe.core.services.view.TemplatingErrorPage"),n=u(r),t(o=(a=function(e){p(r,e);function r(){var r;for(var i=arguments.length,t=new Array(i),n=0;n<i;n++){t[n]=arguments[n]}r=e.call.apply(e,[this].concat(t))||this;s(r,"_routing",l,f(r));return r}return r}(e),l=d(a.prototype,"_routing",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),a))||o);return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/support/CommonHelper", ["sap/fe/core/converters/helpers/IssueManager","sap/ui/support/library"],function(e,t){"use strict";var r={};var a=e.IssueSeverity;var s=e.IssueCategory;var i=t.Categories,o=t.Severity,n=t.Audiences;r.Categories=i;r.Audiences=n;r.Severity=o;var u=function(e){switch(e){case a.Low:return o.Low;case a.High:return o.High;case a.Medium:return o.Medium}};r.getSeverity=u;var v=function(e,t,r,a){var i=t.getComponents();var o;Object.keys(i).forEach(function(e){var t,r;var a=i[e];if((a===null||a===void 0?void 0:(t=a.getMetadata())===null||t===void 0?void 0:(r=t.getParent())===null||r===void 0?void 0:r.getName())==="sap.fe.core.AppComponent"){o=a}});if(o){var n=o.getDiagnostics().getIssuesByCategory(s[r],a);n.forEach(function(t){e.addIssue({severity:u(t.severity),details:t.details,context:{id:t.category}})})}};r.getIssueByCategory=v;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/support/Diagnostics", [],function(){"use strict";var e=function(){function e(){this._issues=[]}var s=e.prototype;s.addIssue=function e(s,t,r,i,u){var n=this.checkIfIssueExists(s,t,r,i,u);if(!n){this._issues.push({category:s,severity:t,details:r,subCategory:u})}};s.getIssues=function e(){return this._issues};s.getIssuesByCategory=function e(s,t){if(t){return this._issues.filter(function(e){return e.category===s&&e.subCategory===t})}else{return this._issues.filter(function(e){return e.category===s})}};s.checkIfIssueExists=function e(s,t,r,i,u){if(i&&i[s]&&u){return this._issues.some(function(e){return e.category===s&&e.severity===t&&e.details.replace(/\n/g,"")===r.replace(/\n/g,"")&&e.subCategory===u})}return this._issues.some(function(e){return e.category===s&&e.severity===t&&e.details.replace(/\n/g,"")===r.replace(/\n/g,"")})};return e}();return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/CommonFormatters", ["sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","../converters/helpers/DataFieldHelper"],function(e,t,a,r,i,n){"use strict";var o={};var s=n.isReferencePropertyStaticallyHidden;var l=a.getRelativePaths;var v=a.getContextRelativeTargetObjectPath;var p=a.enhanceDataModelPath;var c=t.pathInModel;var d=t.getExpressionFromAnnotation;var f=t.formatResult;var g=t.compileExpression;var u=function(e){return g(e)};o.getExpressionBinding=u;var h=function(t,a,r){var n,o;var s=r===null||r===void 0?void 0:r.displayMode;var v=a;var p=t.targetObject.type==="PropertyPath"?t.targetObject.$target:t.targetObject;var c=s||i.getDisplayMode(t);var g=(n=p.annotations)===null||n===void 0?void 0:(o=n.Common)===null||o===void 0?void 0:o.Text;var u=l(t);a=i.formatWithTypeInformation(p,a);if(c!=="Value"&&g){switch(c){case"Description":v=d(g,u);break;case"DescriptionValue":v=f([d(g,u),a],e.formatWithBrackets);break;case"ValueDescription":v=f([a,d(g,u)],e.formatWithBrackets);break}}return v};o.getBindingWithTextArrangement=h;var m=function(e){var t=e;if(r.isPathExpression(e===null||e===void 0?void 0:e.targetObject)){var a;t=p(e,(a=e.targetObject)===null||a===void 0?void 0:a.path)}var n=t.targetObject;var o=c(v(t));o=i.formatWithTypeInformation(n,o,true);var l=h(t,o);return n.annotations.UI&&!s(n.annotations.UI.DataFieldDefault)&&g(l)||undefined};o.getBindingWithText=m;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/CriticalityFormatters", ["sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper"],function(i,t){"use strict";var e={};var r=t.getRelativePaths;var a=i.or;var o=i.ifElse;var l=i.getExpressionFromAnnotation;var n=i.equal;var c=i.constant;var v=i.compileExpression;var s=function(i,t){var e=i.targetObject?i.targetObject:i;var s=e===null||e===void 0?void 0:e.Criticality;var y=t?r(t):undefined;var p=l(s,y);var u;if(s){u=o(a(n(p,c("UI.CriticalityType/Negative")),n(p,c(1)),n(p,c("1"))),c("Error"),o(a(n(p,c("UI.CriticalityType/Critical")),n(p,c(2)),n(p,c("2"))),c("Warning"),o(a(n(p,c("UI.CriticalityType/Positive")),n(p,c(3)),n(p,c("3"))),c("Success"),o(a(n(p,c("UI.CriticalityType/Information")),n(p,c(5)),n(p,c("5"))),c("Information"),c("None")))))}else{u=c("None")}return v(u)};e.buildExpressionForCriticalityColor=s;var y=function(i,t){var e=i!==null&&i!==void 0&&i.targetObject?i.targetObject:i;var s=e===null||e===void 0?void 0:e.Criticality;var y=t?r(t):undefined;var p=l(s,y);var u=(e===null||e===void 0?void 0:e.CriticalityRepresentation)&&(e===null||e===void 0?void 0:e.CriticalityRepresentation)==="UI.CriticalityRepresentationType/WithoutIcon";var C;if(!u){if(s){C=o(a(n(p,c("UI.CriticalityType/Negative")),n(p,c(1)),n(p,c("1"))),c("sap-icon://message-error"),o(a(n(p,c("UI.CriticalityType/Critical")),n(p,c(2)),n(p,c("2"))),c("sap-icon://message-warning"),o(a(n(p,c("UI.CriticalityType/Positive")),n(p,c(3)),n(p,c("3"))),c("sap-icon://message-success"),o(a(n(p,c("UI.CriticalityType/Information")),n(p,c(5)),n(p,c("5"))),c("sap-icon://message-information"),c("")))))}else{C=c("")}}else{C=c("")}return v(C)};e.buildExpressionForCriticalityIcon=y;var p=function(i){var t=i!==null&&i!==void 0&&i.targetObject?i.targetObject:i;var e=t===null||t===void 0?void 0:t.Criticality;var r=l(e);var s;if(e){s=o(a(n(r,c("UI.CriticalityType/Negative")),n(r,c(1)),n(r,c("1"))),c("Reject"),o(a(n(r,c("UI.CriticalityType/Positive")),n(r,c(3)),n(r,c("3"))),c("Accept"),c("Default")))}else{s=c("Default")}return v(s)};e.buildExpressionForCriticalityButtonType=p;var u=function(i){var t=i!==null&&i!==void 0&&i.targetObject?i.targetObject:i;var e=t===null||t===void 0?void 0:t.Criticality;var r=l(e);var s;if(e){s=o(a(n(r,c("UI.CriticalityType/Negative")),n(r,c(1)),n(r,c("1"))),c("Error"),o(a(n(r,c("UI.CriticalityType/Critical")),n(r,c(2)),n(r,c("2"))),c("Critical"),o(a(n(r,c("UI.CriticalityType/Positive")),n(r,c(3)),n(r,c("3"))),c("Good"),c("Neutral"))))}else{s=c("Neutral")}return v(s)};e.buildExpressionForCriticalityColorMicroChart=u;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/DataFieldFormatters", ["sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters"],function(t,e,a){"use strict";var r={};var o=a.getConverterContext;var n=e.enhanceDataModelPath;var c=t.getInvolvedDataModelObjects;var i=function(t,e){var a=e.context.getPath();if(!t){throw new Error("Unresolved context path ".concat(a))}var r=false;if(typeof t==="object"&&(t.hasOwnProperty("$Path")||t.hasOwnProperty("$AnnotationPath"))){r=true}else if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error("Context does not resolve to a DataField object but to a ".concat(t.$kind))}var n=o(t,e);if(r){n=n.$target}return n};r.getDataField=i;var s=function(t,e){var a=e.context.getPath();if(!t){throw new Error("Unresolved context path ".concat(a))}if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error("Context does not resolve to a Property object but to a ".concat(t.$kind))}var r=c(e.context);if(r.targetObject&&r.targetObject.type==="Path"){r=n(r,r.targetObject.path)}if(r.targetObject&&r.targetObject.type==="AnnotationPath"){r=n(r,r.targetObject)}if(a.endsWith("$Path")||a.endsWith("$AnnotationPath")){r=n(r,t)}return r};r.getDataFieldObjectPath=s;var d=function(t,e){var a=i(t,e);return a.$Type==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"};r.isSemanticallyConnectedFields=d;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/DataModelPathHelper", ["sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/PropertyHelper"],function(t,e){"use strict";var n={};var i=e.isPathExpression;var r=e.isAnnotationPathExpression;var a=t.unresolveableExpression;var o=t.getExpressionFromAnnotation;var v=t.equal;var l=t.constant;var c=function(t){return u(t===null||t===void 0?void 0:t.contextLocation,t===null||t===void 0?void 0:t.navigationProperties).map(function(t){return t.name})};n.getRelativePaths=c;var u=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];if(!t){return e}else if(e.length>=t.navigationProperties.length){var n=[];t.navigationProperties.forEach(function(t,i){if(e[i]!==t){n.push(e[i])}});n=n.concat(e.slice(t.navigationProperties.length));var i=0;while(n.length>1&&i!=n.length-1){var r=n[i];var a=n[i+1];if(r.partner===a.name){n.splice(0,2)}else{i++}}return n}else{var o=[];e.forEach(function(n,i){if(t.navigationProperties[i]!==n){o.push(e[i])}});o=o.concat(t.navigationProperties.slice(e.length));var v=0;while(o.length>1&&v!=o.length-1){var l=o[v];var c=o[v+1];if(l.partner===c.name){o.splice(0,2)}else{v++}}o=o.map(function(t){return t.targetType.navigationProperties.find(function(e){return e.name===t.partner})});return o}};n.getPathRelativeLocation=u;var s=function(t,e){var n="";if((i(e)||r(e))&&e.path){n=e.path}else if(typeof e==="string"){n=e}var a;if(i(e)||r(e)){a=e.$target}else if(t.targetEntityType){a=t.targetEntityType.resolvePath(n)}else{a=t.targetObject}var o=n.split("/");var v=t.targetEntitySet;var l=t.targetEntityType;var c=t.navigationProperties.concat();var u=t.targetEntityType;o.forEach(function(t){if(!u){return}var e=u.navigationProperties.find(function(e){return e.name===t});if(e){c.push(e);l=e.targetType;if(v&&v.navigationPropertyBinding.hasOwnProperty(t)){v=v.navigationPropertyBinding[t]}u=l}else{u=undefined}});return{startingEntitySet:t.startingEntitySet,navigationProperties:c,contextLocation:t.contextLocation,targetEntitySet:v,targetEntityType:l,targetObject:a,convertedTypes:t.convertedTypes}};n.enhanceDataModelPath=s;var g=function(t){var e="/".concat(t.startingEntitySet.name);var n=t.startingEntitySet;var i=[];t.navigationProperties.forEach(function(t){i.push(t.name);if(n&&n.navigationPropertyBinding.hasOwnProperty(i.join("/"))){e+="/$NavigationPropertyBinding/".concat(i.join("/"),"/$");n=n.navigationPropertyBinding[i.join("/")];i=[]}});return e};n.getTargetEntitySetPath=g;var f=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n="";if(!t.startingEntitySet){return"/"}if(!e){n+="/".concat(t.startingEntitySet.name)}if(t.navigationProperties.length>0){if(n.length>0){n+="/"}n+=t.navigationProperties.map(function(t){return t.name}).join("/")}if(t.targetObject&&t.targetObject.name&&t.targetObject._type!=="NavigationProperty"&&t.targetObject._type!=="EntityType"&&t.targetObject._type!=="EntitySet"&&t.targetObject!==t.startingEntitySet){if(!n.endsWith("/")){n+="/"}n+="".concat(t.targetObject.name)}else if(t.targetObject&&t.targetObject.hasOwnProperty("term")){if(n.length>0&&!n.endsWith("/")){n+="/"}n+="@".concat(t.targetObject.term);if(t.targetObject.hasOwnProperty("qualifier")&&!!t.targetObject.qualifier){n+="#".concat(t.targetObject.qualifier)}}return n};n.getTargetObjectPath=f;var d=function(t){var e;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(((e=t.contextLocation)===null||e===void 0?void 0:e.startingEntitySet)!==t.startingEntitySet){return f(t)}return p(t,n)};n.getContextRelativeTargetObjectPath=d;var p=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=u(t.contextLocation,t.navigationProperties);if(e){if(n.find(function(t){return t.isCollection})){return undefined}}var i=n.map(function(t){return t.name}).join("/");if(t.targetObject&&(t.targetObject.name||t.targetObject.type==="PropertyPath"&&t.targetObject.value)&&t.targetObject._type!=="NavigationProperty"&&t.targetObject._type!=="EntityType"&&t.targetObject._type!=="EntitySet"&&t.targetObject!==t.startingEntitySet){if(i.length>0&&!i.endsWith("/")){i+="/"}i+=t.targetObject.type==="PropertyPath"?"".concat(t.targetObject.value):"".concat(t.targetObject.name)}else if(t.targetObject&&t.targetObject.hasOwnProperty("term")){if(i.length>0&&!i.endsWith("/")){i+="/"}i+="@".concat(t.targetObject.term);if(t.targetObject.hasOwnProperty("qualifier")&&!!t.targetObject.qualifier){i+="#".concat(t.targetObject.qualifier)}}else if(!t.targetObject){return undefined}return i};var h=function(t,e){return j(t,function(t){var e;return t===null||t===void 0?void 0:(e=t.UpdateRestrictions)===null||e===void 0?void 0:e.Updatable},e)};n.isPathUpdatable=h;var y=function(t,e){return j(t,function(t){var e;return t===null||t===void 0?void 0:(e=t.SearchRestrictions)===null||e===void 0?void 0:e.Searchable},e)};n.isPathSearchable=y;var P=function(t,e){return j(t,function(t){var e;return t===null||t===void 0?void 0:(e=t.DeleteRestrictions)===null||e===void 0?void 0:e.Deletable},e)};n.isPathDeletable=P;var b=function(t,e){return j(t,function(t){var e;return t===null||t===void 0?void 0:(e=t.InsertRestrictions)===null||e===void 0?void 0:e.Insertable},e)};n.isPathInsertable=b;var O=function(t,e){return j(t,function(n){if(n&&"FilterRestrictions"in n){var i;var r=(n===null||n===void 0?void 0:(i=n.FilterRestrictions)===null||i===void 0?void 0:i.FilterExpressionRestrictions)||[];var a=r.find(function(e){return e.Property.$target===t.targetObject});if(a){var o;return e.indexOf(a===null||a===void 0?void 0:(o=a.AllowedExpressions)===null||o===void 0?void 0:o.toString())!==-1}else{return false}}else{return false}})};n.checkFilterExpressionRestrictions=O;var j=function(t,e,n){if(!t||!t.startingEntitySet){return l(true)}t=s(t,n===null||n===void 0?void 0:n.propertyPath);var i=t.startingEntitySet;var r=null;var c=[];var g=[];var f=i;var d=t.targetEntityType;var p=false;t.navigationProperties.forEach(function(t){if(p){c=[]}c.push(t.name);g.push(t);if(!t.containsTarget){var e=c.join("/");if(i&&i.navigationPropertyBinding.hasOwnProperty(e)){r=i;i=i.navigationPropertyBinding[e];f=i;p=true}else{r=i;i=null;p=true}}else{r=i;f=null}});var h=c.join("/");var y,P;if(r!==null){var b,O,j;var m=r;(b=m.annotations)===null||b===void 0?void 0:(O=b.Capabilities)===null||O===void 0?void 0:(j=O.NavigationRestrictions)===null||j===void 0?void 0:j.RestrictedProperties.forEach(function(i){var r;if(((r=i.NavigationProperty)===null||r===void 0?void 0:r.type)==="NavigationPropertyPath"){var a=e(i);if(h===i.NavigationProperty.value&&a!==undefined){var l;var c=g.slice(0,-1);P=c;var s=u((l=t)===null||l===void 0?void 0:l.contextLocation,P).map(function(t){return t.name});var f=n!==null&&n!==void 0&&n.pathVisitor?E(n.pathVisitor,s):undefined;y=v(o(a,s,undefined,f),true)}}})}var S;if(!(n!==null&&n!==void 0&&n.ignoreTargetCollection)){var T,x;var R=e((T=f)===null||T===void 0?void 0:(x=T.annotations)===null||x===void 0?void 0:x.Capabilities);if(f===null&&R===undefined){var w;R=e(d===null||d===void 0?void 0:(w=d.annotations)===null||w===void 0?void 0:w.Capabilities)}if(R!==undefined){var B=u(t.contextLocation,g).map(function(t){return t.name});var L=n!==null&&n!==void 0&&n.pathVisitor?E(n.pathVisitor,B):undefined;S=v(o(R,B,undefined,L),true)}}return y||S||(n!==null&&n!==void 0&&n.authorizeUnresolvable?a:l(true))};n.checkOnPath=j;var E=function(t,e){return function(n){return t(n,e)}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/DisplayModeFormatter", ["sap/fe/core/templating/PropertyHelper"],function(e){"use strict";var a={};var t=e.isPropertyPathExpression;var i=e.isPathExpression;var o={"Edm.Boolean":{type:"sap.ui.model.odata.type.Boolean"},"Edm.Byte":{type:"sap.ui.model.odata.type.Byte"},"Edm.Date":{type:"sap.ui.model.odata.type.Date"},"Edm.DateTimeOffset":{constraints:{$Precision:"precision",$V4:"V4"},type:"sap.ui.model.odata.type.DateTimeOffset"},"Edm.Decimal":{constraints:{"@Org.OData.Validation.V1.Minimum/$Decimal":"minimum","@Org.OData.Validation.V1.Minimum@Org.OData.Validation.V1.Exclusive":"minimumExclusive","@Org.OData.Validation.V1.Maximum/$Decimal":"maximum","@Org.OData.Validation.V1.Maximum@Org.OData.Validation.V1.Exclusive":"maximumExclusive",$Precision:"precision",$Scale:"scale"},type:"sap.ui.model.odata.type.Decimal"},"Edm.Double":{type:"sap.ui.model.odata.type.Double"},"Edm.Guid":{type:"sap.ui.model.odata.type.Guid"},"Edm.Int16":{type:"sap.ui.model.odata.type.Int16"},"Edm.Int32":{type:"sap.ui.model.odata.type.Int32"},"Edm.Int64":{type:"sap.ui.model.odata.type.Int64"},"Edm.SByte":{type:"sap.ui.model.odata.type.SByte"},"Edm.Single":{type:"sap.ui.model.odata.type.Single"},"Edm.Stream":{type:"sap.ui.model.odata.type.Stream"},"Edm.Binary":{type:"sap.ui.model.odata.type.Stream"},"Edm.String":{constraints:{"@com.sap.vocabularies.Common.v1.IsDigitSequence":"isDigitSequence",$MaxLength:"maxLength",$Nullable:"nullable"},type:"sap.ui.model.odata.type.String"},"Edm.TimeOfDay":{constraints:{$Precision:"precision"},type:"sap.ui.model.odata.type.TimeOfDay"}};a.EDM_TYPE_MAPPING=o;var d={"sap.ui.model.odata.type.Boolean":"Edm.Boolean","sap.ui.model.odata.type.Byte":"Edm.Byte","sap.ui.model.odata.type.Date":"Edm.Date","sap.ui.model.odata.type.DateTimeOffset":"Edm.DateTimeOffset","sap.ui.model.odata.type.Decimal":"Edm.Decimal","sap.ui.model.odata.type.Double":"Edm.Double","sap.ui.model.odata.type.Guid":"Edm.Guid","sap.ui.model.odata.type.Int16":"Edm.Int16","sap.ui.model.odata.type.Int32":"Edm.Int32","sap.ui.model.odata.type.Int64":"Edm.Int64","sap.ui.model.odata.type.SByte":"Edm.SByte","sap.ui.model.odata.type.Single":"Edm.Single","sap.ui.model.odata.type.Stream":"Edm.Stream","sap.ui.model.odata.type.TimeOfDay":"Edm.TimeOfDay","sap.ui.model.odata.type.String":"Edm.String"};a.ODATA_TYPE_MAPPING=d;var n=function(e,a){var o,d,n,m,l,p,s,u,r,y,v;if(!e||typeof e==="string"){return"Value"}var E=(i(e)||t(e))&&e.$target||e;var D=a&&a.targetEntityType;var c=(o=E.annotations)===null||o===void 0?void 0:(d=o.Common)===null||d===void 0?void 0:d.Text;var g=typeof c!=="string"&&(c===null||c===void 0?void 0:(n=c.annotations)===null||n===void 0?void 0:(m=n.UI)===null||m===void 0?void 0:(l=m.TextArrangement)===null||l===void 0?void 0:l.toString())||(D===null||D===void 0?void 0:(p=D.annotations)===null||p===void 0?void 0:(s=p.UI)===null||s===void 0?void 0:(u=s.TextArrangement)===null||u===void 0?void 0:u.toString());var T=c?"DescriptionValue":"Value";if(c&&g||D!==null&&D!==void 0&&(r=D.annotations)!==null&&r!==void 0&&(y=r.UI)!==null&&y!==void 0&&(v=y.TextArrangement)!==null&&v!==void 0&&v.toString()){if(g==="UI.TextArrangementType/TextOnly"){T="Description"}else if(g==="UI.TextArrangementType/TextLast"){T="ValueDescription"}else if(g==="UI.TextArrangementType/TextSeparate"){T="Value"}else{T="DescriptionValue"}}return T};a.getDisplayMode=n;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/EntitySetHelper", ["sap/fe/core/helpers/ModelHelper"],function(i){"use strict";var t={};function n(i){return l(i)||e(i)||r(i)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(i,t){if(!i)return;if(typeof i==="string")return a(i,t);var n=Object.prototype.toString.call(i).slice(8,-1);if(n==="Object"&&i.constructor)n=i.constructor.name;if(n==="Map"||n==="Set")return Array.from(i);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(i,t)}function e(i){if(typeof Symbol!=="undefined"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function l(i){if(Array.isArray(i))return a(i)}function a(i,t){if(t==null||t>i.length)t=i.length;for(var n=0,o=new Array(t);n<t;n++){o[n]=i[n]}return o}var v=function(i){return i&&i.hasOwnProperty("_type")&&i._type==="EntitySet"};t.isEntitySet=v;var u=function(i){var t,n,o;return((t=i.annotations)===null||t===void 0?void 0:(n=t.Capabilities)===null||n===void 0?void 0:(o=n.FilterRestrictions)===null||o===void 0?void 0:o.FilterExpressionRestrictions)||[]};t.getFilterExpressionRestrictions=u;var d=function(t){var o,r,e,l,a,v,u;var d=[];if(i.isSingleton(t)){return[]}else if((t===null||t===void 0?void 0:(o=t.annotations)===null||o===void 0?void 0:(r=o.Capabilities)===null||r===void 0?void 0:(e=r.SortRestrictions)===null||e===void 0?void 0:e.Sortable)===false){var s;(s=d).push.apply(s,n(t.entityType.entityProperties.map(function(i){return i.name})))}else{var p,c,f,y;d=(t===null||t===void 0?void 0:(p=t.annotations)===null||p===void 0?void 0:(c=p.Capabilities)===null||c===void 0?void 0:(f=c.SortRestrictions)===null||f===void 0?void 0:(y=f.NonSortableProperties)===null||y===void 0?void 0:y.map(function(i){return i.value}))||[]}t===null||t===void 0?void 0:(l=t.annotations)===null||l===void 0?void 0:(a=l.Capabilities)===null||a===void 0?void 0:(v=a.NavigationRestrictions)===null||v===void 0?void 0:(u=v.RestrictedProperties)===null||u===void 0?void 0:u.forEach(function(i){var o;if((i===null||i===void 0?void 0:(o=i.SortRestrictions)===null||o===void 0?void 0:o.Sortable)===false){var r,e;var l=t===null||t===void 0?void 0:(r=t.entityType)===null||r===void 0?void 0:(e=r.navigationProperties)===null||e===void 0?void 0:e.filter(function(t){var n;return t.name===(i===null||i===void 0?void 0:(n=i.NavigationProperty)===null||n===void 0?void 0:n.value)});if(l[0]){var a,v;(a=d).push.apply(a,n((v=l[0].targetType)===null||v===void 0?void 0:v.entityProperties.map(function(i){return"".concat(l[0].name,"/").concat(i.name)})))}}else{var u,s;var p=i===null||i===void 0?void 0:(u=i.SortRestrictions)===null||u===void 0?void 0:(s=u.NonSortableProperties)===null||s===void 0?void 0:s.map(function(i){return i.value});if(p){var c;(c=d).push.apply(c,n(p))}}});return d};t.getNonSortablePropertiesRestrictions=d;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/FieldControlHelper", ["sap/fe/core/helpers/BindingToolkit"],function(o){"use strict";var n={};var i=o.or;var l=o.getExpressionFromAnnotation;var r=o.equal;var e=o.constant;var v=function(o,n){var v,t,a;var d=o===null||o===void 0?void 0:(v=o.annotations)===null||v===void 0?void 0:(t=v.Common)===null||t===void 0?void 0:(a=t.FieldControl)===null||a===void 0?void 0:a.valueOf();if(typeof d==="object"&&!!d){return i(r(l(d,n),1),r(l(d,n),"1"))}return e(d==="Common.FieldControlType/ReadOnly")};n.isReadOnlyExpression=v;var t=function(o,n){var v,t,a;var d=o===null||o===void 0?void 0:(v=o.annotations)===null||v===void 0?void 0:(t=v.Common)===null||t===void 0?void 0:(a=t.FieldControl)===null||a===void 0?void 0:a.valueOf();if(typeof d==="object"&&!!d){return i(r(l(d,n),0),r(l(d,n),"0"))}return e(d==="Common.FieldControlType/Inapplicable")};n.isDisabledExpression=t;var a=function(o,n){return i(v(o,n),t(o,n))};n.isNonEditableExpression=a;var d=function(o,n){var v,t,a;var d=o===null||o===void 0?void 0:(v=o.annotations)===null||v===void 0?void 0:(t=v.Common)===null||t===void 0?void 0:(a=t.FieldControl)===null||a===void 0?void 0:a.valueOf();if(typeof d==="object"&&!!d){return i(r(l(d,n),7),r(l(d,n),"7"))}return e(d==="Common.FieldControlType/Mandatory")};n.isRequiredExpression=d;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/FilterHelper", ["sap/base/Log","sap/ui/mdc/condition/Condition","sap/ui/mdc/enum/ConditionValidated"],function(e,t,n){"use strict";var r={};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){t=d(t);if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function d(e){var t=u(e,"string");return typeof t==="symbol"?t:String(t)}function u(e,t){if(typeof e!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if(typeof r!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l=["Edm.Boolean","Edm.Byte","Edm.Date","Edm.DateTime","Edm.DateTimeOffset","Edm.Decimal","Edm.Double","Edm.Float","Edm.Guid","Edm.Int16","Edm.Int32","Edm.Int64","Edm.SByte","Edm.Single","Edm.String","Edm.Time","Edm.TimeOfDay"];var c={Contains:"NotContains",StartsWith:"NotStartsWith",EndsWith:"NotEndsWith",Empty:"NotEmpty",NotEmpty:"Empty",LE:"NOTLE",GE:"NOTGE",LT:"NOTLT",GT:"NOTGT",BT:"NOTBT",NE:"EQ",EQ:"NE"};function s(e){var t;if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,4})/)){t=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,4})/)[0]}else if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)){t="".concat(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)[0],"+0000")}else if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)){t="".concat(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0],"T00:00:00+0000")}else if(e.indexOf("Z")===e.length-1){t="".concat(e.split("Z")[0],"+0100")}else{t=undefined}return t}r._getDateTimeOffsetCompliantValue=s;function f(e){return e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)?e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]:e.match(/^(\d{8})/)&&e.match(/^(\d{8})/)[0]}r._getDateCompliantValue=f;function v(e,t){var n;if(l.indexOf(t)===-1){return undefined}n=e;switch(t){case"Edm.Boolean":if(typeof e==="boolean"){n=e}else{n=e==="true"||(e==="false"?false:undefined)}break;case"Edm.Double":case"Edm.Single":n=isNaN(e)?undefined:parseFloat(e);break;case"Edm.Byte":case"Edm.Int16":case"Edm.Int32":case"Edm.SByte":n=isNaN(e)?undefined:parseInt(e,10);break;case"Edm.Date":n=f(e);break;case"Edm.DateTimeOffset":n=s(e);break;case"Edm.TimeOfDay":n=e.match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)?e.match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)[0]:undefined;break;default:}return n===null?undefined:n}r.getTypeCompliantValue=v;function m(t,n,r,a){var i=n,o,d;var u={};u.values=[];u.isEmpty=null;if(n===undefined||n===null){return}switch(t){case"CP":d="Contains";if(i){var l=i.indexOf("*");var s=i.lastIndexOf("*");if(l>-1){if(l===0&&s!==i.length-1){d="EndsWith";i=i.substring(1,i.length)}else if(l!==0&&s===i.length-1){d="StartsWith";i=i.substring(0,i.length-1)}else{i=i.substring(1,i.length-1)}}else{e.warning("Contains Option cannot be used without '*'.");return}}break;case"EQ":d=n===""?"Empty":t;break;case"NE":d=n===""?"NotEmpty":t;break;case"BT":if(r===undefined||r===null){return}o=r;d=t;break;case"LE":case"GE":case"GT":case"LT":d=t;break;default:e.warning("Selection Option is not supported : '".concat(t,"'"));return}if(a==="E"){d=c[d]}u.operator=d;if(d!=="Empty"){u.values.push(i);if(o){u.values.push(o)}}return u}r.resolveConditionValues=m;function p(e){return e.indexOf("/")>0?e.split("/")[1]:e}r.getRangeProperty=p;function g(e,t,n,r){var a=[];e===null||e===void 0?void 0:e.forEach(function(e){var i=r?r(e,t,n):h(e,t);if(i){a.push(i)}});return a}function E(e,t,n){var r=e.lastIndexOf("/");var a=r>-1?e.substring(0,e.lastIndexOf("/")+1):"";var i=t.getObject("".concat(n,"/").concat(a));return i===null||i===void 0?void 0:i[e.replace(a,"")]}function y(e,t,n,r){var a=e.PropertyName,i={},o=a.value||a.$PropertyPath,d=e.Ranges;var u=E(o,t,n);if(u){var l=g(d,u,o,r);if(l.length){i[o]=(i[o]||[]).concat(l)}}return i}function b(e,t,r,a){var o={};if(!r){return o}var d=r.SelectOptions,u=r.Parameters;d===null||d===void 0?void 0:d.forEach(function(n){var r=n.PropertyName,d=r.value||r.$PropertyPath;if(Object.keys(o).includes(d)){o[d]=o[d].concat(y(n,t,e,a)[d])}else{o=i(i({},o),y(n,t,e,a))}});u===null||u===void 0?void 0:u.forEach(function(e){var t=e.PropertyName.value||e.PropertyName.$PropertyPath;var r=a?{operator:"EQ",value1:e.PropertyValue,value2:null,path:t,isParameter:true}:{operator:"EQ",values:[e.PropertyValue],isEmpty:null,validated:n.Validated,isParameter:true};o[t]=[r]});return o}r.getFiltersConditionsFromSelectionVariant=b;function h(e,r){var a;var i=e.Sign?p(e.Sign):undefined;var o=e.Option?p(e.Option):undefined;var d=v(e.Low,r.$Type||r.type);var u=e.High?v(e.High,r.$Type||r.type):undefined;var l=m(o,d,u,i);if(l){a=t.createCondition(l.operator,l.values,null,null,n.Validated)}return a}r.getConditions=h;var O=function(e,r){var a={};var i=e.getInterface(1).getPath(),o=e.getInterface(1).getModel();if(r){for(var d in r){var u=o.getObject("".concat(i,"/").concat(d,"@com.sap.vocabularies.Common.v1.FilterDefaultValue"));if(u!==undefined){var l=d;a[l]=[t.createCondition("EQ",[u],null,null,n.Validated)]}}}return a};var T=function(e,n,r){var a={};var i=e.getInterface(1);var o=i.getModel();var d=i.getPath();for(var u in r){if(r[u][0]){var l=u.split("::");var c="";var s=l.length;var f=l.slice(0,l.length-1).join("/");var v=l[s-1];if(f){var m=o.getObject(d+"/"+f);if(m.$kind==="NavigationProperty"&&m.$isCollection){c+="".concat(f,"*/")}else if(m.$kind==="NavigationProperty"){c+="".concat(f,"/")}}c+=v;var p="values"in r[u][0]?r[u][0].values:[];a[c]=[t.createCondition(r[u][0].operator,p,null,null,null)]}}return a};function P(){var e={};e["$editState"]=[t.createCondition("DRAFT_EDIT_STATE",["ALL"],null,null,n.Validated)];return e}function N(e,t){var n,r;var a;var o=e.getInterface(1).getPath(),d=e.getInterface(1).getModel(),u=d.getObject("".concat(o,"@")),l=d.getObject("".concat(o,"/"));if(u["@com.sap.vocabularies.Common.v1.DraftRoot"]||u["@com.sap.vocabularies.Common.v1.DraftNode"]){a=P()}var c=(n=t)===null||n===void 0?void 0:n.selectionVariant;var s=((r=t)===null||r===void 0?void 0:r.defaultSemanticDates)||{};var f=O(e,l);var v=T(e,l,s);if(c){t=b(o,d,c)}else if(f){t=f}if(v){t=i(i({},t),v)}if(a){t=i(i({},t),a)}return Object.keys(t).length>0?JSON.stringify(t).replace(/([\{\}])/g,"\\$1"):undefined}r.getFilterConditions=N;N.requiresIContext=true;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/FilterTemplating", ["sap/fe/core/helpers/ModelHelper"],function(i){"use strict";var e={};function n(e,n){var o,r;var t=e.getEntitySet();var v=t===null||t===void 0?void 0:t.annotations;var l;if(!i.isSingleton(t)){l=v===null||v===void 0?void 0:v.Capabilities}var a=(o=l)===null||o===void 0?void 0:(r=o.FilterRestrictions)===null||r===void 0?void 0:r.RequiredProperties;var d=false;if(a){a.forEach(function(i){if(n===(i===null||i===void 0?void 0:i.value)){d=true}})}return d}e.getIsRequired=n;function o(e,n){var o,r;var t,v;var l=e.getEntityType();var a=e.getEntitySet();var d=a===null||a===void 0?void 0:a.annotations;var u;if(!i.isSingleton(a)){u=d===null||d===void 0?void 0:d.Capabilities}var s=(o=u)===null||o===void 0?void 0:(r=o.FilterRestrictions)===null||r===void 0?void 0:r.NonFilterableProperties;var f=l.entityProperties;f.forEach(function(i){var e=i.name;if(e===n){var o,r,t;v=(o=i.annotations)===null||o===void 0?void 0:(r=o.UI)===null||r===void 0?void 0:(t=r.Hidden)===null||t===void 0?void 0:t.valueOf()}});if(s&&s.length>0){for(var c=0;c<s.length;c++){var p;var g=(p=s[c])===null||p===void 0?void 0:p.value;if(g===n){t=true}}}return t||v}e.isPropertyFilterable=o;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/PropertyFormatters", ["sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/DataModelPathHelper","./PropertyHelper","./UIFormatters"],function(t,e,r,a){"use strict";var n={};var o=a.getConverterContext;var c=e.getTargetObjectPath;var v=e.enhanceDataModelPath;var i=t.getInvolvedDataModelObjects;var u=function(t,e){var r=e.context.getPath();if(!t){throw new Error("Unresolved context path ".concat(r))}var a=false;if(typeof t==="object"&&t.hasOwnProperty("$Path")){a=true}else if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error("Context does not resolve to a Property object but to a ".concat(t.$kind))}var n=o(t,e);if(a){n=n.$target}return n};n.getProperty=u;var s=function(t,e){var r=e.context.getPath();if(!t){throw new Error("Unresolved context path ".concat(r))}if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error("Context does not resolve to a Property object but to a ".concat(t.$kind))}var a=i(e.context);if(a.targetObject&&a.targetObject.type==="Path"){a=v(a,a.targetObject.path)}return a};n.getPropertyObjectPath=s;var h=function(t,e){var a=u(t,e);return r.isKey(a)};n.isKey=h;var p=function(t,e){var a=u(t,e);return r.hasValueHelp(a)};n.hasValueHelp=p;var l=function(t,e){var a=u(t,e);return r.hasDateType(a)};n.hasDateType=l;var f=function(t,e){var a=u(t,e);return r.hasValueHelpWithFixedValues(a)};n.hasValueHelpWithFixedValues=f;var y=function(t,e){var a=u(t,e);return r.hasCurrency(a)||r.hasUnit(a)};n.hasUnitOrCurrency=y;var P=function(t,e){var r=u(t,e);return r.name};n.getName=P;var d=function(t,e){var a=u(t,e);return r.getLabel(a)};n.getLabel=d;var g=function(t,e){var r=s(t,e);return c(r)};n.getPropertyPath=g;var b=function(t,e){var r=s(t,e);return c(r,true)};n.getRelativePropertyPath=b;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/PropertyHelper", [],function(){"use strict";var n={};function o(n){return n&&n.hasOwnProperty("_type")&&n._type==="Property"}n.isProperty=o;var i=function(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Core)!==null&&i!==void 0&&(t=i.Computed)!==null&&t!==void 0&&t.valueOf())};n.isComputed=i;function t(n){return n&&n.hasOwnProperty("_type")&&n._type==="NavigationProperty"}n.isNavigationProperty=t;var e=function(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Core)!==null&&i!==void 0&&(t=i.Immutable)!==null&&t!==void 0&&t.valueOf())};n.isImmutable=e;var a=function(n){return!!n.isKey};n.isKey=a;var l=function(n,o){var i,t,e,a,l;var u=(i=o.contextLocation)===null||i===void 0?void 0:(t=i.targetEntityType)===null||t===void 0?void 0:(e=t.annotations)===null||e===void 0?void 0:(a=e.Common)===null||a===void 0?void 0:a.SemanticKey;return(l=u===null||u===void 0?void 0:u.some(function(o){var i;return(o===null||o===void 0?void 0:(i=o.$target)===null||i===void 0?void 0:i.fullyQualifiedName)===n.fullyQualifiedName}))!==null&&l!==void 0?l:false};n.isSemanticKey=l;var u=function(n){return["Edm.Date","Edm.DateTime","Edm.DateTimeOffset"].indexOf(n.type)!==-1};n.hasDateType=u;var v=function(n){var o,i,t;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:(t=i.Label)===null||t===void 0?void 0:t.toString())||""};n.getLabel=v;var d=function(n){var o,i;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&i.SemanticObject)};n.hasSemanticObject=d;var r=function(n){return!!n&&n.type!==undefined&&n.type==="Path"};n.isPathExpression=r;var s=function(n){return!!n&&n.type!==undefined&&n.type==="PropertyPath"};n.isPropertyPathExpression=s;var m=function(n){return!!n&&n.type!==undefined&&n.type==="AnnotationPath"};n.isAnnotationPathExpression=m;var f=function(n){var o,i,t,e;return r(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Timezone)?(t=n.annotations)===null||t===void 0?void 0:(e=t.Common)===null||e===void 0?void 0:e.Timezone.$target:undefined};n.getAssociatedTimezoneProperty=f;var c=function(n){var o,i,t,e,a;return r(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Timezone)?n===null||n===void 0?void 0:(t=n.annotations)===null||t===void 0?void 0:(e=t.Common)===null||e===void 0?void 0:(a=e.Timezone)===null||a===void 0?void 0:a.path:undefined};n.getAssociatedTimezonePropertyPath=c;var y=function(n){var o,i,t,e;return r(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Text)?(t=n.annotations)===null||t===void 0?void 0:(e=t.Common)===null||e===void 0?void 0:e.Text.$target:undefined};n.getAssociatedTextProperty=y;var p=function(n){var o,i,t,e;return r(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.Unit)?(t=n.annotations)===null||t===void 0?void 0:(e=t.Measures)===null||e===void 0?void 0:e.Unit.$target:undefined};n.getAssociatedUnitProperty=p;var C=function(n){var o,i,t,e;return r(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.Unit)?(t=n.annotations)===null||t===void 0?void 0:(e=t.Measures)===null||e===void 0?void 0:e.Unit.path:undefined};n.getAssociatedUnitPropertyPath=C;var g=function(n){var o,i,t,e;return r(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.ISOCurrency)?(t=n.annotations)===null||t===void 0?void 0:(e=t.Measures)===null||e===void 0?void 0:e.ISOCurrency.$target:undefined};n.getAssociatedCurrencyProperty=g;var h=function(n){var o,i,t,e;return r(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.ISOCurrency)?(t=n.annotations)===null||t===void 0?void 0:(e=t.Measures)===null||e===void 0?void 0:e.ISOCurrency.path:undefined};n.getAssociatedCurrencyPropertyPath=h;var P=function(n){var o,i,t,e;return r((o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Text)?(t=n.annotations)===null||t===void 0?void 0:(e=t.Common)===null||e===void 0?void 0:e.Text.path:undefined};n.getAssociatedTextPropertyPath=P;var T=function(n){var o,i,t,e,a,l,u;var v=((o=n.annotations)===null||o===void 0?void 0:(i=o.UI)===null||i===void 0?void 0:(t=i.DataFieldDefault)===null||t===void 0?void 0:(e=t.Target)===null||e===void 0?void 0:(a=e.$target)===null||a===void 0?void 0:(l=a.TargetValue)===null||l===void 0?void 0:l.toString())||((u=n.TargetValue)===null||u===void 0?void 0:u.toString());return v?v:undefined};n.getTargetValueOnDataPoint=T;var O=function(n){var o,i,t,e,a,l,u,v;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&i.ValueList)||!!((t=n.annotations)!==null&&t!==void 0&&(e=t.Common)!==null&&e!==void 0&&e.ValueListReferences)||!!((a=n.annotations)!==null&&a!==void 0&&(l=a.Common)!==null&&l!==void 0&&l.ValueListWithFixedValues)||!!((u=n.annotations)!==null&&u!==void 0&&(v=u.Common)!==null&&v!==void 0&&v.ValueListMapping)};n.hasValueHelp=O;var V=function(n){var o,i,t;return!!(n!==null&&n!==void 0&&(o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&(t=i.ValueListWithFixedValues)!==null&&t!==void 0&&t.valueOf())};n.hasValueHelpWithFixedValues=V;var x=function(n){var o,i;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.ValueListForValidation)!==undefined};n.hasValueListForValidation=x;var S=function(n){var o,i;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Timezone)!==undefined};n.hasTimezone=S;var U=function(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&(t=i.IsUnit)!==null&&t!==void 0&&t.valueOf())};n.isUnit=U;var M=function(n){var o,i;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.Unit)!==undefined};n.hasUnit=M;var A=function(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&(t=i.IsCurrency)!==null&&t!==void 0&&t.valueOf())};n.isCurrency=A;var I=function(n){var o,i;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.ISOCurrency)!==undefined};n.hasCurrency=I;var L=function(n){var o,i,t;return(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:(t=i.Unit)===null||t===void 0?void 0:t.toString())==="%"};n.hasStaticPercentUnit=L;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/SemanticObjectHelper", [],function(){"use strict";var n={};var t=function(n){var t=n===null||n===void 0?void 0:n.match(/{(.*?)}/);if(t!==null&&t!==void 0&&t.length&&t.length>1){return t[1]}return null};n.getDynamicPathFromSemanticObject=t;var r=function(n){var t;var r=(t=n.annotations)===null||t===void 0?void 0:t.Common;if(r){for(var a in r){var i;if(((i=r[a])===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.Common.v1.SemanticObject"){return true}}}return false};n.hasSemanticObject=r;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/UIFormatters", ["sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper"],function(e,t,n,a,i,r,o,l){"use strict";var s={};var u=l.isProperty;var d=l.isPathExpression;var v=l.isKey;var f=l.isImmutable;var c=l.isComputed;var p=l.hasValueHelp;var g=l.getAssociatedUnitProperty;var m=l.getAssociatedCurrencyProperty;var y=o.isRequiredExpression;var b=o.isReadOnlyExpression;var h=o.isNonEditableExpression;var O=o.isDisabledExpression;var x=i.isPathUpdatable;var D=i.getTargetObjectPath;var E=i.getRelativePaths;var I=i.getContextRelativeTargetObjectPath;var M=a.pathInModel;var $=a.or;var T=a.notEqual;var C=a.not;var V=a.isTruthy;var P=a.isConstant;var S=a.ifElse;var U=a.getExpressionFromAnnotation;var j=a.formatResult;var A=a.equal;var F=a.constant;var q=a.compileExpression;var N=a.and;var R=a.addTypeInformation;var B=t.getInvolvedDataModelObjects;var L=t.convertMetaModelContext;var W=e.UI;var w=e.singletonPathVisitor;function k(e){return K(e)||z(e)||_(e)||H()}function H(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){if(!e)return;if(typeof e==="string")return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}function z(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function K(e){if(Array.isArray(e))return G(e)}function G(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,a=new Array(t);n<t;n++){a[n]=e[n]}return a}var Y=r.EDM_TYPE_MAPPING;s.EDM_TYPE_MAPPING=Y;var J=function(e){return r.getDisplayMode(e.targetObject,e)};s.getDisplayMode=J;var Q=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=arguments.length>2?arguments[2]:undefined;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:W.IsEditable;return X(e,t,n,true,a)};s.getEditableExpressionAsObject=Q;var X=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=arguments.length>2?arguments[2]:undefined;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:W.IsEditable;if(!e||typeof e==="string"){return q(false)}var r=F(true);if(t!==null){r=S(h(t),false,i)}var o=d(e)&&e.$target||e;var l=E(n);var s=x(n,{propertyPath:e,pathVisitor:function(e,t){return w(e,n.convertedTypes,t)}});var u=S($(C(s),c(o),v(o),f(o),h(o,l)),S($(c(o),h(o,l)),false,W.IsTransientBinding),i);if(a){return N(u,r)}return q(N(u,r))};s.getEditableExpression=X;var Z=function(e,t){var n;var a=D(e);var i=M("/collaboration/activities".concat(a),"internal");var r=e===null||e===void 0?void 0:(n=e.targetEntityType)===null||n===void 0?void 0:n.keys;var o=[];r===null||r===void 0?void 0:r.forEach(function(e){var t=M(e.name);o.push(t)});return j([i].concat(o),t)};s.getCollaborationExpression=Z;var ee=function(e,t,n){return te(e,t,true,n)};s.getEnabledExpressionAsObject=ee;var te=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var a=arguments.length>3?arguments[3]:undefined;if(!e||typeof e==="string"){return q(true)}var i;if(a){i=E(a)}var r=F(true);if(t!==null){r=S(O(t),false,true)}var o=d(e)&&e.$target||e;var l=S(O(o,i),false,true);if(n){return N(l,r)}return q(N(l,r))};s.getEnabledExpression=te;var ne=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:W.IsEditable;if(!e||typeof e==="string"){return"Display"}var o=d(e)&&e.$target||e;var l=E(t);var s=Q(e,i,t,r);var u=ee(e,i,t);var v=m(o);var f=v||g(o);var p=F("Editable");if(f){var y=b(f,l);p=S($(y,c(f),n),S(!P(y)&&y,"EditableReadOnly","EditableDisplay"),"Editable")}var h=$(b(o,l),b(i));var O=S(u,S(s,p,S(N(!P(h)&&h,r),"ReadOnly","Display")),S(r,"Disabled","Display"));if(a){return O}return q(O)};s.getEditMode=ne;var ae=function(e){var t,n,a,i;var r=e.targetObject;var o=(t=r.annotations)===null||t===void 0?void 0:(n=t.Measures)===null||n===void 0?void 0:n.ISOCurrency;var l=o?o:(a=r.annotations)===null||a===void 0?void 0:(i=a.Measures)===null||i===void 0?void 0:i.Unit;if(l){return q($(V(U(l)),C(W.IsTotal)))}else{return q(F(true))}};s.hasValidAnalyticalCurrencyOrUnit=ae;var ie=function(e,t,n){var a=d(e)&&e.$target||e;var i=m(a)||g(a);if(!i){return q(n)}var r=b(i);var o=N($(!P(r),C(r)),C(c(i)));return q(S(o,t,n))};s.ifUnitEditable=ie;var re=function(e,t,n){var a=d(e)&&e.$target||e;return p(a)?q(t):q(S(A(n,"Editable"),"Value",t))};s.getFieldDisplay=re;var oe=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var a=t;if(e._type==="Property"){var i=Y[e.type];if(i){var r,o,l;a.type=i.type;if(i.constraints&&!n){var s,u,d,v;a.constraints={};if(i.constraints.$Scale&&e.scale!==undefined){a.constraints.scale=e.scale}if(i.constraints.$Precision&&e.precision!==undefined){a.constraints.precision=e.precision}if(i.constraints.$MaxLength&&e.maxLength!==undefined){a.constraints.maxLength=e.maxLength}if(e.nullable===false){a.constraints.nullable=e.nullable}if(i.constraints["@Org.OData.Validation.V1.Minimum/$Decimal"]&&((s=e.annotations)===null||s===void 0?void 0:(u=s.Validation)===null||u===void 0?void 0:u.Minimum)!==undefined&&!isNaN(e.annotations.Validation.Minimum)){a.constraints.minimum="".concat(e.annotations.Validation.Minimum)}if(i.constraints["@Org.OData.Validation.V1.Maximum/$Decimal"]&&((d=e.annotations)===null||d===void 0?void 0:(v=d.Validation)===null||v===void 0?void 0:v.Maximum)!==undefined&&!isNaN(e.annotations.Validation.Maximum)){a.constraints.maximum="".concat(e.annotations.Validation.Maximum)}}else if(e.nullable===false){a.constraints={};a.constraints.nullable=e.nullable}if((a===null||a===void 0?void 0:(r=a.type)===null||r===void 0?void 0:r.indexOf("sap.ui.model.odata.type.Int"))===0){if(!a.formatOptions){a.formatOptions={}}a.formatOptions=Object.assign(a.formatOptions,{parseAsString:false,emptyString:""})}if(a.type==="sap.ui.model.odata.type.String"){var f,c,p;if(!a.formatOptions){a.formatOptions={}}a.formatOptions.parseKeepsEmptyString=true;if((f=i.constraints)!==null&&f!==void 0&&f["@com.sap.vocabularies.Common.v1.IsDigitSequence"]&&(c=e.annotations)!==null&&c!==void 0&&(p=c.Common)!==null&&p!==void 0&&p.IsDigitSequence){a.constraints.isDigitSequence=true}}if((a===null||a===void 0?void 0:(o=a.type)===null||o===void 0?void 0:o.indexOf("sap.ui.model.odata.type.Double"))===0){if(!a.formatOptions){a.formatOptions={}}a.formatOptions=Object.assign(a.formatOptions,{parseAsString:false,emptyString:""})}if((a===null||a===void 0?void 0:(l=a.type)===null||l===void 0?void 0:l.indexOf("sap.ui.model.odata.type.DateTimeOffset"))===0){a.constraints.V4=true}}}return a};s.formatWithTypeInformation=oe;var le=function(e,t){var n,a,i,r;var o=Y[e===null||e===void 0?void 0:e.type]||(t?Y[t]:undefined);var l={type:o.type,constraints:{},formatOptions:{}};if(u(e)){var s,d,v,f,c,p,g,m,y,b,h,O,x,D,E,I,M,$;l.constraints={scale:(s=o.constraints)!==null&&s!==void 0&&s.$Scale?e.scale:undefined,precision:(d=o.constraints)!==null&&d!==void 0&&d.$Precision?e.precision:undefined,maxLength:(v=o.constraints)!==null&&v!==void 0&&v.$MaxLength?e.maxLength:undefined,nullable:(f=o.constraints)!==null&&f!==void 0&&f.$Nullable?e.nullable:undefined,minimum:(c=o.constraints)!==null&&c!==void 0&&c["@Org.OData.Validation.V1.Minimum/$Decimal"]&&!isNaN((p=e.annotations)===null||p===void 0?void 0:(g=p.Validation)===null||g===void 0?void 0:g.Minimum)?"".concat((m=e.annotations)===null||m===void 0?void 0:(y=m.Validation)===null||y===void 0?void 0:y.Minimum):undefined,maximum:(b=o.constraints)!==null&&b!==void 0&&b["@Org.OData.Validation.V1.Maximum/$Decimal"]&&!isNaN((h=e.annotations)===null||h===void 0?void 0:(O=h.Validation)===null||O===void 0?void 0:O.Maximum)?"".concat((x=e.annotations)===null||x===void 0?void 0:(D=x.Validation)===null||D===void 0?void 0:D.Maximum):undefined,isDigitSequence:l.type==="sap.ui.model.odata.type.String"&&(E=o.constraints)!==null&&E!==void 0&&E["@com.sap.vocabularies.Common.v1.IsDigitSequence"]&&(I=e.annotations)!==null&&I!==void 0&&(M=I.Common)!==null&&M!==void 0&&M.IsDigitSequence?true:undefined,V4:($=o.constraints)!==null&&$!==void 0&&$.$V4?true:undefined}}l.formatOptions={parseAsString:(l===null||l===void 0?void 0:(n=l.type)===null||n===void 0?void 0:n.indexOf("sap.ui.model.odata.type.Int"))===0||(l===null||l===void 0?void 0:(a=l.type)===null||a===void 0?void 0:a.indexOf("sap.ui.model.odata.type.Double"))===0?false:undefined,emptyString:(l===null||l===void 0?void 0:(i=l.type)===null||i===void 0?void 0:i.indexOf("sap.ui.model.odata.type.Int"))===0||(l===null||l===void 0?void 0:(r=l.type)===null||r===void 0?void 0:r.indexOf("sap.ui.model.odata.type.Double"))===0?"":undefined,parseKeepsEmptyString:l.type==="sap.ui.model.odata.type.String"?true:undefined};return l};s.getTypeConfig=le;var se=function(e,t,a,i){var r,o,l,s,u;var d=e.targetObject;var v=(r=d.annotations)===null||r===void 0?void 0:(o=r.Measures)===null||o===void 0?void 0:o.Unit;var f=E(e);t=oe(d,t);if(((l=v)===null||l===void 0?void 0:l.toString())==="%"){if((i===null||i===void 0?void 0:i.showMeasure)===false){return t}return j([t],n.formatWithPercentage)}var c=v?"sap.ui.model.odata.type.Unit":"sap.ui.model.odata.type.Currency";v=v?v:(s=d.annotations)===null||s===void 0?void 0:(u=s.Measures)===null||u===void 0?void 0:u.ISOCurrency;var p=v.$target?oe(v.$target,U(v,f),a):U(v,f);return R([t,p],c,undefined,i)};s.getBindingWithUnitOrCurrency=se;var ue=function(e){var t,n,a,i,r;var o=e.targetObject;var l=(t=o.annotations)===null||t===void 0?void 0:(n=t.Measures)===null||n===void 0?void 0:n.Unit;if(((a=l)===null||a===void 0?void 0:a.toString())==="%"){return F("%")}var s=E(e);var u=l?"sap.ui.model.odata.type.Unit":"sap.ui.model.odata.type.Currency";l=l?l:(i=o.annotations)===null||i===void 0?void 0:(r=i.Measures)===null||r===void 0?void 0:r.ISOCurrency;var d=l.$target?oe(l.$target,U(l,s)):U(l,s);var v=M(I(e));v=oe(o,v,true);return R([v,d],u,undefined,{parseKeepsEmptyString:true,emptyString:"",showNumber:false})};s.getBindingForUnitOrCurrency=ue;var de=function(e,t){var n,a;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var o=e.targetObject;var l=(n=o.annotations)===null||n===void 0?void 0:(a=n.Common)===null||a===void 0?void 0:a.Timezone;var s=E(e);t=oe(o,t);var u="sap.fe.core.type.DateTimeWithTimezone";var d=l.$target?oe(l.$target,U(l,s),i):U(l,s);var v;if(r){v={showTimezoneForEmptyValues:false}}return R([t,d],u,undefined,v)};s.getBindingWithTimezone=de;var ve=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Begin";var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"Begin";return q(S(A(e,"Display"),t,n))};s.getAlignmentExpression=ve;var fe=function(e,t){if(t&&t.context){return L(t.context)}return null};fe.requiresIContext=true;s.getConverterContext=fe;var ce=function(e,t){if(t&&t.context){return B(t.context)}return null};ce.requiresIContext=true;s.getDataModelObjectPath=ce;var pe=function(e){var t;if((t=e.navigationProperties)!==null&&t!==void 0&&t.length){var n=(e===null||e===void 0?void 0:e.navigationProperties.findIndex(function(t){if(t.isCollection){var n,a;if((n=e.contextLocation)!==null&&n!==void 0&&(a=n.navigationProperties)!==null&&a!==void 0&&a.length){var i;return((i=e.contextLocation)===null||i===void 0?void 0:i.navigationProperties.findIndex(function(e){return e.name===t.name}))===-1}return true}return false}))>-1;if(n){return true}}return false};s.isCollectionField=pe;var ge=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return me(e,t,n,true)};s.getRequiredExpressionAsObject=ge;var me=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};var r=arguments.length>5?arguments[5]:undefined;var o;var l=i.requiredPropertiesFromInsertRestrictions||[];var s=i.requiredPropertiesFromUpdateRestrictions||[];if(!e||typeof e==="string"){o=F(false)}else{var u;if(r){u=E(r)}var v=F(true);if(t!==null){v=y(t)}var f=F(false);var c=F(false);var p=d(e)&&e.$target||e;var g=y(p,u);var m=n||W.IsEditable;if(l.length&&l.includes(e.name)){f=N(F(true),W.IsCreateMode)}if(s.length&&s.includes(e.name)){c=N(F(true),T(W.IsCreateMode,true))}o=$(N($(g,v),m),f,c)}if(a){return o}return q(o)};s.getRequiredExpression=me;var ye=function(e){var t,n;var a=e===null||e===void 0?void 0:(t=e.targetObject)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.Data;var i=Object.keys(a);var r=[];var o;var l=[];for(var s=0,u=i;s<u.length;s++){var d=u[s];if(a[d]["$Type"]&&a[d]["$Type"].indexOf("DataField")>-1){r.push(a[d])}}for(var v=0,f=r;v<f.length;v++){var c=f[v];switch(c.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":if(typeof c.Value==="object"){o=c.Value.$target}break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(c.Target.$target){if(c.Target.$target.$Type==="com.sap.vocabularies.UI.v1.DataField"||c.Target.$target.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){if(typeof c.Target.$target.Value==="object"){o=c.Target.$target.Value.$target}}else{if(typeof c.Target==="object"){o=c.Target.$target}break}}break}l.push(ge(o,c,false))}return q($.apply(void 0,k(l)))};s.getRequiredExpressionForConnectedDataField=ye;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/DateTimeWithTimezone", ["sap/fe/core/helpers/ClassSupport","sap/ui/model/odata/type/DateTimeWithTimezone"],function(e,t){"use strict";var o,r;var n=e.defineUI5Class;function i(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}function u(e,t){u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return u(e,t)}var a=(o=n("sap.fe.core.type.DateTimeWithTimezone"),o(r=function(e){i(t,e);function t(t,o){var r;var n;n=e.call(this,t,o)||this;n.bShowTimezoneForEmptyValues=(r=t===null||t===void 0?void 0:t.showTimezoneForEmptyValues)!==null&&r!==void 0?r:true;return n}var o=t.prototype;o.formatValue=function t(o,r){var n=o&&o[0];if(n===undefined||!n&&!this.bShowTimezoneForEmptyValues){return null}return e.prototype.formatValue.call(this,o,r)};return t}(t))||r);return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/Email", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/Core","sap/ui/model/odata/type/String","sap/ui/model/ValidateException"],function(t,e,r,o){"use strict";var a,p;var n=t.defineUI5Class;function i(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;s(t,e)}function s(t,e){s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,r){e.__proto__=r;return e};return s(t,e)}var u=/^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$/;var c=(a=n("sap.fe.core.type.Email"),a(p=function(t){i(r,t);function r(){return t.apply(this,arguments)||this}var a=r.prototype;a.validateValue=function r(a){if(!u.test(a)){throw new o(e.getLibraryResourceBundle("sap.fe.core").getText("T_EMAILTYPE_INVALID_VALUE"))}t.prototype.validateValue.call(this,a)};return r}(r))||p);return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/TypeUtil", ["sap/base/util/merge","sap/ui/mdc/enum/BaseType","sap/ui/mdc/odata/TypeUtil"],function(e,a,t){"use strict";var s=Object.assign({},t);s.getBaseType=function(e,r,u){switch(e){case"sap.ui.model.odata.type.Date":return a.Date;case"sap.ui.model.odata.type.TimeOfDay":return a.Time;case"sap.ui.model.odata.type.Unit":case"sap.ui.model.odata.type.Currency":if(!r||(!r.hasOwnProperty("showMeasure")||r.showMeasure)&&(!r.hasOwnProperty("showNumber")||r.showNumber)){return a.Unit}else if(!r.hasOwnProperty("showNumber")||r.showNumber){return a.Numeric}else{return a.String}default:return t.getBaseType.call(s,e,r,u)}};s.getDataTypeClassName=function(e){var a={"Edm.Date":"sap.ui.model.odata.type.Date","Edm.TimeOfDay":"sap.ui.model.odata.type.TimeOfDay"};if(a[e]){e=a[e]}else{e=t.getDataTypeClassName.call(s,e)}return e};s.getDataTypeInstance=function(a,t,r){switch(a){case"sap.ui.model.odata.type.DateTimeOffset":case"Edm.DateTimeOffset":r=e({},r||{});r.V4=true;break;default:}var u=s.getDataTypeClass(a);return new u(t,r)};return s},false);
sap.ui.require.preload({
	"sap/fe/core/controllerextensions/collaboration/ManageDialog.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/core/controllerextensions/collaboration/CollaborationCommon\'\n\t}"\n\tcore:require="{COMMON: \'sap/fe/core/controllerextensions/collaboration/CollaborationCommon\'}"\n><Dialog\n\t\tid="dialog"\n\t\ttitle="{= COMMON.getText(\'C_COLLABORATIONDRAFT_INVITATION_DIALOG\') + \' \' + ${contextPath>./@com.sap.vocabularies.UI.v1.HeaderInfo/TypeName} + ${contextPath>./@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value@@MODEL.format} }"\n\t\tbinding="{internal>collaboration}"\n\t><VBox class="sapUiMediumMargin"><VBox width="40em"><MessageStrip\n\t\t\t\t\ttext="{= COMMON.getText(\'C_COLLABORATIONDRAFT_INVITATION_MESSAGESTRIP\') }"\n\t\t\t\t\ttype="Information"\n\t\t\t\t\tshowIcon="true"\n\t\t\t\t\tshowCloseButton="false"\n\t\t\t\t\tclass="sapUiMediumMarginBottom"\n\t\t\t\t/></VBox><Label text="{= COMMON.getText(\'C_COLLABORATIONDRAFT_INVITATION_INPUT_LABEL\') }" /><HBox class="sapUiMediumMarginBottom" width="100%" id="newUserBox"><mdc:Field\n\t\t\t\t\tid="UserID"\n\t\t\t\t\tvalue="{internal>UserID}"\n\t\t\t\t\tadditionalValue="{internal>UserDescription}"\n\t\t\t\t\tdisplay="DescriptionValue"\n\t\t\t\t\twidth="37em"\n\t\t\t\t\trequired="true"\n\t\t\t\t\tfieldHelp="userValueHelp"\n\t\t\t\t\tplaceholder="{= COMMON.getText(\'C_COLLABORATIONDRAFT_INVITATION_INPUT_PLACEHOLDER\') }"\n\t\t\t\t\tchange=".addUserChanged"\n\t\t\t\t><mdc:dependents><template:with path="contextPath>DraftAdministrativeData/DraftAdministrativeUser/UserID" var="vhProperty"><macro:ValueHelp _flexId="userValueHelp" property="{vhProperty>}" /></template:with></mdc:dependents></mdc:Field><Button\n\t\t\t\t\tclass="sapUiTinyMarginBegin"\n\t\t\t\t\ttext="{= COMMON.getText(\'C_COLLABORATIONDRAFT_INVITATION_DIALOG_ADD_USER\') }"\n\t\t\t\t\tpress=".addUser"\n\t\t\t\t/></HBox><Table id="userList" width="40em" items="{internal>invitedUsers}"><headerToolbar><Toolbar width="100%"><content><Title text="{= COMMON.getText(\'C_COLLABORATIONDRAFT_INVITATION_TABLE_TOOLBAR_TITLE\') }" level="H3" /><ToolbarSpacer /><SearchField width="15em" /></content></Toolbar></headerToolbar><columns><Column width="3em" /><Column width="20em"><Text text="{= COMMON.getText(\'C_COLLABORATIONDRAFT_INVITATION_TABLE_USER_COLUMN\') }" /></Column><Column width="17em"><Text text="{= COMMON.getText(\'C_COLLABORATIONDRAFT_INVITATION_TABLE_USER_STATUS_COLUMN\') }" /></Column><Column width="5em" /></columns><items><ColumnListItem vAlign="Middle" highlight="{= ${internal>transient} ? \'Information\' : \'None\' }"><cells><Avatar displaySize="XS" backgroundColor="Accent{internal>color}" initials="{internal>initials}" /><Text text="{internal>name}" /><ObjectStatus\n\t\t\t\t\t\t\t\tstate="{path : \'internal>status\', formatter: \'.formatUserStatusColor\'}"\n\t\t\t\t\t\t\t\ttext="{path : \'internal>status\', formatter: \'.formatUserStatus\'}"\n\t\t\t\t\t\t\t/><HBox><Button\n\t\t\t\t\t\t\t\t\ticon="sap-icon://decline"\n\t\t\t\t\t\t\t\t\ttype="Transparent"\n\t\t\t\t\t\t\t\t\tpress=".removeUser"\n\t\t\t\t\t\t\t\t\tvisible="{= !!${internal>transient} }"\n\t\t\t\t\t\t\t\t/></HBox></cells></ColumnListItem></items></Table></VBox><beginButton><Button text="{= COMMON.getText(\'C_COLLABORATIONDRAFT_INVITATION_DIALOG_CONFIRMATION\') }" press=".share" type="Emphasized" /></beginButton><endButton><Button text="{= COMMON.getText(\'C_COLLABORATIONDRAFT_INVITATION_DIALOG_CANCEL\') }" press=".close" /></endButton></Dialog></core:FragmentDefinition>\n',
	"sap/fe/core/controllerextensions/collaboration/UserDetails.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:f="sap.f" xmlns:core="sap.ui.core"><ResponsivePopover id="userDetails" showHeader="false" class="sapUiContentPadding" placement="Bottom"><HBox><f:Avatar initials="{internal>initials}" displaySize="S" /><VBox><Label class="sapUiMediumMarginBegin" text="{internal>name}" /><Label class="sapUiMediumMarginBegin" text="{internal>id}" /></VBox></HBox></ResponsivePopover></core:FragmentDefinition>\n',
	"sap/fe/core/controls/ActionParameterDialog.fragment.xml":'\n<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcField="sap.ui.mdc.field"\n\txmlns:form="sap.ui.layout.form"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tFE_MODEL: \'sap/fe/core/helpers/ModelHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\'\n\t}"\n><form:SimpleForm binding="{$Parameter}"><template:repeat list="{action>$Parameter}" var="parameter"><template:with path="parameter>" helper="COMMON.gotoActionParameter" var="actionParameter"><template:if test="{= !${action>$IsBound} || ${parameter>$Name} !== ${action>$Parameter/0/$Name} }"><Label\n\t\t\t\t\t\tunittest:id="ActionParameterDialogLabelExpressionTest"\n\t\t\t\t\t\ttext="{= ${actionParameter>@com.sap.vocabularies.Common.v1.Label} ? ${actionParameter>@com.sap.vocabularies.Common.v1.Label} : ${parameter>$Name}}"\n\t\t\t\t\t/><template:if test="{=  !${parameter>$isCollection} }"><template:then><mdc:Field\n\t\t\t\t\t\t\t\tdelegate="{name:\'sap/fe/macros/field/FieldBaseDelegate\', payload:{retrieveTextFromValueList:true}}"\n\t\t\t\t\t\t\t\tunittest:id="ActionParameterDialogFieldExpressionTest"\n\t\t\t\t\t\t\t\tid="{= ID.generate([\'APD_\', ${parameter>$Name}]) }"\n\t\t\t\t\t\t\t\tvalue="{parameter>@@MODEL.format}"\n\t\t\t\t\t\t\t\tdisplay="{actionParameter>@@FIELD.getAPDialogDisplayFormat}"\n\t\t\t\t\t\t\t\teditMode="{actionParameter>@@COMMON.getParameterEditMode}"\n\t\t\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\t\t\tmultipleLines="{= ${actionParameter>@com.sap.vocabularies.UI.v1.MultiLineText} ? (${actionParameter>@com.sap.vocabularies.UI.v1.MultiLineText} !== false)  : undefined}"\n\t\t\t\t\t\t\t\trequired="{= FIELD.isRequired(${actionParameter>@@FIELD.fieldControl}, \'Editable\')}"\n\t\t\t\t\t\t\t\tchange="{= \'.handleChange($event, \\\'\' + ${parameter>$Name} + \'\\\')\' }"\n\t\t\t\t\t\t\t\tfieldHelp="{= FIELD.getActionParameterDialogFieldHelp(${actionParameter>@}, ${actionName>@sapui.name}, ${parameter>$Name}) }"\n\t\t\t\t\t\t\t\tvisible="{= (${actionParameter>$Name} === \'ResultIsActiveEntity\') ? false : ${actionParameter>@com.sap.vocabularies.UI.v1.Hidden@@FIELD.getActionParameterVisibility} }"\n\t\t\t\t\t\t\t><template:if test="{= COMMON.useFieldValueHelp() }"><template:then><core:Fragment fragmentName="sap.fe.core.controls.ActionParameterDialogFieldValueHelp" type="XML" /></template:then><template:else><core:Fragment fragmentName="sap.fe.core.controls.ActionParameterDialogValueHelp" type="XML" /></template:else></template:if></mdc:Field></template:then><template:else><mdc:MultiValueField\n\t\t\t\t\t\t\t\tid="{= ID.generate([\'APD_\', ${parameter>$Name}]) }"\n\t\t\t\t\t\t\t\titems="{actionParameter>@@FE_MODEL.getActionParameterItemsModelPath}"\n\t\t\t\t\t\t\t\tdelegate="{name: \'sap/fe/core/controls/MultiValueParameterDelegate\'}"\n\t\t\t\t\t\t\t\tunittest:id="ActionParameterDialogMultiValueFieldExpressionTest"\n\t\t\t\t\t\t\t\tdisplay="{actionParameter>@@FIELD.getAPDialogDisplayFormat}"\n\t\t\t\t\t\t\t\teditMode="{actionParameter>@@COMMON.getParameterEditMode}"\n\t\t\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\t\t\tmultipleLines="{= ${actionParameter>@com.sap.vocabularies.UI.v1.MultiLineText} ? (${actionParameter>@com.sap.vocabularies.UI.v1.MultiLineText} !== false)  : undefined}"\n\t\t\t\t\t\t\t\trequired="{= FIELD.isRequired(${actionParameter>@@FIELD.fieldControl}, \'Editable\')}"\n\t\t\t\t\t\t\t\tfieldHelp="{= FIELD.getActionParameterDialogFieldHelp(${actionParameter>@}, ${actionName>@sapui.name}, ${parameter>$Name}) }"\n\t\t\t\t\t\t\t\tchange="{= \'.handleChange($event, \\\'\' + ${parameter>$Name} + \'\\\')\' }"\n\t\t\t\t\t\t\t\tvisible="{actionParameter>@com.sap.vocabularies.UI.v1.Hidden@@FIELD.getActionParameterVisibility}"\n\t\t\t\t\t\t\t><mdcField:MultiValueFieldItem\n\t\t\t\t\t\t\t\t\tkey="{path: \'mvfview>Key\', type:\'sap.ui.model.type.String\'}"\n\t\t\t\t\t\t\t\t\tdescription="{mvfview>Desc}"\n\t\t\t\t\t\t\t\t/><template:if test="{= COMMON.useFieldValueHelp() }"><template:then><core:Fragment fragmentName="sap.fe.core.controls.ActionParameterDialogFieldValueHelp" type="XML" /></template:then><template:else><core:Fragment fragmentName="sap.fe.core.controls.ActionParameterDialogValueHelp" type="XML" /></template:else></template:if></mdc:MultiValueField></template:else></template:if></template:if></template:with></template:repeat></form:SimpleForm></core:FragmentDefinition>\n',
	"sap/fe/core/controls/ActionParameterDialogFieldValueHelp.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcField="sap.ui.mdc.field"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\ttemplate:require="{\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\'\n\t}"\n><template:if test="{= FIELD.hasValueHelpAnnotation(${actionParameter>@}) }"><mdc:dependents><mdcField:FieldValueHelp\n\t\t\t\tunittest:id="ActionParameterDialogValuehelpExpressionTest"\n\t\t\t\tid="{= ID.generate([${actionName>@sapui.name},${parameter>$Name}]) }"\n\t\t\t\tdelegate="{= FIELD.getFieldValueHelpDelegate(${action>$IsBound}, ${entitySet>@@COMMON.getContextPath}, ${actionName>@sapui.name}, ${parameter>$Name}) }"\n\t\t\t\tnoDialog="{= ${actionParameter>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} ? (${actionParameter>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} !== false) : false}"\n\t\t\t\tvalidateInput="{= ValueHelpTemplating.requiresValidation(${actionParameter>@@Property.getProperty})}"\n\t\t\t\tcaseSensitive="{= ValueHelpTemplating.useCaseSensitiveFilterRequests(${actionParameter>@@Property.getPropertyObjectPath}, ${actionParameter>/@Org.OData.Capabilities.V1.FilterFunctions})}"\n\t\t\t><mdcField:dialogContent><mdcField:FieldValueHelpMdcTableWrapper /></mdcField:dialogContent><mdcField:suggestContent><mdcField:FieldValueHelpMTableWrapper /></mdcField:suggestContent></mdcField:FieldValueHelp></mdc:dependents></template:if></core:FragmentDefinition>\n',
	"sap/fe/core/controls/ActionParameterDialogValueHelp.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\'\n\t}"\n><template:if test="{= FIELD.hasValueHelpAnnotation(${actionParameter>@}) }"><mdc:dependents><mdc:ValueHelp\n\t\t\t\tunittest:id="ActionParameterDialogValuehelpExpressionTest"\n\t\t\t\tid="{= ID.generate([${actionName>@sapui.name},${parameter>$Name}]) }"\n\t\t\t\tdelegate="{= FIELD.getValueHelpDelegate(${action>$IsBound}, ${entitySet>@@COMMON.getContextPath}, ${actionName>@sapui.name}, ${parameter>$Name}) }"\n\t\t\t\tvalidateInput="{= ValueHelpTemplating.requiresValidation(${actionParameter>@@Property.getProperty})}"\n\t\t\t><mdc:typeahead><mdcv:Popover><mdcvc:MTable\n\t\t\t\t\t\t\tid="{= ID.generate([${actionName>@sapui.name},${parameter>$Name}]) }::Popover::qualifier::"\n\t\t\t\t\t\t\tcaseSensitive="{= ValueHelpTemplating.useCaseSensitiveFilterRequests(${actionParameter>@@Property.getPropertyObjectPath}, ${actionParameter>/@Org.OData.Capabilities.V1.FilterFunctions})}"\n\t\t\t\t\t\t/></mdcv:Popover></mdc:typeahead><template:if\n\t\t\t\t\ttest="{= ${actionParameter>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} ? (${actionParameter>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} === \'true\') : true}"\n\t\t\t\t><mdc:dialog><mdcv:Dialog /></mdc:dialog></template:if></mdc:ValueHelp></mdc:dependents></template:if></core:FragmentDefinition>\n',
	"sap/fe/core/controls/ActionPartial.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\ttemplate:require="{\n                   macroLibrary: \'sap/fe/macros/macroLibrary\',\n                MESSAGE: \'sap/base/strings/formatMessage\'\n            }"\n\tcore:require="{MESSAGE: \'sap/base/strings/formatMessage\' }"\n><Dialog\n\t\tstate="Warning"\n\t\tshowHeader="true"\n\t\tcontentWidth="20rem"\n\t\tresizable="true"\n\t\tverticalScrolling="true"\n\t\thorizontalScrolling="true"\n\t\tclass="sapUiContentPadding"\n\t\ttitle="{label>title}"\n\t><template:if test="{= ${entityType>@com.sap.vocabularies.UI.v1.HeaderInfo}}"><template:then><template:with path="entityType>@com.sap.vocabularies.UI.v1.HeaderInfo" var="headerInfo"><VBox><Text\n\t\t\t\t\t\t\ttext="{= MESSAGE( ${totals>/total} === 1 ? ${sap.fe.i18n>C_ACTION_PARTIAL_FRAGMENT_SAPFE_BOUND_ACTION} : ${sap.fe.i18n>C_ACTION_PARTIAL_FRAGMENT_SAPFE_BOUND_ACTION_PLURAL}, ${totals>/total} ) }"\n\t\t\t\t\t\t/></VBox><List\n\t\t\t\t\t\titems="{path: \'notApplicable>/\', templateShareable: false}"\n\t\t\t\t\t\theaderText="{headerInfo>TypeNamePlural}"\n\t\t\t\t\t\tshowSeparators="None"\n\t\t\t\t\t\tunittest:id="ActionPartialHeaderInfoListHeaderText"\n\t\t\t\t\t><items><CustomListItem><HBox justifyContent="Start"><Text\n\t\t\t\t\t\t\t\t\t\ttext="{= \'{= !${notApplicable>\' + ${headerInfo>Title/Value/$Path} + \'} ? ${sap.fe.i18n>T_MESSAGE_ITEM_SUBTITLE_CREATION_ROW_INDICATOR} : ${notApplicable>\' + ${headerInfo>Title/Value/$Path} + \'}}\' }"\n\t\t\t\t\t\t\t\t\t\tclass="sapUiTinyMarginBegin sapUiTinyMarginTopBottom"\n\t\t\t\t\t\t\t\t\t\tunittest:id="ActionPartialHeaderInfoListItemText"\n\t\t\t\t\t\t\t\t\t/></HBox></CustomListItem></items></List></template:with></template:then><template:elseif test="{= !${entityType>@com.sap.vocabularies.UI.v1.HeaderInfo}}"><HBox justifyContent="SpaceAround"><Text\n\t\t\t\t\t\ttext="{= ${totals>/total} === 1 ? MESSAGE(${sap.fe.i18n>C_ACTION_PARTIAL_FRAGMENT_SAPFE_BOUND_ACTION_SEMANTICKEY}) :\n                MESSAGE(${sap.fe.i18n>C_ACTION_PARTIAL_FRAGMENT_SAPFE_BOUND_ACTION_SEMANTICKEY_PLURAL}, ${totals>/total})}"\n\t\t\t\t\t\tclass="sapUiTinyMarginBegin sapUiTinyMarginTopBottom"\n\t\t\t\t\t/></HBox><List\n\t\t\t\t\titems="{path: \'notApplicable>/\', templateShareable: false}"\n\t\t\t\t\tshowSeparators="None"\n\t\t\t\t\tunittest:id="ActionPartialSemanticKeyListHeaderText"\n\t\t\t\t><items><CustomListItem><HBox justifyContent="SpaceAround"><template:repeat list="{path:\'entityType>@com.sap.vocabularies.Common.v1.SemanticKey\'}" var="semanticKey"><template:with path="semanticKey>$PropertyPath" var="item"><Text\n\t\t\t\t\t\t\t\t\t\t\ttext="{= \'{notApplicable>\' + ${semanticKey>$PropertyPath} + \'}\'  }"\n\t\t\t\t\t\t\t\t\t\t\tclass="sapUiTinyMarginBegin sapUiTinyMarginTopBottom"\n\t\t\t\t\t\t\t\t\t\t\tunittest:id="ActionPartialSemanticKeyListItemText"\n\t\t\t\t\t\t\t\t\t\t/></template:with></template:repeat></HBox></CustomListItem></items></List></template:elseif></template:if><beginButton><Button text="{sap.fe.i18n>C_ACTION_PARTIAL_FRAGMENT_SAPFE_CONTINUE_ANYWAY}" press="onContinue" type="Emphasized" /></beginButton><endButton><Button text="{sap.fe.i18n>C_COMMON_SAPFE_CLOSE}" press="onClose" /></endButton></Dialog></core:FragmentDefinition>\n',
	"sap/fe/core/controls/DataLossOrDraftDiscard/DataLossDraft.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog title="{i18n>WARNING}" state="Warning" type="Message" contentWidth="22rem"><content><Text\n\t\t\t\ttext="{= !%{HasActiveEntity} ? ${sap.fe.i18n>ST_DRAFT_DATALOSS_POPUP_MESSAGE_CREATE} : ${sap.fe.i18n>ST_DRAFT_DATALOSS_POPUP_MESSAGE_SAVE} }"\n\t\t\t\twrapping="true"\n\t\t\t/><List\n\t\t\t\tmode="SingleSelectLeft"\n\t\t\t\tshowSeparators="None"\n\t\t\t\tincludeItemInSelection="true"\n\t\t\t\tbackgroundDesign="Transparent"\n\t\t\t\tclass="sapUiNoContentPadding"\n\t\t\t><customData><core:CustomData key="listIdentifier" value="draftDataLossOptionsList" /></customData><items><CustomListItem><customData><core:CustomData key="itemKey" value="draftDataLossOptionSave" /></customData><VBox class="sapUiTinyMargin"><Label\n\t\t\t\t\t\t\t\ttext="{= !%{HasActiveEntity} ? ${sap.fe.i18n>ST_DRAFT_DATALOSS_CREATE_ENTITY_RBL} : ${sap.fe.i18n>ST_DRAFT_DATALOSS_SAVE_DRAFT_RBL} }"\n\t\t\t\t\t\t\t\tdesign="Bold"\n\t\t\t\t\t\t\t/><Text\n\t\t\t\t\t\t\t\ttext="{= !%{HasActiveEntity} ? ${sap.fe.i18n>ST_DRAFT_DATALOSS_CREATE_ENTITY_TOL} : ${sap.fe.i18n>ST_DRAFT_DATALOSS_SAVE_DRAFT_TOL} }"\n\t\t\t\t\t\t\t/></VBox></CustomListItem><CustomListItem><customData><core:CustomData key="itemKey" value="draftDataLossOptionKeep" /></customData><VBox class="sapUiTinyMargin"><Label text="{i18n>ST_DRAFT_DATALOSS_KEEP_DRAFT_RBL}" design="Bold" /><Text text="{i18n>ST_DRAFT_DATALOSS_KEEP_DRAFT_TOL}" /></VBox></CustomListItem><CustomListItem><customData><core:CustomData key="itemKey" value="draftDataLossOptionDiscard" /></customData><VBox class="sapUiTinyMargin"><Label text="{i18n>ST_DRAFT_DATALOSS_DISCARD_DRAFT_RBL}" design="Bold" /><Text text="{i18n>ST_DRAFT_DATALOSS_DISCARD_DRAFT_TOL}" /></VBox></CustomListItem></items></List></content><buttons><Button text="{i18n>C_COMMON_DIALOG_OK}" type="Emphasized" press="onDataLossOk" /><Button text="{i18n>C_COMMON_DIALOG_CANCEL}" press="onDataLossCancel" /></buttons></Dialog></core:FragmentDefinition>\n',
	"sap/fe/core/controls/NonComputedVisibleKeyFieldsDialog.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcField="sap.ui.mdc.field"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\txmlns:form="sap.ui.layout.form"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><template:with path="fields>" var="allFields"><form:SimpleForm><template:repeat list="{allFields>}" var="key"><template:with path="key>" helper="COMMON.getPathToKey" var="immutableKey"><Label text="{= ${immutableKey>@com.sap.vocabularies.Common.v1.Label}}" /><mdc:Field\n\t\t\t\t\t\tdelegate="{name:\'sap/fe/macros/field/FieldBaseDelegate\', payload:{retrieveTextFromValueList:true}}"\n\t\t\t\t\t\tid="{= ID.generate([\'CreateDialog\', ${entitySet>@sapui.name}, ${immutableKey>@sapui.name}]) }"\n\t\t\t\t\t\tvalue="{immutableKey>@@MODEL.format}"\n\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\trequired="{= FIELD.getRequired(${immutableKey>@sapui.name}, ${immutableKey>@@UI.getDataModelObjectPath}, ${requiredProperties>})}"\n\t\t\t\t\t\tdisplay="{immutableKey>@@FIELD.getAPDialogDisplayFormat}"\n\t\t\t\t\t\tchange="{= \'.handleChange($event, \\\'\' + ${immutableKey>@sapui.name} + \'\\\')\' }"\n\t\t\t\t\t\tliveChange=".handleLiveChange"\n\t\t\t\t\t\tfieldHelp="{= ${immutableKey>@@Property.hasValueHelp} ? ID.generate([${immutableKey>@sapui.name},\'VH\']) : undefined }"\n\t\t\t\t\t\tcustomData:fieldName="{immutableKey>@sapui.name}"\n\t\t\t\t\t\teditMode="{= ${immutableKey>@com.sap.vocabularies.Common.v1.FieldControl} &amp;&amp; ${immutableKey>@com.sap.vocabularies.Common.v1.FieldControl/$EnumMember} &amp;&amp; ${immutableKey>@com.sap.vocabularies.Common.v1.FieldControl/$EnumMember} === \'com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly\' ? \'Display\' : \'Editable\'}"\n\t\t\t\t\t><template:if test="{immutableKey>@@Property.hasValueHelp}"><template:then><template:if test="{= COMMON.useFieldValueHelp() }"><template:then><mdc:dependents><mdcField:FieldValueHelp\n\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${immutableKey>@sapui.name},\'VH\']) }"\n\t\t\t\t\t\t\t\t\t\t\t\tdelegate="{= \'{name:\\\'sap/fe/macros/field/FieldValueHelpDelegate\\\', payload: {propertyPath: \\\'\'+${immutableKey>@@Property.getPropertyPath}+\'\\\' } }\' }"\n\t\t\t\t\t\t\t\t\t\t\t\tvalidateInput="{= ValueHelpTemplating.requiresValidation(${immutableKey>@@Property.getProperty})}"\n\t\t\t\t\t\t\t\t\t\t\t\tnoDialog="{= ${immutableKey>@@Property.hasValueHelpWithFixedValues}}"\n\t\t\t\t\t\t\t\t\t\t\t\tcaseSensitive="{= ValueHelpTemplating.useCaseSensitiveFilterRequests(${immutableKey>@@Property.getPropertyObjectPath}, ${immutableKey>/@Org.OData.Capabilities.V1.FilterFunctions})}"\n\t\t\t\t\t\t\t\t\t\t\t><mdcField:dialogContent><mdcField:FieldValueHelpMdcTableWrapper /></mdcField:dialogContent><mdcField:suggestContent><mdcField:FieldValueHelpMTableWrapper /></mdcField:suggestContent></mdcField:FieldValueHelp></mdc:dependents></template:then><template:else><mdc:dependents><mdc:ValueHelp\n\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${immutableKey>@sapui.name},\'VH\']) }"\n\t\t\t\t\t\t\t\t\t\t\t\tdelegate="{= FIELD.getValueHelpDelegateForNonComputedVisibleKeyField(${immutableKey>@@Property.getPropertyPath}) }"\n\t\t\t\t\t\t\t\t\t\t\t\tvalidateInput="{= ValueHelpTemplating.requiresValidation(${immutableKey>@@Property.getProperty})}"\n\t\t\t\t\t\t\t\t\t\t\t><mdc:typeahead><mdcv:Popover><mdcvc:MTable\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${immutableKey>@sapui.name},\'VH\']) }::Popover::qualifier::"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcaseSensitive="{= ValueHelpTemplating.useCaseSensitiveFilterRequests(${immutableKey>@@Property.getPropertyObjectPath}, ${immutableKey>/@Org.OData.Capabilities.V1.FilterFunctions})}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></mdcv:Popover></mdc:typeahead><template:if\n\t\t\t\t\t\t\t\t\t\t\t\t\ttest="{= ${immutableKey>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} ? (${immutableKey>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} === \'true\') : true}"\n\t\t\t\t\t\t\t\t\t\t\t\t><mdc:dialog><mdcv:Dialog /></mdc:dialog></template:if></mdc:ValueHelp></mdc:dependents></template:else></template:if></template:then></template:if></mdc:Field></template:with></template:repeat></form:SimpleForm></template:with></core:FragmentDefinition>\n',
	"sap/fe/core/controls/massEdit/MassEditDialog.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcField="sap.ui.mdc.field"\n\txmlns:control="sap.fe.core.controls"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:l="sap.ui.layout"\n\ttemplate:require="{\n\t\tMED: \'sap/fe/core/helpers/MassEditHelper\'\n\t}"\n><f:Form visible="{= MED.helpers.hasEditableFieldsBinding(${dataFieldModel>}, true) }"><f:layout><f:ResponsiveGridLayout\n\t\t\t\tlabelSpanXL="4"\n\t\t\t\tlabelSpanL="4"\n\t\t\t\tlabelSpanM="12"\n\t\t\t\tlabelSpanS="12"\n\t\t\t\tadjustLabelSpan="false"\n\t\t\t\temptySpanXL="0"\n\t\t\t\temptySpanL="0"\n\t\t\t\temptySpanM="0"\n\t\t\t\temptySpanS="0"\n\t\t\t\tcolumnsXL="2"\n\t\t\t\tcolumnsL="2"\n\t\t\t\tcolumnsM="1"\n\t\t\t\tsingleContainerFullSize="false"\n\t\t\t/></f:layout><f:formContainers><f:FormContainer><f:formElements><template:repeat list="{dataFieldModel>}" var="dataField"><f:FormElement\n\t\t\t\t\t\t\tlabel="{dataField>label}"\n\t\t\t\t\t\t\tvisible="{= \'{fieldsInfo>/values/\' + ${dataField>dataProperty} + \'/visible}\' }"\n\t\t\t\t\t\t><f:fields><template:with path="dataField>propertyInfo" var="property"><core:Fragment fragmentName="sap.fe.core.controls.massEdit.MassEditField" type="XML" /></template:with><template:if test="{dataField>unitInfo}"><template:with path="dataField>unitInfo" var="property"><core:Fragment fragmentName="sap.fe.core.controls.massEdit.MassEditField" type="XML" /></template:with></template:if></f:fields></f:FormElement></template:repeat></f:formElements></f:FormContainer></f:formContainers></f:Form><Text\n\t\tvisible="{= MED.helpers.hasEditableFieldsBinding(${dataFieldModel>}, false) }"\n\t\ttext="{fieldsInfo>/noFields}"\n\t\tclass="sapUiSmallMargin"\n\t/>\n\t/></core:FragmentDefinition>\n',
	"sap/fe/core/controls/massEdit/MassEditField.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcField="sap.ui.mdc.field"\n\txmlns:control="sap.fe.core.controls"\n\txmlns:macro="sap.fe.macros"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:l="sap.ui.layout"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\'\n\t}"\n><template:if test="{property>hasVH}"><template:then><template:with path="property>propertyPathForValueHelp" var="vhProperty"><mdc:Field\n\t\t\t\t\tdelegate="{name: \'sap/ui/mdc/odata/v4/FieldBaseDelegate\'}"\n\t\t\t\t\tid="{= ID.generate([\'MED_\', ${dataField>entitySet}, ${property>relativePath}, \'_MDCField\']) }"\n\t\t\t\t\tcore:require="{MassEditHandlers: \'sap/fe/core/controls/massEdit/MassEditHandlers\'}"\n\t\t\t\t\tchange="{= \'MassEditHandlers.handleMDCFieldChange($event, \\\'\' + ${property>relativePath} + \'\\\')\' }"\n\t\t\t\t\tlabel="{dataField>label}"\n\t\t\t\t\twidth="100%"\n\t\t\t\t\trequired="{dataField>isFieldRequired}"\n\t\t\t\t\tfieldHelp="{= ID.generate([\'MED_\', ${dataField>entitySet}, \'VHD\', ${vhProperty>@@Property.getRelativePropertyPath} ]) }"\n\t\t\t\t\tdisplay="{dataField>display}"\n\t\t\t\t\tvalue="{= ${property>relativePath} ? \'{path: \\\'\' + ${property>relativePath} + \'\\\', parameters: {$$noPatch: true} }\' : undefined }"\n\t\t\t\t\tadditionalValue="{= ${dataField>descriptionPath} ? \'{path: \\\'\' + ${dataField>descriptionPath} + \'\\\', parameters: {$$noPatch: true} }\' : undefined }"\n\t\t\t\t><mdc:layoutData><l:GridData\n\t\t\t\t\t\t\tspan="{= (!${dataField>unitProperty}) ? \'XL12 L12 M12 S12\' : ((${property>relativePath} === ${dataField>unitProperty}) ? \'XL4 L4 M4 S4\' : \'XL8 L8 M8 S8\') }"\n\t\t\t\t\t\t/></mdc:layoutData><control:MassEditSelect\n\t\t\t\t\t\tcore:require="{MassEditHandlers: \'sap/fe/core/controls/massEdit/MassEditHandlers\'}"\n\t\t\t\t\t\tid="{= ID.generate([\'MED_\', ${dataField>entitySet}, ${property>relativePath}]) }"\n\t\t\t\t\t\titems="{= \'{path : \\\'\' + ${property>runtimePath} + ${property>relativePath} + \'\\\'}\' }"\n\t\t\t\t\t\tchange="MassEditHandlers.handleSelectionChange($event)"\n\t\t\t\t\t\tselectedKey="{= \'{\' + ${property>runtimePath} + ${property>relativePath} + \'/selectedKey}\' }"\n\t\t\t\t\t\tselectValue="{= (${dataField>inputType} !== \'CheckBox\') &amp;&amp; (\'{ parts : [{ path:\\\'\' +  ${property>relativePath} + \'\\\'}, {value: \\\'\' + ${property>relativePath} + \'\\\' }, {value: \\\'\' + ID.generate([\'MED_\', ${dataField>entitySet}, ${property>relativePath}, \'_MDCField\']) + \'\\\' }], formatter: \\\'MassEditHandlers.contextPropertyChange\\\' }\') }"\n\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\tcustomData:fieldPath="{property>relativePath}"\n\t\t\t\t\t><control:items><core:Item key="{fieldsInfo>key}" text="{fieldsInfo>text}" /></control:items><control:layoutData><l:GridData span="XL12 L12 M12 S12" /></control:layoutData></control:MassEditSelect><template:if test="{= ${dataField>inputType} !== \'CheckBox\' }"><mdc:dependents><macro:ValueHelp\n\t\t\t\t\t\t\t\tidPrefix="{= ID.generate([\'MED_\', ${dataField>entitySet}, \'VHD\' ]) }"\n\t\t\t\t\t\t\t\tproperty="{vhProperty>}"\n\t\t\t\t\t\t\t\tuseMultiValueField="true"\n\t\t\t\t\t\t\t/></mdc:dependents></template:if></mdc:Field></template:with></template:then><template:else><ComboBox\n\t\t\t\tid="{= ID.generate([\'MED_\', ${dataField>entitySet}, ${property>relativePath}]) }"\n\t\t\t\tcore:require="{MassEditHandlers: \'sap/fe/core/controls/massEdit/MassEditHandlers\'}"\n\t\t\t\titems="{= \'{path : \\\'\' + ${property>runtimePath} + ${property>relativePath} + \'\\\'}\' }"\n\t\t\t\tchange="MassEditHandlers.handleSelectionChange($event)"\n\t\t\t\tselectedKey="{= \'{\' + ${property>runtimePath} + ${property>relativePath} + \'/selectedKey}\' }"\n\t\t\t\tvisible="{= \'{\' + ${property>runtimePath} + ${property>relativePath} + \'/visible}\' }"\n\t\t\t\tcustomData:fieldPath="{property>relativePath}"\n\t\t\t><items><core:Item key="{fieldsInfo>key}" text="{fieldsInfo>text}" /></items><layoutData><l:GridData\n\t\t\t\t\t\tspan="{= (!${dataField>unitProperty}) ? \'XL12 L12 M12 S12\' : ((${property>relativePath} === ${dataField>unitProperty}) ? \'XL4 L4 M4 S4\' : \'XL8 L8 M8 S8\') }"\n\t\t\t\t\t/></layoutData></ComboBox></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/core/fpm/manifest.json":'{"_version":"1.14.0","sap.app":{"id":"sap.fe.core.fpm","type":"component","applicationVersion":{"version":"1.108.22"},"title":"Object Page","tags":{"keywords":["Object Page"]},"ach":"CA-UI5-FE","offline":false,"resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_fiori_3","sap_hcb","sap_bluecrystal","sap_belize","sap_belize_plus","sap_belize_hcw"]},"sap.ui5":{"config":{"sapFiori2Adaptation":{"style":true,"hierarchy":true}},"services":{"templatedViewService":{"factoryName":"sap.fe.core.services.TemplatedViewService","startup":"waitFor","settings":{"converterType":"None"}},"asyncComponentService":{"factoryName":"sap.fe.core.services.AsyncComponentService","startup":"waitFor"}},"handleValidation":true,"dependencies":{"minUI5Version":"${sap.ui5.core.version}","libs":{"sap.f":{},"sap.fe.macros":{},"sap.m":{},"sap.ui.core":{},"sap.ui.layout":{},"sap.ui.mdc":{},"sap.ui.fl":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/fe/core/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.core","type":"library","embeds":["fpm"],"applicationVersion":{"version":"1.108.22"},"title":"UI5 library: sap.fe.core","description":"UI5 library: sap.fe.core","ach":"CA-UI5-FE","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.108","libs":{"sap.ui.core":{"minVersion":"1.108.27"},"sap.f":{"minVersion":"1.108.27"},"sap.fe.navigation":{"minVersion":"1.108.22"},"sap.fe.placeholder":{"minVersion":"1.108.22"},"sap.m":{"minVersion":"1.108.27"},"sap.ui.layout":{"minVersion":"1.108.27","lazy":true},"sap.ui.mdc":{"minVersion":"1.108.27"},"sap.ui.fl":{"minVersion":"1.108.27"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/fe/core/rootView/Fcl.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.f" displayBlock="true" height="100%" controllerName="sap.fe.core.rootView.Fcl"><FlexibleColumnLayout\n\t\tid="appContent"\n\t\tbackgroundDesign="Transparent"\n\t\tstateChange="onStateChanged"\n\t\tafterEndColumnNavigate="onStateChanged"\n\t\trestoreFocusOnBackNavigation="true"\n\t\tautoFocus="false"\n\t/></mvc:View>\n',
	"sap/fe/core/rootView/NavContainer.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" displayBlock="true" height="100%" controllerName="sap.fe.core.rootView.NavContainer"><NavContainer id="appContent" autoFocus="false" /></mvc:View>\n',
	"sap/fe/core/services/view/TemplatingErrorPage.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="sap.fe.core.services.view.TemplatingErrorPage"><MessagePage\n\t\tshowHeader="false"\n\t\ticon="sap-icon://message-error"\n\t\ttext="{sap.fe.i18n>T_TEMPLATING_ERROR_PAGE_SAPFE_APPSTART_TEMPLATING_FAILED}"\n\t\tdescription="{= ${error>/message} ? ${error>/message} : \'\'}"\n\t/></mvc:View>\n'
});
//# sourceMappingURL=library-preload.js.map
