/*
 * SAPUI5
  (c) Copyright 2009-2020 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/ui/core/theming/Parameters","sap/sac/grid/utils/Utilities","sap/sac/grid/utils/TableEventHandlers","sap/sac/grid/Format","sap/sac/grid/utils/ModelHelper","sap/sac/grid/utils/CellStyle","sap/sac/grid/thirdparty/sac.internal.grid.vendor.1.3.2-853b6e9d44742cac02ebc475a5de75530af5bc2e","sap/sac/grid/thirdparty/sac.internal.grid.main.1.3.2-853b6e9d44742cac02ebc475a5de75530af5bc2e"],function(e,t,l,n,a,o,r){"use strict";function i(){var e=this;function i(e,l,n,o,i){var c={style:{},styleUpdatedByUser:true};var s=l.getRow();var d=l.getColumn();var u=l.getCellType();var g=t.get("sapUiListHeaderBackground");var f=l.data();var C=i["isOverallResults"];if(e==a.ExcelStyle){var v=(s<n||d<o)&&u!="Title";c.style={fillColor:v||C?g:"transparent",wrap:false}}else if(e==a.BusinessStyle){var m=f["cellDimension"]=="NonMeasureStructure";c.style=r.getStyleObjectForAlignmentAndBackGround(l,n);if(i["showStyleLinesForDataLevel"]&&u!="Title"&&!m){c.style.lines=r.getStyleObjectForHierarchyLevel(i["level"])}var p=l.getSemanticClass();if(p&&l.getDisplayValue()){c.style.lines=r.getStyleObjectForBusinessScenario(p)}if(C){c.style.fillColor=g}}return c}function c(e){var t=e._getFormat();var n=e.getFixedColumns();var a=e.getFixedRows();var o=e.getCells();var r=false;var c=0;var s=0;var d={rows:[],columns:[]};var u=e.mergeNewDataWithExisitngData?e.gridCells:{};var g={};o.forEach(function(e){var o={};var f=parseInt(e.getRow());var C=parseInt(e.getColumn());var v=e.getDisplayValue();var m=e.getIcon();s=f>s?f:s;c=C>c?C:c;g[f]=g[f]?g[f]:[];var p=l.getHierarchyInfo(t,e,g,n,a,d);o=Object.assign(o,p);var h=l.calculateColumnWidth({displayText:v,isBold:p["isInATotalsContext"],hierarchyPaddingLeft:p["hierarchyPaddingLeft"]});o.ColumnWidth=h;o.cellType=l.cellTypeMapping(e.getCellType(),p["isInATotalsContext"]);var w=i(t,e,a,n,p);o=Object.assign(o,w);g[f][C]=o;u[f]=u[f]?u[f]:[];u[f][C]=l.extractUsefulInfoFromCell(e);if(!r){r=m==="sap-icon://slim-arrow-up"?true:false}});l.storePropertiesToControl(e,r,c,s,u);l.fillMissingIndexes(e,g);return g}e.renderSACGrid=function(e){s(e);var t=e.getTableData();var n=!!t;if(!n){if(e.mSacTable&&e.mSacTable.cachedData){t=e.mSacTable.cachedData}else{t=o.fetchInitialTableModel(e.getId())}if(e.getCells().length>0){if(e.getCells().length===1){var a=e.getCells()[0];l.showNoDataInSacTable(a.getDisplayValue(),e);return}else{l.addRemoveCssClassToReactTable(false,"noDataInTable",e)}var r=c(e);l.addRowsAndColumnSettingsToTableModel(e,t,r);l.addDataRegionPropertiesToTableModel(e,t);t.showGrid=e._isExcelStyle();l.decideWidgetDimensions(e,t)}}if(e.mSacTable&&t.rows.length>0){l.updateTableData(e,t)}};function s(e){if(!e.mSacTable){var t={onCellMouseUp:function(t){e.fireCellMouseUp({nativeEvent:t.event,row:t.row,column:t.col,cellContext:t.cellContext,cellType:t.cellType});var l=t.event&&t.event.button===0;var a=!!e.mSacTable.cachedData.rows[t.row].cells[t.col].formatted;var o=t.event&&t.event.srcElement;var r=d(o);var i=r("icon");var c=r("rowSelection")||r("colSelection");if(l&&a&&!i&&!c){n.onCellClicked(t,e)}},onDrillIconClicked:function(t){e.fireDrillIconClick({row:t.row,column:t.col,nativeEvent:t.event,targetDescription:t.selectedCell});n.onDrillIconClicked(t,e);e.mSacTable.scrollPosition={scrollTop:e.mSacTable.getScrollTop(),scrollLeft:e.mSacTable.getScrollLeft()}},onReloadLimitReached:function(t){n.requestMoreRows(e,t)},onRenderComplete:function(){e.fireInitialMount()},onCellMouseDown:function(t){e.fireCellMouseDown({nativeEvent:t.event,row:t.row,column:t.col,cellContext:t.cellContext,targetDescription:t.selectedCell})},onSelectedRegionChanged:function(t,l){e.fireSelectionChanged({newSelection:t,selectionContext:l})},onCellIconClicked:function(t){e.fireCustomCellIconClick({row:t.row,column:t.col,className:t.className,dataAttributes:t.dataAttributes,iconCharCode:t.iconCharCode})},onCellLinkPressed:function(t){e.fireCellLinkPressed({row:t.row,column:t.col,cellHyperlinkId:t.cellHyperlinkId})},onCommentIconClicked:function(t){e.fireCommentIconClicked({row:t.row,column:t.col})},onExternalElementDropped:function(t){e.fireExternalElementDropped({externalData:t.externalData,targetRow:t.targetRow,targetColumn:t.targetCol,placedBeforeCell:t.placedBeforeCell})},onCellDropped:function(t){e.fireCellDropped({sourceRow:t.sourceRow,sourceColumn:t.sourceCol,targetRow:t.targetRow,targetColumn:t.targetCol,placedBeforeCell:t.placedBeforeCell})},onDragCopyFinish:function(t){e.fireDragCopyEnd({originalSelection:t.originalRegion})},onKeyboardShortcut:function(t){e.fireKeyboardShortcut({currentSelection:t.selectionArea,nativeEvent:t.event,keyUp:t.keyUp})},onColumnWidthChanged:function(t){e.fireChangeColumnWidth({newColumnWidths:t})},onRowHeightChanged:function(t){e.fireChangeRowHeight({newRowHeights:t})},onTitleHeightChanged:function(t){e.fireChangeTitleHeight({newHeight:t})},onContextMenu:function(t){e.fireContextMenu({row:t.row,column:t.col,nativeEvent:t.event,targetDescription:t.targetDescription,currentSelectionAreas:t.currentSelectionAreas,isTitle:t.isTitle})}};if(e.mEventRegistry["horizontalLimitReached"]){t.onReloadLimitReachedHorizontally=function(t,l){e.fireHorizontalLimitReached({scrollTop:t,scrollDown:l})}}if(e.mEventRegistry["verticalLimitReached"]){t.onReloadLimitReachedVertically=function(t,l){e.fireVerticalLimitReached({scrollLeft:t,scrollToRight:l})}}var l=o.fetchInitialTableModel(e.getId());e.mSacTable=new SACGridRendering.ReactTable(l,e.reactTableContainer,t)}}function d(e){return function(t){return e&&e.classList&&e.classList.contains(t)}}e.findAnchorElement=function(e){var t=e.getParent();return t}}return new i});
//# sourceMappingURL=GridUtils.js.map