/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff4000.protocol.ina"],function(t){"use strict";t.InAProcessorResult=function(){};t.InAProcessorResult.prototype=new t.XObject;t.InAProcessorResult.prototype._ff_c="InAProcessorResult";t.InAProcessorResult.create=function(e){return t.InAProcessorResult.createWithContentType(e,null)};t.InAProcessorResult.createWithContentType=function(e,r){var s=new t.InAProcessorResult;s.m_structure=e;s.m_supportedContentType=r;return s};t.InAProcessorResult.prototype.m_structure=null;t.InAProcessorResult.prototype.m_supportedContentType=null;t.InAProcessorResult.prototype.releaseObject=function(){t.XObject.prototype.releaseObject.call(this);this.m_structure=null;this.m_supportedContentType=null};t.InAProcessorResult.prototype.getStructure=function(){return this.m_structure};t.InAProcessorResult.prototype.getSupportedContentType=function(){return this.m_supportedContentType};t.ProcessorConstants={CUSTOM_DIM:"CustomDimension1",CUSTOM_DIM_DESCRIPTION:"Measures",CUSTOM_DIM_KEY_DESCRIPTION:"CustomDimension1 key",CUSTOM_DIM_TEXT_DESCRIPTION:"CustomDimension1 text",CUSTOM_DIM_KEY:"Measures",CUSTOM_DIM_TEXT:"Measures.Description",SD_MESSAGE_VERSION:"message_version",SD_DIMENSION_MAP:"dimension_map",SD_VIEW_COLUMNS:"view_columns",SD_VIEW_COLUMN:"view_column",SD_DATA_SOURCE_KEY:"data_source_key",SD_DESCRIPTION:"description",SD_LAST_CHANGED_AT:"last_changed_at",SD_IS_TEMPORARY:"is_temporary",SD_KEY:"key",SD_VALUE:"value",SD_VALUES:"values",SD_NAME:"name",SD_UNIQUE_NAME:"unique_name",SD_DIMENSION_MEMBERS:"view_dimension_members",SD_DIMENSION_TYPE:"dimension_type",SD_KEY_COLUMN_NAME:"key_column_name",SD_IS_DIMENSION_GROUP:"is_dimension_group",SD_IS_MODELED:"is_modeled",SD_USE_UNIQUE_ATTRIBUTE_NAME:"use_unique_attribute_name",SD_DIMENSIONS:"dimensions",SD_TYPE:"type",SD_TYPE_INT_DIGITS:"int_digits",SD_TYPE_VALUE_CLASS:"value_class",SD_IS_VIRTUAL_DESCRIPTION:"is_virtual_description",SD_EXISTS_UNIT_CONVERSION:"exists_unit_conversion",SD_EXISTS_RESTRICTION:"exists_restriction",SD_IS_DESCRIPTION_COLUMN:"is_description_column",SD_IS_DESCRIPTION_FROM_KEY_COLUMN:"is_description_from_key_column",SD_IS_MEASURE:"is_measure",SD_NAME_IN_VIEW:"name_in_view",SD_SQL_TYPE:"sql_type",SD_SQL_TYPE_STRG:"STRING",SD_UNIT_TYPE:"unit_type",SD_AGGREGATION:"aggregation",SD_CUBE_AXES:"cube_axes",SD_ENTITIES:"entities",SD_ROWS:"Rows",SD_COLUMNS:"Columns",SD_AXIS_POSITION:"axis_position",SD_BEGIN_POS_IN_TUPLE:"begin_position_in_tuple",SD_PART_OF_RESULT_GRID:"is_part_of_result_grid",SD_ATTRIBUTES:"attributes",SD_COLUMN_NAME_IN_INPUT:"column_name_in_input",SD_IS_KEY_ATTRIBUTE:"is_key_attribute",SD_CURRENT_TYPE:"current_type",SD_IS_AGGREGATABLE:"is_aggregatable",SD_HIERARCHY_DISPLAYED:"hierarchy_displayed",SD_MEMBERS:"members",SD_MEMBER_COLS:"columns",SD_MEMBER_COLS_COLUMN_NAME:"column_name",SD_MEMBER_COLS_COLUMN_TYPE:"column_type",SD_MEMBER_REF_COLS:"reference_columns",SD_MEMBER_REF_COLS_COL_NAME:"column_name",SD_MEMBER_REF_COLS_NAME:"reference_name",SD_DIMENSION_TUPLES:"dimension_tuples",SD_TUPLE:"tuple",SD_STRING_VALUE:"string_value",SD_HAS_EXCEPTION_SETTINGS:"EPM_has_exception_settings",SD_DIGITS_SHIFT:"digits_shift",SD_FRACT_DIGITS:"fract_digits",SD_IS_HIDDEN:"is_hidden",SD_RESULT_STRUCTURE:"result_structure",SD_UNIT_INDEX:"unit_index",SD_VALUE_CLASS:"value_class",SD_VALUE_EXCEPTION_TYPE:"value_exception_type",SD_COMPLEX_UNITS:"complex_units",SD_CUBE_UNIT:"cube_unit",SD_EXPONENT:"exp",SD_ID:"id",SD_CUBE_UNIT_HANDLER_KEY:"cube_unit_handler_key",SD_CUBE_UNIT_HANDLER_VALUE:"cube_unit_handler_value",SD_VALUE_CLASS_STRING:"VALUE_CLASS_STRING",SD_RESULT_STRUCTURE_SEMANTIC_MEMBERS:"RESULT_STRUCTURE_SEMANTIC_MEMBERS",SD_VALUE_EXCEPTION_NORMAL:"VALUE_EXCEPTION_NORMAL",MD_PROPERTY_SAP_DISPLAY_FORMAT_UPPERCASE:"UpperCase",SERVICE_MD_DIM_OBJECT_NAME:"ObjectName",SERVICE_MD_DIM_OBJECT_NAME_TEXT:"ObjectName.TEXT",SERVICE_MD_TEXT_ATTRIBUTE_SUFFIX:".TEXT"};t.VirtualRpcIdentifier=function(){};t.VirtualRpcIdentifier.prototype=new t.XObject;t.VirtualRpcIdentifier.prototype._ff_c="VirtualRpcIdentifier";t.VirtualRpcIdentifier.create=function(e,r,s,n){var i=new t.VirtualRpcIdentifier;i.m_processName=e;i.m_requestStructure=r;i.m_request=s;i.m_allRequests=n;return i};t.VirtualRpcIdentifier.prototype.m_processName=null;t.VirtualRpcIdentifier.prototype.m_requestStructure=null;t.VirtualRpcIdentifier.prototype.m_request=null;t.VirtualRpcIdentifier.prototype.m_allRequests=null;t.VirtualRpcIdentifier.prototype.releaseObject=function(){this.m_processName=null;this.m_requestStructure=null;this.m_request=null;this.m_allRequests=null;t.XObject.prototype.releaseObject.call(this)};t.VirtualRpcIdentifier.prototype.getProcessName=function(){return this.m_processName};t.VirtualRpcIdentifier.prototype.getRequestStructure=function(){return this.m_requestStructure};t.VirtualRpcIdentifier.prototype.getRequest=function(){return this.m_request};t.VirtualRpcIdentifier.prototype.getAllRequests=function(){return this.m_allRequests};t.ProcessorGSAConstants={DIMENSIONS:"Dimensions",ATTRIBUTES:"Attributes",MEASURES:"Measures",PARAMETERS:"Parameters",NAME:"Name",DESCRIPTION:"Description",VALUE_TYPE:"ValueType",LENGTH:"Length",IS_KEY:"IsKey",IS_DEFAULT_TEXT:"IsDefaultText",NUMERIC_PRECISION:"NumericPrecision",NUMERIC_SCALE:"NumericScale",TYPE:"Type",TYPE_QUERY:"Query",TYPE_PATH:"Path",TYPE_HEADER:"Header",TYPE_BODY:"Body",DEFAULT_VALUE:"DefaultValue",IS_VARIABLE:"IsVariable",IS_MANDATORY:"IsMandatory",RESPONSE_PROPERTY:"ResponseProperty"};t.GSAMdProperty=function(){};t.GSAMdProperty.prototype=new t.XObject;t.GSAMdProperty.prototype._ff_c="GSAMdProperty";t.GSAMdProperty.create=function(e,r,s,n){var i=new t.GSAMdProperty;i.m_name=e;i.m_description=r;i.m_dataType=s;i.m_maxLength=n;return i};t.GSAMdProperty.createMeasure=function(e,r,s,n,i){var o=new t.GSAMdProperty;o.m_name=e;o.m_description=r;o.m_dataType=s;o.m_precision=n>0?t.XIntegerValue.create(n):null;o.m_scale=i>0?t.XIntegerValue.create(i):null;return o};t.GSAMdProperty.prototype.m_name=null;t.GSAMdProperty.prototype.m_description=null;t.GSAMdProperty.prototype.m_dataType=null;t.GSAMdProperty.prototype.m_maxLength=0;t.GSAMdProperty.prototype.m_precision=null;t.GSAMdProperty.prototype.m_scale=null;t.GSAMdProperty.prototype.releaseObject=function(){t.XObject.prototype.releaseObject.call(this);this.m_name=null;this.m_description=null;this.m_dataType=null;this.m_precision=t.XObjectExt.release(this.m_precision);this.m_scale=t.XObjectExt.release(this.m_scale)};t.GSAMdProperty.prototype.getName=function(){return this.m_name};t.GSAMdProperty.prototype.getDescription=function(){return this.m_description};t.GSAMdProperty.prototype.getMaxLength=function(){return this.m_maxLength};t.GSAMdProperty.prototype.isSortable=function(){return false};t.GSAMdProperty.prototype.getDataType=function(){return this.m_dataType};t.GSAMdProperty.prototype.getDisplayFormat=function(){return null};t.GSAMdProperty.prototype.isFilterable=function(){return false};t.GSAMdProperty.prototype.getUnitType=function(){return null};t.GSAMdProperty.prototype.getUnitPropertyName=function(){return null};t.GSAMdProperty.prototype.getUnitTextPropertyName=function(){return null};t.GSAMdProperty.prototype.getNumericPrecision=function(){return this.m_precision};t.GSAMdProperty.prototype.getNumericScale=function(){return this.m_scale};t.ProcessorODataConstants={PARAM_METADATA:"$metadata",MD_ENTITY_DATA_MODEL:"edmx:Edmx",MD_DATA_SERVICES:"edmx:DataServices",MD_SCHEMA:"Schema",MD_ENTITY_CONTAINER:"EntityContainer",MD_ENTITY_SET:"EntitySet",MD_ENTITY_TYPE:"EntityType",MD_PROPERTY:"Property",MD_NAVIGATION_PROPERTY:"NavigationProperty",MD_END:"End",MD_LINK:"link",MD_ASSOCIATION:"Association",MD_REFERENTIAL_CONSTRAINT:"ReferentialConstraint",MD_PRINCIPAL:"Principal",MD_DEPENDENT:"Dependent",MD_PROPERTY_REF:"PropertyRef",MD_PROPERTY_ENTITY_TYPE:"-EntityType",MD_PROPERTY_NAME:"-Name",MD_PROPERTY_NAMESPACE:"-Namespace",MD_PROPERTY_TYPE:"-Type",MD_PROPERTY_MAX_LENGTH:"-MaxLength",MD_PROPERTY_PRECISION:"-Precision",MD_PROPERTY_SCALE:"-Scale",MD_PROPERTY_VERSION:"-Version",MD_PROPERTY_DATA_SERVICE_VERSION:"-m:DataServiceVersion",MD_PROPERTY_HREF:"-href",MD_PROPERTY_RELATIONSHIP:"-Relationship",MD_PROPERTY_TO_ROLE:"-ToRole",MD_PROPERTY_FROM_ROLE:"-FromRole",MD_PROPERTY_ROLE:"-Role",MD_PROPERTY_TITLE:"-title",MD_PROPERTY_MULTIPLICITY:"-Multiplicity",MD_PROPERTY_SAP_TEXT:"-sap:text",MD_PROPERTY_SAP_QUICKINFO:"-sap:quickinfo",MD_PROPERTY_SAP_LABEL:"-sap:label",MD_PROPERTY_SAP_FILTERABLE:"-sap:filterable",MD_PROPERTY_SAP_SORTABLE:"-sap:sortable",MD_PROPERTY_SAP_UNIT:"-sap:unit",MD_PROPERTY_SAP_SEMANTICS:"-sap:semantics",MD_PROPERTY_SAP_AGGREGATION_ROLE:"-sap:aggregation-role",MD_PROPERTY_SAP_DISPLAY_FORMAT:"-sap:display-format",MD_PROPERTY_SAP_SUPPORTED_FORMATS:"-sap:supported-formats",MD_PROPERTY_SAP_MEMBER_TITLE:"sap:member-title",MD_SEMANTICS_CURRENCY:"currency-code",MD_SEMANTICS_UNIT_OF_MEASURE:"unit-of-measure",MD_PROPERTY_SAP_AGGREGATION_ROLE_MEASURE:"measure",MD_VALUETYPE_STRING:"Edm.String",MD_VALUETYPE_BOOLEAN:"Edm.Boolean",MD_VALUETYPE_INTEGER:"Edm.Int",MD_VALUETYPE_DOUBLE:"Edm.Double",MD_VALUETYPE_DECIMAL:"Edm.Decimal",MD_VALUETYPE_SINGLE:"Edm.Single",MD_VALUETYPE_TIME:"Edm.Time",MD_VALUETYPE_DATETIME:"Edm.DateTime",MD_VALUETYPE_GUID:"Edm.Guid",URI_PARAM_SELECT:"$select",URI_PARAM_EXPAND:"$expand",URI_PARAM_FILTER:"$filter",URI_PARAM_TOP:"$top",URI_PARAM_SKIP:"$skip",URI_PARAM_ORDERBY:"$orderby",URI_FILTER_INV_COMMA:"'",URI_FILTER_BRACKET_OPEN:"(",URI_FILTER_BRACKET_CLOSE:")",URI_FILTER_SPACE:" ",URI_FILTER_OR:"or",URI_FILTER_AND:"and",URI_FILTER_NOT:"not",URI_FILTER_NOT_EQUAL:"ne",URI_FILTER_EQUAL:"eq",URI_FILTER_GREATER:"gt",URI_FILTER_GREATER_EQUAL:"ge",URI_FILTER_LESS:"lt",URI_FILTER_LESS_EQUAL:"le",RS_D:"d",RS_METADATA:"__metadata",RS_ENTITY_SETS:"EntitySets",RS_RESULTS:"results",RS_VALUE:"value",RS_FEED:"feed",RS_ENTRY:"entry",RS_CONTENT:"content",RS_PROPERTIES:"m:properties",RS_INLINE:"m:inline",RS_PROPERTY_PREFIX:"d:",RS_NAME:"name",RS_TITLE:"atom:title",RS_SERVICE:"service",RS_WORKSPACE:"workspace",RS_COLLECTION:"collection",RS_APP_SERVICE:"app:service",RS_APP_WORKSPACE:"app:workspace",RS_APP_COLLECTION:"app:collection"};t.ODataProperty=function(){};t.ODataProperty.prototype=new t.XObject;t.ODataProperty.prototype._ff_c="ODataProperty";t.ODataProperty.create=function(e,r){return t.ODataProperty.createWithPrefix(e,r,null)};t.ODataProperty.createWithPrefix=function(e,r,s){var n=new t.ODataProperty;n.setupProperty(e,r,t.notNull(s)?t.XStringUtils.concatenate2(s,"/"):null);return n};t.ODataProperty.prototype.m_property=null;t.ODataProperty.prototype.m_namePrefix=null;t.ODataProperty.prototype.m_isMeasure=false;t.ODataProperty.prototype.m_unitType=null;t.ODataProperty.prototype.m_unitPropertyName=null;t.ODataProperty.prototype.m_unitTextPropertyName=null;t.ODataProperty.prototype.m_precision=null;t.ODataProperty.prototype.m_scale=null;t.ODataProperty.prototype.releaseObject=function(){t.XObject.prototype.releaseObject.call(this);this.m_property=null;this.m_namePrefix=null;this.m_unitType=null;this.m_unitPropertyName=null;this.m_unitTextPropertyName=null;this.m_precision=t.XObjectExt.release(this.m_precision);this.m_scale=t.XObjectExt.release(this.m_scale)};t.ODataProperty.prototype.setupProperty=function(e,r,s){this.m_property=e;this.m_namePrefix=t.XStringUtils.isNotNullAndNotEmpty(s)?s:"";var n=e.getStringByKey(t.ProcessorODataConstants.MD_PROPERTY_SAP_UNIT);var i=e.getStringByKey(t.ProcessorODataConstants.MD_PROPERTY_SAP_AGGREGATION_ROLE);if(t.XString.isEqual(i,t.ProcessorODataConstants.MD_PROPERTY_SAP_AGGREGATION_ROLE_MEASURE)){this.m_isMeasure=true}else{var o=this.getUnitTypeFromProperty(t.PrUtils.getStructureWithKeyValuePair(r,t.ProcessorODataConstants.MD_PROPERTY_NAME,n));this.m_isMeasure=!t.XString.isEqual(o,"UDF")}if(this.m_isMeasure){var a=t.PrUtils.getStructureWithKeyValuePair(r,t.ProcessorODataConstants.MD_PROPERTY_NAME,n);this.m_unitType=this.getUnitTypeFromProperty(a);if(t.notNull(a)&&!t.XString.isEqual(this.m_unitType,"UDF")){this.m_unitPropertyName=this.getNameWithPrefix(a);var u=a.getStringByKey(t.ProcessorODataConstants.MD_PROPERTY_SAP_TEXT);if(t.PrUtils.getStructureWithKeyValuePair(r,t.ProcessorODataConstants.MD_PROPERTY_NAME,u)!==null){this.m_unitTextPropertyName=t.XStringUtils.concatenate2(this.m_namePrefix,u)}}if(e.containsKey(t.ProcessorODataConstants.MD_PROPERTY_PRECISION)){var l=e.getStringByKey(t.ProcessorODataConstants.MD_PROPERTY_PRECISION);this.m_precision=t.XIntegerValue.create(t.XInteger.convertFromString(l))}if(e.containsKey(t.ProcessorODataConstants.MD_PROPERTY_SCALE)){var c=e.getStringByKey(t.ProcessorODataConstants.MD_PROPERTY_SCALE);this.m_scale=t.XIntegerValue.create(t.XInteger.convertFromString(c))}}};t.ODataProperty.prototype.getUnitTypeFromProperty=function(e){if(t.notNull(e)){var r=e.getStringByKey(t.ProcessorODataConstants.MD_PROPERTY_SAP_SEMANTICS);if(t.XString.isEqual(r,t.ProcessorODataConstants.MD_SEMANTICS_CURRENCY)){return"CUR"}if(t.XString.isEqual(r,t.ProcessorODataConstants.MD_SEMANTICS_UNIT_OF_MEASURE)){return"UNI"}}return"UDF"};t.ODataProperty.prototype.getName=function(){return this.getNameWithPrefix(this.m_property)};t.ODataProperty.prototype.getNameWithPrefix=function(e){var r=t.PrUtils.getStringValueProperty(e,t.ProcessorODataConstants.MD_PROPERTY_NAME,null);return t.XStringUtils.concatenate2(this.m_namePrefix,r)};t.ODataProperty.prototype.getDescription=function(){if(this.m_property.hasStringByKey(t.ProcessorODataConstants.MD_PROPERTY_SAP_QUICKINFO)){return this.m_property.getStringByKey(t.ProcessorODataConstants.MD_PROPERTY_SAP_QUICKINFO)}else if(this.m_property.hasStringByKey(t.ProcessorODataConstants.MD_PROPERTY_SAP_LABEL)){return this.m_property.getStringByKey(t.ProcessorODataConstants.MD_PROPERTY_SAP_LABEL)}return this.getName()};t.ODataProperty.prototype.isMeasure=function(){return this.m_isMeasure};t.ODataProperty.prototype.getMaxLength=function(){return t.XInteger.convertFromString(this.m_property.getStringByKeyExt(t.ProcessorODataConstants.MD_PROPERTY_MAX_LENGTH,"-1"))};t.ODataProperty.prototype.isSortable=function(){return t.PrUtils.getBooleanValueProperty(this.m_property,t.ProcessorODataConstants.MD_PROPERTY_SAP_SORTABLE,true)};t.ODataProperty.prototype.getDataType=function(){var e=this.m_property.getStringByKey(t.ProcessorODataConstants.MD_PROPERTY_TYPE);if(t.XString.isEqual(e,t.ProcessorODataConstants.MD_VALUETYPE_STRING)||t.XString.isEqual(e,t.ProcessorODataConstants.MD_VALUETYPE_GUID)){return"String"}if(t.XString.isEqual(e,t.ProcessorODataConstants.MD_VALUETYPE_BOOLEAN)){return"Bool"}if(t.XString.containsString(e,t.ProcessorODataConstants.MD_VALUETYPE_INTEGER)){return"Int"}if(t.XString.isEqual(e,t.ProcessorODataConstants.MD_VALUETYPE_DOUBLE)){return"Double"}if(t.XString.isEqual(e,t.ProcessorODataConstants.MD_VALUETYPE_DECIMAL)||t.XString.isEqual(e,t.ProcessorODataConstants.MD_VALUETYPE_SINGLE)){return"DecimalFloat"}if(t.XString.isEqual(e,t.ProcessorODataConstants.MD_VALUETYPE_TIME)){return"Time"}if(t.XString.isEqual(e,t.ProcessorODataConstants.MD_VALUETYPE_DATETIME)){return"Timestamp"}return"String"};t.ODataProperty.prototype.getDisplayFormat=function(){return t.PrUtils.getStringValueProperty(this.m_property,t.ProcessorODataConstants.MD_PROPERTY_SAP_DISPLAY_FORMAT,null)};t.ODataProperty.prototype.isFilterable=function(){return t.PrUtils.getBooleanValueProperty(this.m_property,t.ProcessorODataConstants.MD_PROPERTY_SAP_FILTERABLE,true)};t.ODataProperty.prototype.getUnitType=function(){return this.m_unitType};t.ODataProperty.prototype.getUnitPropertyName=function(){return this.m_unitPropertyName};t.ODataProperty.prototype.getUnitTextPropertyName=function(){return this.m_unitTextPropertyName};t.ODataProperty.prototype.getNumericPrecision=function(){return this.m_precision};t.ODataProperty.prototype.getNumericScale=function(){return this.m_scale};t.ODataResultEntry=function(){};t.ODataResultEntry.prototype=new t.XObject;t.ODataResultEntry.prototype._ff_c="ODataResultEntry";t.ODataResultEntry.create=function(e){var r=new t.ODataResultEntry;r.setupResultEntry(e);return r};t.ODataResultEntry.prototype.m_properties=null;t.ODataResultEntry.prototype.releaseObject=function(){t.XObject.prototype.releaseObject.call(this);this.m_properties=null};t.ODataResultEntry.prototype.setupResultEntry=function(e){var r=t.PrUtils.getStructureProperty(e,t.ProcessorODataConstants.RS_CONTENT);this.m_properties=t.PrUtils.getStructureProperty(r,t.ProcessorODataConstants.RS_PROPERTIES);if(t.isNull(this.m_properties)){this.m_properties=e}};t.ODataResultEntry.prototype.getElement=function(e,r){var s=t.PrUtils.getProperty(this.m_properties,r);return t.notNull(s)?s:t.PrUtils.getProperty(this.m_properties,t.XStringUtils.concatenate2(t.ProcessorODataConstants.RS_PROPERTY_PREFIX,r))};t.ODataResultEntry.prototype.toString=function(){return this.m_properties.toString()};t.ODataServiceResultEntry=function(){};t.ODataServiceResultEntry.prototype=new t.XObject;t.ODataServiceResultEntry.prototype._ff_c="ODataServiceResultEntry";t.ODataServiceResultEntry.create=function(e){var r=new t.ODataServiceResultEntry;r.m_entitySet=e;return r};t.ODataServiceResultEntry.prototype.m_entitySet=null;t.ODataServiceResultEntry.prototype.releaseObject=function(){t.XObject.prototype.releaseObject.call(this);this.m_entitySet=null};t.ODataServiceResultEntry.prototype.getElement=function(e,r){if(this.m_entitySet.isString()){return this.m_entitySet}var s=this.m_entitySet.asStructure();if(t.XString.endsWith(r,t.ProcessorConstants.SERVICE_MD_TEXT_ATTRIBUTE_SUFFIX)){if(s.containsKey(t.ProcessorODataConstants.MD_PROPERTY_SAP_MEMBER_TITLE)){return this.getProperty(s,t.ProcessorODataConstants.MD_PROPERTY_SAP_MEMBER_TITLE)}if(s.containsKey(t.ProcessorODataConstants.RS_TITLE)){return this.getProperty(s,t.ProcessorODataConstants.RS_TITLE)}if(s.containsKey(t.ProcessorODataConstants.MD_PROPERTY_SAP_LABEL)){return this.getProperty(s,t.ProcessorODataConstants.MD_PROPERTY_SAP_LABEL)}}if(s.containsKey(t.ProcessorODataConstants.MD_PROPERTY_HREF)){return t.PrUtils.getProperty(s,t.ProcessorODataConstants.MD_PROPERTY_HREF)}if(s.containsKey(t.ProcessorODataConstants.RS_NAME)){return t.PrUtils.getProperty(s,t.ProcessorODataConstants.RS_NAME)}if(s.containsKey(t.ProcessorODataConstants.RS_TITLE)){return this.getProperty(s,t.ProcessorODataConstants.RS_TITLE)}return null};t.ODataServiceResultEntry.prototype.getProperty=function(e,r){var s=t.PrUtils.getProperty(e,r);if(t.notNull(s)&&s.isStructure()&&s.asStructure().containsKey(r)){return t.PrUtils.getProperty(s.asStructure(),r)}return s};t.ODataServiceResultEntry.prototype.toString=function(){return this.m_entitySet.toString()};t.ProcessorSCPConstants={URI_OBJECTS:"/objects",URI_DOCS:"/docs",URI_DOCS_PARAM_DISCOVERY:"discovery",URI_DOCS_PARAM_REFERENCES:"resolveReferences",URI_DOCS_PARAM_BASIC:"basic",URI_METADATA:"/metadata",PATHS:"paths",GET:"get",OPERATION_ID:"operationId",SUMMARY:"summary",PARAMETERS:"parameters",PARAMETER_NAME:"name",PARAMETER_DESCRIPTION:"description",PARAMETER_REQUIRED:"required",PARAMETER_IN:"in",PARAMETER_IN_QUERY:"query",PARAMETER_IN_PATH:"path",PARAMETER_TYPE:"type",PARAMETER_TYPE_INTEGER:"integer",PARAMETER_TYPE_BOOLEAN:"boolean",FIELDS:"fields",FIELD_PATH:"path",FIELD_VENDOR_PATH:"vendorPath",FIELD_DISPLAY_NAME:"vendorDisplayName",FIELD_NATIVE_TYPE:"vendorNativeType",FIELD_TYPE:"type",FIELD_TYPE_STRING:"string",FIELD_TYPE_NUMBER:"number",FIELD_TYPE_DATE:"date",FIELD_TYPE_DATE_TIME:"datetime",FIELD_TYPE_BOOLEAN:"boolean"};t.SCPMdProperty=function(){};t.SCPMdProperty.prototype=new t.XObject;t.SCPMdProperty.prototype._ff_c="SCPMdProperty";t.SCPMdProperty.create=function(e,r,s){return t.SCPMdProperty.createWithFilterFlag(e,r,s,false)};t.SCPMdProperty.createWithFilterFlag=function(e,r,s,n){var i=new t.SCPMdProperty;i.m_name=e;i.m_description=r;i.m_dataType=s;i.m_filterable=n;return i};t.SCPMdProperty.prototype.m_name=null;t.SCPMdProperty.prototype.m_description=null;t.SCPMdProperty.prototype.m_dataType=null;t.SCPMdProperty.prototype.m_filterable=false;t.SCPMdProperty.prototype.releaseObject=function(){t.XObject.prototype.releaseObject.call(this);this.m_name=null;this.m_description=null;this.m_dataType=null};t.SCPMdProperty.prototype.getName=function(){return this.m_name};t.SCPMdProperty.prototype.getDescription=function(){return this.m_description};t.SCPMdProperty.prototype.getMaxLength=function(){return-1};t.SCPMdProperty.prototype.isSortable=function(){return false};t.SCPMdProperty.prototype.getDataType=function(){return this.m_dataType};t.SCPMdProperty.prototype.getDisplayFormat=function(){return null};t.SCPMdProperty.prototype.isFilterable=function(){return this.m_filterable};t.SCPMdProperty.prototype.getUnitType=function(){return"UDF"};t.SCPMdProperty.prototype.getUnitPropertyName=function(){return null};t.SCPMdProperty.prototype.getUnitTextPropertyName=function(){return null};t.SCPMdProperty.prototype.getNumericPrecision=function(){return null};t.SCPMdProperty.prototype.getNumericScale=function(){return null};t.InAServerInfoBuilder={buildServerInfoResponse:function(e,r,s){var n=t.PrFactory.createStructure();var i=n.putNewStructure("ServerInfo");i.putString("Client","000000000000000000");i.putStringNotNull("UserLanguageCode",r);i.putString("ServerType","Virtual InA");i.putStringNotNull("SystemId",s);var o=n.putNewList("Services");if(t.XCollectionUtils.hasElements(e)){var a=e.getKeysAsIteratorOfString();while(a.hasNext()){var u=a.next();t.InAServerInfoBuilder.addServiceToResponse(o,u,e.getByKey(u))}}return n},addServiceToResponse:function(e,r,s){var n=e.addNewStructure();n.putString("Service",r);var i=n.putNewList("Capabilities");if(t.notNull(s)){var o=s.size();for(var a=0;a<o;a++){t.InAServerInfoBuilder.addCapabilityToList(s.get(a),i)}}n.putNewList("CapabilitiesDev")},addCapabilityToList:function(e,r){if(t.XStringUtils.isNullOrEmpty(e)){return}var s=r.addNewStructure();s.putString("Capability",e);s.putInteger("MinVersion",100);s.putInteger("MaxVersion",104)}};t.InAParser=function(){};t.InAParser.prototype=new t.XObject;t.InAParser.prototype._ff_c="InAParser";t.InAParser.isKeyAttribute=function(e){return t.PrUtils.getBooleanValueProperty(e,"IsKey",false)};t.InAParser.isStructure=function(e){return t.XString.isEqual(t.InAParser.getName(e),t.ProcessorConstants.CUSTOM_DIM)};t.InAParser.getName=function(e){return t.PrUtils.getStringValueProperty(e,"Name",null)};t.InAParser.hasObtainabilityAlways=function(e){return t.XString.isEqual(e.getStringByKey("Obtainability"),"Always")};t.InAParser.prototype.containsMeasureDimension=function(t){return this.getMeasureDimension(t)!==null};t.InAParser.prototype.getMeasureDimension=function(e){if(t.notNull(e)){var r=e.size();for(var s=0;s<r;s++){var n=e.getStructureAt(s);if(t.InAParser.isStructure(n)){return n}}}return null};t.CatalogResultFilter=function(){};t.CatalogResultFilter.prototype=new t.XObject;t.CatalogResultFilter.prototype._ff_c="CatalogResultFilter";t.CatalogResultFilter.create=function(e,r){var s=new t.CatalogResultFilter;s.setupResultFilter(e,r);return s};t.CatalogResultFilter.prototype.m_result=null;t.CatalogResultFilter.prototype.releaseObject=function(){t.XObject.prototype.releaseObject.call(this);this.m_result=null};t.CatalogResultFilter.prototype.setupResultFilter=function(e,r){this.m_result=t.XList.create();var s=this.getFilterValues(r);var n=t.XCollectionUtils.hasElements(s);var i=e.size();for(var o=0;o<i;o++){var a=e.getResultEntryAt(o);if(!n||this.matchesFilter(a,s)){this.m_result.add(a)}}};t.CatalogResultFilter.prototype.getFilterValues=function(e){var r;if(e.containsKey("SetOperand")){r=t.PrFactory.createList();r.add(e)}else{var s=t.PrUtils.getStructureProperty(e,"Operator");var n=t.PrUtils.getStructureElement(t.PrUtils.getListProperty(s,"SubSelections"),0);var i=t.PrUtils.getStructureProperty(n,"Operator");r=t.PrUtils.getListProperty(i,"SubSelections")}var o=t.PrUtils.getListSize(r,0);var a=t.XList.create();for(var u=0;u<o;u++){var l=t.PrUtils.getStructureElement(r,u);var c=t.PrUtils.getStructureProperty(l,"SetOperand");var p=t.PrUtils.getStructureElement(t.PrUtils.getListProperty(c,"Elements"),0);var S=t.PrUtils.getStringValueProperty(c,"FieldName",null);var P=t.PrUtils.getStringValueProperty(p,"Low",null);if(t.XStringUtils.isNotNullAndNotEmpty(S)&&t.XStringUtils.isNotNullAndNotEmpty(P)){a.add(t.XNameValuePair.create(S,P))}}return a};t.CatalogResultFilter.prototype.matchesFilter=function(e,r){var s=r.size();for(var n=0;n<s;n++){var i=r.get(n);var o=e.getElement(i.getName(),i.getName());if(t.notNull(o)&&o.isString()){if(t.XPattern.matches(o.asString().getString(),i.getValue())){return true}}}return false};t.CatalogResultFilter.prototype.size=function(){return this.m_result.size()};t.CatalogResultFilter.prototype.getResultEntryAt=function(t){return this.m_result.get(t)};t.CatalogResultFilter.prototype.getResultEntries=function(){return this.m_result};t.FlatProcessorResult=function(){};t.FlatProcessorResult.prototype=new t.XObject;t.FlatProcessorResult.prototype._ff_c="FlatProcessorResult";t.FlatProcessorResult.prototype.flattenResult=function(e,r){var s=t.PrFactory.createList();s.add(e);var n=t.XHashSetOfString.create();var i=r.getIterator();while(i.hasNext()){var o=i.next();var a=this.getNextPropertyLevel(o,null);s=this.mergeItemsWithNestedProperties(s,a,o,n)}var u=t.XList.create();var l=s.size();for(var c=0;c<l;c++){u.add(this.createResultEntry(s.getStructureAt(c)))}return u};t.FlatProcessorResult.prototype.mergeItemsWithNestedProperties=function(e,r,s,n){var i=e;if(!n.contains(r)){n.add(r);i=t.PrFactory.createList();var o=e.size();for(var a=0;a<o;a++){var u=e.getStructureAt(a);var l=this.getAndRemoveNestedItems(u,r);if(!t.XCollectionUtils.hasElements(l)){i.add(u);continue}var c=l.size();for(var p=0;p<c;p++){var S=i.addNewStructure();S.copyFrom(u,null);this.copyFromStructure(l.get(p),S,r)}}}var P=this.getNextPropertyLevel(s,r);if(t.notNull(P)){i=this.mergeItemsWithNestedProperties(i,P,s,n)}return i};t.FlatProcessorResult.prototype.getNextPropertyLevel=function(e,r){return t.XString.isEqual(e,r)?null:e};t.GenericResultEntry=function(){};t.GenericResultEntry.prototype=new t.XObject;t.GenericResultEntry.prototype._ff_c="GenericResultEntry";t.GenericResultEntry.create=function(e){var r=new t.GenericResultEntry;r.setupGenericResultEntry(e);return r};t.GenericResultEntry.prototype.m_element=null;t.GenericResultEntry.prototype.setupGenericResultEntry=function(t){this.m_element=t};t.GenericResultEntry.prototype.releaseObject=function(){t.XObject.prototype.releaseObject.call(this);this.m_element=null};t.GenericResultEntry.prototype.getElement=function(e,r){if(!this.m_element.isStructure()){return this.m_element}var s=this.getPropertyPath(e,r);if(t.XString.containsString(s,".")){var n=t.XStringTokenizer.splitString(s,".");return this.getNestedItemValue(this.m_element.asStructure(),n,0,null)}return t.PrUtils.getProperty(this.m_element.asStructure(),s)};t.GenericResultEntry.prototype.getNestedItemValue=function(e,r,s,n){var i=e;var o=n;var a=r.size();for(var u=s;u<a;u++){var l=t.PrUtils.getProperty(i,r.get(u));if(t.isNull(l)){return o}if(l.isStructure()){i=l.asStructure()}else if(l.isList()){return this.getValuesFromList(l.asList(),r,u+1,o)}else{o=this.addToResult(o,l)}}return o};t.GenericResultEntry.prototype.getValuesFromList=function(t,e,r,s){var n=s;var i=t.size();for(var o=0;o<i;o++){var a=t.get(o);if(a.isStructure()){n=this.getNestedItemValue(t.getStructureAt(o),e,r,n)}else{n=this.addToResult(n,a)}}return n};t.GenericResultEntry.prototype.addToResult=function(e,r){if(t.isNull(e)){return r}else if(e.isList()){e.asList().add(r);return e}var s=t.PrUtils.convertToList(e);s.add(r);return s};t.GenericResultEntry.prototype.getPropertyPath=function(t,e){return e};t.GenericResultEntry.prototype.toString=function(){return this.m_element.toString()};t.OrderedProcessorResult=function(){};t.OrderedProcessorResult.prototype=new t.XObject;t.OrderedProcessorResult.prototype._ff_c="OrderedProcessorResult";t.OrderedProcessorResult.create=function(e,r){var s=new t.OrderedProcessorResult;s.setupOrderedResult(e,r);return s};t.OrderedProcessorResult.prototype.m_dimensions=null;t.OrderedProcessorResult.prototype.m_result=null;t.OrderedProcessorResult.prototype.m_orderedResult=null;t.OrderedProcessorResult.prototype.setupOrderedResult=function(e,r){this.m_result=e;this.m_dimensions=r;this.m_orderedResult=t.XList.create();if(this.m_dimensions.hasElements()){this.orderByDimensionMembers(e.getResultEntries(),this.m_orderedResult,0)}else{this.m_orderedResult.addAll(e.getResultEntries())}};t.OrderedProcessorResult.prototype.releaseObject=function(){t.XObject.prototype.releaseObject.call(this);this.m_result=t.XObjectExt.release(this.m_result);this.m_dimensions=null;this.m_orderedResult=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_orderedResult)};t.OrderedProcessorResult.prototype.size=function(){return this.m_orderedResult.size()};t.OrderedProcessorResult.prototype.getResultEntryAt=function(t){return this.m_orderedResult.get(t)};t.OrderedProcessorResult.prototype.getResultEntries=function(){return this.m_orderedResult};t.OrderedProcessorResult.prototype.orderByDimensionMembers=function(e,r,s){var n=this.m_dimensions.getStructureAt(s);var i=n.getStringByKey("Name");var o=this.getKeyAttributeName(n);var a=t.PrFactory.createList();var u=e.size();for(var l=0;l<u;l++){var c=e.get(l).getElement(i,o);if(t.PrUtils.contains(a,c)){continue}a.add(c);var p=this.getAllWithSameKeyValuePair(e,i,o,c);var S=s+1;if(this.m_dimensions.size()>S){this.orderByDimensionMembers(p,r,S)}else{r.addAll(p)}}};t.OrderedProcessorResult.prototype.getKeyAttributeName=function(e){var r=e.getListByKey("Attributes");var s=t.PrUtils.getStructureWithKeyValuePair(r,"IsKey","true");if(t.isNull(s)){s=r.getStructureAt(0)}return s.getStringByKey("Name")};t.OrderedProcessorResult.prototype.getAllWithSameKeyValuePair=function(e,r,s,n){var i=t.XList.create();var o=e.size();for(var a=0;a<o;a++){var u=e.get(a);var l=u.getElement(r,s);if(t.XObjectExt.areEqual(l,n)){i.add(u)}}return i};t.OrderedProcessorResult.prototype.toString=function(){return this.m_orderedResult.toString()};t.ProcessorDateConverter={convert:function(e,r){if(t.notNull(e)&&e.isString()&&t.notNull(r)){if(t.XString.isEqual(r,"Date")){return t.ProcessorDateConverter.convertToIsoDate(e.asString())}if(t.XString.isEqual(r,"Time")){return t.ProcessorDateConverter.convertToIsoTime(e.asString())}if(t.XString.isEqual(r,"DateTime")){return t.ProcessorDateConverter.convertToIsoDateTime(e.asString())}}return null},convertToIsoDate:function(e){var r=e.getString();var s=t.ProcessorDateConverter.getDateTimeFromEdmDateTime(r);if(t.notNull(s)){r=s}var n=t.ProcessorDateConverter.getDateFromDateTime(r);if(t.notNull(n)){r=n}else{var i=t.ProcessorDateConverter.getDateTimeFromTimestamp(r);if(t.notNull(i)){r=i.getDate().toIsoFormat()}}var o=t.PrFactory.createString(r);return o},convertToIsoDateTime:function(e){var r=e.getString();var s=t.ProcessorDateConverter.getDateTimeFromEdmDateTime(r);if(t.notNull(s)){r=s}else{var n=t.ProcessorDateConverter.getDateTimeFromTimestamp(r);if(t.notNull(n)){r=n.toIsoFormat()}}return t.PrFactory.createString(r)},getDateTimeFromEdmDateTime:function(e){if(t.XString.containsString(e,"datetime")){var r=t.XString.indexOf(e,"'")+1;var s=t.XString.lastIndexOf(e,"'");if(r<s){return t.XString.substring(e,r,s)}}return null},getDateTimeFromTimestamp:function(e){if(!t.XString.containsString(e,"-")&&!t.XString.containsString(e,"T")){var r=e;if(t.XString.containsString(e,"Date")){var s=t.XString.indexOf(e,"(")+1;var n=t.XString.lastIndexOf(e,")");if(s<n){r=t.XString.substring(e,s,n)}}var i=t.XLong.convertFromStringWithDefault(r,-1);if(i>-1){return t.XDateTime.createWithMilliseconds(i)}}return null},getDateFromDateTime:function(e){if(t.XString.containsString(e,"T")){return t.XString.substring(e,0,t.XString.indexOf(e,"T"))}return null},convertToIsoTime:function(e){var r=e.getString();if(t.XString.startsWith(r,"PT")){var s=t.XString.indexOf(r,"H");var n=t.XString.indexOf(r,"M");var i=t.XString.indexOf(r,"S");var o=t.XStringBuffer.create();o.append(t.ProcessorDateConverter.getNumberAsString(r,s-2));o.append(t.ProcessorDateConverter.getNumberAsString(r,s-1));o.append(":");o.append(t.ProcessorDateConverter.getNumberAsString(r,n-2));o.append(t.ProcessorDateConverter.getNumberAsString(r,n-1));o.append(":");o.append(t.ProcessorDateConverter.getNumberAsString(r,i-2));o.append(t.ProcessorDateConverter.getNumberAsString(r,i-1));r=o.toString()}return t.PrFactory.createString(r)},getNumberAsString:function(e,r){if(r>=0){var s=t.XString.substring(e,r,r+1);var n=t.XInteger.convertFromStringWithDefault(s,-1);if(n>0){return s}}return"0"},convertToEdmDateTime:function(e){return t.XStringUtils.concatenate3("datetime'",e,"'")}};t.InAProcessorFunctionFactory=function(){};t.InAProcessorFunctionFactory.prototype=new t.RpcFunctionFactory;t.InAProcessorFunctionFactory.prototype._ff_c="InAProcessorFunctionFactory";t.InAProcessorFunctionFactory.registerODataAsInA=function(){var e=new t.InAProcessorFunctionFactory;e.m_activeProcessor=t.ProcessorODataV2.create();t.RpcFunctionFactory.registerFactory(null,t.SystemType.VIRTUAL_INA_ODATA,e)};t.InAProcessorFunctionFactory.registerSCPAsInA=function(){var e=new t.InAProcessorFunctionFactory;e.m_activeProcessor=t.ProcessorSCP.create();t.RpcFunctionFactory.registerFactory(null,t.SystemType.VIRTUAL_INA_SCP,e)};t.InAProcessorFunctionFactory.registerGenericServiceAdapterAsInA=function(){var e=new t.InAProcessorFunctionFactory;e.m_activeProcessor=t.ProcessorGSA.create();t.RpcFunctionFactory.registerFactory(null,t.SystemType.VIRTUAL_INA_GSA,e)};t.InAProcessorFunctionFactory.prototype.m_activeProcessor=null;t.InAProcessorFunctionFactory.prototype.releaseObject=function(){this.m_activeProcessor=t.XObjectExt.release(this.m_activeProcessor);t.RpcFunctionFactory.prototype.releaseObject.call(this)};t.InAProcessorFunctionFactory.prototype.newRpcFunction=function(e,r,s,n){var i=t.XUri.createFromUrl(r);var o=e.getProcess().getApplication();this.m_activeProcessor.setApplication(o);return t.RpcVirtualFunction.create(e,i,this.m_activeProcessor,n)};t.InAProcessorRequest=function(){};t.InAProcessorRequest.prototype=new t.XObject;t.InAProcessorRequest.prototype._ff_c="InAProcessorRequest";t.InAProcessorRequest.create=function(e,r,s){var n=new t.InAProcessorRequest;n.m_uri=e;n.m_acceptContentType=r;n.m_customIdentifier=s;return n};t.InAProcessorRequest.prototype.m_uri=null;t.InAProcessorRequest.prototype.m_acceptContentType=null;t.InAProcessorRequest.prototype.m_customIdentifier=null;t.InAProcessorRequest.prototype.m_response=null;t.InAProcessorRequest.prototype.m_responseAsString=null;t.InAProcessorRequest.prototype.m_hasResponse=false;t.InAProcessorRequest.prototype.releaseObject=function(){t.XObject.prototype.releaseObject.call(this);this.m_uri=t.XObjectExt.release(this.m_uri);this.m_acceptContentType=null;this.m_customIdentifier=null;this.m_response=null;this.m_responseAsString=null};t.InAProcessorRequest.prototype.getUri=function(){return this.m_uri};t.InAProcessorRequest.prototype.getAcceptContentType=function(){return this.m_acceptContentType};t.InAProcessorRequest.prototype.getCustomIdentifier=function(){return this.m_customIdentifier};t.InAProcessorRequest.prototype.getResponse=function(){return this.m_response};t.InAProcessorRequest.prototype.getResponseAsString=function(){return this.m_responseAsString};t.InAProcessorRequest.prototype.setResponse=function(t,e){this.m_response=t;this.m_responseAsString=e;this.m_hasResponse=true};t.InAProcessorRequest.prototype.hasResponse=function(){return this.m_hasResponse};t.GSAResultEntry=function(){};t.GSAResultEntry.prototype=new t.GenericResultEntry;t.GSAResultEntry.prototype._ff_c="GSAResultEntry";t.GSAResultEntry.createGenericServiceResultEntry=function(e,r){var s=new t.GSAResultEntry;s.setupGenericResultEntry(e);s.m_responseProperties=r;return s};t.GSAResultEntry.prototype.m_responseProperties=null;t.GSAResultEntry.prototype.releaseObject=function(){t.GenericResultEntry.prototype.releaseObject.call(this);this.m_responseProperties=null};t.GSAResultEntry.prototype.getPropertyPath=function(t,e){return this.m_responseProperties.getByKey(t).getByKey(e)};t.ODataResult=function(){};t.ODataResult.prototype=new t.FlatProcessorResult;t.ODataResult.prototype._ff_c="ODataResult";t.ODataResult.create=function(e,r,s){var n=new t.ODataResult;n.setupResult(e,r,s);return n};t.ODataResult.prototype.m_resultEntries=null;t.ODataResult.prototype.m_requestParser=null;t.ODataResult.prototype.isServiceResult=false;t.ODataResult.prototype.releaseObject=function(){t.FlatProcessorResult.prototype.releaseObject.call(this);this.m_resultEntries=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_resultEntries);this.m_requestParser=null};t.ODataResult.prototype.setupResult=function(t,e,r){this.isServiceResult=e;this.m_requestParser=r;this.m_resultEntries=this.createResultEntries(this.parseResult(t))};t.ODataResult.prototype.parseResult=function(e){if(this.isServiceResult){return this.parseCatalogResultObjects(e)}if(e.containsKey(t.ProcessorODataConstants.RS_D)){var r=t.PrUtils.getStructureProperty(e,t.ProcessorODataConstants.RS_D);return t.PrUtils.getPropertyAsList(r,t.ProcessorODataConstants.RS_RESULTS)}else if(e.containsKey(t.ProcessorODataConstants.RS_FEED)){var s=t.PrUtils.getStructureProperty(e,t.ProcessorODataConstants.RS_FEED);return t.PrUtils.getPropertyAsList(s,t.ProcessorODataConstants.RS_ENTRY)}else{return t.PrUtils.getPropertyAsList(e,t.ProcessorODataConstants.RS_VALUE)}};t.ODataResult.prototype.parseCatalogResultObjects=function(e){if(e.containsKey(t.ProcessorODataConstants.RS_VALUE)){return t.PrUtils.getPropertyAsList(e,t.ProcessorODataConstants.RS_VALUE)}if(e.containsKey(t.ProcessorODataConstants.RS_D)){var r=t.PrUtils.getStructureProperty(e,t.ProcessorODataConstants.RS_D);return t.PrUtils.getPropertyAsList(r,t.ProcessorODataConstants.RS_ENTITY_SETS)}var s=t.PrUtils.getStructureProperty(e,t.ProcessorODataConstants.RS_SERVICE);var n=t.PrUtils.getPropertyAsList(s,t.ProcessorODataConstants.RS_WORKSPACE);if(t.isNull(n)){s=t.PrUtils.getStructureProperty(e,t.ProcessorODataConstants.RS_APP_SERVICE);n=t.PrUtils.getPropertyAsList(s,t.ProcessorODataConstants.RS_APP_WORKSPACE)}var i=t.PrFactory.createList();if(t.notNull(n)){var o=n.size();for(var a=0;a<o;a++){var u=n.getStructureAt(a);i.addAll(t.PrUtils.getPropertyAsList(u,t.ProcessorODataConstants.RS_COLLECTION));i.addAll(t.PrUtils.getPropertyAsList(u,t.ProcessorODataConstants.RS_APP_COLLECTION))}}return i};t.ODataResult.prototype.createResultEntries=function(e){var r=t.XList.create();if(t.notNull(e)){var s=e.size();var n=this.getNavigationProperties();for(var i=0;i<s;i++){var o=e.getStructureAt(i);if(this.isServiceResult){r.add(t.ODataServiceResultEntry.create(o))}else{r.addAll(this.flattenResult(o,n))}}}return r};t.ODataResult.prototype.getNavigationProperties=function(){var e=t.XHashSetOfString.create();var r=this.m_requestParser.getAllDimensions();var s=t.notNull(r)?r.size():0;for(var n=0;n<s;n++){var i=r.getStructureAt(n).getListByKey("Attributes");var o=i.size();for(var a=0;a<o;a++){var u=i.getStructureAt(a).getStringByKey("Name");if(t.XString.containsString(u,"/")){e.add(t.XString.substring(u,0,t.XString.indexOf(u,"/")))}}}return e};t.ODataResult.prototype.getPropertiesStructure=function(e){var r=t.PrUtils.getStructureProperty(e,t.ProcessorODataConstants.RS_CONTENT);var s=t.PrUtils.getStructureProperty(r,t.ProcessorODataConstants.RS_PROPERTIES);return t.notNull(s)?s:e};t.ODataResult.prototype.copyFromStructure=function(e,r,s){var n=this.getPropertiesStructure(r);var i=e.asStructure();var o=i.getKeysAsReadOnlyListOfString();var a=o.size();for(var u=0;u<a;u++){var l=o.get(u);if(!t.XString.isEqual(l,t.ProcessorODataConstants.RS_METADATA)){var c=t.XString.replace(l,t.ProcessorODataConstants.RS_PROPERTY_PREFIX,"");n.put(t.XStringUtils.concatenate3(s,"/",c),i.getByKey(l))}}};t.ODataResult.prototype.getAndRemoveNestedItems=function(e,r){var s=e.getStructureByKey(r);if(t.notNull(s)){var n=s.getListByKey(t.ProcessorODataConstants.RS_RESULTS);if(t.isNull(n)){n=t.PrFactory.createList();n.add(s)}e.remove(r);return n}var i=t.PrUtils.getPropertyAsList(e,t.ProcessorODataConstants.MD_LINK);if(t.notNull(i)){var o=i.size();for(var a=0;a<o;a++){var u=i.getStructureAt(a);var l=u.getStringByKey(t.ProcessorODataConstants.MD_PROPERTY_TITLE);if(t.XString.isEqual(l,r)){i.removeAt(a);var c=t.PrFactory.createList();var p=t.PrUtils.getStructureProperty(u,t.ProcessorODataConstants.RS_INLINE);var S=t.PrUtils.getStructureProperty(p,t.ProcessorODataConstants.RS_FEED);var P=t.PrUtils.getPropertyAsList(t.notNull(S)?S:p,t.ProcessorODataConstants.RS_ENTRY);var g=P.size();for(var _=0;_<g;_++){var y=this.getPropertiesStructure(P.getStructureAt(_));if(t.notNull(y)){c.add(y)}}return c}}}return null};t.ODataResult.prototype.createResultEntry=function(e){return t.ODataResultEntry.create(e.asStructure())};t.ODataResult.prototype.size=function(){return this.m_resultEntries.size()};t.ODataResult.prototype.getResultEntryAt=function(t){return this.m_resultEntries.get(t)};t.ODataResult.prototype.getResultEntries=function(){return this.m_resultEntries};t.ODataResult.prototype.toString=function(){return this.m_resultEntries.toString()};t.InARequestParser=function(){};t.InARequestParser.prototype=new t.InAParser;t.InARequestParser.prototype._ff_c="InARequestParser";t.InARequestParser.CATALOG_VIEW="CatalogView";t.InARequestParser.create=function(e){var r=new t.InARequestParser;r.setupParser(e);return r};t.InARequestParser.isCatalogServiceRequested=function(e){var r=t.InARequestParser.create(e);var s=r.isCatalogServiceRequest();r.releaseObject();return s};t.InARequestParser.prototype.m_request=null;t.InARequestParser.prototype.m_requestDefinition=null;t.InARequestParser.prototype.m_dimensions=null;t.InARequestParser.prototype.m_measureDimension=null;t.InARequestParser.prototype.m_measureMembers=null;t.InARequestParser.prototype.setupParser=function(e){this.m_request=t.PrUtils.getStructureProperty(e,"Metadata");if(t.isNull(this.m_request)){this.m_request=t.PrUtils.getStructureProperty(e,"Analytics")}this.m_requestDefinition=t.PrUtils.getStructureProperty(this.m_request,"Definition");this.m_dimensions=t.PrUtils.getListProperty(this.m_requestDefinition,"Dimensions");this.m_measureDimension=this.getMeasureDimension(this.m_dimensions);this.m_measureMembers=this.parseStructureMembers(this.m_measureDimension)};t.InARequestParser.prototype.releaseObject=function(){t.InAParser.prototype.releaseObject.call(this);this.m_request=null;this.m_requestDefinition=null;this.m_dimensions=null;this.m_measureDimension=null;this.m_measureMembers=t.XObjectExt.release(this.m_measureMembers)};t.InARequestParser.prototype.isValid=function(){return t.notNull(this.m_requestDefinition)};t.InARequestParser.prototype.getDataSource=function(){return t.PrUtils.getStructureProperty(this.m_request,"DataSource")};t.InARequestParser.prototype.getCapabilities=function(){return t.PrUtils.getStructureProperty(this.m_request,"Capabilities")};t.InARequestParser.prototype.getServiceDescription=function(){return t.PrUtils.getStructureProperty(this.getDataSource(),"GenericServiceDescription")};t.InARequestParser.prototype.isCatalogServiceRequest=function(){var e=t.PrUtils.getStringValueProperty(this.getDataSource(),"Type",null);return t.XString.isEqual(e,t.InARequestParser.CATALOG_VIEW)};t.InARequestParser.prototype.getSubsetDescription=function(){var e=t.PrUtils.getStructureProperty(this.m_requestDefinition,"ResultSetFeatureRequest");return t.PrUtils.getStructureProperty(e,"SubSetDescription")};t.InARequestParser.prototype.getFilterSelection=function(){var e=t.PrUtils.getStructureProperty(this.m_requestDefinition,"DynamicFilter");return t.PrUtils.getStructureProperty(e,"Selection")};t.InARequestParser.prototype.getSort=function(){return t.PrUtils.getListProperty(this.m_requestDefinition,"Sort")};t.InARequestParser.prototype.getAllDimensions=function(){return this.m_dimensions};t.InARequestParser.prototype.getRowDimensions=function(){return this.getDimensions("Rows")};t.InARequestParser.prototype.getColumnDimensions=function(){return this.getDimensions("Columns")};t.InARequestParser.prototype.getKeyAttribute=function(e){var r=e.getListByKey("Attributes");var s=r.size();for(var n=0;n<s;n++){var i=r.getStructureAt(n);if(t.InAParser.isKeyAttribute(i)){return i}}return null};t.InARequestParser.prototype.getDimensions=function(e){var r=t.PrFactory.createList();var s=this.getAllDimensions();if(t.notNull(s)){var n=s.size();for(var i=0;i<n;i++){var o=s.getStructureAt(i);if(t.XString.isEqual(e,o.getStringByKey("Axis"))){r.add(o)}}}return r};t.InARequestParser.prototype.getNonMeasureAxis=function(){var t=this.getRowDimensions();var e=this.getColumnDimensions();if(this.containsMeasureDimension(t)){return e}if(this.containsMeasureDimension(e)){return t}if(t.isEmpty()&&e.hasElements()){return e}return t};t.InARequestParser.prototype.getStructureMembers=function(){return this.m_measureMembers};t.InARequestParser.prototype.parseStructureMembers=function(e){var r=t.XList.create();var s=t.PrUtils.getStringValueProperty(e,"Axis",null);var n=t.PrUtils.getListProperty(e,"Members");if((t.XString.isEqual(s,"Rows")||t.XString.isEqual(s,"Columns"))&&t.notNull(n)){var i=this.getFiltereredStructureMembers(t.XListOfString.create(),this.getFilterSelection());var o=n.size();for(var a=0;a<o;a++){var u=n.getStructureAt(a);if(this.selectStructureMember(u,i)){r.add(u)}}}return r};t.InARequestParser.prototype.selectStructureMember=function(e,r){var s=e.getStringByKeyExt("Visibility","Visible");if(!t.XString.isEqual(s,"Visible")){return false}var n=this.getStructureMemberName(e);if(t.XStringUtils.isNullOrEmpty(n)){return false}return r.isEmpty()||r.contains(n)};t.InARequestParser.prototype.getFiltereredStructureMembers=function(e,r){var s=t.PrUtils.getStructureProperty(r,"Operator");if(t.notNull(s)){var n=t.PrUtils.getListProperty(s,"SubSelections");if(t.notNull(n)){for(var i=0;i<n.size();i++){this.getFiltereredStructureMembers(e,n.getStructureAt(i))}}}else{var o=t.PrUtils.getStructureProperty(r,"SetOperand");var a=t.PrUtils.getStringValueProperty(o,"FieldName",null);var u=t.PrUtils.getListProperty(o,"Elements");if(t.XString.isEqual(a,t.ProcessorConstants.CUSTOM_DIM_KEY)&&!t.PrUtils.isListEmpty(u)){for(var l=0;l<u.size();l++){var c=u.getStructureAt(l);if(t.XString.isEqual(c.getStringByKey("Comparison"),"=")){e.add(t.PrUtils.getStringValueProperty(c,"Low",""))}}}}return e};t.InARequestParser.prototype.getStructureMemberName=function(e){var r=t.PrUtils.getStructureProperty(e,"MemberOperand");return t.PrUtils.getStringValueProperty(r,"Value",null)};t.InARequestParser.prototype.getStructureMemberDescription=function(e){var r=t.PrUtils.getStructureProperty(e,"MemberOperand");var s=t.PrUtils.getStringValueProperty(r,"Description",null);return t.notNull(s)?s:t.PrUtils.getStringValueProperty(r,"Value",null)};t.InARequestParser.prototype.getDisplayFormat=function(e,r){var s=this.m_dimensions.size();for(var n=0;n<s;n++){var i=this.m_dimensions.getStructureAt(n);if(t.isNull(e)||t.XString.isEqual(i.getStringByKeyExt("Name",null),e)){var o=i.getListByKey("Attributes");var a=t.PrUtils.getStructureWithKeyValuePair(o,"Name",r);if(t.notNull(a)){return t.PrUtils.getStringValueProperty(a,"DisplayFormat",null)}}}return null};t.InARequestParser.prototype.isSerializedDataRequested=function(){var e=t.PrUtils.getStructureProperty(this.m_requestDefinition,"ResultSetFeatureRequest");var r=t.PrUtils.getStringValueProperty(e,"ResultFormat",null);return t.XString.isEqual(r,"SerializedData")};t.InARequestParser.prototype.getVariableValues=function(){var e=t.XHashMapOfStringByString.create();var r=t.PrUtils.getListProperty(this.m_requestDefinition,"Variables");if(t.notNull(r)){var s=r.size();for(var n=0;n<s;n++){var i=r.getStructureAt(n);var o=i.getStringByKey("Name");var a=t.PrUtils.getElement(i.getListByKey("SimpleStringValues"),0);if(t.isNull(a)){a=t.PrUtils.getElement(i.getListByKey("SimpleNumericValues"),0)}var u=null;if(t.notNull(a)){u=a.isString()?a.asString().getString():a.getStringRepresentation()}if(t.XStringUtils.isNotNullAndNotEmpty(o)&&t.XStringUtils.isNotNullAndNotEmpty(u)){e.put(o,u)}}}return e};t.InAResponseParser=function(){};t.InAResponseParser.prototype=new t.InAParser;t.InAResponseParser.prototype._ff_c="InAResponseParser";t.InAResponseParser.create=function(e){var r=new t.InAResponseParser;r.setupParser(e);return r};t.InAResponseParser.prototype.m_grid=null;t.InAResponseParser.prototype.m_axes=null;t.InAResponseParser.prototype.m_dimensionsRows=null;t.InAResponseParser.prototype.m_dimensionsCols=null;t.InAResponseParser.prototype.setupParser=function(e){var r=t.PrUtils.getListProperty(e,"Grids");this.m_grid=t.PrUtils.getStructureElement(r,0);this.m_axes=t.PrUtils.getListProperty(this.m_grid,"Axes");this.setupDimensions()};t.InAResponseParser.prototype.releaseObject=function(){t.InAParser.prototype.releaseObject.call(this);this.m_grid=null;this.m_axes=null;this.m_dimensionsRows=null;this.m_dimensionsCols=null};t.InAResponseParser.prototype.isValid=function(){return t.notNull(this.m_grid)&&t.notNull(this.m_axes)};t.InAResponseParser.prototype.setupDimensions=function(){var e=t.PrUtils.getListSize(this.m_axes,0);for(var r=0;r<e;r++){var s=this.m_axes.getStructureAt(r);if(t.XString.isEqual(t.InAParser.getName(s),t.XString.toUpperCase("Rows"))){this.m_dimensionsRows=t.PrUtils.getListProperty(s,"Dimensions")}else if(t.XString.isEqual(t.InAParser.getName(s),t.XString.toUpperCase("Columns"))){this.m_dimensionsCols=t.PrUtils.getListProperty(s,"Dimensions")}}};t.InAResponseParser.prototype.getMemberIndexesAt=function(e,r){var s=t.PrUtils.getStructureWithKeyValuePair(this.m_axes,"Name",t.XString.toUpperCase(e));if(t.notNull(s)){var n=s.getListByKey("Tuples");var i=t.PrUtils.getStructureElement(n,r);var o=t.PrUtils.getStructureProperty(i,"MemberIndexes");return t.PrUtils.getListProperty(o,"Values")}return null};t.InAResponseParser.prototype.getTupleCountNonMeasureAxis=function(){var e=this.m_grid.getListByKey("CellArraySizes");if(t.PrUtils.getListSize(e,0)>=2){if(this.containsMeasureDimension(this.m_dimensionsCols)){return e.getIntegerAt(0)}if(this.containsMeasureDimension(this.m_dimensionsRows)){return e.getIntegerAt(1)}}return-1};t.InAResponseParser.prototype.getValues=function(e){var r=t.PrUtils.getStructureProperty(this.m_grid,"Cells");var s=t.PrUtils.getStructureProperty(r,e);return t.PrUtils.getListProperty(s,"Values")};t.InAResponseParser.prototype.getRowDimensions=function(){return this.m_dimensionsRows};t.InAResponseParser.prototype.getColumnDimensions=function(){return this.m_dimensionsCols};t.GenericResult=function(){};t.GenericResult.prototype=new t.FlatProcessorResult;t.GenericResult.prototype._ff_c="GenericResult";t.GenericResult.create=function(e,r){var s=new t.GenericResult;s.setupResult(e,r);return s};t.GenericResult.prototype.m_resultEntries=null;t.GenericResult.prototype.m_requestParser=null;t.GenericResult.prototype.setupResult=function(e,r){this.m_resultEntries=t.XList.create();this.m_requestParser=r;var s=this.getNestedPropertyNames();if(e.isList()){var n=e.asList();var i=n.size();for(var o=0;o<i;o++){var a=n.get(o);if(a.isStructure()){this.m_resultEntries.addAll(this.flattenResult(n.getStructureAt(o),s))}else{this.m_resultEntries.add(this.createResultEntry(a))}}}else if(e.isStructure()){this.m_resultEntries.addAll(this.flattenResult(e.asStructure(),s))}else{this.m_resultEntries.add(this.createResultEntry(e))}};t.GenericResult.prototype.getNestedPropertyNames=function(){var e=t.XHashSetOfString.create();var r=this.m_requestParser.getAllDimensions();var s=this.m_requestParser.getStructureMembers();var n=t.PrUtils.getListSize(r,0);for(var i=0;i<n;i++){var o=r.getStructureAt(i);var a=this.m_requestParser.getKeyAttribute(o);if(t.notNull(a)&&!t.InAParser.isStructure(o)){var u=this.getPropertyPath(t.InAParser.getName(o),t.InAParser.getName(a));t.XCollectionUtils.addIfNotPresent(e,u)}}var l=s.size();for(var c=0;c<l;c++){var p=this.m_requestParser.getStructureMemberName(s.get(c));var S=this.getPropertyPath(t.ProcessorConstants.CUSTOM_DIM,p);t.XCollectionUtils.addIfNotPresent(e,S)}return e};t.GenericResult.prototype.getPropertyPath=function(t,e){return e};t.GenericResult.prototype.getNextPropertyLevel=function(e,r){if(t.XString.isEqual(e,r)){return null}var s=t.notNull(r)?t.XString.size(r)+1:0;var n=t.XString.indexOfFrom(e,".",s);if(n>-1){return t.XString.substring(e,0,n)}return e};t.GenericResult.prototype.copyFromStructure=function(e,r,s){var n=r;var i=s;if(t.XString.containsString(s,".")){var o=t.XStringTokenizer.splitString(s,".");var a=o.size();if(!e.isStructure()){a--;i=o.get(a)}for(var u=0;u<a;u++){n=this.putStructure(n,o.get(u))}}else if(e.isStructure()){n=this.putStructure(n,s)}if(e.isStructure()){n.copyFrom(e,null)}else{n.put(i,e)}};t.GenericResult.prototype.putStructure=function(e,r){var s=t.PrUtils.getStructureProperty(e,r);return t.notNull(s)?s:e.putNewStructure(r)};t.GenericResult.prototype.getAndRemoveNestedItems=function(e,r){var s=e;var n=t.XStringTokenizer.splitString(r,".");var i=n.size();for(var o=0;o<i-1;o++){s=t.PrUtils.getStructureProperty(s,n.get(o))}var a=i>1?n.get(i-1):r;var u=t.PrUtils.getListProperty(s,a);if(t.notNull(u)){s.remove(a)}return u};t.GenericResult.prototype.createResultEntry=function(e){return t.GenericResultEntry.create(e)};t.GenericResult.prototype.releaseObject=function(){t.FlatProcessorResult.prototype.releaseObject.call(this);this.m_resultEntries=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_resultEntries);this.m_requestParser=null};t.GenericResult.prototype.size=function(){return this.m_resultEntries.size()};t.GenericResult.prototype.getResultEntryAt=function(t){return this.m_resultEntries.get(t)};t.GenericResult.prototype.getResultEntries=function(){return this.m_resultEntries};t.GenericResult.prototype.toString=function(){return this.m_resultEntries.toString()};t.GSAResult=function(){};t.GSAResult.prototype=new t.GenericResult;t.GSAResult.prototype._ff_c="GSAResult";t.GSAResult.createGenericServiceResult=function(e,r){var s=new t.GSAResult;s.setupPropertyMappings(r);s.setupResult(e,r);return s};t.GSAResult.prototype.m_responseProperties=null;t.GSAResult.prototype.setupPropertyMappings=function(e){this.m_responseProperties=t.XHashMapByString.create();var r=e.getServiceDescription();var s=r.getListByKey(t.ProcessorGSAConstants.DIMENSIONS);var n=r.getListByKey(t.ProcessorGSAConstants.MEASURES);var i=t.PrUtils.getListSize(s,0);for(var o=0;o<i;o++){var a=t.XHashMapOfStringByString.create();var u=s.getStructureAt(o);this.m_responseProperties.put(u.getStringByKey(t.ProcessorGSAConstants.NAME),a);var l=u.getListByKey(t.ProcessorGSAConstants.ATTRIBUTES);var c=l.size();for(var p=0;p<c;p++){var S=l.getStructureAt(p);a.put(S.getStringByKey(t.ProcessorGSAConstants.NAME),S.getStringByKey(t.ProcessorGSAConstants.RESPONSE_PROPERTY))}}var P=t.XHashMapOfStringByString.create();this.m_responseProperties.put(t.ProcessorConstants.CUSTOM_DIM,P);var g=t.PrUtils.getListSize(n,0);for(var _=0;_<g;_++){var y=n.getStructureAt(_);P.put(y.getStringByKey(t.ProcessorGSAConstants.NAME),y.getStringByKey(t.ProcessorGSAConstants.RESPONSE_PROPERTY))}};t.GSAResult.prototype.releaseObject=function(){t.GenericResult.prototype.releaseObject.call(this);this.m_responseProperties=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_responseProperties)};t.GSAResult.prototype.createResultEntry=function(e){return t.GSAResultEntry.createGenericServiceResultEntry(e,this.m_responseProperties)};t.GSAResult.prototype.getPropertyPath=function(t,e){return this.m_responseProperties.getByKey(t).getByKey(e)};t.DfProcessor=function(){};t.DfProcessor.prototype=new t.MessageManager;t.DfProcessor.prototype._ff_c="DfProcessor";t.DfProcessor.prototype.m_application=null;t.DfProcessor.prototype.setupProcessor=function(){t.MessageManager.prototype.setupSessionContext.call(this,null)};t.DfProcessor.prototype.releaseObject=function(){this.m_application=null;t.MessageManager.prototype.releaseObject.call(this)};t.DfProcessor.prototype.getSystemDescription=function(e){if(t.notNull(this.m_application)){var r=this.m_application.getSystemLandscape();return r.getSystemDescription(e)}return null};t.DfProcessor.prototype.addServiceWithCapabilities=function(e,r,s,n,i){if(t.notNull(this.m_application)){var o=this.getSystemDescription(r);if(t.notNull(o)){var a=o.getIncludedCapabilitiesForService(s);var u=o.getExcludedCapabilitiesForService(s);var l=t.XListOfString.create();l.addAll(this.getCapabilitiesIntersectWithDefault(n,a));l.addAll(this.getCapabilitiesIntersect(i,a));this.removeBlacklistedCapabilities(l,u);e.put(s,l);return}}e.put(s,n)};t.DfProcessor.prototype.getUrl=function(e){var r=this.getSystemDescription(e);t.XObjectExt.assertNotNullExt(r,t.XStringUtils.concatenate3("System with name '",e,"' not found"));return r.getUrl()};t.DfProcessor.prototype.getCapabilitiesIntersectWithDefault=function(t,e){var r=this.getCapabilitiesIntersect(t,e);if(r.isEmpty()){return t}return r};t.DfProcessor.prototype.getCapabilitiesIntersect=function(e,r){var s=t.XListOfString.create();if(t.notNull(r)){for(var n=0;n<r.size();n++){var i=r.get(n);if(e.contains(i)){s.add(i)}}}return s};t.DfProcessor.prototype.removeBlacklistedCapabilities=function(e,r){if(t.notNull(r)){for(var s=0;s<r.size();s++){e.removeElement(r.get(s))}}};t.DfProcessor.prototype.getRequestBody=function(e){t.XObjectExt.assertNotNullExt(e,"Request is empty");var r=e.getStructureByKey("Analytics");if(t.isNull(r)){r=e.getStructureByKey("Metadata");t.XObjectExt.assertNotNullExt(r,"Couldn't extract request body from the request")}return r};t.DfProcessor.prototype.getObjectNameFromRequest=function(e){var r=this.getRequestBody(e);var s=r.getStructureByKey("DataSource");t.XObjectExt.assertNotNullExt(s,"Couldn't extract data source from the request");return s.getStringByKey("ObjectName")};t.DfProcessor.prototype.getPackageNameFromRequest=function(e){var r=this.getRequestBody(e);var s=r.getStructureByKey("DataSource");t.XObjectExt.assertNotNullExt(s,"Couldn't extract data source from the request");return s.getStringByKey("PackageName")};t.DfProcessor.prototype.setApplication=function(t){this.m_application=t};t.DfProcessor.prototype.getApplication=function(){return this.m_application};t.DfProcessor.prototype.getProcess=function(){return this.m_application.getProcess()};t.InAMetadataBuilder=function(){};t.InAMetadataBuilder.prototype=new t.MessageManager;t.InAMetadataBuilder.prototype._ff_c="InAMetadataBuilder";t.InAMetadataBuilder.prototype.m_measureDimension=null;t.InAMetadataBuilder.prototype.releaseObject=function(){t.MessageManager.prototype.releaseObject.call(this);this.m_measureDimension=null};t.InAMetadataBuilder.prototype.createDimension=function(t,e){return this.createDimensionExt(t.getName(),t.getDescription(),t,e,null)};t.InAMetadataBuilder.prototype.createDimensionExt=function(e,r,s,n,i){var o=s.getName();var a=t.PrFactory.createStructure();a.putString("Name",e);a.putString("Description",r);a.putInteger("DimensionType",3);a.putString("KeyAttribute",o);a.putString("AxisDefault","Free");a.put("AxisConstraints",this.createAxisConstraints());a.putBoolean("HierarchiesPossible",false);a.put("AttributeHierarchy",this.createAttributesHierarchy(e,o,null));a.putNewList("DefaultResultSetAttributeNodesMd").addString(e);a.putNewList("Attributes").add(this.createDimensionKeyAttribute(s,e));var u=false;if(t.notNull(n)){u=n.isSortable();this.addDimensionTextAttribute(n,a,true)}a.putIfNotNull("ExtendedSortTypes",this.createExtendedSortTypes(false,s.isSortable(),u));var l=t.notNull(i)?i.size():0;for(var c=0;c<l;c++){this.addDimensionTextAttribute(i.get(c),a,false)}return a};t.InAMetadataBuilder.prototype.createMeasure=function(e){if(t.notNull(this.m_measureDimension)){this.m_measureDimension.getListByKey("Members").add(this.createStructureMember(e));if(!e.isSortable()&&this.m_measureDimension.containsKey("ExtendedSortTypes")){this.m_measureDimension.getListByKey("ExtendedSortTypes").clear()}return this.m_measureDimension}this.m_measureDimension=t.PrFactory.createStructure();this.m_measureDimension.putString("Name",t.ProcessorConstants.CUSTOM_DIM);this.m_measureDimension.putString("Description",t.ProcessorConstants.CUSTOM_DIM_DESCRIPTION);this.m_measureDimension.putInteger("DimensionType",2);this.m_measureDimension.putString("KeyAttribute",t.ProcessorConstants.CUSTOM_DIM_KEY);this.m_measureDimension.putString("TextAttribute",t.ProcessorConstants.CUSTOM_DIM_TEXT);this.m_measureDimension.put("AttributeHierarchy",this.createAttributesHierarchy(t.ProcessorConstants.CUSTOM_DIM,t.ProcessorConstants.CUSTOM_DIM_KEY,t.ProcessorConstants.CUSTOM_DIM_TEXT));this.m_measureDimension.putString("AxisDefault","Columns");this.m_measureDimension.putBoolean("IsDimensionGroup",true);this.m_measureDimension.put("AxisConstraints",this.createAxisConstraints());this.m_measureDimension.putBoolean("HierarchiesPossible",false);this.m_measureDimension.putNewList("DefaultResultSetAttributeNodesMd").addString(t.ProcessorConstants.CUSTOM_DIM);this.m_measureDimension.putNewList("Members").add(this.createStructureMember(e));this.m_measureDimension.putIfNotNull("ExtendedSortTypes",this.createExtendedSortTypes(e.isSortable(),e.isSortable(),false));var r=this.m_measureDimension.putNewList("Attributes");r.add(this.createMeasureKeyAttribute(e));r.add(this.createMeasureTextAttribute(e));return this.m_measureDimension};t.InAMetadataBuilder.prototype.createMeasureKeyAttribute=function(e){var r=this.createAttributeInternal(t.ProcessorConstants.CUSTOM_DIM_KEY,t.ProcessorConstants.CUSTOM_DIM_KEY_DESCRIPTION,t.ProcessorConstants.CUSTOM_DIM,"String",-1,e,true);r.putBoolean("IsKey",true);r.putString("PresentationType","Key");return r};t.InAMetadataBuilder.prototype.createMeasureTextAttribute=function(e){var r=this.createAttributeInternal(t.ProcessorConstants.CUSTOM_DIM_TEXT,t.ProcessorConstants.CUSTOM_DIM_TEXT_DESCRIPTION,t.ProcessorConstants.CUSTOM_DIM,"String",-1,e,true);r.putString("PresentationType","Text");return r};t.InAMetadataBuilder.prototype.createDimensionKeyAttribute=function(t,e){var r=this.createAttributeInternal(t.getName(),t.getDescription(),e,t.getDataType(),t.getMaxLength(),t,false);r.putBoolean("IsKey",true);r.putString("PresentationType","Key");return r};t.InAMetadataBuilder.prototype.addDimensionTextAttribute=function(t,e,r){var s=t.getName();var n=this.createAttributeInternal(s,t.getDescription(),e.getStringByKey("Name"),t.getDataType(),t.getMaxLength(),t,false);n.putString("PresentationType","Text");e.getListByKey("Attributes").add(n);var i=e.getStructureByKey("AttributeHierarchy");i.getListByKey("AttributeNames").addString(s);if(r){i.putString("DefaultTextAttribute",s);i.getListByKey("DefaultResultSetAttributes").addString(s)}};t.InAMetadataBuilder.prototype.createAttributeInternal=function(e,r,s,n,i,o,a){var u=o.isFilterable();var l=this.getDisplayFormat(o,n);var c=t.PrFactory.createStructure();c.putString("Name",e);c.putString("Description",r);c.putString("AliasName",e);c.putString("DataType",n);c.putString("DimensionName",s);c.putBoolean("IsFilterable",u);c.putBoolean("IsKey",false);if(i>-1){c.putInteger("Length",i)}c.putStringNotNull("DisplayFormat",l);if(t.XString.isEqual(t.XString.toLowerCase(l),t.XString.toLowerCase(t.ProcessorConstants.MD_PROPERTY_SAP_DISPLAY_FORMAT_UPPERCASE))){c.putString("TextTransformation","Uppercase")}if(u){if(a){var p=c.putNewStructure("FilterCapability").putNewStructure("Comparison");p.putNewList("Including").addString("=");p.putNewList("Excluding")}else{var S=this.createComparisonOperators();if(t.notNull(S)){var P=c.putNewStructure("FilterCapability").putNewStructure("Comparison");P.put("Including",S);P.put("Excluding",S)}}}return c};t.InAMetadataBuilder.prototype.createStructureMember=function(e){var r=t.PrFactory.createStructure();r.putString(t.ProcessorConstants.CUSTOM_DIM_KEY,e.getName());r.putString(t.ProcessorConstants.CUSTOM_DIM_TEXT,e.getDescription());r.putString("DataType",e.getDataType());var s=e.getNumericPrecision();var n=e.getNumericScale();if(t.notNull(s)){r.putInteger("NumericPrecision",s.getInteger())}if(t.notNull(n)){r.putInteger("NumericScale",n.getInteger())}var i=e.getUnitType();var o=e.getUnitPropertyName();var a=e.getUnitTextPropertyName();r.putStringNotNullAndNotEmpty("UnitType",i);if(t.notNull(o)&&!t.XString.isEqual(i,"UDF")){r.putString("UnitName",o);if(t.notNull(a)){r.putString("UnitTextName",a)}}return r};t.InAMetadataBuilder.prototype.getDisplayFormat=function(e,r){if(t.XString.isEqual(e.getName(),t.ProcessorConstants.CUSTOM_DIM_TEXT)){return r}var s=e.getDisplayFormat();if(t.isNull(s)){if(t.XString.isEqual(r,"Date")){return"Date"}if(t.XString.isEqual(r,"Time")){return"Time"}if(t.XString.isEqual(r,"Timestamp")){return"DateTime"}return r}return s};t.InAMetadataBuilder.prototype.createAttributesHierarchy=function(e,r,s){var n=t.PrFactory.createStructure();n.putString("Name",e);n.putString("DefaultKeyAttribute",r);n.putString("DefaultTextAttribute",t.notNull(s)?s:r);var i=n.putNewList("AttributeNames");i.addString(r);var o=n.putNewList("DefaultResultSetAttributes");o.addString(r);if(t.notNull(s)){i.addString(s);o.addString(s)}return n};t.InAMetadataBuilder.prototype.createComparisonOperators=function(){return null};t.InAMetadataBuilder.prototype.createExtendedSortTypes=function(t,e,r){return null};t.InAMetadataBuilder.prototype.createAxisConstraints=function(){var e=t.PrFactory.createList();e.addString("Free");e.addString("Rows");e.addString("Columns");return e};t.InAMetadataBuilder.prototype.createVariable=function(e,r,s,n,i){var o=t.PrFactory.createStructure();o.putString("Name",e);o.putString("Description",r);o.putString("InputType",s?"Mandatory":"Optional");o.putString("VariableType","SimpleTypeVariable");o.putString("ValueType",n);o.putBoolean("InputEnabled",true);o.putBoolean("MultipleValues",false);var a=t.XString.isEqual(n,"Int")||t.XString.isEqual(n,"Double")||t.XString.isEqual(n,"Long")||t.XString.isEqual(n,"DecimalFloat");var u=o.putNewList(a?"SimpleNumericValues":"SimpleStringValues");if(t.notNull(i)){u.add(i)}return o};t.InAMetadataBuilder.prototype.createCatalogServiceMetadata=function(){var e=t.PrFactory.createStructure();var r=e.putNewStructure("Cube");r.put("Dimensions",this.createCatalogServiceDimensions());r.put("Grids",t.PrFactory.createList());r.put("Description",t.PrFactory.createString("Query Catalog"));r.put("ResultSetFeatureCapabilities",this.createResultSetFeatureCapabilities());return e};t.InAMetadataBuilder.prototype.createResultSetFeatureCapabilities=function(){var e=t.PrFactory.createStructure();var r=e.putNewList("ResultFormat");r.addString("Version2");return e};t.InAMetadataBuilder.prototype.createCatalogServiceDimensions=function(){var e=this.createCatalogServiceDimensionProperty(t.ProcessorConstants.SERVICE_MD_DIM_OBJECT_NAME);var r=this.createCatalogServiceDimensionProperty(t.ProcessorConstants.SERVICE_MD_DIM_OBJECT_NAME_TEXT);var s=this.createDimension(e,r);var n=s.getListByKey("Attributes");for(var i=0;i<n.size();i++){n.getStructureAt(i).remove("FilterCapability")}s.putString("AxisDefault","Rows");var o=s.putNewList("AxisConstraints");o.addString("Rows");var a=t.PrFactory.createList();a.add(s);return a};t.InAResponseBuilder=function(){};t.InAResponseBuilder.prototype=new t.MessageManager;t.InAResponseBuilder.prototype._ff_c="InAResponseBuilder";t.InAResponseBuilder.create=function(e){var r=new t.InAResponseBuilder;r.m_inARequestParser=e;r.setupSessionContext(null);return r};t.InAResponseBuilder.prototype.m_inARequestParser=null;t.InAResponseBuilder.prototype.releaseObject=function(){t.MessageManager.prototype.releaseObject.call(this);this.m_inARequestParser=t.XObjectExt.release(this.m_inARequestParser)};t.InAResponseBuilder.prototype.convert=function(e){var r=t.PrFactory.createStructure();if(this.m_inARequestParser.isValid()&&t.notNull(e)){var s=r.putNewList("Grids");var n=s.addNewStructure();this.copyDataSource(r);this.copySubsetDescription(n);n.putString("ResultFormat","Version2");n.putString("ResultEncoding","None");n.putBoolean("InputEnabled",false);this.addAxesAndCells(n,e);n.putInteger("ResultSetState",0)}else{this.addError(t.ErrorCodes.PARSER_ERROR,"No valid response/request")}if(this.isValid()&&this.m_inARequestParser.isSerializedDataRequested()){var i=t.InAResponseParser.create(r);var o=t.InAResponseSerializer.create(i,this.m_inARequestParser);var a=o.createSerializedData();this.copyAllMessages(o);t.XObjectExt.release(o);t.XObjectExt.release(i);r.remove("Grids");r.put("SerializedData",a)}t.XObjectExt.release(e);if(this.hasErrors()){return this.createErrorResponse(this.getErrors())}return r};t.InAResponseBuilder.prototype.createErrorResponse=function(e){var r=t.PrFactory.createStructure();var s=r.putNewList("Messages");var n=e.size();for(var i=0;i<n;i++){var o=e.get(i);var a=s.addNewStructure();a.putString("Text",o.getText());a.putInteger("Type",2);a.putInteger("Number",o.getCode());a.putString("MessageClass","InAResponseBuilder")}return r};t.InAResponseBuilder.prototype.copyDataSource=function(e){var r=this.m_inARequestParser.getDataSource();if(t.notNull(r)){var s=e.putNewStructure("DataSource");s.copyFrom(r,null)}};t.InAResponseBuilder.prototype.copySubsetDescription=function(e){var r=this.m_inARequestParser.getSubsetDescription();if(t.notNull(r)){var s=e.putNewStructure("SubSetDescription");s.copyFrom(r,null)}};t.InAResponseBuilder.prototype.addAxesAndCells=function(t,e){var r=this.m_inARequestParser.getRowDimensions();var s=this.m_inARequestParser.getColumnDimensions();var n=t.putNewList("Axes");var i=r.size()+s.size();if(r.hasElements()){n.add(this.createAxisStructure(r,"Rows",e,i))}if(s.hasElements()){n.add(this.createAxisStructure(s,"Columns",e,i))}if(e.size()>0){var o=this.createCells(e);t.put("Cells",o);var a=this.m_inARequestParser.getStructureMembers();var u=this.m_inARequestParser.containsMeasureDimension(r);t.put("CellArraySizes",this.createCellArraySizes(o,a,u))}};t.InAResponseBuilder.prototype.createAxisStructure=function(e,r,s,n){var i=this.createAxis(r);var o=e.size();for(var a=0;a<o;a++){var u=e.getStructureAt(a);var l=i.getListByKey("Tuples").addNewStructure();var c=this.createValueList(l,"MemberIndexes");var p=this.createValueList(l,"ParentIndexes");var S=this.createValueList(l,"DisplayLevel");var P=this.createValueList(l,"DrillState");var g=this.createDimension(u,i);var _=this.createValueList(g,"MemberTypes");var y=this.createAttributes(u.getListByKey("Attributes"),g);var E=this.getFirstAttribute(y,true);var R;if(t.InAParser.isStructure(g)){var A=this.getFirstAttribute(y,false);var d=this.m_inARequestParser.getStructureMembers();if(t.XCollectionUtils.hasElements(d)&&t.notNull(E)){R=E.getListByKey("Values");var m=t.notNull(A)?A.getListByKey("Values"):null;var D=d.size();for(var I=0;I<D;I++){var f=d.get(I);R.addString(this.m_inARequestParser.getStructureMemberName(f));if(t.notNull(m)){m.addString(this.m_inARequestParser.getStructureMemberDescription(f))}_.addInteger(0);c.addInteger(I);p.addInteger(-1);S.addInteger(0);P.addInteger(0)}}}else{if(t.isNull(E)){this.addError(t.ErrorCodes.PARSER_ERROR,t.XStringUtils.concatenate2("No key attribute found for dimension ",t.InAParser.getName(u)));return null}var C=t.InAParser.getName(u);var v=t.InAParser.getName(E);var T=this.m_inARequestParser.getDisplayFormat(C,v);R=E.getListByKey("Values");var N=s.size();for(var O=0;O<N;O++){var h=s.getResultEntryAt(O);var M=this.convertDimensionMember(h.getElement(C,v),T);if(t.isNull(M)){this.addError(t.ErrorCodes.PARSER_ERROR,t.XStringUtils.concatenate2("Property not found in resultset entry: ",v));return null}if(t.PrUtils.contains(R,M)){if(n===1){continue}}else{this.addValuesToAllAttributes(C,y,h);_.addInteger(0)}c.addInteger(t.PrUtils.indexOf(R,M));p.addInteger(-1);S.addInteger(0);P.addInteger(0)}}}i.putInteger("TupleCount",this.getTupleCount(i));return i};t.InAResponseBuilder.prototype.addValuesToAllAttributes=function(e,r,s){var n=r.size();for(var i=0;i<n;i++){var o=r.getStructureAt(i);var a=t.InAParser.getName(o);var u=o.getListByKey("Values");var l=this.m_inARequestParser.getDisplayFormat(e,a);var c=this.convertDimensionMember(s.getElement(e,a),l);u.add(c)}};t.InAResponseBuilder.prototype.convertDimensionMember=function(e,r){if(t.isNull(e)){return this.createEmptyValue(r)}var s=t.ProcessorDateConverter.convert(e,r);if(t.notNull(s)){return s}if(e.isList()){var n=t.PrUtils.asListOfString(e.asList());return t.PrFactory.createString(t.XCollectionUtils.join(n,","))}return this.convertToDataType(e,r)};t.InAResponseBuilder.prototype.createEmptyValue=function(e){switch(e){case"Int":return t.PrFactory.createInteger(0);case"Double":return t.PrFactory.createDouble(0);case"DecimalFloat":return t.PrFactory.createDouble(0);case"Long":return t.PrFactory.createLong(0);case"Bool":return t.PrFactory.createBoolean(false);default:return t.PrFactory.createString("")}};t.InAResponseBuilder.prototype.getTupleCount=function(e){var r=t.PrUtils.getListProperty(e,"Tuples");var s=t.PrUtils.getStructureElement(r,0);var n=t.PrUtils.getStructureProperty(s,"MemberIndexes");var i=t.PrUtils.getListProperty(n,"Values");if(t.notNull(i)){return i.size()}return 0};t.InAResponseBuilder.prototype.createValueList=function(t,e){var r=t.putNewStructure(e);r.putString("Encoding","None");return r.putNewList("Values")};t.InAResponseBuilder.prototype.createAxis=function(e){var r=t.PrFactory.createStructure();r.putString("Name",t.XString.toUpperCase(e));r.putString("Type",e);r.putNewList("Dimensions");r.putNewList("Tuples");return r};t.InAResponseBuilder.prototype.createDimension=function(e,r){var s=t.PrFactory.createStructure();r.getListByKey("Dimensions").add(s);s.putString("Name",t.InAParser.getName(e));s.putStringNotNull("Description",e.getStringByKey("Description"));s.putNewList("Attributes");return s};t.InAResponseBuilder.prototype.createAttributes=function(e,r){var s=r.getListByKey("Attributes");var n=e.size();for(var i=0;i<n;i++){var o=e.getStructureAt(i);var a=t.InAParser.isKeyAttribute(o);if(a||t.InAParser.hasObtainabilityAlways(o)){s.add(this.createAttribute(a,o))}}return s};t.InAResponseBuilder.prototype.getFirstAttribute=function(t,e){var r=t.size();for(var s=0;s<r;s++){var n=t.getStructureAt(s);if(n.getBooleanByKey("IsKey")===e){return n}}return null};t.InAResponseBuilder.prototype.createAttribute=function(e,r){var s=t.PrFactory.createStructure();s.putString("Name",t.InAParser.getName(r));s.putStringNotNull("Description",r.getStringByKey("Description"));s.putStringNotNull("Obtainability",r.getStringByKey("Obtainability"));s.putBoolean("IsKey",e);s.putNewList("Values");return s};t.InAResponseBuilder.prototype.createCells=function(e){var r=t.PrFactory.createStructure();var s=this.createValueList(r,"Values");var n=this.createValueList(r,"ValuesFormatted");var i=this.createValueList(r,"CellDataType");var o=this.createValueList(r,"Exceptions");var a=this.createValueList(r,"CellFormat");var u=null;var l=null;var c=null;var p=null;var S=this.m_inARequestParser.getStructureMembers();if(t.XCollectionUtils.hasElements(S)){var P=e.size();var g=S.size();for(var _=0;_<g;_++){if(t.XStringUtils.isNotNullAndNotEmpty(S.get(_).getStringByKey("UnitName"))){u=this.createValueList(r,"Units");l=this.createValueList(r,"UnitDescriptions");c=this.createValueList(r,"UnitTypes");p=this.createValueList(r,"UnitPositions");break}}for(var y=0;y<P;y++){var E=e.getResultEntryAt(y);for(var R=0;R<g;R++){var A=S.get(R);var d=this.m_inARequestParser.getStructureMemberName(A);var m=this.ensureMeasureNotNull(E.getElement(t.ProcessorConstants.CUSTOM_DIM,d));var D=t.PrUtils.getStringValueProperty(A,"DataType","DecimalFloat");s.add(this.convertToDataType(m,D));n.addString(this.asString(m));i.addString(D);o.addInteger(0);a.addString("");if(t.notNull(u)){var I=E.getElement(t.ProcessorConstants.CUSTOM_DIM,A.getStringByKey("UnitName"));var f=E.getElement(t.ProcessorConstants.CUSTOM_DIM,A.getStringByKey("UnitTextName"));var C=A.getStringByKey("UnitType");if(t.notNull(I)&&!t.XString.isEqual(C,"UDF")){u.addString(this.asString(I));l.addString(this.getUnitDescription(f,I));c.addInteger(this.getUnitTypeAsInt(C));p.addInteger(1)}else{u.addString("");l.addString("");c.addInteger(0);p.addInteger(0)}}}}}return r};t.InAResponseBuilder.prototype.ensureMeasureNotNull=function(e){if(t.isNull(e)){return t.PrFactory.createInteger(0)}return e};t.InAResponseBuilder.prototype.convertToDataType=function(e,r){if(t.XString.isEqual(r,"String")&&!e.isString()||t.XString.isEqual(r,"Double")&&!e.isDouble()||t.XString.isEqual(r,"DecimalFloat")&&!e.isDouble()||t.XString.isEqual(r,"Int")&&!e.isInteger()||t.XString.isEqual(r,"Long")&&!e.isLong()||t.XString.isEqual(r,"Bool")&&!e.isBoolean()){return this.convertValueToDataType(e,r)}return e};t.InAResponseBuilder.prototype.convertValueToDataType=function(e,r){var s=this.asString(e);if(t.XStringUtils.isNullOrEmpty(s)){return this.createEmptyValue(r)}switch(r){case"String":return t.PrFactory.createString(s);case"Double":return t.PrFactory.createDouble(t.XDouble.convertFromString(s));case"DecimalFloat":return t.PrFactory.createDouble(t.XDouble.convertFromString(s));case"Int":return t.PrFactory.createInteger(t.XInteger.convertFromString(s));case"Long":return t.PrFactory.createLong(t.XLong.convertFromString(s));case"Bool":return t.PrFactory.createBoolean(t.XBoolean.convertFromString(s));default:return e}};t.InAResponseBuilder.prototype.asString=function(t){if(t.isString()){return t.asString().getString()}return t.getStringRepresentation()};t.InAResponseBuilder.prototype.getUnitDescription=function(e,r){if(t.notNull(e)){return this.asString(e)}return this.asString(r)};t.InAResponseBuilder.prototype.getUnitTypeAsInt=function(e){if(t.XString.isEqual(e,"CUR")){return 1}else if(t.XString.isEqual(e,"UNI")){return 2}return-1};t.InAResponseBuilder.prototype.createCellArraySizes=function(e,r,s){var n=0;var i=r.size();var o=t.PrUtils.getListProperty(t.PrUtils.getStructureProperty(e,"Values"),"Values");if(!t.PrUtils.isListEmpty(o)){n=o.size()/i}var a=t.PrFactory.createList();if(s){a.addInteger(i);a.addInteger(n)}else{a.addInteger(n);a.addInteger(i)}return a};t.InAResponseSerializer=function(){};t.InAResponseSerializer.prototype=new t.MessageManager;t.InAResponseSerializer.prototype._ff_c="InAResponseSerializer";t.InAResponseSerializer.create=function(e,r){var s=new t.InAResponseSerializer;s.m_inaResponse=e;s.m_inARequest=r;s.setupSessionContext(null);return s};t.InAResponseSerializer.prototype.m_inaResponse=null;t.InAResponseSerializer.prototype.m_inARequest=null;t.InAResponseSerializer.prototype.m_currentCurrencyId=0;t.InAResponseSerializer.prototype.m_currentUnitId=0;t.InAResponseSerializer.prototype.releaseObject=function(){t.MessageManager.prototype.releaseObject.call(this);this.m_inaResponse=null;this.m_inARequest=null};t.InAResponseSerializer.prototype.resetIdCounter=function(){this.m_currentCurrencyId=16;this.m_currentUnitId=256};t.InAResponseSerializer.prototype.createSerializedData=function(){if(!this.m_inARequest.isValid()||!this.m_inaResponse.isValid()){this.addError(t.ErrorCodes.PARSER_ERROR,"Request or response structure is not valid");return null}var e=this.createView();var r=this.createCube();var s=t.XByteArray.create(null,8);s.setByteAt(5,1);var n=t.XCollectionUtils.concatenateByteArrays(s,t.XByteArray.convertFromString(e));var i=t.XCollectionUtils.concatenateByteArrays(s,t.XByteArray.convertFromString(r));var o=t.PrFactory.createStructure();o.putString("View",t.XHttpUtils.encodeByteArrayToBase64(n));o.putString("Cube",t.XHttpUtils.encodeByteArrayToBase64(i));return o};t.InAResponseSerializer.prototype.createView=function(){var e=this.m_inARequest.getDataSource();var r=t.PrFactory.createStructure();r.putString(t.ProcessorConstants.SD_DESCRIPTION,e.getStringByKeyExt("ObjectName",""));r.putInteger(t.ProcessorConstants.SD_MESSAGE_VERSION,1);r.putInteger(t.ProcessorConstants.SD_LAST_CHANGED_AT,0);var s=r.putNewList(t.ProcessorConstants.SD_DIMENSION_MAP);var n=r.putNewList(t.ProcessorConstants.SD_VIEW_COLUMNS);var i=this.m_inARequest.getAllDimensions();var o=i.size();for(var a=0;a<o;a++){var u=i.getStructureAt(a);var l=null;var c=u.getListByKey("Attributes");var p=c.size();for(var S=0;S<p;S++){var P=c.getStructureAt(S);n.add(this.createViewColumn(u,P));if(t.isNull(l)||P.getBooleanByKeyExt("IsKey",false)){l=t.InAParser.getName(P)}}s.add(this.createViewDimension(u,l))}var g=r.putNewStructure(t.ProcessorConstants.SD_DATA_SOURCE_KEY);g.copyFrom(e,null);g.remove("GenericServiceDescription");g.putBoolean(t.ProcessorConstants.SD_IS_TEMPORARY,false);return r.toString()};t.InAResponseSerializer.prototype.createViewDimension=function(e,r){var s=t.InAParser.getName(e);var n=t.PrFactory.createStructure();n.putString(t.ProcessorConstants.SD_KEY,s);var i=n.putNewStructure(t.ProcessorConstants.SD_VALUE);i.putString(t.ProcessorConstants.SD_NAME,s);i.putString(t.ProcessorConstants.SD_UNIQUE_NAME,t.XStringUtils.concatenate3("[",s,"]"));i.putString(t.ProcessorConstants.SD_DESCRIPTION,s);i.putBoolean(t.ProcessorConstants.SD_IS_MODELED,true);i.putBoolean(t.ProcessorConstants.SD_USE_UNIQUE_ATTRIBUTE_NAME,false);i.putString(t.ProcessorConstants.SD_KEY_COLUMN_NAME,r);if(t.InAParser.isStructure(e)){i.putInteger(t.ProcessorConstants.SD_DIMENSION_TYPE,2);i.putBoolean(t.ProcessorConstants.SD_IS_DIMENSION_GROUP,true);var o=e.getListByKey("Members");var a=i.putNewList(t.ProcessorConstants.SD_DIMENSION_MEMBERS);var u=o.size();for(var l=0;l<u;l++){var c=o.getStructureAt(l);var p=this.m_inARequest.getStructureMemberName(c);var S=this.m_inARequest.getStructureMemberDescription(c);if(t.XStringUtils.isNotNullAndNotEmpty(p)){var P=a.addNewStructure();P.putString(t.ProcessorConstants.SD_NAME,p);P.putString(t.ProcessorConstants.SD_DESCRIPTION,S)}}}else{i.putInteger(t.ProcessorConstants.SD_DIMENSION_TYPE,3);i.putBoolean(t.ProcessorConstants.SD_IS_DIMENSION_GROUP,false)}return n};t.InAResponseSerializer.prototype.createViewColumn=function(e,r){var s=t.InAParser.getName(r);var n=t.InAParser.isStructure(e);var i=t.InAParser.isKeyAttribute(r);var o=t.PrFactory.createStructure();var a=o.putNewList(t.ProcessorConstants.SD_DIMENSIONS);a.addString(t.InAParser.getName(e));o.putString(t.ProcessorConstants.SD_SQL_TYPE,t.ProcessorConstants.SD_SQL_TYPE_STRG);o.putBoolean(t.ProcessorConstants.SD_IS_MEASURE,n);o.put(t.ProcessorConstants.SD_TYPE,this.createTypeDefinition());o.putString(t.ProcessorConstants.SD_DESCRIPTION,s);o.putString(t.ProcessorConstants.SD_NAME_IN_VIEW,s);o.putInteger(t.ProcessorConstants.SD_UNIT_TYPE,0);o.putInteger(t.ProcessorConstants.SD_AGGREGATION,0);o.putBoolean(t.ProcessorConstants.SD_IS_VIRTUAL_DESCRIPTION,false);o.putBoolean(t.ProcessorConstants.SD_EXISTS_UNIT_CONVERSION,false);o.putBoolean(t.ProcessorConstants.SD_EXISTS_RESTRICTION,false);o.putBoolean(t.ProcessorConstants.SD_IS_DESCRIPTION_COLUMN,!i);o.putBoolean(t.ProcessorConstants.SD_IS_DESCRIPTION_FROM_KEY_COLUMN,false);return o};t.InAResponseSerializer.prototype.createTypeDefinition=function(){var e=t.PrFactory.createStructure();e.putInteger(t.ProcessorConstants.SD_TYPE_VALUE_CLASS,83);return e};t.InAResponseSerializer.prototype.createCube=function(){var e=t.PrFactory.createStructure();e.putInteger(t.ProcessorConstants.SD_MESSAGE_VERSION,1);var r=e.putNewList(t.ProcessorConstants.SD_CUBE_AXES);r.add(this.createAxisStructure(t.ProcessorConstants.SD_ROWS,0,this.m_inaResponse.getRowDimensions()));r.add(this.createAxisStructure(t.ProcessorConstants.SD_COLUMNS,1,this.m_inaResponse.getColumnDimensions()));e.put(t.ProcessorConstants.SD_ENTITIES,this.createEntities(e));return e.toString()};t.InAResponseSerializer.prototype.createAxisStructure=function(e,r,s){var n=t.PrFactory.createStructure();n.putString(t.ProcessorConstants.SD_NAME,e);n.putInteger(t.ProcessorConstants.SD_AXIS_POSITION,r);n.putInteger(t.ProcessorConstants.SD_BEGIN_POS_IN_TUPLE,0);n.putBoolean(t.ProcessorConstants.SD_PART_OF_RESULT_GRID,true);var i=n.putNewList(t.ProcessorConstants.SD_DIMENSIONS);var o=t.PrUtils.getListSize(s,0);for(var a=0;a<o;a++){var u=s.getStructureAt(a);var l=t.InAParser.getName(u);var c=i.addNewStructure();var p=c.putNewStructure(t.ProcessorConstants.SD_MEMBERS);var S=p.putNewList(t.ProcessorConstants.SD_MEMBER_COLS);var P=p.putNewList(t.ProcessorConstants.SD_MEMBER_REF_COLS);var g=c.putNewList(t.ProcessorConstants.SD_ATTRIBUTES);var _=u.getListByKey("Attributes");var y=null;var E=_.size();for(var R=0;R<E;R++){var A=_.getStructureAt(R);var d=t.InAParser.getName(A);var m=S.addNewStructure();m.putString(t.ProcessorConstants.SD_MEMBER_COLS_COLUMN_NAME,d);m.putInteger(t.ProcessorConstants.SD_MEMBER_COLS_COLUMN_TYPE,83);var D=m.putNewList(t.ProcessorConstants.SD_VALUES);D.copyFrom(A.getListByKey("Values"),null);var I=this.createCubeAttribute(u,A);g.add(I);if(I.getBooleanByKey(t.ProcessorConstants.SD_IS_KEY_ATTRIBUTE)){y=A;var f=P.addNewStructure();f.putString(t.ProcessorConstants.SD_MEMBER_REF_COLS_COL_NAME,l);f.putString(t.ProcessorConstants.SD_MEMBER_REF_COLS_NAME,d)}}if(t.isNull(y)){this.addError(t.ErrorCodes.PARSER_ERROR,t.XStringUtils.concatenate2("No key attribute found for dimension ",l));return null}c.putString(t.ProcessorConstants.SD_NAME,l);c.putString(t.ProcessorConstants.SD_UNIQUE_NAME,t.XStringUtils.concatenate3("[",l,"]"));c.put(t.ProcessorConstants.SD_CURRENT_TYPE,this.createTypeDefinition());c.put(t.ProcessorConstants.SD_VIEW_COLUMN,this.createViewColumn(u,y));c.putBoolean(t.ProcessorConstants.SD_IS_AGGREGATABLE,!t.InAParser.isStructure(u));c.putBoolean(t.ProcessorConstants.SD_HIERARCHY_DISPLAYED,false);c.putString(t.ProcessorConstants.SD_COLUMN_NAME_IN_INPUT,l)}return n};t.InAResponseSerializer.prototype.createCubeAttribute=function(e,r){var s=t.PrFactory.createStructure();var n=t.InAParser.getName(r);s.putString(t.ProcessorConstants.SD_NAME,n);s.putString(t.ProcessorConstants.SD_COLUMN_NAME_IN_INPUT,n);s.putBoolean(t.ProcessorConstants.SD_IS_KEY_ATTRIBUTE,t.PrUtils.getBooleanValueProperty(r,"IsKey",false));s.put(t.ProcessorConstants.SD_CURRENT_TYPE,this.createTypeDefinition());s.put(t.ProcessorConstants.SD_VIEW_COLUMN,this.createViewColumn(e,r));return s};t.InAResponseSerializer.prototype.createEntities=function(e){var r=t.PrFactory.createStructure();this.setupEntity(r,0);this.addEntitiesForDimensions(r,this.m_inaResponse.getRowDimensions(),"Rows");this.addEntitiesForDimensions(r,this.m_inaResponse.getColumnDimensions(),"Columns");this.addMeasureValuesToEntities(r,e);return r};t.InAResponseSerializer.prototype.setupEntity=function(e,r){var s=e.putNewStructure(t.XInteger.convertToString(r));s.putNewList(t.ProcessorConstants.SD_HAS_EXCEPTION_SETTINGS).addBoolean(false);s.putNewList(t.ProcessorConstants.SD_IS_HIDDEN).addBoolean(false);s.putNewList(t.ProcessorConstants.SD_AGGREGATION).addInteger(0);s.putNewList(t.ProcessorConstants.SD_DIGITS_SHIFT).addInteger(0);s.putNewList(t.ProcessorConstants.SD_FRACT_DIGITS).addInteger(0);s.putNewList(t.ProcessorConstants.SD_TYPE_INT_DIGITS).addInteger(32);s.putNewList(t.ProcessorConstants.SD_RESULT_STRUCTURE).addString(t.ProcessorConstants.SD_RESULT_STRUCTURE_SEMANTIC_MEMBERS);s.putNewList(t.ProcessorConstants.SD_VALUE_CLASS).addString(t.ProcessorConstants.SD_VALUE_CLASS_STRING);s.putNewList(t.ProcessorConstants.SD_VALUE_EXCEPTION_TYPE).addString(t.ProcessorConstants.SD_VALUE_EXCEPTION_NORMAL);s.putNewList(t.ProcessorConstants.SD_STRING_VALUE);s.putNewList(t.ProcessorConstants.SD_UNIT_INDEX);s.putNewList(t.ProcessorConstants.SD_UNIT_TYPE);return s.putNewList(t.ProcessorConstants.SD_DIMENSION_TUPLES)};t.InAResponseSerializer.prototype.addEntitiesForDimensions=function(e,r,s){var n=t.PrUtils.getListSize(r,0);for(var i=0;i<n;i++){var o=r.getStructureAt(i);var a=this.m_inaResponse.getMemberIndexesAt(s,i);if(t.isNull(a)){this.addError(t.ErrorCodes.PARSER_ERROR,t.XStringUtils.concatenate2("No member indexes found for dimension ",t.InAParser.getName(o)));return}if(t.InAParser.isStructure(o)){var u=e.getStructureByKey("0").getListByKey(t.ProcessorConstants.SD_DIMENSION_TUPLES);var l=a.size();for(var c=1;c<l;c++){var p=this.setupEntity(e,c);p.copyFrom(u,null);this.addMeasureTuple(p,a.getIntegerAt(c))}this.addMeasureTuple(u,a.getIntegerAt(0))}else{this.addTupleToAllEntities(e,a)}}};t.InAResponseSerializer.prototype.addTupleToAllEntities=function(e,r){var s=e.size();for(var n=0;n<s;n++){var i=e.getStructureByKey(t.XInteger.convertToString(n));var o=i.getListByKey(t.ProcessorConstants.SD_DIMENSION_TUPLES);var a=o.addNewStructure();a.put(t.ProcessorConstants.SD_TUPLE,r)}};t.InAResponseSerializer.prototype.addMeasureTuple=function(e,r){var s=e.addNewStructure();var n=s.putNewList(t.ProcessorConstants.SD_TUPLE);var i=this.m_inaResponse.getTupleCountNonMeasureAxis();for(var o=0;o<i;o++){n.addInteger(r)}};t.InAResponseSerializer.prototype.addMeasureValuesToEntities=function(e,r){var s=e.size();if(s>0){var n=this.m_inaResponse.getValues("ValuesFormatted");var i=this.m_inaResponse.getValues("UnitTypes");var o=this.m_inaResponse.getValues("Units");var a=!t.PrUtils.isListEmpty(i)&&!t.PrUtils.isListEmpty(o);this.resetIdCounter();var u=t.XHashMapByString.create();var l=n.size();for(var c=0;c<s;c++){var p=e.getStructureByKey(t.XInteger.convertToString(c));var S=t.XHashMapByString.create();for(var P=c;P<l;P=P+s){p.getListByKey(t.ProcessorConstants.SD_STRING_VALUE).addString(n.getStringAt(P));var g=0;var _=0;if(a&&t.XStringUtils.isNotNullAndNotEmpty(o.getStringAt(P))){g=i.getIntegerAt(P);var y=o.getStringAt(P);if(!S.containsKey(y)){this.addCubeUnit(r,S,u,p,g,y)}_=S.getByKey(y).getInteger()}p.getListByKey(t.ProcessorConstants.SD_UNIT_TYPE).addInteger(g);p.getListByKey(t.ProcessorConstants.SD_UNIT_INDEX).addInteger(_)}}}};t.InAResponseSerializer.prototype.addCubeUnit=function(t,e,r,s,n,i){var o;if(r.containsKey(i)){o=r.getByKey(i).getInteger()}else{if(n===3){o=this.m_currentCurrencyId;this.m_currentCurrencyId++}else{o=this.m_currentUnitId;this.m_currentUnitId++}this.addGlobalCubeUnit(t,r,i,o)}this.addEntityCubeUnit(s,e,i,o)};t.InAResponseSerializer.prototype.addGlobalCubeUnit=function(e,r,s,n){var i=e.getListByKey(t.ProcessorConstants.SD_CUBE_UNIT_HANDLER_KEY);if(t.isNull(i)){i=e.putNewList(t.ProcessorConstants.SD_CUBE_UNIT_HANDLER_KEY)}var o=e.getListByKey(t.ProcessorConstants.SD_CUBE_UNIT_HANDLER_VALUE);if(t.isNull(o)){o=e.putNewList(t.ProcessorConstants.SD_CUBE_UNIT_HANDLER_VALUE)}i.addString(s);var a=o.addNewStructure();a.putInteger(t.ProcessorConstants.SD_ID,n);a.putInteger(t.ProcessorConstants.SD_EXPONENT,1);r.put(s,t.XIntegerValue.create(i.size()))};t.InAResponseSerializer.prototype.addEntityCubeUnit=function(e,r,s,n){var i=e.getListByKey(t.ProcessorConstants.SD_COMPLEX_UNITS);if(t.isNull(i)){i=e.putNewList(t.ProcessorConstants.SD_COMPLEX_UNITS)}var o=i.addNewStructure();var a=o.putNewList(t.ProcessorConstants.SD_CUBE_UNIT);var u=a.addNewStructure();u.putInteger(t.ProcessorConstants.SD_ID,n);u.putInteger(t.ProcessorConstants.SD_EXPONENT,1);r.put(s,t.XIntegerValue.create(i.size()))};t.GSAMetadataBuilder=function(){};t.GSAMetadataBuilder.prototype=new t.InAMetadataBuilder;t.GSAMetadataBuilder.prototype._ff_c="GSAMetadataBuilder";t.GSAMetadataBuilder.create=function(){var e=new t.GSAMetadataBuilder;e.setupSessionContext(null);return e};t.GSAMetadataBuilder.prototype.createMetadata=function(e){var r=e.asStructure();var s=t.InARequestParser.create(r);var n=s.getServiceDescription();if(t.isNull(n)){this.addErrorWithMessage("Service description is missing");return null}var i=t.PrFactory.createStructure();var o=i.putNewStructure("Cube");o.put("Capabilities",t.PrUtils.createDeepCopy(s.getCapabilities()));o.put("DataSource",t.PrUtils.createDeepCopy(s.getDataSource()));o.put("Dimensions",this.createDimensions(n));o.putIfNotNull("Variables",this.createVariables(n));t.XObjectExt.release(s);return i};t.GSAMetadataBuilder.prototype.createDimensions=function(e){var r=t.PrFactory.createList();var s=e.getListByKey(t.ProcessorGSAConstants.DIMENSIONS);var n=t.PrUtils.getListSize(s,0);for(var i=0;i<n;i++){var o=s.getStructureAt(i);var a=o.getStringByKey(t.ProcessorGSAConstants.NAME);var u=o.getStringByKeyExt(t.ProcessorGSAConstants.DESCRIPTION,a);var l=null;var c=null;var p=t.XList.create();var S=o.getListByKey(t.ProcessorGSAConstants.ATTRIBUTES);var P=S.size();for(var g=0;g<P;g++){var _=S.getStructureAt(g);var y=_.getStringByKey(t.ProcessorGSAConstants.NAME);var E=_.getStringByKey(t.ProcessorGSAConstants.DESCRIPTION);var R=_.getStringByKey(t.ProcessorGSAConstants.TYPE);var A=_.getIntegerByKeyExt(t.ProcessorGSAConstants.LENGTH,0);var d=t.GSAMdProperty.create(y,E,R,A);if(t.isNull(l)&&_.getBooleanByKeyExt(t.ProcessorGSAConstants.IS_KEY,false)){l=d}else if(t.isNull(c)&&_.getBooleanByKeyExt(t.ProcessorGSAConstants.IS_DEFAULT_TEXT,false)){c=d}else{p.add(d)}}r.add(this.createDimensionExt(a,u,l,c,p))}var m=this.createMeasureDimension(e);if(t.notNull(m)){r.add(m)}return r};t.GSAMetadataBuilder.prototype.createMeasureDimension=function(e){var r=null;var s=e.getListByKey(t.ProcessorGSAConstants.MEASURES);var n=t.PrUtils.getListSize(s,0);for(var i=0;i<n;i++){var o=s.getStructureAt(i);var a=o.getStringByKey(t.ProcessorGSAConstants.NAME);var u=o.getStringByKey(t.ProcessorGSAConstants.DESCRIPTION);var l=o.getStringByKey(t.ProcessorGSAConstants.TYPE);var c=o.getIntegerByKeyExt(t.ProcessorGSAConstants.NUMERIC_PRECISION,-1);var p=o.getIntegerByKeyExt(t.ProcessorGSAConstants.NUMERIC_SCALE,-1);r=this.createMeasure(t.GSAMdProperty.createMeasure(a,u,l,c,p))}return r};t.GSAMetadataBuilder.prototype.createVariables=function(e){var r=t.PrFactory.createList();var s=e.getListByKey(t.ProcessorGSAConstants.PARAMETERS);var n=t.PrUtils.getListSize(s,0);for(var i=0;i<n;i++){var o=s.getStructureAt(i);if(o.getBooleanByKeyExt(t.ProcessorGSAConstants.IS_VARIABLE,true)){var a=o.getStringByKey(t.ProcessorGSAConstants.NAME);var u=o.getStringByKey(t.ProcessorGSAConstants.DESCRIPTION);var l=o.getStringByKey(t.ProcessorGSAConstants.VALUE_TYPE);var c=o.getByKey(t.ProcessorGSAConstants.DEFAULT_VALUE);var p=o.getBooleanByKeyExt(t.ProcessorGSAConstants.IS_MANDATORY,false);r.add(this.createVariable(a,u,p,l,c))}}return r.hasElements()?r:null};t.GSAMetadataBuilder.prototype.createCatalogServiceDimensionProperty=function(t){return null};t.ProcessorGSA=function(){};t.ProcessorGSA.prototype=new t.DfProcessor;t.ProcessorGSA.prototype._ff_c="ProcessorGSA";t.ProcessorGSA.create=function(){var e=new t.ProcessorGSA;e.setupProcessor();return e};t.ProcessorGSA.prototype.processCapabilities=function(e){var r=t.XListOfString.create();r.add(t.InACapabilities.C012_ENCODED_RESULTSET);r.add(t.InACapabilities.C048_MEMBER_VISIBILITY);r.add(t.InACapabilities.C005_OBTAINABILITY);r.add(t.InACapabilities.C003_CLIENT_CAPABILITIES);r.add(t.InACapabilities.C004_METADATA_SERVICE);r.add(t.InACapabilities.C007_RESPONSE_FIXED_ATTRIBUTE_SEQUENCE);r.add(t.InACapabilities.C001_DATASOURCE_AT_SERVICE);r.add(t.InACapabilities.C091_CUBE_BLENDING);r.add(t.InACapabilities.C093_REMOTE_BLENDING);var s=t.XHashMapByString.create();this.addServiceWithCapabilities(s,e,"Analytics",r,t.XListOfString.create());return t.InAServerInfoBuilder.buildServerInfoResponse(s,this.getSystemDescription(e).getLanguage(),e)};t.ProcessorGSA.prototype.getMetadataUrl=function(t,e){return null};t.ProcessorGSA.prototype.processMetadata=function(e,r){var s=t.GSAMetadataBuilder.create();var n=s.createMetadata(r);this.copyAllMessages(s);t.XObjectExt.release(s);return t.InAProcessorResult.create(n)};t.ProcessorGSA.prototype.getResultsetUrl=function(e,r){var s=this.getUrl(e);var n=t.GSAResultSetUrl.createUrl(s,this.getObjectNameFromRequest(r),r);return t.XCollectionUtils.singletonList(t.InAProcessorRequest.create(n,t.ContentType.APPLICATION_JSON,null))};t.ProcessorGSA.prototype.processResultset=function(e,r){var s=t.InARequestParser.create(r);var n=t.InAResponseBuilder.create(s);var i=null;var o=this.parseResonse(e);if(t.notNull(o)){var a=t.GSAResult.createGenericServiceResult(o,s);var u=t.OrderedProcessorResult.create(a,s.getNonMeasureAxis());i=n.convert(u);this.copyAllMessages(n)}else{this.addError(t.ErrorCodes.PARSER_ERROR,"Response from service could not be read")}if(t.isNull(i)){i=n.createErrorResponse(this.getErrors())}t.XObjectExt.release(n);return t.InAProcessorResult.create(i)};t.ProcessorGSA.prototype.parseResonse=function(e){var r=e.get(0);var s=r.getResponse();if(t.notNull(s)){return s}return t.PrFactory.createString(r.getResponseAsString())};t.ODataMetadataConverter=function(){};t.ODataMetadataConverter.prototype=new t.InAMetadataBuilder;t.ODataMetadataConverter.prototype._ff_c="ODataMetadataConverter";t.ODataMetadataConverter.create=function(){var e=new t.ODataMetadataConverter;e.setupSessionContext(null);return e};t.ODataMetadataConverter.prototype.getSchemas=function(e){var r=t.PrUtils.getStructureProperty(e,t.ProcessorODataConstants.MD_ENTITY_DATA_MODEL);var s=t.PrUtils.getStructureProperty(r,t.ProcessorODataConstants.MD_DATA_SERVICES);var n=t.PrUtils.getPropertyAsList(s,t.ProcessorODataConstants.MD_SCHEMA);if(t.isNull(n)){this.addError(t.ErrorCodes.PARSER_ERROR,"No schemas found in metadata response")}return n};t.ODataMetadataConverter.prototype.checkODataVersion=function(e,r){var s=t.PrUtils.getStructureProperty(e,t.ProcessorODataConstants.MD_ENTITY_DATA_MODEL);var n=t.PrUtils.getStructureProperty(s,t.ProcessorODataConstants.MD_DATA_SERVICES);var i=t.PrUtils.getStringValueProperty(n,t.ProcessorODataConstants.MD_PROPERTY_DATA_SERVICE_VERSION,null);if(t.isNull(i)){i=t.PrUtils.getStringValueProperty(s,t.ProcessorODataConstants.MD_PROPERTY_VERSION,null)}var o=this.parseVersion(i);if(o<0){this.addWarning(t.ErrorCodes.PARSER_ERROR,"OData service version could not be parsed")}if(o>r){this.addError(t.ErrorCodes.PARSER_ERROR,t.XStringUtils.concatenate4("OData Version ",i," is not supported, max supported: ",t.XInteger.convertToString(r)))}};t.ODataMetadataConverter.prototype.parseVersion=function(e){if(t.XStringUtils.isNullOrEmpty(e)){return-1}var r=t.XMath.max(t.XString.indexOf(e,"."),1);return t.XInteger.convertFromStringWithDefault(t.XString.substring(e,0,r),-1)};t.ODataMetadataConverter.prototype.createInADimensionsFromEntity=function(e,r){for(var s=0;s<e.size();s++){var n=e.getStructureAt(s);var i=t.PrUtils.getStructureProperty(n,t.ProcessorODataConstants.MD_ENTITY_CONTAINER);var o=this.getEntitySetByName(i,r);if(t.notNull(o)){var a=o.getStringByKey(t.ProcessorODataConstants.MD_PROPERTY_ENTITY_TYPE);var u=this.getEntityType(e,a);if(t.isNull(u)){this.addError(t.ErrorCodes.PARSER_ERROR,t.XStringUtils.concatenate3("EntityType '",a,"' not found"));return null}var l=this.createInADimensions(u);this.extendInADimensionsByNavigationProperties(l,e,u);return l}}this.addError(t.ErrorCodes.PARSER_ERROR,t.XStringUtils.concatenate3("EntitySet with name '",r,"' not found"));return null};t.ODataMetadataConverter.prototype.getSupportedContentType=function(e,r){for(var s=0;s<e.size();s++){var n=t.PrUtils.getStructureProperty(e.getStructureAt(s),t.ProcessorODataConstants.MD_ENTITY_CONTAINER);if(this.getEntitySetByName(n,r)!==null){var i=t.XStringTokenizer.splitString(t.PrUtils.getStringValueProperty(n,t.ProcessorODataConstants.MD_PROPERTY_SAP_SUPPORTED_FORMATS,null)," ");if(t.notNull(i)){if(i.contains(t.ContentType.JSON.getName())){return t.ContentType.APPLICATION_JSON}if(i.contains(t.ContentType.ATOM.getName())){return t.ContentType.APPLICATION_XML}}}}return t.ContentType.APPLICATION_JSON};t.ODataMetadataConverter.prototype.createSortTypes=function(e){if(t.isNull(e)){return null}var r=t.XHashSetOfString.create();var s=e.size();for(var n=0;n<s;n++){var i=e.getStructureAt(n).getListByKey("ExtendedSortTypes");for(var o=0;o<i.size();o++){r.add(i.getStringAt(o))}}return t.PrFactory.createList().addAllStrings(r.getValuesAsReadOnlyListOfString())};t.ODataMetadataConverter.prototype.createInADimensions=function(e){var r=t.PrUtils.getPropertyAsList(e,t.ProcessorODataConstants.MD_PROPERTY);if(t.PrUtils.isListEmpty(r)){this.addError(t.ErrorCodes.PARSER_ERROR,t.XStringUtils.concatenate3("No properties found for entity type '",e.toString(),"'"));return null}var s=t.PrFactory.createList();var n=r.size();var i=t.XListOfString.create();var o=t.XListOfString.create();for(var a=0;a<n;a++){var u=r.getStructureAt(a);var l=this.getName(u);if(t.XStringUtils.isNullOrEmpty(l)){this.addError(t.ErrorCodes.PARSER_ERROR,"Property name not found");return null}i.add(l);o.add(u.getStringByKey(t.ProcessorODataConstants.MD_PROPERTY_SAP_TEXT))}for(var c=0;c<n;c++){var p=r.getStructureAt(c);if(o.contains(this.getName(p))){continue}var S=null;var P=i.getIndex(p.getStringByKey(t.ProcessorODataConstants.MD_PROPERTY_SAP_TEXT));if(P>-1){S=t.ODataProperty.create(r.getStructureAt(P),r)}var g=t.ODataProperty.create(p,r);var _=g.isMeasure()?this.createMeasure(g):this.createDimension(g,S);if(!s.contains(_)){s.add(_)}t.XObjectExt.release(g);t.XObjectExt.release(S)}return s};t.ODataMetadataConverter.prototype.extendInADimensionsByNavigationProperties=function(e,r,s){var n=t.PrUtils.getPropertyAsList(s,t.ProcessorODataConstants.MD_NAVIGATION_PROPERTY);if(t.isNull(n)||t.PrUtils.isListEmpty(e)){return}var i=n.size();for(var o=0;o<i;o++){var a=n.getStructureAt(o);var u=t.PrUtils.getStringValueProperty(a,t.ProcessorODataConstants.MD_PROPERTY_NAME,null);var l=t.PrUtils.getStringValueProperty(a,t.ProcessorODataConstants.MD_PROPERTY_RELATIONSHIP,null);var c=t.PrUtils.getStringValueProperty(a,t.ProcessorODataConstants.MD_PROPERTY_FROM_ROLE,null);var p=t.PrUtils.getStringValueProperty(a,t.ProcessorODataConstants.MD_PROPERTY_TO_ROLE,null);var S=this.getNavigationPropertySchema(r,l);if(t.isNull(u)||t.isNull(l)||t.isNull(p)||t.isNull(c)||t.isNull(S)){continue}var P=this.removeNamespace(S,l);var g=t.PrUtils.getPropertyAsList(S,t.ProcessorODataConstants.MD_ASSOCIATION);var _=t.PrUtils.getStructureWithKeyValuePair(g,t.ProcessorODataConstants.MD_PROPERTY_NAME,P);var y=t.PrUtils.getPropertyAsList(_,t.ProcessorODataConstants.MD_END);var E=t.PrUtils.getStructureWithKeyValuePair(y,t.ProcessorODataConstants.MD_PROPERTY_ROLE,p);var R=t.PrUtils.getStringValueProperty(E,t.ProcessorODataConstants.MD_PROPERTY_MULTIPLICITY,null);if(!t.XString.containsString(R,"*")&&t.notNull(_)&&_.containsKey(t.ProcessorODataConstants.MD_REFERENTIAL_CONSTRAINT)){var A=this.getPropertyRefByRole(_,c);var d=this.getPropertyRefByRole(_,p);var m=t.PrUtils.getStructureWithKeyValuePair(e,"Name",A);var D=t.PrUtils.getStringValueProperty(E,t.ProcessorODataConstants.MD_PROPERTY_TYPE,null);var I=this.getEntityType(r,D);this.extendDimensionByEntity(m,I,u,d)}}};t.ODataMetadataConverter.prototype.getNavigationPropertySchema=function(e,r){if(t.notNull(r)){var s=e.size();for(var n=0;n<s;n++){var i=e.getStructureAt(n);var o=i.getStringByKey(t.ProcessorODataConstants.MD_PROPERTY_NAMESPACE);if(t.notNull(o)&&t.XString.startsWith(r,o)){return i}}}return null};t.ODataMetadataConverter.prototype.getPropertyRefByRole=function(e,r){var s=null;var n=e.getStructureByKey(t.ProcessorODataConstants.MD_REFERENTIAL_CONSTRAINT);var i=n.getStructureByKey(t.ProcessorODataConstants.MD_PRINCIPAL);var o=n.getStructureByKey(t.ProcessorODataConstants.MD_DEPENDENT);if(t.XString.isEqual(r,t.PrUtils.getStringValueProperty(i,t.ProcessorODataConstants.MD_PROPERTY_ROLE,null))){s=i}else if(t.XString.isEqual(r,t.PrUtils.getStringValueProperty(o,t.ProcessorODataConstants.MD_PROPERTY_ROLE,null))){s=o}var a=t.PrUtils.getStructureProperty(s,t.ProcessorODataConstants.MD_PROPERTY_REF);return t.PrUtils.getStringValueProperty(a,t.ProcessorODataConstants.MD_PROPERTY_NAME,null)};t.ODataMetadataConverter.prototype.extendDimensionByEntity=function(e,r,s,n){if(t.isNull(e)||t.isNull(r)||t.isNull(n)){return}var i=t.PrUtils.getPropertyAsList(r,t.ProcessorODataConstants.MD_PROPERTY);var o=t.PrUtils.getStructureWithKeyValuePair(i,t.ProcessorODataConstants.MD_PROPERTY_NAME,n);var a=t.PrUtils.getStringValueProperty(o,t.ProcessorODataConstants.MD_PROPERTY_SAP_TEXT,null);var u=t.PrUtils.getStructureWithKeyValuePair(i,t.ProcessorODataConstants.MD_PROPERTY_NAME,a);var l=e.getStructureByKey("AttributeHierarchy");if(t.notNull(u)&&t.XString.isEqual(l.getStringByKey("DefaultKeyAttribute"),l.getStringByKey("DefaultTextAttribute"))){this.addDimensionTextAttribute(t.ODataProperty.createWithPrefix(u,i,s),e,true)}var c=i.size();for(var p=0;p<c;p++){var S=i.getStructureAt(p);if(S!==o&&S!==u){this.addDimensionTextAttribute(t.ODataProperty.createWithPrefix(S,i,s),e,false)}}};t.ODataMetadataConverter.prototype.createExtendedSortTypes=function(e,r,s){var n=t.PrFactory.createList();if(e){n.addString("Measure")}if(r){n.addString("MemberKey")}if(s){n.addString("MemberText")}return n};t.ODataMetadataConverter.prototype.createComparisonOperators=function(){var e=t.PrFactory.createList();e.addString("=");e.addString(">");e.addString(">=");e.addString("<");e.addString("<=");e.addString("<>");e.addString("BETWEEN");e.addString("BETWEEN_EXCLUDING");e.addString("NOTBETWEEN");e.addString("NOT_BETWEEN_EXCLUDING");return e};t.ODataMetadataConverter.prototype.getEntitySetByName=function(e,r){var s=t.PrUtils.getPropertyAsList(e,t.ProcessorODataConstants.MD_ENTITY_SET);return t.PrUtils.getStructureWithKeyValuePair(s,t.ProcessorODataConstants.MD_PROPERTY_NAME,r)};t.ODataMetadataConverter.prototype.getEntityType=function(e,r){if(t.isNull(e)||t.isNull(r)){return null}var s=e.size();for(var n=0;n<s;n++){var i=e.getStructureAt(n);var o=this.removeNamespace(i,r);var a=t.PrUtils.getPropertyAsList(i,t.ProcessorODataConstants.MD_ENTITY_TYPE);var u=t.PrUtils.getStructureWithKeyValuePair(a,t.ProcessorODataConstants.MD_PROPERTY_NAME,o);if(t.notNull(u)){return u}}return null};t.ODataMetadataConverter.prototype.removeNamespace=function(e,r){if(t.notNull(e)&&e.containsKey(t.ProcessorODataConstants.MD_PROPERTY_NAMESPACE)){var s=e.getStringByKey(t.ProcessorODataConstants.MD_PROPERTY_NAMESPACE);if(t.XString.startsWith(r,s)){return t.XString.substring(r,t.XString.size(s)+1,t.XString.size(r))}}return null};t.ODataMetadataConverter.prototype.getName=function(e){return t.PrUtils.getStringValueProperty(e,t.ProcessorODataConstants.MD_PROPERTY_NAME,null)};t.ODataMetadataConverter.prototype.createCatalogServiceDimensionProperty=function(e){var r=t.PrFactory.createStructure();r.putString(t.ProcessorODataConstants.MD_PROPERTY_NAME,e);r.putBoolean(t.ProcessorODataConstants.MD_PROPERTY_SAP_SORTABLE,false);r.putString(t.ProcessorODataConstants.MD_PROPERTY_TYPE,t.ProcessorODataConstants.MD_VALUETYPE_STRING);return t.ODataProperty.create(r,t.PrFactory.createList())};t.ProcessorODataBase=function(){};t.ProcessorODataBase.prototype=new t.DfProcessor;t.ProcessorODataBase.prototype._ff_c="ProcessorODataBase";t.ProcessorODataBase.prototype.processCapabilities=function(e){return t.InAServerInfoBuilder.buildServerInfoResponse(this.getCapabilities(e),this.getSystemDescription(e).getLanguage(),e)};t.ProcessorODataBase.prototype.getMetadataUrl=function(e,r){if(t.InARequestParser.isCatalogServiceRequested(r)){return null}var s=t.XUri.createFromUrl(t.XStringUtils.concatenate3(this.getUrl(e),t.XUri.PATH_SEPARATOR,t.ProcessorODataConstants.PARAM_METADATA));return t.XCollectionUtils.singletonList(t.InAProcessorRequest.create(s,t.ContentType.APPLICATION_XML,null))};t.ProcessorODataBase.prototype.processMetadata=function(e,r){var s=t.ODataMetadataConverter.create();if(t.InARequestParser.isCatalogServiceRequested(r)){var n=s.createCatalogServiceMetadata();t.XObjectExt.release(s);return t.InAProcessorResult.create(n)}var i=null;var o=e.get(0).getResponse();if(t.notNull(o)){var a=s.getSchemas(o.asStructure());s.checkODataVersion(o.asStructure(),this.getMaxSupportedODataVersion());if(s.isValid()){var u=this.getObjectNameFromRequest(r);var l=s.createInADimensionsFromEntity(a,u);var c=r.getStructureByKey("Metadata");if(s.isValid()){var p=t.PrFactory.createStructure();var S=p.putNewStructure("Cube");this.put(S,"Dimensions",l);this.put(S,"ExtendedSortTypes",s.createSortTypes(l));this.put(S,"DataSource",t.PrUtils.createDeepCopy(t.PrUtils.getStructureProperty(c,"DataSource")));this.put(S,"Capabilities",t.PrUtils.createDeepCopy(t.PrUtils.getListProperty(c,"Capabilities")));i=t.InAProcessorResult.createWithContentType(p,s.getSupportedContentType(a,u))}}this.copyAllMessages(s);t.XObjectExt.release(s)}if(this.hasErrors()){return null}return i};t.ProcessorODataBase.prototype.put=function(e,r,s){if(t.notNull(s)){e.put(r,s)}};t.ProcessorODataBase.prototype.getResultsetUrl=function(e,r){if(t.InARequestParser.isCatalogServiceRequested(r)){var s=t.XUri.createFromUrl(t.XStringUtils.concatenate2(this.getUrl(e),t.XUri.PATH_SEPARATOR));return t.XCollectionUtils.singletonList(t.InAProcessorRequest.create(s,t.ContentType.APPLICATION_XML,null))}var n=this.getObjectNameFromRequest(r);var i=t.ODataResultSetUrl.createUrl(this.getUrl(e),n,r);return t.XCollectionUtils.singletonList(t.InAProcessorRequest.create(i,null,null))};t.ProcessorODataBase.prototype.processResultset=function(e,r){var s=null;var n=e.get(0).getResponse();if(t.notNull(n)){var i=t.InARequestParser.create(r);var o=t.InAResponseBuilder.create(i);s=this.convertResponseToInA(n,i,o);this.copyAllMessages(o);if(t.isNull(s)){s=o.createErrorResponse(this.getErrors())}t.XObjectExt.release(o)}else{this.addError(t.ErrorCodes.PARSER_ERROR,"OData response could not be read")}return t.InAProcessorResult.create(s)};t.ProcessorODataBase.prototype.convertResponseToInA=function(e,r,s){if(r.isCatalogServiceRequest()){var n=t.ODataResult.create(e.asStructure(),true,r);var i=r.getFilterSelection();if(t.notNull(i)){n=t.CatalogResultFilter.create(n,i)}return s.convert(n)}var o=t.ODataResult.create(e.asStructure(),false,r);var a=t.OrderedProcessorResult.create(o,r.getNonMeasureAxis());return s.convert(a)};t.ProcessorSCP=function(){};t.ProcessorSCP.prototype=new t.DfProcessor;t.ProcessorSCP.prototype._ff_c="ProcessorSCP";t.ProcessorSCP.create=function(){var e=new t.ProcessorSCP;e.setupProcessor();return e};t.ProcessorSCP.prototype.processCapabilities=function(e){var r=t.XListOfString.create();r.add(t.InACapabilities.C012_ENCODED_RESULTSET);r.add(t.InACapabilities.C048_MEMBER_VISIBILITY);r.add(t.InACapabilities.C005_OBTAINABILITY);r.add(t.InACapabilities.C003_CLIENT_CAPABILITIES);r.add(t.InACapabilities.C004_METADATA_SERVICE);r.add(t.InACapabilities.C007_RESPONSE_FIXED_ATTRIBUTE_SEQUENCE);r.add(t.InACapabilities.C011_SET_OPERAND);r.add(t.InACapabilities.C001_DATASOURCE_AT_SERVICE);r.add(t.InACapabilities.C030_UNIQUE_ATTRIBUTE_NAMES);r.add(t.InACapabilities.PAGING);r.add(t.InACapabilities.C028_METADATA_DIMENSION_GROUP);r.add(t.InACapabilities.C091_CUBE_BLENDING);r.add(t.InACapabilities.C093_REMOTE_BLENDING);var s=t.XHashMapByString.create();this.addServiceWithCapabilities(s,e,"Analytics",r,t.XListOfString.create());return t.InAServerInfoBuilder.buildServerInfoResponse(s,this.getSystemDescription(e).getLanguage(),e)};t.ProcessorSCP.prototype.getMetadataUrl=function(e,r){if(t.InARequestParser.isCatalogServiceRequested(r)){return null}var s=this.getObjectNameFromRequest(r);var n=t.XStringUtils.concatenate4(this.getUrl(e),t.ProcessorSCPConstants.URI_OBJECTS,"/",s);var i=t.XUri.createFromUrl(t.XStringUtils.concatenate2(n,t.ProcessorSCPConstants.URI_DOCS));i.addQueryElement(t.ProcessorSCPConstants.URI_DOCS_PARAM_DISCOVERY,"false");i.addQueryElement(t.ProcessorSCPConstants.URI_DOCS_PARAM_REFERENCES,"false");i.addQueryElement(t.ProcessorSCPConstants.URI_DOCS_PARAM_BASIC,"true");var o=t.XUri.createFromUrl(t.XStringUtils.concatenate2(n,t.ProcessorSCPConstants.URI_METADATA));var a=t.XList.create();a.add(t.InAProcessorRequest.create(i,t.ContentType.APPLICATION_JSON,t.ProcessorSCPConstants.URI_DOCS));a.add(t.InAProcessorRequest.create(o,t.ContentType.APPLICATION_JSON,t.ProcessorSCPConstants.URI_METADATA));return a};t.ProcessorSCP.prototype.processMetadata=function(e,r){var s=t.SCPMetadataBuilder.create();if(t.InARequestParser.isCatalogServiceRequested(r)){var n=s.createCatalogServiceMetadata();t.XObjectExt.release(s);return t.InAProcessorResult.create(n)}var i=null;var o=null;var a=e.size();for(var u=0;u<a;u++){var l=e.get(u);if(t.XString.isEqual(l.getCustomIdentifier(),t.ProcessorSCPConstants.URI_DOCS)){i=l.getResponse()}else if(t.XString.isEqual(l.getCustomIdentifier(),t.ProcessorSCPConstants.URI_METADATA)){o=l.getResponse()}}var c=s.createMetadata(i,o,r);this.copyAllMessages(s);t.XObjectExt.release(s);if(t.isNull(c)){this.addErrorWithMessage(t.XStringUtils.concatenate3("Metadata for element '",this.getObjectNameFromRequest(r),"' could not be read"));return null}return t.InAProcessorResult.createWithContentType(c,t.ContentType.APPLICATION_JSON)};t.ProcessorSCP.prototype.getResultsetUrl=function(e,r){var s=this.getUrl(e);var n;var i=t.InARequestParser.create(r);if(i.isCatalogServiceRequest()){n=t.XUri.createFromUrl(t.XStringUtils.concatenate2(s,t.ProcessorSCPConstants.URI_OBJECTS))}else{var o=i.getVariableValues();var a=this.getPackageNameFromRequest(r);var u=this.replacePathVariables(a,o);n=t.XUri.createFromUrl(t.XStringUtils.concatenate2(s,u));this.addQueryParametersToUrl(n,o)}t.XObjectExt.release(i);return t.XCollectionUtils.singletonList(t.InAProcessorRequest.create(n,null,null))};t.ProcessorSCP.prototype.replacePathVariables=function(e,r){var s=e;while(t.XString.containsString(s,"{")&&t.XString.containsString(s,"}")){var n=t.XString.indexOf(s,"{");var i=t.XString.indexOf(s,"}")+1;var o=t.XString.substring(s,n,i);var a=t.XStringUtils.stripChars(o,1);if(!r.containsKey(a)){return t.XString.substring(s,0,n-1)}s=t.XString.replace(s,o,r.getByKey(a));r.remove(a)}return s};t.ProcessorSCP.prototype.addQueryParametersToUrl=function(t,e){var r=e.getKeysAsReadOnlyListOfString();var s=r.size();for(var n=0;n<s;n++){var i=r.get(n);t.addQueryElement(i,e.getByKey(i))}};t.ProcessorSCP.prototype.processResultset=function(e,r){var s=null;var n=t.InARequestParser.create(r);var i=t.InAResponseBuilder.create(n);var o=e.get(0).getResponse();if(t.notNull(o)){s=this.convertToInA(n,i,o);this.copyAllMessages(i)}else{this.addError(t.ErrorCodes.PARSER_ERROR,"Response from SAP Cloud Platform Open Connetors could not be read")}if(t.isNull(s)){s=i.createErrorResponse(this.getErrors())}t.XObjectExt.release(i);return t.InAProcessorResult.create(s)};t.ProcessorSCP.prototype.convertToInA=function(e,r,s){if(e.isCatalogServiceRequest()){var n=t.GenericResult.create(s,e);var i=e.getFilterSelection();if(t.notNull(i)){n=t.CatalogResultFilter.create(n,i)}return r.convert(n)}var o=t.GenericResult.create(s,e);var a=t.OrderedProcessorResult.create(o,e.getNonMeasureAxis());return r.convert(a)};t.SCPMetadataBuilder=function(){};t.SCPMetadataBuilder.prototype=new t.InAMetadataBuilder;t.SCPMetadataBuilder.prototype._ff_c="SCPMetadataBuilder";t.SCPMetadataBuilder.create=function(){var e=new t.SCPMetadataBuilder;e.setupSessionContext(null);return e};t.SCPMetadataBuilder.prototype.createMetadata=function(e,r,s){if(t.isNull(e)||t.isNull(r)||!e.isStructure()||!r.isStructure()){this.addError(t.ErrorCodes.PARSER_ERROR,"Docs/Metadata response could not be read");return null}var n=s.getStructureByKey("Metadata");var i=t.PrFactory.createStructure();var o=i.putNewStructure("Cube");o.put("Capabilities",t.PrUtils.createDeepCopy(t.PrUtils.getListProperty(n,"Capabilities")));o.put("DataSource",t.PrUtils.createDeepCopy(t.PrUtils.getStructureProperty(n,"DataSource")));this.extendByDocumentation(o,e);this.extendByMetadata(o,r);return i};t.SCPMetadataBuilder.prototype.extendByDocumentation=function(e,r){var s=r.asStructure().getStructureByKey(t.ProcessorSCPConstants.PATHS);var n=this.getSortedAPIs(s);var i=null;var o=null;var a=null;var u=n.getKeysAsReadOnlyListOfString();var l=u.size();for(var c=0;c<l;c++){var p=u.get(c);var S=n.getByKey(p);if(t.isNull(i)){i=S;o=p;a=t.PrFactory.createList()}else if(this.extendsPathWithParameter(o,p)){o=p;a.addAll(S.getListByKey(t.ProcessorSCPConstants.PARAMETERS))}}if(t.isNull(i)){this.addError(t.ErrorCodes.PARSER_ERROR,"No valid path value found in documentation response");return}e.getStructureByKey("DataSource").putString("PackageName",o);e.putStringNotNullAndNotEmpty("Name",i.getStringByKey(t.ProcessorSCPConstants.OPERATION_ID));e.putStringNotNullAndNotEmpty("Description",i.getStringByKey(t.ProcessorSCPConstants.SUMMARY));this.addVariables(e,i.getListByKey(t.ProcessorSCPConstants.PARAMETERS),false);this.addVariables(e,a,true)};t.SCPMetadataBuilder.prototype.getSortedAPIs=function(e){var r=t.XListOfString.createFromReadOnlyList(t.PrUtils.getKeysAsReadOnlyListOfString(e,null));r.sortByDirection(t.XSortDirection.ASCENDING);var s=t.XLinkedHashMapByString.create();var n=r.size();for(var i=0;i<n;i++){var o=r.get(i);var a=e.getStructureByKey(o);s.putIfNotNull(o,t.PrUtils.getStructureProperty(a,t.ProcessorSCPConstants.GET))}return s};t.SCPMetadataBuilder.prototype.extendsPathWithParameter=function(e,r){if(t.XString.startsWith(r,e)){var s=t.XString.substring(r,t.XString.size(e),t.XString.size(r));return t.XString.containsString(s,"{")}return false};t.SCPMetadataBuilder.prototype.addVariables=function(e,r,s){if(!t.PrUtils.isListEmpty(r)){var n=e.getListByKey("Variables");if(t.isNull(n)){n=e.putNewList("Variables")}var i=r.size();for(var o=0;o<i;o++){var a=r.getStructureAt(o);var u=a.getStringByKey(t.ProcessorSCPConstants.PARAMETER_IN);if(t.XString.isEqual(u,t.ProcessorSCPConstants.PARAMETER_IN_QUERY)||t.XString.isEqual(u,t.ProcessorSCPConstants.PARAMETER_IN_PATH)){var l=a.getStringByKey(t.ProcessorSCPConstants.PARAMETER_NAME);var c=a.getStringByKey(t.ProcessorSCPConstants.PARAMETER_DESCRIPTION);var p=!s&&a.getBooleanByKey(t.ProcessorSCPConstants.PARAMETER_REQUIRED);var S=this.mapParameterType(a.getStringByKey(t.ProcessorSCPConstants.PARAMETER_TYPE));n.add(this.createVariable(l,c,p,S,null))}}}};t.SCPMetadataBuilder.prototype.mapParameterType=function(e){if(t.XString.isEqual(e,t.ProcessorSCPConstants.PARAMETER_TYPE_INTEGER)){return"Int"}else if(t.XString.isEqual(e,t.ProcessorSCPConstants.PARAMETER_TYPE_BOOLEAN)){return"Bool"}return"String"};t.SCPMetadataBuilder.prototype.extendByMetadata=function(e,r){var s=e.putNewList("Dimensions");var n=r.asStructure().getListByKey(t.ProcessorSCPConstants.FIELDS);if(t.PrUtils.isListEmpty(n)){return}var i=n.size();for(var o=0;o<i;o++){var a=n.getStructureAt(o);var u=this.getValue(a,t.ProcessorSCPConstants.FIELD_PATH,t.ProcessorSCPConstants.FIELD_VENDOR_PATH);if(t.XStringUtils.isNotNullAndNotEmpty(u)){var l=t.PrUtils.getStringValueProperty(a,t.ProcessorSCPConstants.FIELD_DISPLAY_NAME,u);var c=this.getValue(a,t.ProcessorSCPConstants.FIELD_TYPE,t.ProcessorSCPConstants.FIELD_NATIVE_TYPE);var p=this.mapDimensionDataType(c);var S=t.XString.isEqual(c,t.ProcessorSCPConstants.FIELD_TYPE_NUMBER)&&!t.XString.endsWith(u,"[*]");var P=t.SCPMdProperty.create(this.removeListIndicator(u),this.removeListIndicator(l),p);var g=S?this.createMeasure(P):this.createDimension(P,null);if(!s.contains(g)){s.add(g)}}}};t.SCPMetadataBuilder.prototype.removeListIndicator=function(e){return t.XString.replace(e,"[*]","")};t.SCPMetadataBuilder.prototype.getValue=function(e,r,s){var n=e.getStringByKey(r);return t.XStringUtils.isNotNullAndNotEmpty(n)?n:e.getStringByKey(s)};t.SCPMetadataBuilder.prototype.mapDimensionDataType=function(e){if(t.XString.isEqual(e,t.ProcessorSCPConstants.FIELD_TYPE_STRING)){return"String"}if(t.XString.isEqual(e,t.ProcessorSCPConstants.FIELD_TYPE_NUMBER)){return"DecimalFloat"}if(t.XString.isEqual(e,t.ProcessorSCPConstants.FIELD_TYPE_DATE)){return"Date"}if(t.XString.isEqual(e,t.ProcessorSCPConstants.FIELD_TYPE_DATE_TIME)){return"Timestamp"}if(t.XString.isEqual(e,t.ProcessorSCPConstants.FIELD_TYPE_BOOLEAN)){return"Bool"}return"String"};t.SCPMetadataBuilder.prototype.createCatalogServiceDimensionProperty=function(e){return t.SCPMdProperty.createWithFilterFlag(e,e,"String",true)};t.RpcVirtualFunction=function(){};t.RpcVirtualFunction.prototype=new t.DfRpcFunction;t.RpcVirtualFunction.prototype._ff_c="RpcVirtualFunction";t.RpcVirtualFunction.create=function(e,r,s,n){var i=new t.RpcVirtualFunction;i.setupFunction(e,r);i.m_processor=t.XWeakReferenceUtil.getWeakRef(s);i.m_connectionContainer=t.XWeakReferenceUtil.getWeakRef(e);return i};t.RpcVirtualFunction.prototype.m_processor=null;t.RpcVirtualFunction.prototype.m_connectionContainer=null;t.RpcVirtualFunction.prototype.releaseObject=function(){this.m_processor=t.XObjectExt.release(this.m_processor);this.m_connectionContainer=t.XObjectExt.release(this.m_connectionContainer);t.DfRpcFunction.prototype.releaseObject.call(this)};t.RpcVirtualFunction.prototype.getProcessor=function(){return t.XWeakReferenceUtil.getHardRef(this.m_processor)};t.RpcVirtualFunction.prototype.getConnectionContainer=function(){return t.XWeakReferenceUtil.getHardRef(this.m_connectionContainer)};t.RpcVirtualFunction.prototype.getSystemDescription=function(){return this.getConnectionContainer().getSystemDescription()};t.RpcVirtualFunction.prototype.newRpcFunction=function(e){var r=e;var s=e.getPath();var n=this.getConnectionContainer();var i=n.getSystemDescription();var o=i.getPath();if(t.XString.startsWith(s,o)){var a=t.XString.size(o);var u=t.XString.substring(s,a,-1);var l=t.XUri.createFromOther(e);l.setPath(u);r=l}var c=t.RpcHttpFunction.create(n,r);var p=c.getRpcRequest();p.setMethod(t.HttpRequestMethod.HTTP_GET);return c};t.RpcVirtualFunction.prototype.getSystemName=function(){return this.m_rpcRequest.getConnectionInfo().getSystemName()};t.RpcVirtualFunction.prototype.processGetServerInfo=function(){var e=this.getProcessor();if(t.isNull(e)){this.addError(t.ErrorCodes.INVALID_STATE,"No processor provided!")}else{var r=e.processCapabilities(this.getSystemName());this.m_rpcResponse.setRootElement(r,null);this.setData(this.m_rpcResponse);this.addAllMessages(this.getProcessor())}this.endSync()};t.RpcVirtualFunction.prototype.processAnalytics=function(e,r){var s=this.getProcessor();if(t.isNull(s)){this.addError(t.ErrorCodes.INVALID_STATE,"No processor provided!");this.endSync();return}var n=s.getResultsetUrl(this.getSystemName(),e);this.executeFunctions(r,"Analytics",e,n)};t.RpcVirtualFunction.prototype.processMetadata=function(e,r){var s=this.getProcessor();if(t.isNull(s)){this.addError(t.ErrorCodes.INVALID_STATE,"No processor provided!");this.endSync();return}var n=s.getMetadataUrl(this.getSystemName(),e);this.executeFunctions(r,"Metadata",e,n)};t.RpcVirtualFunction.prototype.executeFunctions=function(e,r,s,n){if(t.notNull(n)){var i=n.size();for(var o=0;o<i;o++){var a=n.get(o);var u=t.VirtualRpcIdentifier.create(r,s,a,n);var l=this.newRpcFunction(a.getUri());l.getRpcRequest().setAcceptContentType(this.getAcceptContentType(a.getAcceptContentType()));l.processFunctionExecution(e,this,u)}}else{var c=t.RpcResponse.create(null);this.onFunctionExecuted(t.ExtResult.create(c,null),c,t.VirtualRpcIdentifier.create(r,s,null,null))}};t.RpcVirtualFunction.prototype.getAcceptContentType=function(e){if(t.notNull(e)){return e}var r=t.ContentType.lookupByMimeType(this.getSystemDescription().getProperties().getByKey(t.ConnectionParameters.CONTENT_TYPE));if(t.notNull(r)){return r}return t.ContentType.APPLICATION_JSON};t.RpcVirtualFunction.prototype.processSynchronization=function(e){var r=this.m_rpcRequest.getUri().getPath();if(this.isGetServerInfoPath(r)){this.processGetServerInfo();return true}var s=this.m_rpcRequest.getRequestStructure();if(this.ignoreRequest(r,s)){this.endSync();return true}if(this.isInaPath(r)){if(s.containsKey("Analytics")){this.processAnalytics(s,e);return true}if(s.containsKey("Metadata")){this.processMetadata(s,e);return true}this.addErrorExt(t.OriginLayer.APPLICATION,t.ErrorCodes.INVALID_URL,"Unexpected root element !",this.m_rpcRequest);this.endSync();return true}this.addErrorExt(t.OriginLayer.APPLICATION,t.ErrorCodes.INVALID_URL,t.XStringUtils.concatenate3("Unexpected path '",r,"'!"),this.m_rpcRequest);this.endSync();return true};t.RpcVirtualFunction.prototype.ignoreRequest=function(e,r){if(this.isLogonOrLogoffPath(e)){return true}var s=t.PrUtils.getStructureProperty(r,"Analytics");if(t.notNull(s)){var n=t.PrUtils.getListProperty(s,"Actions");return t.PrUtils.getStructureWithKeyValuePair(n,"Type","Close")!==null}return false};t.RpcVirtualFunction.prototype.isGetServerInfoPath=function(e){return t.XString.isEqual(e,t.SystemType.VIRTUAL_INA_ODATA.getServerInfoPath())||t.XString.isEqual(e,t.SystemType.VIRTUAL_INA_SCP.getServerInfoPath())||t.XString.isEqual(e,t.SystemType.VIRTUAL_INA_GSA.getServerInfoPath())};t.RpcVirtualFunction.prototype.isInaPath=function(e){return t.XString.isEqual(e,t.SystemType.VIRTUAL_INA_ODATA.getInAPath())||t.XString.isEqual(e,t.SystemType.VIRTUAL_INA_SCP.getInAPath())||t.XString.isEqual(e,t.SystemType.VIRTUAL_INA_GSA.getInAPath())};t.RpcVirtualFunction.prototype.isLogonOrLogoffPath=function(e){return t.XString.isEqual(e,t.SystemType.VIRTUAL_INA_ODATA.getLogonPath())||t.XString.isEqual(e,t.SystemType.VIRTUAL_INA_ODATA.getLogoffPath())||t.XString.isEqual(e,t.SystemType.VIRTUAL_INA_SCP.getLogonPath())||t.XString.isEqual(e,t.SystemType.VIRTUAL_INA_SCP.getLogoffPath())||t.XString.isEqual(e,t.SystemType.VIRTUAL_INA_GSA.getLogonPath())||t.XString.isEqual(e,t.SystemType.VIRTUAL_INA_GSA.getLogoffPath())};t.RpcVirtualFunction.prototype.getApplication=function(){return this.getProcess().getApplication()};t.RpcVirtualFunction.prototype.onFunctionExecuted=function(e,r,s){this.addAllMessages(e);var n=s;if(t.isNull(n)||this.hasErrors()){t.XObjectExt.release(n);this.endSync();return}var i=n.getRequest();var o=n.getAllRequests();if(t.notNull(i)){i.setResponse(r.getRootElementGeneric(),r.getRootElementAsString());if(!this.allRequestsFinished(o)){t.XObjectExt.release(n);return}}var a=null;var u=this.getProcessor();if(t.XString.isEqual(n.getProcessName(),"Metadata")){var l=u.processMetadata(o,n.getRequestStructure());if(t.notNull(l)){a=l.getStructure();var c=l.getSupportedContentType();if(t.notNull(c)){this.getSystemDescription().setProperty(t.ConnectionParameters.CONTENT_TYPE,c.getName())}}}else if(t.XString.isEqual(n.getProcessName(),"Analytics")){a=u.processResultset(o,n.getRequestStructure()).getStructure()}this.m_rpcResponse.setRootElement(a,null);this.setData(this.m_rpcResponse);this.copyAllMessages(u);t.XObjectExt.release(n);t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(o);u.clearMessages();this.endSync()};t.RpcVirtualFunction.prototype.allRequestsFinished=function(t){var e=t.size();for(var r=0;r<e;r++){if(!t.get(r).hasResponse()){return false}}return true};t.RpcVirtualFunction.prototype.getProcess=function(){return this.getSession()};t.GSAResultSetUrl=function(){};t.GSAResultSetUrl.prototype=new t.XUri;t.GSAResultSetUrl.prototype._ff_c="GSAResultSetUrl";t.GSAResultSetUrl.createUrl=function(e,r,s){var n=new t.GSAResultSetUrl;n.setupGenericServiceUrl(e,r,s);return n};t.GSAResultSetUrl.prototype.setupGenericServiceUrl=function(e,r,s){this.setup();this.setUrl(e);this.setPath(this.getEntityPath(r));var n=t.InARequestParser.create(s);var i=n.getVariableValues();var o=n.getServiceDescription();var a=o.getListByKey(t.ProcessorGSAConstants.PARAMETERS);var u=t.PrUtils.getListSize(a,0);for(var l=0;l<u;l++){var c=a.getStructureAt(l);var p=c.getStringByKey(t.ProcessorGSAConstants.NAME);var S=this.getVariableValue(c,i,p);var P=c.getStringByKey(t.ProcessorGSAConstants.TYPE);if(t.XStringUtils.isNullOrEmpty(p)||t.XStringUtils.isNullOrEmpty(S)||t.XStringUtils.isNullOrEmpty(P)){continue}if(t.XString.isEqual(P,t.ProcessorGSAConstants.TYPE_QUERY)){this.addQueryElement(p,S)}else if(t.XString.isEqual(P,t.ProcessorGSAConstants.TYPE_PATH)){this.setPath(t.XString.replace(this.getPath(),t.XStringUtils.concatenate3("{",p,"}"),S))}}t.XObjectExt.release(n)};t.GSAResultSetUrl.prototype.getEntityPath=function(e){var r=this.getPath();var s=t.XString.endsWith(r,"/");var n=t.XString.startsWith(e,"/");if(s&&n){return t.XStringUtils.concatenate2(t.XStringUtils.stripRight(r,1),e)}if(!s&&!n){return t.XStringUtils.concatenate3(r,"/",e)}return t.XStringUtils.concatenate2(r,e)};t.GSAResultSetUrl.prototype.getVariableValue=function(e,r,s){if(e.getBooleanByKeyExt(t.ProcessorGSAConstants.IS_VARIABLE,true)){return r.getByKey(s)}var n=e.getByKey(t.ProcessorGSAConstants.DEFAULT_VALUE);if(t.isNull(n)){return null}return n.isString()?n.asString().getString():n.getStringRepresentation()};t.ODataResultSetUrl=function(){};t.ODataResultSetUrl.prototype=new t.XUri;t.ODataResultSetUrl.prototype._ff_c="ODataResultSetUrl";t.ODataResultSetUrl.createUrl=function(e,r,s){var n=new t.ODataResultSetUrl;n.setup();n.setUrl(e);n.setupPath(r);var i=t.InARequestParser.create(s);n.addParameters(i);t.XObjectExt.release(i);return n};t.ODataResultSetUrl.prototype.setupPath=function(e){var r=t.XStringBuffer.create();r.append(this.getPath());if(!t.XString.endsWith(r.toString(),t.XUri.PATH_SEPARATOR)){r.append(t.XUri.PATH_SEPARATOR)}r.append(e);this.setPath(r.toString())};t.ODataResultSetUrl.prototype.addParameters=function(e){if(!e.isValid()||t.PrUtils.isListEmpty(e.getAllDimensions())||!this.addSelection(e)){this.addQueryElement(t.ProcessorODataConstants.URI_PARAM_TOP,"0");return}this.addPaging(e);this.addFilter(e);this.addOrder(e)};t.ODataResultSetUrl.prototype.addSelection=function(e){var r=e.getAllDimensions();var s=t.XListOfString.create();var n=r.size();for(var i=0;i<n;i++){var o=r.getStructureAt(i);var a=t.PrUtils.getStringValueProperty(o,"Axis","None");if(!t.XString.isEqual(a,"Rows")&&!t.XString.isEqual(a,"Columns")){continue}var u=t.PrUtils.getListProperty(o,"Members");if(!t.PrUtils.isListEmpty(u)){this.addMembersToSelection(s,e)}else{this.addDimensionAttributesToSelection(s,o)}}if(s.isEmpty()){return false}this.addQueryElement(t.ProcessorODataConstants.URI_PARAM_SELECT,t.XCollectionUtils.join(s,","));this.addExpand(s);return true};t.ODataResultSetUrl.prototype.addExpand=function(e){var r=t.XListOfString.create();var s=e.size();for(var n=0;n<s;n++){var i=e.get(n);var o=t.XString.lastIndexOf(i,"/");if(o>-1){t.XCollectionUtils.addIfNotPresent(r,t.XString.substring(i,0,o))}}if(!r.isEmpty()){this.addQueryElement(t.ProcessorODataConstants.URI_PARAM_EXPAND,t.XCollectionUtils.join(r,","))}};t.ODataResultSetUrl.prototype.addMembersToSelection=function(e,r){var s=r.getStructureMembers();var n=s.size();for(var i=0;i<n;i++){var o=s.get(i);t.XCollectionUtils.addIfNotPresent(e,r.getStructureMemberName(o));t.XCollectionUtils.addIfNotPresent(e,o.getStringByKey("UnitName"));t.XCollectionUtils.addIfNotPresent(e,o.getStringByKey("UnitTextName"))}};t.ODataResultSetUrl.prototype.addDimensionAttributesToSelection=function(e,r){var s=t.PrUtils.getListProperty(r,"Attributes");if(!t.PrUtils.isListEmpty(s)){var n=r.getStringByKey("Name");for(var i=0;i<s.size();i++){var o=s.getStructureAt(i);var a=o.getStringByKeyExt("Obtainability","Always");var u=t.XString.isEqual(n,o.getStringByKey("Name"));if(u||t.XString.isEqual(a,"Always")){t.XCollectionUtils.addIfNotPresent(e,o.getStringByKey("Name"))}}}};t.ODataResultSetUrl.prototype.addPaging=function(e){var r=e.getSubsetDescription();if(t.notNull(r)){if(!this.addPagingQueryElements(r,"RowFrom","RowTo")){this.addPagingQueryElements(r,"ColumnFrom","ColumnTo")}}};t.ODataResultSetUrl.prototype.addPagingQueryElements=function(e,r,s){var n=e.getIntegerByKeyExt(r,0);var i=e.getIntegerByKeyExt(s,-1);if(n>0||i>0){if(n>0){this.addQueryElement(t.ProcessorODataConstants.URI_PARAM_SKIP,t.XInteger.convertToString(n))}if(i>0){this.addQueryElement(t.ProcessorODataConstants.URI_PARAM_TOP,t.XInteger.convertToString(i-n))}return true}return false};t.ODataResultSetUrl.prototype.addFilter=function(e){var r=e.getFilterSelection();var s=this.getFilterForSelection(r,e);if(t.XStringUtils.isNotNullAndNotEmpty(s)){this.addQueryElement(t.ProcessorODataConstants.URI_PARAM_FILTER,s)}};t.ODataResultSetUrl.prototype.getFilterForSelection=function(e,r){var s=t.PrUtils.getStructureProperty(e,"Operator");if(t.notNull(s)){return this.getFilterForOperator(s,r)}var n=t.XStringBuffer.create();var i=t.PrUtils.getStructureProperty(e,"SetOperand");var o=t.PrUtils.getStringValueProperty(i,"FieldName",null);var a=t.PrUtils.getListProperty(i,"Elements");var u=t.XString.isEqual(o,t.ProcessorConstants.CUSTOM_DIM_KEY);if(t.XStringUtils.isNotNullAndNotEmpty(o)&&!u&&!t.PrUtils.isListEmpty(a)){var l=r.getDisplayFormat(null,o);var c=t.ProcessorODataConstants.URI_FILTER_SPACE;for(var p=0;p<a.size();p++){var S=a.getStructureAt(p);var P=this.mapValue(S.getByKey("Low"),l);var g=this.mapValue(S.getByKey("High"),l);var _=S.getStringByKey("Comparison");var y=this.mapComparisonOperatorForLowValue(_);var E=this.mapComparisonOperatorForHighValue(_);if(t.notNull(y)&&t.notNull(P)){if(n.length()>0){n.append(c).append(t.ProcessorODataConstants.URI_FILTER_OR).append(c)}var R=this.isExcludingFilter(S,_);if(R){n.append(t.ProcessorODataConstants.URI_FILTER_NOT);n.append(t.ProcessorODataConstants.URI_FILTER_BRACKET_OPEN)}n.append(o).append(c);n.append(y).append(c);n.append(P);if(t.notNull(E)&&t.notNull(g)){n.append(c).append(t.ProcessorODataConstants.URI_FILTER_AND).append(c);n.append(o).append(c);n.append(E).append(c);n.append(g)}if(R){n.append(t.ProcessorODataConstants.URI_FILTER_BRACKET_CLOSE)}}}}return n.toString()};t.ODataResultSetUrl.prototype.getFilterForOperator=function(e,r){var s=t.XStringBuffer.create();var n=t.XString.toLowerCase(e.getStringByKey("Code"));var i=t.PrUtils.getListProperty(e,"SubSelections");if(t.XStringUtils.isNotNullAndNotEmpty(n)&&!t.PrUtils.isListEmpty(i)){for(var o=0;o<i.size();o++){var a=this.getFilterForSelection(i.getStructureAt(o),r);if(t.XStringUtils.isNotNullAndNotEmpty(a)){if(s.length()>0){s.append(t.ProcessorODataConstants.URI_FILTER_SPACE).append(n).append(t.ProcessorODataConstants.URI_FILTER_SPACE)}s.append(t.ProcessorODataConstants.URI_FILTER_BRACKET_OPEN).append(a).append(t.ProcessorODataConstants.URI_FILTER_BRACKET_CLOSE)}}}return s.toString()};t.ODataResultSetUrl.prototype.mapValue=function(e,r){if(t.notNull(e)){if(e.isString()){if(t.XString.isEqual(r,"Date")||t.XString.isEqual(r,"DateTime")){return t.ProcessorDateConverter.convertToEdmDateTime(e.asString().getString())}return t.XStringUtils.concatenate3(t.ProcessorODataConstants.URI_FILTER_INV_COMMA,e.asString().getString(),t.ProcessorODataConstants.URI_FILTER_INV_COMMA)}if(e.isNumeric()||e.isBoolean()){return e.getStringRepresentation()}}return null};t.ODataResultSetUrl.prototype.mapComparisonOperatorForLowValue=function(e){if(t.XString.isEqual(e,"=")){return t.ProcessorODataConstants.URI_FILTER_EQUAL}if(t.XString.isEqual(e,"<>")){return t.ProcessorODataConstants.URI_FILTER_NOT_EQUAL}if(t.XString.isEqual(e,">")||this.isBetweenExcludingFilter(e)){return t.ProcessorODataConstants.URI_FILTER_GREATER}if(t.XString.isEqual(e,">=")||this.isBetweenFilter(e)){return t.ProcessorODataConstants.URI_FILTER_GREATER_EQUAL}if(t.XString.isEqual(e,"<")){return t.ProcessorODataConstants.URI_FILTER_LESS}if(t.XString.isEqual(e,"<=")){return t.ProcessorODataConstants.URI_FILTER_LESS_EQUAL}return null};t.ODataResultSetUrl.prototype.mapComparisonOperatorForHighValue=function(e){if(this.isBetweenExcludingFilter(e)){return t.ProcessorODataConstants.URI_FILTER_LESS}if(this.isBetweenFilter(e)){return t.ProcessorODataConstants.URI_FILTER_LESS_EQUAL}return null};t.ODataResultSetUrl.prototype.isBetweenFilter=function(e){return t.XString.isEqual(e,"BETWEEN")||t.XString.isEqual(e,"NOTBETWEEN")};t.ODataResultSetUrl.prototype.isBetweenExcludingFilter=function(e){return t.XString.isEqual(e,"BETWEEN_EXCLUDING")||t.XString.isEqual(e,"NOT_BETWEEN_EXCLUDING")};t.ODataResultSetUrl.prototype.isExcludingFilter=function(e,r){var s=e.getBooleanByKeyExt("IsExcluding",false);return s||t.XString.isEqual(r,"NOTBETWEEN")||t.XString.isEqual(r,"NOT_BETWEEN_EXCLUDING")};t.ODataResultSetUrl.prototype.addOrder=function(e){var r=e.getSort();if(!t.PrUtils.isListEmpty(r)){var s=t.XListOfString.create();for(var n=0;n<r.size();n++){var i=r.getStructureAt(n);var o=i.getStringByKey("Direction");var a=this.getSortValues(i,e.getAllDimensions());if(a.hasElements()){for(var u=0;u<a.size();u++){if(t.XString.isEqual(o,"Asc")||t.XString.isEqual(o,"Desc")){s.add(t.XStringUtils.concatenate3(a.get(u)," ",t.XString.toLowerCase(o)))}else{s.add(a.get(u))}}}}if(s.hasElements()){this.addQueryElement(t.ProcessorODataConstants.URI_PARAM_ORDERBY,t.XCollectionUtils.join(s,","))}}};t.ODataResultSetUrl.prototype.getSortValues=function(e,r){var s=t.XListOfString.create();var n=e.getListByKey("CustomSort");if(!t.PrUtils.isListEmpty(n)){for(var i=0;i<n.size();i++){s.add(n.getStringAt(i))}}else if(e.hasStringByKey("MeasureName")){s.add(e.getStringByKey("MeasureName"))}else{var o=this.getSortAttributeName(e,r);if(t.notNull(o)){s.add(o)}}return s};t.ODataResultSetUrl.prototype.getSortAttributeName=function(e,r){var s=e.getStringByKey("Dimension");var n=t.XString.isEqual(e.getStringByKey("SortType"),"MemberKey");for(var i=0;i<r.size();i++){var o=r.getStructureAt(i);if(t.XString.isEqual(o.getStringByKey("Name"),s)){var a=t.PrUtils.getListProperty(o,"Attributes");if(t.notNull(a)){for(var u=0;u<a.size();u++){var l=a.getStructureAt(u).getStringByKey("Name");var c=t.XString.isEqual(l,s);if(n===c){return l}}}}}return null};t.ProcessorODataV2=function(){};t.ProcessorODataV2.prototype=new t.ProcessorODataBase;t.ProcessorODataV2.prototype._ff_c="ProcessorODataV2";t.ProcessorODataV2.create=function(){var e=new t.ProcessorODataV2;e.setupProcessor();e.setupODataV2();return e};t.ProcessorODataV2.prototype.m_supportedCapabilities=null;t.ProcessorODataV2.prototype.releaseObject=function(){this.m_supportedCapabilities=t.XObjectExt.release(this.m_supportedCapabilities);t.ProcessorODataBase.prototype.releaseObject.call(this)};t.ProcessorODataV2.prototype.setupODataV2=function(){this.m_supportedCapabilities=t.XListOfString.create();this.m_supportedCapabilities.add(t.InACapabilities.C012_ENCODED_RESULTSET);this.m_supportedCapabilities.add(t.InACapabilities.C048_MEMBER_VISIBILITY);this.m_supportedCapabilities.add(t.InACapabilities.C005_OBTAINABILITY);this.m_supportedCapabilities.add(t.InACapabilities.C003_CLIENT_CAPABILITIES);this.m_supportedCapabilities.add(t.InACapabilities.C004_METADATA_SERVICE);this.m_supportedCapabilities.add(t.InACapabilities.C007_RESPONSE_FIXED_ATTRIBUTE_SEQUENCE);this.m_supportedCapabilities.add(t.InACapabilities.C011_SET_OPERAND);this.m_supportedCapabilities.add(t.InACapabilities.C001_DATASOURCE_AT_SERVICE);this.m_supportedCapabilities.add(t.InACapabilities.C030_UNIQUE_ATTRIBUTE_NAMES);this.m_supportedCapabilities.add(t.InACapabilities.PAGING);this.m_supportedCapabilities.add(t.InACapabilities.C028_METADATA_DIMENSION_GROUP);this.m_supportedCapabilities.add(t.InACapabilities.C044_PAGING_TUPLE_COUNT_TOTAL);this.m_supportedCapabilities.add(t.InACapabilities.SORT_TYPE);this.m_supportedCapabilities.add(t.InACapabilities.C054_EXTENDED_SORT);this.m_supportedCapabilities.add(t.InACapabilities.C148_CUSTOM_MEASURE_SORTORDER);this.m_supportedCapabilities.add(t.InACapabilities.C013_COMPLEX_FILTERS);this.m_supportedCapabilities.add(t.InACapabilities.C083_ORDER_BY);this.m_supportedCapabilities.add(t.InACapabilities.C089_DIMENSION_FILTER);this.m_supportedCapabilities.add(t.InACapabilities.C091_CUBE_BLENDING);this.m_supportedCapabilities.add(t.InACapabilities.C093_REMOTE_BLENDING)};t.ProcessorODataV2.prototype.getCapabilities=function(e){var r=t.XHashMapByString.create();this.addServiceWithCapabilities(r,e,"Analytics",this.m_supportedCapabilities,t.XListOfString.create());return r};t.ProcessorODataV2.prototype.getMaxSupportedODataVersion=function(){return 2};t.ProcessorModule=function(){};t.ProcessorModule.prototype=new t.DfModule;t.ProcessorModule.prototype._ff_c="ProcessorModule";t.ProcessorModule.s_module=null;t.ProcessorModule.getInstance=function(){if(t.isNull(t.ProcessorModule.s_module)){t.DfModule.checkInitialized(t.ProtocolModule.getInstance());t.ProcessorModule.s_module=t.DfModule.startExt(new t.ProcessorModule);t.InAProcessorFunctionFactory.registerODataAsInA();t.InAProcessorFunctionFactory.registerSCPAsInA();t.InAProcessorFunctionFactory.registerGenericServiceAdapterAsInA();t.DfModule.stopExt(t.ProcessorModule.s_module)}return t.ProcessorModule.s_module};t.ProcessorModule.prototype.getName=function(){return"ff4050.processor"};t.ProcessorModule.getInstance();return sap.firefly});
//# sourceMappingURL=ff4050.processor.js.map