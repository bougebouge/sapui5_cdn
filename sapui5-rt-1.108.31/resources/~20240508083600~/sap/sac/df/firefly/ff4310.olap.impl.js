/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff4000.protocol.ina","sap/sac/df/firefly/ff4205.olap.api.base","sap/sac/df/firefly/ff4250.olap.resultset","sap/sac/df/firefly/ff4305.olap.model"],function(e){"use strict";e.BlendableQMPersistedInAResult=function(){};e.BlendableQMPersistedInAResult.prototype=new e.XObject;e.BlendableQMPersistedInAResult.prototype._ff_c="BlendableQMPersistedInAResult";e.BlendableQMPersistedInAResult.create=function(t,r,a,n){var i=new e.BlendableQMPersistedInAResult;i.m_mainQuery=t;i.m_dependentQueries=r;i.m_runtimeBlendedQueryManager=a;i.m_hostSystemName=n;return i};e.BlendableQMPersistedInAResult.prototype.m_mainQuery=null;e.BlendableQMPersistedInAResult.prototype.m_dependentQueries=null;e.BlendableQMPersistedInAResult.prototype.m_runtimeBlendedQueryManager=null;e.BlendableQMPersistedInAResult.prototype.m_hostSystemName=null;e.BlendableQMPersistedInAResult.prototype.releaseObject=function(){this.m_mainQuery=null;this.m_dependentQueries=null;this.m_runtimeBlendedQueryManager=null};e.BlendableQMPersistedInAResult.prototype.getMainQuery=function(){return this.m_mainQuery};e.BlendableQMPersistedInAResult.prototype.getDependentQueries=function(){return this.m_dependentQueries};e.BlendableQMPersistedInAResult.prototype.getRuntimeBlendedQueryManager=function(){return this.m_runtimeBlendedQueryManager};e.BlendableQMPersistedInAResult.prototype.getHostSystemName=function(){return this.m_hostSystemName};e.BlendedDrillPathElementInfo=function(){};e.BlendedDrillPathElementInfo.prototype=new e.XObject;e.BlendedDrillPathElementInfo.prototype._ff_c="BlendedDrillPathElementInfo";e.BlendedDrillPathElementInfo._createBlendedDrillPathElementInfo=function(){var t=new e.BlendedDrillPathElementInfo;return t};e.BlendedDrillPathElementInfo.createBlendedDrillPathElementInfo=function(t,r,a){var n=new e.BlendedDrillPathElementInfo;n.m_datasetId=t;n.m_dimensionName=r;n.m_drillMember=a;return n};e.BlendedDrillPathElementInfo.prototype.m_datasetId=null;e.BlendedDrillPathElementInfo.prototype.m_dimensionName=null;e.BlendedDrillPathElementInfo.prototype.m_drillMember=null;e.BlendedDrillPathElementInfo.prototype.cloneExt=function(t){var r=e.BlendedDrillPathElementInfo._createBlendedDrillPathElementInfo();r.copyFrom(this,t);return r};e.BlendedDrillPathElementInfo.prototype.copyFrom=function(t,r){e.XObject.prototype.copyFrom.call(this,t,r);var a=t;this.m_datasetId=a.getDatasetId();this.m_dimensionName=a.getDimensionName();this.m_drillMember=a.getDrillMember()};e.BlendedDrillPathElementInfo.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_datasetId=null;this.m_dimensionName=null;this.m_drillMember=null};e.BlendedDrillPathElementInfo.prototype.getDimensionName=function(){return this.m_dimensionName};e.BlendedDrillPathElementInfo.prototype.getDatasetId=function(){return this.m_datasetId};e.BlendedDrillPathElementInfo.prototype.getDrillMember=function(){return this.m_drillMember};e.BlendingMappingUtils={ID_ATTRIBUTE_NAME:"id",DESCRIPTION_ATTRIBUTE_NAME:"description",processTransientCalculations:function(t,r,a){if(e.notNull(r)){var n=r.getIterator();while(n.hasNext()){var i=n.next();if(!e.XString.isEqual(t.getName(),i.getQueryModel().getName())){continue}var o=t.getDimensionByName(i.getDimension().getName());var s=i.getAliasOrMemberName();if(o.getStructureMemberByAliasOrMember(s)===null){o.addMeasure(i);i.getTagging().put("isTransient","")}var l=null;if(a){if(o.getFilter()!==null&&!o.getFilter().isEmpty()){l=o.getFilter()}}else{l=o.getFilter();if(e.isNull(l)){l=t.getFilter().getDynamicFilter().getCartesianListWithDefault(o)}}if(e.notNull(l)){var u=e.QFilterUtil.getMemberNamesFromFilter(o.getFilter(),o.getName());if(!u.contains(s)){var p=o.getFilter().addNewCartesianElement();p.setComparisonOperator(e.ComparisonOperator.EQUAL);p.setLowString(s);p.getTagging().put("isTransient","")}}e.BlendingMappingUtils.addTransientZoomOrVisiblityFilters(t,o,s)}}},addTransientZoomOrVisiblityFilters:function(t,r,a){if(r.getDimensionType()===e.DimensionType.ACCOUNT&&r.isHierarchyActive()&&r.getInitialDrillLevel()>-1){var n=t.getDrillManager().getAllZoomDrillOperationsForDimension(r);var i=false;var o=e.QFactory.createDrillPathElement(t,a,r);o.getTagging().put("isTransient","");if(e.notNull(n)&&n.size()>0){for(var s=0;s<n.size();s++){if(e.XCollectionUtils.contains(n.get(s).getDrillPath(),function(t){return e.XString.isEqual(t.getSelectValue(),a)}.bind(this))){i=true}}if(!i){t.getDrillManager().addZoomDrillPathElement(o,true)}}else{var l=t.getDrillManager().getDrillOperationsByDimension(r);if(e.notNull(l)){for(var u=0;u<l.size();u++){if(e.XCollectionUtils.contains(l.get(u).getDrillPath(),function(t){return e.XString.isEqual(t.getSelectValue(),a)}.bind(this))){i=true}}}if(!i){t.getDrillManager().setDrillStateElement(o,e.DrillState.EXPANDED);var p=t.getFilter().getVisibilityFilter();if(e.notNull(p)){var c=p.getCartesianList(r);if(e.notNull(c)&&c.size()>0){var g=c.addNewCartesianElement();g.setComparisonOperator(e.ComparisonOperator.EQUAL);g.setLowString(a);g.setDepth(0);g.setHierarchyName(r.getHierarchyName());g.getTagging().put("isTransient","")}}}}}},processCalculationDimensionMappings:function(t,r,a,n){var i=r.getQueryModel();var o=a.getQueryModel();var s=i.getQueryManager();var l=o.getQueryManager();var u=i.getAccountDimension();var p=o.getAccountDimension();var c=i.getMeasureDimension();var g=o.getMeasureDimension();var y;var m;if(e.notNull(u)){if(e.BlendingMappingUtils.isLeafDimensionUsedInBlendedDrill(u.getName(),i.getDatasetId(),n)){e.BlendingMappingUtils.autoExpandHierarchyDimension(u);e.BlendingMappingUtils.autoExpandHierarchyDimension(p)}if(e.isNull(p)){y=t.addNewDimensionMapping(e.BlendingLinkType.ALL_DATA,c.getName());y.addNewDimensionMappingDefinition(c,r.getQueryAliasName());y.addNewConstantMapping("SignedData",a.getQueryAliasName());m=t.addNewDimensionMapping(e.BlendingLinkType.COEXIST,u.getName());m.addNewDimensionMappingDefinition(u,r.getQueryAliasName());m.addNewDimensionMappingDefinition(g,a.getQueryAliasName());var d=g.getTextField();var C=u.getTextField();if(e.notNull(C)&&e.notNull(d)){var A=m.addNewAttributeMappingByName(C.getName(),false);A.addNewAttributeDimensionMappingDefinitionByName(C.getName(),r.getQueryAliasName());A.addNewAttributeDimensionMappingDefinitionByName(d.getName(),a.getQueryAliasName())}var S=g.getKeyField();var E=u.getKeyField();if(e.notNull(E)&&e.notNull(S)){var _=m.addNewAttributeMappingByName(E.getName(),false);_.addNewAttributeDimensionMappingDefinitionByName(E.getName(),r.getQueryAliasName());_.addNewAttributeDimensionMappingDefinitionByName(S.getName(),a.getQueryAliasName())}}else{y=t.addNewDimensionMapping(e.BlendingLinkType.ALL_DATA,c.getName());y.addNewDimensionMappingDefinition(g,a.getQueryAliasName());y.addNewDimensionMappingDefinition(c,r.getQueryAliasName());m=t.addNewDimensionMapping(e.BlendingLinkType.COEXIST,u.getName());m.addNewDimensionMappingDefinition(p,a.getQueryAliasName());m.addNewDimensionMappingDefinition(u,r.getQueryAliasName())}}else{var h;var I;var f;var M;var v=e.XStringUtils.concatenate3("[",c.getName(),"].key");if(e.notNull(p)){y=t.addNewDimensionMapping(e.BlendingLinkType.ALL_DATA,"SignedData");y.addNewDimensionMappingDefinition(g,a.getQueryAliasName());var b=r.getQueryModel().getDimensionByName("SignedData");if(e.notNull(b)){y.addNewDimensionMappingDefinition(b,r.getQueryAliasName())}else{y.addNewConstantMapping("SignedData",r.getQueryAliasName())}m=t.addNewDimensionMapping(e.BlendingLinkType.COEXIST,c.getName());m.addNewDimensionMappingDefinition(p,a.getQueryAliasName());m.addNewDimensionMappingDefinition(c,r.getQueryAliasName());if(e.isNull(b)){f=c.getTextField();M=p.getTextField();if(e.notNull(f)&&e.notNull(M)){var T=m.addNewAttributeMappingByName(f.getName(),false);T.addNewAttributeDimensionMappingDefinitionByName(M.getName(),a.getQueryAliasName());T.addNewAttributeDimensionMappingDefinitionByName(f.getName(),r.getQueryAliasName())}h=c.getKeyField();I=p.getKeyField();if(e.notNull(h)&&e.notNull(I)){var N=m.addNewAttributeMappingByName(v,false);N.addNewAttributeDimensionMappingDefinitionByName(I.getName(),a.getQueryAliasName());if(m.getBlendingDefinition().getBlendingSourceByAlias(r.getQueryAliasName()).getFieldByName(v)!==null){N.addNewAttributeDimensionMappingDefinitionByName(v,r.getQueryAliasName())}else{N.addNewAttributeDimensionMappingDefinitionByName(h.getName(),r.getQueryAliasName())}}}}else{m=t.addNewDimensionMapping(e.BlendingLinkType.COEXIST,c.getName());m.addNewDimensionMappingDefinition(c,r.getQueryAliasName());m.addNewDimensionMappingDefinition(g,a.getQueryAliasName());if(s.getSystemType().isTypeOf(e.SystemType.BW)||l.getSystemType().isTypeOf(e.SystemType.BW)){f=c.getTextField();M=g.getTextField();if(e.notNull(f)&&e.notNull(M)){var R=m.addNewAttributeMappingByName(f.getName(),false);R.addNewAttributeDimensionMappingDefinitionByName(f.getName(),r.getQueryAliasName());R.addNewAttributeDimensionMappingDefinitionByName(M.getName(),a.getQueryAliasName())}h=c.getKeyField();I=g.getKeyField();if(e.notNull(h)&&e.notNull(I)){var Q=m.addNewAttributeMappingByName(v,false);if(m.getBlendingDefinition().getBlendingSourceByAlias(r.getQueryAliasName()).getFieldByName(v)!==null){Q.addNewAttributeDimensionMappingDefinitionByName(v,r.getQueryAliasName())}else{Q.addNewAttributeDimensionMappingDefinitionByName(h.getName(),r.getQueryAliasName())}Q.addNewAttributeDimensionMappingDefinitionByName(I.getName(),a.getQueryAliasName())}}}}},processLinkedDimensions:function(t,r,a,n,i,o){var s=a.getQueryModel();var l=n.getQueryModel();var u=t.getIterator();while(u.hasNext()){var p=u.next();var c=p.getModelDimensionLinks().getIterator();while(c.hasNext()){var g=c.next();var y=g.getFirstPart().getDimensionName();var m=s.getDimensionByName(y);if(e.isNull(m)){continue}var d=e.BlendingMappingUtils.isOutOfContextDimension(m);if(d){if(!p.getQueryModelLinkSettings().getActivePrimaryLinkDimensionNames().isEmpty()&&!p.getQueryModelLinkSettings().getActivePrimaryLinkDimensionNames().contains(y)){continue}s.getRowsAxis().add(m);m.getTagging().put("transientRowAxis","");i.addOutOfContextLinkDimensionName(y)}if(m.supportsHierarchy()){if(d){m.getTagging().put("transientInitialDrillLevel",e.XInteger.convertToString(m.getInitialDrillLevel()));m.setInitialDrillLevel(0)}}if(!e.XString.isEqual(l.getDatasetId(),g.getSecondPart().getQueryManagerKey())){continue}var C=g.getSecondPart().getDimensionName();var A=l.getDimensionByName(C);if(e.isNull(A)){continue}var S=e.BlendingMappingUtils.isOutOfContextDimension(A);if(S){l.getRowsAxis().add(A);A.getTagging().put("transientRowAxis","")}if(A.supportsHierarchy()){A.getTagging().put("transientInitialDrillLevel",e.XInteger.convertToString(A.getInitialDrillLevel()));A.setInitialDrillLevel(-1)}e.BlendingMappingUtils.processHierarchies(m,A,d,g.isLinkOnMatchingHierarchies());if(e.BlendingMappingUtils.isLeafDimensionUsedInBlendedDrill(m.getName(),s.getDatasetId(),o)){e.BlendingMappingUtils.autoExpandHierarchyDimension(m);e.BlendingMappingUtils.autoExpandHierarchyDimension(A)}var E=r.addNewDimensionMapping(p.getQueryModelLinkSettings().getLinkType(),y);E.addNewDimensionMappingDefinitionByName(y,a.getQueryAliasName());E.addNewDimensionMappingDefinitionByName(C,n.getQueryAliasName());var _=e.BlendingMappingUtils.getAttributeJoinField(g.getFirstPart(),m,i);var h=e.BlendingMappingUtils.getAttributeJoinField(g.getSecondPart(),A,i);if(e.notNull(_)&&e.notNull(h)){var I=E.addNewAttributeMappingByName(_.getName(),true);I.addNewAttributeDimensionMappingDefinitionByName(_.getName(),a.getQueryAliasName());I.addNewAttributeDimensionMappingDefinitionByName(h.getName(),n.getQueryAliasName())}e.BlendingMappingUtils.addDescriptionAttrMappingIfLinkByKey(m,A,g,E,a.getQueryAliasName(),n.getQueryAliasName())}}},isLeafDimensionUsedInBlendedDrill:function(t,r,a){var n=a.getIterator();while(n.hasNext()){var i=n.next();if(e.XString.isEqual(i.getDatasetId(),r)&&e.XString.isEqual(i.getDimensionName(),t)){return true}}return false},autoExpandHierarchyDimension:function(t){if(e.notNull(t)&&t.isHierarchyActive()&&t.getDrillManager().getDrillOperationsByDimension(t).size()===0&&t.getDrillManager().getAllZoomDrillOperationsForDimension(t).size()===0){t.getTagging().put("transientInitialDrillLevel",e.XInteger.convertToString(t.getInitialDrillLevel()));t.setInitialDrillLevel(-1)}},processUnlinkedDimensions:function(t,r,a,n,i,o){var s=t.getQueryModel();var l=t.getQueryAliasName();var u=r.getQueryAliasName();var p=e.XList.create();p.addAll(s.getRowsAxis());p.addAll(s.getColumnsAxis());var c=p.getIterator();var g=e.XHashMapByString.create();var y=a.getMappings().getIterator();var m;while(y.hasNext()){var d=y.next();if(d.getMappingDefinitionType()===e.BlendingMappingDefinitionType.DIMENSION){var C=d.getMappingDefinitions().getIterator();while(C.hasNext()){var A=C.next();m=g.getByKey(A.getQueryAliasName());if(e.isNull(m)){m=e.XHashSetOfString.create();g.put(A.getQueryAliasName(),m)}m.add(A.getMemberName())}}}while(c.hasNext()){var S=c.next();if(S.isMeasureStructure()||S.getDimensionType()===e.DimensionType.ACCOUNT){continue}m=g.getByKey(l);var E=S.getName();if(e.isNull(m)||!m.contains(E)){var _;if(i.contains(E)||s.getQueryManager().getSystemType()===e.SystemType.BW){_=e.XStringUtils.concatenate3(l,".",E)}else{_=E}i.add(E);var h;if(n.getUnlinkedDimensionJoinType()===e.UnlinkedDimensionJoinType.MERGE_MEMBERS){h=a.addNewDimensionMapping(e.BlendingLinkType.NONE,_);h.addNewDimensionMappingDefinition(S,l);h.setIsPreservingMembers(true)}else if(n.getUnlinkedDimensionJoinType()===e.UnlinkedDimensionJoinType.CREATE_NEW_MEMBERS){h=a.addNewDimensionMapping(e.BlendingLinkType.ALL_DATA,_);h.addNewDimensionMappingDefinition(S,l);if(S.isMeasureStructure()){h.addNewConstantMapping("SignedData",l)}else{h.addNewConstantMapping(null,u)}}if(e.BlendingMappingUtils.isLeafDimensionUsedInBlendedDrill(_,s.getDatasetId(),o)){e.BlendingMappingUtils.autoExpandHierarchyDimension(S)}}}},getMatchingSecondaryHierarchyName:function(t,r){var a=null;var n=t.getHierarchyName();var i=r.getHierarchies();if(e.BlendingMappingUtils.isMatchableHierarchy(t,n)&&e.notNull(i)){var o=i.getObjectsIterator();while(e.isNull(a)&&o.hasNext()){var s=o.next();var l=s.getHierarchyName();if(e.XString.isEqual(l,n)&&e.BlendingMappingUtils.isMatchableHierarchy(r,l)){a=l}}if(e.isNull(a)){var u=e.BlendingMappingUtils.getMatchableDefaultHierarchyName(t);var p=e.BlendingMappingUtils.getMatchableDefaultHierarchyName(r);if(e.XString.isEqual(n,u)&&e.notNull(p)){a=p}}}return a},isOutOfContextDimension:function(t){return t.getAxisType()!==e.AxisType.ROWS&&t.getAxisType()!==e.AxisType.COLUMNS},isMatchableHierarchy:function(t,r){return e.notNull(r)&&!e.QTimeDimensionUtil.isDateOrTimeLikeDimension(t)&&!e.QFilterAcrossModelsDimensionUtil.isNonTimeLevelBasedHierarchy(t,r)},getMatchableDefaultHierarchyName:function(t){var r=null;if(t.getHierarchies()!==null){var a=t.getHierarchies().getObjects();var n=a.size();if(n>0){var i=a.get(n-1).getHierarchyName();if(e.BlendingMappingUtils.isMatchableHierarchy(t,i)){r=i}}}return r},getSecondaryHierarchyNameToActivate:function(t,r,a){var n=null;var i=e.BlendingMappingUtils.getMatchingSecondaryHierarchyName(t,r);var o=e.BlendingMappingUtils.getMatchableDefaultHierarchyName(r);if(a&&e.notNull(i)){n=i}else if(e.notNull(o)){n=o}return n},processHierarchies:function(t,r,a,n){var i=e.BlendingMappingUtils.getMatchableDefaultHierarchyName(t);if(!e.QFilterUtil.hasFilterForDimension(t.getQueryModel().getFilter(),t.getName())&&a&&e.notNull(i)){var o=t.isHierarchyActive()?t.getHierarchyName():null;t.getTagging().put("originalHierarchy",o);t.activateHierarchy(i,null,null)}if(r.getFilter()===null){var s=e.BlendingMappingUtils.getSecondaryHierarchyNameToActivate(t,r,n);if(e.notNull(s)){var l=r.isHierarchyActive()?r.getHierarchyName():null;r.getTagging().put("originalHierarchy",l);r.activateHierarchy(s,null,null)}}},addDescriptionAttrMappingIfLinkByKey:function(t,r,a,n,i,o){var s=a.getFirstPart().isLinkOnKeyField()||e.XString.isEqual(a.getFirstPart().getFieldName(),e.BlendingMappingUtils.ID_ATTRIBUTE_NAME);var l=a.getSecondPart().isLinkOnKeyField()||e.XString.isEqual(a.getSecondPart().getFieldName(),e.BlendingMappingUtils.ID_ATTRIBUTE_NAME);if(s||l){var u=t.getTextField();var p=r.getTextField();if(e.notNull(u)&&e.notNull(p)){var c=n.addNewAttributeMappingByName(u.getName(),false);c.addNewAttributeDimensionMappingDefinitionByName(u.getName(),i);c.addNewAttributeDimensionMappingDefinitionByName(p.getName(),o)}}},getAttributeJoinField:function(t,r,a){var n=null;var i=null;if(t.getFieldName()!==null&&e.XString.isEqual(t.getFieldName(),e.BlendingMappingUtils.DESCRIPTION_ATTRIBUTE_NAME)||!t.containsEmptyDescriptionField()&&!t.isLinkOnKeyField()){n=r.getTextField();if(r.isHierarchyActive()){if(r.getQueryManager().getConvenienceCommands().isBw()){n=r.getHierarchyTextField()}i=r.getHierarchyDisplayKeyField()}else{if(r.getQueryManager().getConvenienceCommands().isBw()){n=r.getTextField()}i=r.getDisplayKeyField()}}else if(t.getFieldName()!==null&&e.XString.isEqual(t.getFieldName(),e.BlendingMappingUtils.ID_ATTRIBUTE_NAME)||t.isLinkOnKeyField()){n=r.getDisplayKeyField()!==null?r.getDisplayKeyField():r.getKeyField()!==null?r.getKeyField():r.getFlatKeyField();if(r.isHierarchyActive()){if(r.getQueryManager().getConvenienceCommands().isBw()){n=r.getHierarchyKeyField()!==null?r.getHierarchyKeyField():r.getHierarchyDisplayKeyField()!==null?r.getHierarchyDisplayKeyField():r.getFlatKeyField()}i=r.getHierarchyDisplayKeyField()}else{if(r.getQueryManager().getConvenienceCommands().isBw()){n=r.getKeyField()!==null?r.getKeyField():r.getDisplayKeyField()!==null?r.getDisplayKeyField():r.getFlatKeyField()}i=r.getDisplayKeyField()}}else{var o=r.getFlatKeyField().getName();var s=e.XStringUtils.concatenate2(e.XString.substring(o,0,e.XString.lastIndexOf(o,".")+1),t.getFieldName());n=r.getFieldByName(s)!==null?r.getFieldByName(s):r.getFlatKeyField()!==null?r.getFlatKeyField():r.getFields().get(0)}if(e.isNull(n)){n=r.getFlatKeyField()!==null?r.getFlatKeyField():r.getTextField()!==null?r.getTextField():r.getFields().get(0)}var l=r.getFields().getIterator();while(l.hasNext()){var u=l.next();if(u.isHierarchyPathField()&&u.isAlwaysRequested()&&r.getQueryManager().getInitSettings().getMode()!==e.QueryManagerMode.BLENDING){u.getTagging().put("transientAlwaysRequested","");u.setAlwaysRequested(false)}}var p=r.getResultSetFields().getIterator();var c=e.QCacheKey.createByContextForDimension(r.getContext(),r.getName(),null);var g=e.XListOfString.create();a.addOriginalDimensionResultSetFields(c.getKey1(),g);while(p.hasNext()){var y=p.next();g.add(y.getName())}if(r.getQueryManager().getInitSettings().getMode()!==e.QueryManagerMode.BLENDING){r.getResultSetFields().clear()}if(e.notNull(n)&&n.getName()!==null){r.getResultSetFields().add(n);r.getResultSetFields().add(r.getCubeBlendingPropertiesField())}if(e.notNull(i)&&i.getName()!==null){r.getResultSetFields().add(i)}return n}};e.BlendingSortUtils={addSortByDimension:function(t,r,a,n){var i=r.getFieldByName(n.getFieldName());var o=null;if(e.notNull(t)&&e.isNull(i)){i=e.BlendingUtils.getBlendedFieldFromLeafField(n.getFieldName(),n.getDatasetId(),t,r)}var s=i.getDimension();var l=r.getModelCapabilities().supportsSortDirectionForHierarchySortType();var u=n.getCustomSortDefinition();var p=r.getModelCapabilities().supportsLocaleSorting();if(e.notNull(u)){a.removeDimensionSorting(s);o=i;var c=u.getSortFromStart();if(e.notNull(c)&&c.hasElements()){e.BlendingSortUtils.setCustomSortForSortingManager(a,o,n,p,l,c,e.CustomSortPosition.TOP)}var g=u.getSortFromEnd();if(e.notNull(g)&&g.hasElements()){e.BlendingSortUtils.setCustomSortForSortingManager(a,o,n,p,l,g,e.CustomSortPosition.BOTTOM)}return}var y=false;var m=false;if(e.notNull(t)){var d=t.getQueryManagerByDatasetId(n.getDatasetId()).getQueryModel().getFieldByName(n.getFieldName()).getValueType();m=d===e.XValueType.DATE||d===e.XValueType.DATE_TIME}if(m||e.QTimeDimensionUtil.isDateOrTimeLikeDimension(s)||e.QSortUtils.getDefaultDimensionSortType(s)===e.SortType.MEMBER_KEY){o=i;if(a.supportsDimensionSorting(s,e.SortType.HIERARCHY)&&s.isHierarchyActive()){e.BlendingSortUtils.addFieldOrDimensionSorting(a,o,n,p,y,l,null,null)}else if(a.supportsFieldSorting(o)){y=true;e.BlendingSortUtils.addFieldOrDimensionSorting(a,o,n,p,y,l,null,null)}}else if(n.isDisplayedAsId()){o=i;if(a.supportsFieldSorting(null)){y=true;e.BlendingSortUtils.addFieldOrDimensionSorting(a,o,n,p,y,l,null,null)}}else{o=s.getTextField();if(e.isNull(o)){o=i}if(a.supportsFieldSorting(null)){y=true;e.BlendingSortUtils.addFieldOrDimensionSorting(a,o,n,p,y,l,null,null)}}if(a.supportsFieldSorting(null)){var C=s.getDisplayKeyField();y=true;e.BlendingSortUtils.addFieldOrDimensionSorting(a,C,n,p,y,l,null,null)}else if(a.supportsDimensionSorting(s,null)){y=false;e.BlendingSortUtils.addFieldOrDimensionSorting(a,o,n,p,y,l,null,null)}},addFieldOrDimensionSorting:function(t,r,a,n,i,o,s,l){var u=null;var p=null;if(i){u=t.newFieldSorting(r);t.addSortOperation(u);p=e.SortType.FIELD}else{var c=r.getDimension();u=t.getDimensionSorting(c,false);if(e.notNull(u)&&(e.isNull(s)||s.isEmpty())){t.removeDimensionSorting(c);u=null}if(e.isNull(u)){u=t.getDimensionSorting(c,true)}if(e.notNull(s)&&!s.isEmpty()){u=t.newDimensionSorting(c);u.setName(e.XStringUtils.concatenateWithInt(e.QSortUtils.SORT_OPERATION_INFO_PREFIX,e.QSortUtils.SORT_OPERATION_INFO_INDEX++));t.addSortOperation(u)}p=e.QSortUtils.getSortType(u,r,o,c.isHierarchyActive())}if(e.notNull(u)&&e.notNull(p)){e.QSortUtils.addSortDirectionAndBreakGrouping(t,u,p,!a.getPreserveGrouping(),a.getSortDirection());if(n){u.setLocale(a.getContextLanguage());u.setIsCaseSensitive(false)}}e.QSortUtils.applyCustomSortToSortingObject(s,l,u)},setCustomSortForSortingManager:function(t,r,a,n,i,o,s){if(t.supportsFieldSorting(null)){e.BlendingSortUtils.addFieldOrDimensionSorting(t,r,a,n,true,i,o,s)}else{e.BlendingSortUtils.addFieldOrDimensionSorting(t,r,a,n,false,i,o,s)}}};e.BlendingUtils={getQueryAliasName:function(t){var r=null;if(t.getInitSettings().getMode()===e.QueryManagerMode.BLENDING){var a=t.getQueryModel().getBlendingSources();if(e.notNull(a)&&a.size()>0){r=a.get(0).getQueryAliasName();for(var n=1;n<a.size();n++){var i=a.get(n);r=e.XStringUtils.concatenate3(r,"AND",i.getQueryAliasName())}}}else{var o=t.getQueryModel().getDatasetEpmObject();r=e.notNull(o)?o.getCubeId():t.getDataSource().getFullQualifiedName()}return r},convertToBlendedFormula:function(t,r){var a=null;var n;if(t.getOlapComponentType()===e.OlapComponentType.FORMULA_ITEM_ATTRIBUTE){var i=t;var o=i.cloneOlapComponent(r.getQueryModel(),r);n=e.BlendingUtils.getQueryAliasName(r.getQueryManager());o.setFieldByName(e.XStringUtils.concatenate3(n,".",i.getFieldName()));a=o}else if(t.getOlapComponentType()===e.OlapComponentType.FORMULA_ITEM_MEMBER){var s=t;var l=s.cloneOlapComponent(r.getQueryModel(),r);var u=s.getDimensionContext();var p;if(e.notNull(u)){p=u.getStructureMember(s.getMemberName());var c=e.BlendingUtils.getMatchingBlendedMemberFromLeafMember(r.getQueryModel(),p);l.setMemberName(c.getName());if(s.getDimensionName()!==null){l.setDimensionName(c.getDimension().getName())}}else{p=r.getDimension().getStructureMember(s.getMemberName());l.setMemberName(s.getMemberName())}if(e.isNull(p)){throw e.XException.createRuntimeException(e.XStringUtils.concatenate2("Invalid formula item member:",s.getMemberName()))}a=l}else if(t.getOlapComponentType()===e.OlapComponentType.FORMULA_FUNCTION){var g=t;a=e.QFactory.createFormulaFunctionWithName(r,g.getFunctionName());for(var y=0;y<g.size();y++){a.add(e.BlendingUtils.convertToBlendedFormula(g.get(y),r))}}else if(t.getOlapComponentType()===e.OlapComponentType.FORMULA_CONSTANT){a=t.cloneOlapComponent(r.getQueryModel(),r)}return a},getMatchingLeafMemberFromBlendedMember:function(t,r,a){var n=null;var i=t.getQueryManager();if(i.getMode()===e.QueryManagerMode.BLENDING){var o=i.getQueryModel().getBlendingSources();for(var s=0;s<o.size();s++){var l=o.get(s);var u=l.getQueryModel();var p=e.XStringUtils.concatenate2(l.getQueryAliasName(),".");if(e.XString.startsWith(r,p)){var c=e.XString.replace(r,p,"");n=e.BlendingUtils.getMatchingLeafMemberFromBlendedMember(u,c,a);if(e.notNull(n)){break}}}}else{var g=a?t.getPrimaryCalculationDimension():t.getSecondaryCalculationDimension();if(e.notNull(g)){if(g.getRuntimePlaceholderIdMemberMap()!==null&&g.getRuntimePlaceholderIdMemberMap().containsKey(r)){n=g.getRuntimePlaceholderIdMemberMap().getByKey(r)}else{n=g.getStructureMember(r)}}}return n},getMatchingBlendedMemberFromLeafMember:function(t,r){var a=t.getPrimaryCalculationDimension().getAllStructureMembers();var n=r.getDimension().getRuntimePlaceholderIdByAlias(r.getAliasName());var i=e.notNull(n)?n:r.getName();for(var o=0;o<a.size();o++){var s=a.get(o);var l=e.XString.indexOf(s.getName(),i);if(l>=0){var u=e.BlendingUtils.getMatchingLeafMemberFromBlendedMember(t,s.getName(),true);if(e.notNull(u)&&e.XString.isEqual(u.getQueryModel().getDatasetId(),r.getQueryModel().getDatasetId())){return s}}}return null},isQueryModelInUseForBlending:function(t,r){var a=e.XList.create();var n=t.getRowsAxis().getDimensions();for(var i=0;i<n.size();i++){var o=n.get(i);if(!o.supportsBasicStructureMembers()){a.add(o)}}var s=t.getColumnsAxis().getDimensions();for(var l=0;l<s.size();l++){var u=s.get(l);if(!u.supportsBasicStructureMembers()){a.add(u)}}var p=!a.isEmpty();var c=t.getPrimaryCalculationDimension();var g=e.XHashSetOfString.create();g.addAll(e.QFilterUtil.getMemberNamesFromFilter(t.getFilter().getDynamicFilter().getFilterRootElement(),c.getName()));if(g.isEmpty()){var y=t.getFilter().getLinkedFilters().getValuesAsReadOnlyList();for(var m=0;m<y.size();m++){var d=y.get(m).getFilterRootElement();g.addAll(e.QFilterUtil.getMemberNamesFromFilter(d,c.getName()))}}var C=!g.isEmpty();return p||(r?true:C)},getLeafQueryModels:function(t){var r=e.XList.create();e.BlendingUtils.addLeafQueryModels(t,r);return r},getQueryModelFromDatasetId:function(t,r){if(t.getInitSettings().getMode()===e.QueryManagerMode.BLENDING){var a=t.getQueryModel().getBlendingSources();for(var n=0;n<a.size();n++){var i=a.get(n);var o=i.getQueryManager();var s=e.BlendingUtils.getQueryModelFromDatasetId(o,r);if(e.notNull(s)){return s}}}else{if(e.XString.isEqual(t.getQueryModel().getDatasetId(),r)){return t.getQueryModel()}}return null},addLeafQueryModels:function(t,r){if(t.getInitSettings().getMode()===e.QueryManagerMode.BLENDING){var a=t.getQueryModel().getBlendingSources();for(var n=0;n<a.size();n++){var i=a.get(n);var o=i.getQueryManager();e.BlendingUtils.addLeafQueryModels(o,r)}}else{r.add(t.getQueryModel())}},migrateAxis:function(t,r,a){if(r.getInitSettings().getMode()!==e.QueryManagerMode.BLENDING){return}var n=e.BlendingUtils.getLeafQueryModels(r);var i=r.getQueryModel().getAxis(a).getIterator();while(i.hasNext()){var o=i.next();var s=e.BlendingUtils.getLeafDimensionNameAndDatasetId(n,o);if(e.notNull(s)){var l=s.getFirstString();var u=s.getSecondString();var p=t.addBlendedDimensionInfoToAxis(a,u,o.getName());if(o.isHierarchyActive()){p.setInitialDrillLevel(o.getInitialDrillLevel());var c=r.getDrillManager().getDrillOperationsByDimension(o);for(var g=0;g<c.size();g++){var y=c.get(g);var m=t.addNewBlendedDrillOperation(u,l);m.setDrillState(y.getDrillState());var d=y.getDrillPath();for(var C=0;C<d.size();C++){var A=d.get(C);var S=e.BlendingUtils.getLeafDimensionNameAndDatasetId(n,A.getDimension());m.addBlendedDrillPathElementInfo(S.getSecondString(),S.getFirstString(),A.getSelectValue())}}}}}},getLeafDimensionNameAndDatasetId:function(t,r){for(var a=0;a<t.size();a++){var n=t.get(a);var i=null;if(e.XString.startsWith(r.getName(),n.getDatasetEpmObject().getCubeId())){var o=e.XString.substring(r.getName(),e.XString.size(n.getDatasetEpmObject().getCubeId())+1,e.XString.size(r.getName())-1);i=n.getDimensionByName(o)!==null?o:null}else if(n.getDimensionByName(r.getName())!==null){i=r.getName()}if(e.notNull(i)){return e.XPairOfString.create(i,n.getDatasetId())}}return null},findLeafDimensionFromBlendedDimension:function(t,r){var a=null;for(var n=0;n<t.size();n++){var i=t.get(n);if(e.XString.startsWith(r.getName(),i.getDatasetEpmObject().getCubeId())){var o=e.XString.substring(r.getName(),e.XString.size(i.getDatasetEpmObject().getCubeId())+1,e.XString.size(r.getName()));a=i.getDimensionByName(o)}else{a=i.getDimensionByName(r.getName())}if(e.notNull(a)&&(a.getAxisType()===e.AxisType.ROWS||a.getAxisType()===e.AxisType.COLUMNS)){break}else{a=null}}return a},activateBlendedDimensionHierarchies:function(t){var r=t.getQueryModel();var a=e.XList.create();a.addAll(r.getColumnsAxis());a.addAll(r.getRowsAxis());var n=e.BlendingUtils.getLeafQueryModels(t);for(var i=0;i<a.size();i++){var o=a.get(i);if(o.supportsHierarchy()){e.BlendingUtils.setHierarchyNameAndActivate(o);if(o.getDimensionType()!==e.DimensionType.ACCOUNT){var s=e.BlendingUtils.findLeafDimensionFromBlendedDimension(n,o);if(e.notNull(s)){if(s.isHierarchyActive()){o.setHierarchyName(s.getHierarchyName());o.setInitialDrillLevel(s.getInitialDrillLevel());o.setInitialDrillOffset(s.getInitialDrillOffset());o.setHierarchyActive(true);e.HierarchyPathUtil.addPathFieldToResultSet(r,o.getName(),false)}var l=o.getHierarchyDisplayKeyField();if(e.notNull(l)&&o.getResultSetFields().getFieldByName(l.getName())===null){o.getResultSetFields().add(l)}}}}}},setHierarchyNameAndActivate:function(t){if(t.supportsHierarchy()&&!t.isHierarchyActive()){if(t.getHierarchyName()===null){if(e.XStringUtils.isNotNullAndNotEmpty(t.getDefaultHierarchyName())){t.setHierarchyName(t.getDefaultHierarchyName())}else if(t.getHierarchies()!==null&&t.getHierarchies().getObjects()!==null&&t.getHierarchies().getObjects().size()>0){t.setHierarchyName(t.getHierarchies().getObjects().get(0).getHierarchyName())}}if(t.getHierarchyName()!==null){t.setHierarchyActive(true)}}},getBlendedQueryModelByBlendDefinition:function(t,r){var a=null;if(t.getInitSettings().getMode()===e.QueryManagerMode.BLENDING){if(t.getInitSettings().getBlendingDefinition().isEqualTo(r)){a=t}else{var n=t.getInitSettings().getBlendingDefinition().getSources().getIterator();while(n.hasNext()){a=e.BlendingUtils.getBlendedQueryModelByBlendDefinition(n.next().getQueryManager(),r);if(e.notNull(a)){break}}}}return a},releaseAllBlendNodes:function(t){if(e.notNull(t)&&!t.isReleased()&&t.getInitSettings().getMode()===e.QueryManagerMode.BLENDING){var r=t.getQueryModel().getBlendingSources();if(e.notNull(r)&&r.size()>0){for(var a=0;a<r.size();a++){e.BlendingUtils.releaseAllBlendNodes(r.get(a).getQueryManager())}e.XObjectExt.release(t)}}},checkDimensionLinkPart:function(t,r,a){return e.XString.isEqual(r,t.getQueryModel().getDatasetId())&&e.XString.isEqual(a,t.getDimensionName())},compareLinkedDatasetId:function(t,r,a,n){var i=t.getFirstPart();var o=t.getSecondPart();var s=e.BlendingUtils.checkDimensionLinkPart(i,r,a)&&e.XString.isEqual(n,o.getQueryModel().getDatasetId());var l=e.BlendingUtils.checkDimensionLinkPart(o,r,a)&&e.XString.isEqual(n,i.getQueryModel().getDatasetId());return s||l},isDimensionFromLinkedDimension:function(t,r,a){var n=false;var i=t.getOlapEnv().getModelLinkManager().getDimensionLinksByDatasetId(t.getStorageName(),a,false);var o=i.getIterator();while(o.hasNext()){var s=o.next();var l=t.getPrimaryQueryManager().getQueryModel().getDatasetId();if(e.BlendingUtils.checkDimensionLinkPart(s.getFirstPart(),a,r)||e.BlendingUtils.checkDimensionLinkPart(s.getSecondPart(),a,r)){if(!e.XString.isEqual(a,l)){if(e.BlendingUtils.compareLinkedDatasetId(s,a,r,l)){n=true}}else{var u=t.getSecondaryQueryManagers();for(var p=0;p<u.size();p++){var c=u.get(p).getQueryModel().getDatasetId();if(e.BlendingUtils.compareLinkedDatasetId(s,a,r,c)){n=true}}}}}return n},getBlendedDimensionFromLeafDimension:function(t,r,a,n){var i=a.getQueryManagerByDatasetId(r);var o=i.getQueryModel();var s=e.BlendingUtils.getAliasPrefixFromQueryModel(n,o);var l=n.getDimensionByName(e.XStringUtils.concatenate2(s,t));return e.notNull(l)?l:n.getDimensionByName(t)},getBlendedFieldFromLeafField:function(t,r,a,n){var i=a.getQueryManagerByDatasetId(r);var o=i.getQueryModel();var s=e.BlendingUtils.getAliasPrefixFromQueryModel(n,o);var l=n.getFieldByName(e.XStringUtils.concatenate2(s,t));return e.notNull(l)?l:n.getFieldByName(t)},getBlendedMeasureMemberFromLeafMeasureMember:function(t,r,a,n,i){var o=n.getQueryManagerByDatasetId(a);var s=o.getQueryModel();var l=e.BlendingUtils.getAliasPrefixFromQueryModel(i,s);var u=r?i.getPrimaryCalculationDimension():i.getSecondaryCalculationDimension();var p=u.getStructureMember(e.XStringUtils.concatenate2(l,t));if(e.isNull(p)){var c=r?s.getPrimaryCalculationDimension():s.getSecondaryCalculationDimension();var g=c.getStructureMember(t);if(e.notNull(g)&&g.getAliasName()!==null){var y=c.getRuntimePlaceholderIdByAlias(g.getAliasName());if(e.notNull(y)){p=u.getStructureMember(e.XStringUtils.concatenate2(l,y))}}}return p},getAliasPrefixFromQueryModel:function(t,r){return e.BlendingUtils._getAliasPrefixFromQueryModel(t,r,"")},_getAliasPrefixFromQueryModel:function(t,r,a){if(t.isBlendingModel()){var n=t.getBlendingSources();for(var i=0;i<n.size();i++){var o=n.get(i);var s=o.getQueryModel();var l=e.XStringUtils.concatenate3(a,e.BlendingUtils.getQueryAliasName(s.getQueryManager()),".");var u=e.BlendingUtils._getAliasPrefixFromQueryModel(s,r,l);if(e.notNull(u)){return u}}}else{var p=t.getDatasetId();var c=r.getDatasetId();if(e.XString.isEqual(p,c)){return a}}return null},getLeafMeasureMemberFromBlendedMeasureMember:function(t,r){if(r.isBlendingModel()){var a=r.getBlendingSources();for(var n=0;n<a.size();n++){var i=a.get(n);var o=i.getQueryAliasName();var s=i.getQueryModel();if(e.XString.startsWith(t,o)){var l=e.XString.substring(t,e.XString.size(o)+1,e.XString.size(t));return e.BlendingUtils.getLeafMeasureMemberFromBlendedMeasureMember(l,s)}}}else{var u=r.getPrimaryCalculationDimension();return u.getLoadedStructureMember(t)}return null},findContextDimensionFromDrillDimension:function(t,r,a){var n=t.getQueryModel().getDimensionByName(r);if(e.isNull(n)){var i=e.BlendingUtils.getQueryModelFromDatasetId(t,a);var o=i.getDimensionByName(r);if(o===i.getPrimaryCalculationDimension()){n=t.getQueryModel().getPrimaryCalculationDimension()}else if(o===i.getSecondaryCalculationDimension()){n=t.getQueryModel().getSecondaryCalculationDimension()}}return n},containsFilterAcrossModels:function(t){return e.XCollectionUtils.contains(t.getAllQueryManagers(),function(t){var r=e.QFilterUtil.collectFilterAcrossModels(t.getQueryModel());return r.size()>0}.bind(this))},getLeafBlendingSources:function(t){var r=e.XList.create();e.BlendingUtils.collectLeafBlendingSources(t,r);return r},collectLeafBlendingSources:function(t,r){e.XCollectionUtils.forEach(t.getSources(),function(t){if(t.getQueryManager().getInitSettings().getMode()===e.QueryManagerMode.BLENDING){e.BlendingUtils.collectLeafBlendingSources(t.getQueryModel().getDataSource().getBlendingDefinition(),r)}else{r.add(t)}}.bind(this))}};e.DependentPersistedQueryInfo=function(){};e.DependentPersistedQueryInfo.prototype=new e.XObject;e.DependentPersistedQueryInfo.prototype._ff_c="DependentPersistedQueryInfo";e.DependentPersistedQueryInfo.create=function(t,r){var a=new e.DependentPersistedQueryInfo;a.m_systemName=t;a.m_inaQuery=r;return a};e.DependentPersistedQueryInfo.prototype.m_inaQuery=null;e.DependentPersistedQueryInfo.prototype.m_systemName=null;e.DependentPersistedQueryInfo.prototype.releaseObject=function(){this.m_inaQuery=e.XObjectExt.release(this.m_inaQuery);this.m_systemName=null};e.DependentPersistedQueryInfo.prototype.getInaQuery=function(){if(e.notNull(this.m_inaQuery)){return this.m_inaQuery.getStringRepresentation()}return null};e.DependentPersistedQueryInfo.prototype.getSystemName=function(){return this.m_systemName};e.AbstractSpatialClustering=function(){};e.AbstractSpatialClustering.prototype=new e.XObject;e.AbstractSpatialClustering.prototype._ff_c="AbstractSpatialClustering";e.AbstractSpatialClustering.ORDER=null;e.AbstractSpatialClustering.prototype.m_clusterField=null;e.AbstractSpatialClustering.prototype.m_isActive=false;e.AbstractSpatialClustering.prototype.m_thresholdNumberOfPoints=0;e.AbstractSpatialClustering.prototype.m_parameters=null;e.AbstractSpatialClustering.prototype.m_dimensions=null;e.AbstractSpatialClustering.prototype.setupSpatialClustering=function(t){e.XObject.prototype.setup.call(this);if(e.isNull(e.AbstractSpatialClustering.ORDER)){this.createOrder()}this.m_parameters=e.XHashMapByString.create();this.m_dimensions=e.XListOfString.create();this.m_isActive=true;this.m_thresholdNumberOfPoints=-1;if(e.notNull(t)){t.setSpatialClusterSettings(this)}};e.AbstractSpatialClustering.prototype.cloneClustering=function(e){e.setActive(this.isActive());if(this.getClusterField()!==null){e.setClusterField(this.getClusterField())}e.setThresholdNumberOfPoints(this.getThresholdNumberOfPoints())};e.AbstractSpatialClustering.prototype.createOrder=function(){e.AbstractSpatialClustering.ORDER=e.XHashMapByString.create();var t=e.XArrayOfString.create(2);t.set(0,"EPS");t.set(1,"MinPoints");e.AbstractSpatialClustering.ORDER.put(e.ClusterAlgorithm.DB_SCAN.getName(),t);var r=e.XArrayOfString.create(6);r.set(0,"XCells");r.set(1,"YCells");r.set(2,"XLowerBound");r.set(3,"YLowerBound");r.set(4,"XUpperBound");r.set(5,"YUpperBound");e.AbstractSpatialClustering.ORDER.put(e.ClusterAlgorithm.GRID.getName(),r);var a=e.XArrayOfString.create(4);a.set(0,"Clusters");a.set(1,"MaxIterations");a.set(2,"Threshold");a.set(3,"Init");e.AbstractSpatialClustering.ORDER.put(e.ClusterAlgorithm.K_MEANS.getName(),a)};e.AbstractSpatialClustering.prototype.isEqualTo=function(t){if(e.isNull(t)){return false}if(this===t){return true}var r=t;if(r.getClusterAlgorithm()!==this.getClusterAlgorithm()){return false}if(r.isActive()!==this.isActive()){return false}if(r.getClusterField()!==this.getClusterField()){return false}if(r.getThresholdNumberOfPoints()!==this.getThresholdNumberOfPoints()){return false}return this.areParametersEqual(e.AbstractSpatialClustering.ORDER.getByKey(r.getClusterAlgorithm().getName()),this.getParameters(),r.getParameters())};e.AbstractSpatialClustering.prototype.areParametersEqual=function(t,r,a){for(var n=0;n<t.size();n++){var i=t.get(n);if(r.containsKey(i)!==a.containsKey(i)){return false}var o=r.getByKey(i);if(e.notNull(o)){if(!o.isEqualTo(a.getByKey(i))){return false}}}return true};e.AbstractSpatialClustering.prototype.releaseObject=function(){this.m_parameters=e.XObjectExt.release(this.m_parameters);this.m_dimensions=e.XObjectExt.release(this.m_dimensions);this.m_clusterField=null;e.XObject.prototype.releaseObject.call(this)};e.AbstractSpatialClustering.prototype.getClusterField=function(){return e.XWeakReferenceUtil.getHardRef(this.m_clusterField)};e.AbstractSpatialClustering.prototype.getParameters=function(){return this.m_parameters};e.AbstractSpatialClustering.prototype.isActive=function(){return this.m_isActive};e.AbstractSpatialClustering.prototype.setActive=function(e){this.m_isActive=e};e.AbstractSpatialClustering.prototype.setClusterField=function(t){e.XObjectExt.assertNotNullExt(t,"The cluster field must not be null!");if(!t.getValueType().isSpatial()){throw e.XException.createIllegalArgumentException("The cluster field must be spatial!")}this.m_clusterField=e.XWeakReferenceUtil.getWeakRef(t)};e.AbstractSpatialClustering.prototype.addDimension=function(e){this.m_dimensions.add(e)};e.AbstractSpatialClustering.prototype.getDimensions=function(){return this.m_dimensions};e.AbstractSpatialClustering.prototype.setThresholdNumberOfPoints=function(e){this.m_thresholdNumberOfPoints=e};e.AbstractSpatialClustering.prototype.getThresholdNumberOfPoints=function(){return this.m_thresholdNumberOfPoints};e.CommandSpaceFactory={s_factory:null,setInstance:function(t){e.CommandSpaceFactory.s_factory=t},createCommandSpaceWithSelection:function(t,r){return e.CommandSpaceFactory.s_factory.createCommandSpaceWithSelection(t,r)},createCommandSpaceWithElement:function(t,r){return e.CommandSpaceFactory.s_factory.createCommandSpaceWithElement(t,r)}};e.CommandSpaceFactoryDummyImpl=function(){};e.CommandSpaceFactoryDummyImpl.prototype=new e.XObject;e.CommandSpaceFactoryDummyImpl.prototype._ff_c="CommandSpaceFactoryDummyImpl";e.CommandSpaceFactoryDummyImpl.create=function(){return new e.CommandSpaceFactoryDummyImpl};e.CommandSpaceFactoryDummyImpl.prototype.createCommandSpaceWithSelection=function(e,t){return null};e.CommandSpaceFactoryDummyImpl.prototype.createCommandSpaceWithElement=function(e,t){return null};e.RemoteBlendingCacheEntry=function(){};e.RemoteBlendingCacheEntry.prototype=new e.XObject;e.RemoteBlendingCacheEntry.prototype._ff_c="RemoteBlendingCacheEntry";e.RemoteBlendingCacheEntry.create=function(t,r,a){var n=new e.RemoteBlendingCacheEntry;n.m_view=t;n.m_cube=r;n.m_dataSourceName=a;return n};e.RemoteBlendingCacheEntry.prototype.m_view=null;e.RemoteBlendingCacheEntry.prototype.m_cube=null;e.RemoteBlendingCacheEntry.prototype.m_dataSourceName=null;e.RemoteBlendingCacheEntry.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_view=null;this.m_cube=null;this.m_dataSourceName=null};e.RemoteBlendingCacheEntry.prototype.getView=function(){return this.m_view};e.RemoteBlendingCacheEntry.prototype.getCube=function(){return this.m_cube};e.RemoteBlendingCacheEntry.prototype.getDataSourceName=function(){return this.m_dataSourceName};e.ComponentStateRef=function(){};e.ComponentStateRef.prototype=new e.XObject;e.ComponentStateRef.prototype._ff_c="ComponentStateRef";e.ComponentStateRef.create=function(t,r){var a=new e.ComponentStateRef;a.m_modCounter=t;a.m_stateId=r;return a};e.ComponentStateRef.prototype.m_modCounter=0;e.ComponentStateRef.prototype.m_stateId=null;e.ComponentStateRef.prototype.getModCounter=function(){return this.m_modCounter};e.ComponentStateRef.prototype.getStateId=function(){return this.m_stateId};e.ComponentStateRef.prototype.toString=function(){return e.XStringUtils.concatenate3(e.XInteger.convertToString(this.m_modCounter),"-",this.m_stateId)};e.OlapEnvState=function(){};e.OlapEnvState.prototype=new e.XObject;e.OlapEnvState.prototype._ff_c="OlapEnvState";e.OlapEnvState.create=function(){var t=new e.OlapEnvState;t.m_queryManagersState=e.XHashMapByString.create();return t};e.OlapEnvState.prototype.filterManagerState=null;e.OlapEnvState.prototype.sharedObjectsState=null;e.OlapEnvState.prototype.m_queryManagersState=null;e.OlapEnvState.prototype.getFilterManagerState=function(){return this.filterManagerState};e.OlapEnvState.prototype.setFilterManagerState=function(e){this.filterManagerState=e};e.OlapEnvState.prototype.getSharedObjectsState=function(){return this.sharedObjectsState};e.OlapEnvState.prototype.setSharedObjectsState=function(e){this.sharedObjectsState=e};e.OlapEnvState.prototype.getQueryManagersState=function(){return this.m_queryManagersState};e.StateStackEntry=function(){};e.StateStackEntry.prototype=new e.XObject;e.StateStackEntry.prototype._ff_c="StateStackEntry";e.StateStackEntry.create=function(t,r){var a=new e.StateStackEntry;a.uuid=t;a.state=r;a.olapStateRefs=e.XHashSetOfString.create();return a};e.StateStackEntry.prototype.uuid=null;e.StateStackEntry.prototype.state=null;e.StateStackEntry.prototype.olapStateRefs=null;e.StateStackEntry.prototype.getState=function(){return this.state};e.StateStackEntry.prototype.getName=function(){return this.uuid};e.StateStackEntry.prototype.getOlapStateRefs=function(){return this.olapStateRefs};e.CustomHierarchySessionData=function(){};e.CustomHierarchySessionData.prototype=new e.XObject;e.CustomHierarchySessionData.prototype._ff_c="CustomHierarchySessionData";e.CustomHierarchySessionData.CUSTOM_HIERARCHY_SESSION_DATA="CustomHierarchySessionData";e.CustomHierarchySessionData.create=function(){var t=new e.CustomHierarchySessionData;t.m_createdCustomHierarchies=e.XList.create();t.m_activeHierarchySubmits=e.XList.create();return t};e.CustomHierarchySessionData.prototype.m_createdCustomHierarchies=null;e.CustomHierarchySessionData.prototype.m_activeHierarchySubmits=null;e.CustomHierarchySessionData.prototype.releaseObject=function(){this.m_createdCustomHierarchies=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_createdCustomHierarchies);this.m_activeHierarchySubmits=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_activeHierarchySubmits);e.XObject.prototype.releaseObject.call(this)};e.CustomHierarchySessionData.prototype.getHierarchyInAResponse=function(e){for(var t=0;t<this.m_createdCustomHierarchies.size();t++){var r=this.m_createdCustomHierarchies.get(t);if(r.isEqualTo(e)){return r.getInaHierarchy().getPermaCopy()}}return null};e.CustomHierarchySessionData.prototype.registerOnActiveHierarchySubmit=function(t,r){var a=this.getActiveSubmit(t);if(e.notNull(a)){a.getSecondObject().add(r);return true}return false};e.CustomHierarchySessionData.prototype.flagHierarchySubmitActive=function(t){var r=this.getActiveSubmit(t);if(e.isNull(r)){this.m_activeHierarchySubmits.add(e.XPair.create(t,e.XList.create()))}};e.CustomHierarchySessionData.prototype.finishHierarchySubmit=function(t,r){if(e.notNull(t)&&e.notNull(r)){var a=e.QCustomHierarchyDefinitionExt.createExtendedHierarchyDefinition(t,r.getPermaCopy());this.m_createdCustomHierarchies.removeElement(this.getHierarchyDefinitionByName(t.getName()));this.m_createdCustomHierarchies.add(a)}this.notifyListenersOnHierarchySubmit(t,r)};e.CustomHierarchySessionData.prototype.notifyListenersOnHierarchySubmit=function(t,r){var a=this.getActiveSubmit(t);if(e.notNull(a)){var n=a.getSecondObject();for(var i=0;i<n.size();i++){n.get(i).onCustomHierarchySubmitted(t,r)}this.m_activeHierarchySubmits.removeElement(a);e.XObjectExt.release(a)}};e.CustomHierarchySessionData.prototype.getHierarchyDefinitionByName=function(t){if(e.XStringUtils.isNotNullAndNotEmpty(t)){for(var r=0;r<this.m_createdCustomHierarchies.size();r++){var a=this.m_createdCustomHierarchies.get(r);if(e.XString.isEqual(a.getName(),t)){return a}}}return null};e.CustomHierarchySessionData.prototype.getHierarchyDefinitionNames=function(){var t=e.XListOfString.create();for(var r=0;r<this.m_createdCustomHierarchies.size();r++){var a=this.m_createdCustomHierarchies.get(r).getName();if(e.XStringUtils.isNotNullAndNotEmpty(a)){t.add(a)}}return t};e.CustomHierarchySessionData.prototype.getActiveSubmit=function(e){for(var t=0;t<this.m_activeHierarchySubmits.size();t++){var r=this.m_activeHierarchySubmits.get(t);if(r.getFirstObject().isEqualTo(e)){return r}}return null};e.PlanningFactory={s_factory:null,setInstance:function(t){e.PlanningFactory.s_factory=t},createPlanningManager:function(t){return e.PlanningFactory.s_factory.createPlanningManager(t)}};e.PlanningManagerDummy=function(){};e.PlanningManagerDummy.prototype=new e.XObject;e.PlanningManagerDummy.prototype._ff_c="PlanningManagerDummy";e.PlanningManagerDummy.create=function(t){var r=new e.PlanningManagerDummy;r.setupExt(t);return r};e.PlanningManagerDummy.prototype.m_messageManager=null;e.PlanningManagerDummy.prototype.setupExt=function(t){this.m_messageManager=e.MessageManager.createMessageManagerExt(t.getSession())};e.PlanningManagerDummy.prototype.isPublicVersionEditPossible=function(){return false};e.PlanningManagerDummy.prototype.hasChangedValues=function(){return false};e.PlanningManagerDummy.prototype.hasChangedValueLocks=function(){return false};e.PlanningManagerDummy.prototype.hasChangedCells=function(){return false};e.PlanningManagerDummy.prototype.transferNewValues=function(){};e.PlanningManagerDummy.prototype.resetNewValues=function(){};e.PlanningManagerDummy.prototype.hasNewValues=function(){return false};e.PlanningManagerDummy.prototype.setDataEntryReadOnly=function(e){};e.PlanningManagerDummy.prototype.isDataEntryReadOnly=function(){return true};e.PlanningManagerDummy.prototype.isDataEntryEnabled=function(){return false};e.PlanningManagerDummy.prototype.getPlanningModel=function(){return null};e.PlanningManagerDummy.prototype.getDataArea=function(){return null};e.PlanningManagerDummy.prototype.createDataAreaCommand=function(e){return null};e.PlanningManagerDummy.prototype.createDataAreaCommandRefresh=function(){return null};e.PlanningManagerDummy.prototype.createDataAreaCommandDocSave=function(){return null};e.PlanningManagerDummy.prototype.createDataAreaCommandDocReset=function(){return null};e.PlanningManagerDummy.prototype.getPlanningMode=function(){return e.PlanningMode.SERVER_DEFAULT};e.PlanningManagerDummy.prototype.setPlanningMode=function(e){};e.PlanningManagerDummy.prototype.getPlanningRestriction=function(){return e.PlanningVersionRestrictionType.SERVER_DEFAULT};e.PlanningManagerDummy.prototype.setPlanningRestriction=function(e){};e.PlanningManagerDummy.prototype.supportsDataEntryReadOnly=function(){return false};e.PlanningManagerDummy.prototype.getPlanningVersionIdentifier=function(e,t,r){return null};e.PlanningManagerDummy.prototype.getPlanningVersionSettings=function(e,t,r){return null};e.PlanningManagerDummy.prototype.getPlanningVersionSettingsSimple=function(e,t,r){return null};e.PlanningManagerDummy.prototype.addPlanningVersionSettings=function(e){return null};e.PlanningManagerDummy.prototype.deletePlanningVersionSettings=function(e){return null};e.PlanningManagerDummy.prototype.getAllPlanningVersionSettings=function(){return null};e.PlanningManagerDummy.prototype.setPlanningVersionSettingsMode=function(e){};e.PlanningManagerDummy.prototype.getPlanningVersionSettingsMode=function(){return null};e.PlanningManagerDummy.prototype.setDataEntryEnabled=function(e){};e.PlanningManagerDummy.prototype.initializeDataAreaState=function(){return this.m_messageManager};e.PlanningManagerDummy.prototype.setPublicVersionEditPossible=function(e){};e.PlanningManagerDummy.prototype.setVersionAliasById=function(e,t){};e.PlanningManagerDummy.prototype.removeVersionAlias=function(e){};e.PlanningManagerDummy.prototype.clearVersionAliases=function(){};e.PlanningManagerDummy.prototype.getVersionAliases=function(){return null};e.PlanningManagerFactoryDummyImpl=function(){};e.PlanningManagerFactoryDummyImpl.prototype=new e.XObject;e.PlanningManagerFactoryDummyImpl.prototype._ff_c="PlanningManagerFactoryDummyImpl";e.PlanningManagerFactoryDummyImpl.create=function(){return new e.PlanningManagerFactoryDummyImpl};e.PlanningManagerFactoryDummyImpl.prototype.createPlanningManager=function(t){return e.PlanningManagerDummy.create(t)};e.QInAConverter={s_lookupCtErrorHandlingMode:null,s_lookupCtErrorHandlingModeIna:null,s_lookupUnitType:null,s_lookupUnitTypeIna:null,s_lookupComparison:null,s_lookupComparisonIna:null,s_lookupPresentationType:null,s_lookupPresentationTypeIna:null,s_lookupInfoObjectType:null,s_lookupInfoObjectTypeIna:null,s_lookupVisibilityType:null,s_lookupVisibilityTypeIna:null,s_lookupReadMode:null,s_lookupReadModeIna:null,s_lookupEncoding:null,s_lookupSortType:null,s_lookupSortTypeIna:null,s_lookupAggregationType:null,s_lookupAggregationTypeIna:null,s_lookupComponentType:null,s_lookupComponentTypeIna:null,s_lookupValueType:null,s_lookupValueTypeIna:null,s_lookupCellValueType:null,s_textTransformation:null,s_textTransformationIna:null,s_lookupAlertLevelInt:null,s_lookupDimensionTypeInt:null,s_lookupResultsetState:null,s_lookupValueException:null,s_lookupAxisType:null,s_lookupAxisTypeIna:null,s_lookupSingleValueCalculation:null,s_lookupResultCalculation:null,s_lookupMemberNavigationTypeIna:null,s_lookupWindowFunctionType:null,s_lookupWindowFunctionTypeIna:null,s_lookupCategory:null,s_lookupCategoryIna:null,s_lookupRateType:null,s_lookupRateTypeIna:null,s_lookupProviderType:null,s_lookupProviderTypeIna:null,s_lookupProviderTypeFallbackIna:null,s_lookupProcessingType:null,s_lookupProcessingTypeIna:null,s_lookupReturnedDataSelection:null,s_lookupReturnedDataSelectionIna:null,s_lookupDocumentIdsScope:null,s_lookupDocumentIdsScopeIna:null,s_lookupDocumentIdsAction:null,s_lookupDocumentIdsActionIna:null,s_lookupDocumentSupportType:null,s_lookupDocumentSupportTypeIna:null,s_lookupCellChartType:null,s_lookupCellChartTypeIna:null,s_lookupCellChartOrientation:null,s_lookupCellChartOrientationIna:null,s_lookupProtocolBindingType:null,s_lookupProtocolBindingTypeIna:null,s_lookupSemanticBindingType:null,s_lookupSemanticBindingTypeIna:null,s_lookupRunningTotalOperator:null,s_lookupRunningTotalOperatorIna:null,s_lookupSignPresentation:null,s_lookupSignPresentationIna:null,s_lookupCurrencyPresentation:null,s_lookupCurrencyPresentationIna:null,s_lookupScaleFormat:null,s_lookupScaleFormatIna:null,s_lookupScaleAndUnitPlacement:null,s_lookupScaleAndUnitPlacementIna:null,staticSetup:function(){e.QInAConverter.setupCtErrorHandlingMode();e.QInAConverter.setupRateType();e.QInAConverter.setupCategory();e.QInAConverter.setupAxisType();e.QInAConverter.setupUnitType();e.QInAConverter.setupDimensionType();e.QInAConverter.setupAlertLevel();e.QInAConverter.setupTextTransformation();e.QInAConverter.setupValueTypeMap();e.QInAConverter.setupComparisonMapping();e.QInAConverter.setupAggregationTypeMapping();e.QInAConverter.setupPresentationMapping();e.QInAConverter.setupProviderType();e.QInAConverter.setupInfoObjectType();e.QInAConverter.setupVisibilityMapping();e.QInAConverter.setupReadmodeMapping();e.QInAConverter.setupEncoding();e.QInAConverter.setupSortingMapping();e.QInAConverter.setupComponentTypeMapping();e.QInAConverter.setupMemberNavigationType();e.QInAConverter.setupResultSetState();e.QInAConverter.setupValueException();e.QInAConverter.setupSingleValueCalculation();e.QInAConverter.setupWindowFunctionTypeMapping();e.QInAConverter.setupResultCalculation();e.QInAConverter.setupValueDomain();e.QInAConverter.setupReturnedDataSelectionMapping();e.QInAConverter.setupCellChartOrientationMapping();e.QInAConverter.setupCellChartTypeMapping();e.QInAConverter.setupDocumentIdsScope();e.QInAConverter.setupDocumentIdsAction();e.QInAConverter.setupDocumentSupportType();e.QInAConverter.setupProtocolBindingType();e.QInAConverter.setupSemanticBindingType();e.QInAConverter.setupRunningTotalOperator();e.QInAConverter.setupCurrencyPresentation();e.QInAConverter.setupScaleAndUnitPlacement();e.QInAConverter.setupScaleFormat();e.QInAConverter.setupSignPresentation()},setupUnitType:function(){e.QInAConverter.s_lookupUnitType=e.XHashMapByString.create();e.QInAConverter.s_lookupUnitTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.CONVERSION_FAILED,"CONVERSION_FAILED");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.CURRENCY,"CURRENCY");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.CURRENCY,"CUR");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.UNIT,"UNIT");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.UNIT,"UNI");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.UNDEFINED,"UDF");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.MIXED,"*");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.NULL_VALUE,"NULL");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupUnitType,e.QInAConverter.s_lookupUnitTypeIna,e.UnitType.NONE,"NON")},setupAxisType:function(){e.QInAConverter.s_lookupAxisType=e.XHashMapByString.create();e.QInAConverter.s_lookupAxisTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.COLUMNS,"Columns");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.ROWS,"Rows");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.FREE,"Free");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.FREE,"None");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.DYNAMIC,"Dynamic");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.FILTER,"Filter");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.TECHNICAL,"Technical");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.REPOSITORY,"Repository");e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAxisType,e.QInAConverter.s_lookupAxisTypeIna,e.AxisType.VIRTUAL,"Virtual")},setupDimensionType:function(){e.QInAConverter.s_lookupDimensionTypeInt=e.XArray.create(14);e.QInAConverter.s_lookupDimensionTypeInt.set(1,e.DimensionType.TIME);e.QInAConverter.s_lookupDimensionTypeInt.set(2,e.DimensionType.MEASURE_STRUCTURE);e.QInAConverter.s_lookupDimensionTypeInt.set(3,e.DimensionType.DIMENSION);e.QInAConverter.s_lookupDimensionTypeInt.set(4,e.DimensionType.CURRENCY);e.QInAConverter.s_lookupDimensionTypeInt.set(5,e.DimensionType.UNIT);e.QInAConverter.s_lookupDimensionTypeInt.set(6,e.DimensionType.SECONDARY_STRUCTURE);e.QInAConverter.s_lookupDimensionTypeInt.set(7,e.DimensionType.DATE);e.QInAConverter.s_lookupDimensionTypeInt.set(8,e.DimensionType.HIERARCHY_VERSION);e.QInAConverter.s_lookupDimensionTypeInt.set(9,e.DimensionType.HIERARCHY_NAME);e.QInAConverter.s_lookupDimensionTypeInt.set(10,e.DimensionType.GIS_DIMENSION);e.QInAConverter.s_lookupDimensionTypeInt.set(11,e.DimensionType.VERSION_EPM);e.QInAConverter.s_lookupDimensionTypeInt.set(12,e.DimensionType.ACCOUNT);e.QInAConverter.s_lookupDimensionTypeInt.set(13,e.DimensionType.VERSION_IBP)},setupAlertLevel:function(){e.QInAConverter.s_lookupAlertLevelInt=e.XArray.create(10);e.QInAConverter.s_lookupAlertLevelInt.set(0,e.AlertLevel.NORMAL);e.QInAConverter.s_lookupAlertLevelInt.set(1,e.AlertLevel.GOOD_1);e.QInAConverter.s_lookupAlertLevelInt.set(2,e.AlertLevel.GOOD_2);e.QInAConverter.s_lookupAlertLevelInt.set(3,e.AlertLevel.GOOD_3);e.QInAConverter.s_lookupAlertLevelInt.set(4,e.AlertLevel.CRITICAL_1);e.QInAConverter.s_lookupAlertLevelInt.set(5,e.AlertLevel.CRITICAL_2);e.QInAConverter.s_lookupAlertLevelInt.set(6,e.AlertLevel.CRITICAL_3);e.QInAConverter.s_lookupAlertLevelInt.set(7,e.AlertLevel.BAD_1);e.QInAConverter.s_lookupAlertLevelInt.set(8,e.AlertLevel.BAD_2);e.QInAConverter.s_lookupAlertLevelInt.set(9,e.AlertLevel.BAD_3)},setupTextTransformation:function(){e.QInAConverter.s_textTransformation=e.XHashMapByString.create();e.QInAConverter.s_textTransformationIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapTextTransformation("Capitalize",e.TextTransformationType.CAPITALIZE);e.QInAConverter.mapTextTransformation("Lowercase",e.TextTransformationType.LOWERCASE);e.QInAConverter.mapTextTransformation("Uppercase",e.TextTransformationType.UPPERCASE);e.QInAConverter.mapTextTransformation("StringTransformation",e.TextTransformationType.STRING_TRANSFORMATION);e.QInAConverter.mapTextTransformation("SpatialAsBinary",e.TextTransformationType.SPATIAL_AS_BINARY);e.QInAConverter.mapTextTransformation("SpatialAsEWKB",e.TextTransformationType.SPATIAL_AS_EWKB);e.QInAConverter.mapTextTransformation("SpatialAsEWKT",e.TextTransformationType.SPATIAL_AS_EWKT);e.QInAConverter.mapTextTransformation("SpatialAsGeoJSON",e.TextTransformationType.SPATIAL_AS_GEOJSON);e.QInAConverter.mapTextTransformation("SpatialAsSVG",e.TextTransformationType.SPATIAL_AS_SVG);e.QInAConverter.mapTextTransformation("SpatialAsText",e.TextTransformationType.SPATIAL_AS_TEXT);e.QInAConverter.mapTextTransformation("SpatialAsWKB",e.TextTransformationType.SPATIAL_AS_WKB);e.QInAConverter.mapTextTransformation("SpatialAsWKT",e.TextTransformationType.SPATIAL_AS_WKT)},mapTextTransformation:function(t,r){e.QInAConverter.s_textTransformation.put(t,r);e.QInAConverter.s_textTransformationIna.put(r.getName(),t)},setupComparisonMapping:function(){e.QInAConverter.s_lookupComparison=e.XHashMapByString.create();e.QInAConverter.s_lookupComparisonIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapComparison("=",e.ComparisonOperator.EQUAL);e.QInAConverter.mapComparison("EQ",e.ComparisonOperator.EQUAL);e.QInAConverter.mapComparison("EQUAL",e.ComparisonOperator.EQUAL);e.QInAConverter.mapComparison("EQUALS",e.ComparisonOperator.EQUAL);e.QInAConverter.mapComparison("<>",e.ComparisonOperator.NOT_EQUAL);e.QInAConverter.mapComparison(">",e.ComparisonOperator.GREATER_THAN);e.QInAConverter.mapComparison("GT",e.ComparisonOperator.GREATER_THAN);e.QInAConverter.mapComparison("<",e.ComparisonOperator.LESS_THAN);e.QInAConverter.mapComparison("LT",e.ComparisonOperator.LESS_THAN);e.QInAConverter.mapComparison(">=",e.ComparisonOperator.GREATER_EQUAL);e.QInAConverter.mapComparison("GE",e.ComparisonOperator.GREATER_EQUAL);e.QInAConverter.mapComparison("<=",e.ComparisonOperator.LESS_EQUAL);e.QInAConverter.mapComparison("LE",e.ComparisonOperator.LESS_EQUAL);e.QInAConverter.mapComparison("LIKE",e.ComparisonOperator.LIKE);e.QInAConverter.mapComparison("MATCH",e.ComparisonOperator.MATCH);e.QInAConverter.mapComparison("NOT_MATCH",e.ComparisonOperator.NOT_MATCH);e.QInAConverter.mapComparison("IS_NULL",e.ComparisonOperator.IS_NULL);e.QInAConverter.mapComparison("IS NULL",e.ComparisonOperator.IS_NULL);e.QInAConverter.mapComparison("NL",e.ComparisonOperator.IS_NULL);e.QInAConverter.mapComparison("BETWEEN",e.ComparisonOperator.BETWEEN);e.QInAConverter.mapComparison("BT",e.ComparisonOperator.BETWEEN);e.QInAConverter.mapComparison("NOT_BETWEEN",e.ComparisonOperator.NOT_BETWEEN);e.QInAConverter.mapComparison("NOTBETWEEN",e.ComparisonOperator.NOT_BETWEEN);e.QInAConverter.mapComparison("BETWEEN_EXCLUDING",e.ComparisonOperator.BETWEEN_EXCLUDING);e.QInAConverter.mapComparison("NOT_BETWEEN_EXCLUDING",e.ComparisonOperator.NOT_BETWEEN_EXCLUDING);e.QInAConverter.mapComparison("FUZZY",e.ComparisonOperator.FUZZY);e.QInAConverter.mapComparison("SEARCH",e.ComparisonOperator.SEARCH);e.QInAConverter.mapComparison("ALL",e.ComparisonOperator.ALL);e.QInAConverter.mapComparison("AGGREGATED",e.ComparisonOperator.AGGREGATED);e.QInAConverter.mapComparison("NON-AGGREGATED",e.ComparisonOperator.NON_AGGREGATED);e.QInAConverter.mapComparison("LEVEL",e.ComparisonOperator.LEVEL);e.QInAConverter.mapComparison("CONTAINS",e.SpatialComparisonOperator.CONTAINS);e.QInAConverter.mapComparison("COVERS",e.SpatialComparisonOperator.COVERS);e.QInAConverter.mapComparison("CROSSES",e.SpatialComparisonOperator.CROSSES);e.QInAConverter.mapComparison("DISJOINT",e.SpatialComparisonOperator.DISJOINT);e.QInAConverter.mapComparison("OVERLAPS",e.SpatialComparisonOperator.OVERLAPS);e.QInAConverter.mapComparison("TOUCHES",e.SpatialComparisonOperator.TOUCHES);e.QInAConverter.mapComparison("INTERSECTS_RECT",e.SpatialComparisonOperator.INTERSECTS_RECT);e.QInAConverter.mapComparison("INTERSECT_RECT",e.SpatialComparisonOperator.INTERSECTS_RECT);e.QInAConverter.mapComparison("INTERSECTS",e.SpatialComparisonOperator.INTERSECTS);e.QInAConverter.mapComparison("WITHIN",e.SpatialComparisonOperator.WITHIN);e.QInAConverter.mapComparison("WITHIN_DISTANCE",e.SpatialComparisonOperator.WITHIN_DISTANCE)},setupAggregationTypeMapping:function(){e.QInAConverter.s_lookupAggregationType=e.XHashMapByString.create();e.QInAConverter.s_lookupAggregationTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapAggregationType("SUM",e.AggregationType.SUM);e.QInAConverter.mapAggregationType("COUNT",e.AggregationType.COUNT);e.QInAConverter.mapAggregationType("MAX",e.AggregationType.MAX);e.QInAConverter.mapAggregationType("MIN",e.AggregationType.MIN);e.QInAConverter.mapAggregationType("AVERAGE",e.AggregationType.AVERAGE);e.QInAConverter.mapAggregationType("COUNT_DISTINCT",e.AggregationType.COUNT_DISTINCT);e.QInAConverter.mapAggregationType("LAST",e.AggregationType.LAST);e.QInAConverter.mapAggregationType("FIRST",e.AggregationType.FIRST);e.QInAConverter.mapAggregationType("VARIANCE",e.AggregationType.VARIANCE);e.QInAConverter.mapAggregationType("STANDARD_DEVIATION",e.AggregationType.STANDARD_DEVIATION);e.QInAConverter.mapAggregationType("NOPNULL",e.AggregationType.NOP_NULL);e.QInAConverter.mapAggregationType("NOPNULLZERO",e.AggregationType.NOP_NULL_ZERO);e.QInAConverter.mapAggregationType("RANK",e.AggregationType.RANK);e.QInAConverter.mapAggregationType("RANK_DENSE",e.AggregationType.RANK_DENSE);e.QInAConverter.mapAggregationType("RANK_OLYMPIC",e.AggregationType.RANK_OLYMPIC);e.QInAConverter.mapAggregationType("RANK_PERCENT",e.AggregationType.RANK_PERCENT);e.QInAConverter.mapAggregationType("RANK_PERCENTILE",e.AggregationType.RANK_PERCENTILE);e.QInAConverter.mapAggregationType("AVERAGENULL",e.AggregationType.AVERAGE_NULL);e.QInAConverter.mapAggregationType("AVERAGENULLZERO",e.AggregationType.AVERAGE_NULL_ZERO);e.QInAConverter.mapAggregationType("COUNTNULL",e.AggregationType.COUNT_NULL);e.QInAConverter.mapAggregationType("COUNTNULLZERO",e.AggregationType.COUNT_NULL_ZERO);e.QInAConverter.mapAggregationType("MEDIAN",e.AggregationType.MEDIAN);e.QInAConverter.mapAggregationType("MEDIANNULL",e.AggregationType.MEDIAN_NULL);e.QInAConverter.mapAggregationType("MEDIANNULLZERO",e.AggregationType.MEDIAN_NULL_ZERO);e.QInAConverter.mapAggregationType("1STQUARTILE",e.AggregationType.FIRST_QUARTILE);e.QInAConverter.mapAggregationType("1STQUARTILENULL",e.AggregationType.FIRST_QUARTILE_NULL);e.QInAConverter.mapAggregationType("1STQUARTILENULLZERO",e.AggregationType.FIRST_QUARTILE_NULL_ZERO);e.QInAConverter.mapAggregationType("3RDQUARTILE",e.AggregationType.THIRD_QUARTILE);e.QInAConverter.mapAggregationType("3RDQUARTILENULL",e.AggregationType.THIRD_QUARTILE_NULL);e.QInAConverter.mapAggregationType("3RDQUARTILENULLZERO",e.AggregationType.THIRD_QUARTILE_NULL_ZERO);e.QInAConverter.mapAggregationType("OUTLIERS",e.AggregationType.OUTLIERS);e.QInAConverter.mapAggregationType("OUTLIERSNULL",e.AggregationType.OUTLIERS_NULL);e.QInAConverter.mapAggregationType("OUTLIERSNULLZERO",e.AggregationType.OUTLIERS_NULL_ZERO)},setupPresentationMapping:function(){e.QInAConverter.s_lookupPresentationType=e.XHashMapByString.create();e.QInAConverter.s_lookupPresentationTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapPresentationType("Undefined",e.PresentationType.UNDEFINED);e.QInAConverter.mapPresentationType("Key",e.PresentationType.KEY);e.QInAConverter.mapPresentationType("KeyNotCompound",e.PresentationType.KEY_NOT_COMPOUND);e.QInAConverter.mapPresentationType("DisplayKey",e.PresentationType.DISPLAY_KEY);e.QInAConverter.mapPresentationType("DisplayKeyMixedCompoundment",e.PresentationType.DISPLAY_KEY_MIXED_COMPOUNDMENT);e.QInAConverter.mapPresentationType("DisplayKeyNotCompound",e.PresentationType.DISPLAY_KEY_NOT_COMPOUND);e.QInAConverter.mapPresentationType("Id",e.PresentationType.ID);e.QInAConverter.mapPresentationType("Text",e.PresentationType.TEXT);e.QInAConverter.mapPresentationType("ShortText",e.PresentationType.SHORT_TEXT);e.QInAConverter.mapPresentationType("MediumText",e.PresentationType.MEDIUM_TEXT);e.QInAConverter.mapPresentationType("LongText",e.PresentationType.LONG_TEXT);e.QInAConverter.mapPresentationType("XLLongText",e.PresentationType.XL_LONG_TEXT);e.QInAConverter.mapPresentationType("HierarchyKey",e.PresentationType.HIERARCHY_KEY);e.QInAConverter.mapPresentationType("HierarchyText",e.PresentationType.HIERARCHY_TEXT);e.QInAConverter.mapPresentationType("HierarchyDisplayKey",e.PresentationType.HIERARCHY_DISPLAY_KEY);e.QInAConverter.mapPresentationType("HierarchyPath",e.PresentationType.HIERARCHY_PATH);e.QInAConverter.mapPresentationType("WhyFound",e.PresentationType.WHY_FOUND);e.QInAConverter.mapPresentationType("RelatedActions",e.PresentationType.RELATED_ACTIONS);e.QInAConverter.mapPresentationType("NamePath",e.PresentationType.NAME_PATH);e.QInAConverter.mapPresentationType("URL",e.PresentationType.URL);e.QInAConverter.mapPresentationType("XXL",e.PresentationType.BLOB);e.QInAConverter.mapPresentationType("QueryText",e.PresentationType.QUERY_TEXT)},setupVisibilityMapping:function(){e.QInAConverter.s_lookupVisibilityType=e.XHashMapByString.create();e.QInAConverter.s_lookupVisibilityTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapVisibilityType("C",e.VisibilityType.CENTRAL);e.QInAConverter.mapVisibilityType("C/I",e.VisibilityType.CENTRAL_NOT_VISIBLE);e.QInAConverter.mapVisibilityType("C/D",e.VisibilityType.CENTRAL_DISPLAY_ONLY);e.QInAConverter.mapVisibilityType("C/C",e.VisibilityType.CENTRAL_CHANGE_TO_EXISTING);e.QInAConverter.mapVisibilityType("C/A",e.VisibilityType.CENTRAL_ADD_NEW);e.QInAConverter.mapVisibilityType("L",e.VisibilityType.LOCAL);e.QInAConverter.mapVisibilityType("L/I",e.VisibilityType.LOCAL_NOT_VISIBLE);e.QInAConverter.mapVisibilityType("L/D",e.VisibilityType.LOCAL_DISPLAY_ONLY);e.QInAConverter.mapVisibilityType("L/C",e.VisibilityType.LOCAL_CHANGE_TO_EXISTING);e.QInAConverter.mapVisibilityType("L/A",e.VisibilityType.LOCAL_ADD_NEW)},setupReadmodeMapping:function(){e.QInAConverter.s_lookupReadMode=e.XHashMapByString.create();e.QInAConverter.s_lookupReadModeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapReadMode("Default",e.QMemberReadMode.DEFAULT_VALUE);e.QInAConverter.mapReadMode("Undefined",e.QMemberReadMode.UNDEFINED);e.QInAConverter.mapReadMode("None",e.QMemberReadMode.UNDEFINED);e.QInAConverter.mapReadMode("Master",e.QMemberReadMode.MASTER);e.QInAConverter.mapReadMode("MasterAndSpace",e.QMemberReadMode.MASTER_AND_SPACE);e.QInAConverter.mapReadMode("MasterAndSpaceAndState",e.QMemberReadMode.MASTER_AND_SPACE_AND_STATE);e.QInAConverter.mapReadMode("RelatedMaster",e.QMemberReadMode.REL_MASTER);e.QInAConverter.mapReadMode("RelatedMasterAndSpace",e.QMemberReadMode.REL_MASTER_AND_SPACE);e.QInAConverter.mapReadMode("RelatedMasterAndSpaceAndState",e.QMemberReadMode.REL_MASTER_AND_SPACE_AND_STATE);e.QInAConverter.mapReadMode("Booked",e.QMemberReadMode.BOOKED);e.QInAConverter.mapReadMode("BookedAndSpace",e.QMemberReadMode.BOOKED_AND_SPACE);e.QInAConverter.mapReadMode("BookedAndSpaceAndState",e.QMemberReadMode.BOOKED_AND_SPACE_AND_STATE);e.QInAConverter.mapReadMode("RelatedBooked",e.QMemberReadMode.REL_BOOKED);e.QInAConverter.mapReadMode("RelatedBookedAndSpace",e.QMemberReadMode.REL_BOOKED_AND_SPACE);e.QInAConverter.mapReadMode("RelatedBookedAndSpaceAndState",e.QMemberReadMode.REL_BOOKED_AND_SPACE_AND_STATE)},setupEncoding:function(){e.QInAConverter.s_lookupEncoding=e.XHashMapByString.create();e.QInAConverter.s_lookupEncoding.put("None",e.ResultSetEncoding.NONE);e.QInAConverter.s_lookupEncoding.put("Auto",e.ResultSetEncoding.AUTO);e.QInAConverter.s_lookupEncoding.put("DeltaRunLength",e.ResultSetEncoding.DELTA_RUN_LENGTH)},setupSortingMapping:function(){e.QInAConverter.s_lookupSortType=e.XHashMapByString.create();e.QInAConverter.s_lookupSortTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapSortType("Member",e.SortType.MEMBER_KEY);e.QInAConverter.mapSortType("MemberKey",e.SortType.MEMBER_KEY);e.QInAConverter.mapSortType("MemberText",e.SortType.MEMBER_TEXT);e.QInAConverter.mapSortType("Field",e.SortType.FIELD);e.QInAConverter.mapSortType("Selection",e.SortType.FILTER);e.QInAConverter.mapSortType("Filter",e.SortType.FILTER);e.QInAConverter.mapSortType("Datacell",e.SortType.DATA_CELL_VALUE);e.QInAConverter.mapSortType("Hierarchy",e.SortType.HIERARCHY);e.QInAConverter.mapSortType("Measure",e.SortType.MEASURE);e.QInAConverter.mapSortType("Complex",e.SortType.COMPLEX);e.QInAConverter.mapSortType("Custom",e.SortType.CUSTOM)},setupMemberNavigationType:function(){e.QInAConverter.s_lookupMemberNavigationTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.s_lookupMemberNavigationTypeIna.put(e.MemberNavigationType.FUNCTION_PARAM_CONSTANT.getName(),"Constant");e.QInAConverter.s_lookupMemberNavigationTypeIna.put(e.MemberNavigationType.FUNCTION_PARAM_LEVEL.getName(),"Level");e.QInAConverter.s_lookupMemberNavigationTypeIna.put(e.MemberNavigationType.FUNCTION_PARAM_MEMBER.getName(),"Member");e.QInAConverter.s_lookupMemberNavigationTypeIna.put(e.MemberNavigationType.FUNCTION_PARAM_NO_VALUES_ABOVE_LEVEL.getName(),"NoValuesAboveLevel");e.QInAConverter.s_lookupMemberNavigationTypeIna.put(e.MemberNavigationType.FUNCTION_PARAM_ERROR_ABOVE_LEVEL.getName(),"ErrorAboveLevel");e.QInAConverter.s_lookupMemberNavigationTypeIna.put(e.MemberNavigationType.FUNCTION_PARAM_RANGE.getName(),"Range");e.QInAConverter.s_lookupMemberNavigationTypeIna.put(e.MemberNavigationType.FUNCTION_PARAM_SHIFT.getName(),"Shift")},setupResultSetState:function(){e.QInAConverter.s_lookupResultsetState=e.XArray.create(7);e.QInAConverter.s_lookupResultsetState.set(0,e.ResultSetState.DATA_AVAILABLE);e.QInAConverter.s_lookupResultsetState.set(1,e.ResultSetState.NO_DATA_AVAILABLE);e.QInAConverter.s_lookupResultsetState.set(2,e.ResultSetState.NO_DATA_AVAILABLE);e.QInAConverter.s_lookupResultsetState.set(3,e.ResultSetState.ERROR);e.QInAConverter.s_lookupResultsetState.set(4,e.ResultSetState.SIZE_LIMIT_EXCEEDED);e.QInAConverter.s_lookupResultsetState.set(5,e.ResultSetState.SUCCESSFUL_PERSISTED);e.QInAConverter.s_lookupResultsetState.set(6,e.ResultSetState.EMPTY_JSON)},setupValueException:function(){e.QInAConverter.s_lookupValueException=e.XArray.create(11);e.QInAConverter.s_lookupValueException.set(0,e.ValueException.NORMAL);e.QInAConverter.s_lookupValueException.set(1,e.ValueException.NULL_VALUE);e.QInAConverter.s_lookupValueException.set(2,e.ValueException.ZERO);e.QInAConverter.s_lookupValueException.set(3,e.ValueException.UNDEFINED);e.QInAConverter.s_lookupValueException.set(4,e.ValueException.OVERFLOW);e.QInAConverter.s_lookupValueException.set(5,e.ValueException.NO_PRESENTATION);e.QInAConverter.s_lookupValueException.set(6,e.ValueException.DIFF0);e.QInAConverter.s_lookupValueException.set(7,e.ValueException.ERROR);e.QInAConverter.s_lookupValueException.set(8,e.ValueException.NO_AUTHORITY);e.QInAConverter.s_lookupValueException.set(9,e.ValueException.MIXED_CURRENCIES_OR_UNITS);e.QInAConverter.s_lookupValueException.set(10,e.ValueException.UNDEFINED_NOP)},setupSingleValueCalculation:function(){e.QInAConverter.s_lookupSingleValueCalculation=e.XHashMapByString.create();e.QInAConverter.s_lookupSingleValueCalculation.put(" ",e.SingleValueCalculation.NOT_DEFINED);e.QInAConverter.s_lookupSingleValueCalculation.put("1",e.SingleValueCalculation.SUM);e.QInAConverter.s_lookupSingleValueCalculation.put("2",e.SingleValueCalculation.MAXIMUM);e.QInAConverter.s_lookupSingleValueCalculation.put("3",e.SingleValueCalculation.MINIMUM);e.QInAConverter.s_lookupSingleValueCalculation.put("4",e.SingleValueCalculation.COUNTER_FOR_ALL_DETAILED_VALUES);e.QInAConverter.s_lookupSingleValueCalculation.put("5",e.SingleValueCalculation.COUNTER_FOR_ALL_DETAILED_VALUES_NZ_NULL_ERROR);e.QInAConverter.s_lookupSingleValueCalculation.put("6",e.SingleValueCalculation.AVERAGE);e.QInAConverter.s_lookupSingleValueCalculation.put("7",e.SingleValueCalculation.AVERAGE_DETAILED_VALUES_NOT_ZERO_NULL_ERROR);e.QInAConverter.s_lookupSingleValueCalculation.put("0",e.SingleValueCalculation.HIDE);e.QInAConverter.s_lookupSingleValueCalculation.put("O",e.SingleValueCalculation.OLYMPIC_RANK_NUMBER);e.QInAConverter.s_lookupSingleValueCalculation.put("B",e.SingleValueCalculation.MOVING_MIN_VALUE);e.QInAConverter.s_lookupSingleValueCalculation.put("C",e.SingleValueCalculation.NORMALIZED_NEXT_GROUP_LEVEL_RESULT);e.QInAConverter.s_lookupSingleValueCalculation.put("D",e.SingleValueCalculation.MAX_VALUE_NOT_ZERO_NULL_ERROR);e.QInAConverter.s_lookupSingleValueCalculation.put("E",e.SingleValueCalculation.MINIMUM_VALUES_NOT_ZERO_NULL_ERROR);e.QInAConverter.s_lookupSingleValueCalculation.put("G",e.SingleValueCalculation.NORMALIZED_OVERALL_RESULT);e.QInAConverter.s_lookupSingleValueCalculation.put("R",e.SingleValueCalculation.NORMALIZED_UNRESTRICTED_OVERALL_RESULT);e.QInAConverter.s_lookupSingleValueCalculation.put("S",e.SingleValueCalculation.RANK_NUMBER)},setupComponentTypeMapping:function(){e.QInAConverter.s_lookupComponentType=e.XHashMapByString.create();e.QInAConverter.s_lookupComponentTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapComponentType("Axis",e.OlapComponentType.AXIS);e.QInAConverter.mapComponentType("AbstractMember",e.MemberType.ABSTRACT_MEMBER);e.QInAConverter.mapComponentType("Attribute",e.OlapComponentType.ATTRIBUTE);e.QInAConverter.mapComponentType("QuerySettings",e.OlapComponentType.QUERY_SETTINGS);e.QInAConverter.mapComponentType("Condition",e.OlapComponentType.CONDITION);e.QInAConverter.mapComponentType("QueryModel",e.OlapComponentType.QUERY_MODEL);e.QInAConverter.mapComponentType("DataCell",e.OlapComponentType.DATA_CELL);e.QInAConverter.mapComponentType("CalculatedDimension",e.DimensionType.CALCULATED_DIMENSION);e.QInAConverter.mapComponentType("FilterManager",e.OlapComponentType.OLAP_FILTER_MANAGER);e.QInAConverter.mapComponentType("Filter",e.OlapComponentType.SELECTOR);e.QInAConverter.mapComponentType("FilterExpression",e.OlapComponentType.FILTER_EXPRESSION);e.QInAConverter.mapComponentType("FilterCartesianProduct",e.FilterComponentType.CARTESIAN_PRODUCT);e.QInAConverter.mapComponentType("FilterCartesianList",e.FilterComponentType.CARTESIAN_LIST);e.QInAConverter.mapComponentType("FilterConvertedTimeCartesianList",e.FilterComponentType.CONVERTED_TIME_CARTESIAN_LIST);e.QInAConverter.mapComponentType("FilterOperation",e.FilterComponentType.OPERATION);e.QInAConverter.mapComponentType("FilterAlgebra",e.FilterComponentType.BOOLEAN_ALGEBRA);e.QInAConverter.mapComponentType("CustomHierarchyDefinition",e.OlapComponentType.CUSTOM_HIERARCHY_DEFINITION);e.QInAConverter.mapComponentType("MemberRestricted",e.MemberType.RESTRICTED_MEASURE);e.QInAConverter.mapComponentType("DimensionMemberVariable",e.VariableType.DIMENSION_MEMBER_VARIABLE);e.QInAConverter.mapComponentType("HierarchyNodeVariable",e.VariableType.HIERARCHY_NODE_VARIABLE);e.QInAConverter.mapComponentType("Hierarchy",e.OlapComponentType.HIERARCHY_MANAGER);e.QInAConverter.mapComponentType("Hierarchy",e.OlapComponentType.HIERARCHY);e.QInAConverter.mapComponentType("CellValueOperand",e.OlapComponentType.FILTER_CELL_VALUE_OPERAND);e.QInAConverter.mapComponentType("DataCells",e.OlapComponentType.DATA_CELLS);e.QInAConverter.mapComponentType("Sorting",e.OlapComponentType.SORT_MANAGER);e.QInAConverter.mapComponentType("CurrencyTranslationManager",e.OlapComponentType.CURRENCY_TRANSLATION_MANAGER);e.QInAConverter.mapComponentType("CurrencyTranslations",e.OlapComponentType.CURRENCY_TRANSLATION_LIST);e.QInAConverter.mapComponentType("CurrencyTranslationItem",e.OlapComponentType.CURRENCY_TRANSLATION_ITEM);e.QInAConverter.mapComponentType("Translations",e.OlapComponentType.MEASURE_TRANSLATIONS);e.QInAConverter.mapComponentType("SortOperation",e.OlapComponentType.GENERIC_SORTING);e.QInAConverter.mapComponentType("Totals",e.OlapComponentType.TOTALS);e.QInAConverter.mapComponentType("Dimensions",e.OlapComponentType.DIMENSIONS);e.QInAConverter.mapComponentType("ConditionsManager",e.OlapComponentType.CONDITIONS_MANAGER);e.QInAConverter.mapComponentType("Field",e.OlapComponentType.FIELD);e.QInAConverter.mapComponentType("DimensionManager",e.OlapComponentType.DIMENSION_MANAGER);e.QInAConverter.mapComponentType("Dimension",e.OlapComponentType.ABSTRACT_DIMENSION);e.QInAConverter.mapComponentType("UniversalDisplayHierarchies",e.OlapComponentType.UNIVERSAL_DISPLAY_HIERARCHIES);e.QInAConverter.mapComponentType("BasicMeasure",e.MemberType.BASIC_MEASURE);e.QInAConverter.mapComponentType("Formula",e.MemberType.FORMULA);e.QInAConverter.mapComponentType("Variance",e.MemberType.VARIANCE);e.QInAConverter.mapComponentType("ExceptionAggregation",e.MemberType.EXCEPTION_AGGREGATION);e.QInAConverter.mapComponentType("CurrencyMeasure",e.MemberType.CURRENCY_MEASURE);e.QInAConverter.mapComponentType("RunningTotal",e.MemberType.RUNNING_TOTAL);e.QInAConverter.mapComponentType("Members",e.OlapComponentType.MEMBERS);e.QInAConverter.mapComponentType("DrillOperation",e.OlapComponentType.DRILL_OPERATION);e.QInAConverter.mapComponentType("DrillManager",e.OlapComponentType.DRILL_MANAGER);e.QInAConverter.mapComponentType("DrillPathElement",e.MemberType.DRILL_PATH_ELEMENT);e.QInAConverter.mapComponentType("CellContextManager",e.OlapComponentType.CELL_CONTEXT_MANAGER);e.QInAConverter.mapComponentType("CellContext",e.OlapComponentType.CELL_CONTEXT);e.QInAConverter.mapComponentType("AxesSettings",e.OlapComponentType.AXES_SETTINGS);e.QInAConverter.mapComponentType("Tuple",e.FilterComponentType.TUPLE);e.QInAConverter.mapComponentType("MeasureBasedFilter",e.FilterComponentType.FILTER_MEASURE_BASED);e.QInAConverter.mapComponentType("FilterAcrossModels",e.FilterComponentType.FILTER_ACROSS_MODELS);e.QInAConverter.mapComponentType("FilterDynamicTimeRegularRange",e.FilterComponentType.FILTER_DYNAMIC_TIME_REGULAR_RANGE);e.QInAConverter.mapComponentType("FilterDynamicTimeToDateRange",e.FilterComponentType.FILTER_DYNAMIC_TIME_TO_DATE_RANGE);e.QInAConverter.mapComponentType("FilterFixedTimeRange",e.FilterComponentType.FILTER_FIXED_TIME_RANGE);e.QInAConverter.mapComponentType("FormulaCalculatedDimension",e.DimensionType.FORMULA_CALCULATED_DIMENSION);e.QInAConverter.mapComponentType("FormulaException",e.OlapComponentType.FORMULA_EXCEPTION);e.QInAConverter.mapComponentType("FormulaExceptions",e.OlapComponentType.FORMULA_EXCEPTION_MANAGER);e.QInAConverter.mapComponentType("OptionListVariable",e.VariableType.OPTION_LIST_VARIABLE);e.QInAConverter.mapComponentType("Cells",e.OlapComponentType.QUERY_CELLS);e.QInAConverter.mapComponentType("ModellerCurrencyTranslation",e.OlapComponentType.MODELLER_CURRENCY_TRANSLATION);e.QInAConverter.mapComponentType("ModellerDimensions",e.OlapComponentType.MODELLER_DIMENSIONS);e.QInAConverter.mapComponentType("ModellerMetadataProperties",e.OlapComponentType.MODELLER_METADATA_PROPERTIES);e.QInAConverter.mapComponentType("ModellerVariables",e.OlapComponentType.MODELLER_VARIABLES);e.QInAConverter.mapComponentType("ConditionThreshold",e.OlapComponentType.CONDITIONS_THRESHOLD);e.QInAConverter.mapComponentType("Exceptions",e.OlapComponentType.EXCEPTION_MANAGER);e.QInAConverter.mapComponentType("SimpleTypeVariable",e.VariableType.SIMPLE_TYPE_VARIABLE);e.QInAConverter.mapComponentType("QueryManager",e.OlapComponentType.QUERY_MANAGER);e.QInAConverter.mapComponentType("QueryServiceConfig",e.OlapComponentType.QUERY_SERVICE_CONFIG);e.QInAConverter.mapComponentType("DataSource",e.OlapComponentType.DATA_SOURCE);e.QInAConverter.mapComponentType("DocumentsInfo",e.OlapComponentType.DOCUMENTS_INFO);e.QInAConverter.mapComponentType("BlendableQueryManager",e.OlapComponentType.BLENDABLE_QUERY_MANAGER);e.QInAConverter.mapComponentType("VisualizationManager",e.OlapComponentType.VISUALIZATION_MANAGER);e.QInAConverter.mapComponentType("VisualizationDefinition",e.OlapComponentType.VISUALIZATION_DEFINITION);e.QInAConverter.mapComponentType("VisualizationTableDefinition",e.OlapComponentType.VISUALIZATION_TABLE_DEFINITION);e.QInAConverter.mapComponentType("VisualizationChartDefinition",e.OlapComponentType.VISUALIZATION_CHART_DEFINITION)},setupValueTypeMap:function(){e.QInAConverter.s_lookupValueType=e.XHashMapByString.create();e.QInAConverter.s_lookupValueTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapValueType("String",e.XValueType.STRING);e.QInAConverter.mapValueType("Numc",e.XValueType.NUMC);e.QInAConverter.mapValueType("Char",e.XValueType.CHAR);e.QInAConverter.mapValueType("Double",e.XValueType.DOUBLE);e.QInAConverter.mapValueType("Long",e.XValueType.LONG);e.QInAConverter.mapValueType("Int",e.XValueType.INTEGER);e.QInAConverter.mapValueType("Bool",e.XValueType.BOOLEAN);e.QInAConverter.mapValueType("Amount",e.XValueType.AMOUNT);e.QInAConverter.mapValueType("Date",e.XValueType.DATE);e.QInAConverter.mapValueType("Time",e.XValueType.TIME);e.QInAConverter.mapValueType("Timestamp",e.XValueType.DATE_TIME);e.QInAConverter.mapValueType("Timespan",e.XValueType.TIMESPAN);e.QInAConverter.mapValueType("Properties",e.XValueType.PROPERTIES);e.QInAConverter.mapValueType("Structure",e.XValueType.STRUCTURE);e.QInAConverter.mapValueType("StructureList",e.XValueType.STRUCTURE_LIST);e.QInAConverter.mapValueType("MultiPoint",e.XValueType.MULTI_POINT);e.QInAConverter.mapValueType("Point",e.XValueType.POINT);e.QInAConverter.mapValueType("MultiGeometry",e.XValueType.MULTI_POLYGON);e.QInAConverter.mapValueType("Geometry",e.XValueType.POLYGON);e.QInAConverter.mapValueType("MultiLineString",e.XValueType.MULTI_LINE_STRING);e.QInAConverter.mapValueType("LineString",e.XValueType.LINE_STRING);e.QInAConverter.mapValueType("Language",e.XValueType.LANGUAGE);e.QInAConverter.mapValueType("DecimalFloat",e.XValueType.DECIMAL_FLOAT);e.QInAConverter.mapValueType("Variable",e.XValueType.VARIABLE);e.QInAConverter.mapValueType("CurrentMember",e.XValueType.CURRENT_MEMBER);e.QInAConverter.mapValueType("Unit",e.XValueType.UNIT);e.QInAConverter.mapValueType("Cuky",e.XValueType.CUKY);e.QInAConverter.s_lookupCellValueType=e.XArray.create(15);e.QInAConverter.s_lookupCellValueType.set(0,e.XValueType.DOUBLE);e.QInAConverter.s_lookupCellValueType.set(1,e.XValueType.PERCENT);e.QInAConverter.s_lookupCellValueType.set(2,e.XValueType.DATE);e.QInAConverter.s_lookupCellValueType.set(3,e.XValueType.TIME);e.QInAConverter.s_lookupCellValueType.set(4,e.XValueType.STRING);e.QInAConverter.s_lookupCellValueType.set(5,e.XValueType.AMOUNT);e.QInAConverter.s_lookupCellValueType.set(6,e.XValueType.QUANTITY);e.QInAConverter.s_lookupCellValueType.set(7,e.XValueType.PRICE);e.QInAConverter.s_lookupCellValueType.set(8,e.XValueType.DIMENSION_MEMBER);e.QInAConverter.s_lookupCellValueType.set(9,e.XValueType.INTEGER);e.QInAConverter.s_lookupCellValueType.set(10,e.XValueType.DECIMAL_FLOAT);e.QInAConverter.s_lookupCellValueType.set(11,e.XValueType.DATE_TIME);e.QInAConverter.s_lookupCellValueType.set(12,e.XValueType.DATE_TIME);e.QInAConverter.s_lookupCellValueType.set(13,e.XValueType.BOOLEAN);e.QInAConverter.s_lookupCellValueType.set(14,e.XValueType.POLYGON)},setupWindowFunctionTypeMapping:function(){e.QInAConverter.s_lookupWindowFunctionType=e.XHashMapByString.create();e.QInAConverter.s_lookupWindowFunctionTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapWindowFunctionType("SUM",e.WindowFunctionType.SUM);e.QInAConverter.mapWindowFunctionType("AVG",e.WindowFunctionType.AVERAGE);e.QInAConverter.mapWindowFunctionType("COUNT",e.WindowFunctionType.COUNT);e.QInAConverter.mapWindowFunctionType("MAX",e.WindowFunctionType.MAX);e.QInAConverter.mapWindowFunctionType("MIN",e.WindowFunctionType.MIN)},setupCtErrorHandlingMode:function(){e.QInAConverter.s_lookupCtErrorHandlingMode=e.XHashMapByString.create();e.QInAConverter.s_lookupCtErrorHandlingModeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapCtErrorHandlingMode("set to null",e.CtErrorHandlingMode.SET_TO_NULL);e.QInAConverter.mapCtErrorHandlingMode("keep unconverted",e.CtErrorHandlingMode.KEEP_UNCONVERTED);e.QInAConverter.mapCtErrorHandlingMode("fail on error",e.CtErrorHandlingMode.FAIL_ON_ERROR)},setupRateType:function(){e.QInAConverter.s_lookupRateType=e.XHashMapByString.create();e.QInAConverter.s_lookupRateTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapRateType("",e.CtRateType.DEFAULT);e.QInAConverter.mapRateType("Average",e.CtRateType.AVERAGE);e.QInAConverter.mapRateType("Closing",e.CtRateType.CLOSING)},setupCategory:function(){e.QInAConverter.s_lookupCategory=e.XHashMapByString.create();e.QInAConverter.s_lookupCategoryIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapCategory("Actuals",e.CtCategory.ACTUALS);e.QInAConverter.mapCategory("Budget",e.CtCategory.BUDGET);e.QInAConverter.mapCategory("Planning",e.CtCategory.PLANNING);e.QInAConverter.mapCategory("Forecast",e.CtCategory.FORECAST);e.QInAConverter.mapCategory("Rolling Forecast",e.CtCategory.ROLLING_FORECAST)},setupProviderType:function(){e.QInAConverter.s_lookupProviderType=e.XHashMapByString.create();e.QInAConverter.s_lookupProviderTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.s_lookupProviderTypeFallbackIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapProviderType(e.ServerService.CATALOG,e.ServerService.ANALYTIC,e.ProviderType.CATALOG);e.QInAConverter.mapProviderType(e.ServerService.VALUE_HELP,e.ServerService.ANALYTIC,e.ProviderType.ANALYTICS_VALUE_HELP);e.QInAConverter.mapProviderType(e.ServerService.LIST_REPORTING,null,e.ProviderType.LIST_REPORTING);e.QInAConverter.mapProviderType(e.ServerService.ANALYTIC,e.ServerService.ANALYTIC,e.ProviderType.ANALYTICS);e.QInAConverter.mapProviderType(e.ServerService.DIMENSION_EXTENSION,null,e.ProviderType.DIMENSION_EXTENSION);e.QInAConverter.mapProviderType(e.ServerService.DOCUMENTS,null,e.ProviderType.DOCUMENTS);e.QInAConverter.mapProviderType(e.ServerService.PLANNING,e.ServerService.ANALYTIC,e.ProviderType.PLANNING_COMMAND);e.QInAConverter.mapProviderType(e.ServerService.PLANNING,e.ServerService.ANALYTIC,e.ProviderType.PLANNING_VALUE_HELP)},setupInfoObjectType:function(){e.QInAConverter.s_lookupInfoObjectType=e.XHashMapByString.create();e.QInAConverter.s_lookupInfoObjectTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapInfoObjectType("CHA",e.InfoObjectType.CHA);e.QInAConverter.mapInfoObjectType("KYF",e.InfoObjectType.KYF);e.QInAConverter.mapInfoObjectType("TIM",e.InfoObjectType.TIM);e.QInAConverter.mapInfoObjectType("UNI",e.InfoObjectType.UNI);e.QInAConverter.mapInfoObjectType("DPA",e.InfoObjectType.DPA);e.QInAConverter.mapInfoObjectType("ATR",e.InfoObjectType.ATR);e.QInAConverter.mapInfoObjectType("MTA",e.InfoObjectType.MTA);e.QInAConverter.mapInfoObjectType("XXL",e.InfoObjectType.XXL);e.QInAConverter.mapInfoObjectType("ALL",e.InfoObjectType.ALL)},setupResultCalculation:function(){e.QInAConverter.s_lookupResultCalculation=e.XHashMapByString.create();e.QInAConverter.s_lookupResultCalculation.put("00",e.ResultCalculation.NOT_DEFINED);e.QInAConverter.s_lookupResultCalculation.put("01",e.ResultCalculation.SUM);e.QInAConverter.s_lookupResultCalculation.put("02",e.ResultCalculation.MAXIMUM);e.QInAConverter.s_lookupResultCalculation.put("03",e.ResultCalculation.MINIMUM);e.QInAConverter.s_lookupResultCalculation.put("04",e.ResultCalculation.COUNTER_FOR_ALL_DETAILED_VALUES);e.QInAConverter.s_lookupResultCalculation.put("05",e.ResultCalculation.COUNTER_FOR_ALL_DETAILED_VALUES_NZ_NULL_ERROR);e.QInAConverter.s_lookupResultCalculation.put("06",e.ResultCalculation.AVERAGE);e.QInAConverter.s_lookupResultCalculation.put("07",e.ResultCalculation.AVERAGE_DETAILED_VALUES_NOT_ZERO_NULL_ERROR);e.QInAConverter.s_lookupResultCalculation.put("08",e.ResultCalculation.STANDARD_DEVIATION);e.QInAConverter.s_lookupResultCalculation.put("09",e.ResultCalculation.VARIANCE);e.QInAConverter.s_lookupResultCalculation.put("11",e.ResultCalculation.FIRST_VALUE);e.QInAConverter.s_lookupResultCalculation.put("12",e.ResultCalculation.LAST_VALUE);e.QInAConverter.s_lookupResultCalculation.put("13",e.ResultCalculation.SUMMATION_OF_ROUNDED_VALUES);e.QInAConverter.s_lookupResultCalculation.put("14",e.ResultCalculation.HIDE)},setupValueDomain:function(){e.QInAConverter.s_lookupProcessingType=e.XHashMapByString.create();e.QInAConverter.s_lookupProcessingTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapValueDomain("CurrencyConversion",e.ProcessingType.CURRENCY_CONVERSION)},setupCellChartOrientationMapping:function(){e.QInAConverter.s_lookupCellChartOrientation=e.XHashMapByString.create();e.QInAConverter.s_lookupCellChartOrientationIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapCellChartOrientation("Horizontal",e.CellChartOrientation.HORIZONTAL);e.QInAConverter.mapCellChartOrientation("Vertical",e.CellChartOrientation.VERTICAL)},setupCellChartTypeMapping:function(){e.QInAConverter.s_lookupCellChartType=e.XHashMapByString.create();e.QInAConverter.s_lookupCellChartTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapCellChartType("Bar",e.CellChartType.BAR);e.QInAConverter.mapCellChartType("VarianceBar",e.CellChartType.VARIANCE_BAR);e.QInAConverter.mapCellChartType("Pin",e.CellChartType.PIN)},setupDocumentIdsAction:function(){e.QInAConverter.s_lookupDocumentIdsAction=e.XHashMapByString.create();e.QInAConverter.s_lookupDocumentIdsActionIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapDocumentIdsAction("Create",e.DocumentsIdsAction.CREATE);e.QInAConverter.mapDocumentIdsAction("Delete",e.DocumentsIdsAction.DELETE)},setupDocumentIdsScope:function(){e.QInAConverter.s_lookupDocumentIdsScope=e.XHashMapByString.create();e.QInAConverter.s_lookupDocumentIdsScopeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapDocumentIdsScope("None",e.DocumentsIdsScope.NONE);e.QInAConverter.mapDocumentIdsScope("ResultSetBound",e.DocumentsIdsScope.RESULT_SET_BOUND);e.QInAConverter.mapDocumentIdsScope("SystemUnique",e.DocumentsIdsScope.SYSTEM_UNIQUE)},setupDocumentSupportType:function(){e.QInAConverter.s_lookupDocumentSupportType=e.XHashMapByString.create();e.QInAConverter.s_lookupDocumentSupportTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapDocumentSupportType("None",e.DocumentsSupportType.NONE);e.QInAConverter.mapDocumentSupportType("Read",e.DocumentsSupportType.READ);e.QInAConverter.mapDocumentSupportType("ReadWrite",e.DocumentsSupportType.READ_WRITE)},setupReturnedDataSelectionMapping:function(){e.QInAConverter.s_lookupReturnedDataSelection=e.XHashMapByString.create();e.QInAConverter.s_lookupReturnedDataSelectionIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapReturnedDataSelection("Actions",e.ReturnedDataSelection.ACTIONS);e.QInAConverter.mapReturnedDataSelection("CellDataType",e.ReturnedDataSelection.CELL_DATA_TYPE);e.QInAConverter.mapReturnedDataSelection("CellFormat",e.ReturnedDataSelection.CELL_FORMAT);e.QInAConverter.mapReturnedDataSelection("CellMeasure",e.ReturnedDataSelection.CELL_MEASURE);e.QInAConverter.mapReturnedDataSelection("CellValueTypes",e.ReturnedDataSelection.CELL_VALUE_TYPES);e.QInAConverter.mapReturnedDataSelection("ExceptionAlertLevel",e.ReturnedDataSelection.EXCEPTION_ALERTLEVEL);e.QInAConverter.mapReturnedDataSelection("ExceptionName",e.ReturnedDataSelection.EXCEPTION_NAME);e.QInAConverter.mapReturnedDataSelection("ExceptionSettings",e.ReturnedDataSelection.EXCEPTION_SETTINGS);e.QInAConverter.mapReturnedDataSelection("Exceptions",e.ReturnedDataSelection.EXCEPTIONS);e.QInAConverter.mapReturnedDataSelection("InputEnabled",e.ReturnedDataSelection.INPUT_ENABLED);e.QInAConverter.mapReturnedDataSelection("InputReadinessStates",e.ReturnedDataSelection.INPUT_READINESS_STATES);e.QInAConverter.mapReturnedDataSelection("NumericRounding",e.ReturnedDataSelection.NUMERIC_ROUNDING);e.QInAConverter.mapReturnedDataSelection("NumericShift",e.ReturnedDataSelection.NUMERIC_SHIFT);e.QInAConverter.mapReturnedDataSelection("TupleDisplayLevel",e.ReturnedDataSelection.TUPLE_DISPLAY_LEVEL);e.QInAConverter.mapReturnedDataSelection("TupleDrillState",e.ReturnedDataSelection.TUPLE_DRILL_STATE);e.QInAConverter.mapReturnedDataSelection("TupleElementIds",e.ReturnedDataSelection.TUPLE_ELEMENT_IDS);e.QInAConverter.mapReturnedDataSelection("TupleElementIndexes",e.ReturnedDataSelection.TUPLE_ELEMENT_INDEXES);e.QInAConverter.mapReturnedDataSelection("TupleLevel",e.ReturnedDataSelection.TUPLE_LEVEL);e.QInAConverter.mapReturnedDataSelection("TupleParentIndexes",e.ReturnedDataSelection.TUPLE_PARENT_INDEXES);e.QInAConverter.mapReturnedDataSelection("UnitDescriptions",e.ReturnedDataSelection.UNIT_DESCRIPTIONS);e.QInAConverter.mapReturnedDataSelection("UnitIndex",e.ReturnedDataSelection.UNIT_INDEX);e.QInAConverter.mapReturnedDataSelection("UnitTypes",e.ReturnedDataSelection.UNIT_TYPES);e.QInAConverter.mapReturnedDataSelection("Units",e.ReturnedDataSelection.UNITS);e.QInAConverter.mapReturnedDataSelection("Values",e.ReturnedDataSelection.VALUES);e.QInAConverter.mapReturnedDataSelection("ValuesFormatted",e.ReturnedDataSelection.VALUES_FORMATTED);e.QInAConverter.mapReturnedDataSelection("ValuesRounded",e.ReturnedDataSelection.VALUES_ROUNDED);e.QInAConverter.mapReturnedDataSelection("CellExplain",e.ReturnedDataSelection.CELL_EXPLAIN)},setupProtocolBindingType:function(){e.QInAConverter.s_lookupProtocolBindingType=e.XHashMapByString.create();e.QInAConverter.s_lookupProtocolBindingTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapProtocolBindingType("HighChart",e.ProtocolBindingType.HIGH_CHART_PROTOCOL);e.QInAConverter.mapProtocolBindingType("GoogleChart",e.ProtocolBindingType.GOOGLE_CHART_PROTOCOL);e.QInAConverter.mapProtocolBindingType("MicroChart",e.ProtocolBindingType.MICRO_CHART_PROTOCOL);e.QInAConverter.mapProtocolBindingType("FireflyGrid",e.ProtocolBindingType.FIREFLY_GRID);e.QInAConverter.mapProtocolBindingType("SacTableGrid",e.ProtocolBindingType.SAC_TABLE_GRID);e.QInAConverter.mapProtocolBindingType("PlainGrid",e.ProtocolBindingType.PLAIN_GRID);e.QInAConverter.mapProtocolBindingType("VizFrame",e.ProtocolBindingType.VIZ_FRAME_PROTOCOL);e.QInAConverter.mapProtocolBindingType("SapKpi",e.ProtocolBindingType.SAP_KPI_PROTOCOL)},setupSemanticBindingType:function(){e.QInAConverter.s_lookupSemanticBindingType=e.XHashMapByString.create();e.QInAConverter.s_lookupSemanticBindingTypeIna=e.XHashMapOfStringByString.create();e.QInAConverter.mapSemanticBindingType("Chart",e.SemanticBindingType.CHART);e.QInAConverter.mapSemanticBindingType("Table",e.SemanticBindingType.TABLE);e.QInAConverter.mapSemanticBindingType("Grid",e.SemanticBindingType.GRID);e.QInAConverter.mapSemanticBindingType("Kpi",e.SemanticBindingType.KPI)},setupRunningTotalOperator:function(){e.QInAConverter.s_lookupRunningTotalOperatorIna=e.XHashMapOfStringByString.create();e.QInAConverter.s_lookupRunningTotalOperator=e.XHashMapByString.create();e.QInAConverter.mapRunningTotalOperator("Count",e.RunningTotalOperator.COUNT);e.QInAConverter.mapRunningTotalOperator("Min",e.RunningTotalOperator.MIN);e.QInAConverter.mapRunningTotalOperator("Max",e.RunningTotalOperator.MAX);e.QInAConverter.mapRunningTotalOperator("Sum",e.RunningTotalOperator.SUM);e.QInAConverter.mapRunningTotalOperator("Average",e.RunningTotalOperator.AVERAGE)},setupCurrencyPresentation:function(){e.QInAConverter.s_lookupCurrencyPresentationIna=e.XHashMapOfStringByString.create();e.QInAConverter.s_lookupCurrencyPresentation=e.XHashMapByString.create();e.QInAConverter.mapCurrencyPresentation("Iso",e.CurrencyPresentation.ISO);e.QInAConverter.mapCurrencyPresentation("Symbol",e.CurrencyPresentation.SYMBOL)},setupScaleAndUnitPlacement:function(){e.QInAConverter.s_lookupScaleAndUnitPlacementIna=e.XHashMapOfStringByString.create();e.QInAConverter.s_lookupScaleAndUnitPlacement=e.XHashMapByString.create();e.QInAConverter.mapScaleAndUnitPlacement("Cell",e.ScaleAndUnitPlacement.CELL);e.QInAConverter.mapScaleAndUnitPlacement("Rows",e.ScaleAndUnitPlacement.ROWS);e.QInAConverter.mapScaleAndUnitPlacement("Columns",e.ScaleAndUnitPlacement.COLUMNS);e.QInAConverter.mapScaleAndUnitPlacement("Subtitle",e.ScaleAndUnitPlacement.SUBTITLE)},setupScaleFormat:function(){e.QInAConverter.s_lookupScaleFormatIna=e.XHashMapOfStringByString.create();e.QInAConverter.s_lookupScaleFormat=e.XHashMapByString.create();e.QInAConverter.mapScaleFormat("Short",e.ScaleFormat.SHORT);e.QInAConverter.mapScaleFormat("Long",e.ScaleFormat.LONG)},setupSignPresentation:function(){e.QInAConverter.s_lookupSignPresentationIna=e.XHashMapOfStringByString.create();e.QInAConverter.s_lookupSignPresentation=e.XHashMapByString.create();e.QInAConverter.mapSignPresentation("BeforeNumber",e.SignPresentation.BEFORE_NUMBER);e.QInAConverter.mapSignPresentation("AfterNumber",e.SignPresentation.AFTER_NUMBER);e.QInAConverter.mapSignPresentation("Brackets",e.SignPresentation.BRACKETS)},mapConstant:function(e,t,r,a){e.put(a,r);t.put(r.getName(),a)},mapValueType:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupValueType,e.QInAConverter.s_lookupValueTypeIna,r,t);e.QInAConverter.s_lookupValueType.put(e.XString.toUpperCase(t),r)},mapAggregationType:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupAggregationType,e.QInAConverter.s_lookupAggregationTypeIna,r,t)},mapComponentType:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupComponentType,e.QInAConverter.s_lookupComponentTypeIna,r,t)},mapSortType:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupSortType,e.QInAConverter.s_lookupSortTypeIna,r,t)},mapComparison:function(t,r){e.QInAConverter.s_lookupComparison.put(t,r);if(!e.QInAConverter.s_lookupComparisonIna.containsKey(r.getName())){e.QInAConverter.s_lookupComparisonIna.put(r.getName(),t)}},mapPresentationType:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupPresentationType,e.QInAConverter.s_lookupPresentationTypeIna,r,t)},mapInfoObjectType:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupInfoObjectType,e.QInAConverter.s_lookupInfoObjectTypeIna,r,t)},mapVisibilityType:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupVisibilityType,e.QInAConverter.s_lookupVisibilityTypeIna,r,t)},mapReadMode:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupReadMode,e.QInAConverter.s_lookupReadModeIna,r,t)},mapWindowFunctionType:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupWindowFunctionType,e.QInAConverter.s_lookupWindowFunctionTypeIna,r,t)},mapCtErrorHandlingMode:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupCtErrorHandlingMode,e.QInAConverter.s_lookupCtErrorHandlingModeIna,r,t)},mapRateType:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupRateType,e.QInAConverter.s_lookupRateTypeIna,r,t)},mapCategory:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupCategory,e.QInAConverter.s_lookupCategoryIna,r,t)},mapProviderType:function(t,r,a){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupProviderType,e.QInAConverter.s_lookupProviderTypeIna,a,t);e.QInAConverter.s_lookupProviderTypeFallbackIna.put(a.getName(),r)},mapValueDomain:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupProcessingType,e.QInAConverter.s_lookupProcessingTypeIna,r,t)},mapReturnedDataSelection:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupReturnedDataSelection,e.QInAConverter.s_lookupReturnedDataSelectionIna,r,t)},mapDocumentIdsScope:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupDocumentIdsScope,e.QInAConverter.s_lookupDocumentIdsScopeIna,r,t)},mapDocumentSupportType:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupDocumentSupportType,e.QInAConverter.s_lookupDocumentSupportTypeIna,r,t)},mapProtocolBindingType:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupProtocolBindingType,e.QInAConverter.s_lookupProtocolBindingTypeIna,r,t)},mapSemanticBindingType:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupSemanticBindingType,e.QInAConverter.s_lookupSemanticBindingTypeIna,r,t)},mapDocumentIdsAction:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupDocumentIdsAction,e.QInAConverter.s_lookupDocumentIdsActionIna,r,t)},mapCellChartOrientation:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupCellChartOrientation,e.QInAConverter.s_lookupCellChartOrientationIna,r,t)},mapCellChartType:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupCellChartType,e.QInAConverter.s_lookupCellChartTypeIna,r,t)},mapRunningTotalOperator:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupRunningTotalOperator,e.QInAConverter.s_lookupRunningTotalOperatorIna,r,t)},mapCurrencyPresentation:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupCurrencyPresentation,e.QInAConverter.s_lookupCurrencyPresentationIna,r,t)},mapScaleAndUnitPlacement:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupScaleAndUnitPlacement,e.QInAConverter.s_lookupScaleAndUnitPlacementIna,r,t)},mapScaleFormat:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupScaleFormat,e.QInAConverter.s_lookupScaleFormatIna,r,t)},mapSignPresentation:function(t,r){e.QInAConverter.mapConstant(e.QInAConverter.s_lookupSignPresentation,e.QInAConverter.s_lookupSignPresentationIna,r,t)},lookupInAString:function(t,r){return e.isNull(r)?null:t.getByKey(r.getName())},lookupContextNameForProvider:function(t){var r;if(t===e.ProviderType.PLANNING||t===e.ProviderType.PLANNING_VALUE_HELP){r="Planning"}else if(t===e.ProviderType.LIST_REPORTING){r="ListReporting"}else{r="Analytics"}return r},lookupServiceNameForProvider:function(t){return e.QInAConverter.s_lookupProviderTypeIna.getByKey(t.getName())},lookupFallbackServiceNameForProvider:function(t){var r=null;if(t===e.ProviderType.ANALYTICS||t===e.ProviderType.ANALYTICS_VALUE_HELP||t===e.ProviderType.PLANNING||t===e.ProviderType.CATALOG){r=e.ServerService.ANALYTIC}return r},lookupMeasureStructureMemberTypeIna:function(t){var r=null;if(e.notNull(t)){if(t===e.MemberType.RESTRICTED_MEASURE){r="SelectionMeasure"}else if(t===e.MemberType.FORMULA){r="FormulaMeasure"}else if(t===e.MemberType.VARIANCE){r="VarianceMeasure"}else if(t===e.MemberType.EXCEPTION_AGGREGATION){r="ExceptionAggregationMeasure"}else if(t===e.MemberType.CURRENCY_MEASURE){r="CurrencyMeasure"}else if(t===e.MemberType.RUNNING_TOTAL){r="RunningTotal"}else{r="Measure"}}return r},lookupMeasureStructureMemberTypeInaForUniversalModels:function(t){var r;if(e.isNull(t)){r=-1}else if(t===e.MemberType.FORMULA){r=0}else if(t===e.MemberType.RESTRICTED_MEASURE){r=1}else{r=2}return r},lookupAggregationTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupAggregationTypeIna,t)},lookupAggregationType:function(t){return e.QInAConverter.s_lookupAggregationType.getByKey(t)},lookupAggregationType2:function(t){switch(t){case 1:return e.AggregationType.SUM;case 2:return e.AggregationType.COUNT;case 3:return e.AggregationType.MIN;case 4:return e.AggregationType.MAX;case 5:return e.AggregationType.AVERAGE;case 6:return e.AggregationType.COUNT_DISTINCT;case 7:return e.AggregationType.LAST;case 8:return e.AggregationType.FIRST;case 9:return e.AggregationType.VARIANCE;case 10:return e.AggregationType.STANDARD_DEVIATION;case 11:return e.AggregationType.NOP_NULL;case 12:return e.AggregationType.NOP_NULL_ZERO;default:return null}},lookupComparisonInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupComparisonIna,t)},lookupComparison:function(t){return e.QInAConverter.s_lookupComparison.getByKey(t)},lookupConstantWithDefault:function(t,r,a){var n=t.getByKey(r);return e.isNull(n)?a:n},lookupPresentationType:function(t){return e.QInAConverter.lookupConstantWithDefault(e.QInAConverter.s_lookupPresentationType,t,e.PresentationType.VALUE)},lookupPresentationTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupPresentationTypeIna,t)},lookupInfoObjectType:function(t){return e.QInAConverter.s_lookupInfoObjectType.getByKey(t)},lookupInfoObjectTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupInfoObjectTypeIna,t)},lookupVisibilityType:function(t){return e.QInAConverter.s_lookupVisibilityType.getByKey(t)},lookupVisibilityTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupVisibilityTypeIna,t)},lookupSortDirectionInA:function(t){var r;if(t===e.XSortDirection.ASCENDING){r=1}else if(t===e.XSortDirection.DESCENDING){r=2}else if(t===e.XSortDirection.NONE){r=3}else{r=0}return r},lookupSortDirectionInA2:function(t){var r;if(t===e.XSortDirection.ASCENDING){r="Asc"}else if(t===e.XSortDirection.DESCENDING){r="Desc"}else{r="None"}return r},lookupSortDirection:function(t){switch(t){case 1:return e.XSortDirection.ASCENDING;case 2:return e.XSortDirection.DESCENDING;case 3:return e.XSortDirection.NONE;default:return e.XSortDirection.DEFAULT_VALUE}},lookupSortDirection2:function(t){if(e.XString.isEqual("Asc",t)){return e.XSortDirection.ASCENDING}else if(e.XString.isEqual("Desc",t)){return e.XSortDirection.DESCENDING}else{return e.XSortDirection.NONE}},lookupDimensionType:function(t){if(t===-2){return e.DimensionType.CALCULATED_DIMENSION}else if(t===-3){return e.DimensionType.FORMULA_CALCULATED_DIMENSION}else if(t<1||t===3){return e.DimensionType.DIMENSION}else if(t>13){throw e.XException.createIllegalStateException("Unknown dimension type")}else{return e.QInAConverter.s_lookupDimensionTypeInt.get(t)}},indexOf:function(e,t){var r=e.size();for(var a=1;a<r;a++){if(e.get(a)===t){return a}}return-1},lookupDimensionTypeInA:function(t){var r;if(t===e.DimensionType.CALCULATED_DIMENSION){r=-2}else if(t.isTypeOf(e.DimensionType.FORMULA_CALCULATED_DIMENSION)){r=-3}else{r=e.QInAConverter.indexOf(e.QInAConverter.s_lookupDimensionTypeInt,t);if(r===-1){throw e.XException.createIllegalStateException("Unknown dimension type")}}return r},lookupValidOrDefault:function(e,t,r,a){return e<0||e>t?r:a.get(e)},lookupResultSetState:function(t){return e.QInAConverter.lookupValidOrDefault(t,6,e.ResultSetState.ERROR,e.QInAConverter.s_lookupResultsetState)},lookupReadModeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupReadModeIna,t)},lookupReadMode:function(t){return e.QInAConverter.s_lookupReadMode.getByKey(t)},lookupDrillState:function(t,r){switch(t){case 2:return e.DrillState.COLLAPSED;case 3:return e.DrillState.EXPANDED;case 1:return e.DrillState.LEAF;case 4:return r?e.DrillState.EXPANDED:e.DrillState.DRILLED;case 100:return r?e.DrillState.EXPANDED:e.DrillState.LEAF_DRILLDOWN_ALLOWED;case 101:return r?e.DrillState.EXPANDED:e.DrillState.LEAF_UDH_EXPAND_ALLOWED;case 102:return r?e.DrillState.LEAF:e.DrillState.LEAF_UDH;case 103:return r?e.DrillState.COLLAPSED:e.DrillState.COLLAPSED_EXPAND_AND_DRILLDOWN_ALLOWED;default:return null}},lookupDrillStateOp:function(t){if(e.isNull(t)){return null}switch(t){case"Collapsed":return e.DrillState.COLLAPSED;case"Expanded":return e.DrillState.EXPANDED;case"Drilled":return e.DrillState.DRILLED;default:return null}},lookupDrillStateInA:function(t){var r=null;if(t===e.DrillState.COLLAPSED){r="Collapsed"}else if(t===e.DrillState.EXPANDED){r="Expanded"}else if(t===e.DrillState.DRILLED){r="Drilled"}return r},lookupEncoding:function(t){return e.QInAConverter.s_lookupEncoding.getByKey(t)},lookupHierarchyLevelTypeIna:function(t){var r;if(t===e.HierarchyLevelType.ALL){r=1}else if(t===e.HierarchyLevelType.TIME_YEAR){r=20}else if(t===e.HierarchyLevelType.TIME_HALF_YEAR){r=36}else if(t===e.HierarchyLevelType.TIME_QUARTER){r=68}else if(t===e.HierarchyLevelType.TIME_MONTH){r=132}else if(t===e.HierarchyLevelType.TIME_WEEK){r=260}else if(t===e.HierarchyLevelType.TIME_DAY){r=516}else if(t===e.HierarchyLevelType.TIME_HOUR){r=772}else if(t===e.HierarchyLevelType.TIME_MINUTE){r=1028}else if(t===e.HierarchyLevelType.TIME_SECOND){r=2052}else{r=0}return r},lookupHierarchyLevelType:function(t){switch(t){case 1:return e.HierarchyLevelType.ALL;case 20:return e.HierarchyLevelType.TIME_YEAR;case 36:return e.HierarchyLevelType.TIME_HALF_YEAR;case 68:return e.HierarchyLevelType.TIME_QUARTER;case 132:return e.HierarchyLevelType.TIME_MONTH;case 260:return e.HierarchyLevelType.TIME_WEEK;case 516:return e.HierarchyLevelType.TIME_DAY;case 772:return e.HierarchyLevelType.TIME_HOUR;case 1028:return e.HierarchyLevelType.TIME_MINUTE;case 2052:return e.HierarchyLevelType.TIME_SECOND;default:return e.HierarchyLevelType.REGULAR}},lookupException:function(t){return e.QInAConverter.lookupValidOrDefault(t,10,e.ValueException.ERROR,e.QInAConverter.s_lookupValueException)},lookupSingleValueCalculation:function(t){return e.QInAConverter.s_lookupSingleValueCalculation.getByKey(t)},lookupResultCalculation:function(t){return e.QInAConverter.s_lookupResultCalculation.getByKey(t)},lookupMemberType:function(t){switch(t){case 1:return e.MemberType.RESULT;case 2:return e.MemberType.CONDITION_RESULT;case 3:return e.MemberType.CONDITION_OTHERS_RESULT;default:return e.MemberType.MEMBER}},lookupMeasureStructureMemberType:function(t){if(e.isNull(t)){return null}switch(t){case"Measure":return e.MemberType.MEASURE;case"SelectionMeasure":return e.MemberType.RESTRICTED_MEASURE;case"FormulaMeasure":return e.MemberType.FORMULA;case"VarianceMeasure":return e.MemberType.VARIANCE;case"ExceptionAggregationMeasure":return e.MemberType.EXCEPTION_AGGREGATION;case"CurrencyMeasure":return e.MemberType.CURRENCY_MEASURE;case"RunningTotal":return e.MemberType.RUNNING_TOTAL;default:return null}},lookupValueTypeByInt:function(t){return e.QInAConverter.lookupValidOrDefault(t,14,e.XValueType.DOUBLE,e.QInAConverter.s_lookupCellValueType)},lookupIntByValueType:function(t){var r=e.QInAConverter.indexOf(e.QInAConverter.s_lookupCellValueType,t);return r===-1?0:r},lookupValueTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupValueTypeIna,t)},lookupValueType:function(t){return e.QInAConverter.lookupConstantWithDefault(e.QInAConverter.s_lookupValueType,t,e.XValueType.UNSUPPORTED)},lookupAlignment:function(t){if(e.isNull(t)){return e.ResultAlignment.NONE}else{switch(t){case"Top":return e.ResultAlignment.TOP;case"Bottom":return e.ResultAlignment.BOTTOM;case"TopBottom":return e.ResultAlignment.TOPBOTTOM;case"Structure":return e.ResultAlignment.STRUCTURE;default:return e.ResultAlignment.NONE}}},lookupAlignmentInA:function(t){var r="None";if(t===e.ResultAlignment.TOP){r="Top"}else if(t===e.ResultAlignment.BOTTOM){r="Bottom"}else if(t===e.ResultAlignment.TOPBOTTOM){r="TopBottom"}else if(t===e.ResultAlignment.STRUCTURE){r="Structure"}return r},lookupReordering:function(t){if(e.isNull(t)){return e.ReorderingCapability.NONE}else{switch(t){case"Full":return e.ReorderingCapability.FULL;case"Restricted":return e.ReorderingCapability.RESTRICTED;default:return e.ReorderingCapability.NONE}}},lookupReorderingInA:function(t){var r="None";if(t===e.ReorderingCapability.FULL){r="Full"}else if(t===e.ReorderingCapability.RESTRICTED){r="Restricted"}return r},lookupAxisType:function(t){return e.QInAConverter.lookupConstantWithDefault(e.QInAConverter.s_lookupAxisType,t,e.AxisType.FREE)},lookupAxisTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupAxisTypeIna,t)},lookupAxisTypeInt:function(t){switch(t){case 1:return e.AxisType.ROWS;case 2:return e.AxisType.COLUMNS;default:return e.AxisType.FREE}},lookupAxisTypeInAInt:function(t){var r=0;if(t===e.AxisType.ROWS){r=1}else if(t===e.AxisType.COLUMNS){r=2}else if(t===e.AxisType.FREE){r=3}return r},lookupSuppressionType:function(t){switch(t){case 1:return e.ZeroSuppressionType.TOTAL_IS_ZERO;case 2:return e.ZeroSuppressionType.ALL_CELLS_ARE_ZERO;case 3:return e.ZeroSuppressionType.ALL_CELLS_ARE_NULL;default:return e.ZeroSuppressionType.NONE}},lookupSuppressionTypeInA:function(t){var r=0;if(t===e.ZeroSuppressionType.TOTAL_IS_ZERO){r=1}else if(t===e.ZeroSuppressionType.ALL_CELLS_ARE_ZERO){r=2}else if(t===e.ZeroSuppressionType.ALL_CELLS_ARE_NULL){r=3}return r},lookupFieldLayoutType:function(t){if(e.isNull(t)){return e.FieldLayoutType.FIELD_BASED}else{switch(t){case"AttributeBased":return e.FieldLayoutType.ATTRIBUTE_BASED;case"AttributesAndPresentations":return e.FieldLayoutType.ATTRIBUTES_AND_PRESENTATIONS;default:return e.FieldLayoutType.FIELD_BASED}}},lookupFieldLayoutTypeInA:function(t){var r="FieldBased";if(t===e.FieldLayoutType.ATTRIBUTE_BASED){r="AttributeBased"}else if(t===e.FieldLayoutType.ATTRIBUTES_AND_PRESENTATIONS){r="AttributesAndPresentations"}return r},lookupLowerLevelNodeAlignment:function(t){if(e.isNull(t)){return e.Alignment.DEFAULT_VALUE}else{switch(t){case"Above":return e.Alignment.CHILDREN_ABOVE_PARENT;case"Below":return e.Alignment.CHILDREN_BELOW_PARENT;case"InheritFromFirstDimensionOnAxis":return e.Alignment.INHERIT_FROM_FIRST_DIMENSION_ON_AXIS;default:return e.Alignment.DEFAULT_VALUE}}},lookupLowerLevelNodeAlignmentInA:function(t){var r="Default";if(t===e.Alignment.CHILDREN_ABOVE_PARENT){r="Above"}else if(t===e.Alignment.CHILDREN_BELOW_PARENT){r="Below"}else if(t===e.Alignment.INHERIT_FROM_FIRST_DIMENSION_ON_AXIS){r="InheritFromFirstDimensionOnAxis"}return r},lookupLowerLevelNodeAlignmentInA2:function(t){var r="Default";if(t===e.Alignment.CHILDREN_ABOVE_PARENT){r="Below"}else if(t===e.Alignment.CHILDREN_BELOW_PARENT){r="Above"}return r},lookupResultSetVisibility:function(t){if(e.isNull(t)){return e.ResultVisibility.HIDDEN}else{switch(t){case"Visible":return e.ResultVisibility.VISIBLE;case"Conditional":return e.ResultVisibility.CONDITIONAL;case"Always":return e.ResultVisibility.ALWAYS;case"HiddenDescSelfAfter":return e.ResultVisibility.HIDDEN_DESCENDANTS_SELF_AFTER;default:return e.ResultVisibility.HIDDEN}}},lookupResultSetVisibilityInA:function(t){var r="Hidden";if(t===e.ResultVisibility.VISIBLE){r="Visible"}else if(t===e.ResultVisibility.CONDITIONAL){r="Conditional"}else if(t===e.ResultVisibility.ALWAYS){r="Always"}else if(t===e.ResultVisibility.HIDDEN_DESCENDANTS_SELF_AFTER){r="HiddenDescSelfAfter"}return r},lookupAlertLevel:function(t){return e.QInAConverter.lookupValidOrDefault(t,9,null,e.QInAConverter.s_lookupAlertLevelInt)},lookupOperatorInA:function(t){var r=null;if(e.notNull(t)){r=t===e.ComparisonOperator.EQUAL?"=":t.getDisplayString()}return r},lookupSortType:function(t){return e.QInAConverter.s_lookupSortType.getByKey(t)},lookupSortTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupSortTypeIna,t)},lookupMemberNavigationTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupMemberNavigationTypeIna,t)},lookupConfigLevel:function(t){if(e.isNull(t)){return e.QModelLevel.NONE}else{switch(t){case"Query":return e.QModelLevel.QUERY;case"Axis":return e.QModelLevel.AXES;case"Dimension":return e.QModelLevel.DIMENSIONS;default:return e.QModelLevel.NONE}}},lookupConfigLevelInA:function(t){var r="None";if(t===e.QModelLevel.QUERY){r="Query"}else if(t===e.QModelLevel.AXES){r="Axis"}else if(t===e.QModelLevel.DIMENSIONS){r="Dimension"}return r},lookupRsSetSign:function(t){if(e.isNull(t)){return null}switch(t){case"I":return e.SetSign.INCLUDING;case"E":return e.SetSign.EXCLUDING}return null},lookupComparisonGroup:function(t){if(e.isNull(t)){return null}switch(t){case"SingleValue":return e.QSetSignComparisonOperatorGroup.SINGLE_VALUE;case"Interval":return e.QSetSignComparisonOperatorGroup.INTERVAL;case"Range":return e.QSetSignComparisonOperatorGroup.RANGE;default:return null}},lookupComparisonGroupInA:function(t){var r=null;if(e.notNull(t)){if(t.isTypeOf(e.QSetSignComparisonOperatorGroup.INTERVAL)){r="Interval"}else if(t.isTypeOf(e.QSetSignComparisonOperatorGroup.RANGE)){r="Range"}else if(t.isTypeOf(e.QSetSignComparisonOperatorGroup.SINGLE_VALUE)){r="SingleValue"}}return r},switchComparisonGroupToIncludeOnly:function(t){if(t===e.QSetSignComparisonOperatorGroup.INTERVAL){return e.QSetSignComparisonOperatorGroup.INTERVAL_INCLUDE_ONLY}else if(t===e.QSetSignComparisonOperatorGroup.RANGE){return e.QSetSignComparisonOperatorGroup.RANGE_INCLUDE_ONLY}else if(t===e.QSetSignComparisonOperatorGroup.SINGLE_VALUE){return e.QSetSignComparisonOperatorGroup.SINGLE_VALUE_INCLUDE_ONLY}else{return t}},lookupComponentTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupComponentTypeIna,t)},lookupComponentType:function(t){return e.QInAConverter.s_lookupComponentType.getByKey(t)},lookupResultStructureElementInA:function(t){var r=null;if(t===e.ResultStructureElement.MEMBERS){r="Members"}else if(t===e.ResultStructureElement.TOTAL){r="Total"}else if(t===e.ResultStructureElement.TOTAL_INCLUDED_MEMBERS){r="TotalIncludedMembers"}else if(t===e.ResultStructureElement.TOTAL_REMAINING_MEMBERS){r="TotalRemainingMembers"}return r},lookupResultStructureElement:function(t){if(e.isNull(t)){return null}else{switch(t){case"Members":return e.ResultStructureElement.MEMBERS;case"Total":return e.ResultStructureElement.TOTAL;case"TotalIncludedMembers":return e.ResultStructureElement.TOTAL_INCLUDED_MEMBERS;case"TotalRemainingMembers":return e.ResultStructureElement.TOTAL_REMAINING_MEMBERS;default:return null}}},lookupTextTransformationInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_textTransformationIna,t)},lookupTextTransformation:function(t){return e.QInAConverter.s_textTransformation.getByKey(t)},lookupWindowFunctionTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupWindowFunctionTypeIna,t)},lookupWindowFunctionType:function(t){return e.QInAConverter.s_lookupWindowFunctionType.getByKey(t)},lookupUnitTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupUnitTypeIna,t)},lookupUnitType:function(t){return e.QInAConverter.s_lookupUnitType.getByKey(t)},lookupDocumentsIdsScopeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupDocumentIdsScopeIna,t)},lookupDocumentsIdsScope:function(t){return e.QInAConverter.s_lookupDocumentIdsScope.getByKey(t)},lookupDocumentsIdsActionInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupDocumentIdsActionIna,t)},lookupDocumentsIdsAction:function(t){return e.QInAConverter.s_lookupDocumentIdsAction.getByKey(t)},lookupDocumentsSupportTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupDocumentSupportTypeIna,t)},lookupDocumentsSupportType:function(t){return e.QInAConverter.s_lookupDocumentSupportType.getByKey(t)},lookupNullsTypeInA:function(t){var r=null;if(t===e.NullsType.FIRST){r="FIRST"}else if(t===e.NullsType.LAST){r="LAST"}return r},lookupNullsType:function(t){if(e.isNull(t)){return null}else{switch(t){case"FIRST":return e.NullsType.FIRST;case"LAST":return e.NullsType.LAST;default:return e.NullsType.NONE}}},lookupFrameStartTypeInA:function(t){var r="UNBOUNDED PRECEDING";if(t===e.FrameStartType.CURRENT_ROW){r="CURRENT ROW"}else if(t===e.FrameStartType.PRECEDING){r="PRECEDING"}return r},lookupFrameStartType:function(t){if(e.isNull(t)){return e.FrameStartType.UNBOUNDED_PRECEDING}else{switch(t){case"CURRENT ROW":return e.FrameStartType.CURRENT_ROW;case"PRECEDING":return e.FrameStartType.PRECEDING;default:return e.FrameStartType.UNBOUNDED_PRECEDING}}},lookupFrameEndTypeInA:function(t){var r="CURRENT ROW";if(t===e.FrameEndType.UNBOUNDED_FOLLOWING){r="UNBOUNDED FOLLOWING"}else if(t===e.FrameEndType.FOLLOWING){r="FOLLOWING"}return r},lookupFrameEndType:function(t){if(e.isNull(t)){return e.FrameEndType.CURRENT_ROW}else{switch(t){case"UNBOUNDED FOLLOWING":return e.FrameEndType.UNBOUNDED_FOLLOWING;case"FOLLOWING":return e.FrameEndType.FOLLOWING;default:return e.FrameEndType.CURRENT_ROW}}},lookupByEncodedValue:function(t){switch(t){case 2:return e.UnitType.UNIT;case 1:return e.UnitType.CURRENCY;case 0:return e.UnitType.NONE;case-1:return e.UnitType.MIXED;case-2:return e.UnitType.UNDEFINED;case-3:return e.UnitType.NULL_VALUE;default:return e.UnitType.CONVERSION_FAILED}},lookupRateType:function(t){return e.QInAConverter.s_lookupRateType.getByKey(t)},lookupRateTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupRateTypeIna,t)},lookupCategory:function(t){return e.QInAConverter.s_lookupCategory.getByKey(t)},lookupCategoryInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupCategoryIna,t)},lookupCtErrorHandlingMode:function(t){return e.QInAConverter.s_lookupCtErrorHandlingMode.getByKey(t)},lookupCtErrorHandlingModeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupCtErrorHandlingModeIna,t)},lookupProcessingType:function(t){return e.QInAConverter.s_lookupProcessingType.getByKey(t)},lookupProcessingTypeIna:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupProcessingTypeIna,t)},lookupReturnedDataSelection:function(t){return e.QInAConverter.s_lookupReturnedDataSelection.getByKey(t)},lookupReturnedDataSelectionInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupReturnedDataSelectionIna,t)},lookupCellChartOrientation:function(t){return e.QInAConverter.s_lookupCellChartOrientation.getByKey(t)},lookupCellChartOrientationInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupCellChartOrientationIna,t)},lookupCellChartType:function(t){return e.QInAConverter.s_lookupCellChartType.getByKey(t)},lookupCellChartTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupCellChartTypeIna,t)},lookupProtocolBindingType:function(t){return e.QInAConverter.s_lookupProtocolBindingType.getByKey(t)},lookupProtocolBindingTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupProtocolBindingTypeIna,t)},lookupSemanticBindingType:function(t){return e.QInAConverter.s_lookupSemanticBindingType.getByKey(t)},lookupSemanticBindingTypeInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupSemanticBindingTypeIna,t)},lookupRunningTotalOperator:function(t){return e.QInAConverter.s_lookupRunningTotalOperator.getByKey(t)},lookupRunningTotalOperatorInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupRunningTotalOperatorIna,t)},lookupCurrencyPresentation:function(t){return e.QInAConverter.s_lookupCurrencyPresentation.getByKey(t)},lookupCurrencyPresentationInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupCurrencyPresentationIna,t)},lookupScaleAndUnitPlacement:function(t){return e.QInAConverter.s_lookupScaleAndUnitPlacement.getByKey(t)},lookupScaleAndUnitPlacementInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupScaleAndUnitPlacementIna,t)},lookupScaleFormat:function(t){return e.QInAConverter.s_lookupScaleFormat.getByKey(t)},lookupScaleFormatInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupScaleFormatIna,t)},lookupSignPresentation:function(t){return e.QInAConverter.s_lookupSignPresentation.getByKey(t)},lookupSignPresentationInA:function(t){return e.QInAConverter.lookupInAString(e.QInAConverter.s_lookupSignPresentationIna,t)}};e.QRriTarget=function(){};e.QRriTarget.prototype=new e.XObject;e.QRriTarget.prototype._ff_c="QRriTarget";e.QRriTarget.create=function(){var t=new e.QRriTarget;t.m_parameters=e.XHashMapOfStringByString.create();t.m_customProperties=e.XHashMapOfStringByString.create();return t};e.QRriTarget.prototype.m_parameters=null;e.QRriTarget.prototype.m_customProperties=null;e.QRriTarget.prototype.releaseObject=function(){this.m_parameters=e.XObjectExt.release(this.m_parameters);this.m_customProperties=e.XObjectExt.release(this.m_customProperties);e.XObject.prototype.releaseObject.call(this)};e.QRriTarget.prototype.getParameters=function(){return this.m_parameters};e.QRriTarget.prototype.getCustomProperties=function(){return this.m_customProperties};e.QRriTarget.prototype.getDataSource=function(){var t=this.m_parameters.getByKey("ReceiverApplicationType");if(!e.XString.isEqual(t,"QURY")){return null}var r=this.m_customProperties.getByKey("QUERY");if(e.XStringUtils.isNullOrEmpty(r)){return null}var a=this.m_customProperties.getByKey("RRI_PARAMETER_NAME");if(e.XStringUtils.isNullOrEmpty(a)){return null}var n=this.m_customProperties.getByKey("RRI_PARAMETER_VALUE");if(e.XStringUtils.isNullOrEmpty(n)){return null}var i=e.QFactory.createDataSourceWithType(e.MetaObjectType.QUERY,r);i.setRriName(a);i.setRriValue(n);return i};e.QRriTarget.prototype.canBeExecutedLocally=function(){if(this.m_parameters.containsKey("LogicalDestination")){var t=this.m_parameters.getByKey("LogicalDestination");if(e.XStringUtils.isNullOrEmpty(t)){return true}return e.XString.isEqual(t,"*")}return false};e.QRriTargetCallbackIdentifier=function(){};e.QRriTargetCallbackIdentifier.prototype=new e.XObject;e.QRriTargetCallbackIdentifier.prototype._ff_c="QRriTargetCallbackIdentifier";e.QRriTargetCallbackIdentifier.create=function(t,r,a,n,i){var o=new e.QRriTargetCallbackIdentifier;o.m_manager=t;o.m_row=r;o.m_column=a;o.m_listener=n;o.m_customIdentifier=i;return o};e.QRriTargetCallbackIdentifier.prototype.m_manager=null;e.QRriTargetCallbackIdentifier.prototype.m_row=0;e.QRriTargetCallbackIdentifier.prototype.m_column=0;e.QRriTargetCallbackIdentifier.prototype.m_listener=null;e.QRriTargetCallbackIdentifier.prototype.m_customIdentifier=null;e.QRriTargetCallbackIdentifier.prototype.getManager=function(){return this.m_manager};e.QRriTargetCallbackIdentifier.prototype.getRow=function(){return this.m_row};e.QRriTargetCallbackIdentifier.prototype.getColumn=function(){return this.m_column};e.QRriTargetCallbackIdentifier.prototype.getListener=function(){return this.m_listener};e.QRriTargetCallbackIdentifier.prototype.getCustomIdentifier=function(){return this.m_customIdentifier};e.QRriTargetManager=function(){};e.QRriTargetManager.prototype=new e.XObject;e.QRriTargetManager.prototype._ff_c="QRriTargetManager";e.QRriTargetManager.create=function(t){var r=new e.QRriTargetManager;r.setupInstance(t);return r};e.QRriTargetManager.prototype.m_resultSetRow=0;e.QRriTargetManager.prototype.m_resultSetColumn=0;e.QRriTargetManager.prototype.m_queryManager=null;e.QRriTargetManager.prototype.m_extResult=null;e.QRriTargetManager.prototype.setupInstance=function(t){this.m_queryManager=e.XWeakReferenceUtil.getWeakRef(t)};e.QRriTargetManager.prototype.releaseObject=function(){this.m_queryManager=e.XObjectExt.release(this.m_queryManager);this.m_extResult=null;e.XObject.prototype.releaseObject.call(this)};e.QRriTargetManager.prototype.setResult=function(e,t){this.m_extResult=e;if(t.getListener()!==null){var r=null;if(e.isValid()){r=e.getData()}t.getListener().onRriTargetResolution(e,r,t.getCustomIdentifier())}};e.QRriTargetManager.prototype.setResultSetContext=function(e,t){this.m_resultSetRow=e;this.m_resultSetColumn=t};e.QRriTargetManager.prototype.getResultSetRow=function(){return this.m_resultSetRow};e.QRriTargetManager.prototype.getResultSetColumn=function(){return this.m_resultSetColumn};e.QRriTargetManager.prototype.processRriTargetResolution=function(t,r,a){var n=e.QRriTargetCallbackIdentifier.create(this,this.m_resultSetRow,this.m_resultSetColumn,r,a);this.m_extResult=null;var i=e.XWeakReferenceUtil.getHardRef(this.m_queryManager);i.processRriTargetSync(t,n);var o=this.m_extResult;this.m_extResult=null;return o};e.ClusteringDbScan=function(){};e.ClusteringDbScan.prototype=new e.AbstractSpatialClustering;e.ClusteringDbScan.prototype._ff_c="ClusteringDbScan";e.ClusteringDbScan.create=function(t){var r=new e.ClusteringDbScan;r.setupDbScan(t);return r};e.ClusteringDbScan.prototype.m_eps=null;e.ClusteringDbScan.prototype.m_minPoints=null;e.ClusteringDbScan.prototype.setupDbScan=function(t){e.AbstractSpatialClustering.prototype.setupSpatialClustering.call(this,t);this.m_eps=e.XDoubleValue.create(0);this.m_minPoints=e.XIntegerValue.create(0);this.m_parameters.put("EPS",this.m_eps);this.m_parameters.put("MinPoints",this.m_minPoints)};e.ClusteringDbScan.prototype.cloneExt=function(t){var r=e.ClusteringDbScan.create(null);this.cloneClustering(r);r.setEps(this.getEps());r.setMinPoints(this.getMinPoints());return r};e.ClusteringDbScan.prototype.releaseObject=function(){this.m_eps=e.XObjectExt.release(this.m_eps);this.m_minPoints=e.XObjectExt.release(this.m_minPoints);e.AbstractSpatialClustering.prototype.releaseObject.call(this)};e.ClusteringDbScan.prototype.getEps=function(){return this.m_eps.getDouble()};e.ClusteringDbScan.prototype.setEps=function(e){this.m_eps.setDouble(e)};e.ClusteringDbScan.prototype.getMinPoints=function(){return this.m_minPoints.getInteger()};e.ClusteringDbScan.prototype.setMinPoints=function(e){this.m_minPoints.setInteger(e)};e.ClusteringDbScan.prototype.getClusterAlgorithm=function(){return e.ClusterAlgorithm.DB_SCAN};e.ClusteringGrid=function(){};e.ClusteringGrid.prototype=new e.AbstractSpatialClustering;e.ClusteringGrid.prototype._ff_c="ClusteringGrid";e.ClusteringGrid.create=function(t){var r=new e.ClusteringGrid;r.setupGrid(t);return r};e.ClusteringGrid.prototype.m_lowerBoundX=null;e.ClusteringGrid.prototype.m_upperBoundX=null;e.ClusteringGrid.prototype.m_lowerBoundY=null;e.ClusteringGrid.prototype.m_upperBoundY=null;e.ClusteringGrid.prototype.m_cellsX=null;e.ClusteringGrid.prototype.m_cellsY=null;e.ClusteringGrid.prototype.setupGrid=function(t){e.AbstractSpatialClustering.prototype.setupSpatialClustering.call(this,t);this.m_cellsX=e.XIntegerValue.create(0);this.m_cellsY=e.XIntegerValue.create(0);this.m_parameters.put("XCells",this.m_cellsX);this.m_parameters.put("YCells",this.m_cellsY)};e.ClusteringGrid.prototype.cloneExt=function(t){var r=e.ClusteringGrid.create(null);this.cloneClustering(r);r.setCellsX(this.getCellsX());r.setCellsY(this.getCellsY());if(e.notNull(this.m_lowerBoundX)){r.setLowerBoundX(this.getLowerBoundX())}if(e.notNull(this.m_upperBoundX)){r.setUpperBoundX(this.getUpperBoundX())}if(e.notNull(this.m_lowerBoundY)){r.setLowerBoundY(this.getLowerBoundY())}if(e.notNull(this.m_upperBoundY)){r.setUpperBoundY(this.getUpperBoundY())}return r};e.ClusteringGrid.prototype.releaseObject=function(){this.m_lowerBoundX=e.XObjectExt.release(this.m_lowerBoundX);this.m_upperBoundX=e.XObjectExt.release(this.m_upperBoundX);this.m_lowerBoundY=e.XObjectExt.release(this.m_lowerBoundY);this.m_upperBoundY=e.XObjectExt.release(this.m_upperBoundY);this.m_cellsX=e.XObjectExt.release(this.m_cellsX);this.m_cellsY=e.XObjectExt.release(this.m_cellsY);e.AbstractSpatialClustering.prototype.releaseObject.call(this)};e.ClusteringGrid.prototype.getLowerBoundX=function(){return e.isNull(this.m_lowerBoundX)?0:this.m_lowerBoundX.getDouble()};e.ClusteringGrid.prototype.setLowerBoundX=function(t){if(e.isNull(this.m_lowerBoundX)){this.m_lowerBoundX=e.XDoubleValue.create(t);this.m_parameters.put("XLowerBound",this.m_lowerBoundX)}else{this.m_lowerBoundX.setDouble(t)}};e.ClusteringGrid.prototype.getLowerBoundY=function(){return e.isNull(this.m_lowerBoundY)?0:this.m_lowerBoundY.getDouble()};e.ClusteringGrid.prototype.setLowerBoundY=function(t){if(e.isNull(this.m_lowerBoundY)){this.m_lowerBoundY=e.XDoubleValue.create(t);this.m_parameters.put("YLowerBound",this.m_lowerBoundY)}else{this.m_lowerBoundY.setDouble(t)}};e.ClusteringGrid.prototype.getUpperBoundX=function(){return e.isNull(this.m_upperBoundX)?0:this.m_upperBoundX.getDouble()};e.ClusteringGrid.prototype.setUpperBoundX=function(t){if(e.isNull(this.m_upperBoundX)){this.m_upperBoundX=e.XDoubleValue.create(t);this.m_parameters.put("XUpperBound",this.m_upperBoundX)}else{this.m_upperBoundX.setDouble(t)}};e.ClusteringGrid.prototype.getUpperBoundY=function(){return e.isNull(this.m_upperBoundY)?0:this.m_upperBoundY.getDouble()};e.ClusteringGrid.prototype.setUpperBoundY=function(t){if(e.isNull(this.m_upperBoundY)){this.m_upperBoundY=e.XDoubleValue.create(t);this.m_parameters.put("YUpperBound",this.m_upperBoundY)}else{this.m_upperBoundY.setDouble(t)}};e.ClusteringGrid.prototype.getCellsX=function(){return this.m_cellsX.getInteger()};e.ClusteringGrid.prototype.setCellsX=function(e){this.m_cellsX.setInteger(e)};e.ClusteringGrid.prototype.getCellsY=function(){return this.m_cellsY.getInteger()};e.ClusteringGrid.prototype.setCellsY=function(e){this.m_cellsY.setInteger(e)};e.ClusteringGrid.prototype.getClusterAlgorithm=function(){return e.ClusterAlgorithm.GRID};e.ClusteringKmeans=function(){};e.ClusteringKmeans.prototype=new e.AbstractSpatialClustering;e.ClusteringKmeans.prototype._ff_c="ClusteringKmeans";e.ClusteringKmeans.create=function(t){var r=new e.ClusteringKmeans;r.setupKMeans(t);return r};e.ClusteringKmeans.prototype.m_clusters=null;e.ClusteringKmeans.prototype.m_maxIterations=null;e.ClusteringKmeans.prototype.m_threshold=null;e.ClusteringKmeans.prototype.m_init=null;e.ClusteringKmeans.prototype.setupKMeans=function(t){this.setupSpatialClustering(t);this.m_clusters=e.XIntegerValue.create(0);this.m_parameters.put("Clusters",this.m_clusters)};e.ClusteringKmeans.prototype.cloneExt=function(t){var r=e.ClusteringKmeans.create(null);this.cloneClustering(r);r.setClusters(this.getClusters());if(e.notNull(this.m_init)){r.setInit(this.getInit())}if(e.notNull(this.m_maxIterations)){r.setMaxIterations(this.getMaxIterations())}if(e.notNull(this.m_threshold)){r.setThreshold(this.getThreshold())}return r};e.ClusteringKmeans.prototype.releaseObject=function(){this.m_init=e.XObjectExt.release(this.m_init);this.m_clusters=e.XObjectExt.release(this.m_clusters);this.m_maxIterations=e.XObjectExt.release(this.m_maxIterations);this.m_threshold=e.XObjectExt.release(this.m_threshold);e.AbstractSpatialClustering.prototype.releaseObject.call(this)};e.ClusteringKmeans.prototype.getClusters=function(){return this.m_clusters.getInteger()};e.ClusteringKmeans.prototype.setClusters=function(e){this.m_clusters.setInteger(e)};e.ClusteringKmeans.prototype.getMaxIterations=function(){return e.isNull(this.m_maxIterations)?0:this.m_maxIterations.getInteger()};e.ClusteringKmeans.prototype.setMaxIterations=function(t){if(e.isNull(this.m_maxIterations)){this.m_maxIterations=e.XIntegerValue.create(t);this.m_parameters.put("MaxIterations",this.m_maxIterations)}else{this.m_maxIterations.setInteger(t)}};e.ClusteringKmeans.prototype.getThreshold=function(){return e.isNull(this.m_threshold)?0:this.m_threshold.getDouble()};e.ClusteringKmeans.prototype.setThreshold=function(t){if(e.isNull(this.m_threshold)){this.m_threshold=e.XDoubleValue.create(t);this.m_parameters.put("Threshold",this.m_threshold)}else{this.m_threshold.setDouble(t)}};e.ClusteringKmeans.prototype.getInit=function(){return e.isNull(this.m_init)?null:this.m_init.getString()};e.ClusteringKmeans.prototype.setInit=function(t){if(e.isNull(this.m_init)){this.m_init=e.XStringValue.create(t);this.m_parameters.put("Init",this.m_init)}else{this.m_init.setString(t)}};e.ClusteringKmeans.prototype.getClusterAlgorithm=function(){return e.ClusterAlgorithm.K_MEANS};e.CommentingFactoryImpl=function(){};e.CommentingFactoryImpl.prototype=new e.XObject;e.CommentingFactoryImpl.prototype._ff_c="CommentingFactoryImpl";e.CommentingFactoryImpl.create=function(){return new e.CommentingFactoryImpl};e.CommentingFactoryImpl.prototype.newCommentingThread=function(t){return e.CommentingThread.create(t)};e.CommentingFactoryImpl.prototype.newCommentingThreadFromStructure=function(t){return e.CommentingThread.createFromStructure(t)};e.CustomHierarchyRepository=function(){};e.CustomHierarchyRepository.prototype=new e.XObject;e.CustomHierarchyRepository.prototype._ff_c="CustomHierarchyRepository";e.CustomHierarchyRepository.create=function(t){var r=new e.CustomHierarchyRepository;r.m_application=e.XWeakReferenceUtil.getWeakRef(t);r.m_customHierarchies=e.XList.create();return r};e.CustomHierarchyRepository.getHierarchyNamesFromExportedJson=function(t){var r=e.XListOfString.create();var a=e.XStringUtils.isNotNullAndNotEmpty(t)?e.JsonParserFactory.createFromSafeString(t).asList():e.PrFactory.createList();var n=e.QInAImportFactory.createForRepository(null,null);for(var i=0;i<a.size();i++){r.add(n.importCustomHierarchyDefinition(a.getStructureAt(i)).getName())}e.XObjectExt.release(n);return r};e.CustomHierarchyRepository.prototype.m_application=null;e.CustomHierarchyRepository.prototype.m_customHierarchies=null;e.CustomHierarchyRepository.prototype.releaseObject=function(){this.m_application=null;this.m_customHierarchies=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_customHierarchies);e.XObject.prototype.releaseObject.call(this)};e.CustomHierarchyRepository.prototype.getCustomHierarchyDefinitions=function(){return this.m_customHierarchies};e.CustomHierarchyRepository.prototype.getCustomHierarchyDefinitionByName=function(t){for(var r=0;r<this.m_customHierarchies.size();r++){var a=this.m_customHierarchies.get(r);if(e.XString.isEqual(a.getName(),t)){return a}}return null};e.CustomHierarchyRepository.prototype.getCustomHierarchyCatalogItems=function(e,t){return this.convertToHierarchyCatalogItems(this.getCustomHierarchyDefinitionsByDimension(e),t)};e.CustomHierarchyRepository.prototype._getCustomHierarchyCatalogItemsByDimensionName=function(e,t,r,a){return this.convertToHierarchyCatalogItems(this.getCustomHierarchyDefinitionsByDimensionName(e,t,r),a)};e.CustomHierarchyRepository.prototype.convertToHierarchyCatalogItems=function(t,r){var a=e.XList.create();for(var n=0;n<t.size();n++){var i=t.get(n);var o=i.getName();var s=i.getDescription();if(e.XStringUtils.isNullOrEmpty(r)||e.XPattern.matches(o,r)||e.XPattern.matches(s,r)){var l=e.HierarchyCatalogItem.createCatalogItem();l.setDimensionName(i.getDimensionName());l.setHierarchyName(o);l.setHierarchyShortText(s);l.setCustomHierarchyDefinition(i);a.add(l)}}return a};e.CustomHierarchyRepository.prototype.getCustomHierarchyDefinitionsByDimension=function(t){if(e.notNull(t)){var r=t.getQueryManager();var a=r.getSystemType().isTypeOf(e.SystemType.ABAP)?null:t.getDataSource().getName();return this.getCustomHierarchyDefinitionsByDimensionName(r.getSystemName(),a,t.getName())}return e.XList.create()};e.CustomHierarchyRepository.prototype.getCustomHierarchyDefinitionsByDimensionName=function(t,r,a){var n=e.XList.create();if(e.notNull(a)){var i=this.m_customHierarchies.size();for(var o=0;o<i;o++){var s=this.m_customHierarchies.get(o);if(e.XString.isEqual(s.getSystemName(),t)&&(e.isNull(r)||e.XString.isEqual(s.getDataSourceName(),r))&&e.XString.isEqual(s.getDimensionName(),a)){n.add(s)}}}return n};e.CustomHierarchyRepository.prototype.exportCustomHierarchyDefinitions=function(){return this.exportCustomHierarchiesInternal(this.m_customHierarchies)};e.CustomHierarchyRepository.prototype.exportCustomHierarchiesInternal=function(t){var r=e.PrFactory.createList();var a=e.QInAExportFactory.createForRepository(e.XWeakReferenceUtil.getHardRef(this.m_application),null);for(var n=0;n<t.size();n++){r.add(a.exportCustomHierarchyDefinition(t.get(n)))}e.XObjectExt.release(a);return r};e.CustomHierarchyRepository.prototype.exportCustomHierarchyDefinitionsToJson=function(){return this.exportCustomHierarchiesToJsonInternal(this.m_customHierarchies)};e.CustomHierarchyRepository.prototype.exportCustomHierarchyDefinitionsByNameToJson=function(t){var r=e.XList.create();var a=e.notNull(t)?t.size():0;for(var n=0;n<a;n++){var i=this.getCustomHierarchyDefinitionByName(t.get(n));if(e.notNull(i)){r.add(i)}}return this.exportCustomHierarchiesToJsonInternal(r)};e.CustomHierarchyRepository.prototype.exportCustomHierarchiesToJsonInternal=function(t){return e.PrUtils.serialize(this.exportCustomHierarchiesInternal(t),true,false,0)};e.CustomHierarchyRepository.prototype.importCustomHierarchyDefinitions=function(t){if(e.notNull(t)&&t.isList()){var r=t.asList();var a=e.QInAImportFactory.createForRepository(e.XWeakReferenceUtil.getHardRef(this.m_application),null);for(var n=0;n<r.size();n++){this.addCustomHierarchy(a.importCustomHierarchyDefinition(r.getStructureAt(n)))}e.XObjectExt.release(a)}};e.CustomHierarchyRepository.prototype.importCustomHierarchyDefinitionsFromJson=function(t){this.importCustomHierarchyDefinitions(e.JsonParserFactory.createFromSafeString(t))};e.CustomHierarchyRepository.prototype.getHierarchyNamesFromExportedJsonExt=function(t){return e.CustomHierarchyRepository.getHierarchyNamesFromExportedJson(t)};e.CustomHierarchyRepository.prototype.addCustomHierarchy=function(t){if(e.notNull(t)&&e.XStringUtils.isNotNullAndNotEmpty(t.getName())){this.m_customHierarchies.removeElement(this.getCustomHierarchyDefinitionByName(t.getName()));this.m_customHierarchies.add(t)}};e.CustomHierarchyRepository.prototype.removeCustomHierarchyDefinition=function(t){if(e.notNull(t)&&e.XStringUtils.isNotNullAndNotEmpty(t.getName())){this.m_customHierarchies.removeElement(this.getCustomHierarchyDefinitionByName(t.getName()))}};e.CustomHierarchyRepository.prototype.getCustomHierarchiesUsedInQueryModel=function(t){var r=e.XLinkedHashMapByString.create();var a=this.getHierarchyNamesUsedInQueryModel(t);var n=a.getIterator();while(n.hasNext()){var i=this.getCustomHierarchyDefinitionByName(n.next());if(e.notNull(i)){r.put(i.getName(),i)}}return r};e.CustomHierarchyRepository.prototype.getHierarchyNamesUsedInQueryModel=function(t){var r=e.XHashSetOfString.create();this.addHierarchyNamesUsedByDimensions(t.getRowsAxis().getDimensions(),r);this.addHierarchyNamesUsedByDimensions(t.getColumnsAxis().getDimensions(),r);if(t.getMeasureDimension()!==null){this.addHierarchyNamesUsedByMembers(t.getMeasureDimension().getExtendedStructureMembers(),r)}r.addAll(t.getFilter().getEffectiveFilter().getUsedHierarchyNames());return r};e.CustomHierarchyRepository.prototype.addHierarchyNamesUsedByDimensions=function(t,r){if(e.notNull(t)){for(var a=0;a<t.size();a++){var n=t.get(a);var i=n.getHierarchyName();if(n.isHierarchyActive()&&e.XStringUtils.isNotNullAndNotEmpty(i)){r.add(i)}}}};e.CustomHierarchyRepository.prototype.addHierarchyNamesUsedByMembers=function(t,r){if(e.notNull(t)){for(var a=0;a<t.size();a++){var n=t.get(a);if(n.getMemberType().isTypeOf(e.MemberType.RESTRICTED_MEASURE)){r.addAll(n.getFilter().getUsedHierarchyNames())}}}};e.OlapEnvQueryManagerHandler=function(){};e.OlapEnvQueryManagerHandler.prototype=new e.XObject;e.OlapEnvQueryManagerHandler.prototype._ff_c="OlapEnvQueryManagerHandler";e.OlapEnvQueryManagerHandler.create=function(t){var r=new e.OlapEnvQueryManagerHandler;r.setupQueryManagerHandler(t);return r};e.OlapEnvQueryManagerHandler.prototype.m_queryManagers=null;e.OlapEnvQueryManagerHandler.prototype.m_olapEnv=null;e.OlapEnvQueryManagerHandler.prototype.m_listener=null;e.OlapEnvQueryManagerHandler.prototype.m_identifier=null;e.OlapEnvQueryManagerHandler.prototype.setupQueryManagerHandler=function(t){this.m_olapEnv=e.XWeakReferenceUtil.getWeakRef(t);this.m_queryManagers=e.XWeakMap.create();this.m_listener=e.XHashMapByString.create();this.m_identifier=e.XHashMapByString.create()};e.OlapEnvQueryManagerHandler.prototype.releaseObject=function(){this.m_olapEnv=e.XObjectExt.release(this.m_olapEnv);this.m_queryManagers=e.XObjectExt.release(this.m_queryManagers);this.m_listener=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_listener);this.m_identifier=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_identifier);e.XObject.prototype.releaseObject.call(this)};e.OlapEnvQueryManagerHandler.prototype.getOlapEnv=function(){return e.XWeakReferenceUtil.getHardRef(this.m_olapEnv)};e.OlapEnvQueryManagerHandler.prototype.processQueryManagerCreationWithDataSourceName=function(t,r,a,n,i){var o=e.QueryServiceConfig.createWithDataSourceName(this.getOlapEnv().getApplication(),n,i);var s=e.XGuid.getGuid();this.m_listener.put(s,r);this.m_identifier.put(s,a);return o.processQueryManagerCreation(t,this,e.XStringValue.create(s))};e.OlapEnvQueryManagerHandler.prototype.createQueryManagerWithMicroCube=function(t,r){var a=e.QueryServiceConfig.createWithMicroCube(this.getOlapEnv().getApplication(),r,t);var n=a.getQueryManagerBasedOnMicroCube();this.m_queryManagers.put(n.getInstanceId(),n);return n};e.OlapEnvQueryManagerHandler.prototype.processQueryManagerCreationWithBlendingDefinition=function(t,r,a,n){var i=e.QueryServiceConfig.createWithBlendingDefinition(this.getOlapEnv().getApplication(),n);var o=e.XGuid.getGuid();this.m_listener.put(o,r);this.m_identifier.put(o,a);return i.processQueryManagerCreation(t,this,e.XStringValue.create(o))};e.OlapEnvQueryManagerHandler.prototype.onQueryManagerCreated=function(t,r,a){var n=a;var i=n.getString();if(t.isValid()){this.m_queryManagers.put(r.getInstanceId(),r)}var o=this.m_listener.remove(i);var s=this.m_identifier.remove(i);if(e.notNull(o)){o.onQueryManagerCreated(t,r,s)}};e.OlapEnvironmentFactoryImpl=function(){};e.OlapEnvironmentFactoryImpl.prototype=new e.OlapEnvironmentFactory;e.OlapEnvironmentFactoryImpl.prototype._ff_c="OlapEnvironmentFactoryImpl";e.OlapEnvironmentFactoryImpl.staticSetupImpl=function(){var t=new e.OlapEnvironmentFactoryImpl;e.OlapEnvironmentFactory.registerFactory(t)};e.OlapEnvironmentFactoryImpl.prototype.newOlapEnvironmentInstance=function(t){return e.OlapEnvironment.create(t)};e.QFactoryImpl=function(){};e.QFactoryImpl.prototype=new e.XObject;e.QFactoryImpl.prototype._ff_c="QFactoryImpl";e.QFactoryImpl.create=function(){return new e.QFactoryImpl};e.QFactoryImpl.prototype.newRuntimeQuery=function(t,r){return e.RuntimeQuery.create(t,r)};e.QFactoryImpl.prototype.newMemberNavigation=function(t){var r=new e.QMemberNavigation;r.setMemberFunction(t);return r};e.QFactoryImpl.prototype.newNavigationParameterWithStringConstant=function(t){var r=e.QMemberNavigationParameter.create();r.setConstantValue(e.XStringValue.create(t));return r};e.QFactoryImpl.prototype.newNavigationParameterWithIntegerConstant=function(t){var r=e.QMemberNavigationParameter.create();r.setConstantValue(e.XIntegerValue.create(t));return r};e.QFactoryImpl.prototype.newNavigationParameterWithLevelLiteral=function(t){var r=e.QMemberNavigationParameter.create();r.setLevelValue(e.XStringValue.create(t));return r};e.QFactoryImpl.prototype.newNavigationParameterWithLevelNumber=function(t){var r=e.QMemberNavigationParameter.create();r.setLevelValue(e.XIntegerValue.create(t));return r};e.QFactoryImpl.prototype.newNavigationParameterWithMemberName=function(t){var r=e.QMemberNavigationParameter.create();r.setMemberValue(t);return r};e.QFactoryImpl.prototype.newNavigationParameterWithShift=function(t,r){var a=e.QMemberNavigationParameter.create();a.setShift(e.XStringValue.create(t),e.XIntegerValue.create(r));return a};e.QFactoryImpl.prototype.newNavigationParameterWithRange=function(t,r,a){var n=e.QMemberNavigationParameter.create();n.setRange(e.XStringValue.create(t),r,a);return n};e.QFactoryImpl.prototype.newNavigationParameterWithNoValuesAboveLevel=function(t){var r=e.QMemberNavigationParameter.create();r.setNoValuesAboveLevel(t);return r};e.QFactoryImpl.prototype.newNavigationParameterWithErrorAboveLevel=function(t){var r=e.QMemberNavigationParameter.create();r.setErrorAboveLevel(t);return r};e.QFactoryImpl.prototype.newDimensionElement=function(t,r,a){return e.QSelectValue._createDimensionElement2(t.getContext(),t,r,a)};e.QFactoryImpl.prototype.newDimensionElementWithContext=function(t,r,a,n){return e.QSelectValue._createDimensionElement2(t,r,a,n)};e.QFactoryImpl.prototype.newDataSource=function(t){return e.QDataSource.createWithContext(t)};e.QFactoryImpl.prototype.newFormulaAttributeExt=function(t){return e.QFormulaItemAttribute._createMember(t,null)};e.QFactoryImpl.prototype.newFormulaConstant=function(t){return e.QFormulaItemConstant._createConstant(t,null)};e.QFactoryImpl.prototype.newFormulaOperationExt=function(t){return e.QFormulaItemOperation._createOperation(t,null)};e.QFactoryImpl.prototype.newFormulaFunction=function(t){return e.QFormulaItemFunction._createFunction(t,null)};e.QFactoryImpl.prototype.newFormulaMember=function(t){return e.QFormulaItemMember._createMember(t,null)};e.QFactoryImpl.prototype.newFilterAnd=function(t){return e.QFilterAnd._create(t,null)};e.QFactoryImpl.prototype.newFilterAndWithoutContext=function(t,r,a,n){return e.QFilterAnd._createWithParams(t,r,a,n)};e.QFactoryImpl.prototype.newFilterCartesianListWithoutContext=function(t,r,a,n,i){var o=e.QFilterCartesianProduct._createWithoutContext();return e.QFilterCartesianList._createWithParams(o,t,r,a,n,i)};e.QFactoryImpl.prototype.newFilterTupleExt=function(t){return e.QFilterTuple._create(t,null)};e.QFactoryImpl.prototype.newFilterOr=function(t){return e.QFilterOr._create(t,null)};e.QFactoryImpl.prototype.newFilterNot=function(t){return e.QFilterNot._create(t,null)};e.QFactoryImpl.prototype.newFilterOperation=function(t,r){return e.QFilterOperation._create(t,r,null)};e.QFactoryImpl.prototype.newCellValueOperand=function(t,r){return e.QFilterCellValueOperand.createWithExpression(t,r,null)};e.QFactoryImpl.prototype.newFilterCartesianProduct=function(t,r){return e.QFilterCartesianProduct._create(t,r)};e.QFactoryImpl.prototype.newFilterCartesianList=function(t,r){return e.QFilterCartesianList._createMd(t,r,null,null)};e.QFactoryImpl.prototype.newFilterCartesianListForDimensionMemberVariable=function(t,r,a,n){return e.QFilterCartesianList._createMd(t,r,a,n)};e.QFactoryImpl.prototype.newFilterConvertedTimeCartesianList=function(t,r){return e.QFilterConvertedTimeCartesianList._create(t,r,null,null)};e.QFactoryImpl.prototype.newFilterCartesianElement=function(t){return e.QFilterOperation._create(t,null,null)};e.QFactoryImpl.prototype.newFilterVirtualDatasource=function(t){return e.QFilterVirtualDatasource._create(t,null)};e.QFactoryImpl.prototype.newDrillPathElementExt=function(t){return e.QDrillPathElement._create(t)};e.QFactoryImpl.prototype.createNewAggregationLevel=function(t){var r=e.RegistrationService.getInstance();var a=r.getFirstReference(e.OlapApiModule.AGGREGATION_LEVEL_FACTORY,null);if(e.isNull(a)){e.noSupport()}var n=a.newInstance(this);return n.createIAggregationLevel(t)};e.QFactoryImpl.prototype.newAggregationLevelExt=function(e,t){return this.createNewAggregationLevel(t)};e.QFactoryImpl.prototype.newDrillManager=function(t){var r=null;if(e.notNull(t)){r=t.getQueryModel()}return e.QDrillManager.create(t,r)};e.QFactoryImpl.prototype.newUniversalDisplayHierarchies=function(t){if(e.notNull(t)){var r=t.getQueryModel();if(r.getModelCapabilities().supportsUniversalDisplayHierarchies()){return e.QUniversalDisplayHierarchies.create(t,r)}}return null};e.QFactoryImpl.prototype.newVizDef=function(t){return e.QVizDef.create(t)};e.QFactoryImpl.prototype.newFieldValueEmpty=function(t,r,a){var n=e.QFieldValue.create(t.getContext(),t,null);n.setValueException(r);n.setFormattedValue(a);return n};e.QFactoryImpl.prototype.newFieldValue=function(t,r,a,n){var i=e.QFieldValue.create(t.getContext(),t,null);i.setValueException(r);i.setValue(a);i.setFormattedValue(n);return i};e.QFactoryImpl.prototype.newField=function(t,r){var a=e.QField._createField(t,null,null);a.setName(r);return a};e.QFactoryImpl.prototype.newDimensionMemberFromTupleElement=function(t){var r;var a=null;var n=t.getDimensionAtCurrentPositionFromQueryModel();if(e.isNull(n)){var i=t.getRsDimensionAtCurrentPosition();if(t.getRsDimensionAtCurrentPosition().getDimensionType().isTypeOf(e.DimensionType.ABSTRACT_STRUCTURE)){r=e.QStructureMember.createStructureMember(i.getContext(),null,e.MemberType.MEASURE)}else{r=e.QDimensionMember.createDimensionMember(i.getContext(),null)}}else{if(n.isMeasureStructure()){r=e.QStructureMember.createStructureMember(n.getContext(),n,e.MemberType.MEASURE)}else{r=e.QDimensionMember.createDimensionMember(n.getContext(),n)}a=n.getTextField()}r.setType(t.getDimensionMemberType());r.setName(t.getDimensionMemberName());r.setDimensionMemberNameValueException(t.getDimensionMemberNameValueException());var o=t.getFieldValueList();var s=o.size();for(var l=0;l<s;l++){var u=o.get(l);var p=u.createFieldValueFromCurrentPosition();p.setDimensionMember(r);r.addFieldValue(p)}if(e.notNull(a)&&e.notNull(n)){var c=r.getFieldValue(a);if(e.notNull(c)){var g=c.getFormattedValue();var y=n.getDimensionType();if(y===e.DimensionType.ACCOUNT||y===e.DimensionType.MEASURE_STRUCTURE||y===e.DimensionType.SECONDARY_STRUCTURE){var m=n.getStructureMember(r.getName());if(e.notNull(m)){if(y===e.DimensionType.MEASURE_STRUCTURE&&(e.XString.isEqual(r.getName(),e.CurrencyConstants.DEFAULT_CURRENCY)||e.XString.isEqual(r.getName(),e.CurrencyConstants.LOCAL_CURRENCY))){g=m.getText()}var d=m.getOverrideText();if(e.notNull(d)){r.setOverrideText(d)}}}r.setText(g)}}return r};e.QFactoryImpl.prototype.newCustomHierarchyDefinition=function(t,r){return e.QCustomHierarchyDefinition.create(t,r)};e.QFactoryImpl.prototype.newFormulaCalculatedDimension=function(t,r){return e.QFormulaCalculatedDimension._createFormulaCalculatedDimension(t,r)};e.QFactoryImpl.prototype.newFilterMeasureBased=function(t,r){return e.QFilterMeasureBased.createFilterMeasureBased(t,r)};e.QFactoryImpl.prototype.newFilterAcrossModels=function(t,r){return e.QFilterAcrossModels.createFilterAcrossModels(t,r)};e.QFactoryImpl.prototype.newFilterAcrossModelsCalculatedDimension=function(t,r){return e.QFilterAcrossModelsCalculatedDimension.createFilterAcrossModelsCalculatedDimension(t,r)};e.QFactoryImpl.prototype.newFilterDynamicTimeRegularRange=function(t,r){return e.QFilterDynamicTimeRegularRange.createFilterDynamicTimeRegularRange(t,r)};e.QFactoryImpl.prototype.newFilterDynamicTimeToDateRange=function(t,r){return e.QFilterDynamicTimeToDateRange.createFilterDynamicTimeToDateRange(t,r)};e.QFactoryImpl.prototype.newFilterFixedTimeRange=function(t,r){return e.QFilterFixedTimeRange.createFilterFixedTimeRange(t,r)};e.QFactoryImpl.prototype.newClustering=function(t,r){if(t===e.ClusterAlgorithm.GRID){return e.ClusteringGrid.create(r)}if(t===e.ClusterAlgorithm.DB_SCAN){return e.ClusteringDbScan.create(r)}if(t===e.ClusterAlgorithm.K_MEANS){return e.ClusteringKmeans.create(r)}return null};e.QFactoryImpl.prototype.newMeasureBasedFilterCalculatedDimension=function(t,r){return e.QMeasureBasedFilterCalculatedDimension._createMeasureBasedFilterCalculatedDimension(t,r)};e.QFactoryImpl.prototype.newDimensionFromType=function(t,r,a){if(e.isNull(r)){return e.QDimension._create(t,a)}var n=r.getName();var i=r.getDimensionType();var o;if(i===e.DimensionType.CALCULATED_DIMENSION){o=e.QCalculatedDimension._createCalculatedDimension(t,a,n)}else if(i===e.DimensionType.FORMULA_CALCULATED_DIMENSION){o=this.newFormulaCalculatedDimension(t,n);o.setParent(a)}else if(i===e.DimensionType.MEASURE_BASED_FILTER_CALCULATED_DIMENSION){o=this.newMeasureBasedFilterCalculatedDimension(t,n);o.setParent(a)}else if(i===e.DimensionType.FILTER_ACROSS_MODELS_CALCULATED_DIMENSION){var s=r.getQueryModel().getContext();o=this.newFilterAcrossModelsCalculatedDimension(s,n);o.setParent(a)}else{o=e.QDimension._create(t,a)}return o};e.QFactoryImpl.prototype.newBlendingDefinition=function(){return e.BlendingDefinition.create()};e.QFactoryImpl.prototype.newDimensionLinkKey=function(t,r,a,n){return e.QDimensionLinkKey.createLinkKey(t,r,a,n)};e.QFactoryImpl.prototype.newDimensionLinkKey2=function(t,r,a,n,i){return e.QDimensionLinkKey.createLinkKeyExt(t,r,a,n,i)};e.QFactoryImpl.prototype.newDimensionLinkPart=function(t,r,a,n){return e.QDimensionLinkPart.createDimensionLinkPart(t,r,a,n)};e.QFactoryImpl.prototype.newAttributeContainer=function(t,r){return e.QAttributeContainer.create(t,r)};e.QFactoryImpl.prototype.newFieldContainer=function(t,r){return e.QFieldContainer.create(t,r)};e.QFactoryImpl.prototype.newHierarchyManager=function(t,r){return e.QHierarchyManager.create(t,r)};e.QFactoryImpl.prototype.newKeyRefStorage=function(t,r){return e.QKeyRefStorage.create(r)};e.QFactoryImpl.prototype.newKeyRefStoreContext=function(t,r){return e.QKeyRefStoreContext.create(t,r,null)};e.QFactoryImpl.prototype.newKeyRefStoreContextWithCapabilities=function(t,r,a){return e.QKeyRefStoreContext.create(t,r,a)};e.QFactoryImpl.prototype.newKeyRef=function(t,r,a){return e.QKeyRef.create(t,r,a)};e.QFactoryImpl.prototype.newFormulaMeasure=function(t,r,a,n,i){var o=e.QFormulaMeasure._createFormulaMeasure(t,r);o.setName(a);o.setText(n);if(e.notNull(r)&&r.getPlaceholderIds().size()>0){o.setAliasName(i)}return o};e.QFactoryImpl.prototype.newRestrictedMeasure=function(t,r,a,n,i){var o=e.QRestrictedMeasure._createRestrictedMeasure(t,r);o.setName(a);o.setText(n);if(e.notNull(r)&&r.getPlaceholderIds().size()>0){o.setAliasName(i)}return o};e.QFactoryImpl.prototype.newVarianceMeasure=function(t,r,a,n,i){var o=e.QVarianceMeasure._createVarianceMeasure(t,r);o.setName(a);o.setText(n);if(e.notNull(r)&&r.getPlaceholderIds().size()>0){o.setAliasName(i)}return o};e.QFactoryImpl.prototype.newExceptionAggregationMeasure=function(t,r,a,n,i){var o=e.QExceptionAggregationMeasure._createExceptionAggregationMeasure(t,r);o.setName(a);o.setText(n);if(e.notNull(r)&&r.getPlaceholderIds().size()>0){o.setAliasName(i)}return o};e.QFactoryImpl.prototype.newResultStructureController=function(t,r,a){return e.QResultStructureController._create(t,r,a)};e.QFactoryImpl.prototype.newFilterExpression=function(t,r){return e.QFilterExpression.create(t,r)};e.QFactoryImpl.prototype.newVariableValue=function(t){return e.QVariableValue.create(t)};e.QFactoryImpl.prototype.newVariable=function(t,r,a){var n=a.getVariableType();var i=r;var o=a.getName();var s=a.getText();if(n===e.VariableType.DIMENSION_MEMBER_VARIABLE){return e.QDimensionMemberVariable.createDimensionMemberVariable(t,i,o,s)}else if(n===e.VariableType.HIERARCHY_NAME_VARIABLE){return e.QHierarchyNameVariable.createDimensionHierarchyVariable(t,i,o,s)}else if(n===e.VariableType.HIERARCHY_NODE_VARIABLE){return e.QHierarchyNodeVariable.createHierarchyNodeVariable(t,i,o,s)}else if(n===e.VariableType.SIMPLE_TYPE_VARIABLE){return e.QSimpleTypeVariable.createSimpleTypeVariable(t,i,a.getValueType(),o,s,a.supportsMultipleValues())}else if(n===e.VariableType.TEXT_VARIABLE){return e.QSimpleTypeVariable.createTextVariable(t,i,o,s,a.supportsMultipleValues())}else if(n===e.VariableType.FORMULA_VARIABLE){return e.QSimpleTypeVariable.createFormulaVariable(t,i,o,s,a.supportsMultipleValues())}else if(n===e.VariableType.OPTION_LIST_VARIABLE){return e.QSimpleTypeVariable.createOptionListVariable(t,i,o,s,a.supportsMultipleValues())}else if(n===e.VariableType.HIERARCHY_VARIABLE){return e.QSimpleTypeVariable.createHierarchyVariable(t,i,o,s,a.supportsMultipleValues())}else{throw e.XException.createRuntimeException(e.XStringUtils.concatenate3("Unexpected variable type '",n.getName(),"'!"))}};e.QFactoryImpl.prototype.newXVariable=function(t,r,a,n){var i;if(t.isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){i=e.QDimensionMemberVariable.createDimensionMemberVariable(null,null,a,a)}else if(t.isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){var o=e.XCollectionUtils.hasElements(n)?n.get(0).getValueType():e.XValueType.STRING;i=e.QSimpleTypeVariable.createSimpleTypeVariable(null,null,o,a,a,true)}else{throw e.XException.createRuntimeException(e.XStringUtils.concatenate3("Unexpected variable type '",t.getName(),"'!"))}if(i.getVariableType().isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){var s=i;s.setValues(n)}else if(i.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){var l=i;var u=e.QFactory.createFilterCartesianListForDimensionMemberVariable(null,null,null,null);l.setMemberFilter(u);e.XObjectExt.assertFalse(e.XStringUtils.isNullOrEmpty(r));u.setFieldName(r);e.XStream.of(n).forEach(function(e){var t=u.addNewCartesianElement();t.getLow().setValue(e);t.setFieldName(r)}.bind(this))}return i};e.QFactoryImpl.prototype.newCanonicalDate=function(t,r,a){return e.QCanonicalDate.create(t,r,null,a)};e.QFactoryImpl.prototype.newCanonicalDateWithTimestamp=function(t,r,a){return e.QCanonicalDate.create(t,0,r,a)};e.QFactoryImpl.prototype.newCanonicalDateContext=function(t,r,a){return e.QCanonicalDateContext.create(t,r,a)};e.QFactoryImpl.prototype.newTimeOperation=function(t,r,a,n,i,o){var s=e.QTimeOperation.create(t,r);s.setDimensionName(a);s.setFunction(n);s.setGranularity(i);s.setPeriod(o);return s};e.QFactoryImpl.prototype.newPersistedPlaceholderTagFilter=function(t,r,a,n){return e.QPersistedPlaceholderTagFilter.create(t,r,a,n)};e.QFactoryImpl.prototype.newPersistedPlaceholderTagFilterFromPlaceholderString=function(t){return e.QPersistedPlaceholderTagFilter.createFromPlaceholderString(t)};e.QFactoryImpl.prototype.newPersistedPlaceholderTagCalculation=function(t,r,a){return e.QPersistedPlaceholderTagSelection.create(t,r,a)};e.QFactoryImpl.prototype.newPersistedPlaceholderTagCalculationFromPlaceholderString=function(t){return e.QPersistedPlaceholderTagSelection.createFromPlaceholderString(t)};e.QFactoryImpl.prototype.newTimeSelectionPlaceholderFromPlaceholderString=function(t){return e.QTimeSelectionPlaceholder.createTimeSelectionPlaceholderFromPlaceholderString(t)};e.QFactoryImpl.prototype.newTimeSelectionPlaceholderToDateFromPlaceholderString=function(t){return e.QTimeSelectionPlaceholderToDate.createTimeSelectionPlaceholderToDateFromPlaceholderString(t)};e.QFactoryImpl.prototype.newTimeConvertedFAMSelectionPlaceholderFromPlaceholderString=function(t){return e.QTimeConvertedFAMSelectionPlaceholder.createTimeConvertedFAMSelectionPlaceholderFromPlaceholderString(t)};e.QFactoryImpl.prototype.newTimeConvertedFAMSelectionPlaceholder=function(t,r,a,n,i,o,s){return e.QTimeConvertedFAMSelectionPlaceholder.createTimeConvertedFAMSelectionPlaceholder(t,r,a,n,i,o,s)};e.QFactoryImpl.prototype.newPersistedPlaceholderTagSelection=function(t,r,a){return e.QPersistedPlaceholderTagSelection.create(t,r,a)};e.QFactoryImpl.prototype.newPersistedPlaceholderTagSelectionFromPlaceholderString=function(t){return e.QPersistedPlaceholderTagSelection.createFromPlaceholderString(t)};e.QFactoryImpl.prototype.newReflectionCommand=function(t,r,a,n){return e.QGenericCmd.createGenericCmd(t,r,a,n)};e.QFactoryImpl.prototype.newFilterValueBag=function(t,r,a){return e.QFilterValueBag._create(t,r,a)};e.QFactoryImpl.prototype.newFormulaException=function(t,r,a){var n=null;if(e.notNull(t)){n=t.getQueryModel()}return e.QFormulaException.createFormulaException(t,n,r,a)};e.QFactoryImpl.prototype.newRankInfo=function(t,r,a){return e.QRankInfo.create(t,r,a)};e.QFactoryImpl.prototype.newRankSettings=function(){return e.QRankSettings.create()};e.QFactoryImpl.prototype.newBlendableDimensionSort=function(t,r,a,n,i){return e.BlendableDimensionSort.createBlendableDimensionSortWithLanguage(e.QSortUtils.getBlendableDimensionSortMapKey(t,r),t,r,a,n,i)};e.QFactoryImpl.prototype.newBlendableCustomSort=function(t,r,a,n,i,o,s,l){return e.BlendableCustomSort.createBlendableCustomSort(t,r,a,n,i,o,s,l)};e.QFactoryImpl.prototype.newQueryServiceConfig=function(t){return e.QueryServiceConfigImpl._create(t)};e.QFactoryImpl.prototype.newCapabilitiesDecorator=function(t){return e.QCapabilitiesDecorator.create(t)};e.QFactoryImpl.prototype.newValueHelpVarDimMember=function(t,r){return e.QValueHelpVarDimMember.create(t,r)};e.QFactoryImpl.prototype.newFilterCapability=function(t,r,a,n){if(n===e.OlapComponentType.FILTER_CAPABILITY){return e.QFilterCapability._createFilterCapability(t,r,a)}return e.QFilterCapabilityGroup._createFilterCapabilityGroup(t,r,a)};e.QFactoryImpl.prototype.newFilterCapabilitiesForVariable=function(t,r){return e.QFilterCapabilityList.createFilterCapabilitiesForVariable(t,r)};e.QFactoryImpl.prototype.newFilterForQueryModel=function(t){return e.QFilter.createWithModelComponent(t,t)};e.QFactoryImpl.prototype.newFieldFromType=function(t,r,a,n){var i=r.getDimensionType();if(i===e.DimensionType.CALCULATED_DIMENSION){return e.QFieldCalcDim._createFieldCalcDim(t,r,a,n)}else if(i===e.DimensionType.FORMULA_CALCULATED_DIMENSION||i===e.DimensionType.MEASURE_BASED_FILTER_CALCULATED_DIMENSION||i===e.DimensionType.FILTER_ACROSS_MODELS_CALCULATED_DIMENSION){return e.QFieldFormulaCalc._createFormulaCalcField(t,r,a,n)}return e.QField._createField(t,r,a)};e.QFactoryImpl.prototype.newWindowFunction=function(t){return e.QWindowFunction._createWindowFunction(t)};e.QFactoryImpl.prototype.newReadModeManager=function(t){return e.QDimensionReadModeManager._create(t)};e.QFactoryImpl.prototype.newValueHelpListenerDecorator=function(t){return e.ValueHelpListenerDecorator.create(t)};e.QFactoryImpl.prototype.newModellingCurrencyTranslationManager=function(t,r,a,n){return e.QCurrencyTranslationManager.createForModelling(t,r,a,n)};e.QFactoryImpl.prototype.newDimensionSelector=function(t){return e.QDimensionSelector.create(t)};e.QFactoryImpl.prototype.newMeasureHelpMetadataSelector=function(){return e.QMeasureHelpMetadataSelector.createMeasureHelpMetadataSelector()};e.QFactoryImpl.prototype.newFormulaIteration=function(t){return e.QFormulaIteration._createFormulaIteration(t,null)};e.QFactoryImpl.prototype.newFormulaIterationDimension=function(t){return e.QFormulaIterationDimension._createFormulaIterationDimension(t,null)};e.QFactoryImpl.prototype.newMeasureHelpNode=function(t,r){return e.QMeasureHelpNode.createMeasureHelpNode(t,r)};e.QFactoryImpl.prototype.newLovProcess=function(t,r){return e.LovProcess.create(t,r)};e.QFactoryImpl.prototype.newRequestSettings=function(t,r,a){return e.QRequestSettings.create(t,r,a)};e.QFactoryImpl.prototype.newValueHelpNode=function(t,r,a,n,i){return e.QValueHelpNode.create(t,r,a,n,i)};e.QFactoryImpl.prototype.newHierarchyCatalogResult=function(){return e.HierarchyCatalogResult.create()};e.QFactoryImpl.prototype.newHierarchyCatalogManager=function(t,r,a){return e.HierarchyCatalogManager.create(t,r,a)};e.QFactoryImpl.prototype.newCacheKeyWithDataSource=function(t,r,a,n,i,o,s,l){var u=e.QDataSource.create();u.setFullQualifiedName(a);var p=u.getCacheKeyName();var c=e.QCacheKey.createExt(t,r,p,n,i,o,s,l);var g=t.getOlapEnv();var y=g.getCubeContainer(c);if(y.getDataSource()===null){y.setDataSource(u)}return c};e.QFactoryImpl.prototype.newCacheKey=function(t,r,a,n,i,o,s,l){return e.QCacheKey.createExt(t,r,a,n,i,o,s,l)};e.QFactoryImpl.prototype.newCacheKeyForField=function(t,r,a){return e.QCacheKey.createByContextForField(t,r,a)};e.QFactoryImpl.prototype.newCacheKeyByContext=function(t){return e.QCacheKey.createByContext(t)};e.QFactoryImpl.prototype.newVariableVariant=function(t,r,a,n){return e.QVariableVariant.createVariantWithScope(t,r,a,n)};e.QFactoryImpl.prototype.newCustomVariableConfig=function(t){return e.QCustomVariableConfig.createConfig(t)};e.QFactoryImpl.prototype.newFormulaInverseFormula=function(t){return e.QFormulaInverseFormula.createInverseFormula(t,null,null,null,null)};e.QFactoryImpl.prototype.newRsDefStructureMemberProperties=function(t,r,a,n,i){return e.RsDefStructureMemberProperties.create(t,r,a,n,i)};e.QFactoryImpl.prototype.newCellContext=function(t,r){var a=null;if(e.notNull(t)&&t.getQueryModel()!==null){a=t.getQueryModel().getCellContextManager()}return e.QCellContext._create(t,r,a)};e.QFactoryImpl.prototype.newBlendableMeasureSort=function(t){return e.BlendableMeasureMemberSort.createBlendableMeasureSort(t)};e.QFactoryImpl.prototype.newDocumentIdManager=function(t){return e.RsDocumentIdManager.create(t)};e.QFactoryImpl.prototype.newCellIndexInfo=function(){return e.RsCellIndexInfo.create()};e.RuntimeQuery=function(){};e.RuntimeQuery.prototype=new e.XObject;e.RuntimeQuery.prototype._ff_c="RuntimeQuery";e.RuntimeQuery.create=function(t,r){var a=null;if(e.notNull(r)){a=r.getSession()}return e.RuntimeQuery.createExt(t,r,a)};e.RuntimeQuery.createExt=function(t,r,a){var n=null;if(e.notNull(t)&&t.hasElements()){var i=t.getStructureAt(t.size()-1);n=e.RuntimeQuery.createQuery(a,e.RuntimeQuery._getSystemName(r,i),null,i,e.RuntimeQuery._getLanguage(r));n.setupPreQueries(a,t,r,i)}return n};e.RuntimeQuery._getLanguage=function(t){if(e.isNull(t)){return null}return t.getSystemDescription().getLanguage()};e.RuntimeQuery._getSystemName=function(t,r){var a=e.InARuntimeUtils.getSystemNameFromRequest(r);if(e.isNull(a)&&e.notNull(t)){a=t.getSystemName()}return a};e.RuntimeQuery.createQuery=function(t,r,a,n,i){var o=new e.RuntimeQuery;o.m_preQueries=e.XList.create();o.m_mainQuery=a;e.InARuntimeUtils.setLanguage(n,i);o.m_queryforLocal=n;o.m_systemName=r;o.m_session=t;return o};e.RuntimeQuery.prototype.m_session=null;e.RuntimeQuery.prototype.m_mainQuery=null;e.RuntimeQuery.prototype.m_systemName=null;e.RuntimeQuery.prototype.m_persistencyIdentifier=null;e.RuntimeQuery.prototype.m_preQueries=null;e.RuntimeQuery.prototype.m_queryForRemote=null;e.RuntimeQuery.prototype.m_queryforLocal=null;e.RuntimeQuery.prototype.m_isProcessed=false;e.RuntimeQuery.prototype.m_validMapping=false;e.RuntimeQuery.prototype.generateRemoteQuery=function(t){var r=e.MessageManagerSimple.createMessageManager();if(!this.isRemotePreQuery()){r.addInfo(e.ErrorCodes.OTHER_ERROR,"Query is local, nothing to do");return e.ExtResult.create(null,r)}var a=t.getApplication().getSystemLandscape();var n=a.getSystemDescription(this.m_systemName);if(e.isNull(n)){r.addError(e.ErrorCodes.INVALID_SYSTEM,e.XStringUtils.concatenate3("No matching system for name '",this.m_systemName,"' is available"));return e.ExtResult.create(null,r)}var i=a.getSystemDescription(this.m_mainQuery.getSystemName());var o=i.getSystemMapping(this.m_systemName);if(e.isNull(o)||!i.isSystemMappingValid(n)){this.generateBrowserBased(r)}else{this.generateSdi(i,o)}this.m_isProcessed=true;return e.ExtResult.create(this.m_queryForRemote,r)};e.RuntimeQuery.prototype.generateBrowserBased=function(t){t.addInfo(e.ErrorCodes.OTHER_ERROR,e.XStringUtils.concatenate5("No valid system mapping is defined for '",this.m_systemName,"' and '",this.m_mainQuery.getSystemName(),"'. Defaulting to browser-based blending"));var r=e.InARuntimeUtils.getDataSourceFromRequest(this.m_queryforLocal);r.remove("System");this.m_queryForRemote=e.PrUtils.createDeepCopy(this.m_queryforLocal);var a=e.InARuntimeUtils.getRequestContext(this.m_queryForRemote);e.InARuntimeUtils.setPersistencyForRemote(a,null);var n=e.InARuntimeUtils.getHashableRequest(a);this.m_persistencyIdentifier=e.XSha1.createSHA1(n);r.putString("Type","SerializedData")};e.RuntimeQuery.prototype.generateSdi=function(t,r){this.m_validMapping=true;var a=e.InARuntimeUtils.getDataSourceFromRequest(this.m_queryforLocal);a.remove("System");this.m_queryForRemote=e.PrUtils.createDeepCopy(this.m_queryforLocal);var n=e.InARuntimeUtils.getRequestContext(this.m_queryForRemote);e.InARuntimeUtils.setPersistencyForRemote(n,r);var i=e.InARuntimeUtils.getHashableRequest(n);this.m_persistencyIdentifier=e.BlendingSource.createPersistenceIdentifierByRequest2(this.m_session,i,t,null);e.InARuntimeUtils.setPersistencyIdentifier(n,this.m_persistencyIdentifier);e.InARuntimeUtils.setPersistencyForLocal(a,this.m_persistencyIdentifier,r)};e.RuntimeQuery.prototype.setupPreQueries=function(t,r,a,n){var i=e.InARuntimeUtils.getDataSourceFromRequest(n);if(e.notNull(i)){var o=i.getListByKey("Sources");if(e.notNull(o)){var s=o.size();for(var l=0;l<s;l++){var u=o.getStructureAt(l);var p=u.getStructureByKey("DefiningContext");this.setupPreQueries(t,r,a,p)}}var c=e.InARuntimeUtils.getDimensionsListFromRequest(n);var g=c.size();var y=e.XHashSetOfString.create();for(var m=0;m<g;m++){var d=c.getStructureAt(m);var C=e.InARuntimeUtils.getObjectNameFromDimensionDataSource(d);if(e.isNull(C)||y.contains(C)){continue}y.add(C);var A=this.getPreQueryRequest(r,C);if(e.isNull(A)){continue}var S=e.RuntimeQuery.createQuery(t,e.RuntimeQuery._getSystemName(a,A),this,A,e.RuntimeQuery._getLanguage(a));S.setupPreQueries(t,r,a,A);this.m_preQueries.add(S)}}};e.RuntimeQuery.prototype.getPreQueryRequest=function(t,r){var a=t.size()-1;for(var n=0;n<a;n++){var i=t.getStructureAt(n);var o=e.InARuntimeUtils.getRequestContext(i);var s=e.InARuntimeUtils.getQueryNameFromContext(o);if(e.XString.isEqual(s,r)){return i}}return null};e.RuntimeQuery.prototype.releaseObject=function(){this.m_systemName=null;this.m_persistencyIdentifier=null;e.XObjectExt.release(this.m_preQueries);this.m_queryforLocal=null;this.m_queryForRemote=null;this.m_mainQuery=null;e.XObject.prototype.releaseObject.call(this)};e.RuntimeQuery.prototype.getPreQueries=function(){return this.m_preQueries};e.RuntimeQuery.prototype.getQueryForLocal=function(){return this.m_queryforLocal};e.RuntimeQuery.prototype.getMainQuery=function(){return this.m_mainQuery};e.RuntimeQuery.prototype.isRemotePreQuery=function(){if(e.isNull(this.m_mainQuery)){return false}return!e.XString.isEqual(this.m_systemName,this.m_mainQuery.getSystemName())};e.RuntimeQuery.prototype.getSystemName=function(){return this.m_systemName};e.RuntimeQuery.prototype.isProcessed=function(){return this.m_isProcessed};e.RuntimeQuery.prototype.setBrowserBasedPersistency=function(t,r){var a=e.InARuntimeUtils.getDataSourceFromRequest(this.m_queryforLocal);if(e.notNull(a)){a.remove("SchemaName");a.remove("PackageName");a.remove("ObjectName");var n=a.putNewStructure("SerializedData");n.putString("Cube",t);n.putString("View",r)}};e.RuntimeQuery.prototype.isSdiRemote=function(){return this.isRemotePreQuery()&&this.m_validMapping};e.RuntimeQuery.prototype.getPersistencyIdentifier=function(){return this.m_persistencyIdentifier};e.ModelDimensionLinksManagerHelper=function(){};e.ModelDimensionLinksManagerHelper.prototype=new e.XObjectExt;e.ModelDimensionLinksManagerHelper.prototype._ff_c="ModelDimensionLinksManagerHelper";e.ModelDimensionLinksManagerHelper.findModelDimensionLinksByDatasetIds=function(t,r,a){var n=null;if(e.notNull(a)){var i=a.getIterator();while(i.hasNext()){var o=i.next();if(e.XString.isEqual(t,o.getFirstDatasetId())&&e.XString.isEqual(r,o.getSecondDatasetId())||e.XString.isEqual(r,o.getFirstDatasetId())&&e.XString.isEqual(t,o.getSecondDatasetId())){n=o;break}}}return n};e.ModCounterState=function(){};e.ModCounterState.prototype=new e.XObjectExt;e.ModCounterState.prototype._ff_c="ModCounterState";e.ModCounterState.create=function(t){var r=new e.ModCounterState;r.m_queryManager=t;return r};e.ModCounterState.prototype.m_queryManager=null;e.ModCounterState.prototype.getDimensionInDrillModCounters=function(){var t=e.XList.create();var r=this.getLeafQueryManagers().getIterator();while(r.hasNext()){var a=r.next();var n=e.XList.create();n.addAll(a.getQueryModel().getAxis(e.AxisType.ROWS));n.addAll(a.getQueryModel().getAxis(e.AxisType.COLUMNS));e.XCollectionUtils.forEach(n,function(r){t.add(e.XPair.create(r,e.XIntegerValue.create(r.getModCounter())))}.bind(this))}return t};e.ModCounterState.prototype.getVarianceModCounters=function(){var t=e.XList.create();var r=this.getLeafQueryManagers().getIterator();while(r.hasNext()){var a=r.next();if(a.getQueryModel().getPrimaryCalculationDimension()!==null){var n=a.getQueryModel().getPrimaryCalculationDimension().getLoadedStructureMembers().getValuesAsReadOnlyList();for(var i=0;i<n.size();i++){var o=n.get(i);if(o.getMemberType()===e.MemberType.VARIANCE){t.add(e.XPair.create(o,e.XIntegerValue.create(o.getModCounter())))}}}}return t};e.ModCounterState.prototype.getThresholdModCounters=function(){var t=e.XList.create();var r=this.getLeafQueryManagers().getIterator();while(r.hasNext()){var a=r.next();var n=a.getQueryModel().getFormulaExceptionManager().getValuesAsReadOnlyList();for(var i=0;i<n.size();i++){var o=n.get(i);t.add(e.XPair.create(o,e.XIntegerValue.create(o.getModCounter())))}}return t};e.ModCounterState.prototype.getLeafQueryManagers=function(){var t=e.XList.create();if(this.m_queryManager.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){t.addAll(this.m_queryManager.getAllQueryManagers())}else{t.add(this.m_queryManager)}return t};e.ModCounterState.prototype.getQueryModelModCounter=function(){var t=0;if(this.m_queryManager.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){t=this.m_queryManager.getModCounter()}else{t=this.m_queryManager.getQueryModel().getModCounter()}return t};e.ModCounterState.prototype.getFilterModCounter=function(){var e=this.getLeafQueryManagers().getIterator();var t=0;while(e.hasNext()){var r=e.next();t=t+r.getQueryModel().getFilter().getModCounter()}return t};e.ModCounterState.prototype.getDrillManagerModCounter=function(){var e=this.getLeafQueryManagers().getIterator();var t=0;while(e.hasNext()){var r=e.next();t=t+r.getDrillManager().getModCounter()}return t};e.ModCounterState.prototype.getSortingModCounter=function(){var t=0;if(this.m_queryManager.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){var r=this.m_queryManager;t=r.getSortingContainer().getModCounter()}else{t=this.m_queryManager.getQueryModel().getSortingManager().getModCounter()}return t};e.ModCounterState.prototype.getRankingsModCounter=function(){var t=0;if(this.m_queryManager.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){t=this.m_queryManager.getRankSettings().getModCounter()}else if(this.m_queryManager.getQueryModel().getConditionManager()!==null){t=this.m_queryManager.getQueryModel().getConditionManager().getModCounter()}return t};e.ModCounterState.prototype.getAxisModCounter=function(e){var t=this.getLeafQueryManagers().getIterator();var r=0;while(t.hasNext()){var a=t.next();r=r+a.getQueryModel().getAxis(e).getModCounter()}return r};e.ModCounterState.prototype.getPrimaryMeasureFilterModCounter=function(){var e=this.getLeafQueryManagers().getIterator();var t=0;while(e.hasNext()){var r=e.next();if(r.getQueryModel().getPrimaryCalculationDimension()!==null&&r.getQueryModel().getPrimaryCalculationDimension().getFilter()!==null){t=t+r.getQueryModel().getPrimaryCalculationDimension().getFilter().getModCounter()}}return t};e.ModCounterState.prototype.getPrimaryCalculationDimensionModCounter=function(){var t=this.getLeafQueryManagers().getIterator();var r=0;while(t.hasNext()){var a=t.next();if(a.getQueryModel().getPrimaryCalculationDimension()!==null){r=r+a.getQueryModel().getPrimaryCalculationDimension().getModCounter()}}if(this.m_queryManager.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){r=r+this.m_queryManager.getPrimaryBlendedMeasures().getModCounter()}return r};e.ModCounterState.prototype.getSecondaryMeasureFilterModCounter=function(){var e=this.getLeafQueryManagers().getIterator();var t=0;while(e.hasNext()){var r=e.next();if(r.getQueryModel().getSecondaryCalculationDimension()!==null&&r.getQueryModel().getSecondaryCalculationDimension().getFilter()!==null){t=t+r.getQueryModel().getSecondaryCalculationDimension().getFilter().getModCounter()}}return t};e.ModCounterState.prototype.getSecondaryCalculationDimensionModCounter=function(){var e=this.getLeafQueryManagers().getIterator();var t=0;while(e.hasNext()){var r=e.next();if(r.getQueryModel().getSecondaryCalculationDimension()!==null){t=t+r.getQueryModel().getSecondaryCalculationDimension().getModCounter()}}return t};e.ModCounterState.prototype.getVariableManagerModCounter=function(){var e=this.getLeafQueryManagers().getIterator();var t=0;while(e.hasNext()){var r=e.next();t=t+r.getQueryModel().getVariableManager().getModCounter()}return t};e.ModCounterState.prototype.getCurrencyTranslationModCounter=function(){var e=this.getLeafQueryManagers().getIterator();var t=0;while(e.hasNext()){var r=e.next();if(r.getQueryModel().getCurrencyTranslationManager()!==null){t=t+r.getQueryModel().getCurrencyTranslationManager().getModCounter()}}return t};e.ModCounterState.prototype.getQueryModelLinksModCounter=function(){var t=0;if(this.m_queryManager.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){t=t+this.m_queryManager.getAllQueryModelLinkSettings().getModCounter()}return t};e.QueryModelStateManager=function(){};e.QueryModelStateManager.prototype=new e.XObjectExt;e.QueryModelStateManager.prototype._ff_c="QueryModelStateManager";e.QueryModelStateManager.create=function(t){var r=new e.QueryModelStateManager;r.m_queryManager=t;r.m_stateCache=e.XLinkedMap.createLinkedMap();r.m_jsonParser=e.JsonParserFactory.newInstance();return r};e.QueryModelStateManager.prototype.m_queryManager=null;e.QueryModelStateManager.prototype.m_stateCache=null;e.QueryModelStateManager.prototype.m_jsonParser=null;e.QueryModelStateManager.prototype.releaseObject=function(){this.m_stateCache=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_stateCache);this.m_queryManager=null;this.m_jsonParser=e.XObjectExt.release(this.m_jsonParser);e.XObjectExt.prototype.releaseObject.call(this)};e.QueryModelStateManager.prototype.recordState=function(){var t=e.PrFactory.createStructure();var r=this.m_queryManager;r.recordStateOfQueryManager(t);var a=e.PrUtils.serialize(t,true,false,0);var n=e.XGuid.getGuid();this.m_stateCache.add(e.StateStackEntry.create(n,a));return n};e.QueryModelStateManager.prototype.applyState=function(t){var r=this.m_stateCache.getByKey(t);if(e.isNull(r)){return e.ExtResult.createWithErrorMessage(e.XStringUtils.concatenate3("State Id ",t," not found"))}var a=r.getState();var n=this.m_jsonParser.parse(a);if(this.m_jsonParser.hasErrors()){return e.ExtResult.create(null,this.m_jsonParser)}var i=n.getStructureByKey("Analytics").getStructureByKey("Definition");var o=this.m_queryManager;var s=o.applyStateOnQueryManager(i);return e.ExtResult.create(this.m_queryManager,s)};e.InACapabilitiesProvider=function(){};e.InACapabilitiesProvider.prototype=new e.DfSessionContext;e.InACapabilitiesProvider.prototype._ff_c="InACapabilitiesProvider";e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES=null;e.InACapabilitiesProvider.staticSetup=function(){e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES=e.CapabilityContainer.create("sacExceptions");e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C178_MASTER_READ_MODE_BY_DIMENSION_GROUPING);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C187_DIMENSION_DEFAULT_MEMBER);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C189_DIMENSION_VISIBILITY);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C193_INA_MODEL_METADATA);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C194_METADATA_EXTENDED_DIMENSION_VISIBILITY);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C191_DYNAMIC_VARIABLES);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C192_VIRTUAL_DS_VARIABLE_VALUES);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C188_LOCALE_SORTING);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C212_SORT_NEW_VALUES);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C215_MEASURE_MEMBER_DEFINITION);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.C216_MEASURE_MEMBER_DETAILS);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.V210_DATASOURCE_TYPE_QUERY_METADATA);e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.addCapability(e.InACapabilities.V212_DATASOURCE_TYPE_QUERY)};e.InACapabilitiesProvider.create=function(t,r,a,n){var i=new e.InACapabilitiesProvider;i.setupExt(t,r,a,n);return i};e.InACapabilitiesProvider.isDevCapabilityValid=function(t,r){return r.hasFeature(e.FeatureToggleOlap.DEVELOPMENT_MODE)||e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.containsKey(t)};e.InACapabilitiesProvider.importCapabilities=function(t,r){var a=r.getSystemType();var n=false;var i=false;var o=false;if(e.notNull(a)){n=a.isTypeOf(e.SystemType.BW);i=a.isTypeOf(e.SystemType.HANA);o=a.isTypeOf(e.SystemType.BPCS)}r.setSupportsServerState(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C009_STATEFUL_SERVER,n));r.setSupportsShutdown(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C010_STATEFUL_DATA_PROVIDER,n||i));r.setSupportsDirectVariableTransfer(!n);r.setSupportsCheckVariables(!n);r.setSupportsHierarchyCatalog(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V322_HIERARCHY_CATALOG,false));r.setSupportsDataCellMixedValues(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C113_DATA_CELL_MIXED_VALUES,false));r.setSupportsCancelRunningQueries(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C117_CANCEL_RUNNING_REQUESTS,false));r.setSupportsObtainability(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C005_OBTAINABILITY,false));r.setSupportsCustomDimensionFilterCapability(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C123_CUSTOM_DIMENSION_FILTER,n));r.setSupportsRestrictedMeasures(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C119_RESTRICTED_KEYFIGURES,i));r.setSupportsFormulaMeasures(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C118_CALCULATED_KEYFIGURES,i));r.setSupportsCartesianFilterIntersect(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C150_CARTESIAN_FILTER_INTERSECT,false));r.setSupportsIntersectLayers(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C150_CARTESIAN_FILTER_INTERSECT,false));r.setSupportsCellValueOperand(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C060_CELL_VALUE_OPERAND,false));r.setSupportsComplexFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C013_COMPLEX_FILTERS,false));r.setSupportsVisibilityFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C059_VISIBILITY_FILTER,false));r.setSupportsSetOperand(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C011_SET_OPERAND,false));r.setSupportsConvertToFlatFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C058_HIERARCHY_SELECTION_AS_FLAT_SELECTION,false));r.setSupportsCummulative(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C018_CUMMULATIVE,false));r.setSupportsHierarchyNavCounter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C035_HIERARCHY_NAVIGATION_COUNTER,false));r.setSupportsHierarchyAttHierFields(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C036_ATTRIBUTE_HIERARCHY_HIERARCHY_FIELDS,false));r.setSupportsHierarchyCarryingDim(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C036_ATTRIBUTE_HIERARCHY_HIERARCHY_FIELDS,n||o));r.setSupportsSortTypes(e.InACapabilitiesProvider.supports(t,e.InACapabilities.SORT_TYPE,false));r.setSupportsSpatialFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C061_SPATIAL_FILTER,false));r.setSupportsSapDate(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C017_SAP_DATE,n||o));r.setSupportsCustomDimensionMemberExecutionStep(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C055_CUSTOM_DIMENSION_MEMBER_EXECUTION_STEP,false));r.setSupportsSupplements(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C037_SUPPLEMENTS,false));r.setSupportsNumberAsString(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V172_NUMBER_AS_STRING,false));if(r.supportsSpatialFilter()){r.setSupportsSpatialFilterSrid(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C062_SPATIAL_FILTER_WITH_SRID,false))}r.setSupportsComplexTupleFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C200_COMPLEX_TUPLE_FILTER,false));r.setSupportsTuplesOperand(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V216_TUPLES_OPERAND,false));r.setSupportsExtendedDimensions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C067_EXTENDED_DIMENSIONS,false));r.setSupportsExtendedDimensionsFieldMapping(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C068_EXTENDED_DIMENSIONS_FIELD_MAPPING,false));r.setSupportsExtendedDimensionsJoinColumns(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C069_EXTENDED_DIMENSIONS_JOIN_COLUMNS,false));r.setSupportsExtendedDimensionsOuterJoin(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C070_EXTENDED_DIMENSIONS_OUTER_JOIN,false));r.setSupportsExtendedDimensionsSkip(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C071_EXTENDED_DIMENSIONS_SKIP,false));r.setSupportsExtendedDimensionsJoinCardinality(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C143_EXTENDED_DIMENSIONS_JOIN_CARDINALITY,false));r.setSupportsSortNewValues(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C212_SORT_NEW_VALUES,false));r.setSupportsIgnoreUnitOfZeroValueInAggregation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C152_IGNORE_UNIT_OF_ZERO_VALUE_IN_AGGREGATION,false));r.setSupportsCubeBlendingWithNSubqueries(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V214_CUBE_BLENDING_N_QUERIES,false));r.setSupportsRemoteBlendingWithSplittedSerializationRequests(e.InACapabilitiesProvider.supports(t,n?e.InACapabilities.C182_CUBE_BLENDING_PERSISTENCE_TYPE:e.InACapabilities.C206_REMOTE_BLENDING_METADATA,false));r.setSupportsExtendedDimensionsChangeDefaultRenamingAndDescription(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C156_EXTENDED_DIMENSION_CHANGE_DEFAULT_RENAMING_AND_DESCRIPTION,false));r.setSupportsExtendedDimensionsCopyAllHierarchies(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C157_EXTENDED_DIMENSION_COPY_ALL_HIERARCHIES,false));r.setSupportsFixMetadataHierarchyAttributes(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C158_FIX_METADATA_HIERARCHY_ATTRIBUTES,false));r.setSupportsUniversalDisplayHierarchies(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C139_UNIVERSAL_DISPLAY_HIERARCHIES,false));r.setSupportsUniversalDisplayHierarchiesCustomDimensions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C204_UNIVERSAL_DISPLAY_HIERARCHY_CUSTOM_DIM,false));r.setSupportsUniversalDisplayHierarchiesZeroBased(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V158_UNIVERSAL_DISPLAY_HIERARCHY_ZERO_BASED,false));r.setSupportsRemoteBlending(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C093_REMOTE_BLENDING,false));r.setSupportsRemoteFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C180_REMOTE_FILTER,false));r.setSupportsCubeCache(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V166_CUBE_CACHE,false));r.setSupportsCatalogServiceV2(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C140_CATALOG_SERVICE_V20,false));r.setSupportsExtendedVariableDefinition(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C146_EXTENDED_VARIABLE_DEFINITION,false));r.setSupportsCustomSort(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C149_CUSTOM_SORT,false));r.setSupportsDataRefreshAndDataTopicality(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C145_DATA_REFRESH_AND_DATA_TOPICALITY,false));r.setSupportsRemoteBlendingBW(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C196_REMOTE_BLENDING_BW,false));r.setSupportsCustomMeasureSortOrder(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C148_CUSTOM_MEASURE_SORTORDER,false));r.setSupportsExceptionAggregationAvgNullSelectionMember(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C105_EXCEPTION_AGGREGATION_AVGNULL_SELECTION_MEMBER,false));r.setSupportsExceptionAggregationCountNullSelectionMember(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C106_EXCEPTION_AGGREGATION_COUNTNULL_SELECTION_MEMBER,false));r.setSupportsStatisticalAggregations(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C107_STATISTICAL_AGGREGATIONS,false));r.setSupportsF4FilterForTextField(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C186_F4_FILTER_FOR_TEXT_FIELD,false));r.setSupportsSidPresentation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V232_SID_PRESENTATION,false));r.setSupportsVarianceOperator(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C153_VARIANCE_OPERATOR,false));r.setSupportsTotalOperator(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C198_OPERATOR_TOTALS,false));r.setSupportsAsyncRemoteModelValidation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C154_MD_DS_DEF_VAL_EXPOSE_DS,false));r.setSupportsExtendedKeyFigureProperties(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V168_EXT_KEYFIGURE_PROPERTIES,false));r.setSupportsDetailedResponseExpansion(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C201_DETAILED_RESPONSE_EXPANSION,false));r.setSupportsDynamicVariableRefresh(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C192_VIRTUAL_DS_VARIABLE_VALUES,false));r.setSupportsQueryCurrencyTranslation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C160_QUERY_CURRENCY_TRANSLATION,false));r.setSupportsStructureRestrictionsInValueHelp(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C161_STRUCTURE_RESTRICTIONS_IN_VALUE_HELP,false));r.setSupportsCustomHierarchy(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C202_CUSTOM_HIERARCHY,false));r.setSupportsSpatialChoropleth(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C165_SPATIAL_CHOROPLETH,false));r.setSupportsInaCurrentMember(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C166_INA_CURRENT_MEMBER,false));r.setSupportsDimensionDefaultMember(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C187_DIMENSION_DEFAULT_MEMBER,false));r.setSupportsDimensionVisibility(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C189_DIMENSION_VISIBILITY,false));r.setSupportsDisplayHierarchyFixInFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V186_DISP_HIERARCHY_FIX_IN_FILTER,false));r.setSupportsCustomMemberKeySortOrder(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C203_CUSTOM_MEMBER_KEY_SORT_ORDER,false));r.setSupportsSpatialTransformation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C063_SPATIAL_TRANSFORMATIONS,false));r.setSupportsMemberVisibility(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C048_MEMBER_VISIBILITY,false));r.setSupportsHierarchyMetadata(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C052_METADATA_HIERARCHY_STRUCTURE,false));r.setSupportsDimensionHierarchyLevels(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C169_DIMENSION_HIERARCHY_LEVELS,false));r.setSupportsHierarchyLevelMetadata(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C053_METADATA_HIERARCHY_LEVELS,false));r.setSupportsCubeBlendingProperties(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C097_CUBE_BLENDING_PROPERTIES,false));r.setSupportsHierarchyNavigationDeltaMode(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C111_HIERARCHY_NAVIGATION_DELTA_MODE,false));r.setSupportsCeScenarioParams(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C127_CE_SCENARIO_PARAMS,false));r.setSupportsLocaleSorting(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C188_LOCALE_SORTING,false));r.setSupportsHierarchyLevelOffsetFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C126_HIERARCHY_LEVEL_OFFSET_FILTER,false));r.setSupportsHierarchyTrapezoidFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C065_HIERARCHY_TRAPEZOID_FILTER,false));r.setSupportsUnifiedDataCells(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C210_UNIFIED_DATA_CELLS,false));r.setSupportsAverageCountNullZero(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C124_AVERAGE_COUNT_IGNORE_NULL_ZERO,false));r.setSupportsCubeBlendingOutOfContext(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C096_CUBE_BLENDING_OUT_OF_CONTEXT,false));r.setSupportsExceptionsV2(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C159_EXCEPTIONS_V2,false));r.setSupportsSpatialClustering(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C064_SPATIAL_CLUSTERING,false));r.setSupportsKeepOriginalTexts(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C122_ORIGINAL_TEXTS,false));r.setSupportsConditions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C101_CONDITIONS,false));r.setSupportsExtendedSort(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C054_EXTENDED_SORT,false));r.setSupportsDataCells(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C026_QUERY_DATA_CELLS,false));r.setSupportsExpandBottomUp(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C100_EXPAND_BOTTOM_UP,false));r.setSupportsIgnoreExternalDimensions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C073_IGNORE_EXTERNAL_DIMENSIONS,false));r.setSupportsExceptionAggregationDimsFormulas(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C104_EXCEPTION_AGGREGATION_DIMENSIONS_AND_FORMULAS,false));r.setSupportsExceptionSettings(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C024_EXCEPTION_SETTINGS,false));r.setSupportsExceptions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C023_EXCEPTIONS,false));r.setSupportsHierarchyVirtualRootNode(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C163_HIERARCHY_VIRTUAL_ROOT_NODE,false));r.setSupportsHierarchyRestNode(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C164_HIERARCHY_REST_NODE,false));r.setSupportsCubeBlending(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C091_CUBE_BLENDING,false));r.setSupportsMetadataDataCategory(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C099_METADATA_DATA_CATEGORY,false));r.setSupportsExtendedDimensionVisibility(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C194_METADATA_EXTENDED_DIMENSION_VISIBILITY,false));r.setSupportsResultSetUnitIndex(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C195_RESULTSET_UNIT_INDEX,false));r.setSupportsAsyncBatchRequests(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C162_ASYNC_METADATA_BATCH_REQUEST,false));r.setSupportsMetadataDataSourceDefinitionValidation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C144_METADATA_DATASOURCE_DEFINITION_VALIDATION,false));r.setSupportsVariableVariants(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C135_VARIABLE_VARIANTS,false));r.setSupportsCalculatedDimensions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C171_CALCULATED_DIMENSION,false));r.setSupportsZeroSuppression(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C045_ZERO_SUPPRESSION,false));r.setSupportsResultSetInterval(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C049_RESULTSET_INTERVAL,false));r.setSupportsFixHierarchyFlatKeys(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C181_FIX_HIERARCHY_FLAT_KEYS,false));r.setSupportsAttributeValueLookup(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C115_ATTRIBUTE_VALUE_LOOKUP,false));r.setSupportsAggregationNopNull(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C102_AGGREGATION_NOP_NULL,false));r.setSupportsAggregationNopNullZero(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C103_AGGREGATION_NOP_NULL_ZERO,false));r.setSupportsPlanningOnCalculatedDimensions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C172_PLANNING_ON_CALCULATED_DIMENSION,false));r.setSupportsCustomDimension2(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C211_CUSTOM_DIMENSION_2,false));r.setSupportsCubeBlendingAggregation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C092_CUBE_BLENDING_AGGREGATION,false));r.setSupportsWindowFunction(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V218_WINDOW_FUNCTION,false));r.setSupportsMultipleExAggDimsInCalcPlan(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V126_MULTIPLE_EX_AGG_DIMS_IN_CALC_PLAN,false));r.setSupportsSetOperandCurrentMemberSingleNavigation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C222_SET_OPERAND_CURRENT_MEMBER_SINGLE_NAVIGATION,false));r.setSupportsHierarchyPathPresentationType(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V294_HIERARCHY_PATH_PRESENTATION_TYPE,false));r.setSupportsDimensionKeyAttributes(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V296_DIMENSION_KEY_ATTRIBUTES,false));r.setSupportsCurrentMemberFilterExtension(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C120_CURRENT_MEMBER_FILTER_EXTENSION,false));r.setSupportsClientInfo(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C155_CLIENT_INFO,false));r.setSupportsDynamicRestrictionOnFormula(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C197_DYN_RESTRICTION_ON_FORMULA,false));r.setSupportsVisualAggregation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C176_VISUAL_AGGREGATION,false));r.setSupportsNamedCustomMember(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V236_NAMED_CUSTOM_DIMENSION_MEMBER,false));r.setSupportsReinitVariables(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C002_VARIABLE_RE_SUBMIT,false));r.setSupportsMultiSource(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C047_MULTI_SOURCE,false));r.setSupportsRequestTimezone(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C174_REQUEST_TIME_ZONE,false));r.setSupportsVariableMasking(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C199_AV_CAPABILITY_VARIABLE_MASKING,false));r.setSupportsSuppressKeyfigureCalculation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C151_SUPPRESS_KEYFIGURE_CALCULATION,false));r.setSupportsInputReadinessStates(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C147_INPUT_READINESS_STATES,false));r.setSupportsReturnedDataSelection(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C141_RETURNED_DATA_SELECTION,false));r.setSupportsRunAsUser(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C025_RUN_AS_USER,false));r.setSupportsVirtualDescription(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C214_IS_VIRTUAL_DESCRIPTION,false));r.setSupportsVersionParameters(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C183_GET_PARAMETERS,false));r.setSupportsVersionPrivileges(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C184_VERSION_PRIVILEGES,false));r.setSupportsMeasureMemberDefinition(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C215_MEASURE_MEMBER_DEFINITION,false));r.setSupportsMeasureMemberDetails(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C216_MEASURE_MEMBER_DETAILS,false));r.setSupportsMeasureMemberType(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C217_MEASURE_MEMBER_TYPE,false));r.setSupportsValueHelpWithAttributes(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C185_VALUE_HELP_WITH_ATTRIBUTES,!n));r.setSupportsEncodedResultset(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C012_ENCODED_RESULTSET,false));r.setSupportsNewValuesImplicitUnlock(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C020_NEW_VALUES_IMPLICIT_UNLOCK,false));r.setSupportsNewValuesExtendedFormat(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C021_NEW_VALUES_EXTENDED_FORMAT,false));r.setSupportsReportReportInterface(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C050_REPORT_REPORT_INTERFACE,false));r.setSupportsResultSetHierarchyLevel(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V149_RESULTSET_HIERARCHY_LEVEL,false));r.setSupportsQueryDataCellModelDefaults(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V174_QDATA_CELL_MODEL_DEFAULTS,false));r.setSupportsCubeBlendingSorting(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C095_CUBE_BLENDING_MEMBER_SORTING,false));r.setSupportsCubeBlendingReadmode(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C098_CUBE_BLENDING_READ_MODE,false));r.setSupportsCubeBlendingCustomMember(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C094_CUBE_BLENDING_CUSTOM_MEMBERS,false));var s=e.InACapabilitiesProvider.supports(t,e.InACapabilities.C051_HIERARCHY_PATH,false);r.setSupportsHierarchyPath(s);var l=e.InACapabilitiesProvider.supports(t,e.InACapabilities.C056_HIERARCHY_PATH_UNIQUE_NAME,false);r.setSupportsUniqueHierarchyPath(s&&l);r.setSupportsUniversalModel(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C221_UNIVERSAL_MODEL,false));r.setSupportsCurrencyTranslation(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C218_CURRENCY_TRANSLATION,false));r.setSupportsMeasureMemberCurrencyTranslations(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C219_MEASURE_MEMBER_CURRENCY_TRANSLATIONS,false));r.setSupportsTechnicalAxis(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C042_TECHNICAL_AXIS,false));r.setSupportsResultsetEffectiveFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C205_RESUlTSET_EFFECTIVE_FILTER,false));r.setSupportsBatchRsStreaming(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C207_BATCH_RS_STREAMING,false));r.setSupportsBatchBlendingRsStreaming(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V308_ASYNC_BLENDING_BATCH_REQUEST,false));r.setSupportsCorrectDimensionDescription(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V198_DIMENSION_DESCRIPTION,false));r.setSupportsRootOrphansAfterVisibilityFilter(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C213_ROOT_ORPHANS_AFTER_VISIBILITY_FILTER,false));r.setSupportsMetadataDimensionOthers(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V224_METADATA_DIMENSION_OTHERS,false));r.setSupportsRSCellFormatTypeSpecific(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V268_RESULTSET_CELL_FORMAT_TYPE_SPECIFIC,false));r.setSupportsSuppressSupplements(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V230_SUPPRESS_SUPPLEMENTS,false));r.setSupportsAutoVariableSubmit(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V286_AUTO_VARIABLE_SUBMIT,false));r.setSupportsExceptionAggregationFirstLastSelectionMember(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C208_EXCEPTION_AGGREGATION_FIRST_LAST_SELECTION_MEMBER,false));r.setSupportsResultSetCellExplain(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C209_RESULTSET_CELL_EXPLAIN,false));r.setSupportsMaintainsVariableVariants(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V320_MAINTAINS_VARIABLE_VARIANTS,false));r.setSupportsNullZeroSuppression(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V254_NULL_ZERO_SUPPRESSION,false));r.setSupportsInputReadinessWithNavigationalAttributes(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V256_INPUT_READINESS_WITH_NAVIGATIONAL_ATTRIBUTES,false));r.setSupportsIteratedFormula(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V270_ITERATED_FORMULA,false));r.setSupportsCDSProjectionViews(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V272_CDS_PROJECTION_VIEWS,false));r.setSupportsCellDocumentId(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V274_CELL_DOCUMENT_ID,false));r.setSupportsUndefinedTupleCountTotals(e.InACapabilitiesProvider.supports(t,e.InACapabilities.C220_UNDEFINED_TUPLE_COUNT_TOTALS,false));r.setSupportsTextInHierarchyForCharacteristicsWithoutText(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V302_TEXT_IN_HIERARCHY,false));r.setSupportsPagingTupleCountBeforeSlicing(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V298_PAGING_TUPLE_COUNT_BEFORE_SLICING,false));r.setSupportsDataCellContexts(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V324_DATA_CELL_CONTEXTS,false));r.setSupportsNamePath(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V326_NAME_PATH,false));r.setSupportsMixedDisplayKey(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V328_MIXED_DISPLAY_KEY,false));r.setSupportsSemanticObject(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V332_SEMANTIC_OBJECT,false));r.setSupportsErrorAboveLevel(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V336_ERROR_ABOVE_LEVEL,false));r.setSupportsInAModelExternalDimension(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V342_INAMODEL_EXTERNAL_DIMENSION,false));r.setSupportsInAModelExternalValuehelp(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V344_INAMODEL_EXTERNAL_VALUE_HELP,false));r.setSupportsPersistedInA(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V340_INA_PERSISTED,false));r.setSupportsMaxDrillLevel(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V346_MAX_DRILL_LEVEL,false));r.setSupportsSqlTypeBoolean(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V354_SQL_TYPE_BOOLEAN,false));r.setSupportsNoDataActions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V128_NO_DATA_ACTIONS,false));r.setSupportsStructureOnFreeAxis(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V356_STRUCTURE_ON_FREE_AXIS,false));r.setSupportsMetadataHasExternalHierarchies(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V358_METADATA_HAS_EXTERNAL_HIERARCHIES,false));r.setSupportsExceptionThresholdNoPrec(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V360_EXCEPTION_THRESHOLD_NO_PRECISION,false));r.setSupportsReturnMetadataExtensions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V362_RETURN_METADATA_EXTENSIONS,false));r.setSupportsMetadataResultFormatOptions(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V368_METADATA_RESULT_FORMAT_OPTIONS,false));r.setSupportsLightweightMetadata(e.InACapabilitiesProvider.supports(t,e.InACapabilities.V370_LIGHTWEIGHT_METADATA,false))};e.InACapabilitiesProvider.supports=function(t,r,a){return a||e.notNull(t)&&t.containsKey(r)};e.InACapabilitiesProvider.importDimensionExtensionCapabilities=function(t,r){r.setSupportsFunctionalValueHelp(e.notNull(t)&&t.containsKey(e.ConnectionConstants.FAST_PATH))};e.InACapabilitiesProvider.prototype.m_serverMetadata=null;e.InACapabilitiesProvider.prototype.m_providerType=null;e.InACapabilitiesProvider.prototype.m_additionalFeatureToggles=null;e.InACapabilitiesProvider.prototype.m_clientMainCapabilities=null;e.InACapabilitiesProvider.prototype.m_clientFeatureToggleCapabilities=null;e.InACapabilitiesProvider.prototype.m_serverMainCapabilities=null;e.InACapabilitiesProvider.prototype.m_serverBetaCapabilities=null;e.InACapabilitiesProvider.prototype.m_activeCapabilities=null;e.InACapabilitiesProvider.prototype.m_serverPersistencyCapabilities=null;e.InACapabilitiesProvider.prototype.m_deserializationDocumentCapabilities=null;e.InACapabilitiesProvider.prototype.m_activeDeserializationCapabilities=null;e.InACapabilitiesProvider.prototype.m_dimensionExtensionCapabilities=null;e.InACapabilitiesProvider.prototype.m_documentCapabilities=null;e.InACapabilitiesProvider.prototype.setupExt=function(t,r,a,n){this.setupSessionContext(t);this.m_serverMetadata=r;this.m_providerType=a;this.m_additionalFeatureToggles=n;this.m_clientMainCapabilities=this.createMainCapabilities(a);this.m_clientFeatureToggleCapabilities=this.createFeatureToggleCapabilities(a);if(e.notNull(this.m_serverMetadata)&&e.notNull(this.m_providerType)){var i=this.getServerCapabilitiesForProviderType(this.m_providerType,false);this.m_serverMainCapabilities=e.XObjectExt.cloneIfNotNull(i);var o=this.getServerCapabilitiesForProviderType(this.m_providerType,true);this.m_serverBetaCapabilities=e.XObjectExt.cloneIfNotNull(o);var s=this.getServerCapabilitiesForProviderType(e.ProviderType.DIMENSION_EXTENSION,false);this.m_dimensionExtensionCapabilities=e.XObjectExt.cloneIfNotNull(s);var l=this.getServerCapabilitiesForProviderType(e.ProviderType.DOCUMENTS,false);this.m_documentCapabilities=e.XObjectExt.cloneIfNotNull(l)}};e.InACapabilitiesProvider.prototype.releaseObject=function(){this.m_activeDeserializationCapabilities=e.XObjectExt.release(this.m_activeDeserializationCapabilities);this.m_serverPersistencyCapabilities=e.XObjectExt.release(this.m_serverPersistencyCapabilities);this.m_deserializationDocumentCapabilities=e.XObjectExt.release(this.m_deserializationDocumentCapabilities);this.m_dimensionExtensionCapabilities=e.XObjectExt.release(this.m_dimensionExtensionCapabilities);this.m_documentCapabilities=e.XObjectExt.release(this.m_documentCapabilities);this.m_clientMainCapabilities=e.XObjectExt.release(this.m_clientMainCapabilities);this.m_clientFeatureToggleCapabilities=e.XObjectExt.release(this.m_clientFeatureToggleCapabilities);this.m_serverMainCapabilities=e.XObjectExt.release(this.m_serverMainCapabilities);this.m_serverBetaCapabilities=e.XObjectExt.release(this.m_serverBetaCapabilities);this.m_activeCapabilities=e.XObjectExt.release(this.m_activeCapabilities);e.DfSessionContext.prototype.releaseObject.call(this)};e.InACapabilitiesProvider.prototype.createFeatureToggleCapabilities=function(t){var r=e.CapabilityContainer.create("featureToggle");if(t===e.ProviderType.PLANNING_COMMAND||t===e.ProviderType.PLANNING_VALUE_HELP){r=this.createFeatureTogglePlanningCapabilities(r)}else{r=this.createFeatureToggleAnalyticsCapabilities(r)}return r};e.InACapabilitiesProvider.prototype.createMainCapabilities=function(t){var r=e.CapabilityContainer.create("main");if(t===e.ProviderType.PLANNING_COMMAND||t===e.ProviderType.PLANNING_VALUE_HELP){this.createMainPlanningCapabilities(r)}else{this.createMainAnalyticsCapabilities(r)}return r};e.InACapabilitiesProvider.prototype.createFeatureToggleAnalyticsCapabilities=function(t){var r=this.m_serverMetadata.getSystemDescription().getSystemType();this.check(t,e.FeatureToggleOlap.MULTIPLE_EX_AGG_DIMS_IN_CALC_PLAN,e.InACapabilities.V126_MULTIPLE_EX_AGG_DIMS_IN_CALC_PLAN);this.checkExt(t,e.FeatureToggleOlap.UNIFIED_DATACELLS,e.InACapabilities.C210_UNIFIED_DATA_CELLS,r,e.SystemType.HANA);this.check(t,e.FeatureToggleOlap.NO_DATA_ACTIONS,e.InACapabilities.V128_NO_DATA_ACTIONS);this.check(t,e.FeatureToggleOlap.HIERARCHY_LEVEL,e.InACapabilities.V149_RESULTSET_HIERARCHY_LEVEL);this.check(t,e.FeatureToggleOlap.NUMBER_AS_STRING,e.InACapabilities.V172_NUMBER_AS_STRING);this.check(t,e.FeatureToggleOlap.UNIVERSAL_DISPLAY_HIERARCHY_ZERO_BASED,e.InACapabilities.V158_UNIVERSAL_DISPLAY_HIERARCHY_ZERO_BASED);this.check(t,e.FeatureToggleOlap.CUBE_CACHE,e.InACapabilities.V166_CUBE_CACHE);this.check(t,e.FeatureToggleOlap.EXT_KEYFIGURE_PROPERTIES,e.InACapabilities.V168_EXT_KEYFIGURE_PROPERTIES);this.check(t,e.FeatureToggleOlap.QDATA_CELL_MODEL_DEFAULTS,e.InACapabilities.V174_QDATA_CELL_MODEL_DEFAULTS);this.check(t,e.FeatureToggleOlap.DISP_HIERARCHY_FIX_IN_FILTER,e.InACapabilities.V186_DISP_HIERARCHY_FIX_IN_FILTER);this.check(t,e.FeatureToggleOlap.CUSTOM_DIMENSION_2_FOR_AGILE_BI,e.InACapabilities.C211_CUSTOM_DIMENSION_2);this.check(t,e.FeatureToggleOlap.CUSTOM_DIMENSION_2_FOR_INA_MODEL,e.InACapabilities.C211_CUSTOM_DIMENSION_2);this.check(t,e.FeatureToggleOlap.MEMBER_VALUE_EXCEPTIONS,e.InACapabilities.V188_MEMBER_VALUE_EXCEPTIONS);this.check(t,e.FeatureToggleOlap.DYN_MEMBERS_ON_NON_MEASURE_STRUCTURE,e.InACapabilities.V248_DYNAMIC_MEMBERS_ON_NON_MEASURE_STRUCTURE);this.check(t,e.FeatureToggleOlap.RESULTSET_CELL_FORMAT_TYPE_SPECIFIC,e.InACapabilities.V268_RESULTSET_CELL_FORMAT_TYPE_SPECIFIC);this.check(t,e.FeatureToggleOlap.CUBE_BLENDING_N_QUERIES,e.InACapabilities.V214_CUBE_BLENDING_N_QUERIES);this.check(t,e.FeatureToggleOlap.DATASOURCE_TYPE_QUERY_METADATA,e.InACapabilities.V210_DATASOURCE_TYPE_QUERY_METADATA);this.check(t,e.FeatureToggleOlap.DATASOURCE_TYPE_QUERY,e.InACapabilities.V212_DATASOURCE_TYPE_QUERY);this.check(t,e.FeatureToggleOlap.TUPLES_OPERAND,e.InACapabilities.V216_TUPLES_OPERAND);this.check(t,e.FeatureToggleOlap.UDH_ALIGNMENT,e.InACapabilities.V250_UDH_ALIGNMENT);this.check(t,e.FeatureToggleOlap.SID_PRESENTATION,e.InACapabilities.V232_SID_PRESENTATION);this.check(t,e.FeatureToggleOlap.METADATA_CUBE_RESPONSE_SUPPRESS_PROPERTIES,e.InACapabilities.V190_METADATA_CUBE_RESPONSE_SUPPRESS_PROPERTIES);this.check(t,e.FeatureToggleOlap.HIERARCHY_CATALOG,e.InACapabilities.V322_HIERARCHY_CATALOG);this.check(t,e.FeatureToggleOlap.METADATA_DIMENSION_OTHERS,e.InACapabilities.V224_METADATA_DIMENSION_OTHERS);this.check(t,e.FeatureToggleOlap.METADATA_DIMENSION_IS_MODELED,e.InACapabilities.V226_METADATA_DIMENSION_IS_MODELED);this.check(t,e.FeatureToggleOlap.RESULTSET_CELL_MEASURE,e.InACapabilities.V264_RESULTSET_CELL_MEASURE);this.check(t,e.FeatureToggleOlap.RESULTSETV2_METADATA_EXTENSION1,e.InACapabilities.V266_RESULTSETV2_METADATA_EXTENSION1);this.check(t,e.FeatureToggleOlap.CORRECT_DIMENSION_DESCRIPTION,e.InACapabilities.V198_DIMENSION_DESCRIPTION);this.check(t,e.FeatureToggleOlap.SUPPRESS_SUPPLEMENTS,e.InACapabilities.V230_SUPPRESS_SUPPLEMENTS);this.check(t,e.FeatureToggleOlap.WINDOW_FUNCTION,e.InACapabilities.V218_WINDOW_FUNCTION);this.check(t,e.FeatureToggleOlap.HIERARCHY_PATH_PRESENTATION_TYPE,e.InACapabilities.V294_HIERARCHY_PATH_PRESENTATION_TYPE);this.check(t,e.FeatureToggleOlap.DIMENSION_KEY_ATTRIBUTES,e.InACapabilities.V296_DIMENSION_KEY_ATTRIBUTES);this.check(t,e.FeatureToggleOlap.NAMED_CUSTOM_DIMENSION_MEMBER,e.InACapabilities.V236_NAMED_CUSTOM_DIMENSION_MEMBER);this.check(t,e.FeatureToggleOlap.AUTO_VARIABLE_SUBMIT_CAPABILITY,e.InACapabilities.V286_AUTO_VARIABLE_SUBMIT);this.check(t,e.FeatureToggleOlap.NULL_ZERO_SUPPRESSION,e.InACapabilities.V254_NULL_ZERO_SUPPRESSION);this.check(t,e.FeatureToggleOlap.INPUT_READINESS_WITH_NAVIGATIONAL_ATTRIBUTES,e.InACapabilities.V256_INPUT_READINESS_WITH_NAVIGATIONAL_ATTRIBUTES);this.check(t,e.FeatureToggleOlap.ITERATED_FORMULA,e.InACapabilities.V270_ITERATED_FORMULA);this.check(t,e.FeatureToggleOlap.CDS_PROJECTION_VIEWS,e.InACapabilities.V272_CDS_PROJECTION_VIEWS);this.check(t,e.FeatureToggleOlap.CELL_DOCUMENT_ID,e.InACapabilities.V274_CELL_DOCUMENT_ID);this.check(t,e.FeatureToggleOlap.TUPLE_COUNT_BEFORE_SLICING,e.InACapabilities.V298_PAGING_TUPLE_COUNT_BEFORE_SLICING);this.check(t,e.FeatureToggleOlap.TEXT_IN_HIERARCHY,e.InACapabilities.V302_TEXT_IN_HIERARCHY);this.check(t,e.FeatureToggleOlap.ASYNC_BLENDING_BATCH_REQUEST,e.InACapabilities.V308_ASYNC_BLENDING_BATCH_REQUEST);this.check(t,e.FeatureToggleOlap.MAINTAIN_VARIABLE_VARIANTS,e.InACapabilities.V320_MAINTAINS_VARIABLE_VARIANTS);this.check(t,e.FeatureToggleOlap.DATA_CELL_CONTEXTS,e.InACapabilities.V324_DATA_CELL_CONTEXTS);this.check(t,e.FeatureToggleOlap.NAME_PATH,e.InACapabilities.V326_NAME_PATH);this.check(t,e.FeatureToggleOlap.DISPLAY_KEY_MIXED_COMPOUNDMENT,e.InACapabilities.V328_MIXED_DISPLAY_KEY);this.check(t,e.FeatureToggleOlap.SEMANTIC_OBJECT,e.InACapabilities.V332_SEMANTIC_OBJECT);this.check(t,e.FeatureToggleOlap.ERROR_ABOVE_LEVEL,e.InACapabilities.V336_ERROR_ABOVE_LEVEL);this.check(t,e.FeatureToggleOlap.BW_PERSISTED_INA,e.InACapabilities.V340_INA_PERSISTED);this.check(t,e.FeatureToggleOlap.INAMODEL_EXTERNAL_DIMENSION,e.InACapabilities.V342_INAMODEL_EXTERNAL_DIMENSION);this.check(t,e.FeatureToggleOlap.INAMODEL_EXTERNAL_VALUE_HELP,e.InACapabilities.V344_INAMODEL_EXTERNAL_VALUE_HELP);this.check(t,e.FeatureToggleOlap.MAX_DRILL_LEVEL,e.InACapabilities.V346_MAX_DRILL_LEVEL);this.check(t,e.FeatureToggleOlap.SQL_TYPE_BOOLEAN,e.InACapabilities.V354_SQL_TYPE_BOOLEAN);this.check(t,e.FeatureToggleOlap.STRUCTURE_ON_FREE_AXIS,e.InACapabilities.V356_STRUCTURE_ON_FREE_AXIS);this.check(t,e.FeatureToggleOlap.MDS_DISPLAY_ATTRIBUTES,e.InACapabilities.V340_DISPLAY_ATTRIBUTES);this.check(t,e.FeatureToggleOlap.METADATA_HAS_EXTERNAL_HIERARCHIES,e.InACapabilities.V358_METADATA_HAS_EXTERNAL_HIERARCHIES);this.check(t,e.FeatureToggleOlap.EXCEPTION_THRESHOLD_NO_PRECISION,e.InACapabilities.V360_EXCEPTION_THRESHOLD_NO_PRECISION);this.check(t,e.FeatureToggleOlap.RETURN_METADATA_EXTENSIONS,e.InACapabilities.V362_RETURN_METADATA_EXTENSIONS);this.check(t,e.FeatureToggleOlap.MDS_METADATA_RESULT_FORMAT_OPTIONS,e.InACapabilities.V368_METADATA_RESULT_FORMAT_OPTIONS);this.check(t,e.FeatureToggleOlap.MDS_LIGHTWEIGHT_METADATA,e.InACapabilities.V370_LIGHTWEIGHT_METADATA);return t};e.InACapabilitiesProvider.prototype.createMainAnalyticsCapabilities=function(t){t.addCapability(e.InACapabilities.C000_ATTRIBUTE_HIERARCHY);t.addCapability(e.InACapabilities.C001_DATASOURCE_AT_SERVICE);t.addCapability(e.InACapabilities.C002_VARIABLE_RE_SUBMIT);t.addCapability(e.InACapabilities.C003_CLIENT_CAPABILITIES);t.addCapability(e.InACapabilities.C004_METADATA_SERVICE);t.addCapability(e.InACapabilities.C005_OBTAINABILITY);t.addCapability(e.InACapabilities.C006_READ_MODE);t.addCapability(e.InACapabilities.C007_RESPONSE_FIXED_ATTRIBUTE_SEQUENCE);t.addCapability(e.InACapabilities.C008_SERVER_STRUCTURE_NAMES);t.addCapability(e.InACapabilities.C009_STATEFUL_SERVER);t.addCapability(e.InACapabilities.C010_STATEFUL_DATA_PROVIDER);t.addCapability(e.InACapabilities.C011_SET_OPERAND);t.addCapability(e.InACapabilities.C012_ENCODED_RESULTSET);t.addCapability(e.InACapabilities.C013_COMPLEX_FILTERS);t.addCapability(e.InACapabilities.C014_UNIFIED_REQUEST_SYNTAX);t.addCapability(e.InACapabilities.C015_SEMANTICAL_ERROR_TYPE);t.addCapability(e.InACapabilities.C016_EXT_HIERARCHY);t.addCapability(e.InACapabilities.C017_SAP_DATE);t.addCapability(e.InACapabilities.C018_CUMMULATIVE);t.addCapability(e.InACapabilities.C019_EXTENDED_DIMENSION_TYPES);t.addCapability(e.InACapabilities.C020_NEW_VALUES_IMPLICIT_UNLOCK);t.addCapability(e.InACapabilities.C021_NEW_VALUES_EXTENDED_FORMAT);t.addCapability(e.InACapabilities.C022_HIERARCHY_NAME_VARIABLE);t.addCapability(e.InACapabilities.C023_EXCEPTIONS);t.addCapability(e.InACapabilities.C024_EXCEPTION_SETTINGS);t.addCapability(e.InACapabilities.C025_RUN_AS_USER);t.addCapability(e.InACapabilities.C026_QUERY_DATA_CELLS);t.addCapability(e.InACapabilities.C027_RESULTSET_CELL_VALUE_TYPES);t.addCapability(e.InACapabilities.C028_METADATA_DIMENSION_GROUP);t.addCapability(e.InACapabilities.C029_RESULTSET_CELL_FORMAT_STRING);t.addCapability(e.InACapabilities.C030_UNIQUE_ATTRIBUTE_NAMES);t.addCapability(e.InACapabilities.C031_METADATA_IS_DISPLAY_ATTRIBUTE);t.addCapability(e.InACapabilities.C032_FAST_PATH);t.addCapability(e.InACapabilities.C033_ATTRIBUTE_HIERARCHY_UNIQUE_FIELDS);t.addCapability(e.InACapabilities.C034_HIERARCHY_KEY_TEXT_NAME);t.addCapability(e.InACapabilities.C035_HIERARCHY_NAVIGATION_COUNTER);t.addCapability(e.InACapabilities.C036_ATTRIBUTE_HIERARCHY_HIERARCHY_FIELDS);t.addCapability(e.InACapabilities.C037_SUPPLEMENTS);t.addCapability(e.InACapabilities.C038_USE_EPM_VERSION);t.addCapability(e.InACapabilities.C039_DIMENSION_KIND_EPM_VERSION);t.addCapability(e.InACapabilities.C040_DIMENSION_KIND_CHART_OF_ACCOUNTS);t.addCapability(e.InACapabilities.C041_SP9);t.addCapability(e.InACapabilities.C042_TECHNICAL_AXIS);t.addCapability(e.InACapabilities.C043_DIMENSION_VALUEHELP_PROPERTY);t.addCapability(e.InACapabilities.C044_PAGING_TUPLE_COUNT_TOTAL);t.addCapability(e.InACapabilities.C045_ZERO_SUPPRESSION);t.addCapability(e.InACapabilities.C046_MANUAL_INPUT);t.addCapability(e.InACapabilities.C047_MULTI_SOURCE);t.addCapability(e.InACapabilities.C048_MEMBER_VISIBILITY);t.addCapability(e.InACapabilities.C049_RESULTSET_INTERVAL);t.addCapability(e.InACapabilities.C050_REPORT_REPORT_INTERFACE);t.addCapability(e.InACapabilities.C051_HIERARCHY_PATH);t.addCapability(e.InACapabilities.C052_METADATA_HIERARCHY_STRUCTURE);t.addCapability(e.InACapabilities.C053_METADATA_HIERARCHY_LEVELS);t.addCapability(e.InACapabilities.C054_EXTENDED_SORT);t.addCapability(e.InACapabilities.C055_CUSTOM_DIMENSION_MEMBER_EXECUTION_STEP);t.addCapability(e.InACapabilities.C056_HIERARCHY_PATH_UNIQUE_NAME);t.addCapability(e.InACapabilities.C057_HIERARCHY_DATA_AND_EXCLUDING_FILTERS);t.addCapability(e.InACapabilities.C058_HIERARCHY_SELECTION_AS_FLAT_SELECTION);t.addCapability(e.InACapabilities.C059_VISIBILITY_FILTER);t.addCapability(e.InACapabilities.C060_CELL_VALUE_OPERAND);t.addCapability(e.InACapabilities.C061_SPATIAL_FILTER);t.addCapability(e.InACapabilities.C062_SPATIAL_FILTER_WITH_SRID);t.addCapability(e.InACapabilities.C063_SPATIAL_TRANSFORMATIONS);t.addCapability(e.InACapabilities.C064_SPATIAL_CLUSTERING);t.addCapability(e.InACapabilities.C065_HIERARCHY_TRAPEZOID_FILTER);t.addCapability(e.InACapabilities.C066_SUBMIT_RETURNS_VARIABLE_VALUES);t.addCapability(e.InACapabilities.C067_EXTENDED_DIMENSIONS);t.addCapability(e.InACapabilities.C068_EXTENDED_DIMENSIONS_FIELD_MAPPING);t.addCapability(e.InACapabilities.C069_EXTENDED_DIMENSIONS_JOIN_COLUMNS);t.addCapability(e.InACapabilities.C070_EXTENDED_DIMENSIONS_OUTER_JOIN);t.addCapability(e.InACapabilities.C071_EXTENDED_DIMENSIONS_SKIP);t.addCapability(e.InACapabilities.C072_METADATA_DEFAULT_RESULT_ALIGNMENT_BOTTOM);t.addCapability(e.InACapabilities.C073_IGNORE_EXTERNAL_DIMENSIONS);t.addCapability(e.InACapabilities.C074_RETURN_RESTRICTED_AND_CALCULATED_MEMBERS_IN_READ_MODE_BOOKED);t.addCapability(e.InACapabilities.C075_PERSIST_RESULTSET);t.addCapability(e.InACapabilities.C076_RESTRICTED_MEMBERS_CONVERT_TO_FLAT_SELECTION);t.addCapability(e.InACapabilities.C077_VARIABLES);t.addCapability(e.InACapabilities.C078_TOTALS);t.addCapability(e.InACapabilities.C079_ENCODED_RESULTSET_2);t.addCapability(e.InACapabilities.C080_RESULTSET_STATE);t.addCapability(e.InACapabilities.C081_RESULTSET_CELL_NUMERIC_SHIFT);t.addCapability(e.InACapabilities.C082_RESULTSET_CELL_DATA_TYPE);t.addCapability(e.InACapabilities.C083_ORDER_BY);t.addCapability(e.InACapabilities.C084_METADATA_REPOSITORY_SUFFIX);t.addCapability(e.InACapabilities.C085_METADATA_CUBE_QUERY);t.addCapability(e.InACapabilities.C086_MAX_RESULT_RECORDS);t.addCapability(e.InACapabilities.C087_IGNORE_UNIT_OF_NULL_IN_AGGREGATION);t.addCapability(e.InACapabilities.C088_SET_NULL_CELLS_UNIT_TYPE);t.addCapability(e.InACapabilities.C089_DIMENSION_FILTER);t.addCapability(e.InACapabilities.C090_DIMENSION_F4_SELECTION_WITH_COMPOUNDMENT);t.addCapability(e.InACapabilities.C091_CUBE_BLENDING);t.addCapability(e.InACapabilities.C092_CUBE_BLENDING_AGGREGATION);t.addCapability(e.InACapabilities.C093_REMOTE_BLENDING);t.addCapability(e.InACapabilities.C094_CUBE_BLENDING_CUSTOM_MEMBERS);t.addCapability(e.InACapabilities.C095_CUBE_BLENDING_MEMBER_SORTING);t.addCapability(e.InACapabilities.C096_CUBE_BLENDING_OUT_OF_CONTEXT);t.addCapability(e.InACapabilities.C097_CUBE_BLENDING_PROPERTIES);t.addCapability(e.InACapabilities.C098_CUBE_BLENDING_READ_MODE);t.addCapability(e.InACapabilities.C099_METADATA_DATA_CATEGORY);t.addCapability(e.InACapabilities.C100_EXPAND_BOTTOM_UP);t.addCapability(e.InACapabilities.C101_CONDITIONS);t.addCapability(e.InACapabilities.C102_AGGREGATION_NOP_NULL);t.addCapability(e.InACapabilities.C103_AGGREGATION_NOP_NULL_ZERO);t.addCapability(e.InACapabilities.C104_EXCEPTION_AGGREGATION_DIMENSIONS_AND_FORMULAS);t.addCapability(e.InACapabilities.C105_EXCEPTION_AGGREGATION_AVGNULL_SELECTION_MEMBER);t.addCapability(e.InACapabilities.C106_EXCEPTION_AGGREGATION_COUNTNULL_SELECTION_MEMBER);t.addCapability(e.InACapabilities.C107_STATISTICAL_AGGREGATIONS);t.addCapability(e.InACapabilities.C108_MDS_EXPRESSION);t.addCapability(e.InACapabilities.C109_TOTALS_AFTER_VISIBILITY_FILTER);t.addCapability(e.InACapabilities.C110_DEFINITION_RETURNS_VARIABLE_VALUES);t.addCapability(e.InACapabilities.C111_HIERARCHY_NAVIGATION_DELTA_MODE);t.addCapability(e.InACapabilities.C112_FLAT_KEY_ON_HIERARCHY_DISPLAY);t.addCapability(e.InACapabilities.C113_DATA_CELL_MIXED_VALUES);t.addCapability(e.InACapabilities.C114_VALUES_ROUNDED);t.addCapability(e.InACapabilities.C115_ATTRIBUTE_VALUE_LOOKUP);t.addCapability(e.InACapabilities.C116_METADATA_HIERARCHY_UNIQUE_NAME);t.addCapability(e.InACapabilities.C117_CANCEL_RUNNING_REQUESTS);t.addCapability(e.InACapabilities.C118_CALCULATED_KEYFIGURES);t.addCapability(e.InACapabilities.C119_RESTRICTED_KEYFIGURES);t.addCapability(e.InACapabilities.C120_CURRENT_MEMBER_FILTER_EXTENSION);t.addCapability(e.InACapabilities.C121_RETURN_ERROR_FOR_INVALID_QUERYMODEL);t.addCapability(e.InACapabilities.C122_ORIGINAL_TEXTS);t.addCapability(e.InACapabilities.C123_CUSTOM_DIMENSION_FILTER);t.addCapability(e.InACapabilities.C124_AVERAGE_COUNT_IGNORE_NULL_ZERO);t.addCapability(e.InACapabilities.C125_MDS_LIKE_PAGING);t.addCapability(e.InACapabilities.C126_HIERARCHY_LEVEL_OFFSET_FILTER);t.addCapability(e.InACapabilities.C127_CE_SCENARIO_PARAMS);t.addCapability(e.InACapabilities.C128_METADATA_DIMENSION_CAN_BE_AGGREGATED);t.addCapability(e.InACapabilities.C129_INITIAL_DRILL_LEVEL_RELATIVE);t.addCapability(e.InACapabilities.C130_MDM_HIERARCHY_WITH_DRILL_LEVEL);t.addCapability(e.InACapabilities.C131_NO_HIERARCHY_PATH_ON_FLAT_DIMENSIONS);t.addCapability(e.InACapabilities.C132_DATA_REFRESH);t.addCapability(e.InACapabilities.C133_RESULTSET_AXIS_TYPE);t.addCapability(e.InACapabilities.C134_EPM_RESPONSE_LIST_SHARED_VERSIONS);t.addCapability(e.InACapabilities.C135_VARIABLE_VARIANTS);t.addCapability(e.InACapabilities.C136_READ_MODES_V2);t.addCapability(e.InACapabilities.C137_LIST_REPORTING);t.addCapability(e.InACapabilities.C138_DIMENSION_TYPE_TIME);t.addCapability(e.InACapabilities.C139_UNIVERSAL_DISPLAY_HIERARCHIES);t.addCapability(e.InACapabilities.C140_CATALOG_SERVICE_V20);t.addCapability(e.InACapabilities.C141_RETURNED_DATA_SELECTION);t.addCapability(e.InACapabilities.C142_KEYFIGURE_HIERARCHIES);t.addCapability(e.InACapabilities.C143_EXTENDED_DIMENSIONS_JOIN_CARDINALITY);t.addCapability(e.InACapabilities.C144_METADATA_DATASOURCE_DEFINITION_VALIDATION);t.addCapability(e.InACapabilities.C145_DATA_REFRESH_AND_DATA_TOPICALITY);t.addCapability(e.InACapabilities.C146_EXTENDED_VARIABLE_DEFINITION);t.addCapability(e.InACapabilities.C147_INPUT_READINESS_STATES);t.addCapability(e.InACapabilities.C148_CUSTOM_MEASURE_SORTORDER);t.addCapability(e.InACapabilities.C149_CUSTOM_SORT);t.addCapability(e.InACapabilities.C150_CARTESIAN_FILTER_INTERSECT);t.addCapability(e.InACapabilities.C151_SUPPRESS_KEYFIGURE_CALCULATION);t.addCapability(e.InACapabilities.C152_IGNORE_UNIT_OF_ZERO_VALUE_IN_AGGREGATION);t.addCapability(e.InACapabilities.C153_VARIANCE_OPERATOR);t.addCapability(e.InACapabilities.C154_MD_DS_DEF_VAL_EXPOSE_DS);t.addCapability(e.InACapabilities.C155_CLIENT_INFO);t.addCapability(e.InACapabilities.C156_EXTENDED_DIMENSION_CHANGE_DEFAULT_RENAMING_AND_DESCRIPTION);t.addCapability(e.InACapabilities.C157_EXTENDED_DIMENSION_COPY_ALL_HIERARCHIES);t.addCapability(e.InACapabilities.C158_FIX_METADATA_HIERARCHY_ATTRIBUTES);t.addCapability(e.InACapabilities.C159_EXCEPTIONS_V2);t.addCapability(e.InACapabilities.C160_QUERY_CURRENCY_TRANSLATION);t.addCapability(e.InACapabilities.C161_STRUCTURE_RESTRICTIONS_IN_VALUE_HELP);t.addCapability(e.InACapabilities.C162_ASYNC_METADATA_BATCH_REQUEST);t.addCapability(e.InACapabilities.C163_HIERARCHY_VIRTUAL_ROOT_NODE);t.addCapability(e.InACapabilities.C164_HIERARCHY_REST_NODE);t.addCapability(e.InACapabilities.C165_SPATIAL_CHOROPLETH);t.addCapability(e.InACapabilities.C166_INA_CURRENT_MEMBER);t.addCapability(e.InACapabilities.C167_FORMULA_OPERATORS_CATALOG);t.addCapability(e.InACapabilities.C168_READMODE_RELATED_BOOOKED);t.addCapability(e.InACapabilities.C169_DIMENSION_HIERARCHY_LEVELS);t.addCapability(e.InACapabilities.C170_MDM_HIERARCHY_DRILL_LEVEL);t.addCapability(e.InACapabilities.C171_CALCULATED_DIMENSION);t.addCapability(e.InACapabilities.C172_PLANNING_ON_CALCULATED_DIMENSION);t.addCapability(e.InACapabilities.C173_METADATA_BASE_MEASURE_NAME);t.addCapability(e.InACapabilities.C174_REQUEST_TIME_ZONE);t.addCapability(e.InACapabilities.C175_PRESENTATION_LENGTH);t.addCapability(e.InACapabilities.C176_VISUAL_AGGREGATION);t.addCapability(e.InACapabilities.C177_DATA_ENTRY_ON_UNBOOKED);t.addCapability(e.InACapabilities.C178_MASTER_READ_MODE_BY_DIMENSION_GROUPING);t.addCapability(e.InACapabilities.C179_UNASSIGNED_NODE_AS_DEFINED_IN_QUERY);t.addCapability(e.InACapabilities.C180_REMOTE_FILTER);t.addCapability(e.InACapabilities.C181_FIX_HIERARCHY_FLAT_KEYS);t.addCapability(e.InACapabilities.C182_CUBE_BLENDING_PERSISTENCE_TYPE);t.addCapability(e.InACapabilities.C183_GET_PARAMETERS);t.addCapability(e.InACapabilities.C184_VERSION_PRIVILEGES);t.addCapability(e.InACapabilities.C185_VALUE_HELP_WITH_ATTRIBUTES);t.addCapability(e.InACapabilities.C186_F4_FILTER_FOR_TEXT_FIELD);t.addCapability(e.InACapabilities.C187_DIMENSION_DEFAULT_MEMBER);t.addCapability(e.InACapabilities.C188_LOCALE_SORTING);t.addCapability(e.InACapabilities.C189_DIMENSION_VISIBILITY);t.addCapability(e.InACapabilities.C190_METADATA_SEMANTIC_TYPE);t.addCapability(e.InACapabilities.C191_DYNAMIC_VARIABLES);t.addCapability(e.InACapabilities.C192_VIRTUAL_DS_VARIABLE_VALUES);t.addCapability(e.InACapabilities.C193_INA_MODEL_METADATA);t.addCapability(e.InACapabilities.C194_METADATA_EXTENDED_DIMENSION_VISIBILITY);t.addCapability(e.InACapabilities.C195_RESULTSET_UNIT_INDEX);t.addCapability(e.InACapabilities.C196_REMOTE_BLENDING_BW);t.addCapability(e.InACapabilities.C197_DYN_RESTRICTION_ON_FORMULA);t.addCapability(e.InACapabilities.C198_OPERATOR_TOTALS);t.addCapability(e.InACapabilities.C199_AV_CAPABILITY_VARIABLE_MASKING);t.addCapability(e.InACapabilities.C200_COMPLEX_TUPLE_FILTER);if(this.getSession().hasFeature(e.FeatureToggleOlap.FUSION_SERVICE)===false){t.addCapability(e.InACapabilities.C201_DETAILED_RESPONSE_EXPANSION)}t.addCapability(e.InACapabilities.C202_CUSTOM_HIERARCHY);t.addCapability(e.InACapabilities.C203_CUSTOM_MEMBER_KEY_SORT_ORDER);t.addCapability(e.InACapabilities.C204_UNIVERSAL_DISPLAY_HIERARCHY_CUSTOM_DIM);t.addCapability(e.InACapabilities.C205_RESUlTSET_EFFECTIVE_FILTER);t.addCapability(e.InACapabilities.C206_REMOTE_BLENDING_METADATA);t.addCapability(e.InACapabilities.C207_BATCH_RS_STREAMING);t.addCapability(e.InACapabilities.C208_EXCEPTION_AGGREGATION_FIRST_LAST_SELECTION_MEMBER);t.addCapability(e.InACapabilities.C209_RESULTSET_CELL_EXPLAIN);t.addCapability(e.InACapabilities.C211_CUSTOM_DIMENSION_2);t.addCapability(e.InACapabilities.C212_SORT_NEW_VALUES);t.addCapability(e.InACapabilities.C213_ROOT_ORPHANS_AFTER_VISIBILITY_FILTER);t.addCapability(e.InACapabilities.C214_IS_VIRTUAL_DESCRIPTION);t.addCapability(e.InACapabilities.C215_MEASURE_MEMBER_DEFINITION);t.addCapability(e.InACapabilities.C216_MEASURE_MEMBER_DETAILS);t.addCapability(e.InACapabilities.C217_MEASURE_MEMBER_TYPE);t.addCapability(e.InACapabilities.C218_CURRENCY_TRANSLATION);t.addCapability(e.InACapabilities.C219_MEASURE_MEMBER_CURRENCY_TRANSLATIONS);t.addCapability(e.InACapabilities.C220_UNDEFINED_TUPLE_COUNT_TOTALS);t.addCapability(e.InACapabilities.C221_UNIVERSAL_MODEL);t.addCapability(e.InACapabilities.C222_SET_OPERAND_CURRENT_MEMBER_SINGLE_NAVIGATION);this.addCapabilitiesFromEnv(t)};e.InACapabilitiesProvider.prototype.createFeatureTogglePlanningCapabilities=function(t){if(this.getSession().hasFeature(e.FeatureToggleOlap.DEVELOPMENT_MODE_PLANNING)){t.addCapability(e.InACapabilities.C001_DATASOURCE_AT_SERVICE);t.addCapability(e.InACapabilities.C012_ENCODED_RESULTSET);t.addCapability(e.InACapabilities.C054_EXTENDED_SORT);t.addCapability(e.InACapabilities.C066_SUBMIT_RETURNS_VARIABLE_VALUES);t.addCapability(e.InACapabilities.C100_EXPAND_BOTTOM_UP);t.addCapability(e.InACapabilities.C136_READ_MODES_V2);t.addCapability(e.InACapabilities.C129_INITIAL_DRILL_LEVEL_RELATIVE);t.addCapability(e.InACapabilities.C032_FAST_PATH);t.addCapability(e.InACapabilities.C113_DATA_CELL_MIXED_VALUES);t.addCapability(e.InACapabilities.C110_DEFINITION_RETURNS_VARIABLE_VALUES);t.addCapability(e.InACapabilities.C169_DIMENSION_HIERARCHY_LEVELS);t.addCapability(e.InACapabilities.C159_EXCEPTIONS_V2);t.addCapability(e.InACapabilities.C019_EXTENDED_DIMENSION_TYPES);t.addCapability(e.InACapabilities.C146_EXTENDED_VARIABLE_DEFINITION);t.addCapability(e.InACapabilities.C186_F4_FILTER_FOR_TEXT_FIELD);t.addCapability(e.InACapabilities.C125_MDS_LIKE_PAGING);t.addCapability(e.InACapabilities.C173_METADATA_BASE_MEASURE_NAME);t.addCapability(e.InACapabilities.C175_PRESENTATION_LENGTH);t.addCapability(e.InACapabilities.C179_UNASSIGNED_NODE_AS_DEFINED_IN_QUERY);t.addCapability(e.InACapabilities.C142_KEYFIGURE_HIERARCHIES);t.addCapability(e.InACapabilities.C048_MEMBER_VISIBILITY);t.addCapability(e.InACapabilities.C119_RESTRICTED_KEYFIGURES);t.addCapability(e.InACapabilities.C036_ATTRIBUTE_HIERARCHY_HIERARCHY_FIELDS);t.addCapability(e.InACapabilities.C035_HIERARCHY_NAVIGATION_COUNTER);t.addCapability(e.InACapabilities.C020_NEW_VALUES_IMPLICIT_UNLOCK);t.addCapability(e.InACapabilities.C021_NEW_VALUES_EXTENDED_FORMAT);t.addCapability(e.InACapabilities.C005_OBTAINABILITY);t.addCapability(e.InACapabilities.C026_QUERY_DATA_CELLS);t.addCapability(e.InACapabilities.C049_RESULTSET_INTERVAL);t.addCapability(e.InACapabilities.C017_SAP_DATE);t.addCapability(e.InACapabilities.C009_STATEFUL_SERVER);t.addCapability(e.InACapabilities.C037_SUPPLEMENTS);t.addCapability(e.InACapabilities.C018_CUMMULATIVE);t.addCapability(e.InACapabilities.C011_SET_OPERAND);t.addCapability(e.InACapabilities.C002_VARIABLE_RE_SUBMIT);t.addCapability(e.InACapabilities.C045_ZERO_SUPPRESSION);t.addCapability(e.InACapabilities.V158_UNIVERSAL_DISPLAY_HIERARCHY_ZERO_BASED);t.addCapability(e.InACapabilities.V168_EXT_KEYFIGURE_PROPERTIES);t.addCapability(e.InACapabilities.V174_QDATA_CELL_MODEL_DEFAULTS);t.addCapability(e.InACapabilities.V186_DISP_HIERARCHY_FIX_IN_FILTER);t.addCapability(e.InACapabilities.V230_SUPPRESS_SUPPLEMENTS);t.addCapability(e.InACapabilities.V232_SID_PRESENTATION);t.addCapability(e.InACapabilities.V322_HIERARCHY_CATALOG)}return t};e.InACapabilitiesProvider.prototype.createMainPlanningCapabilities=function(t){t.addCapability(e.InACapabilities.C000_ATTRIBUTE_HIERARCHY);t.addCapability(e.InACapabilities.C003_CLIENT_CAPABILITIES);t.addCapability(e.InACapabilities.C022_HIERARCHY_NAME_VARIABLE);this.addCapabilitiesFromEnv(t)};e.InACapabilitiesProvider.prototype.addCapabilitiesFromEnv=function(t){var r=this.getSession().getEnvironment();var a=r.getVariable(e.XEnvironmentConstants.FIREFLY_ADD_INA_CAPABILITY);if(e.notNull(a)){var n=e.XStringTokenizer.splitString(a,",");var i=n.getIterator();while(i.hasNext()){t.addCapability(i.next())}}var o=r.getVariable(e.XEnvironmentConstants.FIREFLY_REMOVE_INA_CAPABILITY);if(e.notNull(o)){var s=e.XStringTokenizer.splitString(o,",");var l=s.getIterator();while(l.hasNext()){t.remove(l.next())}}};e.InACapabilitiesProvider.prototype.check=function(t,r,a){if(this.getSession().hasFeature(r)||e.notNull(this.m_additionalFeatureToggles)&&this.m_additionalFeatureToggles.contains(r)){t.addCapability(a)}};e.InACapabilitiesProvider.prototype.checkExt=function(e,t,r,a,n){if(a.isTypeOf(n)){this.check(e,t,r)}else{e.addCapability(r)}};e.InACapabilitiesProvider.prototype.getClientMainCapabilities=function(){return this.m_clientMainCapabilities};e.InACapabilitiesProvider.prototype.getClientFeatureToggleCapabilities=function(){return this.m_clientFeatureToggleCapabilities};e.InACapabilitiesProvider.prototype.getServerBetaCapabilities=function(){return this.m_serverBetaCapabilities};e.InACapabilitiesProvider.prototype.getServerMainCapabilities=function(){return this.m_serverMainCapabilities};e.InACapabilitiesProvider.prototype.getActiveCapabilities=function(){if(e.isNull(this.m_activeCapabilities)){var t=null;var r=this.getServerMainCapabilities();var a=this.getServerBetaCapabilities();var n=this.getClientMainCapabilities();var i=this.getClientFeatureToggleCapabilities();if(this.getSession().hasFeature(e.FeatureToggleOlap.SIMPLIFIED_CAPABILITY_MERGE)){if(e.notNull(r)){if(this.getSession().hasFeature(e.FeatureToggleOlap.DEVELOPMENT_MODE)){t=r.union(a)}else{var o=a.intersect(e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES);t=r.union(o)}}var s=n.union(i);if(e.notNull(t)){this.m_activeCapabilities=t.intersect(s)}}else{t=this._sacFallback(r,a);if(e.notNull(t)){var l=t.intersect(n);if(this.getSession().hasFeature(e.FeatureToggleOlap.DEVELOPMENT_MODE)){if(e.notNull(r)){t=r.union(a)}}var u=t.intersect(i);this.m_activeCapabilities=l.union(u)}}if(this.m_serverMetadata.getSystemDescription().getSystemType().isTypeOf(e.SystemType.HANA)&&e.notNull(this.m_activeCapabilities)&&this.m_activeCapabilities.containsKey(e.InACapabilities.C211_CUSTOM_DIMENSION_2)&&(e.ServerVersionComparator.compare(this.m_serverMetadata.getVersion(),"1.0.122.14.00000000")===1||!this.doesServerSatisfyMinCustomDimension2CapabilitySet())){this.m_activeCapabilities.remove(e.InACapabilities.C211_CUSTOM_DIMENSION_2)}}return this.m_activeCapabilities};e.InACapabilitiesProvider.prototype.doesServerSatisfyMinCustomDimension2CapabilitySet=function(){var t=this.m_serverMetadata.getMetadataForService(e.ServerService.ANALYTIC);if(e.isNull(t)){return false}var r=this.getSACBaselineHANALevel3Capabilities();for(var a=0;a<r.size();a++){if(!t.containsKey(r.get(a))){return false}}return true};e.InACapabilitiesProvider.prototype.getSACBaselineHANALevel3Capabilities=function(){var t=e.XListOfString.create();t.add("AttributeValueLookup");t.add("CellValueOperand");t.add("SupportsIgnoreExternalDimensions");t.add("SetOperandCurrentMemberSingleNavigation");t.add("CurrentMemberFilterExtension");t.add("ExceptionAggregationDimsAndFormulas");t.add("CubeBlending");t.add("CubeBlendingProperties");t.add("CubeBlendingMemberSorting");t.add("CubeBlendingCustomMembers");t.add("CubeBlendingReadMode");t.add("CubeBlendingOutOfContext");t.add("SupportsCubeBlendingAggregation");t.add("ExceptionSettings");t.add("AggregationNOPNULL");t.add("AggregationNOPNULLZERO");t.add("MultipleExAggDimsInCalcPlan");t.add("ExtendedDimensionsChangeDefaultRenamingAndDescription");t.add("ExtendedDimensionsCopyAllHierarchies");t.add("FixMetaDataHierarchyAttributes");t.add("RemoteBlending");t.add("CalculatedDimension");t.add("PlanningOnCalculatedDimension");t.add("CustomDimension2");t.add("ResultSetUnitIndex");t.add("ExceptionAggregationCountNullInSelectionMember");t.add("ExceptionAggregationAverageNullInSelectionMember");t.add("ExceptionAggregationFirstLastInSelectionMember");return t};e.InACapabilitiesProvider.prototype._sacFallback=function(t,r){if(e.notNull(r)&&e.notNull(t)){var a=e.InACapabilitiesProvider.SAC_DEV_CAPABILITIES.getKeysAsIteratorOfString();while(a.hasNext()){var n=a.next();if(r.containsKey(n)){t.addCapability(n)}}}return t};e.InACapabilitiesProvider.prototype.exportActiveCapabilities=function(t){var r=this.exportActiveCapabilitiesAsList();if(e.notNull(r)){t.put("Capabilities",r)}return r};e.InACapabilitiesProvider.prototype.exportActiveCapabilitiesAsList=function(){var t=null;var r=this.getActiveCapabilities();if(e.notNull(r)){if(r.containsKey(e.InACapabilities.C003_CLIENT_CAPABILITIES)){var a=r.getSortedCapabilityNames();t=e.PrFactory.createList();t.addAllStrings(a)}}return t};e.InACapabilitiesProvider.prototype.getDimensionExtensionCapabilities=function(){return this.m_dimensionExtensionCapabilities};e.InACapabilitiesProvider.prototype.getDocumentCapabilities=function(){return this.m_documentCapabilities};e.InACapabilitiesProvider.prototype.importDeserializationDocumentCapabilities=function(t){this.m_deserializationDocumentCapabilities=e.CapabilityContainer.create("Document");var r=t.getStructureByKey("Analytics");if(e.notNull(r)){var a=r.getListByKey("Capabilities");if(e.notNull(a)){for(var n=0;n<a.size();n++){var i=a.getStringAt(n);this.m_deserializationDocumentCapabilities.addCapability(i)}}}};e.InACapabilitiesProvider.prototype.activateDevCapabilities=function(t){if(e.notNull(t)&&t.hasElements()){var r=this.getServerBetaCapabilities();var a=this.getServerMainCapabilities();var n=this.getActiveCapabilities();var i=t.getIterator();var o=this.getSession();while(i.hasNext()){var s=i.next();if(e.XStringUtils.isNotNullAndNotEmpty(s)&&e.XString.containsString(s,".")){s=e.XString.substring(s,e.XString.indexOf(s,".")+1,e.XString.size(s))}if(r.containsKey(s)&&e.InACapabilitiesProvider.isDevCapabilityValid(s,o)){n.addCapability(s)}if(a.containsKey(s)){n.addCapability(s)}}}};e.InACapabilitiesProvider.prototype.getServerMetadata=function(){return this.m_serverMetadata};e.InACapabilitiesProvider.prototype.getProviderType=function(){return this.m_providerType};e.InACapabilitiesProvider.prototype.toString=function(){var t=e.XStringBuffer.create();if(e.notNull(this.m_serverMainCapabilities)){t.appendLine("=== Server Main Capabilities ===");t.appendLine(this.m_serverMainCapabilities.toString())}if(e.notNull(this.m_serverBetaCapabilities)){t.appendLine("=== Server Beta Capabilities ===");t.appendLine(this.m_serverBetaCapabilities.toString())}if(e.notNull(this.m_clientMainCapabilities)){t.appendLine("=== Client Main Capabilities ===");t.appendLine(this.m_clientMainCapabilities.toString())}if(e.notNull(this.m_clientFeatureToggleCapabilities)){t.appendLine("=== Client FeatureToggle Capabilities ===");t.appendLine(this.m_clientFeatureToggleCapabilities.toString())}if(e.notNull(this.m_activeCapabilities)){t.appendLine("=== Active Capabilities ===");t.appendLine(this.m_activeCapabilities.toString())}if(e.notNull(this.m_serverPersistencyCapabilities)){t.appendLine("=== Server Persistency Capabilities ===");t.appendLine(this.m_serverPersistencyCapabilities.toString())}return t.toString()};e.InACapabilitiesProvider.prototype.getServerCapabilitiesForProviderType=function(t,r){var a=e.QInAConverter.lookupServiceNameForProvider(t);if(e.isNull(a)){a=e.QInAConverter.lookupFallbackServiceNameForProvider(t)}if(e.notNull(a)){var n=r?this.m_serverMetadata.getBetaMetadataForService(a):this.m_serverMetadata.getMetadataForService(a);return n}return null};e.InACapabilitiesProvider.prototype.getQueryCapabilities=function(){var t=e.QCapabilities.create();t.setSystemType(this.m_serverMetadata.getSystemDescription().getSystemType());t.setSystemName(this.m_serverMetadata.getSystemDescription().getSystemName());t.setServerMetadataVersion(this.m_serverMetadata.getVersion());var r=this.getActiveCapabilities();e.InACapabilitiesProvider.importCapabilities(r,t);var a=this.getDimensionExtensionCapabilities();e.InACapabilitiesProvider.importDimensionExtensionCapabilities(a,t);return t};e.AbstractOlapEnvQueryManagerHandler=function(){};e.AbstractOlapEnvQueryManagerHandler.prototype=new e.XObject;e.AbstractOlapEnvQueryManagerHandler.prototype._ff_c="AbstractOlapEnvQueryManagerHandler";e.AbstractOlapEnvQueryManagerHandler.prototype.m_olapEnvArea=null;e.AbstractOlapEnvQueryManagerHandler.prototype.m_selectionMap=null;e.AbstractOlapEnvQueryManagerHandler.prototype.setupQueryManagerHandler=function(t){this.m_selectionMap=e.XHashMapOfStringByString.create();this.m_olapEnvArea=e.XWeakReferenceUtil.getWeakRef(t)};e.AbstractOlapEnvQueryManagerHandler.prototype.releaseObject=function(){this.m_olapEnvArea=e.XObjectExt.release(this.m_olapEnvArea);this.m_selectionMap=e.XObjectExt.release(this.m_selectionMap);e.XObject.prototype.releaseObject.call(this)};e.AbstractOlapEnvQueryManagerHandler.prototype.getTaggedQueryManagers=function(){var t=this.getOlapEnv().getAllAreaQueryManager();if(this.m_selectionMap.isEmpty()){return t}var r=e.XList.create();var a=t.size();for(var n=0;n<a;n++){var i=t.get(n);var o=i.getTagging();var s=this.m_selectionMap.getKeysAsIteratorOfString();var l=true;while(s.hasNext()){var u=s.next();var p=this.m_selectionMap.getByKey(u);var c=o.getByKey(u);if(!e.XString.isEqual(p,c)){l=false;break}}if(l){r.add(i)}}return r};e.AbstractOlapEnvQueryManagerHandler.prototype.getOlapEnv=function(){return e.XWeakReferenceUtil.getHardRef(this.m_olapEnvArea)};e.AbstractOlapEnvQueryManagerHandler.prototype.getApplication=function(){return this.getOlapEnv().getApplication()};e.AbstractOlapEnvQueryManagerHandler.prototype.getSession=function(){return this.getOlapEnv().getSession()};e.AbstractOlapEnvQueryManagerHandler.prototype.getProcess=function(){return this.getOlapEnv().getProcess()};e.AbstractOlapEnvQueryManagerHandler.prototype.getSelectionMap=function(){return this.m_selectionMap};e.OlapEnvVariable=function(){};e.OlapEnvVariable.prototype=new e.DfNameObject;e.OlapEnvVariable.prototype._ff_c="OlapEnvVariable";e.OlapEnvVariable.create=function(t,r){var a=new e.OlapEnvVariable;a._setupInternal(t);a.m_mainVariable=r;a.m_secondaryVariables=e.XList.create();return a};e.OlapEnvVariable.prototype.m_mainVariable=null;e.OlapEnvVariable.prototype.m_secondaryVariables=null;e.OlapEnvVariable.prototype.releaseObject=function(){this.m_mainVariable=null;this.m_secondaryVariables=e.XObjectExt.release(this.m_secondaryVariables);e.DfNameObject.prototype.releaseObject.call(this)};e.OlapEnvVariable.prototype.addSecondaryVariable=function(e){this.m_secondaryVariables.add(e)};e.OlapEnvVariable.prototype.getMainVariable=function(){return this.m_mainVariable};e.OlapEnvVariable.prototype.sync=function(){var t=this.m_mainVariable.serializeToElement(e.QModelFormat.INA_REPOSITORY);for(var r=0;r<this.m_secondaryVariables.size();r++){var a=this.m_secondaryVariables.get(r);a.deserializeFromElementExt(e.QModelFormat.INA_REPOSITORY,t)}};e.OlapEnvStateManager=function(){};e.OlapEnvStateManager.prototype=new e.AbstractOlapEnvQueryManagerHandler;e.OlapEnvStateManager.prototype._ff_c="OlapEnvStateManager";e.OlapEnvStateManager.create=function(t,r){var a=new e.OlapEnvStateManager;a.setupStateManager(t,r);return a};e.OlapEnvStateManager.prototype.m_stateCache=null;e.OlapEnvStateManager.prototype.m_olapEnvStates=null;e.OlapEnvStateManager.prototype.m_jsonParser=null;e.OlapEnvStateManager.prototype.m_useIncludeMode=false;e.OlapEnvStateManager.prototype.m_releaseQueryManagersEnabled=false;e.OlapEnvStateManager.prototype.setupStateManager=function(t,r){this.setupQueryManagerHandler(t);this.m_stateCache=e.XLinkedMap.createLinkedMap();this.m_olapEnvStates=e.XHashMapByString.create();this.m_jsonParser=e.JsonParserFactory.newInstance();this.m_releaseQueryManagersEnabled=e.isNull(r)||r.hasFeature(e.FeatureToggleOlap.UNDO_RELEASE_QUERY_MANAGERS);this.setUseIncludeMode(e.notNull(r)&&r.hasFeature(e.FeatureToggleOlap.UNDO_USE_ALLOW_LIST))};e.OlapEnvStateManager.prototype.releaseObject=function(){this.m_stateCache=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_stateCache);this.m_jsonParser=e.XObjectExt.release(this.m_jsonParser);this.m_olapEnvStates=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_olapEnvStates);e.AbstractOlapEnvQueryManagerHandler.prototype.releaseObject.call(this)};e.OlapEnvStateManager.prototype.applyDocumentState=function(t,r,a,n){var i=this.m_olapEnvStates.getByKey(n);if(e.isNull(i)){return null}return e.DocumentUpdateAction.createAndRun(t,r,a,this,i)};e.OlapEnvStateManager.prototype.recordDocumentState=function(){var t=e.OlapEnvState.create();var r=e.XGuid.getGuid();var a=this.recordFilterManagerState(r);t.setFilterManagerState(a);var n=this.recordClientQueryObjectManagerState();t.setSharedObjectsState(n);var i=this.getOlapEnv().getAllAreaQueryManager();e.XCollectionUtils.forEach(i,function(a){var n;if(a.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){n=this.recordBlendableQueryManagerState(a,r)}else{n=this.recordQueryManagerState(a,r)}t.getQueryManagersState().put(a.getName(),n)}.bind(this));this.m_olapEnvStates.put(r,t);return r};e.OlapEnvStateManager.prototype.updateDocumentState=function(t){var r=this.m_olapEnvStates.getByKey(t);if(r.getFilterManagerState()===null){var a=this.recordFilterManagerState(t);r.setFilterManagerState(a)}if(r.getSharedObjectsState()===null){var n=this.recordClientQueryObjectManagerState();r.setSharedObjectsState(n)}var i=this.getOlapEnv().getAllAreaQueryManager();e.XCollectionUtils.forEach(i,function(a){var n=a.getName();var i=this.getQmState(r,n);if(e.XStringUtils.isNullOrEmpty(i)){var o;if(a.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){o=this.recordBlendableQueryManagerState(a,t)}else{o=this.recordQueryManagerState(a,t)}r.getQueryManagersState().put(a.getName(),o)}}.bind(this))};e.OlapEnvStateManager.prototype.clearDocumentState=function(t){var r=this.m_olapEnvStates.remove(t);if(e.notNull(r)){this.releaseRef(r.getSharedObjectsState(),t);this.releaseRef(r.getFilterManagerState(),t);var a=r.getQueryManagersState().getValuesAsReadOnlyList().getIterator();while(a.hasNext()){this.releaseRef(a.next(),t)}r.getQueryManagersState().clear()}};e.OlapEnvStateManager.prototype.releaseRef=function(t,r){if(e.isNull(t)){return}var a=this.m_stateCache.getByKey(t.getStateId());if(e.notNull(a)){a.getOlapStateRefs().removeElement(r);if(a.getOlapStateRefs().isEmpty()){this.m_stateCache.removeElement(a)}}};e.OlapEnvStateManager.prototype.recordClientQueryObjectManagerState=function(){return null};e.OlapEnvStateManager.prototype.recordFilterManagerState=function(t){var r=this.getOlapEnv().getFilterManager();var a=r.getModCounter();var n=this.getStateWithModeCounter(a,"filterManager",t);if(e.notNull(n)){return n}var i=r.serializeToElement(e.QModelFormat.INA_REPOSITORY).asStructure();return this.addNewStateToCache(r.getModCounter(),i,"filterManager",t)};e.OlapEnvStateManager.prototype.recordBlendableQueryManagerState=function(t,r){var a=this.hasToBeIgnored(t);var n=0;if(!a){n=t.getModCounter()}var i=this.getStateWithModeCounter(n,t.getName(),r);if(e.isNull(i)){var o=e.PrFactory.createStructure();if(!a){var s=t.serializeToElement(e.QModelFormat.INA_REPOSITORY).asStructure();o.put(e.QStateConstants.QUERY_MODEL,s);o.put(e.QStateConstants.MANAGER_TAGS,s.getByKey(e.QStateConstants.MANAGER_TAGS));var l=t.getAllQueryManagers().getIterator();var u=o.putNewList(e.QStateConstants.QUERY_MANAGER_EXTERNAL_FILTERS);while(l.hasNext()){var p=l.next();var c=u.addNewStructure();c.putString(e.QStateConstants.MANAGER_DATASET_ID,p.getQueryModel().getDatasetId());this.recordUsedExternalFilters(p,c)}}i=this.addNewStateToCache(n,o,t.getName(),r)}return i};e.OlapEnvStateManager.prototype.recordQueryManagerState=function(t,r){var a=t.getQueryModelBase();var n=this.hasToBeIgnored(t);var i=0;if(!n){i=a.getModCounter()}var o=this.getStateWithModeCounter(i,t.getName(),r);if(e.isNull(o)){var s=e.PrFactory.createStructure();if(!n){var l=t.serializeToElement(e.QModelFormat.INA_REPOSITORY).asStructure();var u=l.getByKey(e.QStateConstants.QUERY_MODEL);s.put(e.QStateConstants.QUERY_MODEL,u);s.put(e.QStateConstants.MANAGER_TAGS,l.getByKey(e.QStateConstants.MANAGER_TAGS));s.putString(e.QStateConstants.MANAGER_DATASET_ID,a.getDatasetId());s.putString(e.QStateConstants.MANAGER_SYSTEM_NAME,t.getSystemName());this.recordUsedExternalFilters(t,s)}o=this.addNewStateToCache(i,s,t.getName(),r)}return o};e.OlapEnvStateManager.prototype.hasToBeIgnored=function(t){var r=t.getTagging();var a=this.m_useIncludeMode?!r.containsKey(e.QStateConstants.TAG_UNDO_INCLUDE):r.containsKey(e.QStateConstants.TAG_UNDO_IGNORE);a=a||r.containsKey(e.QStateConstants.TAG_HAS_TRANSIENT_DEPS);return a||t.isShallow()||t.isBasedOnVirtualDataSource()};e.OlapEnvStateManager.prototype.addNewStateToCache=function(t,r,a,n){var i=e.XStringUtils.concatenate2(a,e.XInteger.convertToString(t));var o=r.isEmpty()?"":e.PrUtils.serialize(r,false,false,0);var s=e.StateStackEntry.create(i,o);s.getOlapStateRefs().add(n);this.m_stateCache.add(s);return e.ComponentStateRef.create(t,i)};e.OlapEnvStateManager.prototype.getStateWithModeCounter=function(t,r,a){var n=e.XStringUtils.concatenate2(r,e.XInteger.convertToString(t));var i=this.m_stateCache.getByKey(n);if(e.notNull(i)){i.getOlapStateRefs().add(a);return e.ComponentStateRef.create(t,n)}return null};e.OlapEnvStateManager.prototype.recordUsedExternalFilters=function(e,t){var r=e.getQueryModel().getFilter().getLinkedFilters();var a=t.putNewList("OlapFilters");var n=r.getKeysAsIteratorOfString();while(n.hasNext()){var i=a.addNewStructure();var o=n.next();i.putString("Name",o);i.putString("Id",r.getByKey(o).getUniqueId())}};e.OlapEnvStateManager.prototype.dumpState=function(t){var r=e.PrFactory.createStructure();var a=this.m_olapEnvStates.getByKey(t);var n=this.m_jsonParser.parse(this.m_stateCache.getByKey(a.getFilterManagerState().getStateId()).getState());r.put("fm",n);var i=a.getQueryManagersState().getKeysAsIteratorOfString();while(i.hasNext()){var o=i.next();var s=this.getQmState(a,o);var l;if(e.XStringUtils.isNotNullAndNotEmpty(s)){l=this.m_jsonParser.parse(s)}else{l=e.PrFactory.createStructure()}r.put(o,l)}return r};e.OlapEnvStateManager.prototype.getQmState=function(t,r){var a=t.getQueryManagersState().getByKey(r);if(e.isNull(a)){return null}return this.m_stateCache.getByKey(a.getStateId()).getState()};e.OlapEnvStateManager.prototype.setUseIncludeMode=function(e){this.m_useIncludeMode=e};e.OlapEnvStateManager.prototype.onVariableProcessorExecuted=function(e,t,r){};e.OlapEnvStateManager.prototype.isReleaseQueryManagersEnabled=function(){return this.m_releaseQueryManagersEnabled};e.OlapEnvStateManager.prototype.getStateCache=function(){return this.m_stateCache};e.PreQueryExecutor=function(){};e.PreQueryExecutor.prototype=new e.MessageManager;e.PreQueryExecutor.prototype._ff_c="PreQueryExecutor";e.PreQueryExecutor.create=function(t){var r=new e.PreQueryExecutor;r.setupSessionContext(null);r.m_queryManager=t;r.m_messageReceivers=e.XList.create();return r};e.PreQueryExecutor.prototype.m_queryManager=null;e.PreQueryExecutor.prototype.m_preQueryManager=null;e.PreQueryExecutor.prototype.m_preQueryExecutedListener=null;e.PreQueryExecutor.prototype.m_messageReceivers=null;e.PreQueryExecutor.prototype.releaseObject=function(){e.MessageManager.prototype.releaseObject.call(this);this.m_queryManager=null;this.m_preQueryManager=null;this.m_preQueryExecutedListener=null;this.m_messageReceivers=e.XObjectExt.release(this.m_messageReceivers)};e.PreQueryExecutor.prototype.serializeRemotePreQueries=function(t,r,a,n){this.clearMessages();this.m_preQueryExecutedListener=n;if(e.XCollectionUtils.hasElements(a)){for(var i=0;i<a.size();i++){var o=a.get(i).getObject().getQueryManager();var s=o.getPreQueryExecutor();if(!s.serializeRemotePreQueries(t,o.getSystemName(),o.getQueryModel().getPreQueries(),n)){this.addAllMessages(s);return false}if(!e.XString.isEqual(r,o.getSystemName())){if(!this.serializeAsRemotePreQuery(o,t,r)){return false}}}}return this.isValid()};e.PreQueryExecutor.prototype.serializeAsRemotePreQuery=function(t,r,a){var n=t.getQueryModelBase();n.getUniversalDisplayHierarchiesBase().updateIncludedDimensions();n.generateTransientObjects();n.getDrillManager().checkRootNodeFetching();var i=this.updateResultSetPersistenceTarget(t,a);n.destroyTransientObjects();t.setResultSetPersistenceIdentifier(i);var o=t.getResultSetSyncState();if(o===e.SyncState.OUT_OF_SYNC||o===e.SyncState.PROCESSING){this.m_preQueryManager=t;var s=t.getOlapEnv().getCachedRemoteBlendingData(i);if(e.notNull(s)){t.getActiveResultSetContainer().setSerializedData(s.getView(),s.getCube())}else if(r===e.SyncType.BLOCKING){var l;var u=t.getConnection();if(u.isBatchModeEnabled()&&this.hasModelPrequeries(t.getQueryModelBase())){u.getConnectionPool().disableBatchMode(e.SyncType.NON_BLOCKING,t.getSystemName());l=t.processQueryExecutionAsRemotePreQuery(e.SyncType.BLOCKING,null,null);u.getConnectionPool().enableBatchMode(t.getSystemName())}else{l=t.processQueryExecutionAsRemotePreQuery(e.SyncType.BLOCKING,null,null)}this.addMessageReceiver(this);this.onPreQueryExecuted(l,true)}else{this.addMessageReceiver(this);t.processQueryExecutionAsRemotePreQuery(r,this,e.XStringValue.create("RemotePreQuerySerialization"));return false}}else if(o===e.SyncState.IN_SYNC_WITH_ERROR){this.addAllMessages(t.getActiveResultSetContainer())}return this.isValid()};e.PreQueryExecutor.prototype.hasModelPrequeries=function(e){var t=this.hasPrequeries(e);if(!t){e.generateTransientObjects();t=this.hasPrequeries(e);e.destroyTransientObjects()}return t};e.PreQueryExecutor.prototype.hasPrequeries=function(t){return e.XCollectionUtils.hasElements(t.getPreQueries())||e.XCollectionUtils.contains(t.getLoadedDimensions(),function(t){return t.getDimensionType().isTypeOf(e.DimensionType.FORMULA_CALCULATED_DIMENSION)}.bind(this))};e.PreQueryExecutor.prototype.onQueryExecuted=function(t,r,a){if(e.notNull(a)&&e.XString.isEqual(a.toString(),"RemotePreQuerySerialization")){this.onPreQueryExecuted(t,true);this.m_preQueryExecutedListener.onPreQueryExecuted()}else{this.onPreQueryExecuted(t,false)}};e.PreQueryExecutor.prototype.onPreQueryExecuted=function(t,r){var a=this.m_preQueryManager.getQueryModel();if(e.notNull(a)&&!a.isReleased()){a.addQueryModelIdToMessages(t.getMessages());if(r||this.isStreamingEnabled()){for(var n=0;n<this.m_messageReceivers.size();n++){this.m_messageReceivers.get(n).copyAllMessages(t)}}this.m_messageReceivers.clear()}};e.PreQueryExecutor.prototype.isStreamingEnabled=function(){var t=this.m_preQueryManager.getServiceConfig().getConnectionContainer();if(e.notNull(t)){var r=t.getBatchRequestManager();if(e.notNull(r)){return r.isRsStreamingEnabled()}}return false};e.PreQueryExecutor.prototype.processExecutionAsPreQueryInBatch=function(t,r,a){if(this.m_queryManager.getActiveResultSetContainer().getSyncState()===e.SyncState.PROCESSING){this.addMessageReceiver(a);return}var n=this.m_queryManager.isResultSetTransportEnabled();this.m_queryManager.setResultSetTransportEnabled(false);if(e.XString.isEqual(t,this.m_queryManager.getSystemName())){this.m_preQueryManager=this.m_queryManager;this.addMessageReceiver(a);this.m_queryManager.setPreQueryName(r);this.m_queryManager.processQueryExecution(e.SyncType.NON_BLOCKING,this,null);this.restoreData(n,null)}else{var i=this.m_queryManager;var o=i.getConnection();i.setConnection(o.getConnectionPool().getConnection(t));this.m_queryManager.setPreQueryName(r);this.m_queryManager.processQueryExecutionAsRemotePreQuery(e.SyncType.NON_BLOCKING,null,null);this.restoreData(n,o)}};e.PreQueryExecutor.prototype.addMessageReceiver=function(t){if(e.notNull(t)){this.m_messageReceivers.add(t)}};e.PreQueryExecutor.prototype.restoreData=function(t,r){if(e.notNull(r)){this.m_queryManager.setConnection(r)}this.m_queryManager.getActiveResultSetContainer().setResultSetTransportEnabled(t);this.m_queryManager.setPreQueryName(null)};e.PreQueryExecutor.prototype.updateResultSetPersistenceTarget=function(t,r){var a=t.getApplication().getSystemLandscape().getSystemDescription(r);if(e.notNull(a)){if(a.isSystemMappingValid(t.getSystemDescription())){var n=t.getSystemDescription().getSystemMapping(r);t.setResultSetPersistanceTargetTable(n.getSerializeTable());t.setResultSetPersistanceTargetSchema(n.getSerializeSchema())}else{t.setResultSetPersistanceTargetTable(null);t.setResultSetPersistanceTargetSchema(null);return e.BlendingSource.createPersistenceIdentifierForPreQuery(t,false)}}return e.BlendingSource.createPersistenceIdentifierForPreQuery(t,true)};e.PreQueryExecutor.prototype.processExecutionRuntimePrequery=function(t,r,a){var n=r.generateRemoteQuery(this.m_queryManager);if(n.hasErrors()){var i=e.ExtResult.createWithExternalMessages(null,n);a.onFunctionExecuted(i,null,r);return e.SyncActionExtRes.createSyncAction(null,n)}var o=this.m_queryManager.getApplication().getConnectionPool();var s=o.getConnection(r.getSystemName());var l=s.getSystemDescription();var u=s.newRpcFunction(l.getSystemType().getInAPath());var p=u.getRpcRequest();p.setSapPassportConnectionId(this.m_queryManager.getInstanceId());p.setRequestStructure(n.getData());return u.processFunctionExecution(t,a,r)};e.BlendableQMPersistedInAExportAction=function(){};e.BlendableQMPersistedInAExportAction.prototype=new e.SyncAction;e.BlendableQMPersistedInAExportAction.prototype._ff_c="BlendableQMPersistedInAExportAction";e.BlendableQMPersistedInAExportAction.create=function(t){var r=new e.BlendableQMPersistedInAExportAction;r.setupAction(null,null,null,t);r.m_blendingProcess=e.BlendingProcess.create(t,t.getBlendingProcessConfigs(),null,null);return r};e.BlendableQMPersistedInAExportAction.prototype.m_blendingProcess=null;e.BlendableQMPersistedInAExportAction.prototype.releaseObject=function(){this.m_blendingProcess.postQueryExecution();this.m_blendingProcess=e.XObjectExt.release(this.m_blendingProcess);e.SyncAction.prototype.releaseObject.call(this)};e.BlendableQMPersistedInAExportAction.prototype.processSynchronization=function(e){this.m_blendingProcess.processBlendedQueryManagerCreation(e,this,null);return true};e.BlendableQMPersistedInAExportAction.prototype.onQueryManagerCreated=function(t,r,a){this.addAllMessages(t);if(!t.hasErrors()){this.m_blendingProcess.prepareQueryExecution();var n=r.getQueryModel().getDataSource().getBlendingDefinition();var i=n.getBlendingHost();var o=e.BlendingUtils.getLeafBlendingSources(n);var s=e.XList.create();for(var l=0;l<o.size();l++){var u=o.get(l);var p=u.getQueryManager();var c=i.getSystemDescription();var g=null;p.getQueryModel().generateTransientObjects();var y=p.getQueryModel().getPreQueries();if(e.notNull(y)){var m=y.getIterator();while(m.hasNext()){var d=m.next();var C=d.getObject();g=C.getSystemDescription();if(e.notNull(g)&&!e.XString.isEqual(g.getName(),c.getName())){this.addSecondaryInaToDependentQueries(p,c,g,s)}}}if(u.isRemoteSource()&&e.notNull(g)){this.addSecondaryInaToDependentQueries(p,c,g,s)}p.getQueryModel().destroyTransientObjects()}var A=e.BlendableQMPersistedInAResult.create(r.serializeToElement(e.QModelFormat.INA_PERSISTED_QUERY_DATA),s,r,i.getSystemName());this.setData(A)}this.endSync()};e.BlendableQMPersistedInAExportAction.prototype.addSecondaryInaToDependentQueries=function(t,r,a,n){var i=t.serializeToElement(e.QModelFormat.INA_PERSISTED_QUERY_DATA);if(!r.isSystemMappingValid(a)){n.add(e.DependentPersistedQueryInfo.create(t.getSystemName(),this.convertToBrowserSerializedDataQuery(i)))}else{n.add(e.DependentPersistedQueryInfo.create(t.getSystemName(),i))}};e.BlendableQMPersistedInAExportAction.prototype.convertToBrowserSerializedDataQuery=function(t){var r=e.PrUtils.createDeepCopy(t);r.remove("System");var a=t.getStructureByKey(e.ConnectionConstants.INA_BATCH);if(e.notNull(a)){var n=a.getIterator();while(n.hasNext()){var i=n.next();var o=e.InARuntimeUtils.getRequestContext(i);e.InARuntimeUtils.setPersistencyForRemote(o,null)}}else{var s=e.InARuntimeUtils.getRequestContext(t);e.InARuntimeUtils.setPersistencyForRemote(s,null)}return r};e.BlendableQMPersistedInAExportAction.prototype.callListener=function(e,t,r,a){t.onBlendableQMPersistedInAResult(e,r,a)};e.BlendableQMVariableSubmitProcessor=function(){};e.BlendableQMVariableSubmitProcessor.prototype=new e.SyncAction;e.BlendableQMVariableSubmitProcessor.prototype._ff_c="BlendableQMVariableSubmitProcessor";e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor=function(t){var r=new e.BlendableQMVariableSubmitProcessor;r.setupAction(null,null,null,t);return r};e.BlendableQMVariableSubmitProcessor.prototype.m_mode=null;e.BlendableQMVariableSubmitProcessor.prototype.m_queryManagersToBeProcessCount=0;e.BlendableQMVariableSubmitProcessor.prototype.m_variableVariant=null;e.BlendableQMVariableSubmitProcessor.prototype.m_transferVariable=null;e.BlendableQMVariableSubmitProcessor.prototype.releaseObject=function(){this.m_queryManagersToBeProcessCount=0;e.SyncAction.prototype.releaseObject.call(this)};e.BlendableQMVariableSubmitProcessor.prototype.processSynchronization=function(t){var r=e.XList.create();r.addAll(this.getActionContext().getAllQueryManagers());this.m_queryManagersToBeProcessCount=r.size();var a=r.getIterator();while(a.hasNext()){var n=a.next();if(this.m_mode===e.VariableProcessorState.PROCESSING_SUBMIT){n.submitVariables(t,this,null)}else if(this.m_mode===e.VariableProcessorState.PROCESSING_REINIT){n.reInitVariablesAfterSubmit(t,this,null)}else if(this.m_mode===e.VariableProcessorState.PROCESSING_VARIANT_ACTIVATION){n.activateVariableVariant(this.m_variableVariant,t,this,null)}else if(this.m_mode===e.VariableProcessorState.PROCESSING_CANCEL){n.cancelReInitVariables(t,this,null)}else if(this.m_mode===e.VariableProcessorState.PROCESSING_UPDATE_VALUES){if(e.notNull(this.m_transferVariable)){var i=n.transferVariablesByVariable(this.m_transferVariable,t,this,null);if(e.isNull(i)){this.m_queryManagersToBeProcessCount--}}else{n.transferVariables(t,this,null)}}else if(this.m_mode===e.VariableProcessorState.PROCESSING_CHECK){if(n.supportsCheckVariables()){n.checkVariables(t,this,null)}else{this.m_queryManagersToBeProcessCount--}}else{throw e.XException.createRuntimeException(e.XStringUtils.concatenate2("Unknown mode: ",e.notNull(this.m_mode)?this.m_mode.getName():"null"))}}return this.m_queryManagersToBeProcessCount>0};e.BlendableQMVariableSubmitProcessor.prototype.onVariableProcessorExecuted=function(e,t,r){this.addAllMessages(e);this.m_queryManagersToBeProcessCount--;if(this.m_queryManagersToBeProcessCount===0){this.setData(this);this.endSync()}};e.BlendableQMVariableSubmitProcessor.prototype.isSuccessfullyProcessed=function(){return this.hasErrors()};e.BlendableQMVariableSubmitProcessor.prototype.setAndAssertVariableProcessMode=function(t){if(e.isNull(this.m_mode)||this.m_mode===t){this.m_mode=t}else{throw e.XException.createIllegalStateException(e.XStringUtils.concatenate4("BlendableQMVariableProcessor cannot perform operation: '",e.notNull(t)?t.getName():"null","' because processor is already used for operation:",this.m_mode.getName()))}};e.BlendableQMVariableSubmitProcessor.prototype.submitVariables=function(t,r,a){this.setAndAssertVariableProcessMode(e.VariableProcessorState.PROCESSING_SUBMIT);this.processSyncAction(t,r,a);return this.processSyncAction(t,r,a)};e.BlendableQMVariableSubmitProcessor.prototype.reInitVariablesAfterSubmit=function(t,r,a){this.setAndAssertVariableProcessMode(e.VariableProcessorState.PROCESSING_REINIT);return this.processSyncAction(t,r,a)};e.BlendableQMVariableSubmitProcessor.prototype.activateVariableVariant=function(t,r,a,n){this.m_variableVariant=t;this.setAndAssertVariableProcessMode(e.VariableProcessorState.PROCESSING_VARIANT_ACTIVATION);return this.processSyncAction(r,a,n)};e.BlendableQMVariableSubmitProcessor.prototype.cancelReInitVariables=function(t,r,a){this.setAndAssertVariableProcessMode(e.VariableProcessorState.PROCESSING_CANCEL);return this.processSyncAction(t,r,a)};e.BlendableQMVariableSubmitProcessor.prototype.transferVariables=function(t,r,a){this.m_transferVariable=null;this.setAndAssertVariableProcessMode(e.VariableProcessorState.PROCESSING_UPDATE_VALUES);return this.processSyncAction(t,r,a)};e.BlendableQMVariableSubmitProcessor.prototype.transferVariablesByVariable=function(t,r,a,n){this.m_transferVariable=t;this.setAndAssertVariableProcessMode(e.VariableProcessorState.PROCESSING_UPDATE_VALUES);return this.processSyncAction(r,a,n)};e.BlendableQMVariableSubmitProcessor.prototype.checkVariables=function(t,r,a){this.setAndAssertVariableProcessMode(e.VariableProcessorState.PROCESSING_CHECK);return this.processSyncAction(t,r,a)};e.RuntimeBlendedQueryManagerAction=function(){};e.RuntimeBlendedQueryManagerAction.prototype=new e.SyncAction;e.RuntimeBlendedQueryManagerAction.prototype._ff_c="RuntimeBlendedQueryManagerAction";e.RuntimeBlendedQueryManagerAction.create=function(t){var r=new e.RuntimeBlendedQueryManagerAction;r.setupAction(null,null,null,t);r.m_blendingProcess=e.BlendingProcess.create(t,t.getBlendingProcessConfigs(),null,null);return r};e.RuntimeBlendedQueryManagerAction.prototype.m_blendingProcess=null;e.RuntimeBlendedQueryManagerAction.prototype.releaseObject=function(){this.m_blendingProcess.postQueryExecution();this.m_blendingProcess=e.XObjectExt.release(this.m_blendingProcess);e.SyncAction.prototype.releaseObject.call(this)};e.RuntimeBlendedQueryManagerAction.prototype.processSynchronization=function(e){this.m_blendingProcess.processBlendedQueryManagerCreation(e,this,null);return true};e.RuntimeBlendedQueryManagerAction.prototype.onQueryManagerCreated=function(e,t,r){this.addAllMessages(e);if(!e.hasErrors()){this.m_blendingProcess.prepareQueryExecution();this.setData(t)}this.endSync()};e.RuntimeBlendedQueryManagerAction.prototype.callListener=function(e,t,r,a){t.onQueryManagerCreated(e,r,a)};e.OlapEnvCapabilitiesExtAction=function(){};e.OlapEnvCapabilitiesExtAction.prototype=new e.SyncAction;e.OlapEnvCapabilitiesExtAction.prototype._ff_c="OlapEnvCapabilitiesExtAction";e.OlapEnvCapabilitiesExtAction.createAndRun=function(t,r,a,n){var i=new e.OlapEnvCapabilitiesExtAction;i.setupActionAndRun(t,r,a,n);return i};e.OlapEnvCapabilitiesExtAction.prototype.releaseObject=function(){e.SyncAction.prototype.releaseObject.call(this)};e.OlapEnvCapabilitiesExtAction.prototype.processSynchronization=function(e){var t=this.getActionContext();var r=t.getApplication();var a=r.getSystemConnect(t.getSystemName());a.getServerMetadataExt(e,this,null);return true};e.OlapEnvCapabilitiesExtAction.prototype.onServerMetadataLoaded=function(t,r,a){var n=this.getSession();var i=this.getActionContext();var o=e.ProviderType.getAll().getIterator();while(o.hasNext()){var s=o.next();var l=e.InACapabilitiesProvider.create(n,r,s,null);var u=l.getQueryCapabilities();i.addCapabilities(s,u)}};e.OlapEnvCapabilitiesExtAction.prototype.callListener=function(e,t,r,a){t.onCapabilitiesLoaded(e,r,a)};e.OlapEnvCapabilityAction=function(){};e.OlapEnvCapabilityAction.prototype=new e.SyncAction;e.OlapEnvCapabilityAction.prototype._ff_c="OlapEnvCapabilityAction";e.OlapEnvCapabilityAction.create=function(t){var r=new e.OlapEnvCapabilityAction;r.setupAction(null,null,null,t);return r};e.OlapEnvCapabilityAction.prototype.m_listener=null;e.OlapEnvCapabilityAction.prototype.releaseObject=function(){this.m_listener=null;e.SyncAction.prototype.releaseObject.call(this)};e.OlapEnvCapabilityAction.prototype.processSyncAction=function(e,t,r){this.m_listener=t;var a=this.getActionContext();var n=a.getServerMetadataExt(e,this,null);if(n.isValid()){this.onServerMetadataLoaded(n,n.getData(),null)}return this};e.OlapEnvCapabilityAction.prototype.onServerMetadataLoaded=function(t,r,a){this.copyAllMessages(t);var n=e.XHashMapByString.create();var i=r.getServices().getIterator();while(i.hasNext()){this.importServiceCapabilities(n,r,i.next())}this.setData(n);if(e.notNull(this.m_listener)){this.m_listener.onCapabilities(this,n,a)}};e.OlapEnvCapabilityAction.prototype.importServiceCapabilities=function(t,r,a){var n=e.QCapabilities.create();n.setSystemType(r.getSystemDescription().getSystemType());n.setSystemName(r.getSystemDescription().getSystemName());e.InACapabilitiesProvider.importCapabilities(r.getMetadataForService(a),n);this._sacFallback(r,a,n);t.put(a,n)};e.OlapEnvCapabilityAction.prototype._sacFallback=function(t,r,a){var n=t.getBetaMetadataForService(r);if(e.isNull(n)){return}if(n.containsKey(e.InACapabilities.C188_LOCALE_SORTING)){a.setSupportsLocaleSorting(true)}if(n.containsKey(e.InACapabilities.C192_VIRTUAL_DS_VARIABLE_VALUES)){a.setSupportsDynamicVariableRefresh(true)}if(n.containsKey(e.InACapabilities.C187_DIMENSION_DEFAULT_MEMBER)){a.setSupportsDimensionDefaultMember(true)}if(n.containsKey(e.InACapabilities.C189_DIMENSION_VISIBILITY)){a.setSupportsDimensionVisibility(true)}if(n.containsKey(e.InACapabilities.C194_METADATA_EXTENDED_DIMENSION_VISIBILITY)){a.setSupportsExtendedDimensionVisibility(true)}if(n.containsKey(e.InACapabilities.C212_SORT_NEW_VALUES)){a.setSupportsSortNewValues(true)}if(n.containsKey(e.InACapabilities.C215_MEASURE_MEMBER_DEFINITION)){a.setSupportsMeasureMemberDefinition(true)}if(n.containsKey(e.InACapabilities.C216_MEASURE_MEMBER_DETAILS)){a.setSupportsMeasureMemberDetails(true)}if(n.containsKey(e.InACapabilities.C217_MEASURE_MEMBER_TYPE)){a.setSupportsMeasureMemberType(true)}};e.OlapEnvCube=function(){};e.OlapEnvCube.prototype=new e.XObjectExt;e.OlapEnvCube.prototype._ff_c="OlapEnvCube";e.OlapEnvCube.create=function(t,r){var a=new e.OlapEnvCube;a.setupEnvCube(t,r);return a};e.OlapEnvCube.prototype.m_olapEnvSystem=null;e.OlapEnvCube.prototype.m_cubeName=null;e.OlapEnvCube.prototype.m_dimensionMetadataCache=null;e.OlapEnvCube.prototype.m_fieldMetadataCache=null;e.OlapEnvCube.prototype.m_metadataCache=null;e.OlapEnvCube.prototype.m_datasourceKeysToListeners=null;e.OlapEnvCube.prototype.m_dataSource=null;e.OlapEnvCube.prototype.m_dimensionOverrideTexts=null;e.OlapEnvCube.prototype.m_memberOverrideTexts=null;e.OlapEnvCube.prototype.setupEnvCube=function(t,r){this.m_olapEnvSystem=e.XWeakReferenceUtil.getWeakRef(t);var a=t.getSession();this.m_dimensionMetadataCache=e.QCache.create(a);this.m_fieldMetadataCache=e.QCache.create(a);this.m_cubeName=r;this.m_metadataCache=e.QCache.create(a);this.m_datasourceKeysToListeners=e.XHashMapByString.create();this.m_dimensionOverrideTexts=e.XHashMapByString.create();this.m_memberOverrideTexts=e.XHashMapByString.create()};e.OlapEnvCube.prototype.releaseObject=function(){this.m_olapEnvSystem=null;this.m_dimensionMetadataCache=e.XObjectExt.release(this.m_dimensionMetadataCache);this.m_fieldMetadataCache=e.XObjectExt.release(this.m_fieldMetadataCache);this.m_metadataCache=e.XObjectExt.release(this.m_metadataCache);this.m_datasourceKeysToListeners=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_datasourceKeysToListeners);this.m_dimensionOverrideTexts=e.XObjectExt.release(this.m_dimensionOverrideTexts);this.m_memberOverrideTexts=e.XObjectExt.release(this.m_memberOverrideTexts);e.XObjectExt.prototype.releaseObject.call(this)};e.OlapEnvCube.prototype.getOlapEnvSystem=function(){return e.XWeakReferenceUtil.getHardRef(this.m_olapEnvSystem)};e.OlapEnvCube.prototype.getOlapEnv=function(){return this.getOlapEnvSystem().getOlapEnv()};e.OlapEnvCube.prototype.getApplication=function(){return this.getOlapEnv().getApplication()};e.OlapEnvCube.prototype.getSession=function(){return this.getApplication().getSession()};e.OlapEnvCube.prototype.getProcess=function(){return this.getApplication().getProcess()};e.OlapEnvCube.prototype.getSystemName=function(){return this.getOlapEnvSystem().getSystemName()};e.OlapEnvCube.prototype.getCubeName=function(){return this.m_cubeName};e.OlapEnvCube.prototype.getDimensionMetadata=function(e){var t=e.getCubeSpecificKey();return this.m_dimensionMetadataCache.getByKey(t)};e.OlapEnvCube.prototype.getDimensionMetadataByKey=function(e){var t=e.getCubeSpecificKey();return this.m_dimensionMetadataCache.useEntry(t)};e.OlapEnvCube.prototype.setDimensionMetadata=function(e){var t=e.getCacheKey();var r=t.getCubeSpecificKey();this.m_dimensionMetadataCache.put(r,e)};e.OlapEnvCube.prototype.releaseDimensionMetadataByKey=function(e){var t=e.getCubeSpecificKey();this.m_dimensionMetadataCache.freeEntry(t)};e.OlapEnvCube.prototype.getFieldMetadata=function(e){var t=e.getCubeSpecificKey();return this.m_fieldMetadataCache.getByKey(t)};e.OlapEnvCube.prototype.getFieldMetadataByKey=function(e){var t=e.getCubeSpecificKey();return this.m_fieldMetadataCache.useEntry(t)};e.OlapEnvCube.prototype.setFieldMetadata=function(e){var t=e.getCacheKey();var r=t.getCubeSpecificKey();this.m_fieldMetadataCache.put(r,e)};e.OlapEnvCube.prototype.releaseFieldMetadataByKey=function(e){var t=e.getCubeSpecificKey();this.m_fieldMetadataCache.freeEntry(t)};e.OlapEnvCube.prototype.getKeyFieldMetadataByDimension=function(t){var r=null;var a=this.m_fieldMetadataCache.getIterator();while(a.hasNext()){var n=a.next();var i=n.getCacheKey();if(e.XString.isEqual(i.getSystemName(),t.getSystemName())&&e.XString.isEqual(i.getDataSourceHashKey(),t.getDataSourceHashKey())&&i.getProviderType()===t.getProviderType()&&e.XString.isEqual(i.getKey2(),t.getKey1())&&e.XString.isEqual(i.getValidationHash(),t.getValidationHash())&&n.getPresentationType()===e.PresentationType.KEY){r=n;break}}return r};e.OlapEnvCube.prototype.setQueryMetadata=function(t,r){if(e.notNull(t)&&e.notNull(r)){var a=t.getCubeSpecificKey();if(this.m_metadataCache.containsKey(a)){this.m_metadataCache.useEntry(a)}else{var n=e.XContent.createJsonObjectContent(e.QModelFormat.INA_METADATA,r);this.m_metadataCache.put(a,n)}}};e.OlapEnvCube.prototype.overwriteQueryMetadata=function(t,r){if(e.notNull(t)&&e.notNull(r)){var a=t.getCubeSpecificKey();var n=e.XContent.createJsonObjectContent(e.QModelFormat.INA_METADATA,r);this.m_metadataCache.updateEntry(a,n)}};e.OlapEnvCube.prototype.releaseQueryMetadata=function(t){if(e.notNull(t)){var r=t.getCubeSpecificKey();this.m_metadataCache.freeEntry(r)}};e.OlapEnvCube.prototype.releaseAllQueryMetadata=function(){var t=this.m_metadataCache.getKeysAsIteratorOfString();while(t.hasNext()){var r=t.next();var a=this.m_metadataCache.remove(r);if(e.notNull(a)){e.XObjectExt.release(a)}}};e.OlapEnvCube.prototype.getQueryMetadata=function(t){var r=null;var a=null;if(e.notNull(t)){a=t.getCubeSpecificKey()}var n=this.m_metadataCache.getByKey(a);if(e.notNull(n)){r=n.getJsonContent()}return r};e.OlapEnvCube.prototype.getMetadataAction=function(e){var t=null;var r=this.getOlapEnv();if(r.isCachingEnabled()){var a=e.getCubeSpecificKey();t=this.m_metadataCache.getAction(a)}return t};e.OlapEnvCube.prototype.getDataSource=function(){return this.m_dataSource};e.OlapEnvCube.prototype.setDataSource=function(e){var t=e.clone();this.m_dataSource=t};e.OlapEnvCube.prototype.toString=function(){return this.m_cubeName};e.OlapEnvCube.prototype.getDimensionOverrideText=function(e,t){return this.getDimensionOverrideTextByDatasetId(e,t,"")};e.OlapEnvCube.prototype.getDimensionOverrideTextByDatasetId=function(t,r,a){if(e.notNull(t)&&e.notNull(r)&&e.notNull(a)){var n=this.m_dimensionOverrideTexts.getByKey(t);if(e.notNull(n)){var i=n.getByKey(a);if(e.notNull(i)){return i.getByKey(r)}}}return null};e.OlapEnvCube.prototype.setDimensionOverrideText=function(e,t,r){this.setDimensionOverrideTextByDatasetId(e,t,r,"")};e.OlapEnvCube.prototype.setDimensionOverrideTextByDatasetId=function(t,r,a,n){if(e.notNull(t)&&e.notNull(r)&&e.XStringUtils.isNotNullAndNotEmpty(a)&&e.notNull(n)){var i=this.m_dimensionOverrideTexts.getByKey(t);if(e.isNull(i)){i=e.XHashMapByString.create();this.m_dimensionOverrideTexts.put(t,i)}var o=i.getByKey(n);if(e.isNull(o)){o=e.XHashMapOfStringByString.create();i.put(n,o)}if(!e.XString.isEqual(o.getByKey(r),a)){o.put(r,a)}}};e.OlapEnvCube.prototype.removeDimensionOverrideText=function(e,t){this.removeDimensionOverrideTextByDatasetId(e,t,"")};e.OlapEnvCube.prototype.removeDimensionOverrideTextByDatasetId=function(t,r,a){if(e.notNull(t)&&e.notNull(r)&&e.notNull(a)){var n=this.m_dimensionOverrideTexts.getByKey(t);if(e.notNull(n)){var i=n.getByKey(a);if(e.notNull(i)){i.remove(r)}}}};e.OlapEnvCube.prototype.removeOverrideTextsByStorage=function(e){this.removeOverrideTextsByStorageByDatasetId(e,null)};e.OlapEnvCube.prototype.removeOverrideTextsByStorageByDatasetId=function(t,r){if(e.notNull(t)){if(e.notNull(r)){var a=this.m_dimensionOverrideTexts.getByKey(t);if(e.notNull(a)){a.remove(r)}var n=this.m_memberOverrideTexts.getByKey(t);if(e.notNull(n)){n.remove(r)}}else{this.m_dimensionOverrideTexts.remove(t);this.m_memberOverrideTexts.remove(t)}}else{e.XObjectExt.release(this.m_dimensionOverrideTexts);e.XObjectExt.release(this.m_memberOverrideTexts);this.m_dimensionOverrideTexts=e.XHashMapByString.create();this.m_memberOverrideTexts=e.XHashMapByString.create()}};e.OlapEnvCube.prototype.getDimensionMemberOverrideText=function(e,t,r){return this.getDimensionMemberOverrideTextByDatasetId(e,t,r,"")};e.OlapEnvCube.prototype.getDimensionMemberOverrideTextByDatasetId=function(t,r,a,n){if(e.notNull(t)&&e.notNull(r)&&e.notNull(a)&&e.notNull(n)){var i=this.m_memberOverrideTexts.getByKey(t);if(e.notNull(i)){var o=i.getByKey(n);if(e.notNull(o)){var s=o.getByKey(r);if(e.notNull(s)){return s.getByKey(a)}}}}return null};e.OlapEnvCube.prototype.setDimensionMemberOverrideText=function(e,t,r,a){this.setDimensionMemberOverrideTextByDatasetId(e,t,r,a,"")};e.OlapEnvCube.prototype.setDimensionMemberOverrideTextByDatasetId=function(t,r,a,n,i){if(e.notNull(t)&&e.notNull(r)&&e.notNull(a)&&e.XStringUtils.isNotNullAndNotEmpty(n)&&e.notNull(i)){var o=this.m_memberOverrideTexts.getByKey(t);if(e.isNull(o)){o=e.XHashMapByString.create();this.m_memberOverrideTexts.put(t,o)}var s=o.getByKey(i);if(e.isNull(s)){s=e.XHashMapByString.create();o.put(i,s)}var l=s.getByKey(r);if(e.isNull(l)){l=e.XHashMapOfStringByString.create();s.put(r,l)}if(!e.XString.isEqual(l.getByKey(a),n)){l.put(a,n)}}};e.OlapEnvCube.prototype.removeDimensionMemberOverrideText=function(e,t,r){this.removeDimensionMemberOverrideTextByDatasetId(e,t,r,"")};e.OlapEnvCube.prototype.removeDimensionMemberOverrideTextByDatasetId=function(t,r,a,n){if(e.notNull(t)&&e.notNull(r)&&e.notNull(a)&&e.notNull(n)){var i=this.m_memberOverrideTexts.getByKey(t);if(e.notNull(i)){var o=i.getByKey(n);if(e.notNull(o)){var s=o.getByKey(r);if(e.notNull(s)){s.remove(a)}}}}};e.OlapEnvCube.prototype.getMemberOverrideTextsByDimension=function(e,t){return this.getMemberOverrideTextsByDimensionByDatasetId(e,t,"")};e.OlapEnvCube.prototype.getMemberOverrideTextsByDimensionByDatasetId=function(t,r,a){if(e.notNull(t)&&e.notNull(r)&&e.notNull(a)){var n=this.m_memberOverrideTexts.getByKey(t);if(e.notNull(n)){var i=n.getByKey(a);if(e.notNull(i)){return i.getByKey(r)}}}return null};e.OlapEnvSupportedFormulaAction=function(){};e.OlapEnvSupportedFormulaAction.prototype=new e.SyncAction;e.OlapEnvSupportedFormulaAction.prototype._ff_c="OlapEnvSupportedFormulaAction";e.OlapEnvSupportedFormulaAction.create=function(t,r){var a=new e.OlapEnvSupportedFormulaAction;a.setupAction(null,null,null,t);a.m_includeMemberNavigationOperations=r;return a};e.OlapEnvSupportedFormulaAction.prototype.m_listener=null;e.OlapEnvSupportedFormulaAction.prototype.m_includeMemberNavigationOperations=false;e.OlapEnvSupportedFormulaAction.prototype.releaseObject=function(){this.m_listener=null;e.SyncAction.prototype.releaseObject.call(this)};e.OlapEnvSupportedFormulaAction.prototype.processSyncAction=function(t,r,a){this.m_listener=r;var n=this.getActionContext();var i=n.getSystemDescription().getSystemType();if(i.isTypeOf(e.SystemType.ABAP)&&n.getServerMetadata().supportsAnalyticCapability(e.InACapabilities.C167_FORMULA_OPERATORS_CATALOG)||i.isTypeOf(e.SystemType.HANA)){var o=n.getConnectionPoolBase().getOpenConnection(n.getSystemName());var s=o.newRpcFunction(i.getInAPath());s.getRpcRequest().setRequestStructure(this.createRequest(o));s.processFunctionExecution(t,this,i);return this}var l=e.XListOfString.create();if(i.isTypeOf(e.SystemType.ABAP)){var u=e.FormulaOperator.getSupportedFormulaOperator(i);l=e.XCollectionUtils.createListOfNames(u)}if(i.isTypeOf(e.SystemType.UNV)||i.isTypeOf(e.SystemType.UQAS)){l.add("abs");l.add("and");l.add("decfloat");l.add("double");l.add("float");l.add("if");l.add("int");l.add("isNull");l.add("length");l.add("like");l.add("log");l.add("log10");l.add("not");l.add("or");l.add("substring");l.add("-");l.add("/");l.add("+");l.add("*");l.add("**");l.add("==");l.add("!=");l.add(">=");l.add(">");l.add("<=");l.add("<")}if(n.getServerMetadata().supportsAnalyticCapability(e.InACapabilities.C153_VARIANCE_OPERATOR)){l.add("variance")}this.setData(l);if(e.notNull(this.m_listener)){this.m_listener.onSupportedFormula(this,l,a)}return this};e.OlapEnvSupportedFormulaAction.prototype.createRequest=function(t){var r=e.PrFactory.createStructure();var a=r.putNewStructure("Analytics");var n=a.putNewStructure("Definition");var i=t.getSystemDescription().getSystemType();this.addCapabilities(a,t);this.addDatasource(n,i);this.addLayout(n,i);this.addFeatureRequests(n,t);return r};e.OlapEnvSupportedFormulaAction.prototype.addCapabilities=function(t,r){if(r.supportsAnalyticCapability(e.InACapabilities.C167_FORMULA_OPERATORS_CATALOG)){var a=t.putNewList("Capabilities");a.addString(e.InACapabilities.C167_FORMULA_OPERATORS_CATALOG)}if(r.supportsAnalyticCapability(e.InACapabilities.C141_RETURNED_DATA_SELECTION)){var n=t.putNewList("Capabilities");n.addString(e.InACapabilities.C141_RETURNED_DATA_SELECTION)}};e.OlapEnvSupportedFormulaAction.prototype.addFeatureRequests=function(t,r){var a=t.putNewStructure("ResultSetFeatureRequest");a.putBoolean("IncludePerformanceData",false);a.putString("ResultEncoding","None");a.putString("ResultFormat","Version2");if(r.supportsAnalyticCapability(e.InACapabilities.C141_RETURNED_DATA_SELECTION)){var n=a.putNewStructure("ReturnedDataSelection");if(!r.supportsAnalyticCapability(e.InACapabilities.V128_NO_DATA_ACTIONS)){n.putBoolean(e.ReturnedDataSelection.ACTIONS.getName(),false)}n.putBoolean(e.ReturnedDataSelection.EXCEPTIONS.getName(),false);n.putBoolean(e.ReturnedDataSelection.EXCEPTION_ALERTLEVEL.getName(),false);n.putBoolean(e.ReturnedDataSelection.INPUT_ENABLED.getName(),false);n.putBoolean(e.ReturnedDataSelection.UNIT_DESCRIPTIONS.getName(),false);n.putBoolean(e.ReturnedDataSelection.UNIT_TYPES.getName(),false);n.putBoolean(e.ReturnedDataSelection.UNITS.getName(),false);n.putBoolean(e.ReturnedDataSelection.TUPLE_DISPLAY_LEVEL.getName(),false);n.putBoolean(e.ReturnedDataSelection.TUPLE_DRILL_STATE.getName(),false);n.putBoolean(e.ReturnedDataSelection.TUPLE_PARENT_INDEXES.getName(),false);n.putBoolean(e.ReturnedDataSelection.VALUES.getName(),false);n.putBoolean(e.ReturnedDataSelection.VALUES_FORMATTED.getName(),false)}};e.OlapEnvSupportedFormulaAction.prototype.addLayout=function(t,r){var a=t.putNewList("Dimensions");var n=a.addNewStructure();n.putString("Axis","Rows");n.putString("Name","FunctionName");n.putInteger("SortOrder",1);if(r.isTypeOf(e.SystemType.ABAP)){n.putString("Name","FormulaOperators");var i=n.putNewList("Attributes");var o=i.addNewStructure();o.putString("Name","FormulaOperators.KEY");o.putString("Obtainability",e.ObtainabilityType.ALWAYS.getName())}};e.OlapEnvSupportedFormulaAction.prototype.addDatasource=function(t,r){var a=t.putNewStructure("DataSource");if(r.isTypeOf(e.SystemType.HANA)){a.putString("ObjectName",this.m_includeMemberNavigationOperations?"$$AllFunctions$$":"$$FormulaFunctions$$")}else if(r.isTypeOf(e.SystemType.ABAP)){a.putString("ObjectName","$$DataSource$$");a.putString("Type","FormulaOperators")}};e.OlapEnvSupportedFormulaAction.prototype.onFunctionExecuted=function(t,r,a){var n=null;this.copyAllMessages(t);if(t.isValid()){var i=r.getRootElement();e.InAHelper.importMessages(r.getRootElement(),this);if(this.isValid()){var o=i.getListByKey("Grids");var s=o.getStructureAt(0);var l=s.getListByKey("Axes");var u=l.getStructureAt(0);var p=u.getListByKey("Dimensions");var c=p.getStructureAt(0);var g=c.getListByKey("Attributes");var y=g.getStructureAt(0);var m=y.getListByKey("Values");n=e.XListOfString.create();var d=m.size();for(var C=0;C<d;C++){n.add(m.getStringAt(C))}}}this.setData(n);if(e.notNull(this.m_listener)){this.m_listener.onSupportedFormula(this,n,a)}};e.OlapEnvSystem=function(){};e.OlapEnvSystem.prototype=new e.XObjectExt;e.OlapEnvSystem.prototype._ff_c="OlapEnvSystem";e.OlapEnvSystem.create=function(t,r){var a=new e.OlapEnvSystem;a.setupEnvSys(t,r);return a};e.OlapEnvSystem.prototype.m_olapEnv=null;e.OlapEnvSystem.prototype.m_systemName=null;e.OlapEnvSystem.prototype.m_cubes=null;e.OlapEnvSystem.prototype.m_virtualQmByDatasource=null;e.OlapEnvSystem.prototype.m_microCubes=null;e.OlapEnvSystem.prototype.m_capabilities=null;e.OlapEnvSystem.prototype.m_capabilitiesExt=null;e.OlapEnvSystem.prototype.m_listenerCapabilities=null;e.OlapEnvSystem.prototype.m_supportedFormulas=null;e.OlapEnvSystem.prototype.m_listenerFormula=null;e.OlapEnvSystem.prototype.m_variantsByDatasource=null;e.OlapEnvSystem.prototype.setupEnvSys=function(t,r){this.m_olapEnv=e.XWeakReferenceUtil.getWeakRef(t);this.m_systemName=r;this.m_cubes=e.XHashMapByString.create();this.m_microCubes=e.XHashMapByString.create();this.m_capabilities=e.XHashMapByString.create();this.m_capabilitiesExt=e.XHashMapByString.create();this.m_virtualQmByDatasource=e.XHashMapByString.create();this.m_variantsByDatasource=e.XHashMapByString.create()};e.OlapEnvSystem.prototype.releaseObject=function(){this.m_olapEnv=null;this.m_systemName=null;this.m_cubes=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_cubes);this.m_virtualQmByDatasource=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_virtualQmByDatasource);this.m_microCubes=e.XObjectExt.release(this.m_microCubes);this.m_capabilities=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_capabilities);this.m_capabilitiesExt=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_capabilitiesExt);this.m_listenerCapabilities=null;this.m_supportedFormulas=e.XObjectExt.release(this.m_supportedFormulas);this.m_listenerFormula=null;this.m_variantsByDatasource=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_variantsByDatasource);e.XObjectExt.prototype.releaseObject.call(this)};e.OlapEnvSystem.prototype.getOlapEnv=function(){return e.XWeakReferenceUtil.getHardRef(this.m_olapEnv)};e.OlapEnvSystem.prototype.getApplication=function(){return this.getOlapEnv().getApplication()};e.OlapEnvSystem.prototype.getSession=function(){return this.getApplication().getSession()};e.OlapEnvSystem.prototype.getProcess=function(){return this.getApplication().getProcess()};e.OlapEnvSystem.prototype.getSystemName=function(){return this.m_systemName};e.OlapEnvSystem.prototype.getDimensionMetadata=function(e){var t=this.getCubeContainerInternal(e);return t.getDimensionMetadata(e)};e.OlapEnvSystem.prototype.getDimensionMetadataByKey=function(e){var t=this.getCubeContainerInternal(e);return t.getDimensionMetadataByKey(e)};e.OlapEnvSystem.prototype.setDimensionMetadata=function(e){var t=e.getCacheKey();var r=this.getCubeContainerInternal(t);r.setDimensionMetadata(e)};e.OlapEnvSystem.prototype.releaseDimensionMetadataByKey=function(e){var t=this.getCubeContainerInternal(e);t.releaseDimensionMetadataByKey(e)};e.OlapEnvSystem.prototype.getFieldMetadata=function(e){var t=this.getCubeContainerInternal(e);return t.getFieldMetadata(e)};e.OlapEnvSystem.prototype.getFieldMetadataByKey=function(e){var t=this.getCubeContainerInternal(e);return t.getFieldMetadataByKey(e)};e.OlapEnvSystem.prototype.setFieldMetadata=function(e){var t=e.getCacheKey();var r=this.getCubeContainerInternal(t);r.setFieldMetadata(e)};e.OlapEnvSystem.prototype.releaseFieldMetadataByKey=function(e){var t=this.getCubeContainerInternal(e);t.releaseFieldMetadataByKey(e)};e.OlapEnvSystem.prototype.getKeyFieldMetadataByDimension=function(e){var t=this.getCubeContainerInternal(e);return t.getKeyFieldMetadataByDimension(e)};e.OlapEnvSystem.prototype.getQueryMetadata=function(e){var t=this.getCubeContainerInternal(e);return t.getQueryMetadata(e)};e.OlapEnvSystem.prototype.setQueryMetadata=function(e,t){var r=this.getCubeContainerInternal(e);r.setQueryMetadata(e,t)};e.OlapEnvSystem.prototype.overwriteQueryMetadata=function(e,t){var r=this.getCubeContainerInternal(e);r.overwriteQueryMetadata(e,t)};e.OlapEnvSystem.prototype.releaseQueryMetadata=function(e){var t=this.getCubeContainerInternal(e);t.releaseQueryMetadata(e)};e.OlapEnvSystem.prototype.releaseAllQueryMetadata=function(){var e=this.m_cubes.getKeysAsIteratorOfString();while(e.hasNext()){var t=this.getCubeContainer(e.next());t.releaseAllQueryMetadata()}};e.OlapEnvSystem.prototype.getCubeContainerInternal=function(e){var t=e.getDataSourceHashKey();return this.getCubeContainer(t)};e.OlapEnvSystem.prototype.getCubeContainer=function(t){var r=this.m_cubes.getByKey(t);if(e.isNull(r)){r=e.OlapEnvCube.create(this,t);this.m_cubes.put(t,r)}return r};e.OlapEnvSystem.prototype.updateDynamicVariablesForQueryManager=function(t,r,a,n){var i=t.getDataSource().getFullQualifiedName();var o=this.m_virtualQmByDatasource.getByKey(i);if(e.isNull(o)){o=e.OlapEnvironmentQMCreationListener.create();this.m_virtualQmByDatasource.put(i,o)}o.processUpdate(r,a,n,t)};e.OlapEnvSystem.prototype.getMicroCubesNames=function(){return this.m_microCubes.getKeysAsReadOnlyListOfString()};e.OlapEnvSystem.prototype.isValidMicroCubeName=function(t){return e.XStringUtils.isNotNullAndNotEmpty(t)&&!this.m_microCubes.containsKey(t)};e.OlapEnvSystem.prototype.addMicroCube=function(e,t){var r=false;if(this.isValidMicroCubeName(e)){this.m_microCubes.put(e,t);r=true}return r};e.OlapEnvSystem.prototype.getMicroCube=function(e){return this.m_microCubes.getByKey(e)};e.OlapEnvSystem.prototype.removeMicroCubeName=function(e){if(this.m_microCubes.containsKey(e)){this.m_microCubes.remove(e)}};e.OlapEnvSystem.prototype.toString=function(){return this.m_systemName};e.OlapEnvSystem.prototype.getServiceCapabilities=function(t){if(this.m_capabilities.hasElements()===false){this.processCapabilities(e.SyncType.BLOCKING,this,null)}return this.m_capabilities.getByKey(t)};e.OlapEnvSystem.prototype.processCapabilities=function(t,r,a){var n;if(this.m_capabilities.hasElements()){n=e.SyncActionExtRes.createSyncAction(this.m_capabilities,null);if(e.notNull(r)){r.onCapabilities(n,this.m_capabilities,a)}}else{var i=e.OlapEnvCapabilityAction.create(this.getApplication().getSystemConnect(this.m_systemName));i.processSyncAction(t,this,a);n=i}return n};e.OlapEnvSystem.prototype.getServiceCapabilitiesExt=function(t){if(this.m_capabilitiesExt.hasElements()===false){this.processCapabilitiesExt(e.SyncType.BLOCKING,null,null)}return this.m_capabilitiesExt.getByKey(t.getName())};e.OlapEnvSystem.prototype.processCapabilitiesExt=function(t,r,a){return e.OlapEnvCapabilitiesExtAction.createAndRun(t,r,a,this)};e.OlapEnvSystem.prototype.addCapabilities=function(e,t){this.m_capabilitiesExt.put(e.getName(),t)};e.OlapEnvSystem.prototype.getSupportedBaselineFormulaOperators=function(t){var r=this.getApplication().getSystemConnect(this.m_systemName);var a=r.getSystemDescription().getSystemType();var n=this.getServiceCapabilitiesExt(t);var i=this._getSupportedBaselineLogic(a,n);return e.FormulaOperatorExt.getBaselineFormulaOperatorsExt(a,i)};e.OlapEnvSystem.prototype._getSupportedBaselineLogic=function(t,r){var a=-1;if(t.isTypeOf(e.SystemType.BW)){a=0}if(t.isTypeOf(e.SystemType.HANA)){a=r.supportsMdsBaseline1()?1:0;a=r.supportsMdsBaseline2()?2:a;a=r.supportsMdsBaseline3()?3:a;a=r.supportsMdsBaseline4()?4:a;a=r.supportsMdsBaseline5()?5:a;a=r.supportsMdsBaseline6()?6:a}if(t.isTypeOf(e.SystemType.UNV)){a=r.supportsUnvBaseline1()?1:a;a=r.supportsUnvBaseline2()?2:a;a=r.supportsUnvBaseline3()?3:a;a=r.supportsUnvBaseline4()?4:a;a=r.supportsUnvBaseline5()?5:a}return a};e.OlapEnvSystem.prototype.processSupportedFormulaOperators=function(e,t,r){return this._processSupportedFormulaAndMemberNavigationsOperators(e,t,r,false)};e.OlapEnvSystem.prototype.processSupportedFormulaAndMemberNavigationsOperators=function(e,t,r){return this._processSupportedFormulaAndMemberNavigationsOperators(e,t,r,true)};e.OlapEnvSystem.prototype._processSupportedFormulaAndMemberNavigationsOperators=function(t,r,a,n){var i;if(e.notNull(this.m_supportedFormulas)){i=e.SyncActionExtRes.createSyncAction(this.m_supportedFormulas,null);if(e.notNull(r)){r.onSupportedFormula(i,this.m_supportedFormulas,a)}}else{this.m_listenerFormula=r;var o=this.getApplication().getSystemConnect(this.m_systemName);var s=e.OlapEnvSupportedFormulaAction.create(o,n);s.processSyncAction(t,this,null);i=s}return i};e.OlapEnvSystem.prototype.onSupportedFormula=function(t,r,a){this.m_supportedFormulas=r;if(e.notNull(this.m_listenerFormula)){this.m_listenerFormula.onSupportedFormula(t,r,a)}};e.OlapEnvSystem.prototype.onCapabilities=function(t,r,a){this.m_capabilities=r;if(e.notNull(this.m_listenerCapabilities)){this.m_listenerCapabilities.onCapabilities(t,r,a)}};e.OlapEnvSystem.prototype.getVariantsByDatasource=function(t){var r=this.m_variantsByDatasource.getByKey(t);if(e.isNull(r)){r=e.XListOfNameObject.create();this.m_variantsByDatasource.put(t,r)}return r};e.OlapEnvironmentQMCreationListener=function(){};e.OlapEnvironmentQMCreationListener.prototype=new e.SyncAction;e.OlapEnvironmentQMCreationListener.prototype._ff_c="OlapEnvironmentQMCreationListener";e.OlapEnvironmentQMCreationListener.create=function(){var t=new e.OlapEnvironmentQMCreationListener;t.m_additionalListener=e.XList.create();t.m_additionalQms=e.XList.create();return t};e.OlapEnvironmentQMCreationListener.prototype.m_virtualQueryManager=null;e.OlapEnvironmentQMCreationListener.prototype.m_additionalListener=null;e.OlapEnvironmentQMCreationListener.prototype.m_additionalQms=null;e.OlapEnvironmentQMCreationListener.prototype.processUpdate=function(t,r,a,n){var i=this.getSyncState();if(e.notNull(i)){if(i.isTypeOf(e.SyncState.PROCESSING)){this.m_additionalListener.add(e.XPair.create(r,a));this.m_additionalQms.add(n);return}else{this.resetSyncState()}}this.setupActionAndRun(t,r,a,n)};e.OlapEnvironmentQMCreationListener.prototype.releaseObject=function(){this.m_virtualQueryManager=e.XObjectExt.release(this.m_virtualQueryManager);this.m_additionalListener=e.XObjectExt.release(this.m_additionalListener);e.SyncAction.prototype.releaseObject.call(this)};e.OlapEnvironmentQMCreationListener.prototype.processSynchronization=function(t){if(e.isNull(this.m_virtualQueryManager)){var r=this.getActionContext();var a=e.QueryServiceConfig.createWithDataSourceName(r.getApplication(),r.getSystemName(),e.QModelConstants.UPDATE_DYN_VAR_VIRTUAL_DATASOURCE);a.processQueryManagerCreation(t,this,null)}else{this.prepareVirtualQueryManager();this.m_virtualQueryManager.processQueryExecution(t,this,null)}return true};e.OlapEnvironmentQMCreationListener.prototype.onQueryManagerCreated=function(e,t,r){this.addAllMessages(e);if(this.hasErrors()){this.endSync();return}this.m_virtualQueryManager=t;this.prepareVirtualQueryManager();this.m_virtualQueryManager.processQueryExecution(this.getActiveSyncType(),this,null)};e.OlapEnvironmentQMCreationListener.prototype.prepareVirtualQueryManager=function(){var t=this.m_virtualQueryManager.getQueryModel();var r=this.getActionContext().getQueryModel();var a=e.QFactory.createFilterDynamicVariables(t,r.getDataSource());var n=this.getActionContext().getSession();var i=t.getConvenienceCommands();if(n.hasFeature(e.FeatureToggleOlap.IMPROVED_DYNAMIC_VARIABLE_UPDATE)){i.clearFilters();i.addSingleMemberFilterByDimensionName("SchemaName",a.getSchemaName(),e.ComparisonOperator.EQUAL);i.addSingleMemberFilterByDimensionName("PackageName",a.getPackageName(),e.ComparisonOperator.EQUAL);i.addSingleMemberFilterByDimensionName("ObjectName",a.getObjectName(),e.ComparisonOperator.EQUAL);i.moveDimensionToRows("Name");i.moveDimensionToRows("Low");i.moveDimensionToRows("High");i.moveDimensionToRows("Option");i.moveDimensionToRows("Sign");var o=r.getVariables();for(var s=0;s<o.size();s++){var l=o.get(s);if(l.isDynamicVariable()){i.addSingleMemberFilterByDimensionName("Name",l.getName(),e.ComparisonOperator.EQUAL)}}}else{t.getFilter().getDynamicFilter().setComplexRoot(a);i.addAllDimensions()}};e.OlapEnvironmentQMCreationListener.prototype.onQueryExecuted=function(e,t,r){this.addAllMessages(e);if(this.isValid()){this.updateVariablesInQueryManager();this.setData(e.getData())}this.endSync()};e.OlapEnvironmentQMCreationListener.prototype.updateVariablesInQueryManager=function(){var t=this.getActionContext().getQueryModel();this.updateVariablesInQueryManagerInternal(t);if(e.XCollectionUtils.hasElements(this.m_additionalQms)){for(var r=0;r<this.m_additionalQms.size();r++){var a=this.m_additionalQms.get(r).getQueryModel();this.updateVariablesInQueryManagerInternal(a)}this.m_additionalQms.clear()}};e.OlapEnvironmentQMCreationListener.prototype.updateVariablesInQueryManagerInternal=function(t){var r=this.getActionContext().getSession();if(r.hasFeature(e.FeatureToggleOlap.IMPROVED_DYNAMIC_VARIABLE_UPDATE)){this.updateVariablesInQueryManagerImproved(t)}else{this.updateVariablesInQueryManagerOld(t)}};e.OlapEnvironmentQMCreationListener.prototype.updateVariablesInQueryManagerImproved=function(t){var r=t.getVariables();for(var a=0;a<r.size();a++){var n=r.get(a);if(n.isDynamicVariable()){n.clear()}}var i=this.m_virtualQueryManager.getQueryModel();var o=i.getDimensionByName("Name");var s=i.getDimensionByName("Low");var l=i.getDimensionByName("High");var u=i.getDimensionByName("Option");var p=i.getDimensionByName("Sign");var c=this.m_virtualQueryManager.getClassicResultSet().getRowsAxis();for(var g=0;g<c.getTuplesCount();g++){var y=c.getTupleAt(g);var m=t.getVariable(y.getTupleElementByDimension(o).getName());var d=y.getTupleElementByDimension(s).getName();var C=y.getTupleElementByDimension(l).getName();var A=e.QInAConverter.lookupComparison(y.getTupleElementByDimension(u).getName());if(e.isNull(A)){A=e.ComparisonOperator.EQUAL}var S=e.QInAConverter.lookupRsSetSign(y.getTupleElementByDimension(p).getName());if(e.isNull(S)){S=e.SetSign.INCLUDING}if(m.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){var E=m;var _=E.getDimension();var h=_.getKeyField();var I=e.QFactory.createFilterCartesianListForDimensionMemberVariable(m.getContext(),E,h.getMetadata(),null);var f=I.addNewCartesianElement();f.setComparisonOperator(A);f.setSetSign(S);var M=I.getField().getValueType();if(A.getNumberOfParameters()>0&&e.XStringUtils.isNotNullAndNotEmpty(d)){var v=e.XValueAccess.createWithType(M);v.parseString(d);if(v.getValue()!==null){f.getLow().setValue(v.getValue())}}if(A.getNumberOfParameters()>1&&e.XStringUtils.isNotNullAndNotEmpty(C)){var b=e.XValueAccess.createWithType(M);b.parseString(C);if(b.getValue()!==null){f.getHigh().setValue(b.getValue())}}if(A.getNumberOfParameters()===0||f.getLow()!==null&&f.getLow().getValue()!==null||f.getHigh()!==null&&f.getHigh().getValue()!==null){if(E.hasMemberFilter()){E.getMemberFilter().add(f)}else{E.setMemberFilter(I)}}}else if(m.getVariableType().isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){m.addValueByString(d)}else if(m.getVariableType().isTypeOf(e.VariableType.OPTION_LIST_VARIABLE)){m.setOptionByName(d)}}};e.OlapEnvironmentQMCreationListener.prototype.updateVariablesInQueryManagerOld=function(t){var r=this.m_virtualQueryManager.getQueryModel();var a=this.m_virtualQueryManager.getClassicResultSet();var n=a.getRowsAxis();var i=n.getAllMembers(r.getDimensionByName("Name"));var o=n.getAllMembers(r.getDimensionByName("Low"));var s=n.getAllMembers(r.getDimensionByName("High"));if(e.isNull(i)||i.size()===0){return}var l=i.size();var u=t.getVariables();var p=u.size();for(var c=0;c<p;c++){var g=u.get(c);if(!g.isDynamicVariable()){continue}for(var y=0;y<l;y++){if(e.XString.isEqual(i.get(y).getName(),g.getName())){var m=o.get(y).getName();if(e.XStringUtils.isNotNullAndNotEmpty(m)){g.setValueByString(m);if(g.getVariableType()===e.VariableType.DIMENSION_MEMBER_VARIABLE&&e.XStringUtils.isNotNullAndNotEmpty(s.get(y).getName())){var d=g;var C=d.getMemberFilter();var A=C.getCartesianElement(0);A.getHigh().setString(s.get(y).getName())}}}}}};e.OlapEnvironmentQMCreationListener.prototype.callListener=function(t,r,a,n){if(e.notNull(r)){r.onQueryExecuted(this,a,n)}if(e.XCollectionUtils.hasElements(this.m_additionalListener)){for(var i=0;i<this.m_additionalListener.size();i++){var o=this.m_additionalListener.get(i);o.getFirstObject().onQueryExecuted(this,a,o.getSecondObject())}this.m_additionalListener.clear()}};e.DocumentUpdateAction=function(){};e.DocumentUpdateAction.prototype=new e.SyncAction;e.DocumentUpdateAction.prototype._ff_c="DocumentUpdateAction";e.DocumentUpdateAction.createAndRun=function(t,r,a,n,i){var o=new e.DocumentUpdateAction;o.m_olapEnvState=i;o.setupAction(t,r,a,n);o.namesOfHandledQM=e.XHashSetOfString.create();o.namesOfSubmitedQms=e.XHashSetOfString.create();o.insStates=e.XHashMapByString.create();o.modCounters=e.XHashMapByString.create();o.olapStateManager=n;o.process();return o};e.DocumentUpdateAction.prototype.m_olapEnvState=null;e.DocumentUpdateAction.prototype.namesOfHandledQM=null;e.DocumentUpdateAction.prototype.namesOfSubmitedQms=null;e.DocumentUpdateAction.prototype.olapStateManager=null;e.DocumentUpdateAction.prototype.insStates=null;e.DocumentUpdateAction.prototype.modCounters=null;e.DocumentUpdateAction.prototype.processSynchronization=function(t){var r=e.MessageManagerSimple.createMessageManager();var a=this.m_olapEnvState.getFilterManagerState();var n=this.olapStateManager.getStateCache().getByKey(a.getStateId());var i=this.olapStateManager.getOlapEnv();var o=i.getFilterManager();var s=e.JsonParserFactory.newInstance();var l=s.parse(n.getState());if(s.hasErrors()){this.addAllMessages(s);return false}r.copyAllMessages(o.deserializeFromElementExt(e.QModelFormat.INA_REPOSITORY,l));o.setModCounter(a.getModCounter());var u=this.m_olapEnvState.getQueryManagersState().getKeysAsIteratorOfString();var p=false;var c=e.XSetOfNameObject.create();var g=e.XSetOfNameObject.create();while(u.hasNext()){var y=u.next();this.namesOfHandledQM.add(y);var m=this.m_olapEnvState.getQueryManagersState().getByKey(y);var d=this.olapStateManager.getStateCache().getByKey(m.getStateId()).getState();var C=s.parse(d);if(e.notNull(C)&&!C.isEmpty()){this.insStates.put(y,C);var A=i.getQueryManagerByName(y);var S=C.getStructureByKey(e.QStateConstants.QUERY_MODEL);if(e.isNull(A)){A=this.recreateQueryManager(S,r,C.getStringByKeyExt(e.QStateConstants.MANAGER_DATASET_ID,null),C.getByKey(e.QStateConstants.MANAGER_TAGS),C.getStringByKey(e.QStateConstants.MANAGER_SYSTEM_NAME));A.setName(y)}this.namesOfSubmitedQms.add(y);if(A.isSubmitNeeded()){g.add(A)}else{c.add(A)}this.modCounters.put(y,e.XIntegerValue.create(m.getModCounter()))}}var E=c.getValuesAsReadOnlyList().getIterator();while(E.hasNext()){this.onVariableProcessorExecuted(null,null,E.next())}e.XObjectExt.release(E);var _=g.getValuesAsReadOnlyList().getIterator();while(_.hasNext()){var h=_.next();h.submitVariables(t,this,h);p=true}e.XObjectExt.release(_);return p};e.DocumentUpdateAction.prototype.onVariableProcessorExecuted=function(t,r,a){this.addAllMessages(t);if(e.notNull(t)&&t.hasErrors()){this.endSync()}else{var n=a;this.updateQueryManagerFromState(this.olapStateManager.getOlapEnv().getFilterManager(),n);var i=n.getName();n.getQueryModelBase().setModCounter(this.modCounters.getByKey(n.getName()).getInteger());this.namesOfSubmitedQms.removeElement(i);if(this.namesOfSubmitedQms.isEmpty()){if(this.olapStateManager.isReleaseQueryManagersEnabled()){var o=this.olapStateManager.getOlapEnv().getAllAreaQueryManager().getIterator();while(o.hasNext()){var s=o.next();if(!s.isReleased()&&!this.namesOfHandledQM.contains(s.getName())&&!this.olapStateManager.hasToBeIgnored(s)){e.XObjectExt.release(s)}}}this.setData(this.olapStateManager.getOlapEnv());this.endSync()}}};e.DocumentUpdateAction.prototype.updateQueryManagerFromState=function(t,r){var a=this.insStates.getByKey(r.getName());if(r.getOlapComponentType()===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){r.deserializeFromElementExt(e.QModelFormat.INA_REPOSITORY,a.getStructureByKey(e.QStateConstants.QUERY_MODEL));var n=r;var i=a.getListByKey(e.QStateConstants.QUERY_MANAGER_EXTERNAL_FILTERS);var o=i.getIterator();while(o.hasNext()){var s=o.next().asStructure();var l=s.getStringByKey(e.QStateConstants.MANAGER_DATASET_ID);var u=n.getQueryManagerByDatasetId(l);if(e.notNull(u)){this.applyExternalFilterToQueryManager(t,u,s)}}}else{r.getQueryModel().deserializeFromElementExt(e.QModelFormat.INA_REPOSITORY,a.getStructureByKey(e.QStateConstants.QUERY_MODEL));this.applyExternalFilterToQueryManager(t,r,a)}};e.DocumentUpdateAction.prototype.applyExternalFilterToQueryManager=function(t,r,a){var n=a.getListByKey("OlapFilters");var i=r.getQueryModel().getFilter();var o=n.size();i.unlinkFilters();for(var s=0;s<o;s++){var l=n.getStructureAt(s);var u=l.getStringByKey("Name");var p=t.getFilterById(l.getStringByKey("Id"));if(e.isNull(p)){this.addWarning(e.ErrorCodes.IMPORT_EXTERNAL_FILTER_NOT_FOUND,e.XStringUtils.concatenate3("Could not restore external filter '",u,"'!"))}else{i.linkFilter(u,p)}}};e.DocumentUpdateAction.prototype.recreateQueryManager=function(t,r,a,n,i){var o=this.olapStateManager.getOlapEnv();var s=null;var l=t.getStringByKey("CType");if(e.notNull(l)&&e.XComponentType.lookupComponentType(l)===e.OlapComponentType.BLENDABLE_QUERY_MANAGER){var u=t.getStructureByKey("PrimaryQueryManager");var p=u.getStringByKey("DatasetId");var c=o.getSharedQueryManager(p);var g=o.getModelLinkManager().createBlendableQueryManager(t.getStringByKey("StorageName"),c.cloneQueryManagerExt(e.QueryCloneMode.CURRENT_STATE),t.getStringByKey("Name"));var y=t.getListByKey("QueryManagers");var m=y.getIterator();while(m.hasNext()){var d=m.next().asStructure();var C=d.getStringByKey("DatasetId");var A=o.getSharedQueryManager(C);g.addSecondaryQueryManager(A.cloneQueryManagerExt(e.QueryCloneMode.CURRENT_STATE))}s=g}else{if(e.XStringUtils.isNotNullAndNotEmpty(a)){var S=o.getSharedQueryManager(a);if(e.notNull(S)&&!S.isReleased()){s=S.cloneQueryManagerExt(e.QueryCloneMode.CURRENT_STATE);s.getTagging().remove(e.QStateConstants.TAG_UNDO_IGNORE);s.getTagging().remove(e.QStateConstants.TAG_UNDO_INCLUDE);s.deserializeFromElementExt(e.QModelFormat.INA_REPOSITORY,t)}}if(e.isNull(s)){var E=e.QueryServiceConfig.create(o.getApplication());E.setDefinitionByStructure(e.QModelFormat.INA_REPOSITORY,t);E.setSystemName(i);var _=E.processQueryManagerCreation(e.SyncType.BLOCKING,null,null);r.addAllMessages(_);s=_.getData()}}if(e.notNull(s)&&e.notNull(n)){var h=n.asList();for(var I=0;I<h.size();I++){var f=h.get(I).asStructure();s.getTagging().put(f.getStringByKey("KEY"),f.getStringByKey("VALUE"))}}return s};e.DocumentUpdateAction.prototype.callListener=function(e,t,r,a){t.documentStateApplied(e,r,a)};e.ResultSetContainerProcessExecutionAction=function(){};e.ResultSetContainerProcessExecutionAction.prototype=new e.SyncAction;e.ResultSetContainerProcessExecutionAction.prototype._ff_c="ResultSetContainerProcessExecutionAction";e.ResultSetContainerProcessExecutionAction.createAction=function(t){var r=new e.ResultSetContainerProcessExecutionAction;r.m_resultSetContainer=t;r.setupAction(null,null,null,null);return r};e.ResultSetContainerProcessExecutionAction.prototype.m_resultSetContainer=null;e.ResultSetContainerProcessExecutionAction.prototype.m_resultSetContainerExecution=null;e.ResultSetContainerProcessExecutionAction.prototype.releaseObject=function(){e.SyncAction.prototype.releaseObject.call(this);this.m_resultSetContainer=null;this.m_resultSetContainerExecution=e.XObjectExt.release(this.m_resultSetContainerExecution)};e.ResultSetContainerProcessExecutionAction.prototype.processSynchronization=function(e){this.m_resultSetContainerExecution=this.m_resultSetContainer.processExecution(e,this,null);if(!this.getSyncState().isInSync()&&(this.m_resultSetContainerExecution.getSyncState().isInSync()||this.m_resultSetContainerExecution.hasErrors())){this.addAllMessages(this.m_resultSetContainerExecution);this.setData(this.m_resultSetContainerExecution.getData());return false}return true};e.ResultSetContainerProcessExecutionAction.prototype.onQueryExecuted=function(e,t,r){this.addAllMessages(e);this.setData(t);this.endSync()};e.ResultSetContainerProcessExecutionAction.prototype.callListener=function(e,t,r,a){t.onQueryExecuted(e,r,a)};e.RpcBlendFunctionProcessExecutionAction=function(){};e.RpcBlendFunctionProcessExecutionAction.prototype=new e.SyncAction;e.RpcBlendFunctionProcessExecutionAction.prototype._ff_c="RpcBlendFunctionProcessExecutionAction";e.RpcBlendFunctionProcessExecutionAction.createAction=function(t,r){var a=new e.RpcBlendFunctionProcessExecutionAction;a.m_rpcFunction=t;a.m_queryManager=r;a.setupAction(null,null,null,null);return a};e.RpcBlendFunctionProcessExecutionAction.prototype.m_rpcFunction=null;e.RpcBlendFunctionProcessExecutionAction.prototype.m_rpcFunctionExecution=null;e.RpcBlendFunctionProcessExecutionAction.prototype.m_queryManager=null;e.RpcBlendFunctionProcessExecutionAction.prototype.releaseObject=function(){e.SyncAction.prototype.releaseObject.call(this);this.m_rpcFunction=null;this.m_queryManager=null;this.m_rpcFunctionExecution=e.XObjectExt.release(this.m_rpcFunctionExecution)};e.RpcBlendFunctionProcessExecutionAction.prototype.processSynchronization=function(t){var r=this.m_queryManager.getServiceConfig();var a=r.getBlendingDefinition();var n=a.getSources();if(n.isEmpty()){this.addError(e.ErrorCodes.INVALID_STATE,"No blending sources set");return false}for(var i=0;i<n.size();i++){n.get(i).getQueryModel().destroyTransientObjects()}this.m_rpcFunctionExecution=this.m_rpcFunction.processFunctionExecution(t,this,null);if(!this.getSyncState().isInSync()&&(this.m_rpcFunctionExecution.getSyncState().isInSync()||this.m_rpcFunctionExecution.hasErrors())){this.addAllMessages(this.m_rpcFunctionExecution);this.setData(this.m_rpcFunctionExecution.getData());return false}return true};e.RpcBlendFunctionProcessExecutionAction.prototype.callListener=function(e,t,r,a){t.onFunctionExecuted(e,r,a)};e.RpcBlendFunctionProcessExecutionAction.prototype.onFunctionExecuted=function(e,t,r){this.addAllMessages(e);this.setData(t);this.endSync()};e.OlapEnvironment=function(){};e.OlapEnvironment.prototype=new e.DfNameObject;e.OlapEnvironment.prototype._ff_c="OlapEnvironment";e.OlapEnvironment.SYSTEM_NAME="systemName";e.OlapEnvironment.QUERY_MANAGER="queryManager";e.OlapEnvironment.CUSTOM_IDENTIFIER="customIdentifier";e.OlapEnvironment.LISTENER="listener";e.OlapEnvironment.SYNC_TYPE="syncType";e.OlapEnvironment.create=function(t){var r=new e.OlapEnvironment;r.setupEnv(t);return r};e.OlapEnvironment.prototype.m_application=null;e.OlapEnvironment.prototype.m_varProcessor=null;e.OlapEnvironment.prototype.m_stateManager=null;e.OlapEnvironment.prototype.m_queryManagerHandler=null;e.OlapEnvironment.prototype.m_customHierarchyRepo=null;e.OlapEnvironment.prototype.m_queryManagers=null;e.OlapEnvironment.prototype.m_isCmdTracing=false;e.OlapEnvironment.prototype.m_variables=null;e.OlapEnvironment.prototype.m_traceOffset=0;e.OlapEnvironment.prototype.m_traces=null;e.OlapEnvironment.prototype.m_remoteBlendingCache=null;e.OlapEnvironment.prototype.m_rsDataMaxCacheEntries=10;e.OlapEnvironment.prototype.m_resourceToStringRep=null;e.OlapEnvironment.prototype.m_systems=null;e.OlapEnvironment.prototype.m_filterManager=null;e.OlapEnvironment.prototype.m_prequeries=null;e.OlapEnvironment.prototype.m_transientQueryManager=null;e.OlapEnvironment.prototype.m_sharedQueryManagers=null;e.OlapEnvironment.prototype.m_allowedFormulaOperators=null;e.OlapEnvironment.prototype.m_supportedFormulaOperators=null;e.OlapEnvironment.prototype.m_clientQueryObjectManager=null;e.OlapEnvironment.prototype.m_modelCache=null;e.OlapEnvironment.prototype.m_geoManager=null;e.OlapEnvironment.prototype.m_modelLinkManager=null;e.OlapEnvironment.prototype.setupEnv=function(t){this.setApplication(t);var r=this.getSession();if(e.notNull(r)){r.setEntity(e.ProcessEntity.OLAP_ENVIRONMENT,this)}this.m_remoteBlendingCache=e.XLinkedHashMapByString.create();this.m_resourceToStringRep=e.QCache.create(r);this.m_queryManagers=e.XListOfNameObject.create();this.m_varProcessor=e.OlapEnvVarProcessor.create(this);this.m_stateManager=e.OlapEnvStateManager.create(this,r);this.m_queryManagerHandler=e.OlapEnvQueryManagerHandler.create(this);this.m_systems=e.XHashMapByString.create();this.m_customHierarchyRepo=e.CustomHierarchyRepository.create(t);this.m_prequeries=e.XLinkedHashMapByString.create();this.m_transientQueryManager=e.XHashMapByString.create();this.m_sharedQueryManagers=e.XHashMapByString.create();this.m_modelCache=e.QCache.create(r)};e.OlapEnvironment.prototype.releaseObject=function(){if(e.notNull(this.m_queryManagers)){for(var t=0;t<this.m_queryManagers.size();t++){var r=this.m_queryManagers.get(t);e.XObjectExt.release(r)}e.XObjectExt.release(this.m_queryManagers);this.m_queryManagers=null}this.m_systems=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_systems);this.m_varProcessor=e.XObjectExt.release(this.m_varProcessor);this.m_stateManager=e.XObjectExt.release(this.m_stateManager);this.m_queryManagerHandler=e.XObjectExt.release(this.m_queryManagerHandler);this.m_customHierarchyRepo=e.XObjectExt.release(this.m_customHierarchyRepo);this.m_remoteBlendingCache=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_remoteBlendingCache);this.m_application=null;this.m_resourceToStringRep=e.XObjectExt.release(this.m_resourceToStringRep);this.m_systems=e.XObjectExt.release(this.m_systems);this.m_filterManager=e.XObjectExt.release(this.m_filterManager);this.m_geoManager=e.XObjectExt.release(this.m_geoManager);this.m_modelLinkManager=e.XObjectExt.release(this.m_modelLinkManager);this.m_clientQueryObjectManager=e.XObjectExt.release(this.m_clientQueryObjectManager);this.m_prequeries=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_prequeries);this.m_transientQueryManager=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_transientQueryManager);this.m_sharedQueryManagers=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_sharedQueryManagers);this.m_allowedFormulaOperators=e.XObjectExt.release(this.m_allowedFormulaOperators);this.m_supportedFormulaOperators=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_supportedFormulaOperators);e.DfNameObject.prototype.releaseObject.call(this)};e.OlapEnvironment.prototype.getComponentType=function(){return e.OlapComponentType.OLAP_ENVIRONMENT};e.OlapEnvironment.prototype.getSession=function(){return this.getProcess()};e.OlapEnvironment.prototype.getProcess=function(){var t=this.getApplication();return e.isNull(t)?null:t.getProcess()};e.OlapEnvironment.prototype.getApplication=function(){return e.XWeakReferenceUtil.getHardRef(this.m_application)};e.OlapEnvironment.prototype.getApplicationBase=function(){return e.XWeakReferenceUtil.getHardRef(this.m_application)};e.OlapEnvironment.prototype.setApplication=function(t){this.m_application=e.XWeakReferenceUtil.getWeakRef(t)};e.OlapEnvironment.prototype.registerQueryManager=function(e){this.m_queryManagers.add(e)};e.OlapEnvironment.prototype.unregisterQueryManager=function(t){if(e.notNull(this.m_queryManagers)){this.m_queryManagers.removeElement(t)}var r=this.m_sharedQueryManagers.getKeysAsIteratorOfString();while(r.hasNext()){var a=r.next();if(t.isEqualTo(this.m_sharedQueryManagers)){this.m_sharedQueryManagers.remove(a)}}};e.OlapEnvironment.prototype.getSharedQueryManager=function(e){return this.m_sharedQueryManagers.getByKey(e)};e.OlapEnvironment.prototype.registerSharedQueryManager=function(e,t){this.m_sharedQueryManagers.put(e,t)};e.OlapEnvironment.prototype.getAllAreaQueryManager=function(){var t=e.XList.create();e.XCollectionUtils.addAll(t,this.m_queryManagers);return t};e.OlapEnvironment.prototype.containsQueryManagerWithName=function(e){return this.m_queryManagers.containsKey(e)};e.OlapEnvironment.prototype.getQueryManagerByName=function(e){return this.m_queryManagers.getByKey(e)};e.OlapEnvironment.prototype.getVariableProcessor=function(){return this.m_varProcessor};e.OlapEnvironment.prototype.getCustomHierarchyRepository=function(){return this.m_customHierarchyRepo};e.OlapEnvironment.prototype.getOlapEnv=function(){return this};e.OlapEnvironment.prototype.setTracing=function(t){if(this.m_isCmdTracing!==t){this.m_isCmdTracing=t;if(t){this.m_traces=e.XList.create();this.m_traceOffset=0}else{this.m_traces=e.XObjectExt.release(this.m_traces)}}};e.OlapEnvironment.prototype.isTracing=function(){return e.notNull(this.m_traces)};e.OlapEnvironment.prototype.getTracingLog=function(){if(e.isNull(this.m_traces)){return"[Tracing not enabled]"}var t=e.XStringBuffer.create();for(var r=0;r<this.m_traces.size();r++){var a=this.m_traces.get(r);t.appendLine(a.toString())}return t.toString()};e.OlapEnvironment.prototype.addTraceEntry=function(t){if(e.notNull(this.m_traces)){this.m_traces.add(t)}};e.OlapEnvironment.prototype.getTraceChunk=function(){var t=this.m_traces;if(e.notNull(this.m_traces)){this.m_traceOffset=this.m_traceOffset+this.m_traces.size();this.m_traces=e.XList.create()}return t};e.OlapEnvironment.prototype.getTraceOffset=function(){return this.m_traceOffset};e.OlapEnvironment.prototype.setReplacementVariables=function(e,t,r,a){this.m_variables=e};e.OlapEnvironment.prototype.replaceVariable=function(t){return e.isNull(this.m_variables)?t:this.m_variables.getStringByKeyExt(t,t)};e.OlapEnvironment.prototype.selectCmds=function(t){return e.CommandSpaceFactory.createCommandSpaceWithElement(this,t)};e.OlapEnvironment.prototype.select=function(t){return e.CommandSpaceFactory.createCommandSpaceWithSelection(this,t)};e.OlapEnvironment.prototype.getContext=function(){return this};e.OlapEnvironment.prototype.setContext=e.noSupport;e.OlapEnvironment.prototype.getQueryManager=function(){return null};e.OlapEnvironment.prototype.getQueryModel=function(){return null};e.OlapEnvironment.prototype.getVariableContainer=function(){return null};e.OlapEnvironment.prototype.getDimensionAccessor=function(){return null};e.OlapEnvironment.prototype.getFieldAccessorSingle=function(){return null};e.OlapEnvironment.prototype.getModelCapabilities=function(){return null};e.OlapEnvironment.prototype.getDrillManager=function(){return null};e.OlapEnvironment.prototype.getCellContextManager=function(){return null};e.OlapEnvironment.prototype.getDataSourceOrigin=function(){return this.getDataSource()};e.OlapEnvironment.prototype.getDataSourceTarget=function(){return this.getDataSource()};e.OlapEnvironment.prototype.getDataSource=function(){return null};e.OlapEnvironment.prototype.getKeyRefStorage=function(){return null};e.OlapEnvironment.prototype.cacheRemoteBlendingData=function(t,r,a){var n=t.getResultSetPersistenceIdentifier();if(e.XStringUtils.isNotNullAndNotEmpty(n)&&(e.XStringUtils.isNotNullAndNotEmpty(r)||e.XStringUtils.isNotNullAndNotEmpty(a))){this.m_remoteBlendingCache.put(n,e.RemoteBlendingCacheEntry.create(r,a,t.getDataSource().getFullQualifiedName()));if(this.m_remoteBlendingCache.size()>this.m_rsDataMaxCacheEntries){this.invalidateRemoteBlendingCacheEntry(this.m_remoteBlendingCache.getKeysAsReadOnlyListOfString().get(0))}}};e.OlapEnvironment.prototype.invalidateRemoteBlendingCacheEntry=function(t){if(e.XStringUtils.isNotNullAndNotEmpty(t)){e.XObjectExt.release(this.m_remoteBlendingCache.getByKey(t));this.m_remoteBlendingCache.remove(t)}};e.OlapEnvironment.prototype.invalidateRemoteBlendingCacheByDataSource=function(t){var r=this.m_remoteBlendingCache.getValuesAsReadOnlyList();for(var a=r.size()-1;a>=0;a--){if(e.XString.isEqual(r.get(a).getDataSourceName(),t)){this.invalidateRemoteBlendingCacheEntry(this.m_remoteBlendingCache.getKeysAsReadOnlyListOfString().get(a))}}};e.OlapEnvironment.prototype.invalidateRemoteBlendingCache=function(){e.XCollectionUtils.releaseEntriesFromCollection(this.m_remoteBlendingCache);this.m_remoteBlendingCache.clear()};e.OlapEnvironment.prototype.setRemoteBlendingCacheEntryCount=function(t){this.m_rsDataMaxCacheEntries=e.XMath.max(t,0);while(this.m_remoteBlendingCache.hasElements()&&this.m_remoteBlendingCache.size()>this.m_rsDataMaxCacheEntries){this.invalidateRemoteBlendingCacheEntry(this.m_remoteBlendingCache.getKeysAsReadOnlyListOfString().get(0))}};e.OlapEnvironment.prototype.getRemoteBlendingCacheEntryCount=function(){return this.m_rsDataMaxCacheEntries};e.OlapEnvironment.prototype.getCachedRemoteBlendingData=function(e){return this.m_remoteBlendingCache.getByKey(e)};e.OlapEnvironment.prototype.getMicroCubesNames=function(e){return this.getSystemContainer(e).getMicroCubesNames()};e.OlapEnvironment.prototype.isValidMicroCubeName=function(e,t){return this.getSystemContainer(e).isValidMicroCubeName(t)};e.OlapEnvironment.prototype.addMicroCube=function(e,t,r){return this.getSystemContainerBase(e).addMicroCube(t,r)};e.OlapEnvironment.prototype.getMicroCube=function(e,t){return this.getSystemContainerBase(e).getMicroCube(t)};e.OlapEnvironment.prototype.removeMicroCubeName=function(e,t){this.getSystemContainerBase(e).removeMicroCubeName(t)};e.OlapEnvironment.prototype.processCmdContextCreation=function(t,r,a,n,i){var o=e.XPair.create(r,a);n.processQueryManagerCreation(e.SyncType.NON_BLOCKING,this,o);return null};e.OlapEnvironment.prototype.onQueryManagerCreated=function(t,r,a){var n=a;var i=n.getFirstObject();var o=n.getSecondObject();var s=null;if(e.notNull(r)){s=this.selectCmds(r)}var l=e.ExtResult.create(s,t);i.onCmdContextCreated(l,s,o)};e.OlapEnvironment.prototype.updateDynamicVariablesForQueryManager=function(e,t,r,a){var n=e.getSystemDescription().getSystemName();var i=this.getSystemContainer(n);i.updateDynamicVariablesForQueryManager(e,t,r,a)};e.OlapEnvironment.prototype.addBLOBDetailsToCache=function(e,t){this.m_resourceToStringRep.put(e,t)};e.OlapEnvironment.prototype.useBLOBDetailsForResourceId=function(e){return this.m_resourceToStringRep.useEntry(e)};e.OlapEnvironment.prototype.getBLOBDetailsForResourceId=function(e){return this.m_resourceToStringRep.getByKey(e)};e.OlapEnvironment.prototype.hasBLOBForResourceId=function(e){return this.m_resourceToStringRep.containsKey(e)};e.OlapEnvironment.prototype.releaseResource=function(e){this.m_resourceToStringRep.freeEntry(e)};e.OlapEnvironment.prototype.getDimensionMetadata=function(e){var t=this.getCubeContainerInternal(e);return t.getDimensionMetadata(e)};e.OlapEnvironment.prototype.getDimensionMetadataByKey=function(e){var t=this.getCubeContainerInternal(e);return t.getDimensionMetadataByKey(e)};e.OlapEnvironment.prototype.setDimensionMetadata=function(e){var t=this.getCubeContainerInternal(e.getCacheKey());t.setDimensionMetadata(e)};e.OlapEnvironment.prototype.releaseDimensionMetadataByKey=function(e){var t=this.getCubeContainerInternal(e);t.releaseDimensionMetadataByKey(e)};e.OlapEnvironment.prototype.getKeyFieldMetadataByDimension=function(e){var t=this.getCubeContainerInternal(e);return t.getKeyFieldMetadataByDimension(e)};e.OlapEnvironment.prototype.getFieldMetadata=function(e){var t=this.getCubeContainerInternal(e);return t.getFieldMetadata(e)};e.OlapEnvironment.prototype.getFieldMetadataByKey=function(e){var t=this.getCubeContainerInternal(e);return t.getFieldMetadataByKey(e)};e.OlapEnvironment.prototype.setFieldMetadata=function(e){var t=this.getCubeContainerInternal(e.getCacheKey());t.setFieldMetadata(e)};e.OlapEnvironment.prototype.releaseFieldMetadataByKey=function(e){var t=this.getCubeContainerInternal(e);t.releaseFieldMetadataByKey(e)};e.OlapEnvironment.prototype.setQueryMetadata=function(t,r){if(e.notNull(t)){var a=this.getCubeContainerInternal(t);a.setQueryMetadata(t,r)}};e.OlapEnvironment.prototype.overwriteQueryMetadata=function(t,r){if(e.notNull(t)){var a=this.getCubeContainerInternal(t);a.overwriteQueryMetadata(t,r)}};e.OlapEnvironment.prototype.releaseQueryMetadata=function(t){if(e.notNull(t)){var r=this.getCubeContainerInternal(t);r.releaseQueryMetadata(t)}};e.OlapEnvironment.prototype.releaseQueryMetadataExt=function(t,r,a,n,i){var o=e.QFactory.createDataSource();o.setSchemaName(a);o.setPackageName(n);o.setObjectName(i);o.setType(e.MetaObjectType.lookup(r));var s=this.getSystemContainer(t);if(e.notNull(s)){var l=o.getCacheKeyName();var u=s.getCubeContainer(l);if(e.notNull(u)){u.releaseAllQueryMetadata();e.XObjectExt.release(o)}}};e.OlapEnvironment.prototype.releaseAllQueryMetadata=function(){var e=this.m_systems.getKeysAsIteratorOfString();while(e.hasNext()){var t=this.getSystemContainer(e.next());t.releaseAllQueryMetadata()}};e.OlapEnvironment.prototype.getQueryMetadata=function(t){var r=null;if(e.notNull(t)){var a=this.getCubeContainerInternal(t);r=a.getQueryMetadata(t)}return r};e.OlapEnvironment.prototype.getSystemContainerBase=function(e){return this.getSystemContainer(e)};e.OlapEnvironment.prototype.getSystemContainer=function(t){var r=t;if(e.isNull(r)){r="@defaultSys"}var a=this.m_systems.getByKey(r);if(e.isNull(a)){a=e.OlapEnvSystem.create(this,r);this.m_systems.put(r,a)}return a};e.OlapEnvironment.prototype.getCubeContainerInternal=function(e){var t=this.getSystemContainer(e.getSystemName());return t.getCubeContainerInternal(e)};e.OlapEnvironment.prototype.getCubeContainer=function(e){return this.getCubeContainerInternal(e)};e.OlapEnvironment.prototype.isCachingEnabled=function(){var t=this.getSession();var r=false;if(e.notNull(t)){r=t.hasFeature(e.FeatureToggleOlap.METADATA_CACHING)}return r};e.OlapEnvironment.prototype.setCachingEnabled=function(t){if(t){this.getSession().activateFeatureToggle(e.FeatureToggleOlap.METADATA_CACHING)}else{this.getSession().deactivateFeatureToggle(e.FeatureToggleOlap.METADATA_CACHING)}};e.OlapEnvironment.prototype.getFilterManager=function(){if(e.isNull(this.m_filterManager)){this.m_filterManager=e.OlapFilterManager.create(this)}return this.m_filterManager};e.OlapEnvironment.prototype.getGeoManager=function(){if(e.isNull(this.m_geoManager)){this.m_geoManager=e.QGeoManager.create(this)}return this.m_geoManager};e.OlapEnvironment.prototype.getClientQueryObjectManager=function(){if(e.isNull(this.m_clientQueryObjectManager)){this.m_clientQueryObjectManager=e.OlapClientQueryObjectManager.create(this)}return this.m_clientQueryObjectManager};e.OlapEnvironment.prototype.getPrequery=function(e){return this.m_prequeries.getByKey(e)};e.OlapEnvironment.prototype.addPrequery=function(e,t){this.m_prequeries.put(e,t)};e.OlapEnvironment.prototype.removePrequery=function(e){return this.m_prequeries.remove(e)};e.OlapEnvironment.prototype.toString=function(){return e.isNull(this.m_application)?"":this.m_application.toString()};e.OlapEnvironment.prototype.getStateManager=function(){return this.m_stateManager};e.OlapEnvironment.prototype.processQueryManagerCreationWithDataSourceName=function(e,t,r,a,n){return this.m_queryManagerHandler.processQueryManagerCreationWithDataSourceName(e,t,r,a,n)};e.OlapEnvironment.prototype.createQueryManagerWithMicroCube=function(e,t){return this.m_queryManagerHandler.createQueryManagerWithMicroCube(e,t)};e.OlapEnvironment.prototype.processQueryManagerCreationWithBlendingDefinition=function(e,t,r,a){return this.m_queryManagerHandler.processQueryManagerCreationWithBlendingDefinition(e,t,r,a)};e.OlapEnvironment.prototype.getQueryManagerByDataSource=function(t,r){var a=this.m_queryManagers.size();for(var n=0;n<a;n++){var i=this.m_queryManagers.get(n);if(e.XString.isEqual(i.getSystemName(),t)&&i.getDataSource()!==null&&e.XString.isEqual(i.getDataSource().getFullQualifiedName(),r)){return i}}return null};e.OlapEnvironment.prototype.setAllowedFormulaOperatorList=function(e){this.m_allowedFormulaOperators=e};e.OlapEnvironment.prototype.getAllowedFormulaOperatorList=function(){return this.m_allowedFormulaOperators};e.OlapEnvironment.prototype.setModelByJsonObject=function(t,r,a){var n=e.XContent.createJsonObjectContent(r,a);this.setModelByContent(t,n)};e.OlapEnvironment.prototype.setModelByContent=function(e,t){this.m_modelCache.put(e,t)};e.OlapEnvironment.prototype.getModelContent=function(e){return this.m_modelCache.getByKey(e)};e.OlapEnvironment.prototype.getDocumentStateManager=function(){return this.m_stateManager};e.OlapEnvironment.prototype.clearTransientQueryManager=function(){this.m_transientQueryManager.clear()};e.OlapEnvironment.prototype.getTransientQueryManager=function(e){return this.m_transientQueryManager.getByKey(e)};e.OlapEnvironment.prototype.putTransientQueryManager=function(e,t){this.m_transientQueryManager.put(e,t)};e.OlapEnvironment.prototype.getModelLinkManager=function(){if(e.isNull(this.m_modelLinkManager)){this.m_modelLinkManager=e.QModelDimensionLinksManager.create(this)}return this.m_modelLinkManager};e.OlapEnvironment.prototype.getSystemName=function(){return null};e.QueryManagerProcessingSequence=function(){};e.QueryManagerProcessingSequence.prototype=new e.SyncActionSequence;e.QueryManagerProcessingSequence.prototype._ff_c="QueryManagerProcessingSequence";e.QueryManagerProcessingSequence.createSequence=function(t,r,a,n){var i=new e.QueryManagerProcessingSequence;i.setupAction(null,null,null,t);i.m_resultSetContainer=r;i.m_varSubmitRequired=a;i.m_enforceCustomHierarchyRequests=n;return i};e.QueryManagerProcessingSequence.supportsCustomHierarchies=function(t){return e.notNull(t)&&t.getSystemType().isTypeOf(e.SystemType.ABAP)&&t.getModelCapabilities().supportsCustomHierarchy()};e.QueryManagerProcessingSequence.prototype.m_resultSetContainer=null;e.QueryManagerProcessingSequence.prototype.m_varSubmitRequired=false;e.QueryManagerProcessingSequence.prototype.m_enforceCustomHierarchyRequests=false;e.QueryManagerProcessingSequence.prototype.releaseObject=function(){e.SyncActionSequence.prototype.releaseObject.call(this);this.m_resultSetContainer=null};e.QueryManagerProcessingSequence.prototype.processSynchronization=function(t){var r=this.getActionContext();var a=r.getQueryModel();var n=this.m_resultSetContainer.processExecution(e.SyncType.DELAYED,null,null);if(e.QueryManagerProcessingSequence.supportsCustomHierarchies(a)){var i=a.getOlapEnv().getCustomHierarchyRepository();var o=i.getCustomHierarchiesUsedInQueryModel(a);this.processCustomHierarchySubmits(o.getValuesAsReadOnlyList(),this.m_enforceCustomHierarchyRequests)}if(this.m_varSubmitRequired){var s=r.submitVariables(e.SyncType.DELAYED,null,null);if(e.notNull(s)){this.addAction(s)}}this.setMainAction(n);return e.SyncActionSequence.prototype.processSynchronization.call(this,t)};e.QueryManagerProcessingSequence.prototype.processCustomHierarchySubmits=function(t,r){if(e.notNull(t)){for(var a=0;a<t.size();a++){var n=t.get(a);var i=this.getActionContext().createCustomHierarchyProvider(n,r);this.addAction(i.processExecution(e.SyncType.DELAYED,null,null))}}};e.ValueHelpProcessingSequence=function(){};e.ValueHelpProcessingSequence.prototype=new e.SyncActionSequence;e.ValueHelpProcessingSequence.prototype._ff_c="ValueHelpProcessingSequence";e.ValueHelpProcessingSequence.createSequence=function(t,r,a,n,i,o){var s=new e.ValueHelpProcessingSequence;s.setupAction(null,null,null,t);s.m_resultSetContainer=a;s.m_dimension=r;s.m_exportValueHelp=n;s.m_requiresCustomHierarchySubmit=i;s.m_requiresVariableSubmit=o;return s};e.ValueHelpProcessingSequence.customHierarchySubmitRequiredForValueHelp=function(t){if(e.ValueHelpProcessingSequence.supportsCustomHierarchies(t.getQueryModel())){return t.getCustomHierarchyDefinition()!==null&&t.isHierarchyActive()&&t.isSelectorHierarchyActive()}return false};e.ValueHelpProcessingSequence.supportsCustomHierarchies=function(t){return e.notNull(t)&&t.getSystemType().isTypeOf(e.SystemType.ABAP)&&t.getModelCapabilities().supportsCustomHierarchy()};e.ValueHelpProcessingSequence.prototype.m_customHierarchySubmitAction=null;e.ValueHelpProcessingSequence.prototype.m_resultSetContainer=null;e.ValueHelpProcessingSequence.prototype.m_dimension=null;e.ValueHelpProcessingSequence.prototype.m_exportValueHelp=null;e.ValueHelpProcessingSequence.prototype.m_requiresCustomHierarchySubmit=false;e.ValueHelpProcessingSequence.prototype.m_requiresVariableSubmit=false;e.ValueHelpProcessingSequence.prototype.releaseObject=function(){e.SyncActionSequence.prototype.releaseObject.call(this);this.m_customHierarchySubmitAction=null;this.m_exportValueHelp=null;this.m_resultSetContainer=null;this.m_dimension=null};e.ValueHelpProcessingSequence.prototype.processSynchronization=function(t){var r=this.getActionContext();if(this.m_requiresCustomHierarchySubmit&&e.ValueHelpProcessingSequence.supportsCustomHierarchies(r.getQueryModel())){var a=r.createCustomHierarchyProvider(this.m_dimension.getCustomHierarchyDefinition(),false);this.m_customHierarchySubmitAction=a.processExecution(e.SyncType.DELAYED,null,null);this.addAction(this.m_customHierarchySubmitAction)}if(this.m_requiresVariableSubmit){var n=r.submitVariables(e.SyncType.DELAYED,null,null);if(e.notNull(n)){this.addAction(n)}}var i=this.m_resultSetContainer.processExecution(e.SyncType.DELAYED,null,null);this.setMainAction(i);return e.SyncActionSequence.prototype.processSynchronization.call(this,t)};e.ValueHelpProcessingSequence.prototype.onActionExecuted=function(t){if(e.notNull(this.m_exportValueHelp)&&t===this.m_customHierarchySubmitAction){var r=this.m_customHierarchySubmitAction.getData();if(e.notNull(r)){var a=r.getDimension();var n=e.notNull(a)?this.getDimensionStructureFromMainRequest(a):null;if(e.notNull(n)){this.m_exportValueHelp.exportHierarchy(a,n)}}}};e.ValueHelpProcessingSequence.prototype.getDimensionStructureFromMainRequest=function(t){var r=this.getMainAction().getRequest();var a=e.PrUtils.getStructureProperty(r,"Analytics");var n=e.PrUtils.getStructureProperty(a,"Definition");var i=e.PrUtils.getListProperty(n,"Dimensions");for(var o=0;o<e.PrUtils.getListSize(i,0);o++){var s=i.getStructureAt(0);if(e.XString.isEqual(s.getStringByKey("Name"),t.getName())){return s}}return null};e.QOlapSyncAction=function(){};e.QOlapSyncAction.prototype=new e.DfRsSyncAction;e.QOlapSyncAction.prototype._ff_c="QOlapSyncAction";e.QOlapSyncAction.prototype.getQueryManagerBase=function(){if(this.getContext()===null){return null}return this.getContext().getQueryManager()};e.QOlapSyncAction.prototype.getQueryModelBase=function(){return this.getContext().getQueryModel()};e.BlendingProcess=function(){};e.BlendingProcess.prototype=new e.DfRsSyncAction;e.BlendingProcess.prototype._ff_c="BlendingProcess";e.BlendingProcess.PRIMARY_MEASURE_FILTER="primaryMeasureFilter";e.BlendingProcess.SECONDARY_MEASURE_FILTER="secondaryMeasureFilter";e.BlendingProcess.DUMMY_CALCULATION="DummyCalculation";e.BlendingProcess.create=function(t,r,a,n){var i=new e.BlendingProcess;i.setupAction(null,null,null,t.getQueryManager());i.m_blendableQueryManager=t;i.m_configs=e.XList.create();i.m_configs.addAll(r);i.m_primaryBlendedMeasures=e.XList.create();i.m_outOfContextLinkDimensionNames=e.XListOfString.create();i.m_blendedDimensionInfoAxisMap=e.XHashMapByString.create();var o=e.XList.create();e.XCollectionUtils.addAllClones(o,t.getBlendedDimensionsByAxis(e.AxisType.ROWS));i.m_blendedDimensionInfoAxisMap.put(e.AxisType.ROWS.getName(),o);var s=e.XList.create();e.XCollectionUtils.addAllClones(s,t.getBlendedDimensionsByAxis(e.AxisType.COLUMNS));i.m_blendedDimensionInfoAxisMap.put(e.AxisType.COLUMNS.getName(),s);i.m_blendedDrillOperations=e.XList.create();e.XCollectionUtils.addAllClones(i.m_blendedDrillOperations,t.getBlendedDrillOperations());i.m_leafAccountDrillOperations=e.XList.create();i.m_transientMembers=e.XHashMapByString.create();i.m_transientPrimaryBlendedMeasures=e.XList.create();i.m_originalProcess=i;i.m_originalDimensionResultSetFields=e.XHashMapByString.create();i.m_lastModCounterState=e.XHashMapByString.create();i=i.validateCachedRuntimeBlendedQueryManager(t,a,n);i.populateBlendedAndTransientMeasures(t.getPrimaryBlendedMeasures(),t,false);return i};e.BlendingProcess.moveOOCLinkedDimensionsToFreeAxis=function(e,t){var r=t.getIterator();while(r.hasNext()){var a=e.getDimensionByName(r.next());e.getFreeAxis().add(a)}};e.BlendingProcess.prototype.m_blendableQueryManager=null;e.BlendingProcess.prototype.m_configs=null;e.BlendingProcess.prototype.m_originalProcess=null;e.BlendingProcess.prototype.m_childProcess=null;e.BlendingProcess.prototype.m_blendedQueryManager=null;e.BlendingProcess.prototype.m_cachedRuntimeBlendedQueryManagerResult=null;e.BlendingProcess.prototype.m_primaryBlendedMeasures=null;e.BlendingProcess.prototype.m_blendedDimensionInfoAxisMap=null;e.BlendingProcess.prototype.m_blendedDrillOperations=null;e.BlendingProcess.prototype.m_leafAccountDrillOperations=null;e.BlendingProcess.prototype.m_originalDimensionResultSetFields=null;e.BlendingProcess.prototype.m_transientMembers=null;e.BlendingProcess.prototype.m_transientPrimaryBlendedMeasures=null;e.BlendingProcess.prototype.m_outOfContextLinkDimensionNames=null;e.BlendingProcess.prototype.m_enableInaCacheHint=false;e.BlendingProcess.prototype.m_lastModCounterState=null;e.BlendingProcess.prototype.validateCachedRuntimeBlendedQueryManager=function(t,r,a){if(!e.BlendingUtils.containsFilterAcrossModels(t)){this.m_cachedRuntimeBlendedQueryManagerResult=r}var n=t.getAllQueryManagers().getIterator();while(n.hasNext()){var i=n.next().getQueryModel();var o=e.notNull(a)?a.getByKey(i.getDatasetId()):null;var s=e.XHashMapByString.create();var l=i.getPrimaryCalculationDimension();var u=i.getSecondaryCalculationDimension();if(e.notNull(l)&&l.getFilter()!==null){var p=e.XIntegerValue.create(l.getFilter().getModCounter());if(e.isNull(o)||o.getByKey(e.BlendingProcess.PRIMARY_MEASURE_FILTER)!==null&&!p.isEqualTo(o.getByKey(e.BlendingProcess.PRIMARY_MEASURE_FILTER))){this.m_cachedRuntimeBlendedQueryManagerResult=null}s.put(e.BlendingProcess.PRIMARY_MEASURE_FILTER,p)}if(e.notNull(u)&&u.getFilter()!==null){var c=e.XIntegerValue.create(u.getFilter().getModCounter());if(e.isNull(o)||o.getByKey(e.BlendingProcess.SECONDARY_MEASURE_FILTER)!==null&&!c.isEqualTo(o.getByKey(e.BlendingProcess.SECONDARY_MEASURE_FILTER))){this.m_cachedRuntimeBlendedQueryManagerResult=null}s.put(e.BlendingProcess.SECONDARY_MEASURE_FILTER,c)}this.m_lastModCounterState.put(i.getDatasetId(),s)}return this};e.BlendingProcess.prototype.getLastModCounterState=function(){return this.m_lastModCounterState};e.BlendingProcess.prototype.createSubProcess=function(t,r){var a=new e.BlendingProcess;a.m_blendableQueryManager=this.m_blendableQueryManager;a.m_configs=e.XList.create();a.m_configs.addAll(t);a.m_configs.get(0).setFirstQueryManager(r);a.m_originalProcess=this.m_originalProcess;a.m_originalDimensionResultSetFields=e.XHashMapByString.create();a.m_primaryBlendedMeasures=this.m_primaryBlendedMeasures.createListCopy();a.m_blendedDimensionInfoAxisMap=this.m_blendedDimensionInfoAxisMap.createMapByStringCopy();a.m_blendedDrillOperations=this.m_blendedDrillOperations.createListCopy();a.m_leafAccountDrillOperations=this.m_leafAccountDrillOperations.createListCopy();a.m_transientMembers=this.m_transientMembers;a.m_transientPrimaryBlendedMeasures=this.m_transientPrimaryBlendedMeasures.createListCopy();a.m_outOfContextLinkDimensionNames=this.m_outOfContextLinkDimensionNames.createListOfStringCopy();a.m_cachedRuntimeBlendedQueryManagerResult=this.m_cachedRuntimeBlendedQueryManagerResult;a.m_lastModCounterState=this.m_lastModCounterState.createMapByStringCopy();a.setupAction(null,null,null,this.getActionContext());return a};e.BlendingProcess.prototype.releaseObject=function(){e.BlendingUtils.releaseAllBlendNodes(this.m_blendedQueryManager);this.m_blendedQueryManager=null;this.m_configs=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_configs);this.m_originalProcess=null;this.m_childProcess=e.XObjectExt.release(this.m_childProcess);this.m_originalDimensionResultSetFields=e.XObjectExt.release(this.m_originalDimensionResultSetFields);this.m_primaryBlendedMeasures=e.XObjectExt.release(this.m_primaryBlendedMeasures);this.m_blendedDimensionInfoAxisMap=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendedDimensionInfoAxisMap);this.m_blendedDrillOperations=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendedDrillOperations);this.m_leafAccountDrillOperations=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_leafAccountDrillOperations);this.m_cachedRuntimeBlendedQueryManagerResult=null;this.m_lastModCounterState=e.XObjectExt.release(this.m_lastModCounterState);this.m_outOfContextLinkDimensionNames=e.XObjectExt.release(this.m_outOfContextLinkDimensionNames)};e.BlendingProcess.prototype.processBlendedQueryManagerCreation=function(e,t,r){this.setActiveSyncType(e);return this.processSyncAction(e,t,r)};e.BlendingProcess.prototype.getUsedQueryManagers=function(){var t=e.XHashMapByString.create();var r=this.m_configs.getIterator();while(r.hasNext()){var a=r.next();var n=a.getPrimaryQueryManager();var i=a.getSecondaryQueryManager();if(t.isEmpty()){t.put(n.getQueryModel().getDatasetId(),n)}t.put(i.getQueryModel().getDatasetId(),i)}return t};e.BlendingProcess.prototype.populateBlendedAndTransientMeasures=function(t,r,a){var n=t.getIterator();var i=this.getUsedQueryManagers();var o=e.XList.create();while(n.hasNext()){var s=n.next();if(s.getMemberType()===e.MemberType.FORMULA){var l=e.FormulaItemUtils.getFormulaMembers(s.getFormula());var u=l.getIterator();var p=true;var c=e.XHashMapByString.create();while(u.hasNext()){var g=u.next();if(!i.containsKey(g.getQueryModel().getDatasetId())){p=false;break}if(e.XCollectionUtils.contains(r.getPrimaryBlendedMeasures(),function(t){return e.XString.isEqual(t.getName(),g.getMemberName())}.bind(this))){continue}else{var y=this.getOlapEnv().getClientQueryObjectManager().getStructuredMember(g.getMemberName(),r.getClientQueryObjectStorageName(),true);if(e.notNull(y)){o.add(y);this.m_transientPrimaryBlendedMeasures.insert(0,y);continue}}var m=g.getDimensionContext();if(e.notNull(m)){var d=m.getQueryModel().getDatasetId();var C=c.getByKey(d);if(e.isNull(C)){C=e.XList.create();c.put(d,C)}var A=r.getQueryManagerByDatasetId(d);var S=A.getQueryModel().getDimensionByName(m.getName());var E=null;if(e.notNull(S)){E=S.getStructureMemberByAliasOrMember(g.getMemberName());if((S.getFilter()===null||S.getFilter().isEmpty())&&this.m_blendableQueryManager.isUseEmptyAllMemberMeasureFilter()){E=null}else if(S.getFilter()!==null&&!S.getFilter().isEmpty()&&E.isMeasureInUse(S,a)){E=null}}if(e.notNull(E)){C.add(E)}}else{throw e.XException.createRuntimeException(e.XStringUtils.concatenate3("Blendable formula measure '",s.getAliasOrMemberName(),"' contains formula(s) that is missing dimension context"))}}if(p){var _;var h=this.m_transientMembers.getKeysAsIteratorOfString();while(h.hasNext()){if(e.isNull(this.m_cachedRuntimeBlendedQueryManagerResult)){break}var I=h.next();if(!c.getKeysAsReadOnlyListOfString().contains(I)){this.m_cachedRuntimeBlendedQueryManagerResult=null}else{_=c.getByKey(I);var f=this.m_transientMembers.getByKey(I);if(f.size()!==_.size()){this.m_cachedRuntimeBlendedQueryManagerResult=null}else{for(var M=0;M<f.size();M++){var v=f.get(M).getName();if(!e.XCollectionUtils.contains(_,function(t){return e.XString.isEqual(v,t.getName())}.bind(this))){this.m_cachedRuntimeBlendedQueryManagerResult=null;break}}}}}if(!a){this.m_primaryBlendedMeasures.add(s)}var b=c.getKeysAsIteratorOfString();while(b.hasNext()){var T=b.next();_=c.getByKey(T);var N=this.m_transientMembers.getByKey(T);if(e.isNull(N)){N=e.XList.create();this.m_transientMembers.put(T,_)}else{for(var R=0;R<_.size();R++){var Q=_.get(R).getName();if(!e.XCollectionUtils.contains(N,function(t){return e.XString.isEqual(Q,t.getName())}.bind(this))){N.add(_.get(R))}}}}}}}if(o.size()>0){this.populateBlendedAndTransientMeasures(o,r,true)}};e.BlendingProcess.prototype.processSynchronization=function(t){var r=true;var a=this.getActionContext().getQueryManager();var n=a.getQueryModel();if(this.m_configs.size()>0){this.processBlendingQueryManagerCreation()}else if(e.BlendingUtils.isQueryModelInUseForBlending(n,this.m_blendableQueryManager.isUseEmptyAllMemberMeasureFilter())){this.setData(a);r=false}else{this.addError(e.ErrorCodes.BLENDING_CONDITIONS_NOT_FULFILLED,e.ErrorMessages.BLENDING_CONDITIONS_NOT_FULFILLED);r=false}return r};e.BlendingProcess.prototype.addDummyCalculationMeasure=function(t){if(t.getInitSettings().getMode()!==e.QueryManagerMode.DEFAULT){return}var r=t.getQueryModel();var a=r.getPrimaryCalculationDimension();var n=r.getFilter().getDynamicFilter().getFilterRootElement();var i=e.XHashSetOfString.create();i.addAll(e.QFilterUtil.getMemberNamesFromFilter(n,a.getName()));if(i.isEmpty()){var o=r.getFilter().getLinkedFilters().getValuesAsReadOnlyList();for(var s=0;s<o.size();s++){var l=o.get(s).getFilterRootElement();i.addAll(e.QFilterUtil.getMemberNamesFromFilter(l,a.getName()))}}if(i.isEmpty()){var u=e.QFactory.createFormulaMeasure(r,a,e.BlendingProcess.DUMMY_CALCULATION,null,e.BlendingProcess.DUMMY_CALCULATION);u.setFormula(e.QFactory.createFormulaConstantWithIntValue(t,1));var p=this.m_transientMembers.getByKey(r.getDatasetId());if(e.isNull(p)){p=e.XList.create();this.m_transientMembers.put(r.getDatasetId(),p)}p.add(u);a.addMeasure(u);var c=r.getConvenienceCommands().addSingleMemberFilterByDimension(a,u.getAliasOrMemberName(),e.ComparisonOperator.EQUAL);c.getTagging().put("isTransient","")}};e.BlendingProcess.prototype.processBlendingQueryManagerCreation=function(){var t=this.m_configs.get(0);var r=e.QFactory.createBlendingDefinition();var a=t.getQueryModelLinkSettings();var n=t.getPrimaryQueryManager();var i=t.getSecondaryQueryManager();var o=n.getQueryModel();var s=i.getQueryModel();o.stopEventing();s.stopEventing();var l=e.BlendingUtils.getQueryAliasName(n);var u=r.addNewSource(o,l);if(!o.isBlendingModel()){u.setDelayCubeRequest(true)}var p=e.BlendingUtils.getQueryAliasName(i);var c=r.addNewSource(s,p);e.BlendingMappingUtils.processCalculationDimensionMappings(r,u,c,this.m_blendedDrillOperations);e.BlendingMappingUtils.processLinkedDimensions(this.m_configs,r,u,c,this,this.m_blendedDrillOperations);var g=e.XHashSetOfString.create();e.BlendingMappingUtils.processUnlinkedDimensions(u,c,r,a,g,this.m_blendedDrillOperations);e.BlendingMappingUtils.processUnlinkedDimensions(c,u,r,a,g,this.m_blendedDrillOperations);this.processLeafQueryModelDrills(n,i);e.BlendingMappingUtils.processTransientCalculations(o,this.m_transientMembers.getByKey(o.getDatasetId()),this.m_blendableQueryManager.isUseEmptyAllMemberMeasureFilter());e.BlendingMappingUtils.processTransientCalculations(s,this.m_transientMembers.getByKey(s.getDatasetId()),this.m_blendableQueryManager.isUseEmptyAllMemberMeasureFilter());if(!this.m_blendableQueryManager.isUseEmptyAllMemberMeasureFilter()){this.addDummyCalculationMeasure(n);this.addDummyCalculationMeasure(i)}o.resumeEventing();s.resumeEventing();if(e.notNull(this.m_cachedRuntimeBlendedQueryManagerResult)){var y=e.BlendingUtils.getBlendedQueryModelByBlendDefinition(this.m_cachedRuntimeBlendedQueryManagerResult,r);if(e.notNull(y)){this.onQueryManagerCreated(e.ExtResult.create(y,this),y,null);return}}this.m_enableInaCacheHint=true;var m=r.getBlendingHost();var d=m.getSystemName();var C=r.getSources().getIterator();while(C.hasNext()){var A=C.next().getQueryModel();var S=A.getQueryManager().getSystemName();if(A.getQueryManager().isCacheHintEnabled()){if(!e.XString.isEqual(d,S)){A.getQueryManager().setCacheHintEnabled(false);A.getQueryManager().getTagging().put("cacheHintDisabled","")}}else{this.m_enableInaCacheHint=false}}var E=e.QueryServiceConfig.createWithBlendingDefinition(this.getActionContext().getApplication(),r);E.processQueryManagerCreation(this.getActiveSyncType(),this,null)};e.BlendingProcess.prototype.processLeafQueryModelDrills=function(t,r){var a=t.getQueryModel();if(a.getAccountDimension()!==null){if(e.XCollectionUtils.contains(this.m_blendedDrillOperations,function(t){return e.XString.isEqual(t.getDimensionName(),a.getAccountDimension().getName())}.bind(this))){return}if(t.getInitSettings().getMode()===e.QueryManagerMode.DEFAULT){this.processLeafAccountDrillOperations(a)}var n=r.getQueryModel();if(n.getAccountDimension()!==null&&r.getInitSettings().getMode()===e.QueryManagerMode.DEFAULT){this.processLeafAccountDrillOperations(n)}}};e.BlendingProcess.prototype.processLeafAccountDrillOperations=function(t){var r=t.getDrillManager();var a=r.getDrillOperationsByDimension(t.getAccountDimension());for(var n=0;n<a.size();n++){var i=e.BlendedDrillInfo.createBlendedDimensionDrillInfo(null,t.getDatasetId(),t.getAccountDimension().getName());var o=a.get(n);i.setDrillState(o.getDrillState());var s=o.getDrillPath();e.XCollectionUtils.forEach(s,function(e){i.addBlendedDrillPathElementInfo(t.getDatasetId(),t.getAccountDimension().getName(),e.getSelectValue())}.bind(this));this.m_leafAccountDrillOperations.add(i)}};e.BlendingProcess.prototype.cleanupTransientState=function(t){var r=t.getQueryModel();if(t.getInitSettings().getMode()===e.QueryManagerMode.BLENDING){var a=r.getBlendingSources();for(var n=0;n<a.size();n++){var i=a.get(n);var o=i.getQueryModel();this.cleanupTransientState(o.getQueryManager())}}else{t.stopEventing();var s=e.XList.create();s.addAll(r.getColumnsAxis());s.addAll(r.getRowsAxis());var l=s.getIterator();while(l.hasNext()){var u=l.next();var p=e.QCacheKey.createByContextForDimension(r,u.getName(),null);var c=this.m_originalDimensionResultSetFields.getByKey(p.getKey1());if(e.notNull(c)){u.getResultSetFields().clear();var g=c.getIterator();while(g.hasNext()){var y=g.next();u.getResultSetFields().add(u.getFieldByName(y))}var m=u.getFields().getIterator();while(m.hasNext()){var d=m.next();if(d.isHierarchyPathField()&&!d.isAlwaysRequested()&&d.getTagging().containsKey("transientAlwaysRequested")){d.setAlwaysRequested(true);d.getTagging().remove("transientAlwaysRequested")}}}var C=u.getTagging();if(C.containsKey("transientRowAxis")){r.getFreeAxis().add(u);C.remove("transientRowAxis")}if(C.containsKey("originalHierarchy")){var A=C.getByKey("originalHierarchy");if(e.notNull(A)){u.activateHierarchy(A,null,null)}else{u.setHierarchyActive(false);u.setHierarchy(null)}C.remove("originalHierarchy")}if(C.containsKey("transientInitialDrillLevel")){var S=C.getByKey("transientInitialDrillLevel");if(e.notNull(S)){u.setInitialDrillLevel(e.XInteger.convertFromString(S))}C.remove("transientInitialDrillLevel")}}var E=this.m_transientMembers.getByKey(r.getDatasetId());if(e.notNull(E)){var _=E.getIterator();while(_.hasNext()){var h=_.next();if(h.getTagging().containsKey("isTransient")||e.XString.isEqual(h.getAliasOrMemberName(),"DummyCalculation")){h.getTagging().remove("isTransient");var I=r.getDimensionByName(h.getDimension().getName());I.removeMeasure(h.getAliasOrMemberName())}}}this.cleanUpTransientMeasureFilters(r.getPrimaryCalculationDimension());this.cleanUpTransientMeasureFilters(r.getSecondaryCalculationDimension());this.cleanUpTransientDrills(r);if(t.getTagging().containsKey("originalMaxRows")){var f=e.XInteger.convertFromString(t.getTagging().getByKey("originalMaxRows"));t.setMaxRows(f);t.getTagging().remove("originalMaxRows")}t.resumeEventing()}};e.BlendingProcess.prototype.cleanUpTransientMeasureFilters=function(t){if(e.notNull(t)){var r=t.getFilter();if(e.notNull(r)){for(var a=r.size()-1;a>=0;a--){var n=r.get(a);if(n.getTagging().containsKey("isTransient")){r.removeElement(n)}}}var i=t.getQueryModel().getFilter().getVisibilityFilter();if(e.notNull(i)){var o=i.getCartesianList(t);if(e.notNull(o)){for(var s=o.size()-1;s>=0;s--){var l=o.get(s);if(l.getTagging().containsKey("isTransient")){o.removeElement(l)}}}}}};e.BlendingProcess.prototype.cleanUpTransientDrills=function(t){var r=t.getAccountDimension();var a=this.m_transientMembers.getByKey(t.getDatasetId());if(e.notNull(r)&&e.notNull(a)&&a.size()>0){var n=r.getDrillManager();var i=n.getAllZoomDrillOperationsForDimension(r);this.removeTransientDrillPaths(n,i);var o=n.getDrillOperationsByDimension(r);n.removeDrillOperationsByDimension(r);this.removeTransientDrillPaths(n,o)}};e.BlendingProcess.prototype.removeTransientDrillPaths=function(t,r){if(e.notNull(r)){for(var a=0;a<r.size();a++){var n=r.get(a);var i=n.getDrillPath();var o=e.XCollectionUtils.filter(i,function(e){return!e.getTagging().containsKey("isTransient")}.bind(this));if(o.size()>0){t.setDrillState(o,n.getDrillState())}}}};e.BlendingProcess.prototype.onQueryManagerCreated=function(t,r,a){this.addAllMessages(t);if(t.hasErrors()){this.endSync()}else{var n=r.getInitSettings().getBlendingDefinition().getSources().getIterator();while(n.hasNext()){var i=n.next().getQueryManager();if(i.getTagging().containsKey("cacheHintDisabled")){i.setCacheHintEnabled(true);i.getTagging().remove("cacheHintDisabled")}}r.setCacheHintEnabled(this.m_enableInaCacheHint);r.getTagging().put(e.QStateConstants.TAG_UNDO_IGNORE,"");e.BlendingUtils.activateBlendedDimensionHierarchies(r);var o=r.getQueryModel();var s=this.m_configs.createListCopy();s.removeAt(0);if(s.size()>0){this.createSubBlendingProcess(s,r)}else{e.BlendingProcess.moveOOCLinkedDimensionsToFreeAxis(o,this.m_outOfContextLinkDimensionNames);this.m_originalProcess.onRuntimeBlendedQueryManagerCreated(t,r,a)}}};e.BlendingProcess.prototype.applySorts=function(){var t=this.m_blendableQueryManager.getBlendableDimensionSorts();var r=this.m_blendableQueryManager.getBlendableMeasureMemberSort();if(t.size()>0){this.applyDimensionSorts(t)}else if(e.notNull(r)){this.applyMeasureSort(r)}};e.BlendingProcess.prototype.applyDimensionSorts=function(t){var r=this.m_blendedQueryManager.getQueryModel();var a=r.getSortingManager();var n=t.getIterator();while(n.hasNext()){var i=n.next();e.BlendingSortUtils.addSortByDimension(this.m_blendableQueryManager,r,a,i)}};e.BlendingProcess.prototype.applyMeasureSort=function(t){var r=this.m_blendedQueryManager.getQueryModel();var a=null;if(t.getPrimaryMeasureName()!==null){var n=null;if(t.getPrimaryDatasetId()!==null){n=e.BlendingUtils.getBlendedMeasureMemberFromLeafMeasureMember(t.getPrimaryMeasureName(),true,t.getPrimaryDatasetId(),this.m_blendableQueryManager,r)}else{n=r.getPrimaryCalculationDimension().getStructureMember(t.getPrimaryMeasureName())}if(e.notNull(n)){a=n.getName()}}var i=null;if(t.getSecondaryMeasureName()!==null){var o=null;if(t.getSecondaryDatasetId()!==null){o=e.BlendingUtils.getBlendedMeasureMemberFromLeafMeasureMember(t.getSecondaryMeasureName(),false,t.getSecondaryDatasetId(),this.m_blendableQueryManager,r)}else{o=r.getSecondaryCalculationDimension().getStructureMember(t.getSecondaryMeasureName())}if(e.notNull(o)){i=o.getName()}}var s=null;if(t.getVersionDimension()!==null){s=e.BlendingUtils.getBlendedDimensionFromLeafDimension(t.getVersionDimension().getName(),t.getVersionDimension().getQueryModel().getDatasetId(),this.m_blendableQueryManager,r)}e.QSortUtils.addSortByMeasure(r,a,i,t.getSortDirection(),!t.isPreserveGrouping(),t.getVersionElementId(),s)};e.BlendingProcess.prototype.applyRanks=function(){var t=this.m_blendedQueryManager.getQueryModel();var r=this.m_blendableQueryManager.getRankSettings().getIterator();var a=e.XList.create();while(r.hasNext()){var n=r.next();var i=e.QFactory.createRankSettings();i.copyFrom(n,null);if(!i.isBlendedPrimaryMeasure()){var o=t.getPrimaryCalculationDimension().getStructureMember(i.getMeasure());if(e.isNull(o)){o=e.BlendingUtils.getBlendedMeasureMemberFromLeafMeasureMember(i.getMeasure(),true,i.getPrimaryMeasureDatasetId(),this.m_blendableQueryManager,t)}i.setMeasure(o.getName())}if(!i.isBlendedSecondaryMeasure()){if(i.getSecondaryMeasure()!==null){var s=t.getSecondaryCalculationDimension().getStructureMember(i.getSecondaryMeasure());if(e.isNull(s)){s=e.BlendingUtils.getBlendedMeasureMemberFromLeafMeasureMember(i.getSecondaryMeasure(),false,i.getSecondaryMeasureDatasetId(),this.m_blendableQueryManager,t)}i.setSecondaryMeasure(s.getName())}}i.clearAppliedDimensions();var l=n.getAppliedDimensions().getIterator();while(l.hasNext()){var u=l.next();var p=e.BlendingUtils.getBlendedDimensionFromLeafDimension(u.getName(),u.getQueryModel().getDatasetId(),this.m_blendableQueryManager,t);if(e.notNull(p)){i.addAppliedDimension(p)}}var c;if(n.getVersionDimension()!==null){c=e.BlendingUtils.getBlendedDimensionFromLeafDimension(n.getVersionDimension().getName(),n.getVersionDimension().getQueryModel().getDatasetId(),this.m_blendableQueryManager,t);i.setVersionDimension(c)}if(i.useDefaultSort()&&i.useRankConditions()&&(this.m_blendableQueryManager.getBlendableMeasureMemberSort()!==null||this.m_blendableQueryManager.getBlendableDimensionSorts().size()>0||this.m_blendableQueryManager.isDefaultOrder())){i.setUseDefaultSort(false)}a.add(i)}if(a.size()>0){this.m_blendedQueryManager.getConvenienceCommands().applyRankingsWithoutReset(a)}};e.BlendingProcess.prototype.applyMeasureRenames=function(){var t=this.m_blendedQueryManager.getQueryModel();var r=t.getPrimaryCalculationDimension();var a=r.getLoadedStructureMembers();var n=a.getIterator();while(n.hasNext()){var i=n.next();var o=i.getName();var s=e.BlendingUtils.getLeafMeasureMemberFromBlendedMeasureMember(o,t);if(e.notNull(s)&&s.hasOverrideTextDefined()){var l=s.getText();i.setOverrideText(l)}}};e.BlendingProcess.prototype.callListener=function(e,t,r,a){t.onQueryManagerCreated(e,r,a)};e.BlendingProcess.prototype.processBlendedDrills=function(t,r){var a=r.getIterator();while(a.hasNext()){var n=a.next();var i=e.BlendingUtils.findContextDimensionFromDrillDimension(t,n.getDimensionName(),n.getDatasetId());if(e.notNull(i)){if(!i.isHierarchyActive()){continue}var o=n.getBlendedDrillPathElementInfos().getIterator();var s=e.XList.create();while(o.hasNext()){var l=o.next();var u=e.BlendingUtils.findContextDimensionFromDrillDimension(t,l.getDimensionName(),l.getDatasetId());if(e.notNull(u)){var p=null;if(u.getDimensionType()===e.DimensionType.ACCOUNT){if(u.getStructureMember(l.getDrillMember())!==null){p=l.getDrillMember()}else{var c=e.BlendingUtils.getQueryModelFromDatasetId(t,l.getDatasetId());if(c.getAccountDimension()!==null){var g=c.getAccountDimension().getStructureMember(l.getDrillMember());if(e.notNull(g)){var y=e.BlendingUtils.getMatchingBlendedMemberFromLeafMember(t.getQueryModel(),g);if(e.notNull(y)){p=y.getName()}}}}}else{p=l.getDrillMember()}if(e.notNull(p)){s.add(e.QFactory.createDrillPathElement(t.getQueryModel(),p,u))}}}if(s.size()>0){t.getQueryModel().getDrillManager().setDrillState(s,n.getDrillState())}}}};e.BlendingProcess.prototype.processBlendedDimensionsOnAxis=function(t,r){var a=this.m_blendedDimensionInfoAxisMap.getByKey(r.getName());if(e.notNull(a)){if(!a.isEmpty()){t.getQueryModel().getAxis(r).clear()}for(var n=0;n<a.size();n++){var i=a.get(n);var o=e.BlendingUtils.getBlendedDimensionFromLeafDimension(i.getDimensionName(),i.getDatasetId(),this.m_blendableQueryManager,t.getQueryModel());if(e.notNull(o)){t.getConvenienceCommands().moveDimensionOnAxisTo(o.getName(),r,n)}}}};e.BlendingProcess.prototype.processBlendedDimensionInitialDrillLevel=function(t,r){var a=this.m_blendedDimensionInfoAxisMap.getByKey(r.getName());if(e.notNull(a)){for(var n=0;n<a.size();n++){var i=a.get(n);var o=i.getDimensionName();var s=t.getQueryModel().getDimensionByName(o);if(e.notNull(s)){if(s.supportsHierarchy()&&s.isHierarchyActive()&&i.getInitialDrillLevel()!==null){s.setInitialDrillLevel(i.getInitialDrillLevel().getInteger())}}}}};e.BlendingProcess.prototype.prepareQueryExecution=function(){if(e.notNull(this.m_blendedQueryManager)){this.m_blendedQueryManager.setMaxRows(this.m_blendableQueryManager.getActiveResultSetContainer().getMaxRows());this.processBlendedMeasures();this.processBlendedDimensionsOnAxis(this.m_blendedQueryManager,e.AxisType.ROWS);this.processBlendedDimensionsOnAxis(this.m_blendedQueryManager,e.AxisType.COLUMNS);e.BlendingUtils.activateBlendedDimensionHierarchies(this.m_blendedQueryManager);this.processBlendedDimensionInitialDrillLevel(this.m_blendedQueryManager,e.AxisType.ROWS);this.processBlendedDimensionInitialDrillLevel(this.m_blendedQueryManager,e.AxisType.COLUMNS);this.processBlendedDrills(this.m_blendedQueryManager,this.m_leafAccountDrillOperations);this.processBlendedDrills(this.m_blendedQueryManager,this.m_blendedDrillOperations);this.applyMeasureRenames();var t=this.m_blendedQueryManager.getQueryModel();t.getSortingManager().getSortingOperations().clear();t.getConvenienceCommands().clearRank(null);this.applySorts();this.applyRanks()}};e.BlendingProcess.prototype.postQueryExecution=function(){if(e.notNull(this.m_blendedQueryManager)){this.cleanupTransientState(this.m_blendedQueryManager)}};e.BlendingProcess.prototype.processBlendedMeasures=function(){var t=this.m_blendedQueryManager.getQueryModel().getPrimaryCalculationDimension();var r=t.getAllStructureMembers();if(e.XCollectionUtils.contains(r,function(e){return e.getMemberType().isCustomMember()}.bind(this))){t.removeCustomMembers()}this.applyBlendedMeasures(this.m_transientPrimaryBlendedMeasures,true);this.applyBlendedMeasures(this.m_primaryBlendedMeasures,false)};e.BlendingProcess.prototype.applyBlendedMeasures=function(t,r){if(e.notNull(this.m_blendedQueryManager)&&e.notNull(t)){var a=this.m_blendedQueryManager.getQueryModel();var n=a.getPrimaryCalculationDimension();var i=t.getIterator();while(i.hasNext()){var o=i.next();if(o.getMemberType()===e.MemberType.FORMULA){var s=o;if(n.getStructureMember(o.getName())!==null){n.removeMeasure(o.getName())}var l=e.QFactory.createFormulaMeasure(a,n,o.getName(),o.getText(),null);l.setFormula(e.BlendingUtils.convertToBlendedFormula(s.getFormula(),l));if(r){l.setResultVisibility(e.ResultVisibility.HIDDEN)}n.addMeasure(l)}}var u=this.m_transientMembers.getIterator();while(u.hasNext()){var p=u.next();var c=p.getIterator();while(c.hasNext()){var g=c.next();var y=e.BlendingUtils.getMatchingBlendedMemberFromLeafMember(a,g);if(e.notNull(y)){y.setResultVisibility(e.ResultVisibility.HIDDEN);if(n.getStructureLayout().getByKey(y.getName())===null){n.getStructureLayout().add(y)}}}}}};e.BlendingProcess.prototype.createSubBlendingProcess=function(e,t){this.m_childProcess=this.createSubProcess(e,t);this.m_childProcess.processBlendingQueryManagerCreation()};e.BlendingProcess.prototype.addOriginalDimensionResultSetFields=function(e,t){this.m_originalDimensionResultSetFields.put(e,t)};e.BlendingProcess.prototype.addOutOfContextLinkDimensionName=function(e){this.m_outOfContextLinkDimensionNames.add(e)};e.BlendingProcess.prototype.onRuntimeBlendedQueryManagerCreated=function(t,r,a){this.addAllMessages(t);if(!t.hasErrors()){var n=r.getQueryModel().getPrimaryCalculationDimension();if(e.notNull(n)){var i=n.getAllStructureMembers();for(var o=0;o<i.size();o++){var s=i.get(o);if(e.notNull(s)){var l=e.BlendingUtils.getMatchingLeafMemberFromBlendedMember(r.getQueryModel(),s.getName(),true);if(e.notNull(l)&&l.getAliasName()!==null){s.setAliasName(l.getAliasName())}}}}r.setClientQueryObjectStorageName(this.m_blendableQueryManager.getClientQueryObjectStorageName());this.m_blendedQueryManager=r;this.m_cachedRuntimeBlendedQueryManagerResult=r;this.setData(r)}this.endSync()};e.OlapEnvVarProcessor=function(){};e.OlapEnvVarProcessor.prototype=new e.AbstractOlapEnvQueryManagerHandler;e.OlapEnvVarProcessor.prototype._ff_c="OlapEnvVarProcessor";e.OlapEnvVarProcessor.create=function(t){var r=new e.OlapEnvVarProcessor;r.setupQueryManagerHandler(t);return r};e.OlapEnvVarProcessor.prototype.m_updateAction=null;e.OlapEnvVarProcessor.prototype.releaseObject=function(){e.AbstractOlapEnvQueryManagerHandler.prototype.releaseObject.call(this)};e.OlapEnvVarProcessor.prototype.supportsCheckVariables=function(){return e.XStream.of(this.getTaggedQueryManagers()).anyMatch(function(e){return e.supportsCheckVariables()}.bind(this))};e.OlapEnvVarProcessor.prototype.supportsVariableMasking=function(){return e.XStream.of(this.getTaggedQueryManagers()).anyMatch(function(e){return e.supportsVariableMasking()}.bind(this))};e.OlapEnvVarProcessor.prototype.supportsReInitVariables=function(){return e.XStream.of(this.getTaggedQueryManagers()).anyMatch(function(e){return e.supportsReInitVariables()}.bind(this))};e.OlapEnvVarProcessor.prototype.supportsDirectVariableTransfer=function(){var e=this.getTaggedQueryManagers();var t=e.size();for(var r=0;r<t;r++){var a=e.get(r);var n=a.getVariableProcessor();if(!n.supportsReInitVariables()){return false}}return true};e.OlapEnvVarProcessor.prototype.getVariableMode=function(){var t=this.getTaggedQueryManagers();var r=t.size();for(var a=0;a<r;a++){var n=t.get(a);var i=n.getVariableProcessor();if(i.getVariableMode()===e.VariableMode.SUBMIT_AND_REINIT){return e.VariableMode.SUBMIT_AND_REINIT}}return e.VariableMode.DIRECT_VALUE_TRANSFER};e.OlapEnvVarProcessor.prototype.hasInputEnabledVariables=function(){return e.QVariableUtils.hasInputEnabledVariables(this.getVariables())};e.OlapEnvVarProcessor.prototype.hasInputEnabledAndNonTechnicalVariables=function(){return e.XCollectionUtils.hasElements(this.getInputEnabledAndNonTechnicalVariables())};e.OlapEnvVarProcessor.prototype.clearExternalVariablesRepresentations=function(){this.queueEventing();e.QVariableUtils.clearExternalVariablesRepresentations(this.getVariables());this.resumeEventing()};e.OlapEnvVarProcessor.prototype.hasMandatoryVariables=function(){return e.QVariableUtils.hasMandatoryVariables(this.getVariables())};e.OlapEnvVarProcessor.prototype.hasVariables=function(){return this.getVariables().hasElements()};e.OlapEnvVarProcessor.prototype.getInputEnabledVariable=function(t){return e.QVariableUtils.getInputEnabledVariable(this.getVariables(),t)};e.OlapEnvVarProcessor.prototype.getInputEnabledVariables=function(){return e.QVariableUtils.getInputEnabledVariables(this.getVariables())};e.OlapEnvVarProcessor.prototype.getInputEnabledAndNonTechnicalVariables=function(){return e.QVariableUtils.getInputEnabledAndNonTechnicalVariables(this.getVariables())};e.OlapEnvVarProcessor.prototype.getHierarchyNodeVariable=function(t){return e.QVariableUtils.getVariableByType(this.getVariables(),t,e.VariableType.HIERARCHY_NODE_VARIABLE)};e.OlapEnvVarProcessor.prototype.getHierarchyNameVariable=function(t){return e.QVariableUtils.getVariableByType(this.getVariables(),t,e.VariableType.HIERARCHY_NAME_VARIABLE)};e.OlapEnvVarProcessor.prototype.getHierarchyNameVariables=function(){return e.QVariableUtils.getHierarchyNameVariables(this.getVariables())};e.OlapEnvVarProcessor.prototype.getDimensionMemberVariables=function(){return e.QVariableUtils.getDimensionMemberVariables(this.getVariables())};e.OlapEnvVarProcessor.prototype.setWinControlInAutoSubmitByType=function(e,t,r){return};e.OlapEnvVarProcessor.prototype.syncVariableValues=function(){var e=this.getMergedVariables();var t=e.size();for(var r=0;r<t;r++){e.get(r).sync()}};e.OlapEnvVarProcessor.prototype.getVariables=function(){var t=e.XListOfNameObject.create();var r=this.getMergedVariables();var a=r.size();for(var n=0;n<a;n++){t.add(r.get(n).getMainVariable())}return t};e.OlapEnvVarProcessor.prototype.getVariable=function(t){var r=this.getMergedVariables();for(var a=0;a<r.size();a++){var n=r.get(a).getMainVariable();if(e.XString.isEqual(n.getName(),t)){return n}}return null};e.OlapEnvVarProcessor.prototype.getMergedVariables=function(){var t=e.XListOfNameObject.create();var r=this.getTaggedQueryManagers();var a=r.size();for(var n=0;n<a;n++){var i=r.get(n);var o=i.getVariableProcessor();var s=o.getVariableContainer();var l=s.getVariables();var u=l.size();for(var p=0;p<u;p++){var c=l.get(p);var g=this.createMergeVarKey(i,c);var y=t.getByKey(g);if(e.isNull(y)){t.add(e.OlapEnvVariable.create(g,c))}else{y.addSecondaryVariable(c)}}}return t};e.OlapEnvVarProcessor.prototype.createMergeVarKey=function(t,r){var a=e.XStringBuffer.create();a.append(t.getSystemName());a.append("~");var n=t.getDataSource();a.append(n.getFullQualifiedName());a.append("~");a.append(r.getName());return a.toString()};e.OlapEnvVarProcessor.prototype.getDimensionAccessor=e.noSupport;e.OlapEnvVarProcessor.prototype.getDrillManager=e.noSupport;e.OlapEnvVarProcessor.prototype.getCellContextManager=e.noSupport;e.OlapEnvVarProcessor.prototype.getKeyRefStorage=e.noSupport;e.OlapEnvVarProcessor.prototype.submitVariables=function(t,r,a){return e.OlapEnvVarAction.createAndRunSubmit(this,t,r,a)};e.OlapEnvVarProcessor.prototype.reInitVariablesAfterSubmit=function(t,r,a){return e.OlapEnvVarAction.createAndRunReInitAfterSubmit(this,t,r,a)};e.OlapEnvVarProcessor.prototype.cancelReInitVariables=function(t,r,a){return e.OlapEnvVarAction.createAndRunCancel(this,t,r,a)};e.OlapEnvVarProcessor.prototype.transferVariables=function(t,r,a){return e.OlapEnvVarAction.createAndRunSetGetValues(this,t,r,a)};e.OlapEnvVarProcessor.prototype.emptyVariableDefinition=function(t,r,a){return e.OlapEnvVarAction.createAndRunEmptyVariableDefinition(this,t,r,a)};e.OlapEnvVarProcessor.prototype.checkVariables=function(t,r,a){return e.OlapEnvVarAction.createAndRunCheck(this,t,r,a)};e.OlapEnvVarProcessor.prototype.transferVariablesByVariable=e.noSupport;e.OlapEnvVarProcessor.prototype.setDirectVariableTransferEnabled=e.noSupport;e.OlapEnvVarProcessor.prototype.isDirectVariableTransferEnabled=function(){return this.getVariableProcessorState()===e.VariableProcessorState.CHANGEABLE_DIRECT_VALUE_TRANSFER};e.OlapEnvVarProcessor.prototype.isProcessingAutoSubmit=function(){return this.getVariableProcessorState()===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT||this.getVariableProcessorState()===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT_AFTER_REINIT};e.OlapEnvVarProcessor.prototype.isSubmitted=function(){return this.getVariableProcessorState()===e.VariableProcessorState.SUBMITTED};e.OlapEnvVarProcessor.prototype.getVariableProcessorState=function(){if(e.notNull(this.m_updateAction)&&this.m_updateAction.getSyncState()===e.SyncState.PROCESSING){return e.VariableProcessorState.PROCESSING}var t=null;var r=this.getTaggedQueryManagers();var a=r.size();for(var n=0;n<a;n++){var i=r.get(n);var o=i.getVariableProcessor();var s=o.getVariableProcessorState();if(s.isTypeOf(e.VariableProcessorState.PROCESSING)){return e.VariableProcessorState.PROCESSING}if(e.isNull(t)){t=s}else if(t!==s){var l=null;if(t.isTypeOf(e.VariableProcessorState.CHANGEABLE)){if(s===e.VariableProcessorState.SUBMITTED){l=e.VariableProcessorState.SUBMITTED}else if(s.isTypeOf(e.VariableProcessorState.CHANGEABLE)){if(s===e.VariableProcessorState.CHANGEABLE_REINIT||t===e.VariableProcessorState.CHANGEABLE_REINIT){l=e.VariableProcessorState.CHANGEABLE_REINIT}else if(s===e.VariableProcessorState.SUBMIT_FAILED||t===e.VariableProcessorState.SUBMIT_FAILED){l=e.VariableProcessorState.SUBMIT_FAILED}else{l=e.VariableProcessorState.CHANGEABLE}}}else if(t===e.VariableProcessorState.SUBMITTED&&s.isTypeOf(e.VariableProcessorState.CHANGEABLE)){l=e.VariableProcessorState.SUBMITTED}if(e.isNull(l)){l=e.VariableProcessorState.MIXED}t=l}}return t};e.OlapEnvVarProcessor.prototype.registerVariableProcessorStateChangedListener=e.noSupport;e.OlapEnvVarProcessor.prototype.unregisterVariableProcessorStateChangedListener=e.noSupport;e.OlapEnvVarProcessor.prototype.getSelectedVariableProcessors=function(t){var r=e.XList.create();var a=this.getTaggedQueryManagers();var n=a.size();for(var i=0;i<n;i++){var o=a.get(i);var s=o.getVariableProcessor();if(s.hasVariables()){if(e.isNull(t)){r.add(s)}else{var l=s.getVariableProcessorState();if(l.isTypeOf(t)||e.VariableProcessorState.PROCESSING_EMPTY_VARIABLE_DEFINITION===l){r.add(s)}}}}return r};e.OlapEnvVarProcessor.prototype.getAllBWVariableProcessors=function(){var t=e.XList.create();var r=this.getTaggedQueryManagers();var a=r.size();for(var n=0;n<a;n++){var i=r.get(n);var o=i.getVariableProcessor();var s=i.getConvenienceCommands();if(e.notNull(s)&&s.isBw()&&o.hasVariables()){t.add(o)}}return t};e.OlapEnvVarProcessor.prototype.getVariableContainer=function(){return this};e.OlapEnvVarProcessor.prototype.registerChangedListener=e.noSupport;e.OlapEnvVarProcessor.prototype.unregisterChangedListener=e.noSupport;e.OlapEnvVarProcessor.prototype.getOlapComponentType=e.noSupport;e.OlapEnvVarProcessor.prototype.isComponentNode=e.noSupport;e.OlapEnvVarProcessor.prototype.getChildren=function(){return this.getChildrenIterator()};e.OlapEnvVarProcessor.prototype.getChildrenIterator=e.noSupport;e.OlapEnvVarProcessor.prototype.getNamedChildren=e.noSupport;e.OlapEnvVarProcessor.prototype.getIndexedChildren=e.noSupport;e.OlapEnvVarProcessor.prototype.serializeToStringExt=e.noSupport;e.OlapEnvVarProcessor.prototype.serialize=e.noSupport;e.OlapEnvVarProcessor.prototype.serializeToContent=e.noSupport;e.OlapEnvVarProcessor.prototype.serializeToFormat=e.noSupport;e.OlapEnvVarProcessor.prototype.serializeToString=e.noSupport;e.OlapEnvVarProcessor.prototype.serializeToElement=function(e){return this.serializeToElementExt(e,null)};e.OlapEnvVarProcessor.prototype.serializeToElementExt=e.noSupport;e.OlapEnvVarProcessor.prototype.deserializeExt=e.noSupport;e.OlapEnvVarProcessor.prototype.deserializeFromContent=e.noSupport;e.OlapEnvVarProcessor.prototype.deserializeFromElementExt=e.noSupport;e.OlapEnvVarProcessor.prototype.deserializeNewComponentExt=e.noSupport;e.OlapEnvVarProcessor.prototype.deserializeNewComponentFromElementExt=e.noSupport;e.OlapEnvVarProcessor.prototype.getTagging=e.noSupport;e.OlapEnvVarProcessor.prototype.isEventingStopped=e.noSupport;e.OlapEnvVarProcessor.prototype.stopEventing=function(){var e=this.getTaggedQueryManagers();var t=e.size();for(var r=0;r<t;r++){var a=e.get(r);var n=a.getVariableProcessor();var i=n.getVariableContainer();i.stopEventing()}};e.OlapEnvVarProcessor.prototype.queueEventing=function(){var e=this.getTaggedQueryManagers();var t=e.size();for(var r=0;r<t;r++){var a=e.get(r);var n=a.getVariableProcessor();var i=n.getVariableContainer();i.queueEventing()}};e.OlapEnvVarProcessor.prototype.resumeEventing=function(){var e=this.getTaggedQueryManagers();var t=e.size();for(var r=0;r<t;r++){var a=e.get(r);var n=a.getVariableProcessor();var i=n.getVariableContainer();i.resumeEventing()}};e.OlapEnvVarProcessor.prototype.getComponentType=e.noSupport;e.OlapEnvVarProcessor.prototype.getName=e.noSupport;e.OlapEnvVarProcessor.prototype.getText=e.noSupport;e.OlapEnvVarProcessor.prototype.getContext=e.noSupport;e.OlapEnvVarProcessor.prototype.getFieldAccessorSingle=e.noSupport;e.OlapEnvVarProcessor.prototype.getQueryModel=e.noSupport;e.OlapEnvVarProcessor.prototype.getQueryManager=e.noSupport;e.OlapEnvVarProcessor.prototype.getModelCapabilities=e.noSupport;e.OlapEnvVarProcessor.prototype.isSubmitNeeded=function(){return this.getVariableProcessorState().isSubmitNeeded()};e.OlapEnvVarProcessor.prototype.isReinitNeeded=function(){return this.getVariableProcessorState().isReinitNeeded()};e.OlapEnvVarProcessor.prototype.isCancelNeeded=function(){return this.getVariableProcessorState().isCancelNeeded()};e.OlapEnvVarProcessor.prototype.getTagValue=e.noSupport;e.OlapEnvVarProcessor.prototype.getContentElement=e.noSupport;e.OlapEnvVarProcessor.prototype.getContentConstant=e.noSupport;e.OlapEnvVarProcessor.prototype.isNode=e.noSupport;e.OlapEnvVarProcessor.prototype.isLeaf=e.noSupport;e.OlapEnvVarProcessor.prototype.activateVariableVariant=function(t,r,a,n){return e.OlapEnvVarAction.createAndRunVariantActivation(this,r,a,n,t)};e.OlapEnvVarProcessor.prototype.deleteVariableVariant=function(t,r,a,n){var i=this.findQmForDatasource(t.getDataSource());if(e.isNull(i)){return e.OlapVarImmediateCallback.createAndRunError(e.ErrorCodes.INVALID_STATE,"No QueryManager found to delete the variant",r,a,n)}return i.deleteVariableVariant(t,r,a,n)};e.OlapEnvVarProcessor.prototype.updateVariableVariantValues=function(t,r,a,n){var i=this.findQmForDatasource(t.getDataSource());if(e.isNull(i)){return e.OlapVarImmediateCallback.createAndRunError(e.ErrorCodes.INVALID_STATE,"No QueryManager found to save the variant",r,a,n)}this.syncVariableValues();return i.updateVariableVariantValues(t,r,a,n)};e.OlapEnvVarProcessor.prototype.saveVariableVariant=function(t,r,a,n){var i=this.findQmForDatasource(t.getDataSource());if(e.isNull(i)){return e.OlapVarImmediateCallback.createAndRunError(e.ErrorCodes.INVALID_STATE,"No QueryManager found to modify the variant",r,a,n)}return i.saveVariableVariant(t,r,a,n)};e.OlapEnvVarProcessor.prototype.findQmForDatasource=function(t){var r=t.getFullQualifiedName();var a=t.getSystemName();return e.XCollectionUtils.findFirst(this.getTaggedQueryManagers(),function(t){return e.XString.isEqual(t.getDataSource().getFullQualifiedName(),r)&&e.XString.isEqual(t.getDataSource().getSystemName(),a)}.bind(this))};e.OlapEnvVarProcessor.prototype.cloneOlapComponent=e.noSupport;e.OlapEnvVarProcessor.prototype.getParent=function(){return null};e.OlapEnvVarProcessor.prototype.getDataSourceOrigin=function(){return this.getDataSource()};e.OlapEnvVarProcessor.prototype.getDataSourceTarget=function(){return this.getDataSource()};e.OlapEnvVarProcessor.prototype.getDataSource=function(){var t=null;var r=this.getTaggedQueryManagers();for(var a=0;a<r.size();a++){var n=r.get(a).getDataSource();if(e.isNull(t)){t=n;continue}if(e.notNull(n)){if(!e.XString.isEqual(t.getSystemName(),n.getSystemName())||!e.XString.isEqual(t.getFullQualifiedName(),n.getFullQualifiedName())){return null}}}return t};e.OlapEnvVarProcessor.prototype.updateDynamicVariables=function(t,r,a){this.m_updateAction=e.OlapEnvUpdateAction.createAndRunUpdateDynamicValues(this,t,r,a,false)};e.OlapEnvVarProcessor.prototype.resetExitOrUpdateDynamicVariable=function(t,r,a,n){this.m_updateAction=e.OlapEnvUpdateAction.createAndRunUpdateDynamicValues(this,t,r,a,n)};e.OlapEnvVarProcessor.prototype.getConvenienceCommands=e.noSupport;e.OlapEnvVarProcessor.prototype.getVariableVariants=function(){var t=e.XListOfNameObject.create();var r=this.getTaggedQueryManagers();for(var a=0;a<r.size();a++){var n=r.get(a).getVariableVariants();if(!e.XCollectionUtils.hasElements(n)){continue}for(var i=0;i<n.size();i++){var o=n.get(i);if(!t.containsKey(o.getName())){t.add(o)}}}return t};e.OlapEnvVarProcessor.prototype.getSelectionTagging=function(){return this.getSelectionMap()};e.OlapEnvVarProcessor.prototype.getStorageName=e.noSupport;e.OlapEnvVarProcessor.prototype.getStorageGroupName=e.noSupport;e.OlapEnvVarProcessor.prototype.getStorageObjectName=e.noSupport;e.OlapEnvVarProcessor.prototype.serializeToContentExt=function(e,t){return null};e.OlapEnvVarProcessor.prototype.hasPropertyChanged=function(e){return false};e.OlapEnvVarProcessor.prototype.getModCounter=e.noSupport;e.OlapEnvVarProcessor.prototype.reconfigure=e.noSupport;e.OlapEnvVarProcessor.prototype.getChangedProperties=function(){return null};e.OlapEnvVarProcessor.prototype.setChangedProperties=e.noSupport;e.OlapEnvVarProcessor.prototype.getSystemName=function(){return null};e.OlapEnvVarProcessor.prototype.supportsMaintainsVariableVariants=function(){return e.XStream.of(this.getTaggedQueryManagers()).anyMatch(function(e){return e.supportsMaintainsVariableVariants()}.bind(this))};e.OlapEnvVarProcessor.prototype.getMetaValue=e.noSupport;e.OlapEnvVarProcessor.prototype.getExtensions=function(){return null};e.OlapEnvVarProcessor.prototype.getExtensionByName=function(e){return null};e.OlapEnvVarProcessor.prototype.getChangedPropertiesInDetail=function(){return null};e.OlapEnvVarProcessor.prototype.setUseSavedPromptsForExitVariables=function(t){e.XStream.of(this.getOlapEnv().getAllAreaQueryManager()).forEach(function(e){e.setUseSavedPromptsForExitVariables(t)}.bind(this))};e.OlapEnvVarProcessor.prototype.isUsingSavedPromptsForExitVariables=function(){return false};e.OlapEnvVarProcessor.prototype.canMaterializeCompleteObject=function(){return false};e.OlapEnvVarProcessor.prototype.canHaveExtensions=function(){return false};e.OlapEnvVarProcessor.prototype.hasPropertyChangedForInAData=function(e){return false};e.BlendableResultSetContainer=function(){};e.BlendableResultSetContainer.prototype=new e.ResultSetContainer;e.BlendableResultSetContainer.prototype._ff_c="BlendableResultSetContainer";e.BlendableResultSetContainer.createBlendableResultSetContainer=function(t,r,a){var n=new e.BlendableResultSetContainer;n.setupBlendableResultSetContainer(t);n.m_runtimeQueryManager=r;n.m_lastModCounterState=a;return n};e.BlendableResultSetContainer.prototype.m_runtimeQueryManager=null;e.BlendableResultSetContainer.prototype.m_blendingProcess=null;e.BlendableResultSetContainer.prototype.m_lastModCounterState=null;e.BlendableResultSetContainer.prototype.setupBlendableResultSetContainer=function(t){e.ResultSetContainer.prototype.setupContainer.call(this,t,null,null,null,null)};e.BlendableResultSetContainer.prototype.releaseObject=function(){e.BlendingUtils.releaseAllBlendNodes(this.m_runtimeQueryManager);this.m_runtimeQueryManager=null;this.m_lastModCounterState=e.XObjectExt.release(this.m_lastModCounterState);this.m_blendingProcess=e.XObjectExt.release(this.m_blendingProcess);e.ResultSetContainer.prototype.releaseObject.call(this)};e.BlendableResultSetContainer.prototype.getCursorResultSet=function(){if(e.isNull(this.m_cursorResultSetInSync)){var t=this.getSyncState();if(t===e.SyncState.PROCESSING){throw e.XException.createIllegalStateException("Cannot retrieve the resultset while processing")}if(t===e.SyncState.OUT_OF_SYNC){var r=this.getActionContext();if(e.isNull(this.m_blendingProcess)||this.m_blendingProcess.isSyncCanceled()){this.m_blendingProcess=e.XObjectExt.release(this.m_blendingProcess);var a=r.getBlendingProcessConfigs();this.m_blendingProcess=e.BlendingProcess.create(r,a,this.m_runtimeQueryManager,this.m_lastModCounterState)}var n=this.m_blendingProcess.processBlendedQueryManagerCreation(e.SyncType.BLOCKING,null,null);this.m_runtimeQueryManager=n.getData();if(this.m_runtimeQueryManager.getInitSettings().getMode()===e.QueryManagerMode.BLENDING){this.m_blendingProcess.prepareQueryExecution();e.ResultSetContainer.prototype.processExecution.call(this,e.SyncType.BLOCKING,null,null);this.m_blendingProcess.postQueryExecution()}else{e.ResultSetContainer.prototype.processExecution.call(this,e.SyncType.BLOCKING,null,null)}}}return e.XWeakReferenceUtil.getHardRef(this.m_cursorResultSetInSync)};e.BlendableResultSetContainer.prototype.processExecution=function(t,r,a){this.attachListener(r,e.ListenerType.SPECIFIC,a);if(this.getSyncState().isTypeOf(e.SyncState.IN_SYNC)){this.endSync()}else{this.createBlendedQueryManager(t,this,null)}return this};e.BlendableResultSetContainer.prototype.createBlendedQueryManager=function(t,r,a){var n=this.getActionContext();if(e.isNull(this.m_blendingProcess)||this.m_blendingProcess.isSyncCanceled()){this.m_blendingProcess=e.XObjectExt.release(this.m_blendingProcess);this.m_blendingProcess=e.BlendingProcess.create(n,n.getBlendingProcessConfigs(),this.m_runtimeQueryManager,this.m_lastModCounterState)}return this.m_blendingProcess.processBlendedQueryManagerCreation(t,r,a)};e.BlendableResultSetContainer.prototype._resetSyncStateInternal=function(t){if(t||this.getSyncState().isInSync()){this.m_blendingProcess=e.XObjectExt.release(this.m_blendingProcess);this.m_runtimeQueryManager=e.XObjectExt.release(this.m_runtimeQueryManager);this.m_lastModCounterState=e.XObjectExt.release(this.m_lastModCounterState)}e.ResultSetContainer.prototype._resetSyncStateInternal.call(this,t)};e.BlendableResultSetContainer.prototype.onQueryManagerCreated=function(e,t,r){this.addAllMessages(e);if(!e.hasErrors()){this.m_runtimeQueryManager=t;this.m_blendingProcess.prepareQueryExecution();this.m_runtimeQueryManager.processQueryExecution(this.getActiveSyncType(),this,r)}else{this.endSync()}};e.BlendableResultSetContainer.prototype.onQueryExecuted=function(e,t,r){this.m_blendingProcess.postQueryExecution();this.addAllMessages(e);this.setData(t);this.endSync()};e.BlendableResultSetContainer.prototype.getContext=function(){return this.m_runtimeQueryManager};e.BlendableResultSetContainer.prototype.getRuntimeQueryManager=function(){return this.m_runtimeQueryManager};e.BlendableResultSetContainer.prototype.getBlendingProcess=function(){return this.m_blendingProcess};e.BlendedDimensionInfo=function(){};e.BlendedDimensionInfo.prototype=new e.QModelComponent;e.BlendedDimensionInfo.prototype._ff_c="BlendedDimensionInfo";e.BlendedDimensionInfo.createBlendedDimensionInfo=function(t,r){var a=new e.BlendedDimensionInfo;a.m_datasetId=t;a.m_dimensionName=r;return a};e.BlendedDimensionInfo.prototype.m_dimensionName=null;e.BlendedDimensionInfo.prototype.m_datasetId=null;e.BlendedDimensionInfo.prototype.m_initialDrillLevel=null;e.BlendedDimensionInfo.prototype.releaseObject=function(){e.QModelComponent.prototype.releaseObject.call(this);this.m_datasetId=null;this.m_dimensionName=null;this.m_initialDrillLevel=null};e.BlendedDimensionInfo.prototype.cloneExt=function(t){var r=e.BlendedDimensionInfo.createBlendedDimensionInfo(this.getDatasetId(),this.getDimensionName());r.copyFrom(this,null);return r};e.BlendedDimensionInfo.prototype.copyFromInternal=function(t,r){e.QModelComponent.prototype.copyFromInternal.call(this,t,r);var a=t;this.m_datasetId=a.getDatasetId();this.m_dimensionName=a.getDimensionName();if(a.getInitialDrillLevel()!==null){this.m_initialDrillLevel=e.XIntegerValue.create(a.getInitialDrillLevel().getInteger())}else{this.m_initialDrillLevel=null}};e.BlendedDimensionInfo.prototype.getDatasetId=function(){return this.m_datasetId};e.BlendedDimensionInfo.prototype.getDimensionName=function(){return this.m_dimensionName};e.BlendedDimensionInfo.prototype.getInitialDrillLevel=function(){return this.m_initialDrillLevel};e.BlendedDimensionInfo.prototype.setInitialDrillLevel=function(t){this.m_initialDrillLevel=e.XIntegerValue.create(t)};e.BlendedDrillInfo=function(){};e.BlendedDrillInfo.prototype=new e.QModelComponent;e.BlendedDrillInfo.prototype._ff_c="BlendedDrillInfo";e.BlendedDrillInfo.createBlendedDimensionDrillInfo=function(t,r,a){var n=new e.BlendedDrillInfo;n.setupModelComponent(t,t);n.m_blendedDrillPathElementInfos=e.XList.create();n.m_dimensionName=a;n.m_datasetId=r;return n};e.BlendedDrillInfo.prototype.m_dimensionName=null;e.BlendedDrillInfo.prototype.m_datasetId=null;e.BlendedDrillInfo.prototype.m_blendedDrillPathElementInfos=null;e.BlendedDrillInfo.prototype.m_drillState=null;e.BlendedDrillInfo.prototype.releaseObject=function(){e.QModelComponent.prototype.releaseObject.call(this);this.m_dimensionName=null;this.m_datasetId=null;this.m_blendedDrillPathElementInfos=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendedDrillPathElementInfos);this.m_drillState=null};e.BlendedDrillInfo.prototype.copyFromInternal=function(t,r){var a=t;this.m_dimensionName=a.getDimensionName();this.m_datasetId=a.getDatasetId();e.XCollectionUtils.addAllClones(this.m_blendedDrillPathElementInfos,a.getBlendedDrillPathElementInfos());this.m_drillState=a.getDrillState()};e.BlendedDrillInfo.prototype.cloneOlapComponent=function(t,r){var a=e.BlendedDrillInfo.createBlendedDimensionDrillInfo(this.getContext(),this.m_datasetId,this.m_dimensionName);a.copyFrom(this,null);return a};e.BlendedDrillInfo.prototype.getDimensionName=function(){return this.m_dimensionName};e.BlendedDrillInfo.prototype.getDatasetId=function(){return this.m_datasetId};e.BlendedDrillInfo.prototype.getDrillState=function(){return this.m_drillState};e.BlendedDrillInfo.prototype.setDrillState=function(e){this.m_drillState=e;this.notifyNodeChanged()};e.BlendedDrillInfo.prototype.getBlendedDrillPathElementInfos=function(){return this.m_blendedDrillPathElementInfos};e.BlendedDrillInfo.prototype.addBlendedDrillPathElementInfo=function(t,r,a){this.m_blendedDrillPathElementInfos.add(e.BlendedDrillPathElementInfo.createBlendedDrillPathElementInfo(t,r,a));this.notifyNodeChanged()};e.BlendedDrillInfo.prototype.removeBlendedDrillPathElementInfo=function(e){this.m_blendedDrillPathElementInfos.removeElement(e);this.notifyNodeChanged()};e.BlendedDrillInfo.prototype.clearBlendedDrillPathElementInfos=function(){this.m_blendedDrillPathElementInfos.clear();this.notifyNodeChanged()};e.QBlendingSortContainer=function(){};e.QBlendingSortContainer.prototype=new e.QModelComponent;e.QBlendingSortContainer.prototype._ff_c="QBlendingSortContainer";e.QBlendingSortContainer.create=function(t){var r=new e.QBlendingSortContainer;r.setupModelComponent(t,t);r.m_blendableDimensionSorts=e.QModelComponentList.createModelComponentList(t,r,true,"Blendable Dimension Sorts");r.setIsDefaultOrder(false);return r};e.QBlendingSortContainer.prototype.m_blendableDimensionSorts=null;e.QBlendingSortContainer.prototype.m_primaryMeasureSort=null;e.QBlendingSortContainer.prototype.m_isDefaultOrder=false;e.QBlendingSortContainer.prototype.copyFromInternal=function(t,r){var a=t;this.m_blendableDimensionSorts.clear();var n=a.m_blendableDimensionSorts.getIterator();while(n.hasNext()){var i=n.next();var o=e.QFactory.createBlendableDimensionSort(i.getFieldName(),i.getDatasetId(),i.getSortDirection(),i.getPreserveGrouping(),i.getContextLanguage());o.copyFrom(i,null);this.updateBlendableDimensionSort(o)}if(a.getPrimaryBlendableMeasureMemberSort()!==null){var s=a.getPrimaryBlendableMeasureMemberSort();this.m_primaryMeasureSort=e.BlendableMeasureMemberSort.createBlendableMeasureSort(this);this.m_primaryMeasureSort.copyFrom(s,null)}this.m_isDefaultOrder=a.isDefaultOrder()};e.QBlendingSortContainer.prototype.releaseObject=function(){this.m_blendableDimensionSorts=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendableDimensionSorts);this.m_primaryMeasureSort=e.XObjectExt.release(this.m_primaryMeasureSort);e.QModelComponent.prototype.releaseObject.call(this)};e.QBlendingSortContainer.prototype.shouldAddOrUpdateDimensionSort=function(t,r,a,n){var i=this.getParent();var o=this.m_blendableDimensionSorts.getByKey(e.QSortUtils.getBlendableDimensionSortMapKey(t.getName(),r));var s=e.isNull(o)||a!==o.getSortDirection()||n!==o.getPreserveGrouping();var l=e.XString.isEqual(r,i.getPrimaryQueryManager().getQueryModel().getDatasetId());var u=e.BlendingUtils.isDimensionFromLinkedDimension(i,t.getDimension().getName(),r);return s&&(l||!u)};e.QBlendingSortContainer.prototype.updateBlendableDimensionSort=function(t){var r=this.getParent();var a=t.getDatasetId();var n=t.getFieldName();var i=t.getSortDirection();var o=t.getPreserveGrouping();var s=r.getQueryManagerByDatasetId(a);var l=e.notNull(s)?s.getQueryModel():null;var u=e.notNull(l)?l.getFieldByName(n):null;if(e.notNull(u)&&this.shouldAddOrUpdateDimensionSort(u,a,i,o)){this.removeBlendableDimensionSort(n,a);if(this.getPrimaryBlendableMeasureMemberSort()!==null){this.clearPrimaryBlendableMemberMeasureSort()}this.m_blendableDimensionSorts.add(t)}};e.QBlendingSortContainer.prototype.addBlendableDimensionSort=function(t,r,a,n){var i=this.getParent();var o=i.getQueryManagerByDatasetId(r);var s=e.notNull(o)?o.getQueryModel():null;var l=e.notNull(s)?s.getFieldByName(t):null;if(e.notNull(l)&&this.shouldAddOrUpdateDimensionSort(l,r,a,n)){this.removeBlendableDimensionSort(t,r);if(this.getPrimaryBlendableMeasureMemberSort()!==null){this.clearPrimaryBlendableMemberMeasureSort()}this.m_blendableDimensionSorts.add(e.BlendableDimensionSort.createBlendableDimensionSort(t,r,a,n))}};e.QBlendingSortContainer.prototype.removeBlendableDimensionSort=function(t,r){var a=this.m_blendableDimensionSorts.getByKey(e.QSortUtils.getBlendableDimensionSortMapKey(t,r));if(e.notNull(a)){this.m_blendableDimensionSorts.removeElement(a);e.XObjectExt.release(a)}};e.QBlendingSortContainer.prototype.clearBlendableDimensionSorts=function(){if(this.m_blendableDimensionSorts.size()>0){e.XCollectionUtils.releaseEntriesFromCollection(this.m_blendableDimensionSorts);this.m_blendableDimensionSorts.clear()}};e.QBlendingSortContainer.prototype.getBlendableDimensionSorts=function(){return this.m_blendableDimensionSorts};e.QBlendingSortContainer.prototype.setPrimaryBlendableMeasureMemberSort=function(t,r,a){var n=this.getPrimaryBlendableMeasureMemberSort();var i=e.isNull(n)||!e.XString.isEqual(t,n.getMeasureMemberName())||!e.XString.isEqual(r,n.getDatasetId())||a!==n.getSortDirection();var o=false;var s=this.getParent();if(e.notNull(r)){var l=s.getQueryManagerByDatasetId(r);var u=e.notNull(l)?l.getQueryModel():null;var p=e.notNull(u)?u.getPrimaryCalculationDimension():null;o=e.notNull(p)&&(p.getStructureMember(t)!==null||p.getDimensionMember(t)!==null)}else{o=e.XCollectionUtils.contains(s.getPrimaryBlendedMeasures(),function(r){return e.XString.isEqual(r.getName(),t)}.bind(this))}if(i&&o){this.m_primaryMeasureSort=e.BlendableMeasureMemberSort.createBlendableMeasureSort(this);this.m_primaryMeasureSort.setPrimaryMeasure(t,r,false);this.m_primaryMeasureSort.setSortDirection(a);this.notifyNodeChanged()}};e.QBlendingSortContainer.prototype.clearPrimaryBlendableMemberMeasureSort=function(){this.m_primaryMeasureSort=e.XObjectExt.release(this.m_primaryMeasureSort);this.notifyNodeChanged()};e.QBlendingSortContainer.prototype.getPrimaryBlendableMeasureMemberSort=function(){return this.m_primaryMeasureSort};e.QBlendingSortContainer.prototype.setBlendableMeasureMemberSort=function(e){this.m_primaryMeasureSort=e;this.notifyNodeChanged()};e.QBlendingSortContainer.prototype.getBlendableMeasureMemberSort=function(){return this.m_primaryMeasureSort};e.QBlendingSortContainer.prototype.isDefaultOrder=function(){return this.m_isDefaultOrder};e.QBlendingSortContainer.prototype.setIsDefaultOrder=function(e){this.m_isDefaultOrder=e};e.QLightweightDataAreaCommand=function(){};e.QLightweightDataAreaCommand.prototype=new e.QModelComponent;e.QLightweightDataAreaCommand.prototype._ff_c="QLightweightDataAreaCommand";e.QLightweightDataAreaCommand.create=function(t,r,a){var n=new e.QLightweightDataAreaCommand;n.setupModelComponent(t,r);n.setPlanningContextCommandType(a);return n};e.QLightweightDataAreaCommand.prototype.m_synchronizationType=null;e.QLightweightDataAreaCommand.prototype.m_extPlanningCommandResult=null;e.QLightweightDataAreaCommand.prototype.m_planningContextCommandType=null;e.QLightweightDataAreaCommand.prototype.m_commandResult=null;e.QLightweightDataAreaCommand.prototype.m_invalidatingResultSet=false;e.QLightweightDataAreaCommand.prototype.getResult=function(){return this.m_commandResult};e.QLightweightDataAreaCommand.prototype.setPlanningContextCommandType=function(e){this.m_planningContextCommandType=e;this.m_invalidatingResultSet=e.isInvalidatingResultSet()};e.QLightweightDataAreaCommand.prototype.getOlapComponentType=function(){return e.OlapComponentType.LIGHTWEIGHT_DATA_AREA_COMMAND};e.QLightweightDataAreaCommand.prototype.getDataArea=function(){return this.getPlanningContext()};e.QLightweightDataAreaCommand.prototype.createCommandResultInstance=function(){var t=this.getResult();if(e.notNull(t)){e.XObjectExt.release(t)}t=this.createCommandResultInstanceInternal();this.setResult(t);return t};e.QLightweightDataAreaCommand.prototype.setResult=function(e){this.m_commandResult=e};e.QLightweightDataAreaCommand.prototype.createCommandResultInstanceInternal=function(){return new e.QLightweightDataAreaCommandResult};e.QLightweightDataAreaCommand.prototype.processCommand=function(t,r,a){var n=this.createCommandResult(r,a);this.m_synchronizationType=t;this.doProcessCommand(t,n);var i=null;if(t===e.SyncType.BLOCKING){i=this.m_extPlanningCommandResult;this.m_extPlanningCommandResult=null}return i};e.QLightweightDataAreaCommand.prototype.createCommandResult=function(e,t){var r=this.createCommandResultInstance();r.setCustomIdentifier(t);r.setPlanningCommand(this);r.setPlanningCommandCallback(e);return r};e.QLightweightDataAreaCommand.prototype.getServicePath=function(){var t=this.getQueryManagerBase().getConnection();var r=t.getSystemDescription();var a=t.getSystemConnect().getServerMetadata();var n=a.getMetadataForService(e.ServerService.ANALYTIC);var i=n.getByKey(e.InACapabilities.C032_FAST_PATH);if(e.notNull(i)&&i.getValue()!==null){return i.getValue()}return r.getSystemType().getInAPath()};e.QLightweightDataAreaCommand.prototype.doProcessCommand=function(t,r){var a=this.getQueryManagerBase().getConnection();var n=this.getServicePath();var i=a.newRpcFunction(n);var o=i.getRpcRequest();var s=this.serializeToElement(e.QModelFormat.INA_DATA);o.setRequestStructure(s);i.processFunctionExecution(t,this,r)};e.QLightweightDataAreaCommand.prototype.onFunctionExecuted=function(t,r,a){var n=a;var i;if(t.hasErrors()){i=e.ExtResult.create(n,t)}else{this.onSuccessfulCommand();var o=e.PrFactory.createStructureDeepCopy(r.getRootElement());var s=e.MessageManager.createMessageManagerExt(this.getSession());s.addAllMessages(this.deserializeFromElementExt(e.QModelFormat.INA_DATA,o));i=e.ExtResult.create(n,s)}this.onCommandExecuted(i)};e.QLightweightDataAreaCommand.prototype.onCommandExecuted=function(t){if(this.m_synchronizationType===e.SyncType.BLOCKING){this.m_extPlanningCommandResult=t}var r=t.getData().getPlanningCommandCallback();if(e.notNull(r)){r.onCommandProcessed(t)}};e.QLightweightDataAreaCommand.prototype.isInvalidatingResultSet=function(){return this.m_invalidatingResultSet};e.QLightweightDataAreaCommand.prototype.setInvalidatingResultSet=function(e){this.m_invalidatingResultSet=e;return this};e.QLightweightDataAreaCommand.prototype.setConnection=e.noSupport;e.QLightweightDataAreaCommand.prototype.getCommandType=function(){return e.PlanningCommandType.DATA_AREA_COMMAND};e.QLightweightDataAreaCommand.prototype.getPlanningContext=function(){return null};e.QLightweightDataAreaCommand.prototype.getPlanningContextCommandType=function(){return this.m_planningContextCommandType};e.QLightweightDataAreaCommand.prototype.onCommandProcessed=function(e){this.m_extPlanningCommandResult=e};e.QLightweightDataAreaCommand.prototype.onSuccessfulCommand=function(){if(this.isInvalidatingResultSet()){this.getQueryManager().invalidateState()}};e.QLightweightDataAreaCommandResult=function(){};e.QLightweightDataAreaCommandResult.prototype=new e.QModelComponent;e.QLightweightDataAreaCommandResult.prototype._ff_c="QLightweightDataAreaCommandResult";e.QLightweightDataAreaCommandResult.EXECUTED="EXECUTED";e.QLightweightDataAreaCommandResult.prototype.m_customIdentifier=null;e.QLightweightDataAreaCommandResult.prototype.m_lightweightDataAreaCommand=null;e.QLightweightDataAreaCommandResult.prototype.m_planningCommandCallback=null;e.QLightweightDataAreaCommandResult.prototype.m_executed=false;e.QLightweightDataAreaCommandResult.prototype.getDataAreaCommand=function(){return this.getPlanningCommand()};e.QLightweightDataAreaCommandResult.prototype.isExecuted=function(){return this.m_executed};e.QLightweightDataAreaCommandResult.prototype.setExecuted=function(e){this.m_executed=e};e.QLightweightDataAreaCommandResult.prototype.getPlanningCommand=function(){return this.m_lightweightDataAreaCommand};e.QLightweightDataAreaCommandResult.prototype.getCustomIdentifier=function(){return this.m_customIdentifier};e.QLightweightDataAreaCommandResult.prototype.getPlanningCommandCallback=function(){return this.m_planningCommandCallback};e.QLightweightDataAreaCommandResult.prototype.getPlanningContextCommand=function(){return this.m_lightweightDataAreaCommand};e.QLightweightDataAreaCommandResult.prototype.setCustomIdentifier=function(e){this.m_customIdentifier=e};e.QLightweightDataAreaCommandResult.prototype.setPlanningCommand=function(e){this.m_lightweightDataAreaCommand=e};e.QLightweightDataAreaCommandResult.prototype.setPlanningCommandCallback=function(e){this.m_planningCommandCallback=e};e.OlapEnvUpdateAction=function(){};e.OlapEnvUpdateAction.prototype=new e.QOlapSyncAction;e.OlapEnvUpdateAction.prototype._ff_c="OlapEnvUpdateAction";e.OlapEnvUpdateAction.createAndRunUpdateDynamicValues=function(t,r,a,n,i){var o=new e.OlapEnvUpdateAction;o.m_overwriteDefaultForInputEnabledVar=i;o.setupVarActionAndRun(r,t,a,n);return o};e.OlapEnvUpdateAction.prototype.m_finishedCount=0;e.OlapEnvUpdateAction.prototype.m_affectedVarProcessors=null;e.OlapEnvUpdateAction.prototype.m_overwriteDefaultForInputEnabledVar=false;e.OlapEnvUpdateAction.prototype.releaseObject=function(){this.m_affectedVarProcessors=e.XObjectExt.release(this.m_affectedVarProcessors);e.QOlapSyncAction.prototype.releaseObject.call(this)};e.OlapEnvUpdateAction.prototype.setupVarActionAndRun=function(t,r,a,n){e.QOlapSyncAction.prototype.setupActionAndRun.call(this,t,a,n,r)};e.OlapEnvUpdateAction.prototype.processSynchronization=function(t){var r=this.getActionContext();var a=r.getSelectedVariableProcessors(e.VariableProcessorState.CHANGEABLE_DIRECT_VALUE_TRANSFER);var n=r.getAllBWVariableProcessors();var i=e.XList.create();i.addAll(n);i.addAll(a);this.m_affectedVarProcessors=i;if(this.m_affectedVarProcessors.isEmpty()){this.addWarning(e.ErrorCodes.NO_VARIABLE_PROCESSOR_AFFECTED,"No affected variable processor was found.");return false}var o=this.getActiveSyncType();for(var s=0;s<this.m_affectedVarProcessors.size();s++){var l=this.m_affectedVarProcessors.get(s);l.resetExitOrUpdateDynamicVariable(o,this,null,this.m_overwriteDefaultForInputEnabledVar)}return true};e.OlapEnvUpdateAction.prototype.onQueryExecuted=function(e,t,r){this.addAllMessages(e);this.m_finishedCount++;if(this.m_finishedCount>=this.m_affectedVarProcessors.size()){this.endSync()}};e.OlapEnvUpdateAction.prototype.callListener=function(e,t,r,a){t.onQueryExecuted(e,r,a)};e.OlapEnvVarAction=function(){};e.OlapEnvVarAction.prototype=new e.QOlapSyncAction;e.OlapEnvVarAction.prototype._ff_c="OlapEnvVarAction";e.OlapEnvVarAction.createAndRunVariantActivation=function(t,r,a,n,i){var o=new e.OlapEnvVarAction;o.m_activeVariant=i;o.setupVarActionAndRun(r,t,a,n,e.VariableProcessorState.PROCESSING_VARIANT_ACTIVATION);return o};e.OlapEnvVarAction.createAndRunSubmit=function(t,r,a,n){var i=new e.OlapEnvVarAction;i.setupVarActionAndRun(r,t,a,n,e.VariableProcessorState.PROCESSING_SUBMIT);return i};e.OlapEnvVarAction.createAndRunCancel=function(t,r,a,n){var i=new e.OlapEnvVarAction;i.setupVarActionAndRun(r,t,a,n,e.VariableProcessorState.PROCESSING_CANCEL);return i};e.OlapEnvVarAction.createAndRunCheck=function(t,r,a,n){var i=new e.OlapEnvVarAction;i.setupVarActionAndRun(r,t,a,n,e.VariableProcessorState.PROCESSING_CHECK);return i};e.OlapEnvVarAction.createAndRunReInitAfterSubmit=function(t,r,a,n){var i=new e.OlapEnvVarAction;i.setupVarActionAndRun(r,t,a,n,e.VariableProcessorState.PROCESSING_REINIT);return i};e.OlapEnvVarAction.createAndRunSetGetValues=function(t,r,a,n){var i=new e.OlapEnvVarAction;i.setupVarActionAndRun(r,t,a,n,e.VariableProcessorState.PROCESSING_UPDATE_VALUES);return i};e.OlapEnvVarAction.createAndRunEmptyVariableDefinition=function(t,r,a,n){var i=new e.OlapEnvVarAction;i.setupVarActionAndRun(r,t,a,n,e.VariableProcessorState.PROCESSING_EMPTY_VARIABLE_DEFINITION);return i};e.OlapEnvVarAction.prototype.m_actionState=null;e.OlapEnvVarAction.prototype.m_finishedCount=0;e.OlapEnvVarAction.prototype.m_affectedVarProcessors=null;e.OlapEnvVarAction.prototype.m_activeVariant=null;e.OlapEnvVarAction.prototype.releaseObject=function(){this.m_actionState=null;this.m_affectedVarProcessors=e.XObjectExt.release(this.m_affectedVarProcessors);this.m_activeVariant=null;e.QOlapSyncAction.prototype.releaseObject.call(this)};e.OlapEnvVarAction.prototype.setupVarActionAndRun=function(t,r,a,n,i){this.m_actionState=i;e.QOlapSyncAction.prototype.setupActionAndRun.call(this,t,a,n,r)};e.OlapEnvVarAction.prototype.processSynchronization=function(t){this.setData(this);var r=this.getActionContext();if(this.m_actionState===e.VariableProcessorState.PROCESSING_SUBMIT||this.m_actionState===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT){r.syncVariableValues();this.m_affectedVarProcessors=r.getSelectedVariableProcessors(e.VariableProcessorState.CHANGEABLE_STATEFUL)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_CANCEL){this.m_affectedVarProcessors=r.getSelectedVariableProcessors(e.VariableProcessorState.CHANGEABLE_STATEFUL)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_CHECK){r.syncVariableValues();this.m_affectedVarProcessors=r.getSelectedVariableProcessors(e.VariableProcessorState.CHANGEABLE_STATEFUL)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_UPDATE_VALUES){r.syncVariableValues();this.m_affectedVarProcessors=r.getSelectedVariableProcessors(e.VariableProcessorState.CHANGEABLE_STATEFUL)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_REINIT){this.m_affectedVarProcessors=r.getSelectedVariableProcessors(e.VariableProcessorState.SUBMITTED)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_VARIANT_ACTIVATION){this.m_affectedVarProcessors=r.getSelectedVariableProcessors(e.VariableProcessorState.CHANGEABLE_STATEFUL)}if(this.m_affectedVarProcessors.isEmpty()){this.addWarning(e.ErrorCodes.NO_VARIABLE_PROCESSOR_AFFECTED,"No affected variable processor was found.");return false}var a=this.getActiveSyncType();for(var n=0;n<this.m_affectedVarProcessors.size();n++){var i=this.m_affectedVarProcessors.get(n);if(this.m_actionState===e.VariableProcessorState.PROCESSING_SUBMIT){i.submitVariables(a,this,null)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_CANCEL){i.cancelReInitVariables(a,this,null)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_CHECK){i.checkVariables(a,this,null)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_UPDATE_VALUES){i.transferVariables(a,this,null)}else if(this.m_actionState===e.VariableProcessorState.PROCESSING_REINIT){i.reInitVariablesAfterSubmit(a,this,null)}else if(this.m_actionState.isTypeOf(e.VariableProcessorState.PROCESSING_VARIANT_ACTIVATION)){i.activateVariableVariant(this.m_activeVariant.clone(),a,this,null)}}return true};e.OlapEnvVarAction.prototype.onVariableProcessorExecuted=function(e,t,r){this.addAllMessages(e);this.m_finishedCount++;if(this.m_finishedCount>=this.m_affectedVarProcessors.size()){this.endSync()}};e.OlapEnvVarAction.prototype.callListener=function(e,t,r,a){t.onVariableProcessorExecuted(e,r,a)};e.OlapEnvVarAction.prototype.isSuccessfullyProcessed=function(){return this.getSyncState().isInSync()&&this.isValid()};e.OlapFilterManager=function(){};e.OlapFilterManager.prototype=new e.QModelComponent;e.OlapFilterManager.prototype._ff_c="OlapFilterManager";e.OlapFilterManager.TAGGING_STORY_VARIABLES="TAGGING_STORY_VARIABLES";e.OlapFilterManager.TAGGING_VARIABLE_DIALOG_HAS_BEEN_SET="TAGGING_VARIABLE_DIALOG_HAS_BEEN_SET";e.OlapFilterManager.create=function(t){var r=new e.OlapFilterManager;r.setupExt(t);return r};e.OlapFilterManager.prototype.m_filters=null;e.OlapFilterManager.prototype.m_prunedDimensions=null;e.OlapFilterManager.prototype.m_flattenedComplexFilters=null;e.OlapFilterManager.prototype.m_externalizeMeasureFilters=null;e.OlapFilterManager.prototype.m_capabilities=null;e.OlapFilterManager.prototype.setupExt=function(t){this.setupModelComponentWithName(t,null,"FilterManager");this.m_filters=e.XHashMapByString.create();this.m_prunedDimensions=e.XHashMapByString.create();this.m_externalizeMeasureFilters=e.XHashSetOfString.create();this.m_flattenedComplexFilters=e.XHashSetOfString.create();this.m_capabilities=e.QCapabilities.create();this.m_capabilities.setSupportsVisibilityFilter(true);this.m_capabilities.setSupportsComplexFilter(true);this.m_capabilities.setSupportsCellValueOperand(true);this.m_capabilities.setSupportsIntersectLayers(true);this.m_capabilities.setSupportsHierarchyLevelOffsetFilter(true);this.m_capabilities.setSupportsHierarchyTrapezoidFilter(true);this.m_capabilities.setSupportsTuplesOperand(true);this.m_capabilities.setSupportsComplexTupleFilter(true);this.m_capabilities.setSupportsCalculatedDimensions(true);this.m_capabilities.setSupportsFormulaMeasures(true);this.m_capabilities.setSupportsDynamicVariableRefresh(true)};e.OlapFilterManager.prototype.getOlapComponentType=function(){return e.OlapComponentType.OLAP_FILTER_MANAGER};e.OlapFilterManager.prototype.releaseObject=function(){this.m_filters=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_filters);e.QModelComponent.prototype.releaseObject.call(this)};e.OlapFilterManager.prototype.getFilterByName=function(t){if(e.isNull(t)){return null}if(this.m_filters.containsKey(t)){return this.m_filters.getByKey(t)}this.notifyNodeChanged();var r=e.QFilterExpression.create(this,this);this.m_filters.put(t,r);return r};e.OlapFilterManager.prototype.getFilters=function(){return this.m_filters};e.OlapFilterManager.prototype.getModelCapabilities=function(){return this.m_capabilities};e.OlapFilterManager.prototype.deleteFilterByName=function(t){var r=this.m_filters.remove(t);if(e.notNull(r)){r.setComplexRoot(null);e.XObjectExt.release(r)}};e.OlapFilterManager.prototype.addFilter=function(t){if(e.notNull(t)){var r=t.getUniqueId();this.deleteFilterByName(r);this.m_filters.put(r,t)}};e.OlapFilterManager.prototype.containsName=function(e){return this.m_filters.containsKey(e)};e.OlapFilterManager.prototype.getFilterById=function(t){if(e.isNull(t)){return null}var r=this.m_filters.getIterator();while(r.hasNext()){var a=r.next();if(e.XString.isEqual(a.getUniqueId(),t)){return a}}return null};e.OlapFilterManager.prototype.externalizeDynamicFilterAfterSubmit=function(e,t){this._externalizeDynamicFilter(e,t)};e.OlapFilterManager.prototype.externalizeDynamicFilter=function(e){this._externalizeDynamicFilter(e,true)};e.OlapFilterManager.prototype.cleanupFilterBeforeAutoSubmit=function(t,r){if(e.notNull(t)&&t.getActiveResultSetContainer().getSyncState().isNotInSync()&&t.isExecuteAutoVariableSubmit()&&t.getInitSettings().isExternalizedDynamicFilter()){var a=t.getQueryModel();if(e.isNull(a)){return}var n=t;var i=n.getVariableProcessorState();var o=i===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT||i===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT_AFTER_REINIT;var s=a.getVariableManager();if(o&&s.hasDimensionMemberVariableAffectingDynamicFilter()){a.queueEventing();var l=a.getFilter();var u=l.getDynamicFilter();var p=l.getExternalizedFilterName();var c=this.getFilterByName(p);var g=e.XHashSetOfString.create();var y=e.XString.isEqual(t.getTagging().getByKey(e.OlapFilterManager.TAGGING_STORY_VARIABLES),"true");var m=s.getDimensionNamesOfVariablesAffectingDynamicFilterValue();var d=l.getDynamicFilter().getDimensionsUsedInFilter();if(y){g.addAll(m)}g.addAll(d);var C=this._unlinkOrCollectConflictingDimensionsForOverwrittenFilters(l,g,c,y).getValuesAsReadOnlyListOfString();this.clearFilterByDimensionNames(t,C,null);this.clearFilterByDimensionNames(t,m,null);var A=this.m_prunedDimensions.getByKey(t.getInstanceId());if(e.notNull(A)){this.clearFilterByDimensionNames(t,A,m)}if(u.isComplexFilter()){this.m_flattenedComplexFilters.add(p);var S=e.QFilterUtil.convertComplexFilterToCartesian(u.getComplexRoot());if(e.notNull(S)){u.setCartesianProduct(S)}}var E=u.getCartesianProduct();if(e.notNull(E)){var _=s.getVariablesAffectingDynamicFilter();for(var h=0;h<_.size();h++){var I=_.get(h);if(!I.isHierarchyInfoVariable()){var f=I.getDimensionForRuntimeFilterValue();if(e.notNull(f)&&!C.contains(f.getName())&&(e.isNull(A)||!A.contains(f.getName())||e.XString.isEqual(t.getTagging().getByKey(e.OlapFilterManager.TAGGING_VARIABLE_DIALOG_HAS_BEEN_SET),"true"))){var M=E.getCartesianListWithDefault(f);var v;if(I.getVariableType()===e.VariableType.HIERARCHY_NODE_VARIABLE){v=f.getHierarchyKeyField()}else if(f.isCompound()){v=f.getFirstFieldByType(e.PresentationType.KEY_NOT_COMPOUND)}else{v=f.getFlatKeyField()}M.setFieldMetadata(v.getMetadata());M.clear();var b=M.addNewCartesianElement().getLow();b.setVariableValue(I);this.addHierarchyInfo(I,M,l.isFlattenHierarchyNodeFiltersFromVariables())}}}}this.m_prunedDimensions.remove(t.getInstanceId());l.linkFilterExt(p,null,a.getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter(),true);a.resumeEventing()}}};e.OlapFilterManager.prototype.addHierarchyInfo=function(t,r,a){if(t.getVariableType().isTypeOf(e.VariableType.HIERARCHY_NODE_VARIABLE)){var n=t.getDimensionForRuntimeFilterValue();var i=n.getHierarchyName();if(n.useHierarchyNameVariable()){i=n.getHierarchyNameVariableName()}var o=n.getHierarchyDueDate();if(n.useHierarchyDueDateVariable()){o=null}var s=n.getHierarchyVersion();if(n.useHierarchyVersionVariable()){s=n.getHierarchyVersionVariableName()}r.setHierarchyInfo(i,o,s);if(a){r.setConvertToFlatFilter(true)}}};e.OlapFilterManager.prototype.clearFilterByDimensionNames=function(t,r,a){var n=t.getConvenienceCommands();var i=r.getIterator();while(i.hasNext()){var o=i.next();if(e.isNull(a)||!a.contains(o)){n.clearFiltersByDimensionName(o)}}};e.OlapFilterManager.prototype.discardNonVariableFilters=function(t,r,a){var n=a.getCartesianProduct();if(e.isNull(n)){n=e.QFilterUtil.convertComplexFilterToCartesian(a.getComplexRoot())}if(e.notNull(n)){var i=r.getDimensionNamesOfVariablesAffectingDynamicFilterValue();var o=a.getDimensionsUsedInFilter().getIterator();while(o.hasNext()){var s=o.next();var l=n.getCartesianListByDimensionName(s);if(e.notNull(l)&&!i.contains(s)&&(!t.getDimensionByName(s).isMeasureStructure()||this.isExternalizeMeasureFilters(t.getQueryManager()))){n.removeByDimensionName(s)}}a.setCartesianProduct(n)}};e.OlapFilterManager.prototype.externalizeNonVariableFilter=function(t){if(e.isNull(t)){return}var r=t.getQueryModel();if(e.isNull(r)){return}var a=r.getVariableManager();var n=r.getFilter();var i=n.getDynamicFilter();var o=i.getCartesianProduct();if(e.isNull(o)){o=e.QFilterUtil.convertComplexFilterToCartesian(i.getComplexRoot())}if(e.notNull(o)){r.queueEventing();var s=n.getExternalizedNonVariableFilterName();var l=this.getFilterByName(s);var u=a.getDimensionNamesOfVariablesAffectingDynamicFilterValue();var p=l.getCartesianProductWithDefault();var c=i.getDimensionsUsedInFilter().getIterator();while(c.hasNext()){var g=c.next();var y=o.getCartesianListByDimensionName(g);if(e.notNull(y)&&!u.contains(g)){var m=p.getCartesianListByDimensionMdWithDefault(y.getFieldMetadata().getDimensionMetadata());m.copyFrom(y,null);o.removeByDimensionName(g)}}i.setCartesianProduct(o);n.linkFilter(s,l);r.resumeEventing()}};e.OlapFilterManager.prototype._externalizeDynamicFilter=function(t,r){if(e.isNull(t)){return}var a=t.getQueryModel();if(e.isNull(a)){return}var n=a.getVariableManager();var i=a.getFilter();var o=i.getDynamicFilter();var s=t.getPreviousVariableProcessorState()!==e.VariableProcessorState.SUBMITTED;if(s&&t.getInitSettings().isExternalizedNonVariableFilter()){this.discardNonVariableFilters(a,n,o)}if(!o.isComplexFilter()&&s){a.queueEventing();var l=i.getExternalizedFilterName();var u=this.getFilterByName(l);var p=e.XHashSetOfString.create();p.addAll(n.getDimensionNamesOfVariablesAffectingDynamicFilterValue());p.addAll(o.getDimensionsUsedInFilter());var c=this._unlinkOrCollectConflictingDimensionsForOverwrittenFilters(i,p,u,e.XString.isEqual(t.getTagging().getByKey(e.OlapFilterManager.TAGGING_STORY_VARIABLES),"true")).getValuesAsReadOnlyListOfString();var g=u.getUniqueId();u.copyFrom(o,null);u.setUniqueId(g);var y=u.getCartesianProductWithDefault();var m;for(m=0;m<c.size();m++){var d=c.get(m);y.removeByDimensionName(d)}if(i.isFlattenHierarchyNodeFiltersFromVariables()){for(m=0;m<y.size();m++){var C=y.getCartesianChild(m);if(e.XStringUtils.isNotNullAndNotEmpty(C.getHierarchyName())){C.setConvertToFlatFilter(true)}}}i.linkFilterExt(l,u,a.getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter(),true);this._removeEmptyCartesianLists(o,u);if(this.isExternalizeMeasureFilters(t)){a.getConvenienceCommands().clearFilters()}else{a.getConvenienceCommands().clearNonMeasureFilters();if(o.isCartesianProduct()&&o.getCartesianProduct().size()===1&&this.m_flattenedComplexFilters.contains(l)){this.m_flattenedComplexFilters.removeElement(l);var A=e.QFactory.createFilterAnd(a);A.add(o.getCartesianProduct().getCartesianChild(0));o.setComplexRoot(A)}var S=o.getDimensionsUsedInFilter().getIterator();while(S.hasNext()){y.removeByDimensionName(S.next())}}var E=a.getVariableManager().getVariablesAffectingDynamicFilter();for(var _=0;_<E.size();_++){var h=E.get(_);h.setWinControlInAutoSubmit(false)}a.resumeEventing()}};e.OlapFilterManager.prototype._unlinkOrCollectConflictingDimensionsForOverwrittenFilters=function(t,r,a,n){var i=r.getIterator();var o=e.XHashSetOfString.create();var s=t.getBackProjectionFilterIds();while(i.hasNext()){var l=i.next();var u=t.getLinkedFilters();var p=u.getKeysAsIteratorOfString();while(p.hasNext()){var c=p.next();var g=u.getByKey(c);var y=g.getCartesianProduct();if(g===a||e.isNull(y)||!s.contains(g.getUniqueId())){continue}if(y.getCartesianListByDimensionName(l)!==null){if(n){o.add(l)}else{t.linkFilterExt(c,null,true,true)}}}}return o};e.OlapFilterManager.prototype._removeEmptyCartesianLists=function(t,r){var a=r.getCartesianProductWithDefault();var n=t.getCartesianProductWithDefault();var i=r.getDimensionsUsedInFilter().getIterator();while(i.hasNext()){var o=i.next();var s=n.getCartesianListByDimensionName(o);if(!e.XCollectionUtils.hasElements(s)){a.removeByDimensionName(o)}}};e.OlapFilterManager.prototype._getBackProjectionFilter=function(t){var r=t.getBackProjectionFilterIds();if(r.isEmpty()){return null}var a=e.QFactory.createFilterExpression(this,this);var n=a.getCartesianProductWithDefault();var i=t.getExternalizedFilterName();if(this.containsName(i)){var o=this.getFilterByName(i);this._mergeCartesianLists(n,this.getFilterByName(i));a.setUniqueId(o.getUniqueId())}var s=t.getLinkedFilters();var l=s.getKeysAsIteratorOfString();while(l.hasNext()){var u=l.next();var p=s.getByKey(u);if(!e.XString.isEqual(u,i)&&r.contains(p.getUniqueId())){this._mergeCartesianLists(n,p)}}return a};e.OlapFilterManager.prototype._mergeCartesianLists=function(t,r){if(e.notNull(r)&&r.isCartesianProduct()){var a=r.getCartesianProduct();var n=a.getIterator();while(n.hasNext()){var i=n.next();var o=t.getCartesianListByDimensionMdWithDefault(i.getFieldMetadata().getDimensionMetadata());o.copyFrom(i,null)}}};e.OlapFilterManager.prototype.getExternalizeDynamicFilter=function(t){if(e.isNull(t)){return null}return this.getFilterByName(t.getQueryModel().getFilter().getExternalizedFilterName())};e.OlapFilterManager.prototype.getVariableDrivenFilters=function(t){if(e.isNull(t)){return null}else if(t.getInitSettings().isExternalizedNonVariableFilter()){return t.getInitSettings().isExternalizedDynamicFilter()&&t.isSubmitted()?this.getFilterByName(t.getQueryModel().getFilter().getExternalizedFilterName()).getCartesianProduct():t.getQueryModel().getFilter().getDynamicFilter().getCartesianProduct()}else{e.noSupport()}};e.OlapFilterManager.prototype.getNonVariableDrivenFilters=function(t){if(e.isNull(t)){return null}else if(t.getInitSettings().isExternalizedNonVariableFilter()){return this.getFilterByName(t.getQueryModel().getFilter().getExternalizedNonVariableFilterName()).getCartesianProduct()}else{e.noSupport()}};e.OlapFilterManager.prototype.pruneNonVariableFilters=function(t){if(e.notNull(t)&&t.getQueryModel()!==null){var r=t.getQueryModel();var a=r.getFilter().getDynamicFilter();var n=r.getVariableManager();if(e.notNull(a)){var i=e.XHashSetOfString.create();i.addAll(a.getDimensionsUsedInFilter());var o=r.getFilter().getExternalizedFilterName();var s=this.getFilterByName(o);if(e.notNull(s)){i.addAll(s.getDimensionsUsedInFilter())}var l=n.getDimensionNamesOfVariablesAffectingDynamicFilterValue().getIterator();while(l.hasNext()){var u=l.next();if(i.contains(u)){i.removeElement(u)}}var p=r.getMeasureDimension().getName();if(i.contains(p)){i.removeElement(p)}if(e.XCollectionUtils.hasElements(i)){this.pruneDimensionNamesInternal(t,i)}}}};e.OlapFilterManager.prototype.isExternalizeMeasureFilters=function(e){return this.m_externalizeMeasureFilters.contains(e.getInstanceId())};e.OlapFilterManager.prototype.setExternalizeMeasureFilters=function(e,t){if(t){this.m_externalizeMeasureFilters.add(e.getInstanceId())}else{this.m_externalizeMeasureFilters.removeElement(e.getInstanceId())}};e.OlapFilterManager.prototype.pruneDimensionNamesForDynamicFilter=function(t,r){if(e.notNull(t)&&t.getQueryModel()!==null&&t.getQueryModel().getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter()){if(!e.XString.isEqual(t.getTagging().getByKey(e.OlapFilterManager.TAGGING_VARIABLE_DIALOG_HAS_BEEN_SET),"true")){this.pruneDimensionNamesInternal(t,r)}}};e.OlapFilterManager.prototype.pruneDimensionNamesInternal=function(t,r){var a=t.getQueryModel().getFilter();var n=a.getExternalizedFilterName();var i=this.getFilterByName(n);if(e.notNull(r)&&e.notNull(i)){var o=r.getIterator();while(o.hasNext()){e.QFilterUtil.clearSelectionsInContainerByDimension(o.next(),i)}}if(t.getVariableProcessorState().isTypeOf(e.VariableProcessorState.SUBMITTED)){if(this.isExternalizeMeasureFilters(t)){t.getConvenienceCommands().clearFilters()}else{t.getConvenienceCommands().clearNonMeasureFilters()}}else if(e.notNull(r)&&t.isExecuteAutoVariableSubmit()){var s=this.m_prunedDimensions.getByKey(t.getInstanceId());if(e.notNull(s)){var l=e.XListOfString.create();l.addAll(s);l.addAll(r);this.m_prunedDimensions.put(t.getInstanceId(),l)}else{this.m_prunedDimensions.put(t.getInstanceId(),r.getValuesAsReadOnlyListOfString())}}};e.OlapFilterManager.prototype.pruneExternalizedDynamicFilter=function(t){if(e.notNull(t)&&t.getQueryModel()!==null&&t.getVariableProcessorState().isTypeOf(e.VariableProcessorState.SUBMITTED)&&t.getQueryModel().getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter()){var r=t.getQueryModel();var a=r.getFilter();var n=a.getDynamicFilter();var i=a.getExternalizedFilterName();var o=this.getFilterByName(i);if(e.notNull(o)){if(!e.XString.isEqual(t.getTagging().getByKey(e.OlapFilterManager.TAGGING_VARIABLE_DIALOG_HAS_BEEN_SET),"true")){var s=n.getDimensionsUsedInFilter();var l=o.getDimensionsUsedInFilter().getIterator();var u=o.getCartesianProduct();while(l.hasNext()){var p=l.next();if(!s.contains(p)){u.removeByDimensionName(p)}}a.linkFilterExt(i,o,r.getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter(),true)}if(this.isExternalizeMeasureFilters(t)){r.getConvenienceCommands().clearFilters()}else{r.getConvenienceCommands().clearNonMeasureFilters()}}}};e.OlapFilterManager.prototype.projectExternalizedFilter=function(t){if(e.isNull(t)){return}var r=t.getQueryModel();if(e.isNull(r)){return}if(r.getVariableManager().hasDimensionMemberVariableAffectingDynamicFilter()){t.queueEventing();var a=r.getFilter();var n=a.getDynamicFilter();var i=this._getBackProjectionFilter(a);if(e.notNull(i)){if(this.isExternalizeMeasureFilters(t)){r.getConvenienceCommands().clearFilters();n.copyFrom(i,null)}else{r.getConvenienceCommands().clearNonMeasureFilters();if(n.isComplexFilter()){this.m_flattenedComplexFilters.add(a.getExternalizedFilterName())}var o=n.getFilterRootElement();n.copyFrom(i,null);this.complementCartesianProductFromComplex(n.getCartesianProductWithDefault(),o)}}r.resumeEventing()}};e.OlapFilterManager.prototype.complementCartesianProductFromComplex=function(t,r){if(e.notNull(r)){var a=r.getOlapComponentType();if(a.isTypeOf(e.FilterComponentType.CARTESIAN_LIST)){var n=r;if(t.getCartesianListByDimensionName(n.getDimensionName())===null){var i=t.getCartesianListByDimensionMdWithDefault(n.getFieldMetadata().getDimensionMetadata());i.copyFrom(n,null)}}else if(a.isTypeOf(e.FilterComponentType.AND)){var o=r;for(var s=0;s<o.size();s++){this.complementCartesianProductFromComplex(t,o.get(s))}}}};e.OlapFilterManager.prototype.releaseExternalizedFilter=function(t){if(e.isNull(t)){return}var r=t.getQueryModel();if(e.isNull(r)){return}var a=r.getFilter();if(e.isNull(a)){return}this.deleteFilterByName(a.getExternalizedFilterName());this.deleteFilterByName(a.getExternalizedNonVariableFilterName())};e.OlapFilterManager.prototype.setModCounter=function(e){this.updateModCounter(e)};e.QGeoManager=function(){};e.QGeoManager.prototype=new e.QModelComponent;e.QGeoManager.prototype._ff_c="QGeoManager";e.QGeoManager.CHOROPLETH_HIERARCHIES_IDENTIFIER="hierarchy:";e.QGeoManager.CHOROPLETH_DRILLPATH_IDENTIFIER="drillpath:";e.QGeoManager.CHOROPLETH_TABLE_PREFIX="table:[";e.QGeoManager.EXTENDED_DIMENSION_NAME_EXT="_extDim_";e.QGeoManager.EXTENDED_DIMENSION_NAME_HIERARCHY="_H";e.QGeoManager.EXTENDED_DIMENSION_NAME_LEVEL="_L";e.QGeoManager.create=function(t){var r=new e.QGeoManager;r.setupGeoManager(t);return r};e.QGeoManager.prototype.m_choroplethHierarchies=null;e.QGeoManager.prototype.m_choroplethDrillPaths=null;e.QGeoManager.prototype.m_sharedQueryManagers=null;e.QGeoManager.prototype.m_choroplethIntermediateDrillPaths=null;e.QGeoManager.prototype.m_listenerIdentifiers=null;e.QGeoManager.prototype.m_syncTypes=null;e.QGeoManager.prototype.m_queryManagers=null;e.QGeoManager.prototype.m_systemNames=null;e.QGeoManager.prototype.m_shouldUseSynonyms=null;e.QGeoManager.prototype.m_levelKeys=null;e.QGeoManager.prototype.m_levelInfos=null;e.QGeoManager.prototype.m_drillPoints=null;e.QGeoManager.prototype.m_drillPathTableKeyToLevelKeys=null;e.QGeoManager.prototype.setupGeoManager=function(t){this.setupModelComponentWithName(t,null,"GeoManager");e.QGeoConstants.staticSetup();this.initialize()};e.QGeoManager.prototype.initialize=function(){this.m_choroplethHierarchies=e.XHashMapByString.create();this.m_choroplethDrillPaths=e.XHashMapByString.create();this.m_sharedQueryManagers=e.XHashMapByString.create();this.m_choroplethIntermediateDrillPaths=e.XHashMapByString.create();this.m_listenerIdentifiers=e.XHashMapByString.create();this.m_syncTypes=e.XHashMapByString.create();this.m_queryManagers=e.XHashMapByString.create();this.m_systemNames=e.XHashMapOfStringByString.create();this.m_shouldUseSynonyms=e.XHashMapByString.create();this.m_levelKeys=e.XHashMapOfStringByString.create();this.m_levelInfos=e.XHashMapByString.create();this.m_drillPoints=e.XHashMapByString.create();this.m_drillPathTableKeyToLevelKeys=e.XHashMapByString.create()};e.QGeoManager.prototype.getOlapComponentType=function(){return e.OlapComponentType.GEO_MANAGER};e.QGeoManager.prototype.releaseObject=function(){this.clearCache();e.QModelComponent.prototype.releaseObject.call(this)};e.QGeoManager.prototype.clearCache=function(){this.m_choroplethHierarchies=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_choroplethHierarchies);this.m_choroplethDrillPaths=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_choroplethDrillPaths);this.m_sharedQueryManagers=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_sharedQueryManagers);this.m_choroplethIntermediateDrillPaths=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_choroplethIntermediateDrillPaths);this.m_listenerIdentifiers=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_listenerIdentifiers);this.m_syncTypes=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_syncTypes);this.m_queryManagers=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_queryManagers);this.m_systemNames=e.XObjectExt.release(this.m_systemNames);this.m_shouldUseSynonyms=e.XObjectExt.release(this.m_shouldUseSynonyms);this.m_levelKeys=e.XObjectExt.release(this.m_levelKeys);this.m_levelInfos=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_levelInfos);this.m_drillPoints=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_drillPoints);this.m_drillPathTableKeyToLevelKeys=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_drillPathTableKeyToLevelKeys)};e.QGeoManager.prototype.reset=function(){this.clearCache();this.initialize()};e.QGeoManager.prototype.loadChoroplethHierarchiesExt=function(e,t,r,a,n,i){return this._loadChoroplethHierarchies(e,t,r,a,n,i)};e.QGeoManager.prototype.loadChoroplethHierarchies=function(e,t,r,a,n){return this._loadChoroplethHierarchies(e,t,r,a,false,n)};e.QGeoManager.prototype._loadChoroplethHierarchies=function(t,r,a,n,i,o){var s=a;var l=this.getApplication().getSystemLandscape().getMasterSystemName();if(e.isNull(s)){s=l}var u=this.isMasterSystemName(s);var p=this.getChoroplethHierarchiesBySystemName(s);if(e.isNull(p)){var c=null;if(n&&!u||i&&u){var g=this.getApplication().getSystemConnect(s);var y=g.getServerMetadata();if(e.notNull(y)&&y.supportsAnalyticCapability(e.InACapabilities.C177_DATA_ENTRY_ON_UNBOOKED)){c=e.XBooleanValue.create(true)}}if(t===e.SyncType.BLOCKING){this.processQueryManagerCreationForChoroplethHierarchies(s,t,c,null,null);p=this.getChoroplethHierarchiesBySystemName(s);if(p.hasErrors()&&!u){this.processQueryManagerCreationForChoroplethHierarchies(l,t,null,null,null);p=this.getChoroplethHierarchiesBySystemName(l)}}else{var m=e.XStringUtils.concatenate3(e.QGeoManager.CHOROPLETH_HIERARCHIES_IDENTIFIER,s,e.XBoolean.convertToString(!u&&n));var d=this.m_listenerIdentifiers.getByKey(m);if(e.notNull(d)){d.add(e.XPair.create(r,o))}else{d=e.XList.create();d.add(e.XPair.create(r,o));this.m_listenerIdentifiers.put(m,d);this.m_syncTypes.put(m,t);this.m_systemNames.put(m,s);this.m_shouldUseSynonyms.put(m,c);this.processQueryManagerCreationForChoroplethHierarchies(s,t,c,this,e.XStringValue.create(m))}}}if(e.notNull(p)){if(p.hasErrors()&&!u&&t!==e.SyncType.BLOCKING){this.loadChoroplethHierarchiesExt(t,r,l,false,false,o)}else if(e.notNull(r)){r.onChoroplethHierarchiesLoaded(p,p.getData(),o)}}return p};e.QGeoManager.prototype.processQueryManagerCreationForChoroplethHierarchies=function(t,r,a,n,i){var o=this.getChoroplethHierarchyTableName(t,a);var s=this.getOlapEnv().getQueryManagerByDataSource(t,o);var l=null;if(e.notNull(s)){l=e.ExtResult.create(s.cloneQueryManager(),null);if(r===e.SyncType.BLOCKING){this.processQueryExecutionForChoroplethHierarchies(l,l.getData(),t,r,a,null,i)}else{this.processQueryExecutionForChoroplethHierarchies(l,l.getData(),t,r,a,this,i)}}else{l=this.getOlapEnv().processQueryManagerCreationWithDataSourceName(r,n,i,t,o);if(r===e.SyncType.BLOCKING){this.processQueryExecutionForChoroplethHierarchies(l,l.getData(),t,r,a,null,i)}}};e.QGeoManager.prototype.isMasterSystemName=function(t){return e.XString.isEqual(t,this.getApplication().getSystemLandscape().getMasterSystemName())};e.QGeoManager.prototype.getChoroplethHierarchyTableName=function(t,r){var a=e.XStringBuffer.create();var n=this.isMasterSystemName(t);if(!n){a.append(t).append("//")}a.append(e.QGeoManager.CHOROPLETH_TABLE_PREFIX);if(e.notNull(r)&&r.getBoolean()){a.append(e.QGeoConstants.CHOROPLETH_HIERARCHY_SYNONYM_SCHEMANAME).append("][").append(e.QGeoConstants.CHOROPLETH_HIERARCHY_SYNONYM_PACKAGENAME).append("][").append(e.QGeoConstants.CHOROPLETH_HIERARCHY_SYNONYM_OBJECTNAME)}else{a.append(e.QGeoConstants.CHOROPLETH_HIERARCHY_SCHEMANAME).append("][");if(n){var i=this.getApplication().getSystemLandscape().getSystemDescription(t);var o=i.getTenantRootPackage();if(e.XStringUtils.isNotNullAndNotEmpty(o)){a.append(o).append(".")}}a.append(e.QGeoConstants.CHOROPLETH_HIERARCHY_PACKAGENAME).append("][").append(e.QGeoConstants.CHOROPLETH_HIERARCHY_OBJECTNAME)}a.append("]");return a.toString()};e.QGeoManager.prototype.onQueryManagerCreated=function(t,r,a){if(e.isNull(a)){throw e.XException.createRuntimeException("Identifier can not be null")}var n=a;var i=n.getString();var o=this.m_syncTypes.getByKey(i);if(this.isForChoroplethHierarchies(i)){this.m_queryManagers.put(i,r);var s=this.m_systemNames.getByKey(i);var l=this.m_shouldUseSynonyms.getByKey(i);this.processQueryExecutionForChoroplethHierarchies(t,r,s,o,l,this,a)}else if(this.isForChoroplethDrillPath(i)){var u=i;this.m_sharedQueryManagers.put(u,t);var p=this.m_drillPathTableKeyToLevelKeys.remove(u);for(var c=0;c<p.size();c++){var g=p.get(c);i=this.m_levelKeys.getByKey(g);var y=this.m_levelInfos.getByKey(g);var m=this.m_drillPoints.getByKey(g);this.processQueryExecutionForChoroplethDrillPath(t,r,o,y,m,i,this,e.XStringValue.create(g))}}};e.QGeoManager.prototype.processQueryExecutionForChoroplethHierarchies=function(t,r,a,n,i,o,s){if(t.isValid()){var l=r.getConvenienceCommands();for(var u=0;u<e.QGeoConstants.CHOROPLETH_HIERARCHY_DIMENSIONS.size();u++){l.moveDimensionToRows(e.QGeoConstants.CHOROPLETH_HIERARCHY_DIMENSIONS.get(u))}var p=r.processQueryExecution(n,o,s);if(n===e.SyncType.BLOCKING){this.processResultSetForChoroplethHierarchies(p,p.getData(),n,a,i,null);e.XObjectExt.release(r)}}else{this.handleErrorsForChoroplethHierarchies(t,null,a,n,s)}};e.QGeoManager.prototype.onQueryExecuted=function(t,r,a){if(e.isNull(a)){throw e.XException.createRuntimeException("Identifier can not be null")}var n=a;var i=n.getString();var o=this.m_syncTypes.getByKey(i);if(this.isForChoroplethHierarchies(i)){var s=this.m_systemNames.getByKey(i);var l=this.m_shouldUseSynonyms.getByKey(i);this.processResultSetForChoroplethHierarchies(t,r,o,s,l,a)}else if(this.isForChoroplethDrillPath(i)){var u=i;i=this.m_levelKeys.getByKey(u);var p=this.m_levelInfos.getByKey(u);this.processResultSetForChoroplethDrillPath(t,r,o,p,u,i)}};e.QGeoManager.prototype.processResultSetForChoroplethHierarchies=function(t,r,a,n,i,o){if(t.isValid()){var s=r.getCursorResultSet();var l=s.getCursorRowsAxis();var u=l.getRsDimensions();var p=u.size();var c=null;if(p!==e.QGeoConstants.CHOROPLETH_HIERARCHY_DIMENSIONS.size()){c=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.FAILED_TO_READ_CHOROPLETH_HIERARCHIES,"Error reading choropleth hierarchies: the number of dimensions is not matched",null,false,null);this.handleErrorsForChoroplethHierarchies(null,c,n,a,o);return}for(var g=0;g<p;g++){var y=u.get(g);if(!e.XString.isEqual(y.getName(),e.QGeoConstants.CHOROPLETH_HIERARCHY_DIMENSIONS.get(g))){c=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.FAILED_TO_READ_CHOROPLETH_HIERARCHIES,"Error reading choropleth hierarchies: the dimension name is not matched",null,false,null);this.handleErrorsForChoroplethHierarchies(null,c,n,a,o);return}}var m=e.XHashMapByString.create();var d=null;var C=null;l.setTupleCursorBeforeStart();var A=l.getTuplesCount();var S=l.getTupleElementsCount();for(var E=0;E<A;E++){l.nextTuple();var _=e.XListOfString.create();for(var h=0;h<S;h++){l.nextTupleElement();while(l.hasNextFieldValue()){var I=l.nextFieldValue();_.add(I.getValue().getStringRepresentation())}}if(e.isNull(d)||!e.XString.isEqual(d.getHierarchyId(),_.get(0))){d=e.QGeoChoroplethHierarchy.create(_.get(0),_.get(1));m.put(_.get(0),d);C=null}if(e.isNull(C)||!e.XString.isEqual(C.getLevelId(),_.get(2))){C=e.QGeoChoroplethHierarchyLevel.create(_.get(2),_.get(3));C.setLocation(_.get(4));C.setObjectName(_.get(5));C.setPackageName(_.get(6));C.setSchemaName(_.get(7));var f=e.XString.isEqual(C.getObjectName(),e.QGeoConstants.CHOROPLETH_DATASOURCE_OBJECTNAME)&&e.XString.isEqual(C.getPackageName(),e.QGeoConstants.CHOROPLETH_DATASOURCE_PACKAGENAME)&&e.XString.isEqual(C.getSchemaName(),e.QGeoConstants.CHOROPLETH_DATASOURCE_SCHEMANAME);if(!f&&e.notNull(i)&&i.getBoolean()){f=e.XString.isEqual(C.getObjectName(),e.QGeoConstants.CHOROPLETH_DATASOURCE_SYNONYM_OBJECTNAME)&&e.XString.isEqual(C.getPackageName(),e.QGeoConstants.CHOROPLETH_DATASOURCE_SYNONYM_PACKAGENAME)&&e.XString.isEqual(C.getSchemaName(),e.QGeoConstants.CHOROPLETH_DATASOURCE_SYNONYM_SCHEMANAME)}C.setIsCustom(!f);d.addLevel(C)}C.addColumn(e.QGeoColumn.create(_.get(8),_.get(9)))}var M=e.ExtResult.create(m,null);this.m_choroplethHierarchies.put(n,M);if(a!==e.SyncType.BLOCKING){this.processChoroplethHiearachiesResult(o)}}else{this.handleErrorsForChoroplethHierarchies(t,null,n,a,o)}};e.QGeoManager.prototype.getChoroplethHierarchiesBySystemName=function(e){return this.m_choroplethHierarchies.getByKey(e)};e.QGeoManager.prototype.handleErrorsForChoroplethHierarchies=function(t,r,a,n,i){if(e.notNull(t)&&!t.isValid()||e.notNull(r)){var o;if(e.notNull(t)){o=e.ExtResult.createWithExternalMessages(null,t)}else{o=e.ExtResult.createWithMessage(r)}this.m_choroplethHierarchies.put(a,o);if(n!==e.SyncType.BLOCKING){this.processChoroplethHiearachiesResult(i)}}};e.QGeoManager.prototype.processChoroplethHiearachiesResult=function(t){var r=t;var a=r.getString();var n=this.m_systemNames.remove(a);var i=this.m_syncTypes.remove(a);this.m_shouldUseSynonyms.remove(a);var o=this.m_queryManagers.remove(a);if(e.notNull(o)){e.XObjectExt.release(o)}var s=this.m_listenerIdentifiers.remove(a);var l=this.getChoroplethHierarchiesBySystemName(n);for(var u=0;u<s.size();u++){var p=s.get(u);var c=p.getFirstObject();var g=p.getSecondObject();if(!l.isValid()&&!this.isMasterSystemName(n)){this.loadChoroplethHierarchiesExt(i,c,this.getApplication().getSystemLandscape().getMasterSystemName(),false,false,g)}else if(e.notNull(c)){c.onChoroplethHierarchiesLoaded(l,l.getData(),g)}}};e.QGeoManager.prototype.getChoroplethExtendedDimension=function(t,r,a,n,i){var o=this.getChoroplethHierarchyLevel(t,r,a);if(e.isNull(o)){throw e.XException.createRuntimeException("Fail to get choropleth hierarchy level")}var s=null;var l=this.isAreaEnriched(n,i);if(l){s=this.getAgileAreaFieldName(n,i,a)}var u=e.notNull(s);if(e.isNull(s)){u=l&&this.hasMatchingAreaField(n,i);s=this.getJoinFieldName(n,i,u,l&&!u)}if(e.isNull(s)){throw e.XException.createRuntimeException("Fail to get join field")}var p=e.QFactory.createDataSource();p.setSchemaName(o.getSchemaName());if(e.XStringUtils.isNotNullAndNotEmpty(o.getPackageName())){p.setPackageName(o.getPackageName())}p.setObjectName(o.getObjectName());p.setType(e.MetaObjectType.DBVIEW);var c=this.getExtendedDimensionName(r,o,n,i);var g=e.QExtendedDimension.create(c,s,u?e.QGeoConstants.CHOROPLETH_METADATA_AREA_ID:o.getLocation());g.setDataSource(p);var y=u?e.JoinType.INNER:e.JoinType.WITHIN_DISTANCE;g.setJoinType(y);if(y===e.JoinType.WITHIN_DISTANCE){g.getJoinParameters().add(e.QGeoConstants.SPATIAL_JOIN_PARAMETER_0);g.getJoinParameters().add(e.QGeoConstants.SPATIAL_JOIN_PARAMETER_METER)}else{var m=this.getApplication().getSystemConnect(t);var d=m.getServerMetadata();if(e.notNull(d)&&d.supportsAnalyticCapability(e.InACapabilities.C143_EXTENDED_DIMENSIONS_JOIN_CARDINALITY)){g.setJoinCardinality(e.JoinCardinality.N_ONE)}}g.setVisibility(e.DimensionVisibility.METADATA);return g};e.QGeoManager.prototype.getChoroplethHierarchyLevel=function(t,r,a){var n=this.getChoroplethHierarchiesBySystemName(t);if(e.notNull(n)&&!n.hasErrors()){var i=n.getData();if(e.notNull(i)){var o=i.getByKey(r);if(e.notNull(o)){var s=o.getLevelById(a);return s}}}else{if(!this.isMasterSystemName(t)){return this.getChoroplethHierarchyLevel(this.getApplication().getSystemLandscape().getMasterSystemName(),r,a)}}return null};e.QGeoManager.prototype.getJoinFieldName=function(t,r,a,n){if(e.notNull(r)&&e.notNull(t)){var i=r.getQueryModel().getDimensionByName(t);if(e.notNull(i)){var o=null;var s=i.getFields();for(var l=0;l<s.size();l++){var u=s.getFieldAt(l);var p=u.getValueType();if(a){if(e.XString.startsWith(e.XString.toUpperCase(u.getName()),e.QGeoConstants.CHOROPLETH_METADATA_AREA_ID)){o=u;break}}else if(p.isSpatial()){if(p===e.XValueType.POINT){o=u;if(n){break}}else if(!n){o=u;break}}}if(e.notNull(o)){return o.getName()}}}return null};e.QGeoManager.prototype.isAreaEnriched=function(t,r){var a=false;var n=r.getQueryModel().getExtendedDimensions();if(e.notNull(n)){for(var i=0;i<n.size();i++){var o=n.get(i);if(e.XString.isEqual(t,o.getName())){a=o.getLocationType()===e.LocationType.AREA;break}}}return a};e.QGeoManager.prototype.getAgileAreaFieldName=function(t,r,a){var n=r.getQueryModel().getDimensionByName(t);var i=null;var o=e.XInteger.convertFromString(a);if(o>=1&&o<=e.QGeoConstants.AGILE_AREA_SEMANTIC_TYPES.size()){i=e.QGeoConstants.AGILE_AREA_SEMANTIC_TYPES.get(o-1)}if(e.notNull(n)&&e.notNull(i)){var s=n.getFields();for(var l=0;l<s.size();l++){var u=s.getFieldAt(l);var p=u.getSemanticType();if(e.notNull(p)&&e.XString.isEqual(p,i)){return u.getName()}}}return null};e.QGeoManager.prototype.hasMatchingAreaField=function(t,r){var a=r.getConvenienceCommands();var n=r.getQueryModel().getDimensionByName(t);var i=a.getGISAttributesForDimension(n);for(var o=0;o<i.size();o++){var s=i.get(o);var l=s.getName();var u=e.QGeoConstants.AREA_ENRICHED_PREFIXES.getIterator();while(u.hasNext()){if(e.XString.startsWith(e.XString.toUpperCase(l),u.next())){return true}}}return false};e.QGeoManager.prototype.getExtendedDimensionName=function(t,r,a,n){var i=e.XStringBuffer.create().append(a).append(e.QGeoManager.EXTENDED_DIMENSION_NAME_EXT).append(r.getLevelName()).append(e.QGeoManager.EXTENDED_DIMENSION_NAME_HIERARCHY).append(t).append(e.QGeoManager.EXTENDED_DIMENSION_NAME_LEVEL).append(r.getLevelId());var o=n.getQueryModel();var s=o.getDimensionByName(i.toString());if(e.notNull(s)){i=i.append("_")}var l=1;while(e.notNull(s)){i=i.appendInt(l++);s=o.getDimensionByName(i.toString())}return i.toString()};e.QGeoManager.prototype.getChoroplethDrillPath=function(t,r,a,n,i,o,s,l){var u=null;var p=null;if(e.isNull(n)||e.isNull(i)||i.isEmpty()){p=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.CHOROPLETH_DRILL_PATH_INVALID_PARAMETERS,"HierarchyId and levelIds can not be null",null,false,null);u=e.ExtResult.createWithMessage(p)}else{var c=a;var g=this.getApplication().getSystemLandscape().getMasterSystemName();if(e.isNull(c)){c=g}var y=e.XListOfString.createFromReadOnlyList(i);y.sortByDirection(e.XSortDirection.ASCENDING);var m=e.XPointValue.createWithPosition(o,s);m.setSrid(e.XIntegerValue.create(e.QGeoConstants.SPATIAL_REFERENCE_WGS_1984_WEB_MERCATOR_AUXILIARY_SPHERE));var d=e.XStringUtils.concatenate5(e.QGeoManager.CHOROPLETH_DRILLPATH_IDENTIFIER,c,n,y.toString(),m.toString());u=this.m_choroplethDrillPaths.getByKey(d);if(e.isNull(u)){var C=e.XListOfString.create();var A=e.XHashMapByString.create();for(var S=0;S<y.size();S++){var E=y.get(S);var _=this.getChoroplethHierarchyLevel(a,n,E);if(e.isNull(_)){p=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.CHOROPLETH_DRILL_PATH_CHOROPLETH_HIERARCHIES_NOT_LOADED,"Choropleth hierarchy levels are either not loaded or not valid",null,false,null);u=e.ExtResult.createWithMessage(p);break}var h=e.XStringUtils.concatenate5(d,_.getSchemaName(),_.getPackageName(),_.getObjectName(),_.getLocation());var I=A.getByKey(h);if(e.isNull(I)){C.add(h);A.put(h,e.XList.create());I=A.getByKey(h)}I.add(_)}if(e.isNull(u)){if(t===e.SyncType.BLOCKING){this.processQueryManagerCreationForChoroplethDrillPath(c,t,C,A,m,d);u=this.processIntermediateDrillPaths(d)}else{var f=this.m_listenerIdentifiers.getByKey(d);if(e.notNull(f)){f.add(e.XPair.create(r,l))}else{f=e.XList.create();f.add(e.XPair.create(r,l));this.m_listenerIdentifiers.put(d,f);this.processQueryManagerCreationForChoroplethDrillPath(c,t,C,A,m,d)}}}}}if(e.notNull(u)&&e.notNull(r)){r.onChoroplethDrillPathsLoaded(u,u.getData(),l)}return u};e.QGeoManager.prototype.getChoroplethDrillPathTableName=function(t){var r=t.get(0);var a=e.XStringUtils.concatenate5(e.QGeoManager.CHOROPLETH_TABLE_PREFIX,r.getSchemaName(),"][",r.getPackageName(),"][");a=e.XStringUtils.concatenate3(a,r.getObjectName(),"]");return a};e.QGeoManager.prototype.processQueryManagerCreationForChoroplethDrillPath=function(t,r,a,n,i,o){for(var s=0;s<a.size();s++){var l=a.get(s);var u=n.getByKey(l);if(r!==e.SyncType.BLOCKING){this.m_levelKeys.put(l,o);this.m_levelInfos.put(l,u);this.m_syncTypes.put(l,r);this.m_drillPoints.put(l,i)}var p=this.getChoroplethDrillPathTableName(u);var c=e.XStringUtils.concatenate3(e.QGeoManager.CHOROPLETH_DRILLPATH_IDENTIFIER,t,p);var g=this.m_sharedQueryManagers.getByKey(c);if(e.isNull(g)){var y=this.getOlapEnv().getQueryManagerByDataSource(t,p);if(e.notNull(y)){g=e.ExtResult.create(y.cloneQueryManager(),null);this.m_sharedQueryManagers.put(c,g)}}if(e.isNull(g)){if(r===e.SyncType.BLOCKING){g=this.getOlapEnv().processQueryManagerCreationWithDataSourceName(r,null,null,t,p);this.m_sharedQueryManagers.put(c,g)}else{var m=this.m_drillPathTableKeyToLevelKeys.getByKey(c);if(e.notNull(m)){m.add(l)}else{m=e.XListOfString.create();m.add(l);this.m_drillPathTableKeyToLevelKeys.put(c,m);this.getOlapEnv().processQueryManagerCreationWithDataSourceName(r,this,e.XStringValue.create(c),t,p)}}}if(e.notNull(g)){if(r===e.SyncType.BLOCKING){this.processQueryExecutionForChoroplethDrillPath(g,g.getData(),r,u,i,o,null,e.XStringValue.create(l))}else{this.processQueryExecutionForChoroplethDrillPath(g,g.getData(),r,u,i,o,this,e.XStringValue.create(l))}}}};e.QGeoManager.prototype.processQueryExecutionForChoroplethDrillPath=function(t,r,a,n,i,o,s,l){var u=l;var p=u.getString();if(t.isValid()){var c=r.cloneQueryManager();var g=null;var y=n.get(0);var m=c.getQueryModel();var d=m.getFilter().getDynamicFilter();var C=d.getCartesianProductWithDefault();var A=m.getDimensionByName(y.getLocation());if(e.isNull(A)){g=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.CHOROPLETH_DRILL_PATH_FIELD_NOT_FOUND,e.XStringUtils.concatenate2("Location dimension is not found: ",y.getLocation()),null,false,null)}else{var S=c.getConvenienceCommands();var E=C.getCartesianListWithDefault(A);var _=A.getKeyField();_.setTextTransformation(e.TextTransformationType.SPATIAL_AS_GEOJSON);E.setField(_);var h=E.addNewCartesianElement();h.setComparisonOperator(e.SpatialComparisonOperator.INTERSECTS);h.setField(_);h.getLow().setPoint(i);if(y.isCustom()){S.moveDimensionToRows(e.QGeoConstants.CHOROPLETH_METADATA_CUSTOM_ID)}else{S.moveDimensionToRows(e.QGeoConstants.CHOROPLETH_METADATA_LEVEL);S.moveDimensionToRows(e.QGeoConstants.CHOROPLETH_METADATA_FEATURE_ID);var I=m.getDimensionByName(e.QGeoConstants.CHOROPLETH_METADATA_LEVEL);if(e.isNull(I)){g=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.CHOROPLETH_DRILL_PATH_FIELD_NOT_FOUND,"Level dimension is not found",null,false,null)}else{var f=C.getCartesianListWithDefault(I);var M=I.getKeyField();f.setField(M);for(var v=0;v<n.size();v++){y=n.get(v);var b=f.addNewCartesianElement();b.configureSingleParameterExpression(e.XStringValue.create(y.getLevelId()),e.ComparisonOperator.EQUAL);b.setField(M)}}}S.moveDimensionToRows(y.getLocation());var T=this.getColumnDimensionName(y);if(e.notNull(T)){S.moveDimensionToRows(T)}}if(e.isNull(g)){if(a!==e.SyncType.BLOCKING){this.m_queryManagers.put(p,c)}var N=c.processQueryExecution(a,s,l);if(a===e.SyncType.BLOCKING){this.processResultSetForChoroplethDrillPath(N,N.getData(),a,n,p,o);e.XObjectExt.release(c)}}else{this.processResultSetForChoroplethDrillPath(e.ExtResult.createWithMessage(g),null,a,n,p,o);e.XObjectExt.release(c)}}else{this.processResultSetForChoroplethDrillPath(e.ExtResult.createWithExternalMessages(null,t),null,a,n,p,o)}};e.QGeoManager.prototype.getColumnDimensionName=function(t){var r=t.getColumns();for(var a=0;a<r.size();a++){var n=r.get(a);if(e.XString.isEqual(n.getText(),e.QGeoConstants.CHOROPLETH_LEVEL_COLUMN_LABEL_NAME)){return n.getName()}}return null};e.QGeoManager.prototype.processResultSetForChoroplethDrillPath=function(t,r,a,n,i,o){var s=this.m_choroplethIntermediateDrillPaths.getByKey(o);if(e.isNull(s)){this.m_choroplethIntermediateDrillPaths.put(o,e.XHashMapByString.create());s=this.m_choroplethIntermediateDrillPaths.getByKey(o)}if(t.isValid()&&e.notNull(n)&&!n.isEmpty()){var l=n.get(0);var u=this.getColumnDimensionName(l);var p=l.getLocation();var c=e.XList.create();var g=r.getCursorResultSet();var y=g.getCursorRowsAxis();y.setTupleCursorBeforeStart();var m=-1;var d=-1;var C=-1;var A=-1;var S=y.getRsDimensions();var E=S.size();for(var _=0;_<E;_++){var h=S.get(_);var I=h.getName();if(e.XString.isEqual(I,e.QGeoConstants.CHOROPLETH_METADATA_LEVEL)){m=_}else if(e.XString.isEqual(I,e.QGeoConstants.CHOROPLETH_METADATA_FEATURE_ID)||e.XString.isEqual(I,e.QGeoConstants.CHOROPLETH_METADATA_CUSTOM_ID)){d=_}else if(e.XString.isEqual(I,p)){C=_}else if(e.notNull(u)&&e.XString.isEqual(I,u)){A=_}}var f=y.getTuplesCount();var M=y.getTupleElementsCount();for(var v=0;v<f;v++){y.nextTuple();var b=e.XListOfString.create();for(var T=0;T<M;T++){y.nextTupleElement();while(y.hasNextFieldValue()){var N=y.nextFieldValue();b.add(N.getValue().getStringRepresentation())}}var R=e.QGeoChoroplethDrillPath.create();if(C>=0){R.setShape(b.get(C))}if(A>=0){R.setAreaName(b.get(A))}if(d>=0){R.setAreaId(b.get(d))}if(m>=0){R.setLevelId(b.get(m))}else{if(v<n.size()){l=n.get(v)}R.setLevelId(l.getLevelId())}R.setSRID(e.QGeoConstants.SPATIAL_REFERENCE_WGS_1984_WEB_MERCATOR_AUXILIARY_SPHERE);c.add(R)}s.put(i,e.ExtResult.create(c,null))}else if(!t.isValid()){s.put(i,e.ExtResult.createWithExternalMessages(null,t))}else if(e.isNull(n)||n.isEmpty()){var Q=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.FAILED_TO_GET_CHOROPLETH_DRILL_PATH,"Levels are invalid",null,false,null);s.put(i,e.ExtResult.createWithMessage(Q))}if(a!==e.SyncType.BLOCKING){var D=e.XListOfString.create();var O=this.m_levelKeys.getKeysAsIteratorOfString();var P=null;while(O.hasNext()){P=O.next();if(e.XString.isEqual(o,this.m_levelKeys.getByKey(P))){D.add(P)}}if(s.size()===D.size()){var B=this.processIntermediateDrillPaths(o);for(var L=0;L<D.size();L++){P=D.get(L);this.m_levelKeys.remove(P);this.m_levelInfos.remove(P);this.m_drillPoints.remove(P);this.m_syncTypes.remove(P);var V=this.m_queryManagers.remove(P);if(e.notNull(V)){e.XObjectExt.release(V)}}this.m_choroplethIntermediateDrillPaths.remove(o);var F=this.m_listenerIdentifiers.remove(o);for(var U=0;U<F.size();U++){var x=F.get(U);var H=x.getFirstObject();var X=x.getSecondObject();if(e.notNull(H)){H.onChoroplethDrillPathsLoaded(B,B.getData(),X)}}}}};e.QGeoManager.prototype.processIntermediateDrillPaths=function(t){var r=this.m_choroplethIntermediateDrillPaths.remove(t);var a=null;if(e.isNull(r)){var n=e.XMessage.createErrorWithCode(e.OriginLayer.UTILITY,e.ErrorCodes.FAILED_TO_GET_CHOROPLETH_DRILL_PATH,"Failed to choropleth drill path",null,false,null);a=e.ExtResult.createWithMessage(n)}else{var i=e.XList.create();var o=e.MessageManagerSimple.createMessageManager();var s=r.getIterator();while(s.hasNext()){var l=s.next();if(l.hasErrors()){o.copyAllMessages(l)}else{i.addAll(l.getData())}}if(o.isValid()){i.sortByComparator(e.QGeoChoroplethDrillPathComparatorAsc.create());a=e.ExtResult.create(i,null)}else{a=e.ExtResult.createWithExternalMessages(null,o)}}this.m_choroplethDrillPaths.put(t,a);return a};e.QGeoManager.prototype.isForChoroplethHierarchies=function(t){return e.XString.startsWith(t,e.QGeoManager.CHOROPLETH_HIERARCHIES_IDENTIFIER)};e.QGeoManager.prototype.isForChoroplethDrillPath=function(t){return e.XString.startsWith(t,e.QGeoManager.CHOROPLETH_DRILLPATH_IDENTIFIER)};e.QModelDimensionLinksManager=function(){};e.QModelDimensionLinksManager.prototype=new e.QModelComponent;e.QModelDimensionLinksManager.prototype._ff_c="QModelDimensionLinksManager";e.QModelDimensionLinksManager.create=function(t){var r=new e.QModelDimensionLinksManager;r.setupModelLinkManager(t);return r};e.QModelDimensionLinksManager.prototype.m_dimensionLinksMap=null;e.QModelDimensionLinksManager.prototype.setupModelLinkManager=function(t){this.setupModelComponentWithName(t,null,"ModelLinkManager");this.m_dimensionLinksMap=e.XHashMapByString.create()};e.QModelDimensionLinksManager.prototype.releaseObject=function(){this.m_dimensionLinksMap=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_dimensionLinksMap)};e.QModelDimensionLinksManager.prototype.addDimensionLinkFromDimensionParts=function(t,r,a,n){var i=r.getQueryManagerKey();if(e.isNull(i)){throw e.XException.createIllegalArgumentException("firstDimensionLinkPart requires query manager key.")}var o=a.getQueryManagerKey();if(e.isNull(o)){throw e.XException.createIllegalArgumentException("secondDimensionLinkPart requires query manager key.")}var s=this.m_dimensionLinksMap.getByKey(t);if(e.isNull(s)){s=e.XList.create();this.m_dimensionLinksMap.put(t,s)}var l=e.ModelDimensionLinksManagerHelper.findModelDimensionLinksByDatasetIds(i,o,s);if(e.isNull(l)){l=e.QModelDimensionLinks.create(this,i,o);s.add(l)}l.addNewLinkFromParts(r,a,n);r.addSecondaryParent(l);a.addSecondaryParent(l)};e.QModelDimensionLinksManager.prototype.removeDimensionLink=function(t,r,a){var n=r.getQueryManagerKey();if(e.isNull(n)){throw e.XException.createIllegalArgumentException("firstDimensionLinkPart requires query manager key.")}var i=a.getQueryManagerKey();if(e.isNull(i)){throw e.XException.createIllegalArgumentException("secondDimensionLinkPart requires query manager key.")}var o=this.m_dimensionLinksMap.getByKey(t);if(e.notNull(o)){var s=e.ModelDimensionLinksManagerHelper.findModelDimensionLinksByDatasetIds(n,i,o);if(e.notNull(s)){s.removeLinkByParts(r,a)}}};e.QModelDimensionLinksManager.prototype.removeAllDimensionLinks=function(t){var r=this.m_dimensionLinksMap.getByKey(t);if(e.notNull(r)){var a=r.getIterator();while(a.hasNext()){var n=a.next();n.clear()}}};e.QModelDimensionLinksManager.prototype.getModelDimensionLinksStorage=function(t,r,a){return e.ModelDimensionLinksManagerHelper.findModelDimensionLinksByDatasetIds(r,a,this.m_dimensionLinksMap.getByKey(t))};e.QModelDimensionLinksManager.prototype.getDimensionLinksByDatasetId=function(t,r,a){var n=this.m_dimensionLinksMap.getByKey(t);var i=e.XList.create();if(e.notNull(n)){var o=n.getIterator();while(o.hasNext()){var s=o.next();if(e.XString.isEqual(r,s.getFirstDatasetId())||e.XString.isEqual(r,s.getSecondDatasetId())){var l=s.getIterator();while(l.hasNext()){var u=l.next();if(e.XString.isEqual(r,u.getFirstPart().getQueryManagerKey())){i.add(u)}else if(e.XString.isEqual(r,u.getSecondPart().getQueryManagerKey())){if(a){i.add(e.QDimensionLink.createDimensionLinkFromParts(this.getContext(),null,u.getSecondPart(),u.getFirstPart(),u.isLinkOnMatchingHierarchies()))}else{i.add(u)}}}}}}return i};e.QModelDimensionLinksManager.prototype.getDimensionLinksByDatasetIds=function(t,r,a,n){var i=e.XList.create();var o=e.ModelDimensionLinksManagerHelper.findModelDimensionLinksByDatasetIds(r,a,this.m_dimensionLinksMap.getByKey(t));if(e.notNull(o)){var s=o.getIterator();while(s.hasNext()){var l=s.next();var u=l.getFirstPart().getQueryManagerKey();var p=l.getSecondPart().getQueryManagerKey();if(e.XString.isEqual(r,u)&&e.XString.isEqual(a,p)||e.XString.isEqual(r,p)&&e.XString.isEqual(a,u)){if(!n||e.XString.isEqual(r,l.getFirstPart().getQueryManagerKey())){i.add(l)}else{i.add(e.QDimensionLink.createDimensionLinkFromParts(this.getContext(),null,l.getSecondPart(),l.getFirstPart(),l.isLinkOnMatchingHierarchies()))}}}}return i};e.QModelDimensionLinksManager.prototype.getDimensionLinks=function(t){var r=this.m_dimensionLinksMap.getByKey(t);if(e.isNull(r)){r=e.XList.create()}return r};e.QModelDimensionLinksManager.prototype.createBlendableQueryManager=function(t,r,a){var n=e.QFactory.createKeyRefStoreContext(this,t);var i=e.BlendableQueryManager.create(n,a);i.setClientQueryObjectStorageName(t);if(e.notNull(r)){i.setPrimaryQueryManager(r)}return i};e.HierarchyCatalogManager=function(){};e.HierarchyCatalogManager.prototype=new e.QOlapSyncAction;e.HierarchyCatalogManager.prototype._ff_c="HierarchyCatalogManager";e.HierarchyCatalogManager.OBJECT_VERSION="objectVersion";e.HierarchyCatalogManager.HIERARCHY_NAME="hierarchyName";e.HierarchyCatalogManager.VERSION_NAME="versionName";e.HierarchyCatalogManager.BW_NAME_KEY="Name.KEY";e.HierarchyCatalogManager.BW_TEXT_SHORT_TEXT="Text.SHORT_TEXT";e.HierarchyCatalogManager.BW_TEXT_MEDIUM_TEXT="Text.MEDIUM_TEXT";e.HierarchyCatalogManager.BW_TEXT_LONG_TEXT="Text.LONG_TEXT";e.HierarchyCatalogManager.BW_VERSION_DISPLAY_KEY="Version.DISPLAY_KEY";e.HierarchyCatalogManager.BW_VERSION_KEY="Version.KEY";e.HierarchyCatalogManager.BW_VERSION_LONG_TEXT="Version.LONG_TEXT";e.HierarchyCatalogManager.BW_DATE_TO_KEY="DateTo.KEY";e.HierarchyCatalogManager.BW_DATE_FROM="DateFrom";e.HierarchyCatalogManager.BW_DATE_FROM_KEY="DateFrom.KEY";e.HierarchyCatalogManager.BW_OWNER_KEY="Owner.KEY";e.HierarchyCatalogManager.BW_HIEID="HieID";e.HierarchyCatalogManager.BW_HIEID_KEY="HieID.KEY";e.HierarchyCatalogManager.BW_HIETYPE="HieType";e.HierarchyCatalogManager.BW_HIETYPE_KEY="HieType.KEY";e.HierarchyCatalogManager.BW_OBJVERS="ObjVers";e.HierarchyCatalogManager.BW_OBJVERS_KEY="ObjVers.KEY";e.HierarchyCatalogManager.BW_IS_REMOTE="Is_Remote_Hier";e.HierarchyCatalogManager.BW_IS_REMOTE_KEY="Is_Remote_Hier.KEY";e.HierarchyCatalogManager.BW_TYPE_CUSTOM_HIERARCHY="0";e.HierarchyCatalogManager.create=function(t,r,a){var n=new e.HierarchyCatalogManager;n.setupCatalogManager(t,r,a);return n};e.HierarchyCatalogManager.prototype.m_filter=null;e.HierarchyCatalogManager.prototype.m_operator=null;e.HierarchyCatalogManager.prototype.m_dataSource=null;e.HierarchyCatalogManager.prototype.m_dimensionName=null;e.HierarchyCatalogManager.prototype.m_filterHierarchyDate=null;e.HierarchyCatalogManager.prototype.m_enableFilterHierarchyDate=false;e.HierarchyCatalogManager.prototype.m_includeCustomHierarchies=false;e.HierarchyCatalogManager.prototype.m_catalogResult=null;e.HierarchyCatalogManager.prototype.setupCatalogManager=function(t,r,a){this.setupAction(null,null,null,t);this.m_dataSource=r;this.m_dimensionName=a;this.m_filter=e.XHashMapOfStringByString.create();this.m_operator=e.XHashMapByString.create()};e.HierarchyCatalogManager.prototype.releaseObject=function(){this.m_dataSource=null;this.m_dimensionName=null;this.m_catalogResult=e.XObjectExt.release(this.m_catalogResult);this.m_filterHierarchyDate=e.XObjectExt.release(this.m_filterHierarchyDate);this.m_filter=e.XObjectExt.release(this.m_filter);this.m_operator=e.XObjectExt.release(this.m_operator);e.XObjectExt.release(this.getQueryManager());e.QOlapSyncAction.prototype.releaseObject.call(this)};e.HierarchyCatalogManager.prototype.processGetResult=function(e,t,r){return this.processSyncAction(e,t,r)};e.HierarchyCatalogManager.prototype.callListener=function(e,t,r,a){t.onHierarchyCatalogResult(e,r,a)};e.HierarchyCatalogManager.prototype.processSynchronization=function(t){var r=this.getQueryManager();var a=r.getQueryModel();var n=a.getConvenienceCommands();n.resetToDefault();if(r.getSystemType().isTypeOf(e.SystemType.HANA)){this.processHana(n)}else{this.processBW(n)}this._addFilter(n,"Name",this.getFilterHierarchyName(),this.getOperatorHierarchyName());this._addFilter(n,"Version",this.getFilterVersionName(),this.getOperatorVersionName());r.processQueryExecution(t,this,null);return true};e.HierarchyCatalogManager.prototype._addFilter=function(t,r,a,n){t.clearFiltersByDimensionName(r);if(e.notNull(n)){t.addSingleMemberFilterByDimensionName(r,a,n)}};e.HierarchyCatalogManager.prototype.processHana=function(t){t.moveDimensionToRows("Dimension");t.moveDimensionToRows("Name");t.moveDimensionToRows("Description");t.moveDimensionToRows("Version");t.moveDimensionToRows("DateTo");var r=this.m_dataSource;t.addSimpleSingleMemberFilter("Type",r.getType()===null?null:r.getType().getCamelCaseName());t.addSimpleSingleMemberFilter("SchemaName",r.getSchemaName());t.addSimpleSingleMemberFilter("PackageName",r.getPackageName());t.addSimpleSingleMemberFilter("ObjectName",r.getObjectName());if(e.XStringUtils.isNotNullAndNotEmpty(this.m_dimensionName)){t.addSimpleSingleMemberFilter("Dimension",this.m_dimensionName)}};e.HierarchyCatalogManager.prototype.addDimensionAndField=function(e,t,r){e.moveDimensionToRows(t);e.addFieldToResultSet(t,r)};e.HierarchyCatalogManager.prototype.processBW=function(t){this.addDimensionAndField(t,"Name",e.HierarchyCatalogManager.BW_NAME_KEY);t.moveDimensionToRows("Text");t.addFieldToResultSet("Text",e.HierarchyCatalogManager.BW_TEXT_SHORT_TEXT);t.addFieldToResultSet("Text",e.HierarchyCatalogManager.BW_TEXT_MEDIUM_TEXT);t.addFieldToResultSet("Text",e.HierarchyCatalogManager.BW_TEXT_LONG_TEXT);t.moveDimensionToRows("Version");t.addFieldToResultSet("Version",e.HierarchyCatalogManager.BW_VERSION_KEY);t.addFieldToResultSet("Version",e.HierarchyCatalogManager.BW_VERSION_LONG_TEXT);this.addDimensionAndField(t,"DateTo",e.HierarchyCatalogManager.BW_DATE_TO_KEY);this.addDimensionAndField(t,e.HierarchyCatalogManager.BW_DATE_FROM,e.HierarchyCatalogManager.BW_DATE_FROM_KEY);this.addDimensionAndField(t,"Owner",e.HierarchyCatalogManager.BW_OWNER_KEY);this.addDimensionAndField(t,e.HierarchyCatalogManager.BW_HIEID,e.HierarchyCatalogManager.BW_HIEID_KEY);this.addDimensionAndField(t,e.HierarchyCatalogManager.BW_OBJVERS,e.HierarchyCatalogManager.BW_OBJVERS_KEY);this.addDimensionAndField(t,e.HierarchyCatalogManager.BW_IS_REMOTE,e.HierarchyCatalogManager.BW_IS_REMOTE_KEY);this._addFilter(t,e.HierarchyCatalogManager.BW_OBJVERS,this.getFilterHierarchyObjectVersion(),this.getOperatorHierarchyObjectVersion());if(e.notNull(this.m_filterHierarchyDate)&&this.m_enableFilterHierarchyDate){var r=this.m_filterHierarchyDate.toSAPFormat();this._addFilter(t,e.HierarchyCatalogManager.BW_DATE_FROM,r,e.ComparisonOperator.LESS_EQUAL);this._addFilter(t,"DateTo",r,e.ComparisonOperator.GREATER_EQUAL)}};e.HierarchyCatalogManager.prototype.onQueryExecuted=function(t,r,a){this.addAllMessages(t);if(t.isValid()){var n=r.getClassicResultSet();var i=e.QFactory.createHierarchyCatalogResult();this.setupExt(i,n,this.m_dimensionName);if(this.customHierarchiesIncluded()){var o=n.getQueryManager().getSystemType().isTypeOf(e.SystemType.ABAP)?null:this.m_dataSource.getName();this.addCustomHierarchies(i,n,this.m_dimensionName,o,this.getOlapEnv().getCustomHierarchyRepository(),this.m_filter.getByKey(e.HierarchyCatalogManager.HIERARCHY_NAME))}this.m_catalogResult=i;this.setData(this.m_catalogResult)}this.endSync()};e.HierarchyCatalogManager.prototype.addCustomHierarchies=function(e,t,r,a,n,i){e.addAllItems(n._getCustomHierarchyCatalogItemsByDimensionName(t.getQueryManager().getSystemName(),a,r,i))};e.HierarchyCatalogManager.prototype.setupExt=function(t,r,a){if(r.getQueryModel().getSystemType().isTypeOf(e.SystemType.HANA)){this.setupHana(t,r)}else{this.setupBW(t,r,a)}};e.HierarchyCatalogManager.prototype.setupHana=function(t,r){var a=r.getQueryModel();var n=a.getDimensionByName("Dimension").getFieldByName("KeyDimension");var i=a.getDimensionByName("Name").getFieldByName("KeyName");var o=a.getDimensionByName("Description").getFieldByName("KeyDescription");var s=a.getDimensionByName("Version").getFieldByName("KeyVersion");var l=a.getDimensionByName("DateTo").getFieldByName("KeyDateTo");var u=r.getRowsAxis();var p=u.getTuplesCount();for(var c=0;c<p;c++){var g=u.getTupleAt(c);var y=e.HierarchyCatalogItem.createCatalogItem();if(e.notNull(n)){y.setDimensionName(g.getStringByField(n))}if(e.notNull(i)){y.setHierarchyName(g.getStringByField(i))}if(e.notNull(o)){y.setHierarchyLongText(g.getStringByField(o))}if(e.notNull(s)){y.setVersionName(g.getStringByField(s))}if(e.notNull(l)){var m=g.getStringByField(l);if(e.XStringUtils.isNotNullAndNotEmpty(m)){y.setDateTo(e.XDate.createDateFromIsoFormat(m))}}t.addItem(y)}};e.HierarchyCatalogManager.prototype.setupBW=function(t,r,a){var n=r.getQueryModel();var i=n.getConvenienceCommands();var o=n.getDimensionByName("Name").getFieldByName(e.HierarchyCatalogManager.BW_NAME_KEY);var s=this.getFieldIfPresent(i,n,"Text",e.HierarchyCatalogManager.BW_TEXT_SHORT_TEXT);var l=this.getFieldIfPresent(i,n,"Text",e.HierarchyCatalogManager.BW_TEXT_MEDIUM_TEXT);var u=this.getFieldIfPresent(i,n,"Text",e.HierarchyCatalogManager.BW_TEXT_LONG_TEXT);var p=n.getDimensionByName("Version");var c=p.getFieldByName(e.HierarchyCatalogManager.BW_VERSION_DISPLAY_KEY);var g=p.getFieldByName(e.HierarchyCatalogManager.BW_VERSION_KEY);var y=p.getFieldByName(e.HierarchyCatalogManager.BW_VERSION_LONG_TEXT);var m=n.getDimensionByName("DateTo").getFieldByName(e.HierarchyCatalogManager.BW_DATE_TO_KEY);var d=this.getFieldIfPresent(i,n,e.HierarchyCatalogManager.BW_DATE_FROM,e.HierarchyCatalogManager.BW_DATE_FROM_KEY);var C=this.getFieldIfPresent(i,n,"Owner",e.HierarchyCatalogManager.BW_OWNER_KEY);var A=this.getFieldIfPresent(i,n,e.HierarchyCatalogManager.BW_HIEID,e.HierarchyCatalogManager.BW_HIEID_KEY);var S=this.getFieldIfPresent(i,n,e.HierarchyCatalogManager.BW_HIETYPE,e.HierarchyCatalogManager.BW_HIETYPE_KEY);var E=this.getFieldIfPresent(i,n,e.HierarchyCatalogManager.BW_OBJVERS,e.HierarchyCatalogManager.BW_OBJVERS_KEY);var _=this.getFieldIfPresent(i,n,e.HierarchyCatalogManager.BW_IS_REMOTE,e.HierarchyCatalogManager.BW_IS_REMOTE_KEY);var h=r.getQueryManager().getConnection();var I=e.notNull(h)?h.getCustomObject(e.CustomHierarchySessionData.CUSTOM_HIERARCHY_SESSION_DATA):null;var f=r.getRowsAxis();var M=f.getTuplesCount();for(var v=0;v<M;v++){var b=f.getTupleAt(v);var T=e.notNull(S)?b.getStringByField(S):null;var N=e.notNull(o)?b.getStringByField(o):null;if(e.XString.isEqual(T,e.HierarchyCatalogManager.BW_TYPE_CUSTOM_HIERARCHY)&&e.notNull(I)&&I.getHierarchyDefinitionByName(N)!==null){continue}var R=e.HierarchyCatalogItem.createCatalogItem();R.setDimensionName(a);if(e.notNull(N)){R.setHierarchyName(N)}if(e.notNull(s)){R.setHierarchyShortText(b.getStringByField(s))}if(e.notNull(l)){R.setHierarchyMediumText(b.getStringByField(l))}if(e.notNull(u)){R.setHierarchyLongText(b.getStringByField(u))}if(e.notNull(g)){R.setVersionName(b.getStringByField(g))}if(e.notNull(c)){R.setVersionDisplayKey(b.getStringByField(c))}if(e.notNull(y)){R.setVersionDescription(b.getStringByField(y))}if(e.notNull(m)){var Q=b.getStringByField(m);if(e.XStringUtils.isNotNullAndNotEmpty(Q)){R.setDateTo(e.XDate.createDateFromSAPFormat(Q))}}if(e.notNull(d)){var D=b.getStringByField(d);if(e.XStringUtils.isNotNullAndNotEmpty(D)){R.setDateFrom(e.XDate.createDateFromSAPFormat(D))}}if(e.notNull(C)){R.setOwner(b.getStringByField(C))}if(e.notNull(A)){R.setHierId(b.getStringByField(A))}if(e.notNull(T)){R.setHierType(T)}if(e.notNull(E)){R.setObjectVersion(b.getStringByField(E))}if(e.notNull(_)){var O=false;if(_.getValueType()===e.XValueType.STRING){if(e.XString.isEqual(b.getStringByField(_),"X")){O=true}}else if(_.getValueType()===e.XValueType.BOOLEAN){O=b.getBooleanByField(_)}R.setIsRemote(O)}t.addItem(R)}};e.HierarchyCatalogManager.prototype.getFieldIfPresent=function(e,t,r,a){if(e.containsResultSetField(r,a)){return t.getDimensionByName(r).getFieldByName(a)}return null};e.HierarchyCatalogManager.prototype.setFilterHierarchyName=function(t,r){if(r){this.setFilterHierarchyNameWithOperator(t,e.ComparisonOperator.EQUAL)}else{this.setFilterHierarchyNameWithOperator(t,null)}};e.HierarchyCatalogManager.prototype.assertComparisonOperator=function(t){if(e.notNull(t)&&t!==e.ComparisonOperator.EQUAL&&t!==e.ComparisonOperator.MATCH){throw e.XException.createRuntimeException("illegal comparison operator")}};e.HierarchyCatalogManager.prototype._setFilterInternal=function(e,t,r){this.assertComparisonOperator(r);this.m_filter.put(e,t);this.m_operator.put(e,r);this.resetSyncState()};e.HierarchyCatalogManager.prototype.setFilterHierarchyNameWithOperator=function(t,r){this._setFilterInternal(e.HierarchyCatalogManager.HIERARCHY_NAME,t,r)};e.HierarchyCatalogManager.prototype.getOperatorHierarchyName=function(){return this.m_operator.getByKey(e.HierarchyCatalogManager.HIERARCHY_NAME)};e.HierarchyCatalogManager.prototype.getFilterHierarchyName=function(){return this.m_filter.getByKey(e.HierarchyCatalogManager.HIERARCHY_NAME)};e.HierarchyCatalogManager.prototype.isFilterHierarchyNameEnabled=function(){return this.getOperatorHierarchyName()!==null};e.HierarchyCatalogManager.prototype.setFilterVersionName=function(t,r){if(r){this.setFilterVersionNameWithOperator(t,e.ComparisonOperator.EQUAL)}else{this.setFilterVersionNameWithOperator(t,null)}};e.HierarchyCatalogManager.prototype.setFilterVersionNameWithOperator=function(t,r){this._setFilterInternal(e.HierarchyCatalogManager.VERSION_NAME,t,r)};e.HierarchyCatalogManager.prototype.getOperatorVersionName=function(){return this.m_operator.getByKey(e.HierarchyCatalogManager.VERSION_NAME)};e.HierarchyCatalogManager.prototype.getFilterVersionName=function(){return this.m_filter.getByKey(e.HierarchyCatalogManager.VERSION_NAME)};e.HierarchyCatalogManager.prototype.isFilterVersionNameEnabled=function(){return this.getOperatorVersionName()!==null};e.HierarchyCatalogManager.prototype.setFilterHierarchyObjectVersion=function(t,r){if(r){this.setFilterHierarchyObjectVersionWithOperator(t,e.ComparisonOperator.EQUAL)}else{this.setFilterHierarchyObjectVersionWithOperator(t,null)}};e.HierarchyCatalogManager.prototype.setFilterHierarchyObjectVersionWithOperator=function(t,r){this._setFilterInternal(e.HierarchyCatalogManager.OBJECT_VERSION,t,r)};e.HierarchyCatalogManager.prototype.getOperatorHierarchyObjectVersion=function(){return this.m_operator.getByKey(e.HierarchyCatalogManager.OBJECT_VERSION)};e.HierarchyCatalogManager.prototype.getFilterHierarchyObjectVersion=function(){return this.m_filter.getByKey(e.HierarchyCatalogManager.OBJECT_VERSION)};e.HierarchyCatalogManager.prototype.isFilterHierarchyObjectVersionEnabled=function(){return this.getOperatorHierarchyObjectVersion()!==null};e.HierarchyCatalogManager.prototype.setFilterHierarchyDate=function(t,r){if(e.isNull(t)){this.m_filterHierarchyDate=e.XObjectExt.release(this.m_filterHierarchyDate)}else{if(e.isNull(this.m_filterHierarchyDate)){this.m_filterHierarchyDate=e.XDate.createDateWithValues(t.getYear(),t.getMonthOfYear(),t.getDayOfMonth())}else{this.m_filterHierarchyDate.resetValue(t)}}this.resetSyncState();this.m_enableFilterHierarchyDate=r};e.HierarchyCatalogManager.prototype.getFilterHierarchyDate=function(){return this.m_filterHierarchyDate};e.HierarchyCatalogManager.prototype.setIncludeCustomHierarchies=function(e){this.m_includeCustomHierarchies=e;this.resetSyncState()};e.HierarchyCatalogManager.prototype.customHierarchiesIncluded=function(){return this.m_includeCustomHierarchies};e.QmShutdownAction=function(){};e.QmShutdownAction.prototype=new e.QOlapSyncAction;e.QmShutdownAction.prototype._ff_c="QmShutdownAction";e.QmShutdownAction.createAndRun=function(t,r,a,n){var i=new e.QmShutdownAction;i.setupActionAndRun(t,r,a,n);return i};e.QmShutdownAction.prototype.m_providerShutdownAction=null;e.QmShutdownAction.prototype.releaseObject=function(){this.m_providerShutdownAction=null;e.QOlapSyncAction.prototype.releaseObject.call(this)};e.QmShutdownAction.prototype.processSynchronization=function(t){var r=this.getActionContext();if(e.notNull(r)){if(r.getLifeCycleState()!==e.LifeCycleState.ACTIVE){this.addError(e.ErrorCodes.INVALID_STATE,"Query Manager cannot be shutdown, it is not in active state");return false}r.setLifeCycleState(e.LifeCycleState.SHUTTING_DOWN);this.m_providerShutdownAction=r.processProviderShutdown(t,this,null);return true}return false};e.QmShutdownAction.prototype.onProviderShutdown=function(t,r,a){this.addAllMessages(t);var n=this.getActionContext();if(e.notNull(n)){n.setLifeCycleState(e.LifeCycleState.TERMINATED)}this.setData(n);this.endSync()};e.QmShutdownAction.prototype.callListener=function(e,t,r,a){t.onQueryManagerRelease(e,r,a)};e.QmShutdownAction.prototype.cancelSynchronization=function(){e.QOlapSyncAction.prototype.cancelSynchronization.call(this);this.m_providerShutdownAction.cancelSynchronization()};e.QueryManager=function(){};e.QueryManager.prototype=new e.DfService;e.QueryManager.prototype._ff_c="QueryManager";e.QueryManager.prototype.m_name=null;e.QueryManager.prototype.m_dataSource=null;e.QueryManager.prototype.m_lifeCycleState=null;e.QueryManager.prototype.m_systemDescription=null;e.QueryManager.prototype.m_queryModel=null;e.QueryManager.prototype.m_activeContainer=null;e.QueryManager.prototype.m_convenienceCmds=null;e.QueryManager.prototype.m_metadataModel=null;e.QueryManager.prototype.m_directVariableTransferConsumer=false;e.QueryManager.prototype.m_mode=null;e.QueryManager.prototype.m_processorStateListeners=null;e.QueryManager.prototype.m_queryExecutedListener=null;e.QueryManager.prototype.m_beforeQueryExecutionListener=null;e.QueryManager.prototype.m_variableProcessorPreviousState=null;e.QueryManager.prototype.m_variableProcessorState=null;e.QueryManager.prototype.m_hasPreparedAfterVariables=false;e.QueryManager.prototype.m_planningManager=null;e.QueryManager.prototype.m_dimensionsToClone=null;e.QueryManager.prototype.m_dimensionsRequestedFromClient=null;e.QueryManager.prototype.m_preQueryExecutor=null;e.QueryManager.prototype.m_enableHierarchyToUDHConversion=false;e.QueryManager.prototype.m_includePerformanceData=null;e.QueryManager.prototype.m_myNameAsMicroCube=null;e.QueryManager.prototype.m_lovManager=null;e.QueryManager.prototype.m_cacheHintsEnabled=false;e.QueryManager.prototype.m_isMetadataCached=false;e.QueryManager.prototype.m_preQueryName=null;e.QueryManager.prototype.m_suppressExitVariableValues=false;e.QueryManager.prototype.m_keyRefSerializationEnabled=false;e.QueryManager.prototype.m_clientQueryObjectStorageName=null;e.QueryManager.prototype.m_modCounterState=null;e.QueryManager.prototype.m_disableExitVariables=false;e.QueryManager.prototype.setupService=function(t){e.DfService.prototype.setupService.call(this,t);var r=t;var a=r.getDataSource();var n=null;if(e.notNull(a)){n=a.clone()}else{n=e.QDataSource.create()}this.setDataSource(n)};e.QueryManager.prototype.getComponentType=function(){return this.getOlapComponentType()};e.QueryManager.prototype.getOlapComponentType=function(){return e.OlapComponentType.QUERY_MANAGER};e.QueryManager.prototype.releaseObject=function(){var t=this.getOlapEnvironmentBase();if(e.notNull(t)){t.getFilterManager().releaseExternalizedFilter(this);t.unregisterQueryManager(this);if(e.notNull(this.m_myNameAsMicroCube)){t.removeMicroCubeName(this.getSystemName(),this.m_myNameAsMicroCube);this.m_myNameAsMicroCube=null}}this.m_convenienceCmds=e.XObjectExt.release(this.m_convenienceCmds);this.m_activeContainer=e.XObjectExt.release(this.m_activeContainer);this.m_processorStateListeners=e.XObjectExt.release(this.m_processorStateListeners);this.m_queryModel=e.XObjectExt.release(this.m_queryModel);this.setLifeCycleState(e.LifeCycleState.RELEASED);this.m_metadataModel=e.XObjectExt.release(this.m_metadataModel);this.m_planningManager=e.XObjectExt.release(this.m_planningManager);this.m_preQueryExecutor=e.XObjectExt.release(this.m_preQueryExecutor);this.m_systemDescription=null;this.m_variableProcessorPreviousState=null;this.m_variableProcessorState=null;this.m_queryExecutedListener=null;this.m_beforeQueryExecutionListener=null;this.m_dimensionsToClone=e.XObjectExt.release(this.m_dimensionsToClone);this.m_dimensionsRequestedFromClient=e.XObjectExt.release(this.m_dimensionsRequestedFromClient);this.m_includePerformanceData=null;this.m_lovManager=e.XObjectExt.release(this.m_lovManager);this.m_clientQueryObjectStorageName=null;this.m_modCounterState=e.XObjectExt.release(this.m_modCounterState);e.DfService.prototype.releaseObject.call(this)};e.QueryManager.prototype.setupValues=function(){this.m_lifeCycleState=e.LifeCycleState.INITIAL;this.m_activeContainer=e.ResultSetContainer.create(this,null);this.m_variableProcessorState=e.VariableProcessorState.CHANGEABLE_STARTUP;var t=this.getOlapEnvironmentBase();t.registerQueryManager(this);this.m_queryExecutedListener=e.XSimpleMap.create();this.m_beforeQueryExecutionListener=e.XSimpleMap.create();this.m_includePerformanceData=e.TriStateBool._DEFAULT;this.m_isMetadataCached=false;this.m_keyRefSerializationEnabled=true;this.m_clientQueryObjectStorageName=null};e.QueryManager.prototype.setupClone=function(t,r,a){var n=t.getApplication();var i=t.getServiceConfig();var o;if(r===e.QueryCloneMode.MICRO_CUBE){o=i.cloneUsingExtDataSource(a)}else{o=i.clone()}e.DfService.prototype.setupService.call(this,o);o.linkToQueryManager(this);var s=n.getConnectionPool();var l=t.getSystemDescription();var u=t.getConnection();var p=u;if(e.isNull(u)){p=s.getConnection(l.getSystemName())}else if(u.useSessionUrlRewrite()&&s.getMaximumSharedConnections(l.getSystemName())>1){p=s.getConnectionExt(l.getSystemName(),false,u.getName());if(u.getWebServicePathForBLOBs()!==null){p.setWebServicePathForBLOBs(u.getWebServicePathForBLOBs().getPath())}}if(r===e.QueryCloneMode.MICRO_CUBE){this.setDataSource(a)}else{var c=t.getDataSource();var g=null;if(e.notNull(c)){g=c.clone()}this.setDataSource(g)}this.setConnection(p);this.setSystemDescription(l);this.getSettingsBase().setDataRequest(t.getInitSettings().getDataRequest());this.setUseSavedPromptsForExitVariables(t.isUsingSavedPromptsForExitVariables());this.setupValues();this.m_includePerformanceData=t.getIncludePerformanceData();if(t.getQueryModel()!==null){this.setupQueryModel()}this.m_lifeCycleState=e.LifeCycleState.STARTING_UP;this.m_mode=t.getMode();this.m_activeContainer=e.ResultSetContainer.create(this,t.getActiveResultSetContainer());this.m_enableHierarchyToUDHConversion=t.isHierarchyToUDHConversionEnabled();this.m_clientQueryObjectStorageName=t.getClientQueryObjectStorageName();this.setOffsetColumns(t.getOffsetColumns());this.setOffsetRows(t.getOffsetRows());this.setMaxRows(t.getMaxRows());this.setMaxColumns(t.getMaxColumns());this.setSuppressExitVariableValuesInRepoMode(t.isSuppressExitVariableValuesInRepoMode());if(r!==e.QueryCloneMode.MICRO_CUBE){var y=t.getVariableVariants();if(e.notNull(y)){var m=y.size();for(var d=0;d<m;d++){this.addVariableVariant(y.get(d).clone())}}}if(e.XCollectionUtils.hasElements(i.getRequiredDimensions())){o.setRequiredDimensions(i.getRequiredDimensions().createListOfStringCopy())}if(e.XCollectionUtils.hasElements(t.getDimensionsToClone())){this.setDimensionsToClone(t.getDimensionsToClone().createSetCopy());this.setDimensionsRequestedFromClient(t.getDimensionsRequestedFromClient().createSetCopy())}if(e.notNull(this.m_queryModel)){this.m_queryModel.stopEventing()}var C=t.getQueryModel();if(e.notNull(C)){var A=null;if(r===e.QueryCloneMode.BASE_STATE){A=C.getServerBaseSerializationForBaseState()}else{A=C.getServerBaseSerialization()}if(r===e.QueryCloneMode.CURRENT_STATE||r===e.QueryCloneMode.MICRO_CUBE){this.m_queryModel.copyQueryModel(C,r)}else{var S=this.getModelCapabilities();if(r===e.QueryCloneMode.CURRENT_STATE_INA){var E=e.QInAExportFactory.createForCloning(n,S);var _=E.exportQueryModel(C,true,true);var h=e.QInAImportFactory.createForCloning(n,S);h.importQueryModel(_,this.m_queryModel);e.MessageUtil.checkNoError(h)}else if(r===e.QueryCloneMode.BASE_STATE){var I=e.QInAImportFactory.create(n,e.QModelFormat.INA_METADATA,S);I.importQueryModel(A,this.m_queryModel)}else{throw e.XException.createRuntimeException(e.XStringUtils.concatenate2("Mode not yet supported: ",r.toString()))}}this.m_queryModel.getDrillManager().setValidateContextFreeNavigations(C.getDrillManager().isValidatingContextFreeNavigations());this.m_queryModel.setExportFixedFilter(C.isExportingFixedFilter());this.m_queryModel.setExportVariables(C.isExportingVariables());this.m_queryModel.setServerBaseSerialization(null,e.QModelOrigin.CLONING,A);this.m_queryModel.setSupportsDataEntryReadOnly(C.supportsDataEntryReadOnly());this.m_queryModel.setDataEntryReadOnly(C.isDataEntryReadOnly());this.m_queryModel.setDataEntryEnabled(C.isDataEntryEnabled());this.reorderStructureMember(this.m_queryModel.getMeasureDimension(),C.getMeasureDimension());this.reorderStructureMember(this.m_queryModel.getNonMeasureDimension(),C.getNonMeasureDimension());this.reorderStructureMember(this.m_queryModel.getNonMeasureDimension2(),C.getNonMeasureDimension2());this.reorderStructureMember(this.m_queryModel.getAccountDimension(),C.getAccountDimension());this.m_queryModel.getDrillManagerBase().copyRootNodesFrom(C.getDrillManager())}this.m_metadataModel=t.getMetadataModel().cloneOlapComponent(this.getQueryModel(),null);if(e.notNull(this.m_queryModel)&&this.getInitSettings().isExternalizedNonVariableFilter()){var f=this.getOlapEnv();var M=e.isNull(f)?null:f.getFilterManager();if(r===e.QueryCloneMode.BASE_STATE){M.externalizeNonVariableFilter(this)}else{var v=e.isNull(M)?null:M.getNonVariableDrivenFilters(t);if(e.notNull(v)){var b=this.m_queryModel.getFilter();var T=b.getExternalizedNonVariableFilterName();var N=M.getFilterByName(T);var R=N.getCartesianProductWithDefault();R.copyFrom(v,null);this.m_queryModel.getFilter().linkFilter(T,N)}}}if(e.notNull(this.m_queryModel)){var Q=o.getInstanceId();var D=this.m_queryModel.getDataSourceBase();D.setInstanceId(Q);this.m_queryModel.resumeEventing()}if(this.getResultSetPersistenceIdentifier()!==null){this.setResultSetPersistenceIdentifier(null);this.setResultSetPersistanceTargetSchema(null);this.setResultSetPersistanceTargetTable(null)}if(t.hasLovManager()){this.getLovManager().copyFrom(t.getLovManager(),null)}this.setLifeCycleState(e.LifeCycleState.ACTIVE);if(e.VariableProcessorState.PROCESSING_EMPTY_VARIABLE_DEFINITION===t.getVariableProcessorState()){this.setVariableProcessorState(t.getVariableProcessorState())}this.m_includePerformanceData=t.getIncludePerformanceData();this.setCacheHintEnabled(t.isCacheHintEnabled());this.m_keyRefSerializationEnabled=t.isKeyRefSerializationEnabled()};e.QueryManager.prototype.reorderStructureMember=function(t,r){if(e.notNull(t)&&e.notNull(r)){t.reOrderStructureMembers(r.getOrderedStructureMemberNames())}};e.QueryManager.prototype.resetVisualizationContainers=function(){var t=this.getQueryModel();var r=e.isNull(t)?null:t.getVisualizationManager();var a=e.isNull(r)?null:r.getVisualizationDefinitions();if(e.XCollectionUtils.hasElements(a)){e.XCollectionUtils.forEach(a,function(e){e.resetVisualizationContainer()}.bind(this))}};e.QueryManager.prototype.invalidateVisualizationContainers=function(){var t=this.getQueryModel();var r=e.isNull(t)?null:t.getVisualizationManager();var a=e.isNull(r)?null:r.getVisualizationDefinitions();if(e.XCollectionUtils.hasElements(a)){e.XCollectionUtils.forEach(a,function(e){e.invalidateVisualizationContainer()}.bind(this))}};e.QueryManager.prototype.cloneOlapComponent=function(t,r){return this.cloneQueryManagerExt(e.QueryCloneMode.CURRENT_STATE)};e.QueryManager.prototype.cloneQueryManager=function(){return this.cloneQueryManagerExt(e.QueryCloneMode.CURRENT_STATE)};e.QueryManager.prototype.cloneExt=function(t){var r=e.QueryCloneMode.findInFlags(t,e.QueryCloneMode.CURRENT_STATE);return this.cloneQueryManagerExt(r)};e.QueryManager.prototype.cloneQueryManagerExt=function(t){var r;if(this.getMode()===e.QueryManagerMode.BLENDING){var a=this.getServiceConfig();var n=a.getBlendingDefinition();var i=n.clone();var o=e.QueryServiceConfig.createWithBlendingDefinition(this.getApplication(),i);var s=o.processQueryManagerCreation(e.SyncType.BLOCKING,null,null);e.MessageUtil.checkNoError(s);r=s.getData();var l=r.getQueryModel();l.getDrillManager().setValidateContextFreeNavigations(this.m_queryModel.getDrillManager().isValidatingContextFreeNavigations());var u=this.m_queryModel.serializeToString(e.QModelFormat.INA_REPOSITORY);var p=l.deserializeExt(e.QModelFormat.INA_REPOSITORY,u);var c=this.m_queryModel.getDimensions();if(e.notNull(c)){var g=c.size();for(var y=0;y<g;y++){var m=c.get(y);if(e.isNull(m)){continue}var d=l.getDimensionByNameFromExistingMetadata(m.getName());if(e.isNull(d)){continue}d.reOrderStructureMembers(m.getOrderedStructureMemberNames())}}l.getDrillManager().copyRootNodesFrom(this.m_queryModel.getDrillManager());e.MessageUtil.checkNoError(p);if(t===e.QueryCloneMode.BASE_STATE){r.getConvenienceCommands().resetToDefault()}}else{r=this.cloneQueryManagerBase(t)}return r};e.QueryManager.prototype.cloneQueryManagerBase=function(e){this.assertLifeCycleActive();var t=this.newObject();t.setupClone(this,e,null);return t};e.QueryManager.prototype.newObject=e.noSupport;e.QueryManager.prototype.cloneQueryManagerOptimized=function(t){var r=this.getQueryModelBase();var a=e.XHashSetOfString.create();var n=e.XHashSetOfString.create();n.addAll(t);n.add(r.getMeasureDimension().getName());this.setDimensionsRequestedFromClient(n);a.addAll(t);e.DimensionUsageAnalyzer2.addDimensionsUsedByVariables(r,a);e.DimensionUsageAnalyzer2.addDimensionsUsedInFilters(r,a);e.DimensionUsageAnalyzer2.addDimensionsUsedInUniversalDisplayHierarchies(r,a);e.DimensionUsageAnalyzer2.addDimensionsUsedByLeveledHierarchies(r,a);e.DimensionUsageAnalyzer2.addDimensionsUsedInExceptions(r,a);e.DimensionUsageAnalyzer2.addDimensionsUsedInConditions(r,a);a.add(this.getQueryModel().getMeasureDimension().getName());this.setDimensionsToClone(a);var i=this.cloneQueryManagerBase(e.QueryCloneMode.CURRENT_STATE);var o=i.getQueryServiceConfig();o.setRequiredDimensions(e.XListOfString.createFromReadOnlyList(a.getValuesAsReadOnlyListOfString()));o.setSupportsDimensionLazyLoad(false);this.getDimensionsToClone().clear();this.getDimensionsRequestedFromClient().clear();return i};e.QueryManager.prototype.setupQueryModel=function(){var t=this.getCapabilitiesBase();this.m_queryModel=e.QueryModel.create(this.getOlapEnv(),this,t);if(this.isLightweightSearch()){this.m_queryModel.getModelCapabilitiesBase().setSupportsComplexFilter(true)}var r=this.getDataSource();if(e.notNull(r)){this.m_queryModel.getModelCapabilitiesBase().setSupportsExtendedVariableDefinition(this.supportsAndAllowsEmptyExtendedVarDefinition());this.m_queryModel.getDataSourceBase().copyFrom(r,null)}return this.m_queryModel};e.QueryManager.prototype.invalidateState=function(){if(this._createPlanningManager()){this.m_planningManager.setPublicVersionEditPossible(false)}if(this.getMode()===e.QueryManagerMode.RAW_QUERY){this.getResultsetContainer(true)}else{this.m_queryModel.notifyNodeChanged()}};e.QueryManager.prototype.lazyLoadMetadataModel=function(){if(e.isNull(this.m_metadataModel)){this.m_metadataModel=e.QMetadataModel.create(this.m_queryModel)}};e.QueryManager.prototype.getMetadataModelBase=function(){this.lazyLoadMetadataModel();return this.m_metadataModel};e.QueryManager.prototype.getMetadataModel=function(){this.lazyLoadMetadataModel();return this.m_metadataModel};e.QueryManager.prototype.processQueryExecution=function(t,r,a){this.checkRootNodeFetching();if(e.notNull(this.m_lovManager)&&this.m_lovManager.isLovAbstractionEnabled()&&this.getActiveResultSetContainer().getSyncState().isNotInSync()){var n=this.m_lovManager.createConfigForActiveResultSetContainer(this.getActiveResultSetContainer());if(n.isValid()){return this.m_lovManager.processListOfValuesByConfig(n,t,r,a)}e.XObjectExt.release(n)}this.maintainStateForRsWithAutoSubmit(null);return this.processQueryExecutionInternal(t,r,a,this.getMode()===e.QueryManagerMode.BLENDING)};e.QueryManager.prototype.checkRootNodeFetching=function(){if(this.getMode()===e.QueryManagerMode.BLENDING){var t=e.BlendingUtils.getLeafQueryModels(this);e.XCollectionUtils.forEach(t,function(t){var r=t.getDrillManager();if(e.notNull(r)){r.checkRootNodeFetching()}}.bind(this))}else{var r=this.getDrillManager();if(e.notNull(r)){r.checkRootNodeFetching()}}};e.QueryManager.prototype.maintainStateForRsWithAutoSubmit=function(t){if(e.notNull(this.m_queryModel)&&this.getModelCapabilities().supportsAutoVariableSubmit()){this.m_queryModel.setIsMetadataUpdatedByAutoSubmit(false)}var r=this.getVariableProcessorState();if(this.isExecuteAutoVariableSubmit()&&!this.isProcessingAutoSubmit()){if(r!==e.VariableProcessorState.SUBMITTED&&this.hasVariables()){var a=r===e.VariableProcessorState.VALUE_HELP;if(e.notNull(t)){var n=t.getRsQueryModelDef();a=a||e.notNull(n)&&!n.isExecuteAutoVariableSubmit()}var i=e.notNull(t)?t:this.getActiveResultSetContainer();if(r===e.VariableProcessorState.CHANGEABLE_REINIT&&i.getSyncState().isInSync()){this.getResultsetContainer(true)}if(!a){var o=null;if(r===e.VariableProcessorState.CHANGEABLE_STARTUP){o=e.VariableProcessorState.PROCESSING_AUTO_SUBMIT}else if(r===e.VariableProcessorState.CHANGEABLE_REINIT){o=e.VariableProcessorState.PROCESSING_AUTO_SUBMIT_AFTER_REINIT}if(e.notNull(o)){var s=this.getDimensionMemberVariables();for(var l=0;l<s.size();l++){var u=s.get(l);u.maintainFilterStateForAutoSubmit();var p=u.getVariableType();if(p===e.VariableType.HIERARCHY_NAME_VARIABLE){var c=u.getHierarchyNameDimension();var g=c.getHierarchyNameVariableName();if(e.XString.isEqual(u.getName(),g)&&c.useHierarchyNameVariable()&&u.isWinControlInAutoSubmit()){c.setHierarchy(null)}}}this.setVariableProcessorState(o)}}}}};e.QueryManager.prototype.processQueryExecutionAsBlendingSource=function(e,t,r,a){this.setResultSetPersistenceTargetType(t);return this.processQueryExecutionInternal(e,r,a,true)};e.QueryManager.prototype.processQueryExecutionAsRemotePreQuery=function(e,t,r){this.getActiveResultSetContainerBase().setIsRemotePreQuery(true);return this.processQueryExecutionInternal(e,t,r,true)};e.QueryManager.prototype.processQueryExecutionAsLovProcess=function(t,r,a,n){var i=this.getLovManager();if(t.isUseActiveResultSetContainer()){return this.processQueryExecutionInternal(r,a,n,false)}var o=this.m_activeContainer;this.m_activeContainer=e.ResultSetContainer.create(this,o);this.m_activeContainer.setLovConfig(t);i.setKeyFigureCalculation(this.m_activeContainer,t);var s=this.processQueryExecutionInternal(r,a,n,false);this.m_activeContainer=o;return s};e.QueryManager.prototype.processQueryExecutionInternal=function(t,r,a,n){this.assertLifeCycleActive();if(t===e.SyncType.REGISTER){this.m_queryExecutedListener.put(r,e.XPair.create(r,a));this.getActiveResultSetContainerBase().attachListener(r,e.ListenerType.SPECIFIC,a);return null}else if(t===e.SyncType.UNREGISTER){this.m_queryExecutedListener.remove(r);return null}this.callOnBeforeQueryExecutionListeners(a);if(this.getOlapEnv()!==null&&this.getOlapEnv().getFilterManager()!==null){var i=this.getVariableProcessorState();this.getOlapEnv().getFilterManager().cleanupFilterBeforeAutoSubmit(this,i===e.VariableProcessorState.PROCESSING_SUBMIT||i===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT||i===e.VariableProcessorState.CHANGEABLE_STARTUP)}var o=null;if(this.getPreQueryName()===null){o=this.initializeMainSequence(t,r,a)}if(this.variablesRequireImplicitSubmit()){this.getActiveResultSetContainerBase().attachAllListeners(this.m_queryExecutedListener.getValuesAsReadOnlyList());return this.processSequenceWithMainSequence(o,e.QueryManagerProcessingSequence.createSequence(this,this.getActiveResultSetContainer(),true,false),t,r,a)}this.prepareAfterVariables();this.getActiveResultSetContainerBase().attachAllListeners(this.m_queryExecutedListener.getValuesAsReadOnlyList());if(!this.getActiveResultSetContainer().areAllPrequeriesInSync()||this.getPreQueryName()!==null||e.notNull(this.m_queryModel)&&this.m_queryModel.isBasedOnMicroCube()||n&&this.getActiveResultSetContainer().getSyncState().isTypeOf(e.SyncState.PROCESSING)){this.getResultsetContainer(true)}if(!n&&this.getResultSetPersistenceIdentifier()!==null){this.cleanPersistencySettings()}if(this.getModelCapabilities().supportsCustomHierarchy()){return this.processSequenceWithMainSequence(o,e.QueryManagerProcessingSequence.createSequence(this,this.getActiveResultSetContainer(),false,false),t,r,a)}if(e.isNull(o)){return this.getActiveResultSetContainerBase().processExecution(t,r,a)}else{o.setMainAction(e.ResultSetContainerProcessExecutionAction.createAction(this.getActiveResultSetContainer()));return o.processSyncAction(t,r,a)}};e.QueryManager.prototype.callOnBeforeQueryExecutionListeners=function(t){if(e.XCollectionUtils.hasElements(this.m_beforeQueryExecutionListener)){var r=this.m_beforeQueryExecutionListener.getValuesAsReadOnlyList().getIterator();while(r.hasNext()){var a=r.next();a.getFirstObject().onBeforeQueryExecuted(e.notNull(t)?t:a.getSecondObject())}}};e.QueryManager.prototype.initializeMainSequence=function(t,r,a){var n=this.getTransientFilterActions(t);var i=null;if(n.size()>0){i=e.SyncActionSequence.create(t,r,a,this);for(var o=0;o<n.size();o++){i.addAction(n.get(o))}}return i};e.QueryManager.prototype.getTransientFilterActions=function(t){var r=e.XList.create();var a=e.QFilterUtil.collectFilterAcrossModels(this.getQueryModel());for(var n=0;n<a.size();n++){var i=a.get(n);var o=i.getTargetDatasetId();var s;if(e.XString.isEqual(o,this.getQueryModel().getDatasetId())){s=this}else{s=this.getOlapEnv().getSharedQueryManager(o)}if(e.notNull(s)){var l=i.processLovQueriesExecutionExt(s.getQueryModel(),t,null,null);if(e.notNull(l)){r.add(l)}}}return r};e.QueryManager.prototype.processSequenceWithMainSequence=function(t,r,a,n,i){if(e.isNull(t)){return r.processSyncAction(a,n,i)}else{t.setMainAction(r);return t.processSyncAction(a,n,i)}};e.QueryManager.prototype.retriggerQueryExecutionWithCustomHierarchies=function(t,r,a,n){e.QueryManagerProcessingSequence.createSequence(this,n,false,true).processSyncAction(t,r,a)};e.QueryManager.prototype.cleanPersistencySettings=function(){this.setResultSetPersistenceIdentifier(null);this.setResultSetPersistanceTargetSchema(null);this.setResultSetPersistanceTargetTable(null);this.getActiveResultSetContainerBase().setSerializedData(null,null)};e.QueryManager.prototype.getResultsetContainer=function(t){if(e.isNull(this.m_activeContainer)||this.m_activeContainer.isReleased()||t&&this.m_activeContainer.getSyncState()!==e.SyncState.OUT_OF_SYNC){var r=this.m_activeContainer;this.m_activeContainer=e.ResultSetContainer.create(this,this.m_activeContainer);this.resetVisualizationContainers();if(e.notNull(r)){r.setSerializedData(null,null)}}return this.m_activeContainer};e.QueryManager.prototype.getClassicResultSet=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getClassicResultSet()};e.QueryManager.prototype.isClassicResultSetAvailable=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().isClassicResultSetAvailable()};e.QueryManager.prototype.getCursorResultSet=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getCursorResultSet()};e.QueryManager.prototype.getAbstractRendering=function(e,t){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getAbstractRendering(e,t)};e.QueryManager.prototype.isCursorResultSetAvailable=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().isCursorResultSetAvailable()};e.QueryManager.prototype.setOffsetRows=function(e){if(this.getResultsetContainer(false).getOffsetRows()!==e){this.getResultsetContainer(true).setOffsetRows(e)}return null};e.QueryManager.prototype.getOffsetRows=function(){return this.getResultsetContainer(false).getOffsetRows()};e.QueryManager.prototype.setOffsetColumns=function(e){if(this.getResultsetContainer(false).getOffsetColumns()!==e){this.getResultsetContainer(true).setOffsetColumns(e)}return null};e.QueryManager.prototype.getOffsetColumns=function(){return this.getResultsetContainer(false).getOffsetColumns()};e.QueryManager.prototype.setSuppressKeyfigureCalculation=function(e){if(this.getResultsetContainer(false).isKeyfigureCalculationSuppressed()!==e){this.getResultsetContainer(true).setSuppressKeyfigureCalculation(e)}return null};e.QueryManager.prototype.isKeyfigureCalculationSuppressed=function(){return this.getResultsetContainer(false).isKeyfigureCalculationSuppressed()};e.QueryManager.prototype.setMaxRows=function(e){if(this.getResultsetContainer(false).getMaxRows()!==e){this.getResultsetContainer(true).setMaxRows(e)}return null};e.QueryManager.prototype.getMaxRows=function(){return this.getResultsetContainer(false).getMaxRows()};e.QueryManager.prototype.setMaxColumns=function(e){if(this.getResultsetContainer(false).getMaxColumns()!==e){this.getResultsetContainer(true).setMaxColumns(e)}return null};e.QueryManager.prototype.getMaxColumns=function(){return this.getResultsetContainer(false).getMaxColumns()};e.QueryManager.prototype.getMaxResultRecords=function(){return this.getResultsetContainer(false).getMaxResultRecords()};e.QueryManager.prototype.setMaxResultRecords=function(e){if(this.getResultsetContainer(false).getMaxResultRecords()!==e){this.getResultsetContainer(true).setMaxResultRecords(e)}return null};e.QueryManager.prototype.resetMaxResultRecords=function(){this.getResultsetContainer(true).resetMaxResultRecords();return null};e.QueryManager.prototype.setResultSetPersistanceTargetSchema=function(t){var r=this.getResultsetContainer(false).getResultSetPersistenceSchema();if(!e.XString.isEqual(r,t)){this.getResultsetContainer(true).setResultSetPersistanceTargetSchema(t)}return null};e.QueryManager.prototype.setResultSetPersistanceTargetTable=function(t){var r=this.getResultsetContainer(false).getResultSetPersistenceTable();if(!e.XString.isEqual(r,t)){this.getResultsetContainer(true).setResultSetPersistanceTargetTable(t)}return null};e.QueryManager.prototype.setResultSetPersistenceTargetType=function(e){var t=this.getResultsetContainer(false).getResultSetPersistenceType();if(t!==e){this.getResultsetContainer(true).setResultSetPersistenceTargetType(e)}return null};e.QueryManager.prototype.setResultSetPersistenceIdentifier=function(t){var r=this.getResultsetContainer(false).getResultSetPersistenceIdentifier();if(!e.XString.isEqual(r,t)){this.getResultsetContainer(true).setResultSetPersistenceIdentifier(t)}return null};e.QueryManager.prototype.getResultSetPersistenceSchema=function(){return this.getResultsetContainer(false).getResultSetPersistenceSchema()};e.QueryManager.prototype.getResultSetPersistenceTable=function(){return this.getResultsetContainer(false).getResultSetPersistenceTable()};e.QueryManager.prototype.getResultSetPersistenceType=function(){return this.getResultsetContainer(false).getResultSetPersistenceType()};e.QueryManager.prototype.getResultSetPersistenceIdentifier=function(){return this.getResultsetContainer(false).getResultSetPersistenceIdentifier()};e.QueryManager.prototype.setExecuteRequestOnOldResultSet=function(e){if(this.getResultsetContainer(false).getExecuteRequestOnOldResultSet()!==e){this.getResultsetContainer(true).setExecuteRequestOnOldResultSet(e)}return null};e.QueryManager.prototype.isResultSetTransportEnabled=function(){return this.getResultsetContainer(false).isResultSetTransportEnabled()};e.QueryManager.prototype.setResultSetTransportEnabled=function(e){if(this.getResultsetContainer(false).isResultSetTransportEnabled()!==e){this.getResultsetContainer(true).setResultSetTransportEnabled(e)}return null};e.QueryManager.prototype.setDataRefreshEnabled=function(e){if(this.getResultsetContainer(false).getDataRefreshEnabled()!==e){this.getResultsetContainer(true).setDataRefreshEnabled(e)}};e.QueryManager.prototype.getDataRefreshEnabled=function(){return this.getResultsetContainer(false).getDataRefreshEnabled()};e.QueryManager.prototype.getExecuteRequestOnOldResultSet=function(){return this.getActiveResultSetContainer().getExecuteRequestOnOldResultSet()};e.QueryManager.prototype.getActiveResultSetContainer=function(){return this.getResultsetContainer(false)};e.QueryManager.prototype.getActiveResultSetContainerBase=function(){return this.getResultsetContainer(false)};e.QueryManager.prototype.setActiveResultSetContainer=function(e){this.m_activeContainer=e};e.QueryManager.prototype.getResultSetSyncState=function(){return this.getActiveResultSetContainer().getResultSetSyncState()};e.QueryManager.prototype.getResultSetMessages=function(){return this.getActiveResultSetContainer()};e.QueryManager.prototype.getQueryServiceConfig=function(){return this.getServiceConfig()};e.QueryManager.prototype.getSystemDescription=function(){if(e.isNull(this.m_systemDescription)){var t=this.getInitSettings();var r=t.getSystemDescription();this.m_systemDescription=e.XWeakReferenceUtil.getWeakRef(r)}return e.XWeakReferenceUtil.getHardRef(this.m_systemDescription)};e.QueryManager.prototype.setSystemDescription=function(t){this.m_systemDescription=e.XWeakReferenceUtil.getWeakRef(t)};e.QueryManager.prototype.isDataSourceInitial=function(){return e.isNull(this.m_dataSource)||this.m_dataSource.getType()===null};e.QueryManager.prototype.getDataSourceOrigin=function(){return this.getDataSource()};e.QueryManager.prototype.getDataSourceTarget=function(){return this.getDataSource()};e.QueryManager.prototype.getDataSource=function(){return this.m_dataSource};e.QueryManager.prototype.setDataSource=function(e){this.m_dataSource=e};e.QueryManager.prototype.getMode=function(){if(e.isNull(this.m_mode)){this.m_mode=this.getInitSettings().getMode()}return this.m_mode};e.QueryManager.prototype.setMode=function(e){this.m_mode=e};e.QueryManager.prototype.getInstanceId=function(){return this.getInitSettings().getInstanceId()};e.QueryManager.prototype.getProviderType=function(){return this.getInitSettings().getProviderType()};e.QueryManager.prototype.getDefinition=function(){return this.getInitSettings().getDefinition()};e.QueryManager.prototype.getInitSettings=function(){return this.getServiceConfig()};e.QueryManager.prototype.getSettingsBase=function(){return this.getServiceConfig()};e.QueryManager.prototype.getOlapEnvironmentBase=function(){var t=this.getApplication();return e.isNull(t)?null:t.getOlapEnvironment()};e.QueryManager.prototype.getTagging=function(){return this.getServiceConfig().getTagging()};e.QueryManager.prototype.getSelectionTagging=function(){return null};e.QueryManager.prototype.enableReturnedDataSelection=function(e){this.m_queryModel.toggleReturnedDataSelection(e,true)};e.QueryManager.prototype.getAllEnabledReturnedDataSelections=function(){if(!this.supportsReturnedDataSelection()){return null}return e.XStream.of(this.m_queryModel.getAllEnabledReturnedDataSelectionConstants()).collect(e.XStreamCollector.toListOfString(function(e){return e.getName()}.bind(this)))};e.QueryManager.prototype.disableReturnedDataSelection=function(e){this.m_queryModel.toggleReturnedDataSelection(e,false)};e.QueryManager.prototype.getAllDisabledReturnedDataSelections=function(){if(!this.supportsReturnedDataSelection()){return null}return e.XStream.of(this.m_queryModel.getAllDisabledReturnedDataSelectionConstants()).collect(e.XStreamCollector.toListOfString(function(e){return e.getName()}.bind(this)))};e.QueryManager.prototype.supportsBatchRsStreaming=function(){return this.getCapabilitiesBase().supportsBatchRsStreaming()};e.QueryManager.prototype.supportsBatchBlendingRsStreaming=function(){return this.getCapabilitiesBase().supportsBatchBlendingRsStreaming()};e.QueryManager.prototype.supportsDirectVariableTransfer=function(){return this.getCapabilitiesBase().supportsDirectVariableTransfer()};e.QueryManager.prototype.supportsCheckVariables=function(){return this.getCapabilitiesBase().supportsCheckVariables()};e.QueryManager.prototype.supportsReInitVariables=function(){return this.getCapabilitiesBase().supportsReInitVariables()};e.QueryManager.prototype.supportsVariableMasking=function(){return this.getCapabilitiesBase().supportsVariableMasking()};e.QueryManager.prototype.supportsReturnedDataSelection=function(){return this.getCapabilitiesBase().supportsReturnedDataSelection()};e.QueryManager.prototype.supportsInputReadinessStates=function(){return this.getCapabilitiesBase().supportsInputReadinessStates()};e.QueryManager.prototype.supportsShutdown=function(){return this.getCapabilitiesBase().supportsShutdown()};e.QueryManager.prototype.supportsServerState=function(){return this.getCapabilitiesBase().supportsServerState()};e.QueryManager.prototype.supportsAnalyticCapability=function(t){if(e.XStringUtils.isNullOrEmpty(t)){return false}var r=this.getConnection();if(e.isNull(r)){return false}return r.getSystemConnect().getServerMetadata().supportsAnalyticCapability(t)};e.QueryManager.prototype.supportsMaintainsVariableVariants=function(){return this.getCapabilitiesBase().supportsMaintainsVariableVariants()};e.QueryManager.prototype.registerChangedListener=e.noSupport;e.QueryManager.prototype.unregisterChangedListener=e.noSupport;e.QueryManager.prototype.hasChangedValues=function(){return this.getPlanningManager().hasChangedValues()};e.QueryManager.prototype.hasChangedValueLocks=function(){return this.getPlanningManager().hasChangedValueLocks()};e.QueryManager.prototype.hasChangedCells=function(){return this.getPlanningManager().hasChangedCells()};e.QueryManager.prototype.transferNewValues=function(){this.getPlanningManager().transferNewValues()};e.QueryManager.prototype.resetNewValues=function(){this.getPlanningManager().resetNewValues()};e.QueryManager.prototype.hasNewValues=function(){return this.getPlanningManager().hasNewValues()};e.QueryManager.prototype.setDataEntryReadOnly=function(e){this.getPlanningManager().setDataEntryReadOnly(e)};e.QueryManager.prototype.isDataEntryReadOnly=function(){return this.getPlanningManager().isDataEntryReadOnly()};e.QueryManager.prototype.setDataEntryEnabled=function(e){this.getPlanningManager().setDataEntryEnabled(e)};e.QueryManager.prototype.isDataEntryEnabled=function(){return this.getPlanningManager().isDataEntryEnabled()};e.QueryManager.prototype.initializeDataAreaState=function(){return this.getPlanningManager().initializeDataAreaState()};e.QueryManager.prototype.getPlanningModel=function(){return this.getPlanningManager().getPlanningModel()};e.QueryManager.prototype.getDataArea=function(){return this.getPlanningManager().getDataArea()};e.QueryManager.prototype.createDataAreaCommand=function(t){var r=this.getPlanningManager().getDataArea();var a=null;if(e.isNull(r)){a=e.QLightweightDataAreaCommand.create(this,this.getQueryModelBase(),t)}else{a=r.createPlanningContextCommand(t);a.setConnection(this.getConnection())}return a};e.QueryManager.prototype.createDataAreaCommandRefresh=function(){return this.createDataAreaCommand(e.PlanningContextCommandType.REFRESH)};e.QueryManager.prototype.createDataAreaCommandDocSave=function(){return this.createDataAreaCommand(e.PlanningContextCommandType.DOC_SAVE)};e.QueryManager.prototype.createDataAreaCommandDocReset=function(){return this.createDataAreaCommand(e.PlanningContextCommandType.DOC_RESET)};e.QueryManager.prototype.isPublicVersionEditPossible=function(){return this.getPlanningManager().isPublicVersionEditPossible()};e.QueryManager.prototype.setPublicVersionEditPossible=function(e){this.getPlanningManager().setPublicVersionEditPossible(e)};e.QueryManager.prototype.setVersionAliasById=function(e,t){this.getPlanningManager().setVersionAliasById(e,t)};e.QueryManager.prototype.removeVersionAlias=function(e){this.getPlanningManager().removeVersionAlias(e)};e.QueryManager.prototype.clearVersionAliases=function(){this.getPlanningManager().clearVersionAliases()};e.QueryManager.prototype.getVersionAliases=function(){return this.getPlanningManager().getVersionAliases()};e.QueryManager.prototype.getPlanningVersionIdentifier=function(e,t,r){return this.getPlanningManager().getPlanningVersionIdentifier(e,t,r)};e.QueryManager.prototype.getPlanningVersionSettings=function(e,t,r){return this.getPlanningManager().getPlanningVersionSettings(e,t,r)};e.QueryManager.prototype.getPlanningVersionSettingsSimple=function(e,t,r){return this.getPlanningManager().getPlanningVersionSettingsSimple(e,t,r)};e.QueryManager.prototype.addPlanningVersionSettings=function(e){return this.getPlanningManager().addPlanningVersionSettings(e)};e.QueryManager.prototype.deletePlanningVersionSettings=function(e){return this.getPlanningManager().deletePlanningVersionSettings(e)};e.QueryManager.prototype.getAllPlanningVersionSettings=function(){return this.getPlanningManager().getAllPlanningVersionSettings()};e.QueryManager.prototype.setPlanningVersionSettingsMode=function(e){this.getPlanningManager().setPlanningVersionSettingsMode(e)};e.QueryManager.prototype.getPlanningVersionSettingsMode=function(){return this.getPlanningManager().getPlanningVersionSettingsMode()};e.QueryManager.prototype.getPlanningMode=function(){return this.getPlanningManager().getPlanningMode()};e.QueryManager.prototype.setPlanningMode=function(e){this.getPlanningManager().setPlanningMode(e)};e.QueryManager.prototype.getPlanningRestriction=function(){return this.getPlanningManager().getPlanningRestriction()};e.QueryManager.prototype.setPlanningRestriction=function(e){this.getPlanningManager().setPlanningRestriction(e)};e.QueryManager.prototype.supportsDataEntryReadOnly=function(){return this.getPlanningManager().supportsDataEntryReadOnly()};e.QueryManager.prototype._createPlanningManager=function(){return this.getPlanningManager()!==null};e.QueryManager.prototype.getPlanningManager=function(){if(e.isNull(this.m_planningManager)){this.m_planningManager=e.PlanningFactory.createPlanningManager(this)}return this.m_planningManager};e.QueryManager.prototype.getContext=function(){return this};e.QueryManager.prototype.getOlapEnv=function(){var t=this.getApplication();return e.isNull(t)?null:t.getOlapEnvironment()};e.QueryManager.prototype.getOlapSystemContainer=function(){var e=this.getSystemName();return this.getOlapEnv().getSystemContainer(e)};e.QueryManager.prototype.getQueryManager=function(){return this};e.QueryManager.prototype.getQueryModel=function(){return this.m_queryModel};e.QueryManager.prototype.getQueryModelBase=function(){return this.m_queryModel};e.QueryManager.prototype.getConvenienceCommands=function(){if(e.isNull(this.m_convenienceCmds)){this.m_convenienceCmds=this.getOlapEnv().selectCmds(this)}return this.m_convenienceCmds};e.QueryManager.prototype.getModelCapabilities=function(){this.assertLifeCycleActive();if(e.isNull(this.m_queryModel)){return this.getOlapSystemContainer().getServiceCapabilitiesExt(this.getProviderType())}return this.m_queryModel.getModelCapabilities()};e.QueryManager.prototype.getFieldAccessorSingle=function(){this.assertLifeCycleActive();return e.isNull(this.m_queryModel)?null:this.m_queryModel.getFieldAccessorSingle()};e.QueryManager.prototype.getDimensionAccessor=function(){this.assertLifeCycleActive();return e.isNull(this.m_queryModel)?null:this.m_queryModel.getDimensionAccessor()};e.QueryManager.prototype.getDrillManager=function(){this.assertLifeCycleActive();return e.isNull(this.m_queryModel)?null:this.m_queryModel.getDrillManager()};e.QueryManager.prototype.getCellContextManager=function(){this.assertLifeCycleActive();return e.isNull(this.m_queryModel)?null:this.m_queryModel.getCellContextManager()};e.QueryManager.prototype.isSystemMappingValid=function(e){return this.getSystemDescription().isSystemMappingValid(e.getSystemDescription())};e.QueryManager.prototype.prepareAfterVariables=function(){if(!this.m_hasPreparedAfterVariables){var t=this.getVariableProcessorState();var r=this.hasVariables();if(!r||t===e.VariableProcessorState.SUBMITTED||t===e.VariableProcessorState.CHANGEABLE_DIRECT_VALUE_TRANSFER){var a=this.getInitSettings();var n=a.getDefinitionType();var i=a.getDefinitionAsStructure();if(e.notNull(n)&&e.notNull(i)){var o=e.QueryPreparatorFactory.newInstance(n);if(e.notNull(o)){o.prepareAfterVariables(this,i)}}this.m_hasPreparedAfterVariables=true}}};e.QueryManager.prototype.resetPreparation=function(){this.m_hasPreparedAfterVariables=false};e.QueryManager.prototype.isLightweightSearch=function(){var t=this.getDataSource();return e.notNull(t)&&t.getType()===e.MetaObjectType.CATALOG_VIEW_2};e.QueryManager.prototype.getDimensionsToClone=function(){return this.m_dimensionsToClone};e.QueryManager.prototype.setDimensionsToClone=function(e){this.m_dimensionsToClone=e};e.QueryManager.prototype.getDimensionsRequestedFromClient=function(){return this.m_dimensionsRequestedFromClient};e.QueryManager.prototype.setDimensionsRequestedFromClient=function(e){this.m_dimensionsRequestedFromClient=e};e.QueryManager.prototype.getPreQueryExecutor=function(){if(e.isNull(this.m_preQueryExecutor)){this.m_preQueryExecutor=e.PreQueryExecutor.create(this)}return this.m_preQueryExecutor};e.QueryManager.prototype.enableHierarchyToUDHConversion=function(t){if(this.getSystemType().isTypeOf(e.SystemType.BW)&&this.getModelCapabilities().supportsUniversalDisplayHierarchiesCustomDimensions()){this.m_enableHierarchyToUDHConversion=t;this.invalidateState()}};e.QueryManager.prototype.isHierarchyToUDHConversionEnabled=function(){return this.m_enableHierarchyToUDHConversion};e.QueryManager.prototype.isHierarchyToUDHConversionEnabledForCurrentRs=function(){return this.getActiveResultSetContainer().isHierarchyToUDHConversionEnabled()};e.QueryManager.prototype.setNameForMicroCubeUse=function(t){var r=this.getOlapEnv();var a=r.addMicroCube(this.getSystemName(),t,this);e.XBooleanUtils.checkTrue(a,e.XStringUtils.concatenate2("MicroCube's name is not valid or already exists: ",t));this.m_myNameAsMicroCube=t};e.QueryManager.prototype.getNameForMicroCubeUse=function(){return this.m_myNameAsMicroCube};e.QueryManager.prototype.getKeyRefStorage=e.noSupport;e.QueryManager.prototype.setSuppressCalculatedMembersWithoutBookedData=function(e){this.getResultsetContainer(true).setSuppressCalculatedMembersWithoutBookedData(e)};e.QueryManager.prototype.getSuppressCalculatedMembersWithoutBookedData=function(){return this.getResultsetContainer(false).getSuppressCalculatedMembersWithoutBookedData()};e.QueryManager.prototype.setRequestPerformanceData=function(t){if(this.getSystemType().isTypeOf(e.SystemType.HANA)){this.m_includePerformanceData=e.TriStateBool.lookup(t)}};e.QueryManager.prototype.isRequestingPerformanceData=function(){return this.m_includePerformanceData.getBoolean()===true};e.QueryManager.prototype.getIncludePerformanceData=function(){return this.m_includePerformanceData};e.QueryManager.prototype.assertLifeCycleActive=function(){if(this.m_lifeCycleState!==e.LifeCycleState.ACTIVE&&this.m_lifeCycleState!==e.LifeCycleState.STARTING_UP){throw e.XException.createIllegalStateException("Query manager is not active")}};e.QueryManager.prototype.getLifeCycleState=function(){return this.m_lifeCycleState};e.QueryManager.prototype.setLifeCycleState=function(t){if(t===e.LifeCycleState.TERMINATED&&this.m_lifeCycleState===e.LifeCycleState.RELEASED){return}if(t.getCode()<this.m_lifeCycleState.getCode()){var r=e.XStringBuffer.create();r.append("QueryManager: cannot change lifeCycle from ");r.append(this.m_lifeCycleState.getName()).append(" to ");r.append(t.getName());throw e.XException.createIllegalStateException(r.toString())}this.m_lifeCycleState=t};e.QueryManager.prototype.queueEventing=function(){this.assertLifeCycleActive();if(e.notNull(this.m_queryModel)){this.m_queryModel.queueEventing()}};e.QueryManager.prototype.stopEventing=function(){this.assertLifeCycleActive();if(e.notNull(this.m_queryModel)){this.m_queryModel.stopEventing()}};e.QueryManager.prototype.isEventingStopped=function(){this.assertLifeCycleActive();return e.notNull(this.m_queryModel)&&this.m_queryModel.isEventingStopped()};e.QueryManager.prototype.resumeEventing=function(){this.assertLifeCycleActive();if(e.notNull(this.m_queryModel)){this.m_queryModel.resumeEventing()}};e.QueryManager.prototype.onModelChange=function(t){if(t===e.QDeltaBroadcastPhase.BEFORE_EVENTS_BROADCAST&&!this.getVariableProcessorState().isTypeOf(e.VariableProcessorState.PROCESSING_SUBMIT)){this.getResultsetContainer(true);this.invalidateVisualizationContainers()}};e.QueryManager.prototype.processCancel=function(e){this.getQueryManagerProvider().processProviderCancelThreads(e,null,null)};e.QueryManager.prototype.processClearCache=function(e,t){this.getQueryManagerProvider().processProviderClearCache(e,null,null,t)};e.QueryManager.prototype.processShutdown=function(t,r,a){return e.QmShutdownAction.createAndRun(t,r,a,this)};e.QueryManager.prototype.getVariableProcessor=function(){return this};e.QueryManager.prototype.hasVariables=function(){this.assertLifeCycleActive();return e.notNull(this.m_queryModel)&&this.m_queryModel.hasVariables()};e.QueryManager.prototype.hasInputEnabledVariables=function(){this.assertLifeCycleActive();return e.notNull(this.m_queryModel)&&this.m_queryModel.hasInputEnabledVariables()};e.QueryManager.prototype.hasInputEnabledAndNonTechnicalVariables=function(){this.assertLifeCycleActive();return e.notNull(this.m_queryModel)&&this.m_queryModel.hasInputEnabledAndNonTechnicalVariables()};e.QueryManager.prototype.clearExternalVariablesRepresentations=function(){this.assertLifeCycleActive();this.m_queryModel.clearExternalVariablesRepresentations()};e.QueryManager.prototype.hasMandatoryVariables=function(){this.assertLifeCycleActive();return e.notNull(this.m_queryModel)&&this.m_queryModel.hasMandatoryVariables()};e.QueryManager.prototype.getVariables=function(){this.assertLifeCycleActive();return this.m_queryModel.getVariables()};e.QueryManager.prototype.getInputEnabledVariables=function(){this.assertLifeCycleActive();return this.m_queryModel.getInputEnabledVariables()};e.QueryManager.prototype.getInputEnabledAndNonTechnicalVariables=function(){this.assertLifeCycleActive();return this.m_queryModel.getInputEnabledAndNonTechnicalVariables()};e.QueryManager.prototype.getVariable=function(e){this.assertLifeCycleActive();var t=this.m_queryModel.getVariableManagerBase();return t.getVariableBaseByName(e)};e.QueryManager.prototype.setWinControlInAutoSubmitByType=function(e,t,r){this.assertLifeCycleActive();this.m_queryModel.setWinControlInAutoSubmitByType(e,t,r)};e.QueryManager.prototype.getPreviousVariableProcessorState=function(){return this.m_variableProcessorPreviousState};e.QueryManager.prototype.setPreviousVariableProcessorState=function(e){this.m_variableProcessorPreviousState=e};e.QueryManager.prototype.registerVariableProcessorStateChangedListener=function(t,r){if(e.notNull(t)){if(e.isNull(this.m_processorStateListeners)){this.m_processorStateListeners=e.XList.create()}this.m_processorStateListeners.add(e.ListenerPair.create(t,r))}};e.QueryManager.prototype.unregisterVariableProcessorStateChangedListener=function(t){if(e.notNull(this.m_processorStateListeners)){for(var r=0;r<this.m_processorStateListeners.size();){var a=this.m_processorStateListeners.get(r);if(a.getListener()===t){this.m_processorStateListeners.removeAt(r)}else{r++}}}};e.QueryManager.prototype.setVariableProcessorState=function(t){if(t===e.VariableProcessorState.VALUE_HELP){this.m_variableProcessorPreviousState=t;this.m_variableProcessorState=t}else{if(this.m_variableProcessorState!==t){this.m_variableProcessorPreviousState=this.m_variableProcessorState;this.m_variableProcessorState=t;if(e.notNull(this.m_processorStateListeners)){var r=this.m_processorStateListeners.size();for(var a=0;a<r;a++){var n=this.m_processorStateListeners.get(a);var i=n.getListener();i.onVariableProcessorStateChanged(this,n.getCustomIdentifier())}}}}};e.QueryManager.prototype.getVariableProcessorState=function(){return this.m_variableProcessorState};e.QueryManager.prototype.isSubmitNeeded=function(){return this.getVariableProcessorState().isSubmitNeeded()&&(this.hasVariables()||this.supportsAndAllowsEmptyExtendedVarDefinition())};e.QueryManager.prototype.isReinitNeeded=function(){return this.getVariableProcessorState().isReinitNeeded()&&(this.hasVariables()||this.supportsAndAllowsEmptyExtendedVarDefinition())};e.QueryManager.prototype.isCancelNeeded=function(){return this.getVariableProcessorState().isCancelNeeded()&&(this.hasVariables()||this.supportsAndAllowsEmptyExtendedVarDefinition())};e.QueryManager.prototype.isProcessingAutoSubmit=function(){return this.m_variableProcessorState===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT||this.m_variableProcessorState===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT_AFTER_REINIT};e.QueryManager.prototype.isSubmitted=function(){return this.m_variableProcessorState.isTypeOf(e.VariableProcessorState.SUBMITTED)};e.QueryManager.prototype.returnToPreviousProcessorState=function(){if(this.m_variableProcessorPreviousState===e.VariableProcessorState.PROCESSING_REINIT){this.m_variableProcessorPreviousState=e.VariableProcessorState.CHANGEABLE_REINIT}else if(this.m_variableProcessorPreviousState===e.VariableProcessorState.PROCESSING_SUBMIT||this.m_variableProcessorPreviousState===e.VariableProcessorState.PROCESSING_SUBMIT_AFTER_REINIT||this.m_variableProcessorPreviousState===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT||this.m_variableProcessorPreviousState===e.VariableProcessorState.PROCESSING_AUTO_SUBMIT_AFTER_REINIT){this.m_variableProcessorPreviousState=e.VariableProcessorState.SUBMITTED}if(this.m_variableProcessorPreviousState!==e.VariableProcessorState.CHANGEABLE_REINIT&&this.m_variableProcessorPreviousState!==e.VariableProcessorState.CHANGEABLE_STARTUP&&this.m_variableProcessorPreviousState!==e.VariableProcessorState.SUBMITTED&&this.m_variableProcessorPreviousState!==e.VariableProcessorState.SUBMIT_FAILED&&this.m_variableProcessorPreviousState!==e.VariableProcessorState.VALUE_HELP&&this.m_variableProcessorPreviousState!==e.VariableProcessorState.PROCESSING_EMPTY_VARIABLE_DEFINITION&&this.m_variableProcessorPreviousState!==e.VariableProcessorState.CHANGEABLE_DIRECT_VALUE_TRANSFER){e.XObjectExt.assertNotNullExt(this.m_variableProcessorPreviousState,"Not allowed to return to previous state: [null]");throw e.XException.createIllegalStateException(e.XStringUtils.concatenate2("Not allowed to return to previous state: ",this.m_variableProcessorPreviousState.getName()))}var t=this.m_variableProcessorPreviousState;this.setVariableProcessorState(t);this.m_variableProcessorPreviousState=null};e.QueryManager.prototype.getVariableContainer=function(){return this.getVariableContainerBase()};e.QueryManager.prototype.getVariableContainerBase=function(){return e.isNull(this.m_queryModel)?null:this.m_queryModel.getVariableManagerBase()};e.QueryManager.prototype.reInitVariablesAfterSubmit=function(e,t,r){return this.getVariableProcessorProvider().processReInitVariableAfterSubmit(e,t,r)};e.QueryManager.prototype.submitVariables=function(e,t,r){return this.getVariableProcessorProvider().processVariableSubmit(e,t,r)};e.QueryManager.prototype.cancelReInitVariables=function(e,t,r){return this.getVariableProcessorProvider().processVariableCancel(e,t,r)};e.QueryManager.prototype.isDirectVariableTransferEnabled=function(){return this.m_directVariableTransferConsumer};e.QueryManager.prototype.setDirectVariableTransferEnabled=function(t){if(this.m_directVariableTransferConsumer!==t){if(this.supportsDirectVariableTransfer()){this.m_directVariableTransferConsumer=t;this.getVariableProcessorProvider().setDirectVariableTransfer(t);this.getVariableProcessorProvider().setIsVariableSubmitNeeded(!this.m_directVariableTransferConsumer);if(e.notNull(this.m_queryModel)){this.m_queryModel.notifyNodeChanged()}if(this.m_directVariableTransferConsumer){this.setVariableProcessorState(e.VariableProcessorState.CHANGEABLE_DIRECT_VALUE_TRANSFER)}else{this.setVariableProcessorState(e.VariableProcessorState.CHANGEABLE_REINIT)}}}};e.QueryManager.prototype.checkVariables=function(e,t,r){return this.getVariableProcessorProvider().processCheckVariables(e,t,r)};e.QueryManager.prototype.variablesRequireImplicitSubmitForValueHelp=function(t){if(this.isDirectVariableTransferEnabled()){return false}if(this.isShallow()){return false}var r=e.notNull(t)&&t.getDimensionType().isTypeOf(e.DimensionType.ABSTRACT_STRUCTURE)&&!t.isHierarchyActive();if(this.isExecuteAutoVariableSubmit()&&!(r&&this.getQueryModelBase().getVariableManagerBase().hasVariableByType(e.VariableType.TEXT_VARIABLE))){return false}if(r&&!this.getQueryModelBase().getVariableManagerBase().hasVariableByType(e.VariableType.TEXT_VARIABLE)){return false}return(this.supportsAndAllowsEmptyExtendedVarDefinition()||this.hasVariables())&&!this.isSubmitted()&&!this.isVariableSubmitFailed()};e.QueryManager.prototype.variablesRequireImplicitSubmit=function(){if(this.isDirectVariableTransferEnabled()){return false}if(this.isShallow()){return false}if(this.isExecuteAutoVariableSubmit()){return false}return(this.supportsAndAllowsEmptyExtendedVarDefinition()||this.hasVariables())&&!this.isSubmitted()&&!this.isVariableSubmitFailed()};e.QueryManager.prototype.variablesRequireSACImplicitSubmit=function(){if(this.isDirectVariableTransferEnabled()||this.isShallow()){return false}return(this.supportsAndAllowsEmptyExtendedVarDefinition()||this.hasVariables())&&!this.isSubmitted()&&!this.isVariableSubmitFailed()};e.QueryManager.prototype.isExecuteAutoVariableSubmit=function(){return e.notNull(this.m_queryModel)&&this.getModelCapabilities().supportsAutoVariableSubmit()&&this.getInitSettings().isEnableAutoVariableSubmit()};e.QueryManager.prototype.isVariableSubmitFailed=function(){return this.m_variableProcessorState===e.VariableProcessorState.SUBMIT_FAILED};e.QueryManager.prototype.supportsAndAllowsEmptyExtendedVarDefinition=function(){var t=this.getDataSource().getType();return this.getCapabilitiesBase().supportsExtendedVariableDefinition()&&this.getQueryServiceConfig().getMakeEmptyVariableDefinitionInsteadOfMetadata()&&(e.MetaObjectType.QUERY===t||e.MetaObjectType.DEFAULT_PLAN_QUERY===t||e.MetaObjectType.DEFAULT_REPORT_QUERY===t||e.MetaObjectType.LOCAL_QUERY===t||e.MetaObjectType.QUERY_VIEW===t)};e.QueryManager.prototype.supportsBatchBlendingRsStreamingExt=function(){var t=false;var r=this.getInitSettings();if(r.getMode()===e.QueryManagerMode.BLENDING){t=true}else if(r.getMode()===e.QueryManagerMode.RAW_QUERY){var a=r.getDataRequest();if(e.notNull(a)&&a.containsKey("Analytics")){a=a.getStructureByKey("Analytics");if(a.containsKey("DataSource")){a=a.getStructureByKey("DataSource");if(a.containsKey("Sources")){var n=a.getListByKey("Sources");if(n.size()>0){t=true}}}}}return t?this.supportsBatchBlendingRsStreaming():this.supportsBatchRsStreaming()};e.QueryManager.prototype.getLovManager=function(){if(e.isNull(this.m_lovManager)){this.m_lovManager=e.LovManager.create(this)}return this.m_lovManager};e.QueryManager.prototype.hasLovManager=function(){return e.notNull(this.m_lovManager)};e.QueryManager.prototype.serialize=function(e,t){return this.serializeToStringExt(e,t)};e.QueryManager.prototype.serializeToFormat=function(e){return this.serializeToString(e)};e.QueryManager.prototype.serializeToString=function(t){var r=this.serializeToContentExt(t,null);var a=r.getJsonContent();return e.PrUtils.serialize(a,true,false,0)};e.QueryManager.prototype.serializeToStringExt=function(t,r){var a=this.serializeToContentExt(t,r);var n=a.getJsonContent();return e.PrUtils.serialize(n,true,false,0)};e.QueryManager.prototype.serializeToElement=function(e){return this.serializeToElementExt(e,null)};e.QueryManager.prototype.serializeToElementExt=function(e,t){var r=this.serializeToContentExt(e,t);var a=r.getJsonContent();return a};e.QueryManager.prototype.serializeToContent=function(e){return this.serializeToContentExt(e,null)};e.QueryManager.prototype.serializeToContentExt=function(t,r){var a;var n=r;if(e.isNull(n)&&t.isTypeOf(e.QModelFormat.INA_DATA)){n=this.getModelCapabilities()}var i=null;if(t.isTypeOf(e.QModelFormat.INA_DATA)){i=e.QContextType.RESULT_SET}a=e.QInAExportFactory.create(this.getApplication(),t,n,i);var o=a.exportComponent(null,this,null,e.QImExFlag.DEFAULT_ALL);var s=e.XContent.createJsonObjectContent(t,o);return s};e.QueryManager.prototype.deserializeFromContent=function(e){return this.deserializeFromElementExt(e.getContentType(),e.getJsonContent())};e.QueryManager.prototype.isShallow=function(){var t=this.getInitSettings();var r=t.getMode()===e.QueryManagerMode.RAW_QUERY&&t.getDefinitionType()===e.QModelFormat.INA_CLONE_RENDERING;return t.getDataRequestAsString()!==null&&(this.getQueryModel()===null||r)};e.QueryManager.prototype.isBasedOnVirtualDataSource=function(){return e.XString.isEqual(this.getDataSource().getFullQualifiedName(),e.QModelConstants.UPDATE_DYN_VAR_VIRTUAL_DATASOURCE)};e.QueryManager.prototype.hasMoreColumnRecordsAvailable=function(){return this.getActiveResultSetContainer().hasMoreColumnRecordsAvailable()};e.QueryManager.prototype.hasMoreRowRecordsAvailable=function(){return this.getActiveResultSetContainer().hasMoreRowRecordsAvailable()};e.QueryManager.prototype.getInputEnabledVariable=function(e){return this.getVariableContainer().getInputEnabledVariable(e)};e.QueryManager.prototype.getHierarchyNodeVariable=function(e){return this.getVariableContainer().getHierarchyNodeVariable(e)};e.QueryManager.prototype.getHierarchyNameVariable=function(e){return this.getVariableContainer().getHierarchyNameVariable(e)};e.QueryManager.prototype.getHierarchyNameVariables=function(){return this.getVariableContainer().getHierarchyNameVariables()};e.QueryManager.prototype.getDimensionMemberVariables=function(){return this.getVariableContainer().getDimensionMemberVariables()};e.QueryManager.prototype.getVariableMode=function(){if(this.getVariableProcessorProvider().isDirectVariableTransfer()){return e.VariableMode.DIRECT_VALUE_TRANSFER}return e.VariableMode.SUBMIT_AND_REINIT};e.QueryManager.prototype.setCacheHintEnabled=function(e){this.m_cacheHintsEnabled=e};e.QueryManager.prototype.isCacheHintEnabled=function(){return this.m_cacheHintsEnabled};e.QueryManager.prototype.getSystemName=function(){var t=this.getSystemDescription();if(e.isNull(t)){return null}return t.getSystemName()};e.QueryManager.prototype.getSystemType=function(){return this.getSystemDescription().getSystemType()};e.QueryManager.prototype.setIsMetadataCached=function(e){this.m_isMetadataCached=e};e.QueryManager.prototype.isMetadataCached=function(){return this.m_isMetadataCached};e.QueryManager.prototype.getPreQueryName=function(){return this.m_preQueryName};e.QueryManager.prototype.setPreQueryName=function(e){this.m_preQueryName=e};e.QueryManager.prototype.isSuppressExitVariableValuesInRepoMode=function(){return this.m_suppressExitVariableValues};e.QueryManager.prototype.setSuppressExitVariableValuesInRepoMode=function(e){this.m_suppressExitVariableValues=e};e.QueryManager.prototype.getQueryManagerProvider=e.noSupport;e.QueryManager.prototype.getVariableProcessorProvider=e.noSupport;e.QueryManager.prototype.isUpdatingDataRequestCapabilities=e.noSupport;e.QueryManager.prototype.setUpdatingDataRequestCapabilities=e.noSupport;e.QueryManager.prototype.getVariableVariantByName=e.noSupport;e.QueryManager.prototype.processModelInitialization=e.noSupport;e.QueryManager.prototype.processModelInitializationAndApplyRepoState=e.noSupport;e.QueryManager.prototype.loadQueryModel=e.noSupport;e.QueryManager.prototype.getRriTargetManager=e.noSupport;e.QueryManager.prototype.cloneQueryManagerUsingExtDataSource=e.noSupport;e.QueryManager.prototype.setDeserializationStructureAsNull=e.noSupport;e.QueryManager.prototype.setNoVariableSubmitResponse=e.noSupport;e.QueryManager.prototype.processBLOB=e.noSupport;e.QueryManager.prototype.processUpdateRuntimeBlendQueryFromDependentQueries=e.noSupport;e.QueryManager.prototype.getResourcePath=e.noSupport;e.QueryManager.prototype.getResourceDetailsFromResourceIdentifier=e.noSupport;e.QueryManager.prototype.recordingStateOfQueryManager=e.noSupport;e.QueryManager.prototype.applyingStateOnQueryManager=e.noSupport;e.QueryManager.prototype.applyRSFeatureRequest=e.noSupport;e.QueryManager.prototype.setClientQueryObjectMigrationStorageName=function(e){this.m_clientQueryObjectStorageName=e};e.QueryManager.prototype.getClientQueryObjectMigrationStorageName=function(){return this.m_clientQueryObjectStorageName};e.QueryManager.prototype.setClientQueryObjectStorageName=function(e){this.m_clientQueryObjectStorageName=e};e.QueryManager.prototype.getClientQueryObjectStorageName=function(){return this.m_clientQueryObjectStorageName};e.QueryManager.prototype.getDataRequestAsString=e.noSupport;e.QueryManager.prototype.getDataRequest=e.noSupport;e.QueryManager.prototype.emptyVariableDefinition=e.noSupport;e.QueryManager.prototype.activateVariableVariant=e.noSupport;e.QueryManager.prototype.deleteVariableVariant=e.noSupport;e.QueryManager.prototype.updateVariableVariantValues=e.noSupport;e.QueryManager.prototype.saveVariableVariant=e.noSupport;e.QueryManager.prototype.transferVariables=e.noSupport;e.QueryManager.prototype.transferVariablesByVariable=e.noSupport;e.QueryManager.prototype.updateDynamicVariables=e.noSupport;e.QueryManager.prototype.resetExitOrUpdateDynamicVariable=e.noSupport;e.QueryManager.prototype.getVariableVariants=e.noSupport;e.QueryManager.prototype.getValueHelpProvider=e.noSupport;e.QueryManager.prototype.setValueHelpProvider=e.noSupport;e.QueryManager.prototype.applyState=e.noSupport;e.QueryManager.prototype.recordState=e.noSupport;e.QueryManager.prototype.getMessageManager=e.noSupport;e.QueryManager.prototype.addVariableVariant=e.noSupport;e.QueryManager.prototype.removeVariableVariant=e.noSupport;e.QueryManager.prototype.clearVariableVariants=e.noSupport;e.QueryManager.prototype.applyValueHelpCapabilities=e.noSupport;e.QueryManager.prototype.getCapabilitiesBase=e.noSupport;e.QueryManager.prototype.createCustomHierarchyProvider=e.noSupport;e.QueryManager.prototype.getResultSetProviderFactory=e.noSupport;e.QueryManager.prototype.deserializeExt=e.noSupport;e.QueryManager.prototype.deserializeFromElementExt=function(e,t){return this.getQueryModel().deserializeFromElementExt(e,t)};e.QueryManager.prototype.deserializeNewComponentExt=e.noSupport;e.QueryManager.prototype.deserializeNewComponentFromElementExt=e.noSupport;e.QueryManager.prototype.updateQueryManager=e.noSupport;e.QueryManager.prototype.isIncludePerformanceNotDefault=e.noSupport;e.QueryManager.prototype.isApplyingRepoState=e.noSupport;e.QueryManager.prototype.getName=function(){return e.isNull(this.m_name)?this.getInstanceId():this.m_name};e.QueryManager.prototype.setName=function(t){e.XStringUtils.checkStringNotEmpty(t,"Name of query manager must be a valid string");var r=this.getOlapEnvironmentBase();if(!e.XString.isEqual(t,this.m_name)){if(r.containsQueryManagerWithName(t)){throw e.XException.createIllegalArgumentException(e.XStringUtils.concatenate2("Olap Environment already contains Query Manager with name:",t))}r.unregisterQueryManager(this);this.m_name=t;r.registerQueryManager(this)}};e.QueryManager.prototype.isKeyRefSerializationEnabled=function(){return this.m_keyRefSerializationEnabled};e.QueryManager.prototype.setkeyRefSerializationEnabled=function(e){this.m_keyRefSerializationEnabled=e};e.QueryManager.prototype.getStorageGroupName=function(){return null};e.QueryManager.prototype.getStorageName=function(){return null};e.QueryManager.prototype.getStorageObjectName=function(){return null};e.QueryManager.prototype.getChangedProperties=function(){return null};e.QueryManager.prototype.setChangedProperties=e.noSupport;e.QueryManager.prototype.getChangedPropertiesInDetail=function(){return null};e.QueryManager.prototype.getModCounterState=function(){if(e.isNull(this.m_modCounterState)){this.m_modCounterState=e.ModCounterState.create(this)}return this.m_modCounterState};e.QueryManager.prototype.setUseSavedPromptsForExitVariables=function(e){this.m_disableExitVariables=e};e.QueryManager.prototype.isUsingSavedPromptsForExitVariables=function(){return this.m_disableExitVariables};e.QueryManager.prototype.canMaterializeCompleteObject=function(){return false};e.QueryManager.prototype.canHaveExtensions=function(){return false};e.QueryManager.prototype.attachQueryExecutedListener=function(t,r){this.m_queryExecutedListener.put(t,e.XPair.create(t,r))};e.QueryManager.prototype.detachQueryExecutedListener=function(e){this.m_queryExecutedListener.remove(e)};e.QueryManager.prototype.attachBeforeQueryExecutionListener=function(t,r){this.m_beforeQueryExecutionListener.put(t,e.XPair.create(t,r))};e.QueryManager.prototype.detachBeforeQueryExecutionListener=function(e){this.m_beforeQueryExecutionListener.remove(e)};e.QueryManager.prototype.prepareMergeCandidate=e.noSupport;e.OlapVarImmediateCallback=function(){};e.OlapVarImmediateCallback.prototype=new e.QOlapSyncAction;e.OlapVarImmediateCallback.prototype._ff_c="OlapVarImmediateCallback";e.OlapVarImmediateCallback.createAndRun=function(t,r,a){var n=new e.OlapVarImmediateCallback;n.setupActionAndRun(t,r,a,null);return n};e.OlapVarImmediateCallback.createAndRunError=function(t,r,a,n,i){var o=new e.OlapVarImmediateCallback;o.m_errorMessage=r;o.m_errorCode=t;o.setupActionAndRun(a,n,i,null);return o};e.OlapVarImmediateCallback.prototype.m_errorMessage=null;e.OlapVarImmediateCallback.prototype.m_errorCode=0;e.OlapVarImmediateCallback.prototype.isSuccessfullyProcessed=function(){return this.isValid()};e.OlapVarImmediateCallback.prototype.callListener=function(t,r,a,n){if(e.XStringUtils.isNotNullAndNotEmpty(this.m_errorMessage)){this.addError(this.m_errorCode,this.m_errorMessage)}r.onVariableProcessorExecuted(this,this,n)};e.AbstractBlendableQueryManager=function(){};e.AbstractBlendableQueryManager.prototype=new e.QModelComponent;e.AbstractBlendableQueryManager.prototype._ff_c="AbstractBlendableQueryManager";e.AbstractBlendableQueryManager.prototype.m_primaryDatasetId=null;e.AbstractBlendableQueryManager.prototype.m_queryManagers=null;e.AbstractBlendableQueryManager.prototype.m_activeContainer=null;e.AbstractBlendableQueryManager.prototype.m_clientQueryObjectStorageName=null;e.AbstractBlendableQueryManager.prototype.getOlapComponentType=function(){return e.OlapComponentType.BLENDABLE_QUERY_MANAGER};e.AbstractBlendableQueryManager.prototype.setupBlendingManager=function(t){this.setupModelComponent(t,null);this.m_queryManagers=e.XLinkedHashMapByString.create();this.m_primaryDatasetId=null};e.AbstractBlendableQueryManager.prototype.copyFromInternal=e.noSupport;e.AbstractBlendableQueryManager.prototype.clearCache=function(){this.m_primaryDatasetId=null;this.m_queryManagers=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_queryManagers);this.m_activeContainer=e.XObjectExt.release(this.m_activeContainer)};e.AbstractBlendableQueryManager.prototype.releaseObject=function(){this.clearCache();e.QModelComponent.prototype.releaseObject.call(this)};e.AbstractBlendableQueryManager.prototype.getPrimaryQueryManager=function(){return this.getQueryManagerByDatasetId(this.m_primaryDatasetId)};e.AbstractBlendableQueryManager.prototype.getSecondaryQueryManagers=function(){var t=this.getAllQueryManagers();var r=e.XList.create();var a=t.getIterator();while(a.hasNext()){var n=a.next();if(!e.XString.isEqual(n.getQueryModel().getDatasetId(),this.m_primaryDatasetId)){r.add(n)}}return r};e.AbstractBlendableQueryManager.prototype.getAllQueryManagers=function(){return this.m_queryManagers.getValuesAsReadOnlyList()};e.AbstractBlendableQueryManager.prototype.getQueryManagerByDatasetId=function(e){return this.m_queryManagers.getByKey(e)};e.AbstractBlendableQueryManager.prototype.setPrimaryQueryManager=function(e){this.addQueryManager(e);this.m_primaryDatasetId=e.getQueryModel().getDatasetId()};e.AbstractBlendableQueryManager.prototype.addSecondaryQueryManager=function(e){this.addQueryManager(e)};e.AbstractBlendableQueryManager.prototype.addQueryManager=function(t){var r=t.getQueryModel().getDatasetId();if(e.isNull(r)){throw e.XException.createIllegalArgumentException("The query manager requires a datasetId.")}this.m_queryManagers.put(r,t);t.getQueryModel().addSecondaryParent(this);t.getTagging().put(e.QStateConstants.TAG_UNDO_IGNORE,"")};e.AbstractBlendableQueryManager.prototype.cloneQueryManagerExt=function(e){var t=this.newBlendableQueryManager();t.setupBlendingManager(this.getContext());t.setupClone(this,e,null);return t};e.AbstractBlendableQueryManager.prototype.cloneQueryManagerOptimized=function(t){var r=this.newBlendableQueryManager();r.setupBlendingManager(this.getContext());r.setupClone(this,e.QueryCloneMode.CURRENT_STATE,null);return r};e.AbstractBlendableQueryManager.prototype.cloneQueryManager=function(){return this.cloneQueryManagerExt(e.QueryCloneMode.CURRENT_STATE)};e.AbstractBlendableQueryManager.prototype.setupClone=function(e,t,r){var a=e;this.m_primaryDatasetId=a.m_primaryDatasetId;this.m_clientQueryObjectStorageName=a.m_clientQueryObjectStorageName;this.m_queryManagers.clear();var n=a.getAllQueryManagers();for(var i=0;i<n.size();i++){var o=n.get(i);var s=o.cloneQueryManagerExt(t);this.m_queryManagers.put(o.getQueryModel().getDatasetId(),s)}};e.AbstractBlendableQueryManager.prototype.cloneQueryManagerUsingExtDataSource=function(t,r){var a=this.getQueryManager();var n=null;if(e.notNull(a)){n=a.cloneQueryManagerUsingExtDataSource(t,r)}return n};e.AbstractBlendableQueryManager.prototype.cloneQueryManagerBase=function(e){return this.cloneQueryManagerExt(e)};e.AbstractBlendableQueryManager.prototype.getQueryManager=function(){return this.getPrimaryQueryManager()};e.AbstractBlendableQueryManager.prototype.getQueryModel=function(){var t=this.getQueryManagerByDatasetId(this.m_primaryDatasetId);var r=null;if(e.notNull(t)){r=t.getQueryModel()}return r};e.AbstractBlendableQueryManager.prototype.getContext=function(){return this};e.AbstractBlendableQueryManager.prototype.getModelCapabilities=function(){var t=this.getQueryManagerByDatasetId(this.m_primaryDatasetId);var r=null;if(e.notNull(t)){r=t.getModelCapabilities()}return r};e.AbstractBlendableQueryManager.prototype.supportsServerState=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.supportsServerState()}return r};e.AbstractBlendableQueryManager.prototype.supportsReturnedDataSelection=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.supportsReturnedDataSelection()}return r};e.AbstractBlendableQueryManager.prototype.supportsShutdown=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.supportsShutdown()}return r};e.AbstractBlendableQueryManager.prototype.supportsInputReadinessStates=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.supportsInputReadinessStates()}return r};e.AbstractBlendableQueryManager.prototype.supportsBatchRsStreaming=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.supportsBatchRsStreaming()}return r};e.AbstractBlendableQueryManager.prototype.supportsBatchBlendingRsStreaming=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.supportsBatchBlendingRsStreaming()}return r};e.AbstractBlendableQueryManager.prototype.supportsAnalyticCapability=function(t){var r=this.getQueryManager();var a=false;if(e.notNull(r)){a=r.supportsAnalyticCapability(t)}return a};e.AbstractBlendableQueryManager.prototype.applyValueHelpCapabilities=function(){this.getQueryManagerBase().applyValueHelpCapabilities()};e.AbstractBlendableQueryManager.prototype.getCapabilitiesBase=function(){return this.getQueryManagerBase().getCapabilitiesBase()};e.AbstractBlendableQueryManager.prototype.processModelInitialization=e.noSupport;e.AbstractBlendableQueryManager.prototype.processModelInitializationAndApplyRepoState=e.noSupport;e.AbstractBlendableQueryManager.prototype.loadQueryModel=e.noSupport;e.AbstractBlendableQueryManager.prototype.processShutdown=function(t,r,a){var n=this.getQueryManager();var i=null;if(e.notNull(n)){i=n.processShutdown(t,r,a)}return i};e.AbstractBlendableQueryManager.prototype.processClearCache=function(t,r){var a=this.getQueryManager();if(e.notNull(a)){a.processClearCache(t,r)}};e.AbstractBlendableQueryManager.prototype.processCancel=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.processCancel(t)}};e.AbstractBlendableQueryManager.prototype.processQueryExecutionAsBlendingSource=e.noSupport;e.AbstractBlendableQueryManager.prototype.retriggerQueryExecutionWithCustomHierarchies=e.noSupport;e.AbstractBlendableQueryManager.prototype.processQueryExecutionAsRemotePreQuery=function(e,t,r){return this.getQueryManagerBase().processQueryExecutionAsRemotePreQuery(e,t,r)};e.AbstractBlendableQueryManager.prototype.processQueryExecutionAsLovProcess=function(e,t,r,a){return this.getQueryManagerBase().processQueryExecutionAsLovProcess(e,t,r,a)};e.AbstractBlendableQueryManager.prototype.createCustomHierarchyProvider=function(e,t){return this.getQueryManagerBase().createCustomHierarchyProvider(e,t)};e.AbstractBlendableQueryManager.prototype.processUpdateRuntimeBlendQueryFromDependentQueries=e.noSupport;e.AbstractBlendableQueryManager.prototype.setRequestPerformanceData=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setRequestPerformanceData(t)}};e.AbstractBlendableQueryManager.prototype.isRequestingPerformanceData=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.isRequestingPerformanceData()}return r};e.AbstractBlendableQueryManager.prototype.isUpdatingDataRequestCapabilities=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.isUpdatingDataRequestCapabilities()}return r};e.AbstractBlendableQueryManager.prototype.setUpdatingDataRequestCapabilities=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setRequestPerformanceData(t)}};e.AbstractBlendableQueryManager.prototype.setPreQueryName=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setPreQueryName(t)}};e.AbstractBlendableQueryManager.prototype.getPreQueryName=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getPreQueryName()}return r};e.AbstractBlendableQueryManager.prototype.getVariableVariantByName=function(t){var r=this.getQueryManager();var a=null;if(e.notNull(r)){a=r.getVariableVariantByName(t)}return a};e.AbstractBlendableQueryManager.prototype.enableReturnedDataSelection=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.enableReturnedDataSelection(t)}};e.AbstractBlendableQueryManager.prototype.disableReturnedDataSelection=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.disableReturnedDataSelection(t)}};e.AbstractBlendableQueryManager.prototype.getAllEnabledReturnedDataSelections=function(){var t=this.getQueryManager();var r=e.XListOfString.create();if(e.notNull(t)){r=t.getAllEnabledReturnedDataSelections()}return r};e.AbstractBlendableQueryManager.prototype.getAllDisabledReturnedDataSelections=function(){var t=this.getQueryManager();var r=e.XListOfString.create();if(e.notNull(t)){r=t.getAllDisabledReturnedDataSelections()}return r};e.AbstractBlendableQueryManager.prototype.updateQueryManager=function(t,r){var a=this.getQueryManager();if(e.notNull(a)){a.updateQueryManager(t,r)}};e.AbstractBlendableQueryManager.prototype.invalidateState=function(){var t=this.getQueryManager();if(e.notNull(t)){t.invalidateState()}this.getResultsetContainer(true)};e.AbstractBlendableQueryManager.prototype.getMetadataModel=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getMetadataModel()}return r};e.AbstractBlendableQueryManager.prototype.getRriTargetManager=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getRriTargetManager()}return r};e.AbstractBlendableQueryManager.prototype.setSuppressExitVariableValuesInRepoMode=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setSuppressExitVariableValuesInRepoMode(t)}};e.AbstractBlendableQueryManager.prototype.isSuppressExitVariableValuesInRepoMode=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.isSuppressExitVariableValuesInRepoMode()}return r};e.AbstractBlendableQueryManager.prototype.isSystemMappingValid=function(t){var r=this.getQueryManager();var a=false;if(e.notNull(r)){a=r.isSystemMappingValid(t)}return a};e.AbstractBlendableQueryManager.prototype.setIsMetadataCached=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setIsMetadataCached(t)}};e.AbstractBlendableQueryManager.prototype.setDeserializationStructureAsNull=function(){var t=this.getQueryManager();if(e.notNull(t)){t.setDeserializationStructureAsNull()}};e.AbstractBlendableQueryManager.prototype.setNoVariableSubmitResponse=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setNoVariableSubmitResponse(t)}};e.AbstractBlendableQueryManager.prototype.getPreQueryExecutor=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getPreQueryExecutor()}return r};e.AbstractBlendableQueryManager.prototype.processBLOB=function(t,r,a,n){var i=this.getQueryManager();var o=null;if(e.notNull(i)){o=i.processBLOB(t,r,a,n)}return o};e.AbstractBlendableQueryManager.prototype.getResourcePath=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getResourcePath()}return r};e.AbstractBlendableQueryManager.prototype.getResourceDetailsFromResourceIdentifier=function(t){var r=this.getQueryManager();var a=null;if(e.notNull(r)){a=r.getResourceDetailsFromResourceIdentifier(t)}return a};e.AbstractBlendableQueryManager.prototype.enableHierarchyToUDHConversion=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.enableHierarchyToUDHConversion(t)}};e.AbstractBlendableQueryManager.prototype.isHierarchyToUDHConversionEnabled=function(){var t=this.getQueryManager();return e.notNull(t)&&t.isHierarchyToUDHConversionEnabled()};e.AbstractBlendableQueryManager.prototype.isHierarchyToUDHConversionEnabledForCurrentRs=function(){var t=this.getQueryManager();return e.notNull(t)&&t.isHierarchyToUDHConversionEnabledForCurrentRs()};e.AbstractBlendableQueryManager.prototype.isShallow=function(){return false};e.AbstractBlendableQueryManager.prototype.supportsAndAllowsEmptyExtendedVarDefinition=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.supportsAndAllowsEmptyExtendedVarDefinition()}return r};e.AbstractBlendableQueryManager.prototype.getNameForMicroCubeUse=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getNameForMicroCubeUse()}return r};e.AbstractBlendableQueryManager.prototype.setNameForMicroCubeUse=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setNameForMicroCubeUse(t)}};e.AbstractBlendableQueryManager.prototype.recordingStateOfQueryManager=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.recordingStateOfQueryManager()}return r};e.AbstractBlendableQueryManager.prototype.applyingStateOnQueryManager=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.applyingStateOnQueryManager()}return r};e.AbstractBlendableQueryManager.prototype.setCacheHintEnabled=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setCacheHintEnabled(t)}};e.AbstractBlendableQueryManager.prototype.isCacheHintEnabled=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.isCacheHintEnabled()}return r};e.AbstractBlendableQueryManager.prototype.resetPreparation=function(){var t=this.getQueryManager();if(e.notNull(t)){t.resetPreparation()}};e.AbstractBlendableQueryManager.prototype.getLovManager=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getLovManager()}return r};e.AbstractBlendableQueryManager.prototype.setDataSource=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setDataSource(t)}};e.AbstractBlendableQueryManager.prototype.applyRSFeatureRequest=function(){var t=this.getQueryManager();if(e.notNull(t)){t.applyRSFeatureRequest()}};e.AbstractBlendableQueryManager.prototype.getInitSettings=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getInitSettings()}return r};e.AbstractBlendableQueryManager.prototype.setClientQueryObjectMigrationStorageName=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setClientQueryObjectStorageName(t)}};e.AbstractBlendableQueryManager.prototype.getClientQueryObjectMigrationStorageName=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getClientQueryObjectStorageName()}return r};e.AbstractBlendableQueryManager.prototype.setClientQueryObjectStorageName=function(e){this.m_clientQueryObjectStorageName=e};e.AbstractBlendableQueryManager.prototype.getClientQueryObjectStorageName=function(){return this.m_clientQueryObjectStorageName};e.AbstractBlendableQueryManager.prototype.getDataRequestAsString=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getDataRequestAsString()}return r};e.AbstractBlendableQueryManager.prototype.getDataRequest=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getDataRequest()}return r};e.AbstractBlendableQueryManager.prototype.getPlanningManager=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getPlanningManager()}return r};e.AbstractBlendableQueryManager.prototype.isKeyRefSerializationEnabled=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.isKeyRefSerializationEnabled()}return r};e.AbstractBlendableQueryManager.prototype.setkeyRefSerializationEnabled=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setkeyRefSerializationEnabled(t)}};e.AbstractBlendableQueryManager.prototype.getLifeCycleState=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getLifeCycleState()}return r};e.AbstractBlendableQueryManager.prototype.getInstanceId=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getInstanceId()}return r};e.AbstractBlendableQueryManager.prototype.applyState=function(t,r,a,n){var i=this.getQueryManager();var o=null;if(e.notNull(i)){o=i.applyState(t,r,a,n)}return o};e.AbstractBlendableQueryManager.prototype.recordState=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.recordState()}return r};e.AbstractBlendableQueryManager.prototype.getMode=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getInitSettings().getMode()}return r};e.AbstractBlendableQueryManager.prototype.getProviderType=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getInitSettings().getProviderType()}return r};e.AbstractBlendableQueryManager.prototype.getDefinition=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getInitSettings().getDefinition()}return r};e.AbstractBlendableQueryManager.prototype.isDataSourceInitial=function(){return this.getQueryManagerBase().isDataSourceInitial()};e.AbstractBlendableQueryManager.prototype.getIncludePerformanceData=function(){return this.getQueryManagerBase().getIncludePerformanceData()};e.AbstractBlendableQueryManager.prototype.getValueHelpProvider=function(){return this.getQueryManagerBase().getValueHelpProvider()};e.AbstractBlendableQueryManager.prototype.setValueHelpProvider=function(e){this.getQueryManagerBase().setValueHelpProvider(e)};e.AbstractBlendableQueryManager.prototype.isIncludePerformanceNotDefault=function(){return this.getQueryManagerBase().isIncludePerformanceNotDefault()};e.AbstractBlendableQueryManager.prototype.isApplyingRepoState=function(){return this.getQueryManagerBase().isApplyingRepoState()};e.AbstractBlendableQueryManager.prototype.hasLovManager=function(){return this.getQueryManagerBase().hasLovManager()};e.AbstractBlendableQueryManager.prototype.isBasedOnVirtualDataSource=function(){return false};e.AbstractBlendableQueryManager.prototype.setLifeCycleState=function(e){this.getQueryManagerBase().setLifeCycleState(e)};e.AbstractBlendableQueryManager.prototype.onModelChange=function(e){this.getQueryManagerBase().onModelChange(e)};e.AbstractBlendableQueryManager.prototype.getDimensionsToClone=function(){return this.getQueryManagerBase().getDimensionsToClone()};e.AbstractBlendableQueryManager.prototype.getDimensionsRequestedFromClient=function(){return this.getQueryManagerBase().getDimensionsRequestedFromClient()};e.AbstractBlendableQueryManager.prototype.isMetadataCached=function(){return this.getQueryManagerBase().isMetadataCached()};e.AbstractBlendableQueryManager.prototype.setupQueryModel=function(){return this.getQueryManagerBase().setupQueryModel()};e.AbstractBlendableQueryManager.prototype.getMetadataModelBase=function(){return this.getQueryManagerBase().getMetadataModelBase()};e.AbstractBlendableQueryManager.prototype.isLightweightSearch=function(){return this.getQueryManagerBase().isLightweightSearch()};e.AbstractBlendableQueryManager.prototype.getMessageManager=function(){return this.getQueryManagerBase()};e.AbstractBlendableQueryManager.prototype.isValid=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.isValid()}return r};e.AbstractBlendableQueryManager.prototype.hasErrors=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.hasErrors()}return r};e.AbstractBlendableQueryManager.prototype.hasWarnings=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.hasWarnings()}return r};e.AbstractBlendableQueryManager.prototype.getNumberOfErrors=function(){var t=this.getQueryManager();var r=0;if(e.notNull(t)){r=t.getNumberOfErrors()}return r};e.AbstractBlendableQueryManager.prototype.getNumberOfWarnings=function(){var t=this.getQueryManager();var r=0;if(e.notNull(t)){r=t.getNumberOfWarnings()}return r};e.AbstractBlendableQueryManager.prototype.hasSeverity=function(t){var r=this.getQueryManager();var a=false;if(e.notNull(r)){a=r.hasSeverity(t)}return a};e.AbstractBlendableQueryManager.prototype.getNumberOfSeverity=function(t){var r=this.getQueryManager();var a=0;if(e.notNull(r)){a=r.getNumberOfSeverity(t)}return a};e.AbstractBlendableQueryManager.prototype.getFirstWithSeverity=function(t){var r=this.getQueryManager();var a=null;if(e.notNull(r)){a=r.getFirstWithSeverity(t)}return a};e.AbstractBlendableQueryManager.prototype.getErrors=function(){var t=this.getQueryManager();var r=e.XList.create();if(e.notNull(t)){r=t.getErrors()}return r};e.AbstractBlendableQueryManager.prototype.getWarnings=function(){var t=this.getQueryManager();var r=e.XList.create();if(e.notNull(t)){r=t.getWarnings()}return r};e.AbstractBlendableQueryManager.prototype.getInfos=function(){var t=this.getQueryManager();var r=e.XList.create();if(e.notNull(t)){r=t.getInfos()}return r};e.AbstractBlendableQueryManager.prototype.getSemanticalErrors=function(){var t=this.getQueryManager();var r=e.XList.create();if(e.notNull(t)){r=t.getSemanticalErrors()}return r};e.AbstractBlendableQueryManager.prototype.getMessages=function(){var t=this.getQueryManager();var r=e.XList.create();if(e.notNull(t)){r=t.getMessages()}return r};e.AbstractBlendableQueryManager.prototype.containsCode=function(t,r){var a=this.getQueryManager();var n=false;if(e.notNull(a)){n=a.containsCode(t,r)}return n};e.AbstractBlendableQueryManager.prototype.getMessage=function(t,r){var a=this.getQueryManager();var n=null;if(e.notNull(a)){n=a.getMessage(t,r)}return n};e.AbstractBlendableQueryManager.prototype.getFirstError=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getFirstError()}return r};e.AbstractBlendableQueryManager.prototype.getRootProfileNode=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getRootProfileNode()}return r};e.AbstractBlendableQueryManager.prototype.getSummary=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getSummary()}return r};e.AbstractBlendableQueryManager.prototype.getClientStatusCode=function(){var t=this.getQueryManager();var r=0;if(e.notNull(t)){r=t.getClientStatusCode()}return r};e.AbstractBlendableQueryManager.prototype.getServerStatusCode=function(){var t=this.getQueryManager();var r=0;if(e.notNull(t)){r=t.getServerStatusCode()}return r};e.AbstractBlendableQueryManager.prototype.getServerStatusDetails=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getServerStatusDetails()}return r};e.AbstractBlendableQueryManager.prototype.getOlapSystemContainer=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getOlapSystemContainer()}return r};e.AbstractBlendableQueryManager.prototype.getServiceConfig=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getServiceConfig()}return r};e.AbstractBlendableQueryManager.prototype.getQueryServiceConfig=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getQueryServiceConfig()}return r};e.AbstractBlendableQueryManager.prototype.getSystemDescription=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getSystemDescription()}return r};e.AbstractBlendableQueryManager.prototype.getSystemType=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getSystemType()}return r};e.AbstractBlendableQueryManager.prototype.getSystemName=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getSystemName()}return r};e.AbstractBlendableQueryManager.prototype.getConnection=function(){return this.getQueryManagerBase().getConnection()};e.AbstractBlendableQueryManager.prototype.setSystemDescription=function(e){this.getQueryManagerBase().setSystemDescription(e)};e.AbstractBlendableQueryManager.prototype.processQueryExecution=function(e,t,r){return this.getResultsetContainer(false).processExecution(e,t,r)};e.AbstractBlendableQueryManager.prototype.getResultsetContainer=function(t){if(e.isNull(this.m_activeContainer)||this.m_activeContainer.isReleased()||t&&this.m_activeContainer.getSyncState()!==e.SyncState.OUT_OF_SYNC){var r=null;var a=null;if(e.notNull(this.m_activeContainer)&&!this.m_activeContainer.isReleased()){var n=this.m_activeContainer;var i=n.getRuntimeQueryManager();if(e.notNull(i)){if(i.getInitSettings().getMode()===e.QueryManagerMode.BLENDING){r=i;r.invalidateState()}}}var o=this.m_activeContainer;var s=this.m_activeContainer;if(e.notNull(s)&&s.getBlendingProcess()!==null){a=s.getBlendingProcess().getLastModCounterState()}this.m_activeContainer=e.BlendableResultSetContainer.createBlendableResultSetContainer(this,r,a);if(e.notNull(o)){o.setSerializedData(null,null)}}return this.m_activeContainer};e.AbstractBlendableQueryManager.prototype.assertLifeCycleActive=function(){if(this.getLifeCycleState()!==e.LifeCycleState.ACTIVE&&this.getLifeCycleState()!==e.LifeCycleState.STARTING_UP){throw e.XException.createIllegalStateException("Query manager is not active")}};e.AbstractBlendableQueryManager.prototype.getClassicResultSet=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getClassicResultSet()};e.AbstractBlendableQueryManager.prototype.isClassicResultSetAvailable=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().isClassicResultSetAvailable()};e.AbstractBlendableQueryManager.prototype.getCursorResultSet=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getCursorResultSet()};e.AbstractBlendableQueryManager.prototype.getAbstractRendering=function(e,t){this.assertLifeCycleActive();return this.getActiveResultSetContainer().getAbstractRendering(e,t)};e.AbstractBlendableQueryManager.prototype.isCursorResultSetAvailable=function(){this.assertLifeCycleActive();return this.getActiveResultSetContainer().isCursorResultSetAvailable()};e.AbstractBlendableQueryManager.prototype.setOffsetRows=function(e){if(this.getResultsetContainer(false).getOffsetRows()!==e){this.getResultsetContainer(true).setOffsetRows(e)}return null};e.AbstractBlendableQueryManager.prototype.getOffsetRows=function(){return this.getResultsetContainer(false).getOffsetRows()};e.AbstractBlendableQueryManager.prototype.setOffsetColumns=function(e){if(this.getResultsetContainer(false).getOffsetColumns()!==e){this.getResultsetContainer(true).setOffsetColumns(e)}return null};e.AbstractBlendableQueryManager.prototype.getOffsetColumns=function(){return this.getResultsetContainer(false).getOffsetColumns()};e.AbstractBlendableQueryManager.prototype.setSuppressKeyfigureCalculation=function(e){if(this.getResultsetContainer(false).isKeyfigureCalculationSuppressed()!==e){this.getResultsetContainer(true).setSuppressKeyfigureCalculation(e)}return null};e.AbstractBlendableQueryManager.prototype.isKeyfigureCalculationSuppressed=function(){return this.getResultsetContainer(false).isKeyfigureCalculationSuppressed()};e.AbstractBlendableQueryManager.prototype.setMaxRows=function(e){if(this.getResultsetContainer(false).getMaxRows()!==e){this.getResultsetContainer(true).setMaxRows(e)}return null};e.AbstractBlendableQueryManager.prototype.getMaxRows=function(){return this.getResultsetContainer(false).getMaxRows()};e.AbstractBlendableQueryManager.prototype.setMaxColumns=function(e){if(this.getResultsetContainer(false).getMaxColumns()!==e){this.getResultsetContainer(true).setMaxColumns(e)}return null};e.AbstractBlendableQueryManager.prototype.getMaxColumns=function(){return this.getResultsetContainer(false).getMaxColumns()};e.AbstractBlendableQueryManager.prototype.getMaxResultRecords=function(){return this.getResultsetContainer(false).getMaxResultRecords()};e.AbstractBlendableQueryManager.prototype.setMaxResultRecords=function(e){if(this.getResultsetContainer(false).getMaxResultRecords()!==e){this.getResultsetContainer(true).setMaxResultRecords(e)}return null};e.AbstractBlendableQueryManager.prototype.resetMaxResultRecords=function(){this.getResultsetContainer(true).resetMaxResultRecords();return null};e.AbstractBlendableQueryManager.prototype.setResultSetPersistanceTargetSchema=function(t){var r=this.getResultsetContainer(false).getResultSetPersistenceSchema();if(!e.XString.isEqual(r,t)){this.getResultsetContainer(true).setResultSetPersistanceTargetSchema(t)}return null};e.AbstractBlendableQueryManager.prototype.setResultSetPersistanceTargetTable=function(t){var r=this.getResultsetContainer(false).getResultSetPersistenceTable();if(!e.XString.isEqual(r,t)){this.getResultsetContainer(true).setResultSetPersistanceTargetTable(t)}return null};e.AbstractBlendableQueryManager.prototype.setResultSetPersistenceTargetType=function(e){var t=this.getResultsetContainer(false).getResultSetPersistenceType();if(t!==e){this.getResultsetContainer(true).setResultSetPersistenceTargetType(e)}return null};e.AbstractBlendableQueryManager.prototype.setResultSetPersistenceIdentifier=function(t){var r=this.getResultsetContainer(false).getResultSetPersistenceIdentifier();if(!e.XString.isEqual(r,t)){this.getResultsetContainer(true).setResultSetPersistenceIdentifier(t)}return null};e.AbstractBlendableQueryManager.prototype.getResultSetPersistenceSchema=function(){return this.getResultsetContainer(false).getResultSetPersistenceSchema()};e.AbstractBlendableQueryManager.prototype.getResultSetPersistenceTable=function(){return this.getResultsetContainer(false).getResultSetPersistenceTable()};e.AbstractBlendableQueryManager.prototype.getResultSetPersistenceType=function(){return this.getResultsetContainer(false).getResultSetPersistenceType()};e.AbstractBlendableQueryManager.prototype.getResultSetPersistenceIdentifier=function(){return this.getResultsetContainer(false).getResultSetPersistenceIdentifier()};e.AbstractBlendableQueryManager.prototype.setExecuteRequestOnOldResultSet=function(e){if(this.getResultsetContainer(false).getExecuteRequestOnOldResultSet()!==e){this.getResultsetContainer(true).setExecuteRequestOnOldResultSet(e)}return null};e.AbstractBlendableQueryManager.prototype.isResultSetTransportEnabled=function(){return this.getResultsetContainer(false).isResultSetTransportEnabled()};e.AbstractBlendableQueryManager.prototype.setResultSetTransportEnabled=function(e){if(this.getResultsetContainer(false).isResultSetTransportEnabled()!==e){this.getResultsetContainer(true).setResultSetTransportEnabled(e)}return null};e.AbstractBlendableQueryManager.prototype.setDataRefreshEnabled=function(e){if(this.getResultsetContainer(false).getDataRefreshEnabled()!==e){this.getResultsetContainer(true).setDataRefreshEnabled(e)}};e.AbstractBlendableQueryManager.prototype.getDataRefreshEnabled=function(){return this.getResultsetContainer(false).getDataRefreshEnabled()};e.AbstractBlendableQueryManager.prototype.getExecuteRequestOnOldResultSet=function(){return this.getActiveResultSetContainer().getExecuteRequestOnOldResultSet()};e.AbstractBlendableQueryManager.prototype.getActiveResultSetContainer=function(){return this.getResultsetContainer(false)};e.AbstractBlendableQueryManager.prototype.getResultSetSyncState=function(){return this.getActiveResultSetContainer().getResultSetSyncState()};e.AbstractBlendableQueryManager.prototype.getResultSetMessages=function(){return this.getActiveResultSetContainer()};e.AbstractBlendableQueryManager.prototype.hasMoreColumnRecordsAvailable=function(){return this.getActiveResultSetContainer().hasMoreColumnRecordsAvailable()};e.AbstractBlendableQueryManager.prototype.hasMoreRowRecordsAvailable=function(){return this.getActiveResultSetContainer().hasMoreRowRecordsAvailable()};e.AbstractBlendableQueryManager.prototype.setSuppressCalculatedMembersWithoutBookedData=function(e){this.getResultsetContainer(true).setSuppressCalculatedMembersWithoutBookedData(e)};e.AbstractBlendableQueryManager.prototype.getSuppressCalculatedMembersWithoutBookedData=function(){return this.getResultsetContainer(false).getSuppressCalculatedMembersWithoutBookedData()};e.AbstractBlendableQueryManager.prototype.getActiveResultSetContainerBase=function(){return this.getResultsetContainer(false)};e.AbstractBlendableQueryManager.prototype.getResultSetProviderFactory=function(){return this.getQueryManagerBase().getResultSetProviderFactory()};e.AbstractBlendableQueryManager.prototype.setActiveResultSetContainer=function(e){this.m_activeContainer=e};e.AbstractBlendableQueryManager.prototype.emptyVariableDefinition=e.noSupport;e.AbstractBlendableQueryManager.prototype.submitVariables=function(t,r,a){var n=e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return n.submitVariables(t,r,a)};e.AbstractBlendableQueryManager.prototype.reInitVariablesAfterSubmit=function(t,r,a){var n=e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return n.reInitVariablesAfterSubmit(t,r,a)};e.AbstractBlendableQueryManager.prototype.activateVariableVariant=function(t,r,a,n){var i=e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return i.activateVariableVariant(t,r,a,n)};e.AbstractBlendableQueryManager.prototype.deleteVariableVariant=e.noSupport;e.AbstractBlendableQueryManager.prototype.updateVariableVariantValues=e.noSupport;e.AbstractBlendableQueryManager.prototype.saveVariableVariant=e.noSupport;e.AbstractBlendableQueryManager.prototype.cancelReInitVariables=function(t,r,a){var n=e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return n.cancelReInitVariables(t,r,a)};e.AbstractBlendableQueryManager.prototype.supportsMaintainsVariableVariants=function(){return false};e.AbstractBlendableQueryManager.prototype.isProcessingAutoSubmit=function(){var e=false;var t=this.getAllQueryManagers().getIterator();while(t.hasNext()){var r=t.next();if(r.isProcessingAutoSubmit()){e=true;break}}return e};e.AbstractBlendableQueryManager.prototype.isSubmitted=function(){var e=true;var t=this.getAllQueryManagers().getIterator();while(t.hasNext()){var r=t.next();if((r.supportsAndAllowsEmptyExtendedVarDefinition()||r.hasVariables())&&!r.isSubmitted()){e=false;break}}return e};e.AbstractBlendableQueryManager.prototype.transferVariables=function(t,r,a){var n=e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return n.transferVariables(t,r,a)};e.AbstractBlendableQueryManager.prototype.transferVariablesByVariable=function(t,r,a,n){var i=e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return i.transferVariablesByVariable(t,r,a,n)};e.AbstractBlendableQueryManager.prototype.setDirectVariableTransferEnabled=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setDirectVariableTransferEnabled(t)}};e.AbstractBlendableQueryManager.prototype.isDirectVariableTransferEnabled=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.isDirectVariableTransferEnabled()}return r};e.AbstractBlendableQueryManager.prototype.getVariableProcessorState=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getVariableProcessorState()}return r};e.AbstractBlendableQueryManager.prototype.registerVariableProcessorStateChangedListener=function(t,r){var a=this.getQueryManager();if(e.notNull(a)){a.registerVariableProcessorStateChangedListener(t,r)}};e.AbstractBlendableQueryManager.prototype.unregisterVariableProcessorStateChangedListener=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.unregisterVariableProcessorStateChangedListener(t)}};e.AbstractBlendableQueryManager.prototype.checkVariables=function(t,r,a){var n=e.BlendableQMVariableSubmitProcessor.createBlendableVariableSubmitProcessor(this);return n.checkVariables(t,r,a)};e.AbstractBlendableQueryManager.prototype.getSelectionTagging=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getSelectionTagging()}return r};e.AbstractBlendableQueryManager.prototype.updateDynamicVariables=function(t,r,a){var n=this.getQueryManager();if(e.notNull(n)){n.updateDynamicVariables(t,r,a)}};e.AbstractBlendableQueryManager.prototype.getVariableVariants=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getVariableVariants()}return r};e.AbstractBlendableQueryManager.prototype.resetExitOrUpdateDynamicVariable=function(t,r,a,n){var i=this.getQueryManager();if(e.notNull(i)){i.resetExitOrUpdateDynamicVariable(t,r,a,n)}};e.AbstractBlendableQueryManager.prototype.supportsCheckVariables=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.supportsCheckVariables()}return r};e.AbstractBlendableQueryManager.prototype.supportsReInitVariables=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.supportsReInitVariables()}return r};e.AbstractBlendableQueryManager.prototype.supportsDirectVariableTransfer=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.supportsDirectVariableTransfer()}return r};e.AbstractBlendableQueryManager.prototype.supportsVariableMasking=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.supportsVariableMasking()}return r};e.AbstractBlendableQueryManager.prototype.clearExternalVariablesRepresentations=function(){var t=this.getQueryManager();if(e.notNull(t)){t.clearExternalVariablesRepresentations()}};e.AbstractBlendableQueryManager.prototype.getVariableMode=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getVariableMode()}return r};e.AbstractBlendableQueryManager.prototype.hasVariables=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.hasVariables()}return r};e.AbstractBlendableQueryManager.prototype.hasMandatoryVariables=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.hasMandatoryVariables()}return r};e.AbstractBlendableQueryManager.prototype.hasInputEnabledVariables=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.hasInputEnabledVariables()}return r};e.AbstractBlendableQueryManager.prototype.hasInputEnabledAndNonTechnicalVariables=function(){return e.XCollectionUtils.hasElements(this.getInputEnabledAndNonTechnicalVariables())};e.AbstractBlendableQueryManager.prototype.getVariables=function(){var t=this.getQueryManager();var r=e.XListOfNameObject.create();if(e.notNull(t)){r=t.getVariables()}return r};e.AbstractBlendableQueryManager.prototype.setWinControlInAutoSubmitByType=function(t,r,a){var n=this.getQueryManager();if(e.notNull(n)){n.setWinControlInAutoSubmitByType(t,r,a)}};e.AbstractBlendableQueryManager.prototype.getInputEnabledVariables=function(){var t=this.getQueryManager();var r=e.XListOfNameObject.create();if(e.notNull(t)){r=t.getInputEnabledVariables()}return r};e.AbstractBlendableQueryManager.prototype.getInputEnabledAndNonTechnicalVariables=function(){var t=this.getQueryManager();var r=e.XListOfNameObject.create();if(e.notNull(t)){r=t.getInputEnabledAndNonTechnicalVariables()}return r};e.AbstractBlendableQueryManager.prototype.getInputEnabledVariable=function(t){var r=this.getQueryManager();var a=null;if(e.notNull(r)){a=r.getInputEnabledVariable(t)}return a};e.AbstractBlendableQueryManager.prototype.getVariable=function(t){var r=this.getQueryManager();var a=null;if(e.notNull(r)){a=r.getVariable(t)}return a};e.AbstractBlendableQueryManager.prototype.getHierarchyNodeVariable=function(t){var r=this.getQueryManager();var a=null;if(e.notNull(r)){a=r.getHierarchyNodeVariable(t)}return a};e.AbstractBlendableQueryManager.prototype.getHierarchyNameVariable=function(t){var r=this.getQueryManager();var a=null;if(e.notNull(r)){a=r.getHierarchyNameVariable(t)}return a};e.AbstractBlendableQueryManager.prototype.getHierarchyNameVariables=function(){var t=this.getQueryManager();var r=e.XList.create();if(e.notNull(t)){r=t.getHierarchyNameVariables()}return r};e.AbstractBlendableQueryManager.prototype.getDimensionMemberVariables=function(){var t=this.getQueryManager();var r=e.XList.create();if(e.notNull(t)){r=t.getDimensionMemberVariables()}return r};e.AbstractBlendableQueryManager.prototype.isSubmitNeeded=function(){var e=false;var t=this.getAllQueryManagers().getIterator();while(t.hasNext()){var r=t.next();e=r.isSubmitNeeded();if(e){break}}return e};e.AbstractBlendableQueryManager.prototype.isReinitNeeded=function(){var e=false;var t=this.getAllQueryManagers().getIterator();while(t.hasNext()){var r=t.next();e=r.isReinitNeeded();if(e){break}}return e};e.AbstractBlendableQueryManager.prototype.isExecuteAutoVariableSubmit=function(){return this.getQueryManagerBase().isExecuteAutoVariableSubmit()};e.AbstractBlendableQueryManager.prototype.maintainStateForRsWithAutoSubmit=function(e){this.getQueryManagerBase().maintainStateForRsWithAutoSubmit(e)};e.AbstractBlendableQueryManager.prototype.variablesRequireImplicitSubmit=function(){return this.getQueryManagerBase().variablesRequireImplicitSubmit()};e.AbstractBlendableQueryManager.prototype.variablesRequireImplicitSubmitForValueHelp=function(e){return this.getQueryManagerBase().variablesRequireImplicitSubmitForValueHelp(e)};e.AbstractBlendableQueryManager.prototype.variablesRequireSACImplicitSubmit=function(){return this.getQueryManager().variablesRequireSACImplicitSubmit()};e.AbstractBlendableQueryManager.prototype.isCancelNeeded=function(){var e=false;var t=this.getAllQueryManagers().getIterator();while(t.hasNext()){var r=t.next();e=r.isCancelNeeded();if(e){break}}return e};e.AbstractBlendableQueryManager.prototype.getVariableProcessor=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getVariableProcessor()}return r};e.AbstractBlendableQueryManager.prototype.addVariableVariant=function(e){this.getQueryManagerBase().addVariableVariant(e)};e.AbstractBlendableQueryManager.prototype.removeVariableVariant=function(e){this.getQueryManagerBase().removeVariableVariant(e)};e.AbstractBlendableQueryManager.prototype.clearVariableVariants=function(){this.getQueryManagerBase().clearVariableVariants()};e.AbstractBlendableQueryManager.prototype.setVariableProcessorState=function(e){this.getQueryManagerBase().setVariableProcessorState(e)};e.AbstractBlendableQueryManager.prototype.returnToPreviousProcessorState=function(){this.getQueryManagerBase().returnToPreviousProcessorState()};e.AbstractBlendableQueryManager.prototype.getVariableContainerBase=function(){return this.getQueryManagerBase().getVariableContainerBase()};e.AbstractBlendableQueryManager.prototype.prepareAfterVariables=function(){this.getQueryManagerBase().prepareAfterVariables()};e.AbstractBlendableQueryManager.prototype.getPreviousVariableProcessorState=function(){return this.getQueryManagerBase().getPreviousVariableProcessorState()};e.AbstractBlendableQueryManager.prototype.setPreviousVariableProcessorState=function(e){this.getQueryManagerBase().setPreviousVariableProcessorState(e)};e.AbstractBlendableQueryManager.prototype.isPublicVersionEditPossible=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.isPublicVersionEditPossible()}return r};e.AbstractBlendableQueryManager.prototype.hasChangedValues=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.hasChangedValues()}return r};e.AbstractBlendableQueryManager.prototype.hasChangedValueLocks=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.hasChangedValueLocks()}return r};e.AbstractBlendableQueryManager.prototype.hasChangedCells=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.hasChangedCells()}return r};e.AbstractBlendableQueryManager.prototype.transferNewValues=function(){var t=this.getQueryManager();if(e.notNull(t)){t.transferNewValues()}};e.AbstractBlendableQueryManager.prototype.resetNewValues=function(){var t=this.getQueryManager();if(e.notNull(t)){t.resetNewValues()}};e.AbstractBlendableQueryManager.prototype.hasNewValues=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.hasNewValues()}return r};e.AbstractBlendableQueryManager.prototype.setDataEntryReadOnly=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setDataEntryReadOnly(t)}};e.AbstractBlendableQueryManager.prototype.isDataEntryReadOnly=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.isDataEntryReadOnly()}return r};e.AbstractBlendableQueryManager.prototype.isDataEntryEnabled=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.isDataEntryEnabled()}return r};e.AbstractBlendableQueryManager.prototype.getPlanningModel=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getPlanningModel()}return r};e.AbstractBlendableQueryManager.prototype.getDataArea=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getDataArea()}return r};e.AbstractBlendableQueryManager.prototype.createDataAreaCommand=function(t){var r=this.getQueryManager();var a=null;if(e.notNull(r)){a=r.createDataAreaCommand(t)}return a};e.AbstractBlendableQueryManager.prototype.createDataAreaCommandRefresh=function(){return this.createDataAreaCommand(e.PlanningContextCommandType.REFRESH)};e.AbstractBlendableQueryManager.prototype.createDataAreaCommandDocSave=function(){return this.createDataAreaCommand(e.PlanningContextCommandType.DOC_SAVE)};e.AbstractBlendableQueryManager.prototype.createDataAreaCommandDocReset=function(){return this.createDataAreaCommand(e.PlanningContextCommandType.DOC_RESET)};e.AbstractBlendableQueryManager.prototype.getPlanningMode=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getPlanningMode()}return r};e.AbstractBlendableQueryManager.prototype.setPlanningMode=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setPlanningMode(t)}};e.AbstractBlendableQueryManager.prototype.getPlanningRestriction=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getPlanningRestriction()}return r};e.AbstractBlendableQueryManager.prototype.setPlanningRestriction=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setPlanningRestriction(t)}};e.AbstractBlendableQueryManager.prototype.supportsDataEntryReadOnly=function(){var t=this.getQueryManager();var r=false;if(e.notNull(t)){r=t.supportsDataEntryReadOnly()}return r};e.AbstractBlendableQueryManager.prototype.getPlanningVersionIdentifier=function(t,r,a){var n=this.getQueryManager();var i=null;if(e.notNull(n)){i=n.getPlanningVersionIdentifier(t,r,a)}return i};e.AbstractBlendableQueryManager.prototype.getPlanningVersionSettings=function(t,r,a){var n=this.getQueryManager();var i=null;if(e.notNull(n)){i=n.getPlanningVersionSettings(t,r,a)}return i};e.AbstractBlendableQueryManager.prototype.getPlanningVersionSettingsSimple=function(t,r,a){var n=this.getQueryManager();var i=null;if(e.notNull(n)){i=n.getPlanningVersionSettingsSimple(t,r,a)}return i};e.AbstractBlendableQueryManager.prototype.addPlanningVersionSettings=function(t){var r=this.getQueryManager();var a=null;if(e.notNull(r)){a=r.addPlanningVersionSettings(t)}return a};e.AbstractBlendableQueryManager.prototype.deletePlanningVersionSettings=function(t){var r=this.getQueryManager();var a=null;if(e.notNull(r)){a=r.deletePlanningVersionSettings(t)}return a};e.AbstractBlendableQueryManager.prototype.getAllPlanningVersionSettings=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getAllPlanningVersionSettings()}return r};e.AbstractBlendableQueryManager.prototype.setPlanningVersionSettingsMode=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setPlanningVersionSettingsMode(t)}};e.AbstractBlendableQueryManager.prototype.getPlanningVersionSettingsMode=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.getPlanningVersionSettingsMode()}return r};e.AbstractBlendableQueryManager.prototype.setDataEntryEnabled=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setDataEntryEnabled(t)}};e.AbstractBlendableQueryManager.prototype.initializeDataAreaState=function(){var t=this.getQueryManager();var r=null;if(e.notNull(t)){r=t.initializeDataAreaState()}return r};e.AbstractBlendableQueryManager.prototype.setPublicVersionEditPossible=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.setPublicVersionEditPossible(t)}};e.AbstractBlendableQueryManager.prototype.setVersionAliasById=function(t,r){var a=this.getQueryManager();if(e.notNull(a)){a.setVersionAliasById(t,r)}};e.AbstractBlendableQueryManager.prototype.removeVersionAlias=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.removeVersionAlias(t)}};e.AbstractBlendableQueryManager.prototype.clearVersionAliases=function(){var t=this.getQueryManager();if(e.notNull(t)){t.clearVersionAliases()}};e.AbstractBlendableQueryManager.prototype.getVersionAliases=function(){var t=this.getQueryManager();var r=e.XHashMapOfStringByString.create();if(e.notNull(t)){r=t.getVersionAliases()}return r};e.AbstractBlendableQueryManager.prototype.attachQueryExecutedListener=function(t,r){var a=this.getQueryManager();if(e.notNull(a)){a.attachQueryExecutedListener(t,r)}};e.AbstractBlendableQueryManager.prototype.detachQueryExecutedListener=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.detachQueryExecutedListener(t)}};e.AbstractBlendableQueryManager.prototype.attachBeforeQueryExecutionListener=function(t,r){var a=this.getQueryManager();if(e.notNull(a)){a.attachBeforeQueryExecutionListener(t,r)}};e.AbstractBlendableQueryManager.prototype.detachBeforeQueryExecutionListener=function(t){var r=this.getQueryManager();if(e.notNull(r)){r.detachBeforeQueryExecutionListener(t)}};e.AbstractBlendableQueryManager.prototype.invalidateVisualizationContainers=function(){var t=this.getQueryManagerBase();if(e.notNull(t)){t.invalidateVisualizationContainers()}};e.QCustomHierarchyDefinitionExt=function(){};e.QCustomHierarchyDefinitionExt.prototype=new e.QCustomHierarchyDefinition;e.QCustomHierarchyDefinitionExt.prototype._ff_c="QCustomHierarchyDefinitionExt";e.QCustomHierarchyDefinitionExt.createExtendedHierarchyDefinition=function(t,r){var a=new e.QCustomHierarchyDefinitionExt;a.setupHierarchyDefinition(null,null,null,null,true);a.copyFrom(t,null);a.m_inaHierarchy=r;return a};e.QCustomHierarchyDefinitionExt.prototype.m_inaHierarchy=null;e.QCustomHierarchyDefinitionExt.prototype.releaseObject=function(){e.QCustomHierarchyDefinition.prototype.releaseObject.call(this);this.m_inaHierarchy=e.XObjectExt.release(this.m_inaHierarchy)};e.QCustomHierarchyDefinitionExt.prototype.getInaHierarchy=function(){return this.m_inaHierarchy};e.QCustomHierarchyDefinitionExt.prototype.setInaHierarchy=function(e){this.m_inaHierarchy=e};e.BlendableQueryManager=function(){};e.BlendableQueryManager.prototype=new e.AbstractBlendableQueryManager;e.BlendableQueryManager.prototype._ff_c="BlendableQueryManager";e.BlendableQueryManager.create=function(t,r){var a=new e.BlendableQueryManager;a.setupModelComponent(t,null);a.setName(e.notNull(r)?r:t.getApplication().createNextInstanceId());a.setupBlendingManager(t);return a};e.BlendableQueryManager.prototype.m_primaryBlendedMeasures=null;e.BlendableQueryManager.prototype.m_queryModelLinkSettings=null;e.BlendableQueryManager.prototype.m_sortContainer=null;e.BlendableQueryManager.prototype.m_blendedDimensionOrder=null;e.BlendableQueryManager.prototype.m_blendedDrillOperations=null;e.BlendableQueryManager.prototype.m_useEmptyAllMemberMeasureFilter=false;e.BlendableQueryManager.prototype.m_rankSettings=null;e.BlendableQueryManager.prototype.m_modCounterState=null;e.BlendableQueryManager.prototype.setName=function(t){e.XStringUtils.checkStringNotEmpty(t,"Name of query manager must be a valid string");var r=this.getOlapEnv();if(!e.XString.isEqual(t,this.getName())){if(r.containsQueryManagerWithName(t)){throw e.XException.createIllegalArgumentException(e.XStringUtils.concatenate2("Olap Environment already contains Query Manager with name:",t))}r.unregisterQueryManager(this);e.AbstractBlendableQueryManager.prototype.setName.call(this,t);r.registerQueryManager(this)}};e.BlendableQueryManager.prototype.newBlendableQueryManager=function(){return new e.BlendableQueryManager};e.BlendableQueryManager.prototype.setupBlendingManager=function(t){e.AbstractBlendableQueryManager.prototype.setupBlendingManager.call(this,t);this.m_primaryBlendedMeasures=e.QModelComponentList.createModelComponentWithNameList(t,this,false,"Primary Blended Measures",true);this.m_queryModelLinkSettings=e.QModelComponentList.createModelComponentList(t,this,true,"Query Model Link Settings");this.m_blendedDimensionOrder=e.XHashMapByString.create();this.m_blendedDrillOperations=e.QModelComponentList.createModelComponentList(t,this,true,"Blendable Drill Operation");this.m_useEmptyAllMemberMeasureFilter=false;this.m_rankSettings=e.QModelComponentList.createModelComponentList(t,this,true,"Rank Settings");this.m_sortContainer=e.QBlendingSortContainer.create(this)};e.BlendableQueryManager.prototype.copyFromInternal=function(t,r){var a=t;this.m_primaryBlendedMeasures.clear();var n=a.m_primaryBlendedMeasures.getIterator();while(n.hasNext()){this.m_primaryBlendedMeasures.add(n.next())}this.m_queryModelLinkSettings.clear();var i=a.m_queryModelLinkSettings.getIterator();while(i.hasNext()){var o=i.next();this.m_queryModelLinkSettings.add(o.cloneOlapComponent(this,null))}this.m_sortContainer.copyFrom(a.m_sortContainer,null);this.m_blendedDimensionOrder.clear();var s=a.getBlendedDimensionsByAxis(e.AxisType.ROWS).getIterator();while(s.hasNext()){var l=s.next();var u=this.addBlendedDimensionInfoToAxis(e.AxisType.ROWS,l.getDatasetId(),l.getDimensionName());u.copyFrom(l,null)}var p=a.getBlendedDimensionsByAxis(e.AxisType.COLUMNS).getIterator();while(p.hasNext()){var c=p.next();var g=this.addBlendedDimensionInfoToAxis(e.AxisType.COLUMNS,c.getDatasetId(),c.getDimensionName());g.copyFrom(c,null)}this.m_blendedDrillOperations.clear();var y=a.getBlendedDrillOperations().getIterator();while(y.hasNext()){var m=y.next();var d=this.addNewBlendedDrillOperation(m.getDatasetId(),m.getDimensionName());d.copyFrom(m,null)}this.m_useEmptyAllMemberMeasureFilter=a.m_useEmptyAllMemberMeasureFilter;this.m_rankSettings.clear();var C=a.getRankSettings().getIterator();while(C.hasNext()){var A=e.QFactory.createRankSettings();A.copyFrom(C.next(),null);this.m_rankSettings.add(A)}};e.BlendableQueryManager.prototype.releaseObject=function(){var t=this.getOlapEnv();t.unregisterQueryManager(this);this.m_primaryBlendedMeasures=e.XObjectExt.release(this.m_primaryBlendedMeasures);this.m_queryModelLinkSettings=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_queryModelLinkSettings);this.m_blendedDimensionOrder=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendedDimensionOrder);this.m_sortContainer=e.XObjectExt.release(this.m_sortContainer);this.m_blendedDrillOperations=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_blendedDrillOperations);this.m_modCounterState=e.XObjectExt.release(this.m_modCounterState);e.AbstractBlendableQueryManager.prototype.releaseObject.call(this)};e.BlendableQueryManager.prototype.clearPrimaryBlendedMeasures=function(){for(var e=this.m_primaryBlendedMeasures.size()-1;e>=0;e--){this.removePrimaryBlendedMeasure(this.m_primaryBlendedMeasures.get(e))}};e.BlendableQueryManager.prototype.clearQueryModelLinkSettings=function(){e.XCollectionUtils.releaseEntriesFromCollection(this.m_queryModelLinkSettings);this.m_queryModelLinkSettings.clear()};e.BlendableQueryManager.prototype.addSecondaryQueryManager=function(t){e.AbstractBlendableQueryManager.prototype.addSecondaryQueryManager.call(this,t);var r=this.getPrimaryQueryManager().getQueryModel().getDatasetId();var a=t.getQueryModel().getDatasetId();this.addNewQueryModelLinkSettings(r,a)};e.BlendableQueryManager.prototype.addNewQueryModelLinkSettings=function(t,r){var a=e.QueryModelLinkSettings.create(this,t,r);this.m_queryModelLinkSettings.add(a)};e.BlendableQueryManager.prototype.getLinkType=function(t){var r=null;var a=this.m_queryModelLinkSettings.getByKey(t);if(e.notNull(a)){r=a.getLinkType()}return r};e.BlendableQueryManager.prototype.setLinkType=function(e,t){var r=this.getQueryModelLinkSettings(e);r.setLinkType(t)};e.BlendableQueryManager.prototype.getUnlinkedDimensionJoinType=function(t){var r=null;var a=this.m_queryModelLinkSettings.getByKey(t);if(e.notNull(a)){r=a.getUnlinkedDimensionJoinType()}return r};e.BlendableQueryManager.prototype.setUnlinkedDimensionJoinType=function(e,t){var r=this.getQueryModelLinkSettings(e);r.setUnlinkedDimensionJoinType(t)};e.BlendableQueryManager.prototype.getActivePrimaryLinkDimensionNames=function(t){var r=null;var a=this.m_queryModelLinkSettings.getByKey(t);if(e.notNull(a)){r=a.getActivePrimaryLinkDimensionNames()}return r};e.BlendableQueryManager.prototype.addActivePrimaryLinkDimensionName=function(e,t){var r=this.getQueryModelLinkSettings(e);r.addActivePrimaryLinkDimensionName(t)};e.BlendableQueryManager.prototype.removeActivePrimaryLinkDimensionName=function(e,t){var r=this.getQueryModelLinkSettings(e);r.removeActivePrimaryLinkDimensionName(t)};e.BlendableQueryManager.prototype.removeAllActivePrimaryLinkDimensionNames=function(e){var t=this.getQueryModelLinkSettings(e);t.removeAllActivePrimaryLinkDimensionNames()};e.BlendableQueryManager.prototype.getQueryModelLinkSettings=function(t){var r=this.m_queryModelLinkSettings.getByKey(t);if(this.getQueryManagerByDatasetId(t)!==null&&e.isNull(r)){r=e.QueryModelLinkSettings.create(this,this.getPrimaryQueryManager().getQueryModel().getDatasetId(),t);this.m_queryModelLinkSettings.add(r)}return r};e.BlendableQueryManager.prototype.getPrimaryBlendedMeasures=function(){return this.m_primaryBlendedMeasures};e.BlendableQueryManager.prototype.removePrimaryBlendedMeasure=function(t){var r=this.m_primaryBlendedMeasures.removeElement(t);if(e.notNull(r)){if(r.getContext()===this){e.XObjectExt.release(r)}else{r.removeSecondaryParent(this)}}};e.BlendableQueryManager.prototype.addPrimaryBlendedMeasure=function(e){this.m_primaryBlendedMeasures.add(e);e.addSecondaryParent(this)};e.BlendableQueryManager.prototype.getBlendingProcessConfigs=function(){var t=this.getOlapEnv().getModelLinkManager();var r=this.getPrimaryQueryManager();var a=r.getQueryModel().getDatasetId();var n=e.XList.create();var i=this.m_queryModelLinkSettings.getIterator();while(i.hasNext()){var o=i.next();var s=o.getSecondDatasetId();var l=t.getDimensionLinksByDatasetIds(this.getStorageName(),a,s,true);if(l.size()>0){var u=e.QueryModelLinkSettings.create(this,a,s);u.copyFrom(o,null);var p=e.XList.create();var c=l.getIterator();while(c.hasNext()){var g=c.next();p.add(g.cloneOlapComponent(this.getContext(),null))}var y=this.getQueryManagerByDatasetId(o.getSecondDatasetId());if(e.isNull(y)||!e.BlendingUtils.isQueryModelInUseForBlending(y.getQueryModel(),this.isUseEmptyAllMemberMeasureFilter())){continue}n.add(e.BlendingProcessConfig.create(r,y,p,u))}}return n};e.BlendableQueryManager.prototype.cloneQueryManagerExt=function(t){var r=e.AbstractBlendableQueryManager.prototype.cloneQueryManagerExt.call(this,t);r.copyFrom(this,null);return r};e.BlendableQueryManager.prototype.cloneQueryManagerOptimized=function(t){var r=e.AbstractBlendableQueryManager.prototype.cloneQueryManagerOptimized.call(this,t);r.copyFrom(this,null);return r};e.BlendableQueryManager.prototype.notifyChildChanged=function(t){this.getResultsetContainer(true);e.AbstractBlendableQueryManager.prototype.notifyChildChanged.call(this,t)};e.BlendableQueryManager.prototype.getRuntimeQueryManager=function(t,r,a){var n=e.RuntimeBlendedQueryManagerAction.create(this);return n.processSyncAction(t,r,a)};e.BlendableQueryManager.prototype.exportPersistedQueriesAndRuntimeQueryManager=function(t,r,a){var n=e.BlendableQMPersistedInAExportAction.create(this);return n.processSyncAction(t,r,a)};e.BlendableQueryManager.prototype.serializeToContentExt=function(t,r){var a;if(t.isTypeOf(e.QModelFormat.INA_DATA)){var n=this.getRuntimeQueryManager(e.SyncType.BLOCKING,null,null);if(!n.hasErrors()){var i=n.getData();a=i.serializeToContentExt(t,e.notNull(r)?r:i.getModelCapabilities())}else{a=null}e.XObjectExt.release(n)}else{a=e.AbstractBlendableQueryManager.prototype.serializeToContentExt.call(this,t,r)}return a};e.BlendableQueryManager.prototype.getBlendedDimensionsByAxis=function(t){var r=this.m_blendedDimensionOrder.getByKey(t.getName());if(e.isNull(r)){r=e.XList.create()}return r};e.BlendableQueryManager.prototype.setBlendedDimensionInfosByAxis=function(t,r){var a=e.QModelComponentList.createModelComponentList(this,this,true,"Blended Dimension Order");a.addAll(r);this.m_blendedDimensionOrder.put(t.getName(),a)};e.BlendableQueryManager.prototype.clearBlendedDimensionInfosByAxis=function(t){var r=this.m_blendedDimensionOrder.getByKey(t.getName());if(e.notNull(r)&&r.size()>0){r.clear()}};e.BlendableQueryManager.prototype.addBlendedDimensionInfoToAxis=function(t,r,a){var n=this.m_blendedDimensionOrder.getByKey(t.getName());var i=this.insertBlendedDimensionInfoToAxis(t,r,a,e.notNull(n)?n.size():0);return i};e.BlendableQueryManager.prototype.insertBlendedDimensionInfoToAxis=function(t,r,a,n){var i=this.m_blendedDimensionOrder.getByKey(t.getName());if(e.isNull(i)){i=e.QModelComponentList.createModelComponentList(this,this,true,"Blended Dimension Order");this.m_blendedDimensionOrder.put(t.getName(),i)}var o=e.BlendedDimensionInfo.createBlendedDimensionInfo(r,a);i.insert(n,o);return o};e.BlendableQueryManager.prototype.removeBlendedDimensionInfo=function(t,r){var a=this.m_blendedDimensionOrder.getByKey(t.getName());if(e.notNull(a)){a.removeElement(r)}};e.BlendableQueryManager.prototype.getBlendedDrillOperations=function(){return this.m_blendedDrillOperations};e.BlendableQueryManager.prototype.addNewBlendedDrillOperation=function(t,r){var a=e.BlendedDrillInfo.createBlendedDimensionDrillInfo(this,t,r);this.m_blendedDrillOperations.add(a);return a};e.BlendableQueryManager.prototype.clearBlendedDrillOperations=function(){if(this.m_blendedDrillOperations.size()>0){this.m_blendedDrillOperations.clear()}};e.BlendableQueryManager.prototype.setUseEmptyAllMemberMeasureFilter=function(e){if(this.m_useEmptyAllMemberMeasureFilter!==e){this.m_useEmptyAllMemberMeasureFilter=e;this.notifyNodeChanged()}};e.BlendableQueryManager.prototype.isUseEmptyAllMemberMeasureFilter=function(){return this.m_useEmptyAllMemberMeasureFilter};e.BlendableQueryManager.prototype.removeBlendedDrillOperation=function(e){this.m_blendedDrillOperations.removeElement(e)};e.BlendableQueryManager.prototype.migrateLegacyBlendedQueryState=function(t){e.BlendingUtils.migrateAxis(this,t,e.AxisType.ROWS);e.BlendingUtils.migrateAxis(this,t,e.AxisType.COLUMNS)};e.BlendableQueryManager.prototype.updateBlendableDimensionSort=function(e){this.m_sortContainer.updateBlendableDimensionSort(e)};e.BlendableQueryManager.prototype.addBlendableDimensionSort=function(e,t,r,a){this.m_sortContainer.addBlendableDimensionSort(e,t,r,a)};e.BlendableQueryManager.prototype.removeBlendableDimensionSort=function(e,t){this.m_sortContainer.removeBlendableDimensionSort(e,t)};e.BlendableQueryManager.prototype.clearBlendableDimensionSorts=function(){this.m_sortContainer.clearBlendableDimensionSorts()};e.BlendableQueryManager.prototype.getBlendableDimensionSorts=function(){return this.m_sortContainer.getBlendableDimensionSorts()};e.BlendableQueryManager.prototype.setPrimaryBlendableMeasureMemberSort=function(e,t,r){this.m_sortContainer.setPrimaryBlendableMeasureMemberSort(e,t,r)};e.BlendableQueryManager.prototype.clearPrimaryBlendableMemberMeasureSort=function(){this.m_sortContainer.clearPrimaryBlendableMemberMeasureSort()};e.BlendableQueryManager.prototype.getPrimaryBlendableMeasureMemberSort=function(){return this.m_sortContainer.getPrimaryBlendableMeasureMemberSort()};e.BlendableQueryManager.prototype.isBlended=function(){var t=this.getSecondaryQueryManagers();return e.XCollectionUtils.contains(t,function(t){return e.BlendingUtils.isQueryModelInUseForBlending(t.getQueryModel(),this.isUseEmptyAllMemberMeasureFilter())}.bind(this))};e.BlendableQueryManager.prototype.supportsBatchBlendingRsStreamingExt=function(){if(this.isBlended()){return this.supportsBatchBlendingRsStreaming()}return this.supportsBatchRsStreaming()};e.BlendableQueryManager.prototype.getRankSettings=function(){return this.m_rankSettings};e.BlendableQueryManager.prototype.addRankSettings=function(e){this.m_rankSettings.add(e)};e.BlendableQueryManager.prototype.clearRankSettings=function(){if(this.m_rankSettings.size()>0){e.XCollectionUtils.releaseEntriesFromCollection(this.m_rankSettings);this.m_rankSettings.clear()}};e.BlendableQueryManager.prototype.removeRankSettings=function(e){return this.m_rankSettings.removeAt(e)};e.BlendableQueryManager.prototype.getModCounterState=function(){if(e.isNull(this.m_modCounterState)){this.m_modCounterState=e.ModCounterState.create(this)}return this.m_modCounterState};e.BlendableQueryManager.prototype.setBlendableMeasureMemberSort=function(e){this.m_sortContainer.setBlendableMeasureMemberSort(e)};e.BlendableQueryManager.prototype.getBlendableMeasureMemberSort=function(){return this.m_sortContainer.getBlendableMeasureMemberSort()};e.BlendableQueryManager.prototype.setUseSavedPromptsForExitVariables=function(e){};e.BlendableQueryManager.prototype.isUsingSavedPromptsForExitVariables=function(){return false};e.BlendableQueryManager.prototype.getAllQueryModelLinkSettings=function(){return this.m_queryModelLinkSettings};e.BlendableQueryManager.prototype.getSortingContainer=function(){return this.m_sortContainer};e.BlendableQueryManager.prototype.isDefaultOrder=function(){return this.m_sortContainer.isDefaultOrder()};e.BlendableQueryManager.prototype.setIsDefaultOrder=function(e){this.m_sortContainer.setIsDefaultOrder(e)};e.BlendableQueryManager.prototype.prepareMergeCandidate=e.noSupport;e.OlapImplModule=function(){};e.OlapImplModule.prototype=new e.DfModule;e.OlapImplModule.prototype._ff_c="OlapImplModule";e.OlapImplModule.s_module=null;e.OlapImplModule.getInstance=function(){if(e.isNull(e.OlapImplModule.s_module)){e.DfModule.checkInitialized(e.ProtocolModule.getInstance());e.DfModule.checkInitialized(e.OlapApiModule.getInstance());e.DfModule.checkInitialized(e.OlapApiBaseModule.getInstance());e.DfModule.checkInitialized(e.ResultsetModule.getInstance());e.DfModule.checkInitialized(e.OlapModelModule.getInstance());e.OlapImplModule.s_module=e.DfModule.startExt(new e.OlapImplModule);var t=e.RegistrationService.getInstance();e.QInAConverter.staticSetup();e.QDeltaOperationPhase.staticSetup();e.QDeltaBroadcastPhase.staticSetup();e.QDeltaChangeState.staticSetup();e.QInAImportFactory.staticSetup();e.QInAExportFactory.staticSetup();e.QTechnicalVariableNames.staticSetup();e.InACapabilitiesProvider.staticSetup();e.QFactory.setInstance(e.QFactoryImpl.create());e.HierarchyCatalogServiceConfig.staticSetup();t.addServiceConfig(e.OlapApiModule.XS_HIERARCHY_CATALOG,e.HierarchyCatalogServiceConfig.CLAZZ);e.HierarchyCatalogService.staticSetup();t.addService(e.OlapApiModule.XS_HIERARCHY_CATALOG,e.HierarchyCatalogService.CLAZZ);e.OlapEnvironmentFactoryImpl.staticSetupImpl();e.PlanningFactory.setInstance(new e.PlanningManagerFactoryDummyImpl);e.CommandSpaceFactory.setInstance(new e.CommandSpaceFactoryImpl);e.CommentingFactory.setInstance(e.CommentingFactoryImpl.create());e.DfModule.stopExt(e.OlapImplModule.s_module)}return e.OlapImplModule.s_module};e.OlapImplModule.prototype.getName=function(){return"ff4310.olap.impl"};e.OlapImplModule.getInstance();return sap.firefly});
//# sourceMappingURL=ff4310.olap.impl.js.map