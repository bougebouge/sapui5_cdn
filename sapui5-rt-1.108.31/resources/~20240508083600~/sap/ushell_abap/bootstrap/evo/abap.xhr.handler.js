// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/bootstrap/common/common.load.xhrlogon","sap/ushell/bootstrap/common/common.configure.xhrlogon","./abap.bootstrap.utils","./XhrLogonEventHandler","sap/base/Log"],function(o,e,n,r,t){"use strict";var a={};a.getLogonMode=function(o){return n.getUrlParameterValue("sap-ushell-xhrLogon-mode")||o&&o.xhrLogon&&o.xhrLogon.mode||"frame"};a.initXhrLogon=function(n){var r=a.getLogonMode(n),g=a.createXhrLogonEventHandler(window,r),l=o.LogonManager.getInstance(),s=o.XHRLogonManager.getInstance();o.start();if(r==="reload"||r==="logoffAndRedirect"){l.unregisterAllHandlers();l.registerAuthHandler("*",function(o){g.handleEvent(o)})}else if(r!=="frame"){t.warning("Unknown setting for xhrLogonMode: '"+r+"'. Using default mode 'frame'.",null,"sap.ushell_abap.bootstrap.evo.abap.xhr.handler")}XMLHttpRequest.logger=e.createUi5ConnectedXhrLogger();e.initXhrLogonIgnoreList(s)};a.createXhrLogonEventHandler=function(o,e){return new r(o,e)};return a});
//# sourceMappingURL=abap.xhr.handler.js.map