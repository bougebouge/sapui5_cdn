{"version":3,"file":"ClientSideTargetResolutionAdapter.js","names":["sap","ui","define","jQuery","ObjectPath","isPlainObject","fnDeepExtend","ushellUtils","urlParsing","Log","ODataWrapper","Utils","S_COMPONENT","aNotCompactedWDAParameters","ClientSideTargetResolutionAdapter","oSystem","sParameters","oAdapterConfig","that","this","oContainer","ushell","Container","sProductName","getLogonSystem","getProductName","_oLocalSystemAlias","http","id","host","port","pathPrefix","https","rfc","systemId","service","loginGroup","sncNameR3","sncQoPR3","label","client","language","properties","productName","hasSegmentedAccess","_oAdapterConfig","config","_wdLengthLimit","_oODataWrapper","undefined","_getODataWrapper","createODataWrapper","_aTargetMappings","_aInbounds","_aInitialSegment","_oSystemAliasBuffer","Map","_oURLTemplates","_storeFromFullStartupResponse","oFullStartupResult","targetMappings","systemAliases","_writeUserSystemAliasesToBuffer","urlTemplates","_fallbackToFullStartupRequest","fnResolve","fnReject","debug","_requestAllTargetMappings","done","fail","sMsg","_iTargetMappingsUnusedPromiseRejectCount","_oInitialSegmentPromise","initialSegmentPromise","Promise","fnReject1","_oNavTargetPromise","navTargetDataPromise","fnReject2","then","aArgs","length","aRequestedSegments","aTargetMappings","aSystemAliases","catch","sReason","error","prototype","_adjustNavTargetResult","oResult","sUrl","url","oUri","oAdjustedResult","applicationType","additionalInformation","applicationData","sComponentName","aMatches","oAppDependencies","oSelf","text","exec","applicationDependencies","ui5ComponentName","JSON","parse","self","name","URI","require","toUpperCase","indexOf","path","toString","oError","addCacheBusterTokenUsingUshellConfig","resolveHashFragmentFallback","sOriginalShellHash","oInbound","oParams","sShellHashForLpdCust","_constructShellHashForLpdCust","sSapSystem","oDeferredCB","Deferred","_resolveHashFragmentBE","resolve","reject","bind","promise","getInbounds","aSegment","oDeferred","aInitialSegmentAndTargetMappings","_isInSegment","_formatDirectStart","aSubSegment","Array","isArray","every","oEntry","oTestEntry","semanticObject","action","mParameterMap","getParameterMap","sRequestUrl","sCacheId","create","cacheId","copyParameter","sName","sValue","encodeURIComponent","get","getShellType","sNavTargetDataResult","oNavTargetDataResult","sMessage","oDirectStartResponse","mapOne","sSrcId","oSrc","oTarget","aMatch","match","warning","hasOwnProperty","title","permanentKey","catalogId","tmChipId","contentProviderId","oFakeResolutionResult","forEach","sPropName","resolutionResult","appId","oResolutionResult","sOriginalApplicationType","systemAliasSemantics","_formatApplicationType","systemAlias","deviceTypes","formfactors","technology","formFactors","desktop","phone","tablet","signature","additionalParameters","allowParams","parameters","oBadParam","oParam","sUserDefaultValue","defaultValue","value","format","_extractUserDefaultValue","filter","renameTo","required","Object","keys","sKey","oSapHideIntentLinkParam","hideIntentLink","parameterMappings","oMapping","target","urlTemplate","templateContext","getUrlTemplateContext","aRes","r","push","sTargetMappingId","sApplicationType","logErrorMessage","oNavTargetExpand","sDefault","sString","sRes","rPlaceholderParser","RegExp","_formatSignature","oODataResponse","sAllowAdditionalParameters","oRes","results","sEntryName","sEntryValue","call","stringify","_getObjectDefaulting","regexp","_mergeParameterMappingsIntoSignature","oSignature","oODataParameterMappings","aParameterMappingsOriginal","oParameterMappingOriginal","sSource","source","sTarget","_formatDeviceTypes","oFormFactors","sProp","oRoot","sStr","vDefault","o","sLpdCustShellHash","sFailReason","oTargetMappingOriginal","sBusinessParams","paramsToString","_openBatchQueueUnlessOpen","oODataWrapper","isBatchQueueOpen","openBatchQueue","sFragmentNoHash","bBatchQueueOpened","sFormFactor","getFormFactor","encodeODataQueryParameter","sUnencoded","replace","_addPostParametersToNavTargetResultUrl","sPostParameters","read","i","sDetails","__metadata","postParameters","_compactTooLongWdaUrl","oCompactedResult","submitBatchQueue","_getWDAUrlShorteningLengthLimit","_compactUrl","sCompactedUrl","sMatch","iLengthLimit","parseParameters","getServiceAsync","ShellNavigationService","compactParams","oCompactedParams","sReconstructedUrl","vNoWDACompact","getParameterValueBoolean","resolveSystemAlias","sSystemAlias","oSystemAliasData","_readSystemAliasFromBuffer","window","setTimeout","fnRetryBufferOrUseInterop","_readSystemAliasViaInterop","sError","oOdataSystemAliasData","_fixSystemAlias","_writeSystemAliasToBuffer","vSystemAliases","sSystemAliasKey","oSystemAlias","sSystemAliasId","oResolvedSystemAlias","put","oFixedSystemAlias","sDestination","sRelativeUrl","getSystemAliases","entries","oUrlTemplate","site","payload","siteAppSection"],"sources":["ClientSideTargetResolutionAdapter-dbg.js"],"mappings":"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"}