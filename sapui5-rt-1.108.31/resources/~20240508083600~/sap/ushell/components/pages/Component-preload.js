//@ui5-bundle sap/ushell/components/pages/Component-preload.js
sap.ui.require.preload({
	"sap/ushell/components/pages/ActionMode.js":function(){
//Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/library","sap/ui/Device","sap/m/MessageBox","sap/m/MessageToast","sap/ushell/resources","sap/ushell/EventHub","sap/base/Log"],function(e,t,n,i,o,r,a){"use strict";var s={};s.start=function(e){this.oController=e;var n=e.getView().getModel("viewSettings");var i=n.getProperty("/addToMyHomeOnly");if(!i){e.getView().getModel("viewSettings").setProperty("/actionModeEditActive",true)}e.getView().getModel("viewSettings").setProperty("/actionModeActive",true);e.handleMyHomeActionMode(true).catch(e._onError.bind(e));r.emit("enableMenuBarNavigation",false);var a=sap.ui.getCore().byId("ActionModeBtn");this.sActionButtonActivateText=a.getText();var s=o.i18n.getText("PageRuntime.EditMode.Exit");a.setTooltip(s);a.setText(s);if(t.system.desktop){sap.ui.require(["sap/ushell/renderers/fiori2/AccessKeysHandler"],function(e){e.attachEvent("editModeDone",this.save,this)}.bind(this))}};s.cancel=function(){this._cleanup()};s.save=function(){a.info("store actions in pages service");this._cleanup()};s._cleanup=function(){this.oController.getView().getModel("viewSettings").setProperty("/actionModeActive",false);this.oController.getView().getModel("viewSettings").setProperty("/actionModeEditActive",false);this.oController.handleMyHomeActionMode(false).catch(this.oController._onError.bind(this.oController));r.emit("enableMenuBarNavigation",true);var e=sap.ui.getCore().byId("ActionModeBtn");e.setTooltip(this.sActionButtonActivateText);e.setText(this.sActionButtonActivateText);if(t.system.desktop){sap.ui.require(["sap/ushell/renderers/fiori2/AccessKeysHandler"],function(e){e.detachEvent("editModeDone",this.save,this)}.bind(this))}};s.addVisualization=function(e,t){var n=t.getBindingContext().getModel();var i=t.getBindingContext().getPath();var o=i.split("/");var r=parseInt(o[2],10);var a=n.getProperty("/pages/"+r+"/id");var s=n.getProperty(i+"/id");sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){var t="Shell-appfinder?&/catalog/"+JSON.stringify({pageID:encodeURIComponent(a),sectionID:encodeURIComponent(s)});e.toExternal({target:{shellHash:t}})})};s.addSection=function(e,t,n){var i=n.index;var o=t.getBindingContext().getPath();var r=o.split("/");var a=parseInt(r[2],10);return this.oController.getOwnerComponent().getPagesService().then(function(e){e.addSection(a,i);var n={onAfterRendering:function(){setTimeout(function(){t.getSections()[i].byId("title-edit").focus()},0);t.removeEventDelegate(n)}};t.addEventDelegate(n)})};s.deleteSection=function(e,t){return sap.ushell.Container.getServiceAsync("Message").then(function(e){var r=t.getTitle();var a=r?o.i18n.getText("PageRuntime.Message.Section.Delete",r):o.i18n.getText("PageRuntime.Message.Section.DeleteNoTitle");var s=o.i18n.getText("PageRuntime.Dialog.Title.Delete");function g(e){if(e===n.Action.DELETE){this.oController.getOwnerComponent().getPagesService().then(function(e){var n=t.getBindingContext().getPath(),r=t.getParent(),a=n.split("/"),s=parseInt(a[2],10),g=parseInt(a[4],10);e.deleteSection(s,g);i.show(o.i18n.getText("PageRuntime.Message.SectionDeleted"));var c=r.getSections();if(c.length){var l=c[g!==0?g-1:g];l.focus();var v={onAfterRendering:function(){l.focus();l.removeEventDelegate(v)}};l.addEventDelegate(v)}else{var d={onAfterRendering:function(){r.focus();r.removeEventDelegate(d)}};r.addEventDelegate(d)}})}}e.confirm(a,g.bind(this),s,[n.Action.DELETE,n.Action.CANCEL])}.bind(this))};s.resetSection=function(e,t){var n=t.getBindingContext().getPath();var r=n.split("/");var a=parseInt(r[2],10);var s=parseInt(r[4],10);return this.oController.getOwnerComponent().getPagesService().then(function(e){e.resetSection(a,s);i.show(o.i18n.getText("PageRuntime.Message.SectionReset"))})};s.changeSectionTitle=function(e,t,n){var i=t.getBindingContext().getPath();var o=t.getProperty("title");var r=i.split("/");var a=parseInt(r[2],10);var s=parseInt(r[4],10);return this.oController.getOwnerComponent().getPagesService().then(function(e){e.renameSection(a,s,o)})};s.moveSection=function(e,t,n){var i=n.draggedControl.getBindingContext().getPath();var o=n.droppedControl.getBindingContext().getPath();var r=n.dropPosition;var a=o.split("/");var s=i.split("/");var g=parseInt(s[2],10);var c=parseInt(s[4],10);var l=parseInt(a[4],10);if(c===l-1&&r==="Before"||c===l+1&&r==="After"){return Promise.resolve()}if(r==="After"){l=l+1}var v=this.oController.getOwnerComponent();return v.getPagesService().then(function(e){return e.moveSection(g,c,l)}).then(function(){t.announceMove()})};s.changeSectionVisibility=function(e,t,n){if(this.oController===undefined||n.visible===undefined){return Promise.resolve()}var i=t.getBindingContext().getPath();var o=n.visible;var r=i.split("/");var a=parseInt(r[2],10);var s=parseInt(r[4],10);return this.oController.getOwnerComponent().getPagesService().then(function(e){e.setSectionVisibility(a,s,o)})};return s});
},
	"sap/ushell/components/pages/Component.js":function(){
//Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/InvisibleMessage","sap/ui/core/UIComponent","sap/ushell/components/SharedComponentUtils","sap/ushell/resources"],function(e,t,n,i){"use strict";return t.extend("sap.ushell.components.pages.Component",{metadata:{manifest:"json",library:"sap.ushell"},init:function(){t.prototype.init.apply(this,arguments);n.toggleUserActivityLog();n.getEffectiveHomepageSetting("/core/home/sizeBehavior","/core/home/sizeBehaviorConfigurable");this.setModel(i.i18nModel,"i18n");this._oPagesService=sap.ushell.Container.getServiceAsync("Pages");this._oInvisibleMessageInstance=e.getInstance()},getNavigationDisabled:function(){var e=this.getComponentData()||{};return!!e.navigationDisabled},getPagesService:function(){return this._oPagesService},getInvisibleMessageInstance:function(){return this._oInvisibleMessageInstance},hideRuntime:function(){this.getRootControl().getController().hideRuntime()},onRouteMatched:function(){this.getRootControl().getController().onRouteMatched()}})});
},
	"sap/ushell/components/pages/MoveVisualization.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><SelectDialog\n        items="{}"\n        search="_onMoveTileSearch"\n        title="{i18n>PageRuntime.Dialog.Title.MoveVisualization}"\n        confirm="_confirmSelect"\n        cancel="_onMoveTileDialogClose"\n        contentWidth="400px"\n        contentHeight="auto"><StandardListItem title="{title}" /></SelectDialog></core:FragmentDefinition>\n',
	"sap/ushell/components/pages/MyHomeImport.js":function(){
//Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/EventHub","sap/ushell/Config","sap/ushell/utils/HttpClient","sap/base/util/ObjectPath"],function(e,t,r,a){"use strict";var n={};var s="/UI2/Fiori2LaunchpadHome";n.getData=function(){if(!this.oPageSetPromise){this.oPageSetPromise=new Promise(function(e,t){var n="PageSets('%2FUI2%2FFiori2LaunchpadHome')"+"?$expand=Pages/PageChipInstances/ChipInstanceBags/ChipInstanceProperties,"+"Pages/PageChipInstances/Chip"+"&$format=json";var s={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","Accept-Language":sap.ui.getCore().getConfiguration().getLanguage()||"",Accept:"application/json, text/plain"};var i=sap.ushell.Container.getUser().getLanguage();if(i){s["sap-language"]=i}var o=sap.ushell.Container.getLogonSystem();var u=o&&o.getClient();if(u){s["sap-client"]=u}var c=window["sap-ushell-config"].services&&window["sap-ushell-config"].services.PageBuilding||{};var l=(a.get("config.services.pageBuilding.baseUrl",c.adapter)||"").replace(/\/?$/,"/");var p=new r(l,{headers:s});p.get(n).then(function(t){e(this.parseData.bind(this)(t))}.bind(this)).catch(t)}.bind(this))}return this.oPageSetPromise};n.isImportEnabled=function(){return sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){var t=e.getUser();var r=t.getImportBookmarksFlag();switch(r){case"done":case"dismissed":case"not_required":return false;case null:return this.getData().then(function(r){var a=!!r.length;var n=a?"pending":"not_required";t.setImportBookmarksFlag(n);e.updateUserPreferences();t.resetChangedProperty("importBookmarks");return a});default:return true}}.bind(this))};n.parseData=function(e){try{var r=JSON.parse(e.responseText);if(r&&r.d){r=r.d}var a=r.configuration&&JSON.parse(r.configuration)||{};var n=a.hiddenGroups||[];var i=r.Pages.results.filter(function(e){var t=e.scope==="PERSONALIZATION";var r=e.PageChipInstances.results.length>0;var a=n.indexOf(e.id)===-1;return t&&r&&a});var o=a.order||[];i.sort(function(e,t){if(o.indexOf(e.id)>o.indexOf(t.id)){return 1}if(o.indexOf(e.id)<o.indexOf(t.id)){return-1}return 0});var u=[];var c;var l=[];i.forEach(function(e){var t;if(e.layout){t=JSON.parse(e.layout)}var r={id:e.id,title:e.title,isLocked:e.isPersLocked==="X",isDefault:e.id===s,tileOrder:t&&t.order||[],linkOrder:t&&t.linkOrder||[],chips:e.PageChipInstances.results};if(r.isLocked){u.push(r)}else if(r.isDefault){c=r}else{l.push(r)}});if(!t.last("/core/home/disableSortedLockedGroups")){u.sort(function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?-1:1})}if(c){u=u.concat(c)}return u.concat(l)}catch(e){return null}};n.setImportEnabled=function(t){e.emit("importBookmarksFlag",!!t);sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){var r=e.getUser();var a=t?null:"dismissed";r.setImportBookmarksFlag(a);e.updateUserPreferences();r.resetChangedProperty("importBookmarks")})};return n});
},
	"sap/ushell/components/pages/StateManager.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/utils","sap/ushell/EventHub"],function(i,e){"use strict";var t={};t.init=function(i,t){this.aRefreshVisualizations=[];this.oPagesVisibility={};this.oPagesRuntimeNavContainer=i;this.oPagesNavContainer=t;this._oURLParsingService=sap.ushell.Container.getServiceAsync("URLParsing");this.oPagesRuntimeNavContainer.attachNavigate(this._onErrorPageNavigated,this);this.oPagesNavContainer.attachNavigate(this._onPageNavigated,this);this._onTabNavigatedBind=this._onTabNavigated.bind(this);document.addEventListener("visibilitychange",this._onTabNavigatedBind);this.oEventBus=sap.ui.getCore().getEventBus();this.oEventBus.subscribe("launchpad","setConnectionToServer",this._onEnableRequests,this);this.oEventBus.subscribe("sap.ushell","navigated",this._onShellNavigated,this);this.oEventHubListener=e.once("PagesRuntimeRendered").do(function(){this._setCurrentPageVisibility(true,false)}.bind(this))};t._onEnableRequests=function(i,e,t){if(!t||t.active===undefined){return}this._setCurrentPageVisibility(t.active,false)};t._setCurrentPageVisibility=function(i,e,t){if(this.oPagesRuntimeNavContainer.getCurrentPage().isA("sap.m.MessagePage")&&!t){return}var s=this.oPagesNavContainer.getCurrentPage();if(s){this._setPageVisibility(s,i,e)}};t._setPageVisibility=function(i,e,t){if(!i){return}if(i.getContent()[0].isA("sap.ushell.ui.launchpad.Page")){var s=i.getBindingContext().getPath();this.oPagesVisibility[s]=e;this._visitVisualizations(i,function(i){i.setActive(e,t)})}};t._visitVisualizations=function(i,e){if(!e){return}i.getContent()[0].getSections().forEach(function(i){i.getVisualizations().forEach(e)})};t._onShellNavigated=function(){var e=window.hasher.getHash();if(i.isFlpHomeIntent(e)){this._setCurrentPageVisibility(true,false);this._refreshVisualizations()}else{this._setCurrentPageVisibility(false,false)}return Promise.resolve()};t.addVisualizationForRefresh=function(i){this.aRefreshVisualizations.push(i)};t._refreshVisualizations=function(){this.aRefreshVisualizations.forEach(function(i){i.setActive(i.getActive(),true)});this.aRefreshVisualizations=[]};t._onTabNavigated=function(){var e=window.hasher.getHash();if(i.isFlpHomeIntent(e)){this._setCurrentPageVisibility(!document.hidden,false)}return Promise.resolve()};t._onPageNavigated=function(i){var e=i.getParameters();this._setPageVisibility(e.from,false,false);this._setPageVisibility(e.to,true,false)};t._onErrorPageNavigated=function(i){var e=i.getParameter("to");this._setCurrentPageVisibility(e.isA("sap.m.NavContainer"),false,true)};t.getPageVisibility=function(i){return this.oPagesVisibility[i]};t.exit=function(){this.oEventBus.unsubscribe("sap.ushell","navigated",this._onPageNavigated,this);document.removeEventListener("visibilitychange",this._onTabNavigatedBind);this.oPagesNavContainer.detachNavigate(this._onPageNavigated,this);this.oPagesRuntimeNavContainer.detachNavigate(this._onErrorPageNavigated,this);this.oEventBus.unsubscribe("launchpad","setConnectionToServer",this._onEnableRequests,this);this.oEventHubListener.off()};return t});
},
	"sap/ushell/components/pages/controller/ImportDialog.controller.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/ushell/components/pages/MyHomeImport","sap/ushell/Config","sap/ushell/library","sap/ushell/resources","sap/ushell/utils/WindowUtils"],function(e,t,i,s,n,a,r,o,u){"use strict";var l=r.DisplayFormat;var c={"X-SAP-UI2-CHIP:SSB_NUMERIC":"ssuite/smartbusiness/tiles/numeric","X-SAP-UI2-CHIP:SSB_CONTRIBUTION":"ssuite/smartbusiness/tiles/contribution","X-SAP-UI2-CHIP:SSB_TREND":"ssuite/smartbusiness/tiles/trend","X-SAP-UI2-CHIP:SSB_DEVIATION":"ssuite/smartbusiness/tiles/deviation","X-SAP-UI2-CHIP:SSB_COMPARISON":"ssuite/smartbusiness/tiles/comparison","X-SAP-UI2-CHIP:SSB_BLANK":"ssuite/smartbusiness/tiles/blank","X-SAP-UI2-CHIP:SSB_DUAL":"ssuite/smartbusiness/tiles/dual"};return t.extend("sap.ushell.components.pages.controller.ImportDialog",{open:function(){if(!this._pFragmentLoad){this._pFragmentLoad=i.load({name:"sap.ushell.components.pages.view.ImportDialog",controller:this}).then(function(e){this._oDialog=e;this._oDialog.setModel(o.i18nModel,"i18n");this._oDialog.setModel(new s({busy:true,groups:[],PersonalizedGroups:[]}));n.getData().then(function(t){e.getModel().setData({busy:false,groups:t,PersonalizedGroups:t.map(function(e){return{title:e.isDefault?o.i18n.getText("my_group"):e.title,description:e.id,selected:true}})})}).catch(function(e){return sap.ushell.Container.getServiceAsync("Message").then(function(t){t.error(e)})});return this._oDialog}.bind(this))}return Promise.all([sap.ushell.Container.getServiceAsync("URLParsing").then(function(e){this._oURLParsingService=e}.bind(this)),this._pFragmentLoad]).then(function(){this._oDialog.open();return this._oDialog}.bind(this))},close:function(){if(this._oDialog){this._oDialog.close()}},doImport:function(){var e=this._oDialog.getModel();var t=[];e.getProperty("/PersonalizedGroups").forEach(function(e){if(e.selected){t.push(e.description)}});var i=this._prepareImport(t);this._saveImport(i)},_moveVisualization:function(e,t,i,s,n){var a=this._getSectionIndex(e,t,i,n);var r=this._getDefaultSectionIndex(e);var o=this._getDefaultSection(e);var u=0;if(o&&o.visualizations&&o.visualizations.length){u=o.visualizations.length-1}return e.moveVisualization(this.iPageIndex,r,u,a,s)},_updateVisualization:function(e,t,i,s,n,a){if(i.bUpdateNeeded){var r=this._getSectionIndex(e,t,s,a);return e.updateVisualization(this.iPageIndex,r,n,i)}return Promise.resolve()},_addVisualization:function(e,t,i,s,n,a,r){if(t.isABookmark){if(t.isCustomBookmark){this.aPromiseChain.push(function(){return n.bookmark.addCustomBookmark(t.vizType,t,a).then(this._moveVisualization.bind(this,n.pages,e,s,i,r)).then(this._updateVisualization.bind(this,n.pages,e,t,s,i,r))}.bind(this))}else{this.aPromiseChain.push(function(){return n.bookmark.addBookmark(t,a).then(this._moveVisualization.bind(this,n.pages,e,s,i,r)).then(this._updateVisualization.bind(this,n.pages,e,t,s,i,r))}.bind(this))}}else{this.aPromiseChain.push(function(){var a=this._getSectionIndex(n.pages,e,s,r);var o=n.pages.getModel().getProperty("/pages/"+this.iPageIndex+"/sections/"+a+"/id");return n.pages.addVisualization(this.sPageId,o,t.vizId).then(this._updateVisualization.bind(this,n.pages,e,t,s,i,r))}.bind(this))}},_addToPresetSection:function(e,t,i,s,n){var a=this._getPresetSection(i.pages);var r=a.visualizations.filter(function(e){return e.displayFormatHint!=="compact"}).length;var o=a.visualizations.filter(function(e){return e.displayFormatHint==="compact"}).length;for(var u=0;u<e.tiles.length;++u){this._addVisualization(e,e.tiles[u],u+r,t,i,s,n)}for(var l=0;l<e.links.length;++l){this._addVisualization(e,e.links[l],l+o+r+e.tiles.length,t,i,s,n)}},_addSection:function(e,t,i,s,n){this.aPromiseChain.push(function(){var s=this._getSectionIndex(i.pages,e,t,n);return i.pages.addSection(this.iPageIndex,s,{title:e.title})}.bind(this));for(var a=0,r=e.tiles.length;a<r;++a){this._addVisualization(e,e.tiles[a],a,t,i,s,n)}for(var o=0,u=e.links.length;o<u;++o){this._addVisualization(e,e.links[o],o+e.tiles.length,t,i,s,n)}},_getMyHomeContentNode:function(e){var t=a.last("/core/spaces/myHome/myHomeSpaceId");return e.getContentNodes().then(function(e){var i=e.find(function(e){return e.id===t});if(!i){return null}return i.children.find(function(e){return e.id===this.sPageId}.bind(this))}.bind(this))},_saveImport:function(e){this._oDialog.setBusy(true);var t;this.sPageId=a.last("/core/spaces/myHome/myHomePageId");this.aPromiseChain=[];return Promise.all([sap.ushell.Container.getServiceAsync("Bookmark"),sap.ushell.Container.getServiceAsync("Message"),sap.ushell.Container.getServiceAsync("Pages"),sap.ushell.Container.getServiceAsync("UserInfo")]).then(function(e){t={bookmark:e[0],message:e[1],pages:e[2],userInfo:e[3]};return this._getMyHomeContentNode(t.bookmark)}.bind(this)).then(function(i){this.iPageIndex=t.pages.getPageIndex(this.sPageId);t.pages.enableImplicitSave(false);this._performImportOperations(e,t,i);return this._executeSequentially(this.aPromiseChain)}.bind(this)).then(function(){return this._savePersonalizations(t.pages)}.bind(this)).then(function(){t.message.info(o.i18n.getText("MyHome.InitialPage.Message.ImportSuccessful"));t.userInfo.getUser().setImportBookmarksFlag("done");return t.userInfo.updateUserPreferences()}).then(function(){u.refreshBrowser()}).catch(function(e){t.message.error(e)}).finally(function(){this._oDialog.setBusy(false);this.close()}.bind(this))},_performImportOperations:function(e,t,i){var s;var n=false;for(var a=0,r=e.length;a<r;++a){s=e[a];if(s.isDefault){this._addToPresetSection(s,a,t,i,n);n=true}else{this._addSection(s,a,t,i,n)}}},_executeSequentially:function(t){return t.reduce(function(t,i){return t.then(function(){return i()}).catch(function(t){e.error(t)})},Promise.resolve())},_getSectionIndex:function(e,t,i,s){var n=this._getPresetSectionIndex(e);if(!t.isDefault&&!t.isLocked&&!s){return n+i+1}return n+i},_getPresetSectionIndex:function(e){var t=e.getModel().getProperty("/pages/"+this.iPageIndex+"/sections/");return t.findIndex(function(e){return e.id===a.last("/core/spaces/myHome/presetSectionId")})},_getDefaultSectionIndex:function(e){var t=e.getModel().getProperty("/pages/"+this.iPageIndex+"/sections/");return t.findIndex(function(e){return e.default})},_getPresetSection:function(e){var t=e.getModel().getProperty("/pages/"+this.iPageIndex+"/sections/");return t.find(function(e){return e.id===a.last("/core/spaces/myHome/presetSectionId")})},_getDefaultSection:function(e){var t=e.getModel().getProperty("/pages/"+this.iPageIndex+"/sections/");return t.find(function(e){return e.default})},_gatherVizDataObjectFromChipInstance:function(t){var i;var s;var n={vizId:t.chipId,isABookmark:!!t.configuration};var r=a.last("/core/stableIDs/enabled");if(r){var o=t.Chip&&t.Chip.referenceChipId;if(o&&o!=="O"){n.vizId=t.Chip.referenceChipId}}if(n.isABookmark){n.isCustomBookmark=["X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER","X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER"].indexOf(t.chipId)===-1;i=JSON.parse(JSON.parse(t.configuration).tileConfiguration);n.title=i.display_title_text;n.url=i.navigation_target_url;n.icon=i.display_icon_url;n.info=i.display_info_text;n.subtitle=i.display_subtitle_text;n.serviceUrl=i.service_url;n.serviceRefreshInterval=i.service_refresh_interval;n.numberUnit=i.display_number_unit;n.vizConfig=t.configuration}if(n.isCustomBookmark){if(i.TILE_PROPERTIES){try{var u=JSON.parse(i.TILE_PROPERTIES);if(!n.url&&u.semanticObject&&u.semanticAction){var l={};if(u.evaluationId){l.EvaluationId=u.evaluationId}n.url="#"+this._oURLParsingService.constructShellHash({target:{semanticObject:u.semanticObject,action:u.semanticAction},params:l})}if(u.title){n.title=u.title}if(u.subtitle){n.subtitle=u.subtitle}}catch(t){e.error("Could not create URL for custom bookmark with title: "+n.title+", Error Message: "+t.message)}}n.vizConfig={};n.loadManifest=true;n.vizType=c[t.chipId];n.chipConfig={chipId:t.chipId,bags:{},configuration:JSON.parse(t.configuration)}}s=t.ChipInstanceBags.results;if(s.length){n.bUpdateNeeded=!n.isABookmark;if(n.isCustomBookmark){s.forEach(function(e){n.chipConfig.bags[e.id]={properties:{},texts:{}};e.ChipInstanceProperties.results.forEach(function(t){if(t.translatable==="X"){n.chipConfig.bags[e.id].texts[t.name]=t.value}else{n.chipConfig.bags[e.id].properties[t.name]=t.value}})})}s.filter(function e(t){return t.id==="tileProperties"}).forEach(function(e){e.ChipInstanceProperties.results.forEach(function(e){switch(e.name){case"display_title_text":n.title=e.value;break;case"display_subtitle_text":n.subtitle=e.value;break;case"display_info_text":n.info=e.value;break;case"display_search_keywords":n.searchKeyword=e.value;break;default:break}})});s.filter(function e(t){return t.id==="sb_tileProperties"}).forEach(function(e){e.ChipInstanceProperties.results.forEach(function(e){switch(e.name){case"title":n.title=e.value;break;case"description":n.subtitle=e.value;break;default:break}})})}return n},_savePersonalizations:function(e){e.enableImplicitSave(true);return e.savePersonalization(this.sPageId).then(function(){e.enableImplicitSave(false)})},_prepareImport:function(e){var t={};var i=this._oDialog.getModel();var s=i.getProperty("/groups");var n;var a;s.forEach(function(i){if(e.indexOf(i.id)===-1){return}n={};i.chips.forEach(function(e){a=this._gatherVizDataObjectFromChipInstance(e);n[e.instanceId]=a}.bind(this));i.tiles=[];i.tileOrder.forEach(function(e){a=n[e];if(a){delete n[e];i.tiles.push(a)}});i.links=[];i.linkOrder.forEach(function(e){a=n[e];if(a){delete n[e];a.displayFormatHint=l.Compact;a.bUpdateNeeded=true;i.links.push(a)}});Object.keys(n).map(function(e){i.tiles.push(n[e])});t[i.id]=i}.bind(this));var r=[];var o;e.forEach(function(e){o=t[e];if(o){r.push(o)}});return r}})});
},
	"sap/ushell/components/pages/controller/MyHome.controller.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/components/pages/MyHomeImport","sap/ui/model/json/JSONModel","sap/ui/core/mvc/Controller","sap/ushell/resources","sap/ushell/EventHub","sap/base/Log"],function(e,o,i,n,t,s){"use strict";return i.extend("sap.ushell.components.pages.controller.MyHome",{onInit:function(){this.oViewModel=new o({personalizationAvailable:false});var i=function(e){this.oViewModel.setProperty("/personalizationAvailable",!!e)}.bind(this);this.getView().setModel(n.i18nModel,"i18n");this.getView().setModel(this.oViewModel,"view");e.isImportEnabled().then(i);this.oImportBookmarksFlagListener=t.on("importBookmarksFlag").do(i)},onExit:function(){this.oImportBookmarksFlagListener.off()},connect:function(e){this.fnOnEdit=e.onEdit;this.fnOnOpenDialog=e.onOpenDialog},onEditPress:function(){if(this.fnOnEdit){this.fnOnEdit()}},onImportDialogPress:function(){if(this.fnOnOpenDialog){this.fnOnOpenDialog()}},onMessageStripClose:function(){this.oViewModel.setProperty("/personalizationAvailable",false);e.setImportEnabled(false);sap.ui.require(["sap/m/MessageBox"],function(e){e.information(n.i18n.getText("MyHome.InitialPage.MessageStrip.Popup"))})}})});
},
	"sap/ushell/components/pages/controller/PageRuntime.controller.js":function(){
//Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/library","sap/ui/core/mvc/Controller","sap/ui/events/KeyCodes","sap/m/GenericTile","sap/ushell/resources","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/m/library","sap/m/MessageToast","sap/ushell/components/pages/StateManager","sap/ushell/EventHub","sap/ushell/utils","sap/m/Button","sap/base/strings/capitalize","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ushell/components/pages/controller/PagesAndSpaceId","sap/ushell/components/pages/MyHomeImport","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/base/Log"],function(e,t,i,n,o,a,r,s,l,u,d,g,h,c,p,m,f,v,P,jQuery,_){"use strict";var M=s.LoadState;var C=e.DisplayFormat;return t.extend("sap.ushell.components.pages.controller.Pages",{onInit:function(){this._setPerformanceMark("FLP-PagesRuntime-onInit");this._oVisualizationInstantiationServicePromise=sap.ushell.Container.getServiceAsync("VisualizationInstantiation");this._oURLParsingService=sap.ushell.Container.getServiceAsync("URLParsing");this._oViewSettingsModel=new a({sizeBehavior:r.last("/core/home/sizeBehavior"),actionModeActive:false,actionModeEditActive:false,showHideButton:r.last("/core/catalog/enableHideGroups"),showAddButton:r.last("/core/catalog/enabled"),personalizationEnabled:r.last("/core/shell/enablePersonalization"),addToMyHomeOnly:false,showPageTitle:false,gridContainerGap:[],gridContainerRowSize:[]});this.getView().setModel(this._oViewSettingsModel,"viewSettings");this._sMyHomePageId=r.last("/core/spaces/myHome/myHomePageId");this._aConfigListeners=r.on("/core/home/sizeBehavior").do(function(e){this._oViewSettingsModel.setProperty("/sizeBehavior",e)}.bind(this));this._oErrorPageModel=new a({icon:"sap-icon://documents",text:"",description:"",details:""});this.getView().setModel(this._oErrorPageModel,"errorPage");this.oInitFinishedPromise=Promise.all([this._oVisualizationInstantiationServicePromise,this.getOwnerComponent().getPagesService()]).then(function(e){this._oVisualizationInstantiationService=e[0];this.getView().setModel(e[1].getModel())}.bind(this));d.emit("S4MyHomePlugin",this.byId("pagesNavContainer").getId());var e=sap.ushell.Container.getRenderer();this.bIsHomeIntentRootIntent=g.isFlpHomeIntent(e.getShellConfig().rootIntent);this.oErrorPage=this.byId("errorPage");this.oEmptyPage=this.byId("emptyPage");this.oPagesNavContainer=this.byId("pagesNavContainer");this.oPagesRuntimeNavContainer=this.byId("pagesRuntimeNavContainer");this.oPagesRuntimeNavContainer.to(this.oEmptyPage);u.init(this.oPagesRuntimeNavContainer,this.oPagesNavContainer);this.oEventHubListener=d.once("PagesRuntimeRendered").do(this._onFirstPageRendering.bind(this));this._oEventBus=sap.ui.getCore().getEventBus();this._oEventBus.subscribe("launchpad","shellFloatingContainerIsDocked",this._handleUshellContainerDocked,this);this._oEventBus.subscribe("launchpad","shellFloatingContainerIsUnDocked",this._handleUshellContainerDocked,this);this.oVisualizationInstantiationListener=d.on("VizInstanceLoaded").do(function(){this._setPerformanceMark("FLP-TTI-Homepage");if(!this.oVisualizationInstantiationListenerTimeout){this.oVisualizationInstantiationListenerTimeout=setTimeout(function(){this.oVisualizationInstantiationListener.off()}.bind(this),5e3)}}.bind(this));this.fnBoundSetGridContainerSizes=this._setGridContainerSizes.bind(this);r.on("/core/home/sizeBehavior").do(this.fnBoundSetGridContainerSizes);d.on("themeChanged").do(this.fnBoundSetGridContainerSizes);this.sCurrentTargetPageId="";return this._openFLPPage().then(function(){if(!document.activeElement||document.activeElement===document.body){var t=jQuery(this.oPagesNavContainer.getDomRef()).firstFocusableDomRef();if(t){t.focus()}}if(!this.getOwnerComponent().getNavigationDisabled()){this.oContainerRouter=e.getRouter();this.oContainerRouter.getRoute("home").attachMatched(this.onRouteMatched.bind(this,true));this.oContainerRouter.getRoute("openFLPPage").attachMatched(this.onRouteMatched.bind(this,false))}}.bind(this))},_setGridContainerSizes:function(){var e=r.last("/core/home/sizeBehavior");var t=this.getView().getModel("viewSettings");var i=e==="Small"?"_sap_ushell_Tile_SpacingXS":"_sap_ushell_Tile_Spacing";var n=e==="Small"?"_sap_ushell_Tile_SpacingXS":"_sap_ushell_Tile_SpacingS";t.setProperty("/gridContainerGap/gridContainerGap",this._getNumericThemeParam(i));t.setProperty("/gridContainerGap/gridContainerGapXS",this._getNumericThemeParam("_sap_ushell_Tile_SpacingXS"));t.setProperty("/gridContainerGap/gridContainerGapS",this._getNumericThemeParam(n));t.setProperty("/gridContainerGap/gridContainerGapM",this._getNumericThemeParam(i));t.setProperty("/gridContainerGap/gridContainerGapL",this._getNumericThemeParam(i));t.setProperty("/gridContainerGap/gridContainerGapXL",this._getNumericThemeParam(i));var o=e==="Small"?"_sap_ushell_Tile_WidthXS":"_sap_ushell_Tile_Width";var a=e==="Small"?"_sap_ushell_Tile_WidthXS":"_sap_ushell_Tile_WidthS";t.setProperty("/gridContainerRowSize/gridContainerRowSize",this._getNumericThemeParam(o));t.setProperty("/gridContainerRowSize/gridContainerRowSizeXS",this._getNumericThemeParam("_sap_ushell_Tile_WidthXS"));t.setProperty("/gridContainerRowSize/gridContainerRowSizeS",this._getNumericThemeParam(a));t.setProperty("/gridContainerRowSize/gridContainerRowSizeM",this._getNumericThemeParam(o));t.setProperty("/gridContainerRowSize/gridContainerRowSizeL",this._getNumericThemeParam(o));t.setProperty("/gridContainerRowSize/gridContainerRowSizeXL",this._getNumericThemeParam(o))},_getNumericThemeParam:function(e){var t=sap.ui.core.theming.Parameters.get(e);if(t&&t.indexOf(".")===0){t="0"+t}return t},_isMyHomeEnabled:function(){return r.last("/core/spaces/myHome/userEnabled")&&r.last("/core/spaces/myHome/enabled")},_getMyHomeTitle:function(){return sap.ushell.Container.getServiceAsync("Menu").then(function(e){return e.getMyHomeSpace()}).then(function(e){if(!e||!e.children.length){return""}return e.children[0].label})},_onFirstPageRendering:function(){var e=r.last("/core/shell/enablePersonalization");var t=this._isMyHomeEnabled();if(e){this._createActionModeButton()}else if(t){this._getMyHomeTitle().then(this._createActionModeButton.bind(this))}d.emit("firstSegmentCompleteLoaded",true)},onRouteMatched:function(e){var t=r.last("/core/homeApp/enabled");var i=t&&e;_.debug("cep/editMode: on Route matched","Page runtime");this._removeMyHomePage();if(!i){this._openFLPPage()}else{this.oPagesRuntimeNavContainer.to(this.oEmptyPage);r.emit("/core/shell/model/currentSpaceAndPage",undefined)}var n=sap.ui.getCore().byId("ActionModeBtn");if(!n){return}var o=sap.ushell.Container.getRenderer("fiori2");var a=this._getStateInfoActionModeButton();if(i){if(this._moveEditActionToHeader()){o.hideHeaderEndItem(n.getId(),a.bCurrentState,a.aStates)}else{o.hideActionButton(n.getId(),a.bCurrentState,a.aStates)}return}if(!e&&t){if(this._moveEditActionToHeader()){o.showHeaderEndItem(n.getId(),a.bCurrentState,a.aStates)}else{o.showActionButton(n.getId(),a.bCurrentState,a.aStates)}return}if(!this.bIsHomeIntentRootIntent){if(this._moveEditActionToHeader()){o.showHeaderEndItem(n.getId(),a.bCurrentState,a.aStates)}else{o.showActionButton(n.getId(),a.bCurrentState,a.aStates)}}},_setPerformanceMark:function(e){g.setPerformanceMark(e,{bUseUniqueMark:true,bUseLastMark:true})},_setActionButtonText:function(e){e=e||this._sActionModeTextId;if(!e){return}this._sActionModeTextId=e;this._getMyHomeTitle().then(function(t){var i=sap.ui.getCore().byId("ActionModeBtn");if(i){var n=o.i18n.getText(e,t);i.setText(n);i.setTooltip(n)}})},_setActionModeLogic:function(e){var t=false;var i=false;if(r.last("/core/shell/enablePersonalization")){t=true}else if(e){t=true;this._setActionButtonText("PageRuntime.EditModeForPage.Activate")}else if(this._isMyHomeEnabled()){i=true;this._setActionButtonText("PageRuntime.EditModeForPage.AddTilesToMyHome")}this._oViewSettingsModel.setProperty("/personalizationEnabled",t);this._oViewSettingsModel.setProperty("/addToMyHomeOnly",i)},_openFLPPage:function(){var e,t;return f._getPageAndSpaceId().then(function(i){e=i.pageId;t=i.spaceId;this.sCurrentTargetPageId=e;this.sCurrentTargetSpaceId=t;return Promise.all([this.oInitFinishedPromise,sap.ushell.Container.getServiceAsync("Menu")]).then(function(i){var n=i[1];return n.isSpacePageAssigned(t,e)}).then(function(e){if(!e){return Promise.reject("The combination of space and page is not assigned to the user.")}return this.getOwnerComponent().getPagesService()}.bind(this)).then(function(t){_.debug("cep/editMode: load Page: "+e,"Page runtime");return t.loadPage(e)}).then(function(){_.debug("cep/editMode: load Page: show action mode button "+e,"Page runtime");this._showActionModeButton();if(this.sCurrentTargetPageId===e){var i=this._isMyHomeRouteActive();this._setActionModeLogic(i);if(i&&this._isMyHomePageEmpty()){return this._navigateToInitialMyHome()}return this._navigate(e,t)}return Promise.resolve()}.bind(this)).then(this._notifyOnPageRuntimeRendered.bind(this)).catch(function(i){_.debug("cep/editMode: open FLP Page: Handle errors","Page runtime");if(i instanceof Error){this._oErrorPageModel.setProperty("/text",o.i18n.getText("PageRuntime.GeneralError.Text"))}else{var n=o.i18n.getText("PageRuntime.CannotLoadPage.Description")+JSON.stringify(i);this._oErrorPageModel.setProperty("/icon","sap-icon://documents");this._oErrorPageModel.setProperty("/text",o.i18n.getText("PageRuntime.CannotLoadPage.Text",[e,t]));this._oErrorPageModel.setProperty("/description","");this._oErrorPageModel.setProperty("/details",n)}this.oPagesRuntimeNavContainer.to(this.oErrorPage);this._hideActionModeButton();this._cancelActionMode();this._notifyOnPageRuntimeRendered()}.bind(this))}.bind(this)).catch(this._onError.bind(this))},_onError:function(e){this._oErrorPageModel.setProperty("/icon","sap-icon://documents");this._oErrorPageModel.setProperty("/text",e||"");this._oErrorPageModel.setProperty("/description","");this._oErrorPageModel.setProperty("/details","");this.oPagesRuntimeNavContainer.to(this.oErrorPage);this._hideActionModeButton();this._cancelActionMode();this._notifyOnPageRuntimeRendered()},_navigate:function(e,t,i){var n=this.oPagesNavContainer.getPages().find(function(t){return e===t.data("pageId")});if(!n){return Promise.reject()}var o;return sap.ushell.Container.getServiceAsync("Menu").then(function(e){o=e;return o.hasMultiplePages(t)}).then(function(a){var s=this.oPagesNavContainer.getCurrentPage()===n;this._oViewSettingsModel.setProperty("/showPageTitle",a);this.oPagesNavContainer.to(n);this.oPagesRuntimeNavContainer.to(this.oPagesNavContainer);if(!s&&!i){this._cancelActionMode()}o.getSpaceAndPageTitles(t,e).then(function(e){var t={pageTitle:e.pageTitle,spaceTitle:e.spaceTitle,hash:P.getHash()};r.emit("/core/shell/model/currentSpaceAndPage",t)})}.bind(this))},_navigateToInitialMyHome:function(){if(!this._pLoadMyHomeView){this._pLoadMyHomeView=new Promise(function(e,t){sap.ui.require(["sap/ui/core/mvc/XMLView"],function(i){i.create({id:"sapUshellMyHomePage",viewName:"sap.ushell.components.pages.view.MyHomeStart"}).then(function(t){t.getController().connect({onEdit:this.pressActionModeButton.bind(this),onOpenDialog:this.openMyHomeImportDialog.bind(this)});e(t)}.bind(this)).catch(t)}.bind(this),t)}.bind(this))}return this._pLoadMyHomeView.then(function(e){this._cancelActionMode();this.oPagesRuntimeNavContainer.insertPage(e,0);this.oPagesRuntimeNavContainer.to(e)}.bind(this))},_notifyOnPageRuntimeRendered:function(){try{var e;var t=this.oPagesNavContainer.getCurrentPage();e=t&&t.getId();d.emit("S4Plugin_PagesRuntimeRendered",e)}catch(e){_.error("Error while trying to trigger the PagesRuntimeRendered event for the S/4 My Home plugin")}d.emit("PagesRuntimeRendered");if(d.last("AppRendered")!==undefined){d.emit("AppRendered",undefined)}},_pressViewDetailsButton:function(){var e=this._oErrorPageModel.getProperty("/details")||"";this._oErrorPageModel.setProperty("/description",e)},_copyToClipboard:function(){var e=g.copyToClipboard(this._oErrorPageModel.getProperty("/description"));if(e){l.show(o.i18n.getText("PageRuntime.CannotLoadPage.CopySuccess"),{closeOnBrowserNavigation:false})}else{l.show(o.i18n.getText("PageRuntime.CannotLoadPage.CopyFail"),{closeOnBrowserNavigation:false})}},_visualizationFactory:function(e,t){if(this._oVisualizationInstantiationService){var i=t.getObject();var o=t.getPath();var a=o.replace(/\/visualizations\/\d*\/?$/,"");var r=a.replace(/\/sections\/\d*\/?$/,"");var s=t.getModel().getProperty(r);var l=this._oVisualizationInstantiationService.instantiateVisualization(i);l.attachPress(this.onVisualizationPress,this);l.bindEditable("viewSettings>/actionModeActive");if(l.bindRemovable){l.bindRemovable("viewSettings>/actionModeEditActive")}this._addTileActions(l,s?s.id:"");l.attachBeforeActionSheetOpen(function(){var e=this._createMoveTileActionButton(l,s);if(e){l.attachEventOnce("afterActionSheetClose",function(){l.removeTileAction(e)})}}.bind(this));var d=t.getPath().split("/")[2];var g=!!u.getPageVisibility("/pages/"+d);l.setActive(g);return l}return new n({state:M.Failed})},_addTileActions:function(e,t){var i=e.getAvailableDisplayFormats();var n=r.last("/core/shell/enablePersonalization");var o=this._isMyHomeEnabled();var a=t===this._sMyHomePageId;if(n||a){for(var s=0;s<i.length;s++){e.addTileAction(new h({text:"{i18n>VisualizationInstance.ConvertTo"+c(i[s])+"Action}",press:[i[s],this._updateVisualizationDisplayFormat,this]}))}}if(o&&!a){e.addTileAction(new h({text:"{i18n>addToMyHome_action}",press:[e,this._addToMyHome,this]}))}},_createMoveTileActionButton:function(e,t){var i=t?t.id:"";var n=i===this._sMyHomePageId;var a=r.last("/core/shell/enablePersonalization");var s=t.sections.filter(function(e){return!e.default});var l=e.getParent().getBindingContext().getProperty("default");if((a||n)&&s.length>=(l?1:2)){var u=new h({text:o.i18n.getText("moveTile_action"),press:[e,this._openMoveVisualizationDialog,this]});e.addTileAction(u);return u}},_openMoveVisualizationDialog:function(e,t){this._oVizInstanceToBeMoved=t;var i=t.getBindingContext().getPath();var n=i.split("/");var o=t.getParent().getBindingContext().getProperty("id");var a="/pages/"+n[2]+"/sections";if(!this._oMoveVisualizationDialogPromise){this._oMoveVisualizationDialogPromise=new Promise(function(e){sap.ui.require(["sap/ui/core/Fragment"],function(t){t.load({name:"sap.ushell.components.pages.MoveVisualization",controller:this}).then(function(t){this.getView().addDependent(t);e(t)}.bind(this))}.bind(this))}.bind(this))}return this._oMoveVisualizationDialogPromise.then(function(e){e.bindObject({path:a});e.getBinding("items").filter([new p("default",m.EQ,false),new p("id",m.NE,o)]);e.open()})},_addToMyHome:function(e,t){var i=t.getBindingContext().getObject();return this.getOwnerComponent().getPagesService().then(function(e){return e.copyVisualization(this._sMyHomePageId,null,i)}.bind(this)).then(function(){l.show(o.i18n.getText("PageRuntime.Message.VisualizationAddedToMyHome"))})},_confirmSelect:function(e){var t=this._oVizInstanceToBeMoved.getBindingContext().getPath();var i=t.split("/");var n=i[2];var o=i[4];var a=i[6];var r=e.getParameter("selectedItem").getBindingContext().getPath();var s=r.split("/");var u=s[4];var d=this._getAncestorControl(this._oVizInstanceToBeMoved,"sap.ushell.ui.launchpad.Section");var g=this._getAncestorControl(this._oVizInstanceToBeMoved,"sap.ushell.ui.launchpad.Page");var h=g.getSections();var c=h[u];var p=d.getItemPosition(this._oVizInstanceToBeMoved).area;this._oVizInstanceToBeMoved=null;var m=this.getOwnerComponent();return m.getPagesService().then(function(e){return e.moveVisualization(n,o,a,u,-1)}).then(function(e){var t=c.getVisualizations()[e.visualizationIndex];if(t){c.focusVisualization(t)}var i=this._getVizMoveMessage(o,u,p,p);l.show(i)}.bind(this))},_onMoveTileSearch:function(e){var t=e.getParameter("value");var i=new p("title",m.Contains,t);var n=new p("default",m.EQ,false);var o=e.getParameter("itemsBinding");o.filter([i,n])},_onMoveTileDialogClose:function(e){this._oVizInstanceToBeMoved=null},_updateVisualizationDisplayFormat:function(e,t){var i=e.getSource().getBindingContext();var n=i.getPath();var o=n.split("/");var a;var r=o[4];var s=o[4];var u=this.getOwnerComponent();return u.getPagesService().then(function(e){a=e.getModel().getProperty(n).displayFormatHint;var i={displayFormatHint:t};return e.updateVisualization(o[2],o[4],o[6],i)}).then(function(){var e=this._getVizMoveMessage(r,s,a,t);l.show(e)}.bind(this))},onVisualizationPress:function(e){var t=e.getParameter("scope");var i=e.getParameter("action");var n=e.getSource();var a=n.getBindingContext();var r=a.getPath();var s=r.split("/");var d=this._getAncestorControl(n,"sap.ushell.ui.launchpad.Section");if(t==="Display"&&i==="Press"){u.addVisualizationForRefresh(n)}else if(t==="Actions"&&i==="Remove"){return this.getOwnerComponent().getPagesService().then(function(e){var t=d.getItemPosition(n);e.deleteVisualization(s[2],s[4],s[6]);l.show(o.i18n.getText("PageRuntime.Message.VisualizationRemoved"));d._focusItem(t)})}return Promise.resolve()},onExit:function(){this.oContainerRouter.getRoute("home").detachMatched(this.onRouteMatched,this);this.oContainerRouter.getRoute("openFLPPage").detachMatched(this.onRouteMatched,this);this._aConfigListeners.off();this.oEventHubListener.off();this._oEventBus.unsubscribe("launchpad","shellFloatingContainerIsDocked",this._handleUshellContainerDocked,this);this._oEventBus.unsubscribe("launchpad","shellFloatingContainerIsUnDocked",this._handleUshellContainerDocked,this);u.exit();var e=sap.ui.getCore().byId("ActionModeBtn");if(e){e.destroy()}},_hideActionModeButton:function(){var e=sap.ui.getCore().byId("ActionModeBtn");_.debug("cep/editMode: hide Action Mode Button","Page runtime");if(e){e.setVisible(false)}},_showActionModeButton:function(){var e=sap.ui.getCore().byId("ActionModeBtn");if(e){e.setVisible(true)}},_moveEditActionToHeader:function(){var e=sap.ushell.Container.getRenderer("fiori2");var t=e.getShellConfig().moveEditHomePageActionToShellHeader;return t&&r.last("/core/shell/enablePersonalization")},_createActionModeButton:function(e){var t=e?o.i18n.getText("PageRuntime.EditModeForPage.Activate",e):o.i18n.getText("PageRuntime.EditMode.Activate");var i={id:"ActionModeBtn",text:t,icon:"sap-icon://edit",press:[this.pressActionModeButton,this]};_.debug("cep/editMode: create Action Mode Button","Page runtime");if(this._moveEditActionToHeader()){i.tooltip=t;this._createHeaderActionModeButton(i)}else{this._createUserActionModeButton(i)}},_createHeaderActionModeButton:function(e){sap.ui.require(["sap/ushell/ui/shell/ShellHeadItem"],function(t){var i=new t(e);if(r.last("/core/extension/enableHelp")){i.addStyleClass("help-id-ActionModeBtn")}var n=sap.ushell.Container.getRenderer("fiori2");var o=this._getStateInfoActionModeButton();n.showHeaderEndItem(i.getId(),o.bCurrentState,o.aStates)}.bind(this))},_getStateInfoActionModeButton:function(){if(!this.bIsHomeIntentRootIntent){return{bCurrentState:true,aStates:null}}return{bCurrentState:false,aStates:["home"]}},_createUserActionModeButton:function(e){var t=this._getStateInfoActionModeButton();var i={controlType:"sap.ushell.ui.launchpad.ActionItem",oControlProperties:e,bIsVisible:true,bCurrentState:t.bCurrentState,aStates:t.aStates};var n=sap.ushell.Container.getRenderer("fiori2");n.addUserAction(i).done(function(e){if(r.last("/core/extension/enableHelp")){e.addStyleClass("help-id-ActionModeBtn")}this._setActionButtonText()}.bind(this))},pressActionModeButton:function(){var e=this.getView().getModel("viewSettings");var t=e.getProperty("/actionModeActive");var i=e.getProperty("/personalizationEnabled");var n=e.getProperty("/addToMyHomeOnly");sap.ui.require(["sap/ushell/components/pages/ActionMode"],function(e){if(t){e.cancel();return}else if(i||n||this._isMyHomeRouteActive()){e.start(this)}}.bind(this))},_cancelActionMode:function(){var e=this.getView().getModel("viewSettings").getProperty("/actionModeActive");if(e){sap.ui.require(["sap/ushell/components/pages/ActionMode"],function(e){e.cancel()})}},handleEditModeAction:function(e,t,i,n){sap.ui.require(["sap/ushell/components/pages/ActionMode"],function(o){_.debug("cep/editMode: handle Edit Mode Action","Page runtime");o[e](t,i,n)})},_getAncestorControl:function(e,t){if(e&&e.isA&&e.isA(t)){return e}else if(e&&e.getParent){return this._getAncestorControl(e.getParent(),t)}return null},moveVisualization:function(e){var t=e.getParameter("draggedControl"),n=e.getParameter("droppedControl"),o=e.getParameter("dropPosition"),a=e.getParameter("browserEvent"),r=a&&a.keyCode,s=this._getAncestorControl(t,"sap.ushell.ui.launchpad.Page"),u=parseInt(t.getBindingContext().getPath().split("/")[2],10),d=this._getAncestorControl(t,"sap.ushell.ui.launchpad.Section"),g=s.indexOfSection(d),h=d.indexOfVisualization(t),c=d.getVisualizations()[h],p=d.getItemPosition(c),m,f,v,P,_;if(!n){var M=e.mParameters.browserEvent.keyCode===i.ARROW_UP,C=s.getSections();f=g;while(true){f=M?--f:++f;m=C[f];if(!m||m.getDefault()){c.invalidate();return Promise.resolve()}if(m.getShowSection()||m.getEditable()){v=m.getClosestCompactItemIndex(t.getDomRef(),M);P=m.getVisualizations()[v];_=m.getItemPosition(P);if(_.area!==p.area){_=p}break}}}else{if(n.isA("sap.ushell.ui.launchpad.section.CompactArea")){var y=n.getItems();if(y.length){n=y[y.length-1];o="After"}}m=this._getAncestorControl(n,"sap.ushell.ui.launchpad.Section");f=s.indexOfSection(m);if(m.getDefault()&&!d.getDefault()){c.invalidate();return Promise.resolve()}v=m.indexOfVisualization(n);P=m.getVisualizations()[v];_=m.getItemPosition(P);if(_.index===-1){_.area=p.area}if(g===f){if(o==="Before"&&h<v){v--}else if(o==="After"&&h>v){v++}if(h===v&&_.area===p.area){c.invalidate();return Promise.resolve()}}else if(o==="After"){v++}}if(g!==f&&(r===i.ARROW_UP||r===i.ARROW_DOWN)&&p.index>_.index){v++}var S;var b=this.getOwnerComponent();return b.getPagesService().then(function(e){S=e;S.enableImplicitSave(false);return S.moveVisualization(u,g,h,f,v)}).then(function(e){v=e.visualizationIndex;if(p.area!==_.area){var t={displayFormatHint:_.area};return S.updateVisualization(u,f,v,t)}return Promise.resolve()}).then(function(){return S.savePersonalization()}).then(function(){var e=m.getVisualizations()[v];if(e){m.focusVisualization(e);e.invalidate()}var t=this._getVizMoveMessage(g,f,p.area,_.area);l.show(t)}.bind(this)).finally(function(){S.enableImplicitSave(true)})},_getVizMoveMessage:function(e,t,i,n){if(e===t){if(i!==n){return o.i18n.getText("PageRuntime.Message.VisualizationConverted")}}if(i===n){return o.i18n.getText("PageRuntime.Message.VisualizationMoved")}return o.i18n.getText("PageRuntime.Message.VisualizationMovedAndConverted")},onDragEnter:function(e){var t=e.getParameter("dragSession").getDropControl();if(t.getDefault()){e.preventDefault()}},onAreaDragEnter:function(e){var t=e.getParameter("sourceArea");var i=e.getParameter("targetArea");if(t===i){return}var n=e.getParameter("dragControl");var o=n.getAvailableDisplayFormats();if(o.indexOf(i)===-1){if(i===C.Standard&&o.indexOf(C.StandardWide)>-1){return}if(i===C.Flat&&o.indexOf(C.FlatWide)>-1){return}e.getParameter("originalEvent").preventDefault()}},_handleUshellContainerDocked:function(e,t){this._oViewSettingsModel.setProperty("/ushellContainerDocked",t==="shellFloatingContainerIsDocked")},_isMyHomeRouteActive:function(){return r.last("/core/spaces/myHome/enabled")&&r.last("/core/spaces/myHome/userEnabled")&&r.last("/core/spaces/myHome/myHomeSpaceId")===this.sCurrentTargetSpaceId},_getMyHomePageData:function(){var e=this.getView().getModel().getProperty("/pages")||[];for(var t=0;t<e.length;t++){if(e[t]&&e[t].id==="SAP_BASIS_PG_UI_MYHOME"){return e[t]}}return null},_isMyHomePageEmpty:function(){var e=this._getMyHomePageData();if(e&&e.sections){return e.sections.every(function(e){var t=e.visualizations;return!(t&&t.length)})}return false},handleMyHomeActionMode:function(e){if(this._isMyHomeRouteActive()){if(e){return this._enterMyHomeActionMode()}else if(this._isMyHomePageEmpty()){return this._navigateToInitialMyHome()}}return Promise.resolve()},_enterMyHomeActionMode:function(){return Promise.all([this._navigate(this.sCurrentTargetPageId,this.sCurrentTargetSpaceId,true),v.isImportEnabled()]).then(function(e){if(!e[1]){if(this._pMessageStrip){this._pMessageStrip.then(function(e){e.setVisible(false)})}return Promise.resolve()}if(!this._pMessageStrip){this._pMessageStrip=new Promise(function(e,t){sap.ui.require(["sap/ui/core/Fragment"],function(i){i.load({name:"sap.ushell.components.pages.view.MessageStrip",controller:this}).then(function(t){d.on("importBookmarksFlag").do(function(e){t.setVisible(!!e)});t.addStyleClass("sapUiSmallMarginBottom");e(t)}).catch(t)}.bind(this),t)}.bind(this))}return this._pMessageStrip.then(function(e){this.oPagesNavContainer.getCurrentPage().getContent()[0].setMessageStrip(e)}.bind(this))}.bind(this))},openMyHomeImportDialog:function(){if(!this._pLoadImportDialog){this._pLoadImportDialog=new Promise(function(e,t){sap.ui.require(["sap/ushell/components/pages/controller/ImportDialog.controller"],function(t){e(new t)},t)})}return this._pLoadImportDialog.then(function(e){return e.open()})},onImportDialogPress:function(){this.openMyHomeImportDialog()},onMessageStripClose:function(){v.setImportEnabled(false);sap.ui.require(["sap/m/MessageBox"],function(e){e.information(o.i18n.getText("MyHome.InitialPage.MessageStrip.Popup"))})},_removeMyHomePage:function(){this.oPagesNavContainer.removePage("sapUshellMyHomePage")},_sectionEnableReset:function(e,t){if(e===r.last("/core/spaces/myHome/presetSectionId")){return false}return t},_sectionEnableDelete:function(e,t){if(e===r.last("/core/spaces/myHome/presetSectionId")){return false}return!t},hideRuntime:function(){_.debug("cep/editMode: navigate to empty page","Page runtime");this._hideActionModeButton();this.oPagesRuntimeNavContainer.to(this.oEmptyPage)}})});
},
	"sap/ushell/components/pages/controller/PagesAndSpaceId.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/resources","sap/ushell/Config"],function(e,n){"use strict";var t=function(){};t.prototype._getPageAndSpaceId=function(e){return sap.ushell.Container.getServiceAsync("URLParsing").then(function(n){if(e===undefined){e=window.hasher.getHash()}var t=n.parseShellHash(e)||{};var i={semanticObject:t.semanticObject||"",action:t.action||""};var a=t.params||{};var r=a.pageId||[];var s=a.spaceId||[];return this._parsePageAndSpaceId(r,s,i)}.bind(this))};t.prototype._parsePageAndSpaceId=function(n,t,i){return new Promise(function(a,r){this.getUserMyHomeEnablement().then(function(){if(n.length<1&&t.length<1){var s=i.semanticObject==="Shell"&&i.action==="home";var c=i.semanticObject===""&&i.action==="";if(s||c){this._getUserDefaultSpaceAndPage().then(function(e){a(e)}).catch(function(e){r(e)});return}r(e.i18n.getText("PageRuntime.NoPageIdAndSpaceIdProvided"))}if(n.length===1&&t.length===0){r(e.i18n.getText("PageRuntime.OnlyPageIdProvided"))}if(n.length===0&&t.length===1){r(e.i18n.getText("PageRuntime.OnlySpaceIdProvided"))}if(n.length>1||t.length>1){r(e.i18n.getText("PageRuntime.MultiplePageOrSpaceIdProvided"))}if(n[0]===""){r(e.i18n.getText("PageRuntime.InvalidPageId"))}if(t[0]===""){r(e.i18n.getText("PageRuntime.InvalidSpaceId"))}a({pageId:n[0],spaceId:t[0]})}.bind(this))}.bind(this))};t.prototype.getUserMyHomeEnablement=function(){return new Promise(function(e,t){var i=sap.ushell.Container.getUser().getShowMyHome();n.emit("/core/spaces/myHome/userEnabled",i);e(i)})};t.prototype._getUserDefaultSpaceAndPage=function(){return new Promise(function(n,t){Promise.all([sap.ushell.Container.getServiceAsync("Menu"),this.getUserMyHomeEnablement()]).then(function(i){var a=i[0];a.getDefaultSpace().then(function(i){if(!i){t(e.i18n.getText("PageRuntime.NoAssignedSpace"));return}var a=i&&i.children&&i.children[0];if(!a){t(e.i18n.getText("PageRuntime.NoAssignedPage"));return}n({spaceId:i.id,pageId:a.id})})}).catch(function(e){t(e)})}.bind(this))};return new t});
},
	"sap/ushell/components/pages/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ushell.components.pages","applicationVersion":{"version":"1.108.31"},"i18n":{"bundleUrl":"../../renderers/fiori2/resources/resources.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en_US","en_US_sappsd","en_US_saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh_CN","zh_TW"],"fallbackLocale":"en"},"ach":"CA-FLP-FE-COR","type":"component","title":"","resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"componentName":"sap.ushell.components.pages","rootView":{"viewName":"sap.ushell.components.pages.view.PageRuntime","type":"XML","async":true},"dependencies":{"minUI5Version":"1.72","libs":{"sap.ui.core":{},"sap.m":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/pages/view/ImportDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n                         xmlns:core="sap.ui.core"><Dialog title="{i18n>MyHome.ImportDialog.Title}" class="sapUiContentPadding" contentWidth="30rem"><content><Text text="{i18n>MyHome.ImportDialog.Info}" class="sapUiSmallMarginBottom" /><List\n                items="{/PersonalizedGroups}"\n                mode="MultiSelect"\n                growingThreshold="50"\n                class="sapUiSmallMarginBottom"\n                includeItemInSelection="true"\n                busy="{/busy}"><StandardListItem\n                    title="{title}"\n                    selected="{selected}" /></List></content><beginButton><Button\n                text="{i18n>MyHome.ImportDialog.Button.AddAppsToPage}"\n                press=".doImport"\n                type="Emphasized"\n                enabled="{= !${/busy}}"/></beginButton><endButton><Button text="{i18n>MyHome.ImportDialog.Button.Cancel}" press=".close" /></endButton></Dialog></core:FragmentDefinition>\n',
	"sap/ushell/components/pages/view/MessageStrip.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n                         xmlns:core="sap.ui.core"><MessageStrip\n        text="{i18n>MyHome.InitialPage.MessageStrip.Text}"\n        showIcon="true"\n        visible="{view>/personalizationAvailable}"\n        close=".onMessageStripClose"\n        showCloseButton="true"><link><Link text="{i18n>MyHome.InitialPage.MessageStrip.Link}" press=".onImportDialogPress"/></link></MessageStrip></core:FragmentDefinition>\n',
	"sap/ushell/components/pages/view/MyHomeStart.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.pages.controller.MyHome"><Page showHeader="false"><core:Fragment fragmentName="sap.ushell.components.pages.view.MessageStrip" type="XML" class="sapUiSmallMargin" /><VBox\n              class="sapUiSmallMargin"\n              alignItems="Center"\n              justifyContent="Center"><IllustratedMessage\n                illustrationSize="Scene"\n                illustrationType="sapIllus-NoData"\n                title="{i18n>MyHome.InitialPage.Title}"\n                description="{i18n>MyHome.InitialPage.Description}"><additionalContent><Button text="{i18n>MyHome.InitialPage.Button.EditPage}"\n                            press=".onEditPress"/></additionalContent></IllustratedMessage></VBox></Page></mvc:View>\n',
	"sap/ushell/components/pages/view/PageRuntime.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:dnd="sap.ui.core.dnd"\n    xmlns:data="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n    xmlns:launchpad="sap.ushell.ui.launchpad"\n    controllerName="sap.ushell.components.pages.controller.PageRuntime"\n    height="100%"><NavContainer id="pagesRuntimeNavContainer"><NavContainer id="pagesNavContainer" pages="{/pages}"><pages><Page\n                    data:pageId="{id}"\n                    showHeader="false"\n                    backgroundDesign="Transparent"\n                    floatingFooter="true"><content><launchpad:Page\n                            edit="{viewSettings>/actionModeEditActive}"\n                            dataHelpId="Page-{id}"\n                            showTitle="{viewSettings>/showPageTitle}"\n                            title="{title}"\n                            sections="{\n                                path: \'sections\',\n                                templateShareable: false,\n                                key: \'id\'\n                            }"\n                            addSectionButtonPressed=".handleEditModeAction(\'addSection\', $event, ${$source>/}, ${$parameters>/})"\n                            enableSectionReordering="{viewSettings>/actionModeEditActive}"\n                            sectionDrop=".handleEditModeAction(\'moveSection\', $event, ${$source>/}, ${$parameters>/})"><launchpad:sections><launchpad:Section\n                                    title="{title}"\n                                    class="sapContrastPlus"\n                                    sizeBehavior="{viewSettings>/sizeBehavior}"\n                                    dataHelpId="Section-{id}"\n                                    default="{default}"\n                                    visualizations="{\n                                        path: \'visualizations\',\n                                        factory: \'._visualizationFactory\',\n                                        key: \'id\'\n                                    }"\n                                    gridContainerGap="{viewSettings>/gridContainerGap/gridContainerGap}"\n                                    gridContainerGapXS="{viewSettings>/gridContainerGap/gridContainerGapXS}"\n                                    gridContainerGapS="{viewSettings>/gridContainerGap/gridContainerGapS}"\n                                    gridContainerGapM="{viewSettings>/gridContainerGap/gridContainerGapM}"\n                                    gridContainerGapL="{viewSettings>/gridContainerGap/gridContainerGapL}"\n                                    gridContainerGapXL="{viewSettings>/gridContainerGap/gridContainerGapXL}"\n                                    gridContainerRowSize="{viewSettings>/gridContainerRowSize/gridContainerRowSize}"\n                                    gridContainerRowSizeXS="{viewSettings>/gridContainerRowSize/gridContainerRowSizeXS}"\n                                    gridContainerRowSizeS="{viewSettings>/gridContainerRowSize/gridContainerRowSizeS}"\n                                    gridContainerRowSizeM="{viewSettings>/gridContainerRowSize/gridContainerRowSizeM}"\n                                    gridContainerRowSizeL="{viewSettings>/gridContainerRowSize/gridContainerRowSizeL}"\n                                    gridContainerRowSizeXL="{viewSettings>/gridContainerRowSize/gridContainerRowSizeXL}"\n                                    enableGridBreakpoints="false"\n                                    enableGridContainerQuery="{viewSettings>/ushellContainerDocked}"\n                                    editable="{viewSettings>/actionModeEditActive}"\n                                    add=".handleEditModeAction(\'addVisualization\', $event, ${$source>/}, ${$parameters>/})"\n                                    delete=".handleEditModeAction(\'deleteSection\', $event, ${$source>/}, ${$parameters>/})"\n                                    reset=".handleEditModeAction(\'resetSection\', $event, ${$source>/}, ${$parameters>/})"\n                                    sectionVisibilityChange=".handleEditModeAction(\'changeSectionVisibility\', $event, ${$source>/}, ${$parameters>/})"\n                                    titleChange=".handleEditModeAction(\'changeSectionTitle\', $event, ${$source>/}, ${$parameters>/})"\n                                    enableVisualizationReordering="{viewSettings>/personalizationEnabled}"\n                                    areaDragEnter=".onAreaDragEnter"\n                                    visualizationDrop=".moveVisualization($event, ${$source>/}, ${$parameters>/})"\n                                    showSection="{visible}"\n                                    visible="{= !!${visualizations}.length || ${viewSettings>/actionModeEditActive} }"\n                                    noVisualizationsText="{i18n>PageRuntime.EditMode.EmptySection}"\n                                    showNoVisualizationsText="{viewSettings>/actionModeEditActive}"\n                                    enableAddButton="{viewSettings>/showAddButton}"\n                                    enableResetButton="{ parts: [\'id\', \'preset\'], formatter: \'._sectionEnableReset\'}"\n                                    enableDeleteButton="{ parts: [\'id\', \'preset\'], formatter: \'._sectionEnableDelete\'}"\n                                    enableShowHideButton="{viewSettings>/showHideButton}" /></launchpad:sections><launchpad:dragDropConfig><dnd:DropInfo\n                                    groupName="Section"\n                                    targetAggregation="sections"\n                                    dragEnter=".onDragEnter"\n                                    drop=".moveVisualization($event, ${$source>/}, ${$parameters>/})" /></launchpad:dragDropConfig></launchpad:Page></content><footer><Bar class="sapUshellDashboardFooter" visible="{viewSettings>/actionModeActive}"><contentRight><Button\n                                    text="{i18n>closeEditMode}"\n                                    type="Emphasized"\n                                    press=".handleEditModeAction(\'save\', $event, ${$source>/}, ${$parameters>/})" /></contentRight><customData><core:CustomData\n                                    key="sap-ui-fastnavgroup"\n                                    value="true"\n                                    writeToDom="true" /></customData></Bar></footer><landmarkInfo><PageAccessibleLandmarkInfo\n                            rootRole="Region"\n                            rootLabel="{i18n>PageSectionRegion}"\n                            headerRole="None"\n                            contentRole="None"\n                            footerRole="None" /></landmarkInfo></Page></pages><customData><core:CustomData\n                    key="help-id"\n                    value="{= ${viewSettings>/personalizationEnabled} ? \'general-page-id-pers-allowed\' : \'general-page-id-no-pers-allowed\'}"\n                    writeToDom="true" /></customData></NavContainer><MessagePage\n            id="errorPage"\n            showHeader="false"\n            icon="{errorPage>/icon}"\n            text="{errorPage>/text}"\n            description="{errorPage>/description}"><buttons><Button\n                    text="{i18n>PageRuntime.CannotLoadPage.DetailsButton}"\n                    visible="{= !!${errorPage>/details} &amp;&amp; !${errorPage>/description}}"\n                    press="._pressViewDetailsButton" /><Button\n                    text="{i18n>PageRuntime.CannotLoadPage.CopyButton}"\n                    visible="{= !!${errorPage>/details}}"\n                    press="._copyToClipboard" /></buttons></MessagePage><Page\n            id="emptyPage"\n            showHeader="false" /></NavContainer></mvc:View>\n'
});
//# sourceMappingURL=Component-preload.js.map
