{"version":3,"file":"AppLifeCycleAgent.js","names":["sap","ui","define","AppRuntimePostMessageAPI","AppRuntimeService","UriParameters","URI","jQuery","Device","BusyIndicator","FesrEnhancer","EventHub","Log","hasher","resources","AppLifeCycleAgent","that","this","sAppResolutionModule","oAppResolution","bEnableAppResolutionCache","oAppResolutionCache","fnCreateApplication","oCachedApplications","oCachedApplicationsComponentName","oRouterDisableRetriggerApplications","oAppDirtyStateProviders","oAppBackNavigationFunc","oRunningApp","fnRenderApp","oShellUIService","sDatalossMessage","oShellNavigationService","init","sModule","ofnCreateApplication","ofnRenderApp","bEnableCache","sAppId","oAppInfo","undefined","addAppInfoToCache","registerCommHandlers","oServiceCalls","create","executeServiceCallFn","oMessageData","startInteraction","oMsg","JSON","parse","oMessage","data","sAppIdNew","fromURL","body","sUrl","get","disableCFLPUpdate","replaceHash","sHash","destroy","sCacheId","Deferred","resolve","promise","store","restore","on","do","oData","componentId","disable","sendMessageToOuterShell","isStateful","isKeepAlive","isIframeValid","session","bLogoutSupport","browserI18n","getTranslationModel","window","navigator","language","getResourceBundle","getText","onbeforeunload","ushell","Container","getDirtyFlag","appId","oDeffered","browser","chrome","show","_resetBackNavigationCallback","getCore","getEventBus","publish","getAppInfo","then","sKeepAliveAppKey","Object","keys","length","find","sCachedKey","sKeepAliveComponentName","sId","sCurrComponentName","ui5ComponentName","name","getURLParameters","query","oURLParameters","oCreateApplicationResult","deletedKeepAliveId","sStorageKey","appDestroy","oApplication","e","error","document","URL","stack","cleanDirtyStateProviderArray","setAppShortId","oCachedEntry","oApp","_getBackNavigationCallback","getComponentInstance","setVisible","getAsyncDirtyStateProviders","isKeepAliveSupported","deactivate","suspend","getRouter","stop","bRouterDisableRetrigger","setAsyncDirtyStateProviders","setBackNavigation","activate","initialize","oUrlParameters","Promise","fnResolve","fnReject","hasOwnProperty","sAppStateKey","sParameters","oUrlParametersExpanded","extend","sError","fnGetAppInfo","stringify","require","replace","oObj","setComponent","setShellUIService","oService","setShellNavigationService","checkDataLossAndContinue","getNavigationContext","confirm","setDirtyFlag"],"sources":["AppLifeCycleAgent-dbg.js"],"mappings":"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"}