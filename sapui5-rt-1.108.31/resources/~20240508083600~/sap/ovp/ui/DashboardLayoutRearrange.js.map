{"version":3,"file":"DashboardLayoutRearrange.js","names":["sap","ui","define","UIActions","Device","jQuery","merge","OVPLogger","jUtils","Core","oLogger","Rearrange","settings","this","init","prototype","beforeDragCallback","_beforeDragHandler","bind","dragStartCallback","_dragStartHandler","dragMoveCallback","_dragMoveHandler","dragEndCallback","_dragEndHandler","resizeStartCallback","_resizeStartHandler","resizeMoveCallback","_resizeMoveHandler","resizeEndCallback","_resizeEndHandler","endCallback","_endHandler","placeHolderClass","layout","destroy","uiActions","enable","aCardsOrder","aCards","layoutUtil","verticalMargin","horizontalMargin","top","left","width","layoutOffset","jqLayout","jqLayoutInner","isRTLEnabled","rowHeight","floaterData","resizeData","updatedScrollTop","SCROLL_OFFSET","disable","evt","cardElement","system","desktop","sLastFocusableCard","blur","oCard","dashboardLayoutModel","getCardById","getCardId","id","template","stopResizing","dragOrResizeChanges","startResizeCardConfig","getCards","resizeStartCard","cardId","rowSpan","dashboardLayout","colSpan","maxColSpan","noOfItems","autoSpan","showOnlyHeader","row","column","window","getSelection","selection","removeAllRanges","classList","add","initCardsSettings","remove","isResizeX","isResizeY","contains","style","zIndex","changedCards","resizeCard","_sizeCard","cardsConfig","i","length","cardConfigAfterResize","aCardConfigBeforeResize","filterCardsById","oCardConfigBeforeResize","push","changeType","content","oldRow","oldColumn","oldRowSpan","oldColSpan","oldMaxColSpan","oldNoOfItems","oldAutoSpan","oldShowOnlyHeader","isUserDependent","document","querySelector","wrapper","removeClass","removeElementById","getDashboardLayoutModel","extractCurrentLayoutVariant","oLayoutCtrl","fireAfterDragEnds","positionChanges","setAriaPos","actionObject","element","cardDetails","cardSizeProperties","ghostWidth","ghostHeight","viewElement","getElementsByClassName","viewHeight","offsetHeight","viewRect","getBoundingClientRect","clientY","offsetTop","scrollTop","calculateCardProperties","_calculateMinimumCardHeight","ghostWidthCursor","getColWidthPx","ghostHeightCursor","info","listFlavor","getRowHeightPx","leastHeight","CARD_BORDER_PX","minCardHeight","cutOffPoint","iContentWithoutHeader","headerHeight","dropDownHeight","iPredictedNoOfItems","Math","round","itemHeight","_addOverLay","cursor","ceil","updateCardSize","showGhostWhileResize","getAttribute","setKpiNumericContentWidth","type","preventDefault","browser","mobile","selectableElemets","find","addClass","sCardId","dragStartCardsConfig","columnCount","dragStartCard","oCardRect","children","height","startLeft","startTop","mainHeaderWrapperHeight","uShellHeadHeight","viewTitleHeight","clone","iColumnValue","newCardPosition","when","_arrangeCards","done","_positionCards","_removeSpaceBeforeCard","showGhostWhileDragMove","cloneObj","cardRect","cloneRect","cloneObjTransform","getComputedStyle","transform","split","topDiff","leftDiff","translateX","parseInt","translateY","cssVendorTransition","abs","cssVendorTransform","one","event","cardConfigAfterDrag","aCardConfigBeforeDrag","oCardConfigBeforeDrag","body","removeClone","iContainerHeight","_findHighestOccupiedRow","addStyleToAllElements","querySelectorAll","$","first","layoutScroll","layoutHeight","getConfiguration","getRTL","offset","corrY","get","corrX","getColCount","visibleLayoutItems","getVisibleLayoutItems","getCardParent","parent","map","jqFirstColumn","marginProp","css","firstItemEl","oFirstElementClientRect","oJqLayoutInnerClientRect","offsetWidth","drawLayout","aCardsLayout","updateCSS","domElement","$element","position","iCardsLength","requestAnimationFrame","getElementById","pos","oDiv","createElement","appendChild","parentElement","overlayDiv","$elemPosition","fElementPosTop","iCardRight","right","moveX","moveY","filter","item"],"sources":["DashboardLayoutRearrange-dbg.js"],"mappings":"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"}