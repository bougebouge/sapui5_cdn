sap.ui.define(["sap/ui/core/Control","sap/ui/thirdparty/jquery","sap/ui/Device","sap/ui/core/ResizeHandler","sap/ovp/app/resources","sap/ovp/app/OVPUtils","sap/ui/events/KeyCodes","sap/ui/events/F6Navigation","sap/ui/core/Core","sap/ui/dom/jquery/Selectors"],function(t,jQuery,a,e,s,o,r,i,n){"use strict";var d=t.extend("sap.ovp.ui.DashboardLayout",{metadata:{designTime:true,library:"sap.ovp",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},defaultAggregation:"content",events:{afterRendering:{},afterDragEnds:{}},properties:{dragAndDropRootSelector:{group:"Misc",type:"string"},dragAndDropEnabled:{group:"Misc",type:"boolean",defaultValue:true},debounceTime:{group:"Misc",type:"int",defaultValue:150}}},renderer:{apiVersion:2,render:function(t,e){var s=function(t){return t.getVisible()};var o=function(t){var a=this.getId();var e=a.indexOf("---")+3;var s=a.substring(e);return t.id===s.split("--")[1]};var r=e.$().width();var i=n.getConfiguration().getRTL();var d=e.dashboardLayoutUtil.updateLayoutData(r?r:window.innerWidth);var l=e.dashboardLayoutUtil.getCards(d.colCount);var u=e.getContent().filter(s);t.openStart("div",e);t.class("sapUshellEasyScanLayout");t.class("sapOvpDashboard");if(!a.system.phone){t.class("sapOvpDashboardDragAndDrop")}if(i){t.style("margin-right",d.marginPx+"px")}else{t.style("margin-left",d.marginPx+"px")}t.openEnd();t.openStart("div");t.class("sapUshellEasyScanLayoutInner");t.accessibilityState(undefined,{role:"list"});t.attr("aria-label","Cards");t.attr("tabindex",0);t.openEnd();if(l.length>0){var h={},p,c,y,f=e.getDashboardLayoutModel().getColCount();for(p=0,c=u.length;p<c;p++){var b=["easyScanLayoutItemWrapper","sapOvpDashboardLayoutItem"];h=l.filter(o.bind(u[p]))[0];e.dashboardLayoutUtil.setCardCssValues(h);y=h.dashboardLayout.column+h.dashboardLayout.colSpan===f+1;if(y){h.dashboardLayout.colSpan===1?b.push("sapOvpNotResizableLeftRight"):b.push("sapOvpNotResizableRight")}if(h.template==="sap.ovp.cards.stack"||h.settings.stopResizing||!a.system.desktop){b.push("sapOvpDashboardLayoutItemNoDragIcon")}t.openStart("div",e.dashboardLayoutUtil.getCardDomId(h.id));for(var g=0;g<b.length;g++){t.class(b[g])}var v="translate3d("+h.dashboardLayout.left+" ,"+h.dashboardLayout.top+" ,0px)";t.style("transform",v);t.style("-ms-transform",v);t.style("-moz-transform",v);t.style("-webkit-transform",v);t.style("height",h.dashboardLayout.height);t.style("width",h.dashboardLayout.width);t.attr("aria-setsize",c);t.attr("aria-posinset",p+1);t.attr("tabindex",0);t.accessibilityState(undefined,{role:"listitem"});t.openEnd();t.renderControl(u[p]);t.openStart("div").class("lastElement").attr("tabindex",0).openEnd();t.close("div");t.close("div")}}t.close("div");t.openStart("div").class("after").attr("tabindex",0).openEnd();t.close("div");t.close("div")}},init:function(){this.data("sap-ui-fastnavgroup","true",true);this.oColumnLayoutData={};this.resizeHandlerId=this.initResizeHandler();var t=n.getComponent(this._sOwnerId);this.dashboardLayoutUtil=t.getDashboardLayoutUtil();this.dashboardLayoutUtil.setLayout(this)},exit:function(){if(this.resizeHandlerId){e.deregister(this.resizeHandlerId)}if(this.layoutDragAndDrop){this.layoutDragAndDrop.destroy();delete this.layoutDragAndDrop}},onBeforeRendering:function(){},onAfterRendering:function(){this.keyboardNavigation=new l(this);if(!this.getDragAndDropRootSelector()){this.setDragAndDropRootSelector("#"+this.getId())}if(this.layoutDragAndDrop){this.layoutDragAndDrop.destroy()}if(this.getDragAndDropEnabled()){this.layoutDragAndDrop=this.dashboardLayoutUtil.getRearrange({rootSelector:this.getDragAndDropRootSelector(),layout:this});this.dashboardLayoutUtil.setAriaPos();this.fireAfterRendering()}},getLayoutDataJSON:function(){return this.dashboardLayoutUtil.getDashboardLayoutModel().getLayoutVariants4Pers()},filterVisibleCards:function(t){return t.getVisible()},getDashboardLayoutUtil:function(){return this.dashboardLayoutUtil},getDashboardLayoutModel:function(){return this.dashboardLayoutUtil.getDashboardLayoutModel()},getVisibleLayoutItems:function(){var t=this.getContent();var a=t.filter(this.filterVisibleCards);return a},initResizeHandler:function(){var t;var a=this.getDebounceTime();var s=function(e){window.clearTimeout(t);t=window.setTimeout(this.oControl.resizeHandler.bind(this,e),a)};return e.register(this,s)},resizeHandler:function(t){this.oControl.dashboardLayoutUtil.resizeLayout(t.size.width)},setActive:function(t){if(t){this.removeStyleClass("ovpOverlay")}else{this.addStyleClass("ovpOverlay")}},getActive:function(){return!this.hasStyleClass("ovpOverlay")}});var l=function(t){this.init(t)};l.prototype.init=function(t){this.layoutUtil=t.getDashboardLayoutUtil();this.layoutModel=t.getDashboardLayoutModel();this.keyCodes=r;this.jqElement=t.$();this.bIgnoreSelfFocus=false;this.sLastFocusableCard=null;this.lastFocussedElement=null;this.jqElement.on("keydown",this.keyDownHandler.bind(this));this.jqElement.on("keyup",this.keyUpHandler.bind(this));this.jqElement.find(".sapUshellEasyScanLayoutInner").on("focus.keyboardNavigation",this.layoutFocusHandler.bind(this));this.jqElement.on("focus.keyboardNavigation",".easyScanLayoutItemWrapper",this.layoutItemFocusHandler.bind(this));document.querySelector("body").addEventListener("keyup",this.bodyKeyupHandler.bind(this));document.querySelector("body").addEventListener("keydown",this.bodyKeydownHandler.bind(this));var a=this.layoutClickHandler.bind(this);var e=document.querySelectorAll(".ovpWrapper .sapFDynamicPageContent");for(var s=0;s<e.length;s++){e[s].addEventListener("click",a)}this.jqElement.find(".after").on("focus.keyboardNavigation",this.afterFocusHandler.bind(this))};l.prototype.spacebarHandler=function(t){o.bCRTLPressed=t.ctrlKey||t.metaKey;var a=n.byId(t.target.id);if(a&&a.mEventRegistry.hasOwnProperty("press")){var e="#"+t.target.id;var s=document.querySelectorAll(e);for(var r=0;r<s.length;r++){s[r].classList.add("sapMLIBActive")}a.firePress()}};l.prototype.bodyKeyupHandler=function(t){if(t.ctrlKey||t.metaKey){o.bCRTLPressed=false}};l.prototype.bodyKeydownHandler=function(t){if(t.ctrlKey||t.metaKey){o.bCRTLPressed=true}};l.prototype.layoutItemFocusHandler=function(){var t=jQuery(document.activeElement);if(t){var a,e="";if(t.find(".valueStateText").length==1){var o=t.find(".valueStateText").find(".sapMObjectNumberText").text();var r=t.find(".valueStateText").find(".sapUiInvisibleText").text();t.find(".valueStateText").attr("aria-label",o+" "+r);t.find(".valueStateText").attr("aria-labelledby","")}t.find("[role='listitem']").attr("aria-label","");if(t.hasClass("easyScanLayoutItemWrapper")){var i="";var n=t.find(".cardCount");if(n.length===0){i="countDiv_"+(new Date).getTime();var d='<div id="'+i+'" class="cardCount"'+'" hidden></div>';t.append(d)}else{i=n[0].id}e+=i+" ";var l=t.find(".cardType");if(l.length!==0){e+=l[0].id+" "}}var u="cardHeaderType_";if(t.hasClass("sapOvpCardHeader")&&!t.hasClass("sapOvpStackCardContent")){var h="";var p=t.find(".cardHeaderType");if(p.length===0){var c=s.getText("CardHeaderType");h=u+(new Date).getTime();var y='<div id="'+h+'" class="cardHeaderType" aria-label="'+c+'" hidden></div>';t.append(y)}else{h=p[0].id}e+=h+" "}var f,b;if(t.hasClass("easyScanLayoutItemWrapper")){b=t.find(".sapOvpCardHeader");f=b.find("[aria-label]")}else{f=t.find("[aria-label]")}var g=t.find(".sapOvpStackCardHeader").length!==1;var v=t.find(".sapOvpExtendedBarListHBox").length===0;if(g&&v){for(a=0;a<f.length;a++){if(!f[a].id.includes(u)){e+=f[a].id+" "}}}if(t.hasClass("sapOvpCardHeader")){var m=t.find(".cardHeaderText");if(m.length!==0){for(var a=0;a<m.length;a++){if(e.indexOf(m[a].id)===-1){e+=m[a].id+" "}}}}if(e.length){t.attr("aria-labelledby",e)}if(t.prop("nodeName")==="LI"&&t.find(".linkListHasPopover").length!==0){if(t.find("#hasDetails").length===0){t.append("<div id='hasDetails' hidden>"+s.getText("HAS_DETAILS")+"</div>");t.attr("aria-describedby","hasDetails")}}var C=t.attr("id");if(C&&C.indexOf("ovpTable")!=-1&&t.find("[role='Link']")&&!t.hasClass("sapUiCompSmartLink")){var L=t.closest("td").attr("data-sap-ui-column"),S=t.closest("tbody").siblings().children().filter("tr").children();for(var a=0;a<S.length;a++){if(S[a].getAttribute("data-sap-ui")==L&&S[a].hasChildNodes("span")){var D=S[a].firstElementChild.getAttribute("id");t.attr("aria-labelledby",D)}}}}};l.prototype.layoutFocusHandler=function(t){if(jQuery(t.relatedTarget).hasClass("easyScanLayoutItemWrapper")){return}if(this.sLastFocusableCard){this.sLastFocusableCard=jQuery(this.sLastFocusableCard);if(!this.sLastFocusableCard.is(this.lastFocussedElement)&&t.relatedTarget){this.sLastFocusableCard.focus();this.layoutUtil.sLastFocusableCard=this.sLastFocusableCard}else{this.lastFocussedElement=undefined}return}this.jqElement.find(".easyScanLayoutItemWrapper").first().focus();this.sLastFocusableCard=this.jqElement.find(".easyScanLayoutItemWrapper").first();this.layoutUtil.sLastFocusableCard=this.sLastFocusableCard};l.prototype.layoutClickHandler=function(t){if(t&&t.target&&t.target.getAttribute("id")&&t.target.getAttribute("id").indexOf("mainView")!==-1){if(this.sLastFocusableCard){this.sLastFocusableCard.focus();this.layoutUtil.sLastFocusableCard=this.sLastFocusableCard;return}this.jqElement.find(".easyScanLayoutItemWrapper").first().focus();this.sLastFocusableCard=this.jqElement.find(".easyScanLayoutItemWrapper").first();this.layoutUtil.sLastFocusableCard=this.sLastFocusableCard}};l.prototype.ctrlArrowHandler=function(t,a){var e=this.layoutUtil.dashboardLayoutModel.getCardById(a),s=t.dashboardLayout.row,o=e.dashboardLayout.row,r=e.dashboardLayout.column,i=[],n;if(o>s&&e.dashboardLayout.rowSpan>=t.dashboardLayout.rowSpan){n=s+e.dashboardLayout.rowSpan}else{n=o}this.layoutUtil.dashboardLayoutModel._arrangeCards(t,{row:n,column:r},"drag",i);this.layoutUtil.dashboardLayoutModel._removeSpaceBeforeCard(i);this.layoutUtil._positionCards(this.layoutModel.aCards);this.layoutUtil.oLayoutCtrl.fireAfterDragEnds({positionChanges:i})};l.prototype.shiftArrowHandler=function(t,a,e){if(t.template==="sap.ovp.cards.stack"){return}this.resizeStartHandler(t,e);var s=this.layoutUtil.calculateCardProperties(t.id),o=s.leastHeight+2*this.layoutUtil.CARD_BORDER_PX,r=Math.ceil(o/this.layoutUtil.getRowHeightPx());if(a.rowSpan<=r){a.rowSpan=r;a.showOnlyHeader=true;e.classList.add("sapOvpMinHeightContainer")}else{a.showOnlyHeader=false;e.classList.remove("sapOvpMinHeightContainer")}var i=this.layoutUtil.dashboardLayoutModel.resizeCard(t.id,a,true,this.layoutUtil.dragOrResizeChanges);this.resizeStopHandler(i.resizeCard,e)};l.prototype.resizeStartHandler=function(t,a){this.layoutUtil.dragOrResizeChanges=[];this.layoutUtil.resizeStartCard={cardId:t.id,rowSpan:t.dashboardLayout.rowSpan,colSpan:t.dashboardLayout.colSpan,maxColSpan:t.dashboardLayout.maxColSpan,noOfItems:t.dashboardLayout.noOfItems,autoSpan:t.dashboardLayout.autoSpan,showOnlyHeader:t.dashboardLayout.showOnlyHeader};a.classList.add("sapOvpCardResize");t.dashboardLayout.autoSpan=false};l.prototype.resizeStopHandler=function(t,a){a.classList.remove("sapOvpCardResize");a.style.zIndex="auto";this.layoutUtil._sizeCard(t);this.layoutUtil._positionCards(this.layoutModel.aCards);t.dashboardLayout.maxColSpan=t.dashboardLayout.colSpan;this.layoutUtil.dragOrResizeChanges.push({changeType:"dragOrResize",content:{cardId:t.id,dashboardLayout:{rowSpan:t.dashboardLayout.rowSpan,oldRowSpan:this.layoutUtil.resizeStartCard.rowSpan,colSpan:t.dashboardLayout.colSpan,oldColSpan:this.layoutUtil.resizeStartCard.colSpan,maxColSpan:t.dashboardLayout.maxColSpan,oldMaxColSpan:this.layoutUtil.resizeStartCard.maxColSpan,noOfItems:t.dashboardLayout.noOfItems,oldNoOfItems:this.layoutUtil.resizeStartCard.noOfItems,autoSpan:t.dashboardLayout.autoSpan,oldAutoSpan:this.layoutUtil.resizeStartCard.autoSpan,showOnlyHeader:t.dashboardLayout.showOnlyHeader,oldShowOnlyHeader:this.layoutUtil.resizeStartCard.showOnlyHeader}},isUserDependent:true});this.layoutUtil.getDashboardLayoutModel().extractCurrentLayoutVariant();this.layoutUtil.oLayoutCtrl.fireAfterDragEnds({positionChanges:this.layoutUtil.dragOrResizeChanges})};l.prototype.keyUpHandler=function(t){switch(t.keyCode){case this.keyCodes.SPACE:this.spacebarHandler(t);break;default:break}};l.prototype.keyDownHandler=function(t){var a=document.activeElement,e=this.layoutUtil.getCardId(a.id),s=Object.assign([],this.layoutModel.aCards),o=this.layoutModel.getCardById(e),r=this.layoutModel.iColCount,d={},l,u,h,p,c,y,f,b,g=n.getConfiguration().getRTL(),v=jQuery(document.activeElement);this.layoutModel._sortCardsByRow(s);for(var m=1;m<=r;m++){d[m]=[]}for(var C=0;C<s.length;C++){l=s[C].dashboardLayout.column;u=s[C].dashboardLayout.colSpan;if(u===1){d[l].push(s[C])}else{for(var L=l;L<l+u;L++){d[L].push(s[C])}}}p=this.getCardPosition(e,d[o.dashboardLayout.column]);switch(t.keyCode){case this.keyCodes.TAB:if(t.shiftKey){this.shiftTabButtonHandler(t)}else{this.tabButtonHandler(t)}break;case this.keyCodes.F6:if(t.shiftKey){this.bIgnoreSelfFocus=true;this.jqElement.find(".sapUshellEasyScanLayoutInner").focus();i.handleF6GroupNavigation(t)}else{this.bIgnoreSelfFocus=true;var S=this.jqElement.scrollTop();this.jqElement.find(".after").focus();i.handleF6GroupNavigation(t);this.jqElement.scrollTop(S)}break;case this.keyCodes.F7:t.preventDefault();if(v.hasClass("easyScanLayoutItemWrapper")){v.find(":sapTabbable").first().focus()}else{v.closest(".easyScanLayoutItemWrapper").focus()}break;case this.keyCodes.ARROW_UP:t.preventDefault();h=o.dashboardLayout.column;p--;c=d[h][p]&&d[h][p].id;if(c&&t.ctrlKey){this.ctrlArrowHandler(o,c);this.setFocusOnCard(e)}else if(t.shiftKey){b={rowSpan:o.dashboardLayout.rowSpan-3,colSpan:o.dashboardLayout.colSpan};this.shiftArrowHandler(o,b,t.target);this.setFocusOnCard(e)}else if(v&&v.hasClass("easyScanLayoutItemWrapper")){this.setFocusOnCard(c);this.handleScrollUp()}break;case this.keyCodes.ARROW_DOWN:t.preventDefault();h=o.dashboardLayout.column;p++;c=d[h][p]&&d[h][p].id;if(c&&t.ctrlKey){this.ctrlArrowHandler(o,c);this.setFocusOnCard(e)}else if(t.shiftKey){if((o.template==="sap.ovp.cards.linklist"||o.template==="sap.ovp.cards.v4.linklist")&&o.settings.listFlavor==="carousel"&&o.dashboardLayout.rowSpan>=45){return}b={rowSpan:o.dashboardLayout.rowSpan+3,colSpan:o.dashboardLayout.colSpan};this.shiftArrowHandler(o,b,t.target);this.setFocusOnCard(e)}else{this.setFocusOnCard(c)}break;case this.keyCodes.ARROW_LEFT:var D=jQuery(document.activeElement);if(!D.hasClass("easyScanLayoutItemWrapper")){return}t.preventDefault();h=o.dashboardLayout.column;h--;if(!d[h]||!d[h][p]){do{if(h===0){h=r;p--;break}if(p<0){break}h--}while(!d[h]||!d[h][p])}c=d[h][p]&&d[h][p].id;if(c&&t.ctrlKey){this.ctrlArrowHandler(o,c);this.setFocusOnCard(e)}else if(t.shiftKey){if(g){if(o.template==="sap.ovp.cards.list"&&o.dashboardLayout.colSpan===2||(o.template==="sap.ovp.cards.linklist"||o.template==="sap.ovp.cards.v4.linklist")&&o.settings.listFlavor==="carousel"&&o.dashboardLayout.colSpan===3){return}b={rowSpan:o.dashboardLayout.rowSpan,colSpan:o.dashboardLayout.colSpan+1}}else{if(o.dashboardLayout.colSpan===1){return}b={rowSpan:o.dashboardLayout.rowSpan,colSpan:o.dashboardLayout.colSpan-1}}this.shiftArrowHandler(o,b,t.target);this.setFocusOnCard(e)}else{this.setFocusInCaseOfSpace(o,"Left");t.stopImmediatePropagation()}break;case this.keyCodes.ARROW_RIGHT:t.preventDefault();h=o.dashboardLayout.column+o.dashboardLayout.colSpan;if(!d[h]||!d[h][p]){do{if(h>r){h=1;p++;break}h++}while(!d[h]||!d[h][p])}c=d[h][p]&&d[h][p].id;if(c&&t.ctrlKey){this.ctrlArrowHandler(o,c);this.setFocusOnCard(e)}else if(t.shiftKey){if(g){if(o.dashboardLayout.colSpan===1){return}b={rowSpan:o.dashboardLayout.rowSpan,colSpan:o.dashboardLayout.colSpan-1}}else{if(o.template==="sap.ovp.cards.list"&&o.dashboardLayout.colSpan===2||(o.template==="sap.ovp.cards.linklist"||o.template==="sap.ovp.cards.v4.linklist")&&o.settings.listFlavor==="carousel"&&o.dashboardLayout.colSpan===3){return}b={rowSpan:o.dashboardLayout.rowSpan,colSpan:o.dashboardLayout.colSpan+1}}this.shiftArrowHandler(o,b,t.target);this.setFocusOnCard(e)}else{this.setFocusInCaseOfSpace(o,"Right");t.stopImmediatePropagation()}break;case this.keyCodes.PAGE_UP:t.preventDefault();h=o.dashboardLayout.column;if(t.altKey==true){h===1?p=0:h=1;c=d[h][p]&&d[h][p].id}else{y=d[h].length-1;for(var m=y;m>0;m--){f=document.getElementById(this.layoutUtil.getCardDomId(d[h][m].id));if(f.getBoundingClientRect().bottom<0){c=d[h][m].id;break}}if(!c){c=d[h][0].id}}this.setFocusOnCard(c);break;case this.keyCodes.PAGE_DOWN:t.preventDefault();h=o.dashboardLayout.column;if(t.altKey==true){c=h+o.dashboardLayout.colSpan>r?s[s.length-1].id:d[r][p]&&d[r][p].id}else{var E=jQuery(window).height();y=d[h].length;for(var m=0;m<y;m++){f=document.getElementById(this.layoutUtil.getCardDomId(d[h][m].id));if(f.getBoundingClientRect().top>E){c=d[h][m].id;break}}if(!c){c=d[h][y-1].id}}this.setFocusOnCard(c);break;case this.keyCodes.HOME:t.preventDefault();h=o.dashboardLayout.column;if(t.ctrlKey==true){p===0?h=1:p=0}else{h===1?p=0:h=1}c=d[h][p]&&d[h][p].id;this.setFocusOnCard(c);break;case this.keyCodes.END:t.preventDefault();h=o.dashboardLayout.column;if(t.ctrlKey==true){var w=d[h].length-1;c=w===p?s[s.length-1].id:d[h][w]&&d[h][w].id}else{c=h+o.dashboardLayout.colSpan>r?s[s.length-1].id:d[r][p]&&d[r][p].id}this.setFocusOnCard(c);break;case this.keyCodes.ENTER:t.stopImmediatePropagation();this.spacebarHandler(t);break;default:break}};l.prototype.handleScrollUp=function(){var t=this.layoutUtil.componentDomId+"--ovpMain";if(t){var a=n.byId(t);if(a){setTimeout(function(){var t=a.getScrollDelegate();if(t){var e=t.getScrollTop();var s=document.activeElement.getBoundingClientRect().top;t.scrollTo(0,e-s-32)}},0)}}};l.prototype.setFocusInCaseOfSpace=function(t,a){var e=Object.assign([],this.layoutModel.aCards),s=this.layoutUtil.ariaPos,o=s[t.id],r=e.filter(function(t){return a==="Right"?s[t.id]===o+1:s[t.id]===o-1},s);this.setFocusOnCard(r[0]&&r[0].id)};l.prototype.setFocusOnCard=function(t){if(t){var a=document.getElementById(this.layoutUtil.getCardDomId(t));a&&a.focus();this.sLastFocusableCard=a;this.layoutUtil.sLastFocusableCard=this.sLastFocusableCard}};l.prototype.getCardPosition=function(t,a){for(var e=0;e<a.length;e++){if(a[e].id===t){break}}return e};l.prototype.tabButtonHandler=function(t){var a=jQuery(document.activeElement);this.lastFocussedElement=a;if(a.hasClass("easyScanLayoutItemWrapper")){return}var e=a.closest(".easyScanLayoutItemWrapper");if(!e.length){return}var s=e.find(jQuery(".lastElement"));if(a.is(s)){t.stopPropagation();t.stopImmediatePropagation();var o=this.jqElement.scrollTop();this._ignoreSelfFocus=true;this.jqElement.find(".after").focus();this.jqElement.scrollTop(o)}};l.prototype.shiftTabButtonHandler=function(t){var a=jQuery(document.activeElement);if(a.hasClass("after")&&this.lastFocussedElement){this.lastFocussedElement.focus();return}if(!a.hasClass("easyScanLayoutItemWrapper")){return}this._ignoreSelfFocus=true;this.lastFocussedElement=a;this.jqElement.find(".sapUshellEasyScanLayoutInner").focus()};l.prototype.afterFocusHandler=function(t){t.stopImmediatePropagation();if(this._ignoreSelfFocus){this._ignoreSelfFocus=false;return}var a,e;if(this.lastFocussedElement&&this.lastFocussedElement.hasClass("lastElement")){a=this.jqElement.find(this.lastFocussedElement.parent());e=a.find(":sapTabbable").last()}else if(this.lastFocussedElement&&this.lastFocussedElement.hasClass("easyScanLayoutItemWrapper")){e=this.lastFocussedElement}else{a=this.jqElement.find(".easyScanLayoutItemWrapper:sapTabbable").first();e=a.find(":sapTabbable").last()}if(!e.length){e=a}e.focus()};return d});
//# sourceMappingURL=DashboardLayout.js.map