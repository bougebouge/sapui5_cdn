/*!
 * Copyright (c) 2009-2014 SAP SE, All Rights Reserved
 */
sap.ui.define(["sap/m/MessageToast","sap/ovp/app/resources","sap/ovp/cards/CommonUtils"],function(e,t,r){"use strict";var a={changeHandler:{},layers:{VENDOR:true,CUSTOMER_BASE:true,CUSTOMER:true,USER:true}};a.changeHandler.applyChange=function(a,i,o){var n=o.modifier,s=r.getApp(),d=s.getView(),p=s.getUIModel(),g=p.getProperty("/cards"),l=s.getLayout(),u=a.getContent().id,c=s._getCardId(u),C=o.appComponent,y={id:u,isLocalId:false},f=n.bySelector(y,C,d),v;for(v=0;v<g.length;v++){if(g[v].id===c){break}}var b=g.splice(v,1);p.setProperty("/cards",g);a.setRevertData({id:u,oCard:b[0],index:v});n.setVisible(f,false);if(p.getProperty("/containerLayout")==="resizable"){var m=l.getDashboardLayoutUtil();if(m.aCards){m.updateCardVisibility([{id:m.getCardIdFromComponent(u),visibility:false}])}}var h=t.getText("OVP_KEYUSER_TOAST_MESSAGE_FOR_REMOVE",[f.getComponentInstance().getComponentData().settings.title]);e.show(h,{duration:1e4});l.rerender();return true};a.changeHandler.revertChange=function(e,t,a){var i=a.modifier,o=r.getApp(),n=o.getUIModel(),s=n.getProperty("/cards"),d=o.getLayout(),p=e.getRevertData(),g=i.bySelector(p.id);s.splice(p.index,0,p.oCard);n.setProperty("/cards",s);i.setVisible(g,true);e.resetRevertData();if(n.getProperty("/containerLayout")==="resizable"){var l=d.getDashboardLayoutUtil();l.updateCardVisibility([{id:l.getCardIdFromComponent(p.id),visibility:true}])}d.rerender();return true};a.changeHandler.completeChangeContent=function(e,t,r){return};return a},true);
//# sourceMappingURL=RemoveCardContainer.js.map