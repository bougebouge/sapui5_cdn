sap.ui.define(["sap/m/Dialog","sap/m/Button","sap/ui/model/json/JSONModel","sap/ui/core/mvc/ViewType","sap/ui/model/resource/ResourceModel","sap/ovp/app/resources","sap/base/util/merge","sap/ui/core/mvc/XMLView","sap/ui/core/Core"],function(e,t,o,i,a,s,n,l,r){"use strict";var u={dialogBox:undefined,oSaveButton:undefined,oResetButton:undefined,oOvpResourceBundle:r.getLibraryResourceBundle("sap.ovp"),getDialogBox:function(a){return new Promise(function(r,u){var d,g,p,c;if(!this.dialogBox){this.oSaveButton=new t({text:s&&s.getText("save"),type:"Emphasized"});var h=new t({text:s&&s.getText("cancelBtn")});this.oResetButton=new t({text:s&&s.getText("resetButton")});this.dialogBox=new e({title:s&&s.getText("settingsDialogTitle"),buttons:[this.oSaveButton,h,this.oResetButton],afterClose:function(e){this.dialogBox.destroyContent()}.bind(this)});this.dialogBox.addStyleClass("sapOvpSettingsDialogBox");this.dialogBox.setBusyIndicatorDelay(0);h.attachPress(function(e){this.dialogBox.close()}.bind(this))}if(a.getParent()){d=a.getParent().getModel("ui").getData();g=n({},d);var B=a.getModel(g.globalFilterModel),y=B.getMetaModel(),v=y.getODataEntityContainer().entitySet;g["allEntityTypes"]=[];for(var x=0;v&&x<v.length;x++){var f=v[x].entityType;g["allEntityTypes"].push({name:y.getODataEntityType(f).name})}if(g.globalFilterEntityType){g.showGlobalFilters=true}else{g.showGlobalFilters=false}if(!g.containerLayout){g.containerLayout="fixed"}c=new o(g);p=new l("appSettingsView",{viewName:"sap.ovp.cards.rta.AppSettingsDialog",type:i.XML});p.setModel(c);var w=this.oOvpResourceBundle?s.oResourceModel:null;p.setModel(w,"ovpResourceModel");this.dialogBox.addContent(p);p.loaded().then(function(e){r(this.dialogBox)}.bind(this))}}.bind(this))}};return u},true);
//# sourceMappingURL=AppSettingsUtils.js.map