sap.ui.define([],function(){"use strict";var t={formatDate:"sap.ovp.cards.AnnotationHelper.formatDate",formatColor:"sap.ovp.cards.AnnotationHelper.formatColor",formatCurrency:"sap.ovp.cards.AnnotationHelper.formatCurrency",formatNumberCalculation:"sap.ovp.cards.AnnotationHelper.formatNumberCalculation"};function r(t){if(t===null||t===undefined){return}if(t.indexOf("{")!==-1){return t}return"{"+t+"}"}function e(t){if(!t){return{path:"/d/results"}}return{path:"/content/d/results"}}function a(t){if(t&&typeof t==="string"&&t.length>0){return t.startsWith("{")&&t.endsWith("}")}return false}function n(t){if(t&&typeof t==="string"&&t.length>0){return t.startsWith("{=")&&t.endsWith("}")}return false}function o(t,r){var e;if(n(t)){return t}if(a(t)){e="$"+t}else{e="'"+t+"'"}return"{= extension.formatters.formatCriticality("+e+", '"+r+"')}"}function i(t,e,a,n){if(!t||!e){return null}try{var o=t.getBindingInfo(e);var i;if(o){if(o.parts&&o.parts.length){i=o.parts.length===1?s(o):s(o,n);return a?i:r(i)}i=t.getBindingPath(e);return a?i:r(i)}else{return t.getProperty(e)}}catch(t){return}}function f(t){var r=[];if(Array.isArray(t)){t.forEach(function(t){r.push("${"+t+"}")})}return r.join()}function s(r,e){var a=[],n,o,i,s=false,u=false;var l,m;if(r&&r.parts){r.parts.forEach(function(t){if(t.path){if(t.model==="@i18n"&&e){e[t.path]={value:"{{"+t.path+"}}"};a.push("parameters>/"+t.path+"/value");u=true}else{a.push(t.path)}}if(t.model==="ovpCardProperties"&&t.value){i=t.value.functionName;if(t.value.dateFormat){o=t.value.dateFormat;o.bUTC=t.value.bUTC||false}else{o=t.value}}else if(t.model==="@i18n"){s=true}});if(a.length===1){n=a[0]}if(r.type&&r.type.oFormat){r.formatter={name:"formatter",textFragments:[0]};o=r.type.oFormat.oFormatOptions}if(r.formatter&&r.formatter.textFragments!==true){var c=null;if(o){var p=Object.assign({},o);delete p.functionName;c=JSON.stringify(p).replaceAll('"',"'")}switch(i){case t.formatDate:if(!n){return"{= extension.formatters.formatDate("+f(a)+", "+c+")}"}return"{= extension.formatters.formatDate(${"+n+"}, "+c+")}";case t.formatColor:if(!n){return"{= extension.formatters.formatValueColor("+f(a)+","+JSON.stringify(o)+")}"}return"{= extension.formatters.formatValueColor(${"+n+"},"+JSON.stringify(o)+")}";case t.formatCurrency:r.formatter.textFragments=[0," ",1];m=JSON.stringify(r.formatter.textFragments).replaceAll('"',"'");return"{= extension.formatters.formatNumber("+c+","+m+","+f(a)+")}";case t.formatNumberCalculation:var l=r.formatter.textFragments||[0];m=JSON.stringify(l).replaceAll('"',"'");return"{= extension.formatters.formatNumber("+c+","+m+","+f(a)+")}";default:var m=null;if(r.formatter.textFragments){m=JSON.stringify(r.formatter.textFragments).replaceAll('"',"'");return"{= extension.formatters.formatNumber("+c+","+m+","+f(a)+")}"}}}if(s&&!u){return"{{"+n+"}}"}return n}}function u(t){var r=t?"/content/d/__count":"/d/__count";return{text:"{= ${"+r+"} === '0' ? '' : ${"+r+"} }"}}return{getHeaderStatus:u,addBrackets:r,buildValueStateExpression:o,getBindingPathOrValue:i,getData:e,isAnExpression:n}});
//# sourceMappingURL=ContentHelper.js.map