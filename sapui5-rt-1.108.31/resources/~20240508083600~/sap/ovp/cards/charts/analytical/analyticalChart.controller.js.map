{"version":3,"file":"analyticalChart.controller.js","names":["sap","ui","define","CardController","VizAnnotationManager","FlattenedDataset","OVPCardAsAPIUtils","OvpResources","each","ovpLogger","FilterHelper","Fragment","FilterUtils","Core","IntegrationCard","Device","Utils","Rem","OVPChartFormatter","oLogger","extend","onInit","prototype","apply","this","arguments","registerCustomFormatters","that","eventhandler","sChannelId","sEventName","aFilters","applyFiltersToV2Card","GloabalEventBus","getEventBus","oMainComponent","isMacroFilterBar","subscribe","iPreviousRowSpan","onBeforeRendering","bCardProcessed","validateCardConfiguration","vizFrame","getView","byId","oCompData","getOwnerComponent","getComponentData","setHeight","getCardPropertiesModel","getProperty","appComponent","oDashboardLayoutUtil","getDashboardLayoutUtil","oCard","dashboardLayoutModel","getCardById","cardId","dashboardLayout","autoSpan","vbLayout","navigation","isVizPropSet","oDataSet","data","path","error","constants","ERROR_NO_CHART","getId","setBusy","getModel","undefined","getSelectedDataPoint","destroyDataset","binding","getParent","getBinding","_handleKPIHeader","getPath","attachDataReceived","onDataReceived","bind","attachDataRequested","onDataRequested","load","then","oControl","cardContainer","getCardContentContainer","removeAllItems","addItem","addEventDelegate","onmouseover","vizTooltip","_oOvpVizFrameTooltip","_oPopup","close","onAfterRendering","checkIfAPIIsUsed","sCardId","getCardDomId","element","document","getElementById","iHeaderHeight","getHeaderHeight","ovpWrapper","getElementsByClassName","style","height","rowSpan","ROW_HEIGHT_PX","CARD_BORDER_PX","showOnlyHeader","classList","add","vizCard","_calculateVizFrameHeight","_calculateWidth","oEvent","bubbleText","chartTitle","bubbleSizeText","getText","bindData","setDataset","handler","buildVizAttributes","feeds","getFeeds","i","v","getUid","setText","getValues","hideDateTimeAxis","getData","colorPalette","getVizType","allDims","getDataset","getDimensions","vfFeed","vfFeedColorName","dim","m","length","n","getName","sorter","setSorter","chartScaleTitle","vizData","getParameter","setChartUoMTitle","bFlag","setTimeout","setEnabled","checkNoData","system","phone","iRowSpan","Math","max","isDataSetEmpty","iVizFrameHeight","getCardItemsBinding","resizeCard","newCardLayout","oCardPropertiesModel","setProperty","colSpan","oCardLayout","setCardContentContainerHeight","getDomRef","querySelectorAll","iRowHeightPx","iCardBorderPx","setVisible","oOvpContent","remove","reprioritizeContent","oGenCardCtrl","getController","iDropDownHeight","getItemHeight","iChartTextHeight","iBubbleTextHeight","chartType","sId","updatedVizHeight","_calculateVizLegendGroupHeight","oVizCard","setVizProperties","toPx","layoutHeight","legendGroup","layout","cardWidth","parseInt","width","updatedVizWidth","_calculateVizLegendGroupWidth","layoutWidth","maxWidth","refreshCard","rerender","onShowInsightCardPreview","oPopover","getSource","oCardView","oCardController","oCardComponentData","showCard","entitySet","entityType","cardComponentName","cardComponentData","cardComponent","oCardComponent","view","oCardManifestConfiguration","saveGeneratedCardManifest"],"sources":["analyticalChart-dbg.controller.js"],"mappings":"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"}