{"version":3,"file":"OVPVizDataHandler.js","names":["sap","ui","define","Control","JSONModel","Utils","AnnotationHelper","OvpResources","each","merge","AnalyticalCardHelper","extend","metadata","aggregations","data","type","aggregateData","content","multiple","properties","chartType","defaultValue","dependentDataReceived","scale","entitySet","renderer","oRM","oControl","openStart","openEnd","getContent","renderControl","close","mergeDatasets","binding","oDataClone","that","this","model","getModel","parameters","mParameters","bData","dataSet","selectedProperties","select","split","entitySetPath","getPath","substring","pos","indexOf","substr","metaModel","getMetaModel","entitySetName","getEntitySet","getODataEntitySet","entityType","getODataEntityType","finalMeasures","finalDimensions","i","property","length","hasOwnProperty","name","push","results","j","Number","count","__count","object","result","aggregateObject","aggregateSet","String","getText","$isOthers","oCardModel","bEnableStableColors","getProperty","oColorPalette","oChartAnnotation","DimensionAttributes","getVizType","Object","keys","colorPaletteDimension","Dimension","PropertyPath","Array","aColorValues","map","value","color","aDuplicateColorValues","slice","oDuplicateColorValues","JSON","parse","stringify","oVizProps","getVizProperties","vizPropertiesObject","plotArea","dataPointStyle","rules","oDimension","getODataProperty","sDimensionLabel","sDisplayProperty","getColorRule","k","colorObject","key","callback","oContext","dimensionValue","displayName","aDataPointStyleRulesCopy","oRule","splice","oRulesCopy","dataContext","isArray","lastIndexOf","setVizProperties","sKey","getId","oVizPropertiesCopy","setVizPropertyMap","oModel","setData","setModel","updateBindingContext","getBinding","aggrDataBinding","chartBinding","attachEvent","oEvent","getParameter","getChartType","undefined","getDependentDataReceived","setDependentDataReceived","oMetadataMap","cacheODataMetadata","oEntitySet","oSemanticDateInfo","getSemanticProperties","aTimeAxisProperties","oTimeAxisPropertiesAndSemantics","dateProperty","year","month","quarter","monthFromQuarter","monthIndex","week","startOfWeekDay","parseInt","Date","UTC","sAnnotationType","sFiscalData","getFormattedFiscalData","prototype","apply","arguments","chartAggrBinding"],"sources":["OVPVizDataHandler-dbg.js"],"mappings":"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"}