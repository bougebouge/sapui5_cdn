{"version":3,"file":"OVPVizDataHandler.js","names":["sap","ui","define","Control","JSONModel","Utils","AnnotationHelper","OvpResources","each","merge","extend","metadata","aggregations","data","type","aggregateData","content","multiple","properties","chartType","defaultValue","dependentDataReceived","scale","entitySet","renderer","oRM","oControl","openStart","openEnd","getContent","renderControl","close","mergeDatasets","binding","oDataClone","that","this","model","getModel","parameters","mParameters","bData","dataSet","selectedProperties","entitySetPath","getPath","substring","pos","indexOf","substr","metaModel","getMetaModel","entitySetName","getEntitySet","entityType","getData","finalMeasures","finalDimensions","key","includes","split","push","i","length","j","Number","__count","count","object","results","result","aggregateObject","aggregateSet","String","getText","$isOthers","splice","oCardModel","bEnableStableColors","getProperty","oColorPalette","oChartAnnotation","DimensionAttributes","getVizType","Object","keys","colorPaletteDimension","Dimension","$PropertyPath","Array","aColorValues","map","value","color","aDuplicateColorValues","slice","oDuplicateColorValues","JSON","parse","stringify","oVizProps","getVizProperties","vizPropertiesObject","plotArea","dataPointStyle","rules","oEntityType","oDimension","$Type","sDimensionLabel","sDisplayProperty","getColorRule","k","colorObject","callback","oContext","dimensionValue","hasOwnProperty","displayName","oRule","lastIndexOf","setVizProperties","oModel","obj","l","setData","setModel","updateBindingContext","getBinding","aggrDataBinding","chartBinding","attachEvent","oEvent","checkIfDataExistInEvent","getSource","getCurrentContexts","context","getObject","getChartType","undefined","getDependentDataReceived","setDependentDataReceived","oMetadataMap","cacheODataMetadata","aTimeAxisProperties","oTimeAxisPropertiesAndSemantics","oEntitySet","aEntitySetPropKeys","property","semantics","dateProperty","year","month","quarter","monthFromQuarter","monthIndex","week","startOfWeekDay","parseInt","Date","UTC","sAnnotationType","sFiscalData","getFormattedFiscalData","prototype","apply","arguments","chartAggrBinding","getParameter"],"sources":["OVPVizDataHandler-dbg.js"],"mappings":"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"}