{"version":3,"file":"analyticalChart.controller.js","names":["sap","ui","define","CardController","VizAnnotationManager","FlattenedDataset","OVPCardAsAPIUtils","OvpResources","each","OVPLogger","Filterhelper","Utils","FilterUtils","Fragment","Core","Device","Rem","OVPChartFormatter","oLogger","extend","onInit","prototype","apply","this","arguments","that","eventhandler","channelid","event","aFilters","applyFiltersToV4AnalyticalCard","GloabalEventBus","getEventBus","oMainComponent","isMacroFilterBar","oGlobalFilter","subscribe","registerCustomFormatters","iPreviousRowSpan","onBeforeRendering","bCardProcessed","validateCardConfiguration","vizFrame","getView","byId","oCompData","getOwnerComponent","getComponentData","setHeight","getCardPropertiesModel","getProperty","appComponent","oDashboardLayoutUtil","getDashboardLayoutUtil","oCard","dashboardLayoutModel","getCardById","cardId","dashboardLayout","autoSpan","vbLayout","navigation","isVizPropSet","oDataSet","data","path","error","constants","ERROR_NO_CHART","getId","setBusy","getModel","undefined","getSelectedDataPoint","destroyDataset","binding","getParent","getBinding","_handleKPIHeader","getPath","attachDataReceived","onDataReceived","bind","attachDataRequested","onDataRequested","load","then","oControl","cardContainer","getCardContentContainer","removeAllItems","addItem","addEventDelegate","onmouseover","vizTooltip","_oOvpVizFrameTooltip","_oPopup","close","onAfterRendering","checkIfAPIIsUsed","sCardId","getCardDomId","element","document","getElementById","iHeaderHeight","getHeaderHeight","ovpWrapper","getElementsByClassName","style","height","rowSpan","ROW_HEIGHT_PX","CARD_BORDER_PX","showOnlyHeader","classList","add","vizCard","_calculateVizFrameHeight","_calculateWidth","oCardPropertiesModel","cardmanifestModel","getData","cards","sEntityType","getEntitySet","oContext","getMetaModel","getContext","selectionVaraintFilter","getSelectionVariantFilters","getEntityType","oCardComponentData","mainComponent","getGlobalFilter","getFilters","getMacroFilterBar","oEvent","checkIfDataExistInEvent","bubbleText","chartTitle","bubbleSizeText","getText","entityType","bindData","setDataset","handler","buildVizAttributes","feeds","getFeeds","i","v","getUid","setText","getValues","hideDateTimeAxis","colorPalette","getVizType","allDims","getDataset","getDimensions","vfFeed","vfFeedColorName","dim","m","length","n","getName","sorter","setSorter","chartScaleTitle","vizData","getSource","getCurrentContexts","map","context","getObject","setChartUoMTitle","bFlag","setTimeout","checkNoData","system","phone","iRowSpan","Math","max","isDataSetEmpty","iVizFrameHeight","getCardItemsBinding","resizeCard","newCardLayout","setProperty","colSpan","oCardLayout","setCardContentContainerHeight","getDomRef","querySelectorAll","iRowHeightPx","iCardBorderPx","setVisible","oOvpContent","remove","reprioritizeContent","oGenCardCtrl","getController","iDropDownHeight","getItemHeight","iChartTextHeight","iBubbleTextHeight","chartType","sId","updatedVizHeight","_calculateVizLegendGroupHeight","oVizCard","setVizProperties","toPx","layoutHeight","legendGroup","layout","cardWidth","parseInt","width","updatedVizWidth","_calculateVizLegendGroupWidth","layoutWidth","maxWidth","refreshCard","rerender"],"sources":["analyticalChart-dbg.controller.js"],"mappings":"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"}