{"version":3,"file":"Card.controller.js","names":["sap","ui","define","Controller","ActionUtils","SelectionVariant","PresentationVariant","CommonUtils","OVPCardAsAPIUtils","ResizeHandler","NumberFormat","CardAnnotationHelper","OdataAnnotationHelper","MessageBox","NavError","CustomData","FilterOperator","JSONModel","Dialog","Button","MessageToast","GenericAppLibrary","jQuery","OvpResources","OVPUtils","KeyCodes","isPlainObject","merge","OVPLogger","jUtils","isEmptyObject","Filterhelper","oDataAnnotationHelperV4","openWindow","Component","placeholderHelper","CoreLibrary","TextDirection","oLogger","extend","initKeyboardNavigation","KeyboardNavigation","cardLayout","this","init","prototype","layoutItemFocusHandler","jqFocused","document","activeElement","labelledElement","find","i","strIdList","length","sText","text","sValueState","attr","hasClass","sCardHeaderTypeDivId","cardHeaderDiv","sCardHeaderType","getText","Date","getTime","sDummyDivForCardHeader","append","id","getAttribute","cardHeaders","indexOf","prop","table","itemColumn","closest","headerColumns","siblings","children","filter","hasChildNodes","headerTextId","firstElementChild","keyCodes","jqElement","getView","$","parent","on","bind","keyboardNavigation","onInit","oCardComponent","getOwnerComponent","oCardComponentData","getComponentData","oMainComponent","mainComponent","sCardId","cardId","sState","mPreprocessors","xml","ovpCardProperties","oData","state","oHeader","byId","attachBrowserEvent","onHeaderClick","addEventDelegate","onkeydown","oEvent","shiftKey","keyCode","preventDefault","onkeyup","oNumericControl","onAfterRendering","$numericControl","$number","$scale","$header","getDomRef","oCompData","appComponent","oAppComponent","getModel","oUiModel","getProperty","oDashboardLayoutUtil","getDashboardLayoutUtil","setKpiNumericContentWidth","exit","resizeHandlerId","deregister","onExit","that","GloabalEventBus","unsubscribe","eventhandler","oCardHeader","oCardHeaderDomRef","oHeaderTitle","oQuickViewCardHeaderEnabled","sHeaderDomID","setAttribute","sQuickViewCardHeaderID","oCardPropertiesModel","getCardPropertiesModel","enableClick","sContentFragment","sSelectedKey","oItemsBinding","getCardItemsBinding","hidePlaceholderNeeded","hidePlaceholder","oDropDown","setSelectedKey","isCardAutoSpan","register","info","target","size","height","setAutoCardSpanHeight","err","error","$wrapper","getCardDomId","oView","outerHeight","innerHeight","bIsNavigable","bGlobalFilterLoaded","checkHeaderNavForChart","checkNavigation","checkIfAPIIsUsed","checkAPINavigation","oCardPropertyModel","cardType","viewAllLink","parentNode","removeChild","bNavigationExistsForCard","oCardRef","stackContainer","querySelectorAll","addClassToAllElements","addStyleClass","removeAttr","bIsLineItemNavigable","checkLineItemNavigation","listItem","setType","checkNavigationForLinkedList","oMyInsightButton","getVisible","setVisible","dropDown","invisibleText","addAriaLabelledBy","getId","_handleCountHeader","_handleKPIHeader","oCardPropsModel","oEntityType","getEntityType","sIdentificationAnnotationPath","sAnnotationPath","aAnnotationPath","split","aRecords","isNavigationInAnnotation","sKpiAnnotationPath","oRecord","Detail","sSemanticObject","SemanticObject","String","sAction","Action","oLineItemRecords","RecordType","oItem","$Type","oComponentData","bCheckIfValidArg","fnCheckNavigation","sNavMode","ctrlKey","metaKey","constants","explace","inplace","onHeaderClicked","template","sTargetUrl","undefined","window","location","href","doNavigation","getBindingContext","navigation","resizeCard","cardSpan","countFooter","getLength","setHeaderCounter","attachDataReceived","attachChange","countHeader","iTotal","iCurrent","getCurrentContexts","oCard","countHeaderText","numberFormat","getIntegerInstance","minFractionDigits","maxFractionDigits","decimalSeparator","style","parseFloat","format","Number","dashboardLayoutModel","getCardById","dashboardLayout","showOnlyHeader","setText","$countHeader","kpiHeader","subTitle","getElementsByClassName","oKPIBinding","getKPIBinding","UoM","getParameter","results","visibility","_setSubTitleWithUnitOfMeasure","display","oNumericBox","getBindingInfo","binding","getData","oSubtitleTextView","entityType","dataPointAnnotationPath","oDataPointAnnotationPathSplit","oDataPoint","measure","Value","Path","Description","sPath","getUnitColumn","unitOfMeasure","subTitleInText","aCustomData","getAggregation","index","oCustomData","getKey","setValue","onActionPress","sourceObject","getSource","_getActionObject","context","type","doAction","getCustomData","getValue","oContext","oNavigationField","setTimeout","getEntityNavigationEntries","oContextCopy","oNavigationFieldCopy","oCustomNavigationEntry","doCustomNavigation","oExtensonNavigationEntry","templateBaseExtension","provideExtensionNavigation","oFinalNavigationEntry","sType","pop","toLowerCase","fnProcessNavigation","doNavigationWithUrl","doIntentBasedNavigation","oAppStatePromise","call","then","ushell","Container","url","oParsingSerivce","getService","isIntentUrl","oParsedShellHash","parseShellHash","bWithRoute","appSpecificRoute","fnHandleError","oError","getErrorCode","show","title","doCrossApplicationNavigation","oIntent","oNavArguments","sIntent","semanticObject","action","params","sParams","_formParamString","isIntentSupported","done","oResponse","supported","JSON","parse","oGlobalFilter","globalFilter","oUiState","getUiState","allFilters","sSelectionVariant","stringify","getSelectionVariant","mFilterPreference","_getFilterPreference","_removeFilterFromGlobalFilters","SelectOptions","oGlobalFilterValues","Ranges","values","j","Sign","Option","push","Low","PropertyName","toExternal","oUrlWithIntent","ovpConfig","isTeamsModeActive","oParameters","oAllData","oEntity","getObject","sCustomParams","getAllData","iStaticLinkListIndex","bStaticLinkListIndex","__metadata","oNavigationHandler","getNavigationHandler","_getEntityNavigationParameters","sNavSelectionVariant","oAppExternalData","sNavPresentationVariant","presentationVariant","oParams","navigate","actionData","getActionInfo","allParameters","_loadParametersForm","_callFunction","aNavigationFields","sCardType","settings","identificationAnnotationPath","kpiAnnotationPath","oDetail","label","Array","isArray","sortCollectionByImportance","Label","Url","UrlRef","oModel","oMetaModel","getMetaModel","getInterface","getPath","entitySet","oEntityBindingContext","createBindingContext","sBindingString","key","value","setModel","setBindingContext","oUrl","getEntitySet","sEntitySet","oEntitySet","oEntitySetAnnotations","$Annotations","oEntitySetProperties","property","getCardContentContainer","cardContentContainer","_processCustomParameters","oContextData","oSelectionData","oContextParameters","aStaticParameters","provideCustomParameter","onCustomParams","fnGetParameters","checkIfFunction","oContextDataCopy","oSelectionDataCopy","oCustomParams","bIsObject","bIgnoreEmptyString","ignoreEmptyString","aCustomSelectionVariant","aSelectionVariant","selectionVariant","iLength","oCustomSelectionVariant","sValue1","sValue2","path","value1","value2","toString","removeSelectOption","addSelectOption","sign","operator","_removeEmptyStringsFromSelectionVariant","oCustomParameters","oSelectionVariant","oPresentationVariant","oStaticParameters","oStaticLinkList","oCardSelections","getCardSelections","aCardFilters","filters","aCardParameters","parameters","forEach","oCardFilter","replace","NE","EQ","Contains","sValue","EndsWith","StartsWith","hasOwnProperty","oDimensions","getOtherNavigationDimensions","aDimensionValues","oCardParameter","oCardSorters","getCardSorters","oEntityTypePropertyKeys","Object","keys","startsWith","vAttributeValue","ID","_buildSelectionVariant","staticParameters","iSuppressionBehavior","service","SuppressionBehavior","oNavSelectionVariant","mixAttributesAndSelectionVariant","toJSONString","_removeSensitiveAttributesFromNavSelectionVariant","_mSelectOptions","name","aParameters","getParameterNames","removeParameter","aSelOptionNames","getSelectOptionsPropertyNames","aSelectOption","getSelectOption","High","splice","_checkIfCardFiltersAreValid","sPropertyName","bFlag","filterAll","aAllPropertyNames","cardFilter","oFilter","oParameter","sName","sNameWithPrefix","sNameWithoutPrefix","substr","addParameter","oParameterModel","setData","parameterData","oParameterDialog","sFunctionLabel","afterClose","destroy","actionButton","press","mParameters","getParameters","oFunctionImport","close","cancelButton","setBeginButton","setEndButton","onFieldChangeCB","missingMandatory","mandatoryParamsMissing","setEnabled","oForm","buildParametersForm","addContent","open","mUrlParameters","actionText","batchGroupId","changeSetId","urlParameters","forceSubmit","functionImport","oPromise","Promise","resolve","reject","model","sFunctionImport","callFunction","method","httpMethod","headers","success","duration","errorMessage","showODataErrorMessages","onClose","styleClass","initialFocus","textDirection","Inherit","setErrorState","oCurrentCard","oContainer","oComponentContainer","oComponentConfig","componentData","category","description","loadingState","ERROR","create","oLoadingCard","setComponent","changeSelection","selectedKey","bAdaptUIMode","oCardProperties","oDropdown","parseInt","getSelectedKey","oTabValue","tabs","oUpdatedCardProperties","recreateCard","setOrderedCardsSelectedKey","getItemHeight","oGenCardCtrl","sCardComponentId","aAggregation","iHeight","getItems","getOuterHeight","getHeaderHeight","getDashboardLayoutModel","headerHeight","refreshCardContent","refresh"],"sources":["Card-dbg.controller.js"],"mappings":"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"}