/*!
 * SAPUI5

		(c) Copyright 2009-2020 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/base/Object","../push/config/FeaturePushConfig","../utils/Utils","../utils/ScopeCheck","../push/config/trigger/TriggerFactory"],function(i,n,t,e,s){"use strict";return i.extend("sap.feedback.ui.flpplugin.config.PushConfig",{_oStartupConfig:null,_oFeatureConfig:null,_iDynamicPushIntervalTimerInMinutes:null,_iMinimumTimeToStartTimerForDynamicPushInHrs:null,_iQuietPeriodInHrs:null,_iSnoozePeriodInHrs:null,_iIntervalInitialDynamicPushInDays:null,_iDeviationInitialDynamicPushInDays:null,_iIntervalInitialInAppPushInDays:null,_iDeviationInitialInAppPushInDays:null,_iIntervalNextDynamicPushInDays:null,_iDeviationNextDynamicPushInDays:null,_iIntervalNextInAppPushInDays:null,_iDeviationNextInAppPushInDays:null,constructor:function(i){if(!i){throw Error("oStartupConfig is not provided!")}this._oStartupConfig=i},init:function(){this._oFeatureConfig={}},initFromJSON:function(i){this._initStaticProd();if(e.isImmediateTestModeParamActive()){this._initStaticTest()}this._parseFeaturePushConfig(i.pushConfig.featurePushConfigs)},_parseFeaturePushConfig:function(i){i.forEach(function(i){if(e.isFeaturePushAvailable(this._oStartupConfig)){var t=i.trigger;var a=t.type;var r=s.createTrigger(t);var u=new n;u.initFromJSON(i);u.setTriggerConfig(a,r);this.addFeaturePushConfig(u)}}.bind(this))},setMinimumTimeToStartTimerForDynamicPush:function(i){this._iMinimumTimeToStartTimerForDynamicPushInHrs=i},setDynamicPushIntervalTimer:function(i){this._iDynamicPushIntervalTimerInMinutes=i},getQuietPeriodInHrs:function(){return this._iQuietPeriodInHrs},getSnoozePeriodInHrs:function(){return this._iSnoozePeriodInHrs},getIntervalInitialDynamicPushInDays:function(){return this._iIntervalInitialDynamicPushInDays},getDeviationInitialDynamicPushInDays:function(){return this._iDeviationInitialDynamicPushInDays},getIntervalNextDynamicPushInDays:function(){return this._iIntervalNextDynamicPushInDays},getDeviationNextDynamicPushInDays:function(){return this._iDeviationNextDynamicPushInDays},getIntervalInitialInAppPushInDays:function(){return this._iIntervalInitialInAppPushInDays},getDeviationInitialInAppPushInDays:function(){return this._iDeviationInitialInAppPushInDays},getIntervalNextInAppPushInDays:function(){return this._iIntervalNextInAppPushInDays},getDeviationNextInAppPushInDays:function(){return this._iDeviationNextInAppPushInDays},getMinimumTimeToStartTimerForDynamicPush:function(){return this._iMinimumTimeToStartTimerForDynamicPushInHrs},getDynamicPushIntervalTimer:function(){return this._iDynamicPushIntervalTimerInMinutes},addFeaturePushConfig:function(i){if(this._oFeatureConfig){this._oFeatureConfig[i.getCombinedKey()]=i}},findFeaturePushConfigById:function(i,n){var e=t.getCombinedKey(i,n);var s=this._oFeatureConfig[e];if(s&&s.isActive()){return s}return null},findGenericFeaturePushConfigWithTriggerType:function(i){var n=[];Object.keys(this._oFeatureConfig).forEach(function(t){var e=this._oFeatureConfig[t];if(e.isActive()&&e.getIsGeneric()&&e.getTriggerType()===i){n.push(e)}}.bind(this));return n},findExpiredFeatureConfigs:function(){var i=[];Object.keys(this._oFeatureConfig).forEach(function(n){var t=this._oFeatureConfig[n];if(t.isExpired()){i.push(t)}}.bind(this));return i},_initStaticProd:function(){this.setDynamicPushIntervalTimer(30);this.setMinimumTimeToStartTimerForDynamicPush(12);this._iQuietPeriodInHrs=48;this._iSnoozePeriodInHrs=25;this._iIntervalInitialDynamicPushInDays=35;this._iDeviationInitialDynamicPushInDays=7;this._iIntervalInitialInAppPushInDays=14;this._iDeviationInitialInAppPushInDays=7;this._iIntervalNextDynamicPushInDays=90;this._iDeviationNextDynamicPushInDays=28;this._iIntervalNextInAppPushInDays=45;this._iDeviationNextInAppPushInDays=7},_initStaticTest:function(){this.setDynamicPushIntervalTimer(2);this.setMinimumTimeToStartTimerForDynamicPush(12);this._iQuietPeriodInHrs=0;this._iSnoozePeriodInHrs=0;this._iIntervalInitialDynamicPushInDays=0;this._iDeviationInitialDynamicPushInDays=0;this._iIntervalInitialInAppPushInDays=0;this._iDeviationInitialInAppPushInDays=0;this._iIntervalNextDynamicPushInDays=0;this._iDeviationNextDynamicPushInDays=0;this._iIntervalNextInAppPushInDays=0;this._iDeviationNextInAppPushInDays=0}})});
//# sourceMappingURL=PushConfig.js.map