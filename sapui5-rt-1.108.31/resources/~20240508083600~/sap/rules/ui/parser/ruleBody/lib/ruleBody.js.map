{"version":3,"file":"ruleBody.js","names":["sap","ui","define","parsingBackendMediator","ruleBodyConstants","hrfException","ResponseCollector","utilsBaseLib","decisionTableCellLib","parser","parsingBackendMediatorLib","utilsLib","expressionEmpty","expression","undefined","RuleBody","this","ruleType","ruleBodyCopy","needDeserializeInput","serializedHeaders","prototype","initTraversalParts","traversalParts","traversalEnum","condition","hasOwnProperty","outputParams","actionParams","actions","traverse","ruleBody","vocabulary","vocaRTServ","pathPrefix","jQuery","log","debug","JSON","stringify","RULE_BODY_TYPE","type","setHitPolicy","parse","SINGLE_TEXT","traverseText","DECISION_TABLE","RULE_SET","traverseDecisionTable","index","path","RULE_CONTENT","initResult","result","initRowResult","content","buildJsonPath","CONDITION","handleTextCondition","RULE_OUTPUTS","initTextOutputsResult","currentOutput","outputs","length","handleTextOutputParameter","RULE_PARAMETERS","initTextParametersResult","currentParam","parameters","handleTextActionParameter","RULE_ACTIONS","initTextActionsResult","currentAction","handleTextAction","addRowResult","handleEmptyRuleBody","rowIndex","colIndex","ruleBodyContent","headersMap","header","RULE_ROWS","RULE_HEADERS","handleHeaders","currentRow","rowResult","rows","RULE_ROW","RULE_ROW_ID","row","RULE_COL_ID","colID","RULE_CELL_TYPE","handleDecisionTableCondition","PARAM","handleDecisionTableActionParameter","OUTPUT_PARAM","handleDecisionTableOutputParameter","ACTION_PARAM","handleDecisionTableAction","finalizeResult","rule","deserializeExpression","text","afterConversionParts","fixedOperator","operator","traverseDecisionTableHeaders","headerFunc","headersIndex","headersLength","headers","RULE_DT_EXPRESSION","buildHeadersMap","concatToDecisionTableCondition","splitDecisionTableCondition","getParserAST","parserMode","variables","contentType","flags","parsedBusinessRule","parseInputRT","getInstance","addMessage","HrfException","PARSE_MODE","status","HIT_POLICY_PROPERTY","hitPolicy","ALL_MATCH","getHitPolicy"],"sources":["ruleBody-dbg.js"],"mappings":"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"}