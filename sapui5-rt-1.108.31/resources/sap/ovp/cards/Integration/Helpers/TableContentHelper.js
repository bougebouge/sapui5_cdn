sap.ui.define(["sap/ovp/cards/Integration/Helpers/ContentHelper","sap/ovp/cards/Integration/Helpers/i18n"],function(e,t){"use strict";function a(e,t){var a=[],n=0;var r=e.view.byId("ovpTable").getAggregation("columns");for(var i=0;i<r.length&&a.length<t;i++){if(r[i].getVisible()){a[n]=i;n++}}return a}function n(a,n,r,i,l){var s=a[n[r]];if(s){var g=e.getBindingPathOrValue(s.getHeader(),"text",false,l);var o,u;if(g&&!g.startsWith("{")){o=g.replace(/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/g,"");o=i+"_"+o.replace(/ /g,"_");u=g;t.seti18nValueToMap("content.row.columns."+r+".title","{{"+o+"}}",true);t.inserti18nPayLoad(i,o,u,"Column header","column "+r+" title value")}return{header:g,hAlign:s.getHAlign()}}return{}}function r(t,a){if(!t){return{}}var n,r,i,l,s,g={};n=t.getMetadata().getName();switch(n){case"sap.m.VBox":var o=t.getAggregation("items");if(o.length){o.forEach(function(t){r=e.getBindingPathOrValue(t,"text",false,a);if(r){g.value=r}})}break;case"sap.ui.comp.navpopover.SmartLink":g.value=e.getBindingPathOrValue(t,"text",false,a);break;case"sap.m.Text":g.value=e.getBindingPathOrValue(t,"text",false,a);break;case"sap.ui.comp.smartfield.SmartField":g.value=e.getBindingPathOrValue(t,"value",false,a);i=t.getControlProposal().getObjectStatus?t.getControlProposal().getObjectStatus():"None";l=e.getBindingPathOrValue(i,"criticality",false,a);g.state=l&&l!=="None"?e.buildValueStateExpression(l,"state"):"None";break;case"sap.m.ObjectNumber":g.value=e.getBindingPathOrValue(t,"number",false,a);s=e.getBindingPathOrValue(t,"state",false,a);g.state=s&&s!=="None"?e.buildValueStateExpression(s,"state"):"None";break}return g}function i(t,i){if(!t){return{}}var l=t.cardComponentData.cardId;var s=i.configuration.parameters;var g=t.view.byId("ovpTable").getAggregation("columns");var o=t.itemBindingInfo&&t.itemBindingInfo.template.getAggregation("cells");var u=a(t,3);var c=[];for(var v=0;v<u.length;v++){var d=n(g,u,v,l,s);var f=r(o[u[v]],s);if(Object.keys(d).length||Object.keys(f).length){c.push({title:d.header,value:f.value,state:f.state,actions:f.actions,hAlign:d.hAlign})}}return{data:e.getData(i.data.request.batch),row:{columns:c}}}return{getTableContent:i}});
//# sourceMappingURL=TableContentHelper.js.map