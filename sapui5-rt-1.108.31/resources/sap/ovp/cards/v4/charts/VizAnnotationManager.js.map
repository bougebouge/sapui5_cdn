{"version":3,"file":"VizAnnotationManager.js","names":["sap","ui","define","jQuery","Utils","CountMode","CardAnnotationHelper","NumberFormat","DateFormat","VizFormat","VizTooltip","CommonUtils","OVPCardAsAPIUtils","DimensionDefinition","MeasureDefinition","FeedItem","CoreElement","OvpResources","OVPUtils","each","merge","ovpLogger","isEmptyObject","V4MetadataAnalyzer","constants","LABEL_KEY","LABEL_KEY_V4","TEXT_KEY","TEXT_KEY_V4","TEXT_ARRANGEMENT_ANNO","TYPE_KEY","DISPLAY_FORMAT_KEY","SEMANTICS_KEY","UNIT_KEY","UNIT_KEY_V4_ISOCurrency","UNIT_KEY_V4_Unit","CURRENCY_CODE","NAME_KEY","NAME_CAP_KEY","EDM_TYPE","EDM_INT32","EDM_INT64","SCATTER_CHARTTYPE","BUBBLE_CHARTTYPE","LINE_CHARTTYPE","COLUMNSTACKED_CHARTTYPE","VERTICALBULLET_CHARTTYPE","COLUMN_CHARTTYPE","BAR_CHARTTYPE","COMBINATION_CHARTTYPE","DONUT_CHARTTYPE","V4_ANNOTATION","errorMessages","CARD_WARNING","CARD_ERROR","DATA_ANNO_ERROR","CARD_ANNO_ERROR","CHART_ANNO_ERROR","INVALID_CHART_ANNO","ANALYTICAL_CONFIG_ERROR","CACHING_ERROR","INVALID_MAXITEMS","NO_DATASET","SORTORDER_WARNING","BOOLEAN_ERROR","IS_MANDATORY","IS_MISSING","NOT_WELL_FORMED","MISSING_CHARTTYPE","CHART_ANNO","DATA_ANNO","CARD_ANNO","CARD_CONFIG","CARD_CONFIG_ERROR","CARD_CONTAINER_ERROR","DATA_UNAVAIALABLE","CONFIG_LOAD_ERROR","INVALID_CHARTTYPE","INVALID_CONFIG","CONFIG_JSON","ENTER_INTEGER","NO_CARD_MODEL","ANNO_REF","INVALID_REDUNDANT","CHART_IS","CARD_CONFIG_JSON","ALLOWED_ROLES","DIMENSIONS_MANDATORY","MEASURES_MANDATORY","CARD_LEAST","CARD_MOST","FEEDS","MIN_FEEDS","FEEDS_OBTAINED","FEEDS_REQUIRED","INVALID_SEMANTIC_MEASURES","INVALID_IMPROVEMENT_DIR","INVALID_CRITICALITY","INVALID_DIMMEAS","INVALID_FORECAST","INVALID_TARGET","ERROR_MISSING_AXISSCALES","aSupportedDateSemantics","aSupportedChartTypesForSemanticColors","aSupportedChartTypesForStableColors","oGlobalEntityType","oLogger","isV4TimeSeriesSemantics","oDataModel","sEntitySet","dimensionName","semantics","getMetaModel","getObject","formatItems","iContext","oEntitySet","oSelectionVariant","oPresentationVariant","oDimensions","oMeasures","chartType","ret","getSetting","error","dataModel","chartEnumArr","$EnumMember","split","undefined","dimensionsList","aExpand","aAssociationKeys","aTempAssociationKeyArr","measuresList","aUnitMeasureList","requestList","sorterList","bParams","Parameters","bSorter","SortOrder","maxItemTerm","MaxItems","maxItems","tmp","sExpand","textPath","entitySet","textKey","textKeyV4","unitKey","unitKey_v4_isoCurrency","unitKey_v4_unit","oSelectItems","isNaN","parseInt","test","ovpCardProperties","aParameters","getProperty","oMetaModel","measureAggregate","sEntitySetName","getEntitySetName","$Type","path","resolveParameterizedEntitySet","filters","oMetadata","getMetadata","addInlineAnnotations","cardLayout","colSpan","colSpanOffset","allConfig","getConfig","config","reference","key","virtualEntry","time","type","toLowerCase","bSupportsTimeSemantics","hasTimeSemantics","default","dataStep","resize","hasOwnProperty","getFilters","length","JSON","stringify","oAnnotations","i","m","Measure","$PropertyPath","DataPoint","$AnnotationPath","datapointAnnotationPath","ForecastValue","PropertyPath","Path","forecastProperty","push","unitCode","annotations","$Path","Array","prototype","indexOf","call","TargetValue","targetProperty","String","d","Dimension","aParts","getNavigationPrefix","getAssociationKeys","concat","k","splice","oSortAnnotationCollection","getSortAnnotationCollection","warning","sSorterValue","oSortOrder","sSortOrder","sSortBy","Property","includes","Descending","checkFlag","Bool","Boolean","substring","aUniqueGroupByList","formGroupByList","s","join","measureAtrributeStrings","forEach","measureListElement","sMeasureAggregateAxis","measureAggregateAxis","measureAttriString","oEntityType","requestFields","getRequestFields","r","bCheckFilterPreference","checkFilterPreference","requiresIContext","sProperty","oAssociationEnd","getODataAssociationEnd","getODataEntityType","aGroupList","filter","list","index","aKeyObjects","targetKey","propertyRef","j","name","checkForecastMeasure","aMeasure","entityTypeObject","boolflag","realMeasure","oDatapoint","checkTargetMeasure","getSapLabel","value","v","getMeasureDimCheck","feeds","boolFlag","getUid","getValues","formatByType","sProp","sVal","typeKey","aNumberTypes","currentType","Number","returnDateFormat","date","hideDateTimeAxis","vizFrame","feedName","getModel","getVizType","getFeeds","feedValues","setVizProperties","categoryAxis","title","visible","checkExists","term","annotation","bMandatory","logViewId","contentFragment","annoTerm","logger","ChartType","validateCardConfiguration","oController","selVar","chartAnno","preVar","idAnno","dPAnno","entityTypeData","oCardsModel","oView","getView","getId","getCardPropertiesModel","oEntitySetAnnotations","getData","$Annotations","checkNoData","oEvent","cardContainer","oChartType","aDimensions","dimensionType","displayFormat","sapSemantics","sapSemanticsV4","lastIndexOf","unshift","getChartType","checkRolesForProperty","queue","feedtype","queuedNames","val","allowedRoles","map","f","role","grep","getPrimitiveValue","oValue","isLegend","getBooleanValue","getNumberValue","bDefault","Int","Decimal","Double","Single","numberFormat","getFloatInstance","style","minFractionDigits","maxFractionDigits","format","formThePathForCriticalityStateCalculation","oDataPoint","getPathOrPrimitiveValue","oItem","measureNames","CriticalityCalculation","ImprovementDirection","sImprovementDirection","EnumMember","deviationLow","DeviationRangeLowValue","deviationHigh","DeviationRangeHighValue","toleranceLow","ToleranceRangeLowValue","toleranceHigh","ToleranceRangeHighValue","_calculateCriticalityState","criticalityConstants","StateValues","state","Criticality","criticalTypeArr","mapMeasures","oContext","aMeasures","dataPointAnnotationPath","endsWith","sString","sSuffix","sImproveDirection","buildSemanticLegends","oMeasure","measureName","getLabelFromAnnotationPath","getText","checkNumberFormat","minValue","sAnnotationPath","fractionDigits","fractionDigitsVal","ValueFormat","NumberOfFractionalDigits","getMaxScaleFactor","maxScaleValue","scaleF","ScaleFVal","ScaleFactor","isMeasureCurrency","sapUnit","checkEDMINT32Exists","checkEDMINT64Exists","buildVizAttributes","handler","chartTitle","chartContext","bShowDataLabel","bShowDataLabelCardsAsApi","oVizProperties","aQueuedProperties","aQueuedDimensions","aQueuedMeasures","aPropertyWithoutRoles","aDimensionWithoutRoles","aMeasureWithoutRoles","oDropdown","selectedKey","uiModel","oChartSettings","checkIfAPIIsUsed","showDataLabel","sEntityType","oEntitySetProperties","property","DimensionAttributes","aNumberOfFractionalDigits","MeasureAttributes","dpNumberOfFractionalDigits","chartProps","byId","getSelectedKey","bErrors","tooltipFormatString","toString","oTooltip","formatString","connect","getVizUid","_oOvpVizFrameTooltip","dimensions","measures","entry","oProperty","typeCue","min","max","bHideAxisTitle","properties","bDatapointNavigation","bDonutChart","removeAllAggregation","legend","isScrollable","interaction","noninteractiveMode","selectability","legendSelection","axisLabelSelection","mode","plotLassoSelection","plotStdSelection","zoom","enablement","plotArea","window","start","end","dataLabel","dataPoint","invalidity","alignment","vertical","label","truncatedLabelRatio","general","groupData","showAsUTC","semanticColor","goodLegend","badLegend","criticalLegend","othersLegend","legends","dataPointStyle","rules","callback","criticality","sState","Positive","color","displayName","Critical","Negative","None","bEnableStableColors","oColorPalette","colorPaletteDimension","Object","keys","oDimension","Role","aColorValues","aLegendTexts","legendText","othersCustomLegend","badCustomLegend","criticalCustomLegend","goodCustomLegend","bConsiderAnnotationScales","bIsMinMax","AxisScaling","RecordType","oAxisScaling","AutoScaleBehavior","oAutoScaleBehavior","ZeroAlwaysVisible","adjustScale","DataScope","ScaleBehavior","sEnumMember","sEnumMemberValue","sScaleType","aChartScales","sDataPointAnnotationPath","sDataPointPath","oMinMaxParams","MaximumValue","MinimumValue","feed","setVizScales","slice","minValCurr","maxScaleValueCurr","isCurrency","isNotCurrency","oVizPropertiesFeeds","measureArr","dimensionArr","uid","aFeedProperties","iPropertiesLength","propertyName","len","rolesByPrio","annotationRole","defaultRole","aFeeds","dataset","getDataset","textColumn","edmType","$String","displayBindingPath","oTextArrangement","sTextArrangementType","dimensionDefinition","displayValue","isV4CalendarYear","setDataType","addDimension","addMeasure","addFeed","values","text","configi","confignumberOfProperties","vizProperties","configpathToUse","configvalue","configlengthOfPathToUse","configtmp","manifestTmp","configcurrent","configj","numberOfProperties","attributeValue","methodToUse","pathToUse","method","lengthOfPathToUse","current","semanticPattern","getType","selectedValue","valueLabel","actualMeasure","forecastMeasure","forecastValue","actualValue","forecastValueName","dataContext","MeasureNamesDimension","lineType","lineColor","pattern","setValues","bColorRestriction","dimensionSettings","aDimensionPaths","sDimensionPath","oRules","aChartDimensions","bStableColoringByDimensionValue","sChartDimension","oColorRules","aDefinedRules","aColorRules","oRule","every","_fnCheckColorNotDefined","aRules","_sortColorsByIndex","sDimensionValue","dimensionValue","sColor","feedname","getFeednameByProperty","aDimensionsByOrder","_getDimensionValue","order","n","indexM","indexN","targetMeasure","targetValue","feedType","aFeedValues","isMeasureDecimal","aFeedValueContexts","measureAttr","sPropertyPath","oPropertyMetadata","contextMeasure","scaleUnit","getScaleUnit","setScale","setFormattedChartTitle","fmtStr","feedFractionalDigits","currentFeedType","oVizPropertiesFeed","singleFeed","result","trim","aPropertiesLabels","propertyLabel","trimmedPropertyLabel","currentMeasure","measureObject","measureProperty","currentMeasureObject","currentMeasureDPPath","tempFractionalDigits","formatStr","finalMinValue","chartFmtStr","timeDimension","timeAxis","levels","setChartUoMTitle","vizData","entityType","measureList","unitType","bSetChartUoMTitle","feedMeasures","objData","chartUnitTitleTxt","setText","data","labelForVizFrame","updatedLabelForVizFrame","sResourceModelName","sPropertyName","aTemp","err","model","cacheODataMetadata","txt","measureStr","dimensionStr","num","scaledNum","currencyFormat","getCurrencyInstance","currencyCode","shortRefNumber","getSelectedDataPoint","controller","attachSelectData","sNavMode","bCRTLPressed","explace","inplace","dimensionArrayNames","finalDimensions","aCustomContext","dimensionsArr","getDimensions","contextNumber","getName","allData","getBinding","getCurrentContexts","x","getParameter","_context_row_number","getContexts","oNavigationField","getEntityNavigationEntries","$isOthers","aOtherNavigationDimension","aFinalDimensions","donutIntent","payLoad","getOtherNavigationDimensions","checkAPINavigation","onContentClicked","doNavigation","match","oRb","this","getResourceBundle","aAnnotations","constructor","Date","getDateTimeInstance","sFiscalDate","reverse","getAllData","checkBubbleChart","dimensionAttrCheck","measureAttrCheck","getEntitySet","getAnnotationQualifier","annotationPath","tokens","reprioritizeContent","newCardLayout","cardPropObject","getMaxItems","itemsLength","updateBindingForAnalyticalCard","presentationAnno","presentationContext","newAggrBinding","newBinding","finalMeasures","vizFrameParent","getParent","dataBinding","getPath","parameters","mParameters","select","custom","_requestFrom","aApplicationFilters","sorter","aSorters","template","bindAggregation","updateBindingContext","Annotations","aColors","sort","oRule1","oRule2","oColor"],"sources":["VizAnnotationManager-dbg.js"],"mappings":"AAMAA,IAAIC,GAAGC,OAAO,CACV,2BACA,gCACA,+BACA,sCACA,kCACA,gCACA,6BACA,kCACA,4BACA,kCACA,uCACA,qCACA,6CACA,sBACA,wBACA,uBACA,qBACA,sBACA,0BACA,8BACA,uCACD,SACCC,OACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAGA,IAAIC,EAAY,CACZC,UAAW,YACXC,aAAc,uCACdC,SAAU,WACVC,YAAa,sCACbC,sBAAuB,6CACvBC,SAAU,QACVC,mBAAoB,qBACpBC,cAAe,gBACfC,SAAU,WACVC,wBAAyB,oCACzBC,iBAAkB,6BAClBC,cAAe,gBACfC,SAAU,OACVC,aAAc,OACdC,SAAU,OACVC,UAAW,YACXC,UAAW,YACXC,kBAAmB,+CACnBC,iBAAkB,8CAClBC,eAAgB,4CAChBC,wBAAyB,qDACzBC,yBAA0B,sDAC1BC,iBAAkB,8CAClBC,cAAe,2CACfC,sBAAuB,mDACvBC,gBAAiB,6CACjBC,cAAe,eAInB,IAAIC,EAAgB,CAChBC,aAAc,mCACdC,WAAY,gCACZC,gBAAiB,+BACjBC,gBAAiB,gCACjBC,iBAAkB,gCAClBC,mBAAoB,oDACpBC,wBAAyB,oCACzBC,cAAe,+CACfC,iBAAkB,wBAClBC,WAAY,oDACZC,kBAAmB,mFACnBC,cAAe,uDACfC,aAAc,gBACdC,WAAY,cACZC,gBAAiB,mCACjBC,kBAAmB,wBACnBC,WAAY,oBACZC,UAAW,kBACXC,UAAW,mBACXC,YAAa,sBACbC,kBAAmB,sCACnBC,qBAAsB,oCACtBC,kBAAmB,qBACnBC,kBAAmB,uCACnBC,kBAAmB,+BACnBC,eAAgB,oCAChBC,YAAa,iBACbC,cAAe,2BACfC,cAAe,gCACfC,SAAU,yCACVC,kBAAmB,yCACnBC,SAAU,gBACVC,iBAAkB,wBAClBC,cAAe,uBACfC,qBAAsB,qCACtBC,mBAAoB,mCACpBC,WAAY,wBACZC,UAAW,uBACXC,MAAO,WACPC,UAA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"}