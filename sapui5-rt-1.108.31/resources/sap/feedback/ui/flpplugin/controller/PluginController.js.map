{"version":3,"file":"PluginController.js","names":["sap","ui","define","BaseObject","Log","Constants","Utils","ScopeCheck","UI5Utils","ContextDataController","TriggerType","DynamicPushTrigger","ShellBarButton","PopOverVisual","WebAppFeedbackLoader","Storage","RequestDispatcher","SurveyFactory","extend","_oStartupConfig","_oCentralConfig","_oContextDataController","_oShellButton","_oWebAppFeedbackLoader","_fnRendererPromise","_oResourceBundle","_oLocalStorage","_sLastThemeId","_sCurrentThemeId","_oRequestDispatcher","_oDynamicPushTrigger","constructor","oStartupConfig","fnRendererPromise","oResourceBundle","this","init","_initStorage","_initLastTheme","Promise","resolve","reject","_initAndGetCentralConfiguration","then","oCentralConfig","_initContextData","_initRequestDispatcher","_initUI","_initWebAppFeedback","_initDynamicPushTrigger","_updateInitialContextData","catch","oError","error","message","S_PLUGIN_PLGCTRL_NAME","bind","isLocalStorageAvailable","sCurrentThemeId","getTheme","sLastThemeId","getLastTheme","_updateThemeState","isFeaturePushAvailable","isDynamicPushAvailable","createCentralConfiguration","oConfigLoader","createConfigurationLoader","getPushConfiguration","oPushConfig","setPushConfig","_oVisual","_onSurveyShow","_onAPILoadedCallback","loadAPI","handleDynamicPush","_initGenericFeaturePushTriggers","getCore","attachThemeChanged","oEvent","_onThemeChanged","updateContextData","E_CLIENT_ACTION","getAppLifeCycleService","attachAppLoaded","_onAppLoaded","_openSurvey","sClientAction","iFollowUpCount","setClientAction","setLastTheme","setFollowUpCount","QSI","API","unload","load","run","fnResolve","fnReject","getIsAPILoaded","navBarClick","show","appLoaded","getEventBus","publish","areaId","S_GENERIC_TRIGGER_AREAID","triggerName","E_TRIGGER_TYPE","recurring","sNewThemeId","getParameters","theme","themeChanged","sNewLastThemeId","isInit","_updateThemeToggleStart","updateLastTheme","updateCurrentTheme","isHorizonTheme","setThemeToggleStart","Date","now","deleteThemeToggleStart"],"sources":["PluginController-dbg.js"],"mappings":"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"}