// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["./abap.bootstrap.utils","sap/base/util/ObjectPath","sap/base/Log","sap/ushell_abap/pbServices/ui2/Utils","sap/ushell/utils"],function(e,t,r,a,n){"use strict";var s={};function i(t,r,s){var i="/sap/bc/ui2/start_up?",o=a.getParameterMap(),u;if(t){i+=t+"&"}function c(e){var t=o[e];if(t){i+=e+"="+encodeURIComponent(t[0])+"&"}}r.forEach(c);i+="shellType="+n.getShellType()+"&depth=0";if(s){i+=e.getCacheIdAsQueryParameter(s);u=e.createAndOpenXHR(i,s)}return new Promise(function(e,t){a.get(i,false,function(t){var r=JSON.parse(t);e(r)},t,u)})}s.requestStartupConfig=function(){var e=t.get("sap-ushell-config.services.Container.adapter.config");if(e){return Promise.resolve(e)}return i("",["sap-language","sap-client"])};s.requestFullTM=function(e){return i("so=%2A&action=%2A&systemAliasesFormat=object",["sap-language","sap-client","sap-ui2-cache-disable"],e).then(function(e){if(e){if(e.client){return Promise.reject("A start up response was returned in a target mappings request.")}return Promise.resolve(e)}return Promise.resolve({})},function(e){r.error("navTargetDataPromise rejected: "+e);return Promise.reject(e)})};s.requestDirectStart=function(e,t,r){var n=a.getFormFactor(),s="";s="so="+t.semanticObject+"&action="+t.action;s+="&systemAliasesFormat=object";Object.keys(r).forEach(function(e){s+="&"+e+"="+r[e]});if(n){s+="&formFactor="+encodeURIComponent(n)}return i(s,["sap-language","sap-client"],e).then(function(e){return Promise.resolve(e)})};return s});
//# sourceMappingURL=abap.request.startup.js.map