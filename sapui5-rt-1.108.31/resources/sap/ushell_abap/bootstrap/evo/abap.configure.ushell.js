// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["./abap.constants","sap/ushell/bootstrap/common/common.configure.ushell","sap/base/util/ObjectPath","sap/base/Log"],function(e,a,t,r){"use strict";function s(e){var a="sap/ushell_abap/bootstrap/evo/abap.configure.ushell";var t=e.messages;if(t&&t.length>0){for(var s=0;s<t.length;s+=1){if(t[s].severity==="error"){r.error(t[s].text,null,a)}else if(t[s].severity==="warning"){r.warning(t[s].text,null,a)}}}}function n(e){if(e.startupConfig){var a=t.get("services.Container.adapter.config.systemProperties",e);var r=t.create("services.Container.adapter",e);r.config=e.startupConfig;if(a){r.config.systemProperties=a}}}function o(e){var a=t.get("ushell.spaces.configurable",e);if(a){var r=t.get("startupConfig.userProfile",e)||[];var s=r.filter(function(e){return e.id==="SPACES_ENABLEMENT"})[0];var n=s&&s.value;if(n==="true"){t.set("ushell.spaces.enabled",true,e)}else if(n==="false"){t.set("ushell.spaces.enabled",false,e)}}}function i(e){var a=t.create("services.CommonDataModel.adapter",e);a.module="sap.ushell.adapters.cdm.PagesCommonDataModelAdapter"}function l(e){var a=t.get("bootstrapPlugins",e)||{};Object.keys(a).forEach(function(e){var t=a[e];if(t.hasOwnProperty("formFactors")){var r=t.formFactors,s={};s.desktop=r.desktop||false;s.tablet=r.tablet||false;s.phone=r.phone||false;t.deviceTypes=s;delete t.formFactors}})}function f(e){var a=t.get("startupConfig.userProfile",e)||[];var r=a.filter(function(e){return e.id==="PREFERRED_LOGON_LANGUAGE"})[0];if(r&&r.value!==undefined){var s=r.value!=="";e.startupConfig.isLanguagePersonalized=s}}function u(){var r=a(e);s(r);f(r);n(r);o(r);if(t.get("ushell.spaces.enabled",r)){i(r)}l(r);return r}return u});
//# sourceMappingURL=abap.configure.ushell.js.map