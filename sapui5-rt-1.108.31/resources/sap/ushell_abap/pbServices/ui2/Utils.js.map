{"version":3,"file":"Utils.js","names":["sap","ui","define","URI","Log","SrvcError","Device","Utils","Function","prototype","bind","oThis","this","TypeError","aArgs","Array","slice","call","arguments","that","NOP","fBound","apply","concat","oCache","absoluteUrl","sUrl","sBase","location","href","indexOf","charAt","addCacheBusterTokenUsingUshellConfig","search","replace","callHandler","fnSuccess","fnFailure","bAsync","sMessage","setTimeout","e","message","toString","error","stack","get","bXml","oXHR","bCache","XMLHttpRequest","onreadystatechange","oResult","oXml","readyState","status","statusText","responseText","debug","responseXML","documentElement","put","containsKey","OPENED","open","send","addCacheBusterToken","oPattern","sReplacement","sToken","test","removeCBAndNormalizeUrl","aMatches","sUrlPrefix","sCacheBusterSegment","sUrlPostfix","isUriWithRelativeOrEmptyPath","sUrl0","oUri","sPath","path","is","match","normalizePath","normalizePathname","isRelativePathWithDotSegmentsThatGoOutside","aSegments","segment","i","iPos","length","oCacheBusting","window","cacheBusting","oPatterns","patterns","sCacheBusterUrl","aParameterMap","sSapUshellNoCb","aRules","getParameterMap","urls","substr","hasOwnProperty","cacheBusterToken","Object","keys","forEach","sPattern","oRule","pattern","RegExp","push","sort","oRule1","oRule2","order","every","replacement","clearCache","Map","getFormFactor","system","desktop","SYSTEMTYPE","DESKTOP","tablet","TABLET","phone","PHONE","sSearchString","n","mResult","sKey","sValue","iIndexOfEquals","aKeyValuePairs","aKeyValuePairsLength","sSearch","substring","split","decodeURIComponent","getParameterValue","sName","oParameterMap","iQueryIndex","isArray","o","isString","name","parseXml","sXml","DOMParser","parseFromString","getElementsByTagName","entries","vValue","vOldValue","undefined","remove","aResult","JSON","stringify","join"],"sources":["Utils-dbg.js"],"mappings":"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"}