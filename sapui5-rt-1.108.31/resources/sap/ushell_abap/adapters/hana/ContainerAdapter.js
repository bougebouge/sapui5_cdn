// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/thirdparty/jquery","sap/base/Log"],function(jQuery,e){"use strict";return function(a){var r;this.getSystem=function(){return a};this.getUser=function(){return r};this.logout=function(){var r=new jQuery.Deferred;jQuery.ajax({type:"HEAD",url:a.adjustUrl("/sap/hana/xs/formLogin/token.xsjs"),headers:{"X-CSRF-Token":"Fetch"},success:function(n,s,t){jQuery.ajax({type:"POST",url:a.adjustUrl("/sap/hana/xs/formLogin/logout.xscfunc"),headers:{"X-CSRF-Token":t.getResponseHeader("X-CSRF-Token")},success:function(){e.info("HANA system logged out: "+a.getAlias(),null,"sap.ushell_abap.adapters.hana.ContainerAdapter");r.resolve()},error:function(){e.error("Logging out HANA system failed: "+a.getAlias(),null,"sap.ushell_abap.adapters.hana.ContainerAdapter");r.resolve()}})},error:function(){e.error("Fetching X-CSRF-Token failed: "+a.getAlias(),null,"sap.ushell_abap.adapters.hana.ContainerAdapter");r.resolve()}});return r.promise()}}},true);
//# sourceMappingURL=ContainerAdapter.js.map