// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery","sap/base/util/UriParameters"],function(e,a,jQuery,r){"use strict";var n=e.getLogger("sap/ushell_abap/ui5appruntime/AppInfoAdapter",e.Level.INFO);function p(){}p.prototype.getAppInfo=function(e){var a=r.fromQuery(window.location.search);if(e===undefined){e=a.get("sap-ui-app-id")}if(e){return this._loadAppIndexData("/sap/bc/ui2/app_index/ui5_app_info_json",e)}return Promise.reject(new Error("Cannot load app info - no app-id provided and URL parameter 'sap-ui-app-id' not set"))};p.prototype._loadAppIndexData=function(e,r){var p=new a(e).query({id:r}).toString();return new Promise(function(e,a){jQuery.ajax({type:"GET",dataType:"json",url:p}).done(function(n){var o=n[r];if(o){e(n[r])}else{a(new Error("UI5 app index data loaded from "+p+" does not contain app "+r))}}).fail(function(e){n.error(e.responseText);a(new Error("Failed to load UI5 app index data loaded from "+p+": "+e.responseText))})})};return new p});
//# sourceMappingURL=AppInfoAdapter.js.map