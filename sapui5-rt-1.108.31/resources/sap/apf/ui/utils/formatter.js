/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.define(["sap/apf/ui/utils/stringToDateFormatter","sap/apf/ui/utils/dateTimeFormatter","sap/apf/ui/utils/timeFormatter","sap/apf/ui/utils/decimalFormatter"],function(t,e,r,a){"use strict";var n=function(t,e,r){this.metadata=e;this.dataResponse=r;this.oFormatterArgs=t;this.oDataTypeFormatterMap=i()};n.prototype.constructor=n;function i(){var t=new Map;t.set("Edm.String",o);t.set("Edm.DateTime",u);t.set("Edm.Time",s);t.set("Edm.Decimal",d);return t}function o(e,r){var a=new t;return a.getFormattedValue(e,r,this.oFormatterArgs)}function u(t,r){var a=new e;return a.getFormattedValue(t,r)}function s(t,e){var a=new r;return a.getFormattedValue(t,e)}function d(t,e){var r=new a;var n=t.unit!==undefined?m(this,t.unit):t;var i=0;if(t!==undefined&&this.dataResponse!==undefined&&this.dataResponse[0]!==undefined){i=isNaN(t.scale)?this.dataResponse[0][t.scale]:t.scale}return r.getFormattedValue(n,e,i)}function m(t,e){if(t.metadata&&t.metadata.getPropertyMetadata){return t.metadata.getPropertyMetadata(e)}return t.metadata}n.prototype.getFormattedValue=function(t,e){if(e===null){return"null"}var r;var a=m(this,t);var n=a.dataType!==undefined?a.dataType.type:undefined;if(n===undefined){n=a.type}if(this.oDataTypeFormatterMap.has(n)){r=this.oDataTypeFormatterMap.get(n).call(this,a,e)}else{r=e}var i=jQuery.extend(true,{},a);r=p(i,t,e,r,this.oFormatterArgs);return r};n.prototype.getFormattedValueAsString=function(t,e){return this.getFormattedValue(t,e)+""};n.prototype.getFormatStringTooltip=function(t){return this.getFormatString(t)};n.prototype.getFormatString=function(t){var e=this;var r=sap.viz.ui5.format.ChartFormatter.getInstance();sap.viz.ui5.api.env.Format.numericFormatter(r);var a=t.fieldName;r.registerCustomFormatter("measureFormatter",function(t){var r="-";if(t!==null){r=e.getFormattedValue(a,t)}return r});var n="measureFormatter";return n};n.prototype.getFormattedValueForTextProperty=function(t,e){var r;if(e.key){r=e.text+" ("+e.key+")"}else{r=e.text}var a=jQuery.extend(true,{},m(this,t));r=p(a,t,e.text,r,this.oFormatterArgs);return r};function p(t,e,r,a,n){var i;var o=n.getExits!==undefined?n.getExits.customFormat:undefined;if(o===undefined){return a}i=n.getExits.customFormat.apply(n,[t,e,r,a]);a=i!==undefined?i:a;return a}return n},true);
//# sourceMappingURL=formatter.js.map