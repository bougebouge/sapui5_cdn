/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.navigationTarget",{getControllerName:function(){return"sap.apf.ui.reuse.controller.navigationTarget"},createContent:function(t){var e=this.getViewData();this.oNavListPopover=e.oNavListPopover;this.oOpenInButtonEventSource=e.oOpenInButtonEventSource;this.oNavigationHandler=e.oNavigationHandler;this.oUiApi=e.oUiApi;this.oController=t;this.oUiApi.getLayoutView().byId("applicationPage").setBusy(true);var i=this.oNavigationHandler.getNavigationTargets();i.then(this._prepareActionListModel.bind(this),function(){this.oUiApi.getLayoutView().byId("applicationPage").setBusy(false)})},_prepareActionListModel:function(t){var e=this;var i=[];var a=[];t.global.forEach(function(t){if(t.title){t.text=e.getViewData().oCoreApi.getTextNotHtmlEncoded(t.title)}i.push(t)});t.stepSpecific.forEach(function(t){if(t.title){t.text=e.getViewData().oCoreApi.getTextNotHtmlEncoded(t.title)}a.push(t)});this.oNavListPopover.removeAllContent();var o,n;var s=this;if(a.length!==0){var r=new sap.ui.model.json.JSONModel;var p={navTargets:a};n=new sap.m.List({items:{path:"/navTargets",template:new sap.m.StandardListItem({title:"{text}",type:sap.m.ListType.Navigation,press:function(t){var e=t.getSource().getBindingContext().getObject().id;s.oController.handleNavigation(e)}})}});r.setData(p);n.setModel(r);var v=new sap.ui.core.HTML({content:'<hr class="lineSeparator">',sanitizeContent:true});this.oNavListPopover.addContent(n);this.oNavListPopover.addContent(v)}if(i.length!==0){var l=new sap.ui.model.json.JSONModel;var g={navTargets:i};o=new sap.m.List({items:{path:"/navTargets",template:new sap.m.StandardListItem({title:"{text}",type:sap.m.ListType.Navigation,press:function(t){var e=t.getSource().getBindingContext().getObject().id;s.oController.handleNavigation(e)}})}});l.setData(g);o.setModel(l);this.oNavListPopover.addContent(o)}this.oUiApi.getLayoutView().byId("applicationPage").setBusy(false);this.oNavListPopover.openBy(this.oOpenInButtonEventSource)}})})();
//# sourceMappingURL=navigationTarget.view.js.map