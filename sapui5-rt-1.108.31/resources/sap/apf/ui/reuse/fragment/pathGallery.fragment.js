/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";sap.ui.jsfragment("sap.apf.ui.reuse.fragment.pathGallery",{createContent:function(t){var e=this;this.contentWidth=jQuery(window).height()*.6+"px";this.contentHeight=jQuery(window).height()*.6+"px";this.oCoreApi=t.oCoreApi;this.oUiApi=t.oUiApi;var a=function(t){var a=[];var i=t.getSource().getValue();var n=e.pathGalleryHierarchicalDialog.getContent()[0].getCurrentPage().getContent()[0];if(i&&i.length>0){var o=new sap.ui.model.Filter("title",sap.ui.model.FilterOperator.Contains,i);a.push(o)}var r=n.getBinding("items");r.filter(a)};var i=(new sap.m.List).bindItems({path:"StructuredAnalysisPath/steps",template:new sap.m.StandardListItem({title:"{title}",tooltip:"{title}",type:"Active",icon:"{imgSrc}",press:function(a){e.oUiApi.getLayoutView().setBusy(true);var i=a.getSource().getBindingContext().sPath.split("/");var n=this.getModel().getData().GalleryElements[i[2]].AnalysisPathName;var o=this.getModel().getData().GalleryElements[i[2]].AnalysisPath;var r=i[5];t.openPath(n,o,r);e.oUiApi.getLayoutView().setBusy(false)}})});var n=new sap.m.Page({subHeader:new sap.m.Bar({contentLeft:[new sap.m.SearchField({liveChange:a})]}),content:i,showNavButton:true,navButtonPress:function(){e.oPathGalleryNavContainer.back()}});var o=(new sap.m.List).bindItems({path:"/GalleryElements",template:new sap.m.StandardListItem({title:"{title}",tooltip:"{title}",description:"{description}",type:"Navigation",press:function(t){var a=t.getSource().getBindingContext();n.setBindingContext(a);n.setTitle(t.getSource().getTitle());e.oPathGalleryNavContainer.to(e.oPathGalleryNavContainer.getPages()[1])}})});var r=new sap.m.Page({title:e.oCoreApi.getTextNotHtmlEncoded("select-analysis-path"),subHeader:new sap.m.Bar({contentLeft:[new sap.m.SearchField({liveChange:a})]}),content:o});this.oPathGalleryNavContainer=new sap.m.NavContainer({pages:[r,n]});this.oPathGalleryNavContainer.setModel(t.getView().getModel());e.pathGalleryHierarchicalDialog=new sap.m.Dialog({contentWidth:e.contentWidth,contentHeight:e.contentHeight,showHeader:false,content:[this.oPathGalleryNavContainer],endButton:new sap.m.Button({text:e.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){e.pathGalleryHierarchicalDialog.close()}}),afterClose:function(){e.pathGalleryHierarchicalDialog.destroy()}});return this.pathGalleryHierarchicalDialog}})})();
//# sourceMappingURL=pathGallery.fragment.js.map