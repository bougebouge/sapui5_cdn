/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.define(function(){"use strict";var e=function(e,n,t,r){var a,i,s=new RegExp("^"+e+"-([123456789]\\d*)$"),o=new RegExp("^"+e);var c=this;t.instances.messageHandler.check(e!==undefined,"ElementContainer: Element has been created without name");if(!r){a=new t.constructors.Hashtable(t.instances.messageHandler);i=0}else{a=r.elements;i=r.elementCounter}this.generateId=function(){return e+"-"+ ++i};this.createElement=function(e,n){var t;t=c.generateId();return u(e,t,n)};this.createElementWithProposedId=function(e,n,t){function r(e){var n=s.exec(e);if(n){var t=parseInt(n[1],10);if(t>i){i=t}}}var o;var d=a.getItem(n);if(d){return c.createElement(e,t)}o=u(e,n,t);r(n);return o};this.removeElement=function(e){return a.removeItem(e)};this.getElement=function(e){return a.getItem(e)};this.updateElement=function(e,n){t.instances.messageHandler.check(e!==undefined,"ElementContainer: Element has been updated with undefined elementId");if(!n.getId||n.getId()!==e){n.getId=function(){return e}}a.setItem(e,n);return e};this.setElement=function(e,n){var r;if(n){if(!a.getItem(n)){t.instances.messageHandler.putMessage(t.instances.messageHandler.createMessageObject({code:"11006",aParameters:[n]}));return undefined}c.updateElement(n,e);return n}r=c.createElement(e);return r.getId()};this.getElements=function(){var e=[];a.forEachOrdered(function(n,t){e.push(t)});return e};this.moveUpOrDown=function(e,n){return a.moveUpOrDown(e,n)};this.moveBefore=function(e,n){return a.moveBefore(e,n)};this.moveToEnd=function(e){return a.moveToEnd(e)};this.copyElement=function(e){var n,t,r;n=a.getItem(e);if(!n){return}r=c.generateId();if(n.copy&&typeof n.copy==="function"){t=n.copy(r)}else{t=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(n)}t.getId=function(){return r};a.setItem(r,t);return r};this.copy=function(r){var s={elements:new t.constructors.Hashtable(t.instances.messageHandler),elementCounter:i};var c;var u;a.getKeysOrdered().forEach(function(n){c=a.getItem(n);u=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(c);if(r&&n.indexOf(e)===0){n=n.replace(o,r)}t.instances.messageHandler.check(n!==undefined,"ElementContainer: Element has been created without name in copy - 1");if(typeof u==="object"&&u.getId&&typeof u.getId==="function"){u.getId=function(){return n}}s.elements.setItem(n,u)});t.instances.messageHandler.check(e!==undefined||r!==undefined,"ElementContainer: Element has been created without name in copy 2");return new sap.apf.modeler.core.ElementContainer(r||e,n,t,s)};function u(e,r,i){var s;t.instances.messageHandler.check(r!==undefined,"ElementContainer: Element has been created with undefined id");if(typeof i==="function"){s=new i(r,t)}else if(typeof n==="function"){if(n!==sap.apf.modeler.core.ElementContainer){s=new n(r,t)}else{s=new n(r,undefined,t)}}else{s={}}s.getId=function(){return r};if(e){s=jQuery.extend(s,e)}a.setItem(r,s);return s}};sap.apf.modeler.core.ElementContainer=e;return e},true);
//# sourceMappingURL=elementContainer.js.map