/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/base/util/ObjectPath","sap/gantt/misc/Utility","./BasePath","sap/ui/core/Core"],function(t,e,n,a){"use strict";var r={apiVersion:2};var i=10;var s=function(){var t=32;var n=e.findSapUiSizeClass();return e.scaleBySapUiSize(n,t)};r.render=function(e,n){e.openStart("div",n);e.openEnd();var a=n.getColumnConfigs();var r=n.getRowConfigs();var i=[];for(var s=0;s<r.length;s++){var o=r[s];var l={};l.text=o.getText();var v=o.getShapeClass();var h=o.getShapeName();var p=o.getStroke();var d=o.getStrokeWidth();var g=t.get(v);var c=[];for(var f=0;f<a.length;f++){var u=a[f].getFill();if(u==null){var x=a[f].getFillFactory();if(typeof x==="function"){u=x(h)}}var y=new g({stroke:p,strokeWidth:d,fill:u});c.push(y)}l.shapeInstances=c;i.push(l)}this.renderYDimension(e,i);var S=[];for(var m=0;m<a.length;m++){var D={};D.text=a[m].getText();S.push(D)}this.renderXDimension(e,S);e.close("div")};r.renderYDimension=function(t,e){for(var n=0;n<e.length;n++){this.renderYItems(t,e[n],n)}};r.renderYItems=function(t,e,n){var a=s(),r=a+"px";var i=a/2,o=i;t.openStart("div");t.attr("title",e.text);t.class("sapGanttDLItem");t.style("height",r);t.style("line-height",r);t.style(this._getMarginStyle(),o/2+"px");t.openEnd();this.renderYSvgPart(t,e.shapeInstances,o,i);this.renderYLegendText(t,e.text);t.close("div")};r._getMarginStyle=function(){var t=a.getConfiguration().getRTL();return"margin-"+(t?"right":"left")};r.normalizeShape=function(t,e,n,a){var r=n/2;var s={x:a*(e+i)+i/2,y:0,x1:0,y1:r,x2:e,y2:r,width:e,height:n,yBias:r,rowYCenter:r};if(t.isA("sap.gantt.simple.BaseCursor")||t.isA("sap.gantt.simple.BaseDiamond")){s.x+=e/2}if(t.isA("sap.gantt.simple.shapes.Shape")){t.setWidth(e);t.setHeight(n);t.setStartX(0);t.setRowYCenter(n)}else{Object.keys(s).forEach(function(e){var n=e.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)},"set");if(t[n]){t[n](s[e])}})}};r.renderYSvgPart=function(t,e,n,a){t.openStart("svg");t.attr("tabindex",-1);t.attr("focusable",false);t.class("sapGanttDLSvg");t.style("width",(n+i)*e.length+"px");t.openEnd();for(var r=0;r<e.length;r++){this.normalizeShape(e[r],n,a,r);e[r].renderElement(t,e[r])}t.close("svg")};r.renderYLegendText=function(t,e){t.openStart("div");t.class("sapGanttDLItemTxt");t.openEnd();if(e){t.text(e)}t.close("div")};r.renderXDimension=function(t,e){var n=e.length;var a=s(),r=a+"px";var i=a/2,o=i;t.openStart("div");t.class("sapGanttDLItem");t.style("height",r*n);t.style("line-height",r);t.style(this._getMarginStyle(),o/2+"px");t.openEnd();this.renderXDimensionPath(t,e);this.renderXDimensionText(t,e);t.close("div")};r.renderXDimensionPath=function(t,e){var r=e.length;var o=s();var l=o/2,v=l;t.openStart("div");t.style("height",o*r+"px");var h=(o/2+i)*r;t.style("width",h+"px");t.style("display","block");t.openEnd();t.openStart("svg");t.attr("tabindex",-1);t.attr("focusable",false);t.attr("width",h+"px");t.class("sapGanttDLSvg");t.openEnd();var p=a.getConfiguration().getRTL();for(var d=0;d<r;d++){var g=d*(v+i)+i/2+v/2;var c="M"+g+" 0";if(p){c+=" v"+(d+.5)*o;c+=" h"+-g}else{c+=" v"+(r-d-.5)*o;c+=" h"+((o/2+i)*r-g)}var f=new n({d:c,fill:"transparent",strokeWidth:2.5}).addStyleClass("sapGanttDimensionLegendPath");f.renderElement(t,f)}t.close("svg");t.close("div")};r.renderXDimensionText=function(t,e){var n=e.length;var a=s();t.openStart("div");t.class("sapGanttDLItemTxt");t.style("height",a*n+"px");t.style("width","100%");t.openEnd();for(var r=n-1;r>=0;r--){t.openStart("div");var i=e[r].text;if(i){t.attr("title",i)}t.class("sapGanttDLItemTxt");t.style("font-style","italic");t.style("height",a+"px");t.openEnd();if(i){t.text(e[r].text)}t.close("div")}t.close("div")};return r},true);
//# sourceMappingURL=DimensionLegendRenderer.js.map