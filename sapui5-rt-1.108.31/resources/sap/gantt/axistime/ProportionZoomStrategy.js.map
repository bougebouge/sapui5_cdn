{"version":3,"file":"ProportionZoomStrategy.js","names":["sap","ui","define","Log","library","ObjectPath","AxisTimeStrategyBase","Utility","Format","TimeHorizon","gantt","axistime","ProportionTimeLineOptions","config","DEFAULT_TIME_ZOOM_STRATEGY","ProportionZoomStrategy","extend","metadata","prototype","init","this","_aZoomRate","Array","setProperty","applySettings","mSettings","call","initialSettings","setVisibleHorizon","oVisibleHorizon","setVisibleHorizonWithReason","sReasonCode","oOriginEvent","subReasonCode","getStartTime","getEndTime","_bHorizontalScroll","oLastVisibleHorizon","getVisibleHorizon","clone","_setVisibleHorizon","apply","arguments","fireRedrawRequest","setTotalHorizon","oTotalHorizon","_setTotalHorizon","getAxisTime","calZoomBase","createAxisTime","getLocale","updateStopInfo","oStopInfo","setZoomLevel","index","iZoomLevel","visibleHorizonUpdateSubType","simple","VisibleHorizonUpdateSubType","getZoomLevel","ZoomIn","ZoomOut","oNewVisibleHorizon","calVisibleHorizonByRate","setZoomLevels","iZoomLevels","_updateZoomRateOnStops","syncContext","nClientWidth","bAxisTimeNeedChange","bZoomBoundaryConditionChange","oRetVal","zoomLevel","undefined","axisTimeChanged","iLastGanttVisibleWidth","getParent","_iLastVisibleWidth","iOriginalVisibleWidth","getGanttVisibleWidth","_updateVisibleHorizon","oDeterminedByStrategy","_determineZoomBoundaryByStrategy","oDeterminedByChartWidth","_determineZoomRateByChartWidth","updateGanttVisibleWidth","fLastMinRate","_oZoom","minRate","Math","max","fLastMaxRate","maxRate","fLastRate","rate","floatEqual","_adjustRateByBoundary","suitableRate","iLastZoomLevel","_calcZoomLevelFromZoomRate","bZoomLevelChanged","_isDisplayTypeChanged","setZoomRate","_updateTimeLineOption","oOriginalVisibleHorizon","oCurrentVisibleHorizon","calculateHorizonByWidth","updateInitialVisibleHorizon","visibleHorizon","initialZoomLevel","min","fMaxRate","fMinRate","iSteps","getZoomLevels","_oLog","fMax","log","fMin","fStep","i","pow","E","fRate","round","base","oCoarsestTimeLineOption","getCoarsestTimeLineOption","oFinestTimeLineOption","getFinestTimeLineOption","scale","calZoomScale","innerInterval","unit","span","range","getTotalHorizon","judgeTimeHorizonValidity","setStartTime","setEndTime","warning","fMinScale","calZoomScaleByDate","abapTimestampToDate","iVisibleHorizonStartTime","iVisibleHorizonEndTime","fSuitableScale","startTime","getTimeStampFormatter","parse","iCurrentTickKey","oTimeLineOptions","getTimeLineOptions","oTimeLineOption","getProperty","oAxisTime","start","timeToView","interval","end","get","offset","r","abs","ceil","onSetTimeZoomRate","fTimeZoomRate","getCurrentVisibleHorizon","_completeTimeHorizon","getRenderedVisibleHorizon","oGantt","oRenderedTimeRange","getRenderedTimeRange","oRenderedVisibleHorizon","endTime"],"sources":["ProportionZoomStrategy-dbg.js"],"mappings":"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"}