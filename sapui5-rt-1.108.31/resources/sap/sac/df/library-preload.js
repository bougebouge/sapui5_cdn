//@ui5-bundle sap/sac/df/library-preload.js
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/DFKernel", ["sap/ui/model/Model","sap/base/Log","sap/sac/df/firefly/library"],function(e,t){"use strict";var s=e.extend("sap.sac.df.DFKernel",{constructor:function(t,s){e.apply(this);var i=t||{};this.init(i,s)},init:function(e){var t=this;if(!t.initPromise){t.initPromise=new Promise(function(s){if(!t.kernelProgram){sap.firefly.XLogger.getInstance().setLogFilterLevel(sap.firefly.Severity.PRINT);t.initProgram=sap.firefly.KernelBoot.createByName("DragonflyAppProgram");t.initProgram.addProgramStartedListener(function(i,r){if(!t.kernelProgram){t.kernelProgram=r;if(t.aSystemLandscapes){t.addSystemLandscapes()}t.kernelProgram.getProcess().getApplication().setClientInfo(null,e.clientIdentifier,null);s(t.kernelProgram)}});t._setEnvironment(e);t.initProgram.runFull()}else{s(t.kernelProgram)}})}return t.initPromise},_setEnvironment:function(e){this.initProgram.setEnvironmentVariable(sap.firefly.XEnvironmentConstants.FIREFLY_LOG_SEVERITY,"Print");if(e.systemLandscape){if(e.systemLandscape.URI){var t=e.systemLandscape.URI;if(!t.startsWith("http")){t=window.location.protocol+"//";t+=window.location.hostname;t+=window.location.port?":"+window.location.port:"";t+=e.systemLandscape.URI}this.initProgram.setEnvironmentVariable("ff_system_landscape_uri",t)}else if(e.systemLandscape.Systems){this.aSystemLandscapes=[];var s=Object.keys(e.systemLandscape.Systems);s.forEach(function(t){var s=e.systemLandscape.Systems[t];this.aSystemLandscapes.push(s)}.bind(this))}}else if(e.systemType){this.masterSystemName=e.masterSystem||"local"+e.systemType;this.aSystemLandscapes=[{systemName:this.masterSystemName,systemType:e.systemType,protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",host:window.location.hostname,port:window.location.port,authentication:"NONE"}]}else{throw new Error("System Configuration is invalid")}this.masterSystemName=this.masterSystemName||e.masterSystem;if(!this.masterSystemName){throw new Error("System Configuration is invalid")}},getSession:function(){if(!this.kernelProgram){t.error("Kernel not initialized");return null}return this.kernelProgram.getSession()},getApplication:function(){if(!this.kernelProgram){t.error("Kernel not initialized");return null}return this.kernelProgram.getApplication()},addSystemLandscapes:function(){var e=this.kernelProgram.getProcess().getKernel().getSubSystemContainer(sap.firefly.SubSystemType.SYSTEM_LANDSCAPE);var t=e.getMainApi();var s=this.kernelProgram.getApplication();s.setSystemLandscape(t);this.aSystemLandscapes.forEach(function(e){var i=t.createSystem();i.setName(e.systemName);i.setTimeout(1e4);i.setAuthenticationType(sap.firefly.AuthenticationType[e.authentication||"NONE"]);var r=sap.firefly.SystemType[e.systemType];i.setSystemType(r);i.setProtocolType(sap.firefly.ProtocolType[e.protocol]);i.setHost(e.host);i.setPort(e.port);i.setPath(e.path);t.setSystemByDescription(i);if(r.isTypeOf(sap.firefly.SystemType.BW)){i.setSessionCarrierType(sap.firefly.SessionCarrierType.SAP_CONTEXT_ID_HEADER);s.getConnectionPool().setMaximumSharedConnections(e.systemName,10)}});t.setMasterSystemName(this.masterSystemName)}});return s});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/DFProgram", ["sap/ui/core/Control","sap/base/Log","jquery.sap.global","sap/sac/df/DFKernel","sap/sac/df/firefly/library"],function(t,e,jQuery,r){"use strict";var n=t.extend("sap.sac.df.DFProgram",{metadata:{properties:{program:{type:"string"},arguments:{type:"string[]",defaultValue:[]},environment:{type:"string[]",defaultValue:[]},systemLandscape:{type:"string",defaultValue:""},systemLandscapeDef:{type:"object",defaultValue:null},configuration:{type:"string",defaultValue:""},configurationURI:{type:"string",defaultValue:null},kernelId:{type:"string",defaultValue:"dfk"},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"}},aggregations:{}},init:function(){var t=this.getId()+"--program";this.programContainer=jQuery('<div id="'+t+'" style="width=100%; height=100%"/>')},renderer:{apiVersion:2,render:function(t,e){t.openStart("div",e);t.style("flex","auto");t.style("width",e.getWidth());t.style("height",e.getHeight());t.openEnd();t.close("div")}},onAfterRendering:function(){if(t.prototype.onAfterRendering){t.prototype.onAfterRendering.apply(this,arguments)}var e=jQuery(window.document.getElementById(this.getId()));this.programContainer.appendTo(e);e.css("position","relative");if(this.getProgram()&&!this.program){this.runProgram(this.getProgram())}},runProgram:function(t){if(t===this.programName){return}if(this.program){this._cleanUpProgram()}try{var r=this;this._getKernel().then(function(e){r.program=sap.firefly.ProgramRunner.createRunner(e.getSession(),t);r.setClientArgs();r.setClientEnvironment(r.program);r.program.setNativeAnchorId(r.getId()+"--program");r.processConfigURI(function(){window.sactable=window.SACGridRendering;r.program.runProgram()})})}catch(t){e.error(t)}},exit:function(){if(this.program){this._cleanUpProgram()}},_cleanUpProgram:function(){sap.firefly.XObjectExt.release(this.program);this.program.releaseObject();this.program=null},_getKernel:function(){return Promise.resolve().then(function(){if(this.localKernel){return this.localKernel}var t=this.getKernelId();if(t){var e=this.getParent().getModel(t);if(e){return e}}var n={systemLandscape:{type:"BW"}};var i=this.getSystemLandscapeDef();if(i){n.systemLandscape.Systems=i;n.masterSystem=i.masterSystemName}this.localKernel=new r(n);return this.localKernel}.bind(this))},setClientArgs:function(){var t=this.getArguments();t.forEach(function(t){var e=t.split("=");var r=e[0].trim();var n=e[1].trim();if(n==="true"||n==="false"){var i=n==="true"?true:false;this.program.setBooleanArgument(r,i)}else if(n.startsWith("$")){n=this.getUrlParams(r);if(r==="datasource"){n="query:[][]["+n+"]"}this.program.setArgument(r,n)}else{this.program.setArgument(r,n)}}.bind(this));if(this.getConfiguration()!==""){this.program.setArgument("configuration",this.getConfiguration())}},processConfigURI:function(t){if(this.getConfigurationURI()){var e=this.getConfigurationURI();if(!e.startsWith("http")){e=window.location.protocol+"//";e+=window.location.hostname;e+=window.location.port?":"+window.location.port:"";e+=this.getConfigurationURI()}this.readJsonFile(e,function(e){this.program.setArgument("configuration",e);t()}.bind(this))}else{t()}},readJsonFile:function(t,e){var r=new XMLHttpRequest;r.overrideMimeType("application/json");r.open("GET",t,true);r.onreadystatechange=function(){if(r.readyState===4&&r.status===200){e(r.responseText)}};r.send(null)},getUrlParams:function(t){return(window.location.href.split(t+"=")[1]||"").split("&")[0]},setClientEnvironment:function(t){var e=this.getEnvironment();e.forEach(function(e){var r=e.split("=");t.setEnvironmentVariable(r[0],r[1])}.bind(this))}});return n});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/FlexAnalysis",["sap/sac/df/types/SystemType","sap/ui/core/Control","sap/base/Log","sap/ui/model/json/JSONModel","jquery.sap.global","sap/sac/df/olap/MultiDimModel","sap/sac/df/firefly/library","sap/sac/df/fa/FlexAnalysisContextMenuProvider"],function(e,t,i,r,jQuery,a,n,s){"use strict";var o="GalaxyDataStudio";var u=t.extend("sap.sac.df.FlexAnalysis",{metadata:{properties:{autoUpdate:{type:"boolean",defaultValue:true},configurationURI:{type:"string"},configObject:{type:"object"},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},hideDesignPanel:{type:"boolean",defaultValue:true},hideMenuBar:{type:"boolean",defaultValue:true},hideStatusBar:{type:"boolean",defaultValue:true},hideToolBar:{type:"boolean",defaultValue:true},hideFilterLine:{type:"boolean",defaultValue:false},hideSideNavigation:{type:"boolean",defaultValue:false},environment:{type:"string[]",defaultValue:[]},systemName:{type:"string"},dataSource:{type:"string",defaultValue:"$datasource"},systemType:{type:"sap.sac.df.types.SystemType",defaultValue:e.BW},keepAliveInterval:{type:"int",defaultValue:0},clientIdentifier:{type:"string"},dataProvider:{type:"any",bindable:true},multiDimModelId:{type:"string",defaultValue:"om"},implicitVariableHandling:{type:"boolean",defaultValue:true,bindable:false}},events:{},aggregations:{customPanels:{type:"sap.sac.df.FlexAnalysisPanel",multiple:true}},defaultAggregation:"customPanels"},init:function(){var e=this.getId()+"--program";this.programContainer=jQuery('<div id="'+e+'"/>');this.contextMenuProvider=new s(this)},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.style("flex","auto");e.style("width",t.getWidth());e.style("height",t.getHeight());e.openEnd();e.close("div")}},onAfterRendering:function(){if(t.prototype.onAfterRendering){t.prototype.onAfterRendering.apply(this,arguments)}var e=this.$();this.programContainer.appendTo(e);if(!this.isProgramRunning){this.runProgram()}e.css("position","relative")},updateProgramSettings:function(){var e=this.program.getProcess().getApplication();e.setClientInfo(null,this.getClientIdentifier(),null);this.program.getActiveDocument().setAutoUpdatesEnabled(this.getAutoUpdate());this.program.getActiveDocument().setFilterLineVisible(!this.getHideFilterLine());this.program.getActiveDocument().setDesignerPanelVisible(!this.getHideDesignPanel());this.program.setShowToolbar(!this.getHideToolBar());this.program.registerDynamicMenuActionsProvider("UI5ContextMenuProvider",this.contextMenuProvider);this.program.getActiveDocument().setSideNavigationVisible(!this.getHideSideNavigation())},registerCustomPanels:function(){var e=this.getCustomPanels();e.forEach(function(e){this.program.registerCustomPanel(e)}.bind(this))},onUiStateChange:function(e){var t=n.PrSerializerFactory.newSerializer(false,false,0);var i=t.serialize(e);var r=JSON.parse(i);if(r){var a=r[n.AuGdsQbConstants.QD_UI_STATE_OPEN_PANELS];if(a){this.setProperty("hideDesignPanel",a.indexOf(n.AuGdsPanelType.DESIGNER.getName())===-1)}}},registerUiStateChange:function(){var e=this.program.getActiveDocument();if(e&&e.addUiStateChangeCallback){e.addUiStateChangeCallback(this.onUiStateChange.bind(this))}},runProgram:function(){this.isProgramRunning=true;return this._initSacTable().then(this._initModel.bind(this)).then(this._initQuery.bind(this)).then(function(){var e=this.getMultiDimModelId();var t=this.getParent().getModel(e);this.programInstance=n.ProgramRunner.createRunner(t.getSession(),o);this._setClientArgs();this._setClientEnvironment(this.programInstance);this.programInstance.setNativeAnchorId(this.getId()+"--program");var r=this.dataProvider.getQueryManager();if(r){this.programInstance.setObjectArgument("queryManager",r)}else{i.error("The dataProvider '"+this.dataProvider+"' in the model '"+this.getModelId()+"' doesn't have a query manager")}return this._processConfigURI().then(function(){this.programInstance.runProgram().then(function(e){this.program=e;this.updateProgramSettings();this.registerCustomPanels();this.registerUiStateChange()}.bind(this)).onCatch(function(e){throw new Error(e)})}.bind(this))}.bind(this))},exit:function(){if(this.programInstance){this._cleanUpProgram()}},getProgram:function(){return this.program},setPanelVisible:function(e,t){if(this.program){var i=this.program.getActiveDocument();if(i&&i.setPanelVisible){var r=n.AuGdsPanelType.lookup(e);if(r){i.setPanelVisible(r,t)}else{throw new Error("Cannot resolve panel type to adjust visibility!")}}}},setDataProvider:function(e){var t=this;t.setProperty("dataProvider",e);if(t.program){t._initQuery().then(function(){t.program.getActiveDocument().setExternalQueryManager(t.dataProvider.getQueryManager())})}},addContextMenuAction:function(e,t){this.contextMenuProvider.registerAction(e,t)},setDataSource:function(e){var t=this;if(e&&e.startsWith("$")){e=this.getUrlParams("datasource")}t.setProperty("dataSource",e);t.setProperty("dataProvider",undefined);if(t.program){t._initQuery().then(function(){t.program.getActiveDocument().setExternalQueryManager(t.dataProvider.getQueryManager())})}},setHideFilterLine:function(e){this.setProperty("hideFilterLine",e);if(this.program){this.program.getActiveDocument().setFilterLineVisible(!e)}},setAutoUpdate:function(e){this.setProperty("autoUpdate",e);if(this.program){this.program.getActiveDocument().setAutoUpdatesEnabled(e)}},setHideToolBar:function(e){this.setProperty("hideToolBar",e);if(this.program){this.program.setShowToolbar(!e)}},setHideSideNavigation:function(e){this.setProperty("hideSideNavigation",e);if(this.program){this.program.getActiveDocument().setSideNavigationVisible(!e)}},setHideDesignPanel:function(e){this.setProperty("hideDesignPanel",e);if(this.program){this.program.getActiveDocument().setDesignerPanelVisible(!e)}},_cleanUpProgram:function(){n.XObjectExt.release(this.programInstance);this.programInstance.releaseObject();this.programInstance=null;this.isProgramRunning=false},_initSacTable:function(){return Promise.resolve().then(function(){window.sactable=window.SACGridRendering})},_initModel:function(){var e=this;return Promise.resolve().then(function(){var t=e.getMultiDimModelId();var i=e.getParent().getModel(t);if(!i){var r={masterSystem:e._getSystemName(),systemType:e.getSystemType(),keepAliveInterval:e.getKeepAliveInterval()||-1};i=new a(r);e.getParent().setModel(i,t)}i.attachEvent("queryAdded",null,function(e){var t=e.getParameter("dataProviderName");if(this.dataProvider&&this.dataProvider.Name===t){this.dataProvider=i.getDataProvider(t);this.program.getActiveDocument().getQueryController().initWithExistingQueryManager(this.dataProvider.getQueryManager())}},e);return i.loaded()})},_parseDataSource:function(){var t=n.QFactory.createDataSource();var i=this.getDataSource();if(i.indexOf(":[")>0){t.setFullQualifiedName(i)}else{t.setObjectName(i);t.setType(this.getSystemType()===e.BW?n.MetaObjectType.QUERY:n.MetaObjectType.DBVIEW)}return t},_initQuery:function(){var e=this.getParent().getModel(this.getMultiDimModelId());return Promise.resolve().then(function(){if(this.getDataProvider()){var t=this.getDataProvider();this.dataProvider=e.getProperty("/DataProvider/"+t);if(!this.dataProvider){throw new Error("Data Provider "+t+" doesn't exist in the model "+e.getId())}}else if(this.getDataSource()){var i=this._parseDataSource();var r=i.getObjectName();this.dataProvider=e.getDataProvider(r);if(this.dataProvider){return}return e.addQuery(r,r,this._getSystemName(),i.getPackageName(),i.getSchemaName(),i.getType()).then(function(e){this.dataProvider=e;this.setProperty("dataProvider",r)}.bind(this))}else{throw new Error("A dataProvider or dataSource must be specified")}}.bind(this))},_setClientArgs:function(){this.programInstance.setArgument(n.AuGdsConstants.GDF_FILE_DOC_TYPE,this.getDocType());this.programInstance.setArgument(n.AuGdsConstants.PARAM_SYSTEM,this._getSystemName());this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_MULTI_DOCUMENTS,false);this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_HIDE_STATUS_BAR,this.getHideStatusBar());this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_HIDE_MENU_BAR,this.getHideMenuBar());this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_HIDE_TOOLBAR,this.getHideToolBar());this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_QUERY_BUILDER_MULTI_VIEWS,false);this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_QUERY_BUILDER_AUTO_OPEN_DATA_SOURCE_PICKER,false);this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_IMPLICIT_VARIABLE_HANDLING,this.getImplicitVariableHandling());this.programInstance.setArgument(n.AuGdsConstants.PARAM_INTEGRATION,"ui5");this.programInstance.setArgument(n.AuGdsConstants.PARAM_MODE,"ga")},isEqualTo:function(){return false},onQueryExecuted:function(){if(this.getParent().getModel(this.getModelId())){this.getParent().getModel(this.getModelId()).fireRequestCompleted({infoObject:this.getDataProvider()})}this.fireQueryExecuted()},getDocType:function(){return"QueryBuilder"},_getSystemName:function(){var e=this.getSystemName();if(e&&e.startsWith("$")){e=this.getUrlParams("system")}return e?e:"local"+this.getSystemType()},_updateSupportedPanelsConfiguration:function(e){var t=this.getCustomPanels();if(t.length){var i=t.map(function(e){return e.getPanelId()}),r="/QueryBuilder/SideNavigation/SupportedPanels",a=e.getProperty(r);if(a){a=a.concat(i)}else{a=i}e.setProperty(r,a)}},_processConfigURI:function(){var e=this.programInstance;return new Promise(function(e){var t=this.getConfigObject();if(t){e(JSON.stringify(t))}else{var i=this.getConfigurationURI();if(!i){i=sap.ui.require.toUrl("sap/sac/df/fa/sap-ui5-config.json")}var a=new r(i);a.attachRequestCompleted(function(t){var i=t.getSource();this._updateSupportedPanelsConfiguration(i);e(JSON.stringify(i.getData()))}.bind(this))}}.bind(this)).then(function(t){if(t){e.setArgument(n.AuGdsConstants.PARAM_CONFIGURATION,t)}})},getUrlParams:function(e){return(window.location.href.split(e+"=")[1]||"").split("&")[0]},_setClientEnvironment:function(e){var t=this.getEnvironment();t.forEach(function(t){var i=t.split("=");e.setEnvironmentVariable(i[0],i[1])}.bind(this))}});return u});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/FlexAnalysisPanel",["sap/ui/core/Element"],function(e){var n=e.extend("sap.sac.df.FlexAnalysisPanel",{metadata:{library:"sap.sac.df",properties:{description:"string",title:"string",icon:"sap.ui.core.URI"},aggregations:{content:{type:"sap.ui.core.Control",multiple:false}},defaultAggregation:"content"},getPanelId:function(){var e=this.getId();return e.indexOf("--")!==-1?e.split("--").pop():e},getDocumentType:function(){return sap.firefly.AuGdsDocumentType.QUERY_BUILDER},renderPanelContent:function(e){var n=e&&e.getNativeControl();if(n){var t=this.getContent();if(t){n.insertContent(t)}else{throw new Error("No content defined for custom panel.")}}else{throw new Error("Container control not found. Unable to add custom panel.")}}});return n});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/InACard/Component", ["sap/base/Log","sap/ui/model/json/JSONModel","sap/ovp/cards/custom/Component","sap/viz/ui5/controls/common/feeds/FeedItem","sap/sac/df/thirdparty/lodash"],function(e,t,o,a,r){"use strict";var n=o.extend("sap.sac.df.InACard.Component",{metadata:{manifest:"json",properties:{contentFragment:{type:"string",defaultValue:"sap.sac.df.InACard.fragment.InACard"},controllerName:{type:"string",defaultValue:"sap.sac.df.InACard.controller.InACard"},footerFragment:{type:"string",defaultValue:""},widgetType:{widgetType:"sap.sac.df.types.WidgetType",defaultValue:"pivot"},dataProviderName:"string"}},init:function(){var t=this;o.prototype.init.apply(t,arguments);t.setModel(t.getComponentData().model,"om");t.setModel(t.getComponentData().model,"$FlexVariants");var n=sap.ui.getCore().byId("mainView");if(n&&!n.getModel("$FlexVariants")){n.setModel(t.getModel("om"),"$FlexVariants")}var d=sap.ui.getCore().byId("viewPortContainer")&&sap.ui.getCore().byId("viewPortContainer").getPages();d=d&&d[0].getComponentHandle&&d[0].getComponentHandle()&&d[0].getComponentHandle().getInstance();if(d&&!d.getModel("$FlexVariants")){d.setModel(t.getModel("om"),"$FlexVariants")}var i;t.getRootControl().setBusy(true);t.rootControlLoaded().then(function(){return t.getRootControl().loaded()}).then(function(){t.setDataProviderName(t.getRootControl().getModel("ovpCardProperties").getProperty("/dataProviderName"));return t.getModel("om").dataLoaded()}).then(function(){i=t.getModel("om").getDataProvider(t.getRootControl().getModel("ovpCardProperties").getProperty("/dataProviderName"));t.getRootControl().getModel("ovpCardProperties").setProperty("/title",i.QueryTitle||i.QueryName);var e=t.getRootControl().getModel("ovpCardProperties").getProperty("/dataProviderName");var o=t.getRootControl().byId("idVizFrame");var n=r.clone(o.getBindingInfo("vizProperties"));n.parts[0].path=["/dataProvider/",e,"/Chart/vizProperties"].join("");var d=t.getRootControl().byId("flatDS");var s=r.clone(d.getBindingInfo("dimensions"));s.path=["/dataProvider/",e,"/FlatDimensions"].join("");d.bindAggregation("dimensions",s);var l=r.clone(d.getBindingInfo("measures"));l.path=["/dataProvider/",e,"/Measures"].join("");d.bindAggregation("measures",l);var g=r.clone(d.getBindingInfo("data"));g.path=["/dataProvider/",e,"/FlatResultSet"].join("");d.bindAggregation("data",g);t.getModel("om").attachRequestCompleted(function(){o.bindProperty("vizProperties",n);o.destroyFeeds();var d=t.getModel("om").getProperty(["/dataProvider/",e,"/Chart/Feeds"].join(""));r.forEach(d,function(e){o.addFeed(new a({type:e.type,uid:e.uid,values:e.values}))});var i=t.getRootControl();r.forEach(i.byId("flatDS").getDimensions(),function(e){e.bindProperty("value","om>"+e.getIdentity())});r.forEach(i.byId("flatDS").getMeasures(),function(e){e.bindProperty("value","om>"+e.getIdentity())});i.byId("idVizFrame").setVizProperties(r.clone(i.byId("idVizFrame").getVizProperties()))});return t.getModel("om").synchronize()}).catch(function(t){e.error(t)}).then(function(){t.getRootControl().setBusy(false)})}});return n});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/InACard/controller/InACard.controller", ["jquery.sap.global","sap/base/Log","sap/ui/core/mvc/Controller"],function(jQuery,e,t){"use strict";t.extend("sap.sac.df.InACard.controller.InACard",{resizeCard:function(e){var t=this.getView();var n=jQuery(t.byId("ovpCardContentContainer").getDomRef());n.css("visibility","visible");if(e.showOnlyHeader){n.addClass("sapOvpContentHidden")}else{n.removeClass("sapOvpContentHidden")}n.height(e.rowSpan*e.iRowHeightPx-2*e.iCardBorderPx)},onPress:function(t){var n=this;n.getView().setBusy(t.getParameter("navigationCmdType")!=="CellClick");var i=n.getView().getModel("om");i.clearMessages();return Promise.resolve(null).then(t.getParameter("cmd")).then(function(){if(sap.ushell&&sap.ushell.Container){sap.ushell.Container.setDirtyFlag(false)}}).catch(function(t){e.error(t)}).then(function(){n.getView().setBusy(false)})},onAfterRendering:function(){this.adjustHeight()},adjustHeight:function(){var e=this.getView().getDomRef();if(e){jQuery(e).height(jQuery(this.getOwnerComponent().getRootControl().byId("vb1").getDomRef()).height());jQuery(this.getOwnerComponent().getRootControl().byId("vb1").getDomRef()).children().css("height","100%")}},getItemHeight:function(){try{return jQuery(this.getView().byId(this.getView().getId()+"--ovpCardControl").getInnerCard().getItems()[1].getDomRef()).height()}catch(t){e.error(t);return 0}}})});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/PivotTable",["sap/base/Log","sap/ui/core/Control","sap/ui/model/json/JSONModel","sap/sac/df/utils/ErrorHandler","sap/sac/df/utils/ResourceModel","sap/sac/grid/Format","sap/sac/df/thirdparty/lodash"],function(e,t,a,i,o,n,r){"use strict";var s=t.extend("sap.sac.df.PivotTable",{metadata:{properties:{dataProviderName:{type:"string",defaultValue:"0"},format:{type:"sap.sac.grid.Format",multiple:false,defaultValue:n.ExcelStyle}},events:{navigationCmd:{parameters:{anchor:"sap.ui.core.Control",navigationCmdType:"sap.sac.df.types.NavigationCommandType",selection:"object",cmd:"function"}}},publicMethods:["autoFit","getRowCount","getColCount","getFixedRows","getFixedColumns"]},init:function(){var t=this;t.getInit=r.constant(Promise.resolve().then(function(){return sap.ui.core.mvc.XMLView.create({id:[t.getId(),"-gridView"].join(""),viewName:"sap.sac.df.view.Pivot"})}).then(function(e){t.getView=r.constant(e);t.addDependent(t.getView());t.getView().setModel(o,"i18n").setModel(new a,"VariableContainer").setModel(new a,"cm").setModel(new a);e=t.getView();t.getEasyGrid=r.constant(e.byId("theEasyGrid"));e.getPivotTable=r.constant(t);e.getController().getPivot=r.constant(t);t.getFixedColumns=t.getEasyGrid().getFixedColumns.bind(t.getEasyGrid());t.getFixedRows=t.getEasyGrid().getFixedRows.bind(t.getEasyGrid());t.onBeforeRendering();return e}).catch(i.handleWithPopUp));var n=t.setFormat;t.setFormat=function(){var a=n.apply(t,arguments);t.getInit().then(function(){return t.getModel("om").metadataLoaded()}).then(function(){t.getEasyGrid().setFormat(t.getFormat())}).catch(function(t){e.error(t)});return a}},onBeforeRendering:function(){var e=this;if(!e.getVisible()||!e.getEasyGrid||!e.getEasyGrid()){return}if(!e.getModel("om")){return}var t=e.getModel("om").getProperty("dataProvider")?"dataProvider":"DataProvider";var a=e.getEasyGrid();if(a.getFormat()!=e.getFormat()){a.setFormat(e.getFormat())}var i=e.getDataProviderName();function o(e){var o=r.clone(a.getBindingInfo(e));o.parts[0].path=["/"+t+"/",i,"/Grid/",e].join("");a.bindProperty(e,o)}if(e._oldDPName!==i){var n=r.clone(e.getEasyGrid().getBindingInfo("cells"));n.path=["/"+t+"/",i,"/Grid/Cells"].join("");a.bindAggregation("cells",n);["virtualRows","virtualColumns","fixedRows","fixedColumns","input","format"].forEach(o);e._oldDPName=i}if(a.getModel("om").getDataProvider(e.getDataProviderName())&&a.getFormat()!=e.getFormat()){a.setFormat(e.getFormat())}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t).style("height","100%").class("sapUiZenCommonsSize").openEnd();if(t.getView&&t.getView()){e.renderControl(t.getView())}else{t.getInit().then(function(){t.invalidate()})}e.close("div")}},handleResize:r.constant(null),getRowCount:function(){return this.getEasyGrid().getRowCount()},autoFit:function(){var e=this;if(e.getEasyGrid){e.getEasyGrid().autoFit()}},getColCount:function(){return this.getEasyGrid().getRowCount()},exit:function(){var e=this;sap.ui.Device.resize.detachHandler(e.handleResize);if(e.getEasyGrid){var a=e.getEasyGrid().getBindingInfo("cells");if(a&&a.template){a.template.destroy()}}e.destroyDependents();e.removeAllDependents();t.prototype.exit(e,arguments)}});return s});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/controller/Pivot.controller",["sap/m/MessageBox","sap/sac/df/utils/ResourceBundle","sap/ui/core/mvc/Controller","sap/sac/df/utils/ErrorHandler","sap/sac/df/types/NavigationCommandType","sap/sac/df/types/DimensionType","sap/sac/df/types/CellValueType","sap/sac/grid/CellType","sap/sac/df/types/Axis"],function(e,t,a,i,o,r,n,s,l){"use strict";a.extend("sap.sac.df.controller.Pivot",{onAfterRendering:function(){var e=this;var t=e.getView();t.getModel("om").attachRequestSent(function(t){if(e.getPivot().getDataProviderName()===t.getParameter("infoObject")){e.getPivot().getEasyGrid().setBusyIndicatorDelay(0);e.getPivot().getEasyGrid().setBusy(true)}});t.getModel("om").attachRequestCompleted(function(){var t=e.getPivot().getEasyGrid();t.setBusy(false)});t.getModel("om").attachRequestFailed(function(){var t=e.getPivot().getEasyGrid();t.setBusy(false)})},requestRows:function(e){var t=this;var a=t.getView().getModel("om");var i=a.getDataProvider(t.getPivot().getDataProviderName());var r=e.getParameter("currentRow");if(i&&r!==i.virtualOffsetRow){t.getPivot().fireNavigationCmd({navigationCmdType:o.RowRequest,cmd:function(){t.getPivot().getEasyGrid().setBusy(false);return i.setOffsetRow(r).synchronize(true)}})}},onExit:function(){var e=this;e.getView().removeAllDependents()},requestColumns:function(e){var t=this;var a=t.getView().getModel("om");var i=a.getDataProvider(t.getPivot().getDataProviderName());var o=e.getParameter("currentColumn");t.getPivot().fireNavigationCmd({navigationCmdType:sap.sac.df.NavigationCmdType.ColumnRequest,cmd:function(){t.getPivot().getEasyGrid().setBusy(false);return i.setOffsetCol(o).synchronize(true)}})},onDrill:function(e){var t=e.getParameter("cell");var a=e.getParameter("keepOffset");var i=this.getView().getModel("om").getDataProvider(this.getPivot().getDataProviderName());function r(){return Promise.resolve(null).then(function(){return i.drill(t.data("cellDimension"),t.data("tupleIndex"),a)})}this.getPivot().fireNavigationCmd({navigationCmdType:o.HierarchyNavigation,cmd:r,cell:t})},onRightClick:function(t){var a=this;var i=t.getParameter("cell");var r=i.data("cellDimension");var n=a.getView();var g=n.getModel("om");var d=t.getParameter("link");var v=g.getDataProvider(a.getPivot().getDataProviderName()).Dimensions[r];var c=null;if(v){if(v.Axis===l.Rows){c=g.getDataProvider(a.getPivot().getDataProviderName()).getRowSelection(i.data("tupleIndex"))}else if(v.Axis===l.Columns){c=g.getDataProvider(a.getPivot().getDataProviderName()).getColumnSelection(i.data("tupleIndex"))}}else if(i.getCellType()===s.STANDARD||i.getCellType()===s.RESULT){c=g.getDataProvider(a.getPivot().getDataProviderName()).getSelection(i.data("dataRow"),i.data("dataColumn"))}function u(){e.information("Implement your own Context menu handling")}a.getPivot().fireNavigationCmd({cmd:u,anchor:d,cell:i,selection:c,navigationCmdType:o.CellClick})}});return sap.sac.df.controller.Pivot});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/fa/FlexAnalysisContextMenuProvider",["sap/ui/base/Object","sap/sac/df/firefly/library"],function(t,e){"use strict";var n="Gds.Qb.Table.ContextMenu";var i=t.extend("sap.sac.df.fa.FlexAnalysisContextMenuProvider",{constructor:function(t){this.flexAnalysis=t;this.actions={}},isActionVisible:function(t,e){return true},isActionEnabled:function(t,e){return true},onActionTriggered:function(t,e){var n=this.actions[t];if(n){n.triggerAction(t,this.convertContext(e))}},provideMenuConfig:function(t,i,r){var o=e.PrFactory.createStructure();var s=[];if(Object.keys(this.actions).length>0&&t.getUiContext()===n){var a=this.convertContext(t);var u=o.putNewList("MenuExtensions");var c=u.addNewStructure();c.putNewList("UiContext").addString(n);var l=c.putNewList("Extension");var d=this.actions;Object.keys(d).forEach(function(t){var e=d[t];var n=l.addNewStructure();n.putString("Operation","AppendInto");n.putString("Reference","$Root");var i=n.putNewList("Items");var r=i.addNewStructure();r.putString("Action",t);s.push(e.getActionDescription(t,a).then(function(t){this.putString("Text",t.Text);if(t.Icon){this.putString("Icon",t.Icon)}}.bind(r)));s.push(e.isActionVisible(t,a).then(function(t){this.putBoolean("Visible",t)}.bind(r)));s.push(e.isActionEnabled(t,a).then(function(t){this.putBoolean("Enabled",t)}.bind(r)))})}Promise.all(s).then(function(){i.onDynamicMenuConfigProvided(a,"flexAnalysisProvider",o,r)})},registerAction:function(t,e){this.actions[t]=e},unregisterAction:function(t){delete this.actions[t]},convertContext:function(t){var n=this.flexAnalysis.getParent().getModel(this.flexAnalysis.getMultiDimModelId());var i=n.getDataProvider(this.flexAnalysis.getDataProvider());var r={DataProvider:i.Name,Grid:{SelectedDataCells:[]}};var o=i.getQueryManager().getActiveResultSetContainer();var s=e.AuGdsGenericContextResolveUtil.resolveSingleColumnTuple(t);var a=e.AuGdsGenericContextResolveUtil.resolveSingleRowTuple(t);if(s&&a){var u=s.getAxisIndex()+o.getOffsetColumns();var c=a.getAxisIndex()+o.getOffsetRows();var l=e.AuGdsGenericContextResolveUtil.resolveSingleDocumentId(t);r.Grid.SelectedDataCells.push({rowIndex:c,columnIndex:u,documentId:l})}return r}});return i});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/inatile/InATile",["sap/base/Log","jquery.sap.global","sap/ushell/ui/tile/TileBase","sap/sac/df/olap/OlapModel","sap/ui/core/format/NumberFormat","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/sac/df/inatile/InATileRenderer","sap/sac/df/thirdparty/lodash","sap/sac/df/library"],function(e,jQuery,t,a,n,r,s,i,o){"use strict";var l=t.extend("sap.sac.df.inatile.InATile",{metadata:{properties:{host:{type:"string"},port:{type:"int",defaultValue:443},path:{type:"string"},systemType:{type:"sap.sac.df.types.SystemType"},systemName:{type:"string",defaultValue:"localAbapAnalyticEngine"},protocolType:{type:"sap.sac.df.types.ProtocolType"},client:{type:"string"},dataSourceName:{type:"string"},dataSourceType:{type:"sap.sac.df.types.DataSourceType"},packageName:{type:"string"},schemaName:{type:"string"},widgetType:{widgetType:"sap.sac.df.types.WidgetType",defaultValue:"pivot"}}},renderer:i,init:function(){function i(e){var t;var a=30;if(isNaN(e)){t=e}else{var r=n.getFloatInstance({maxFractionDigits:2});var s;var i=Math.abs(e);if(i>=1e9){s="B";e/=1e9}else if(i>=1e6){s="M";e/=1e6}else if(i>=1e3){s="K";e/=1e3}}t=r.format(e);var o=t;var l=o[a-1];a-=l==="."||l===","?1:0;o=o.substring(0,a);return[o,s].join(" ")}var l=this;var p=null;l.getMicrochartBar=function(){return p};t.prototype.init.apply(l,arguments);l.setBusy(true);l.getInit=o.constant(Promise.resolve(r.load({name:"sap.sac.df.inatile.MicroBarChart",controller:{press:function(){e.info("Micro Chart Pressed")}}})).then(function(e){l.addDependent(e);p=e;if(l.getWidgetType()!=="pivot"){p.setModel(new s,"mc")}l.setBusy(true);var t={systemLandsape:l.getSystemType()?[{systemName:l.getSystemName(),systemType:l.getSystemType(),protocolType:l.getProtocolType(),port:l.getPort(),client:l.getClient()}]:null,dataProvider:{0:{dataSourceName:l.getDataSourceName(),dataSourceType:l.getDataSourceType(),packageName:l.getPackageName(),schemaName:l.getSchemaName(),systemName:l.getSystemName()}}};l.setModel(new a(t),"om");l.setBusy(true);return l.getModel("om").dataLoaded()}).then(function(){var e=l.getModel("om").getDataProvider("0");l.setTitle(e.QueryTitle||e.QueryName);o.forEach(e.FlatDimensions,function(t){e.removeDrilldown(t.Name)});l.setBusy(true);return l.getModel("om").synchronize()}).then(function(){var e=l.getModel("om").getDataProvider("0");if(e.FlatResultSet.length>0){if(l.getWidgetType()==="pivot"){l.setSubtitle(o.map(e.FlatResultSet[0],function(t,a){var n=o.find(e.Measures,function(e){return e.Name===a});return[n&&n.Description||a,i(t)].join(": ")}).join("\n"))}if(e.FlatResultSet.length>1){if(l.getWidgetType()==="pivot"){l.setInfo(o.map(e.FlatResultSet[1],function(t,a){var n=o.find(e.Measures,function(e){return e.Name===a});return[n&&n.Description||a,i(t)].join(": ")}).join("\n"))}else{p.getModel("mc").setData({columns:o.map(e.FlatResultSet,function(t){return o.reduce(t,function(t,a,n){var r=o.find(e.Measures,function(e){return e.Name===n});return{label:r&&r.Description||n,value:a,displayValue:i(a)}},null)})});p.getModel("mc").refresh();l.getModel().refresh()}}}}).then(function(){p.invalidate();l.invalidate()}).catch(function(t){e.error(t)}).then(function(){l.setBusy(false)}))},onAfterRendering:function(){var e=this;var t=jQuery(e.getDomRef()).find(".sapZenDshInATile");t.children().width(t.width()-30)}});return l});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/inatile/InATileRenderer", ["sap/ushell/library","sap/base/Log","sap/ui/core/Renderer","sap/sac/df/types/WidgetType","sap/ushell/ui/tile/TileBaseRenderer"],function(e,n,s,i,a){"use strict";var t=s.extend(a);t.apiVersion=2;t.renderPart=function(e,n){if(n.getWidgetType()===i.pivot){e.openStart("div");e.class("sapZenDshInATile");e.openEnd();e.openStart("div");e.class("sapZenDshInATileData");e.openEnd();e.openStart("div").class("sapZenDshInATileIndication").openEnd();e.voidStart("br").voidEnd();e.openStart("div");e.class("sapZenDshInATileNumberFactor");e.openEnd();e.close("div");e.close("div");e.openStart("div");e.class("sapZenDshInATileNumber");e.openEnd();e.close("div");e.close("div");e.close("div")}else{e.openStart("div",n).class("sapZenDshInATile").openEnd();if(n.getMicrochartBar&&n.getMicrochartBar()){e.renderControl(n.getMicrochartBar())}else{n.getInit().then(function(){n.invalidate()})}e.close("div")}};return t},true);
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/library", ["sap/sac/df/types/NavigationCommandType","sap/sac/df/types/SystemType","sap/sac/grid/thirdparty/sac.internal.grid.vendor.1.3.2-853b6e9d44742cac02ebc475a5de75530af5bc2e","sap/sac/grid/thirdparty/sac.internal.grid.main.1.3.2-853b6e9d44742cac02ebc475a5de75530af5bc2e","sap/sac/df/thirdparty/interact","sap/ui/core/library","sap/ui/layout/library","sap/ui/layout/cssgrid/GridBasicLayout","sap/ui/table/library","sap/f/library","sap/m/library","sap/sac/df/utils/FpaIcons"],function(a,s){var e=sap.ui.getCore().initLibrary({name:"sap.sac.df",dependencies:["sap.ui.core","sap.ui.layout","sap.ui.table","sap.m","sap.sac.grid","sap.tnt"],components:[],types:["sap.sac.df.types.SystemType"],interfaces:[],controls:["sap.sac.df.PivotTable","sap.sac.df.inatile.InATile","sap.sac.df.DFProgram","sap.sac.df.FlexAnalysis"],models:["sap.sac.df.olap.MultiDimModel","sap.sac.df.DFKernel"],elements:["sap.sac.df.FlexAnalysisPanel"],version:"1.108.15"});e.types={};e.types.NavigationCmdType=a;e.NavigationCmdType=a;e.types.SystemType=s;return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/DataProvider",["sap/base/Log","sap/sac/grid/Format","sap/sac/df/types/Axis","sap/sac/grid/CellType","sap/sac/df/types/DimensionType","sap/sac/df/types/DisplayType","sap/sac/df/types/ComparisonOperator","sap/sac/df/utils/Utilities","sap/sac/df/utils/SyncActionHelper","sap/sac/df/utils/ListHelper","sap/sac/df/utils/TokenHelper","sap/sac/df/utils/ResultSetHelper","sap/sac/df/utils/ResourceBundle","sap/sac/df/thirdparty/lodash"],function(e,t,r,n,i,a,o,s,l,u,g,c,m,f){"use strict";var y=function(e,o,s,g,y){var p=this;var d=null;var D;var v=true;function M(e){switch(e){case sap.firefly.ComparisonOperator.EQUAL:return"EQ";case sap.firefly.ComparisonOperator.LESS_THAN:return"LT";case sap.firefly.ComparisonOperator.LESS_EQUAL:return"LE";case sap.firefly.ComparisonOperator.GREATER_THAN:return"GT";case sap.firefly.ComparisonOperator.GREATER_EQUAL:return"GE";case sap.firefly.ComparisonOperator.BETWEEN:return"BT";case sap.firefly.ComparisonOperator.NOT_EQUAL:return"NE";default:throw new Error("Invalid Operator: "+e.getName())}}var N={};p.OffsetCol=0;p.Messages=[];p.Name=y;p.OffsetRow=0;p.SuppressRepetition=true;p.Chart={chartType:"column",vizProperties:{categoryAxis:{axisLine:{size:1,visible:true},title:{visible:true},axisTick:{visible:true},label:{alignment:"center",visible:true}},categoryAxis2:{axisLine:{size:1,visible:true},title:{visible:true},axisTick:{visible:true},label:{alignment:"center",visible:true}},valueAxis2:{size:1,visible:true},legend:{visible:true},title:{visible:true},axisTick:{visible:true},label:{alignment:"center",visible:true},valueAxis:{axisLine:{size:1,visible:true},title:{visible:true},axisTick:{visible:true},label:{alignment:"Right",visible:true}}}};var S=t.ExcelStyle;if(g.getCapabilitiesBase().supportsCellDocumentId()){g.getQueryModel().getDocumentsIdsRequest().setDocumentsIdsScope(sap.firefly.DocumentsIdsScope.RESULT_SET_BOUND)}p.setFormat=function(t){S=t;if(p.Grid){p.Grid.format=S}e.checkUpdate()};p.setOffsetCol=function(e){p.virtualOffsetCol=e;return p};p.setOffsetRow=function(e){p.virtualOffsetRow=e;return p};var C;p.getStructureMembers=function(e){var t=g.getQueryModel().getDimensionByName(p.Dimensions[e].TechName);var r=t.getDisplayKeyField();var n=f.reduce(p.getFilterOfDim(e),function(e,t){e[t.Low]=true;return e},{});return f.map(u.arrayFromList(t.getAllStructureMembers()),function(e){return{Name:e.getFieldValue(r)?e.getFieldValue(r).getValue().getString():e.getName(),TechName:e.getName(),Description:e.getText(),isInFilter:!!n[e.getName()]}})};function T(t){C=g.getQueryModel().getCurrencyTranslationManager()&&g.getQueryModel().getCurrencyTranslationManager().getCurrencyTranslationDetails();p.AllowsNewLines=false;p.Functions=[];p.HasVariables=false;p.CurrencyTranslation=C&&{Name:C.getCurrencyTranslationName(),Target:C.getCurrencyTranslationTarget()};if(p.Grid){p.Grid.inputEnabled=f.some(p.Grid.Cells,function(e){return e.Input});p.Grid.input=p.Grid.inputEnabled&&v;p.Grid.DataChanged=e.getPlanningService()?e.getPlanningService().getPlanningContext().hasChangedData():false;if(sap.ushell&&sap.ushell.Container&&e.getPlanningService()){sap.ushell.Container.setDirtyFlag(e.getPlanningService().getPlanningContext().hasChangedData())}}o(s.getUndoManager().getAvailableUndoStepCount()>0);p.QueryTitle=g.getQueryModel().getText()||g.getQueryModel().getDataSource().getName();p.QueryName=g.getQueryModel().getDataSource().getName();p.QueryType=g.getQueryModel().getDataSource().getType().getName();p.SystemName=g.getSystemDescription().getName();p.HasVariables=g.getQueryModel().getVariableContainer().hasVariables();N=f.reduce(u.arrayFromIter(g.getQueryModel().getVariables().getIterator()),function(e,t){e[t.getNameExternal()||t.getName()]=t.getName();return e},N);if(g.getQueryModel().getCubeInfo()){p.CreatedBy=g.getQueryModel().getCubeInfo().getCreatedBy();p.CreatedOn=function(){var e=g.getQueryModel().getCubeInfo().getCreatedOn();return e?new Date([e.getYear(),e.getMonthOfYear(),e.getDayOfMonth()].join("-")):new Date}();p.CreatedOnText=p.QueryDueDateText=sap.ui.core.format.DateFormat.getDateInstance({style:"medium"}).format(p.CreatedOn);p.QueryDueDate=function(){var e=g.getQueryModel().getCubeInfo().getDueDate();return e?new Date([e.getYear(),e.getMonthOfYear(),e.getDayOfMonth()].join("-")):new Date}();p.QueryDueDateText=sap.ui.core.format.DateFormat.getDateInstance({style:"medium"}).format(p.QueryDueDate);if(g.getQueryModel().getResultAlignment()){p.ResultAlignmentRows=g.getQueryModel().getResultAlignment().getName();p.ResultAlignmentColumns=g.getQueryModel().getResultAlignment().getName()}p.LastUpdated=function(){var e=g.getQueryModel().getCubeInfo().getUpdatedOn();return e?new Date([e.getYear(),e.getMonthOfYear(),e.getDayOfMonth()].join("-")):new Date}();p.LastUpdatedBy=g.getQueryModel().getCubeInfo().getUpdatedBy();p.LastUpdatedText=sap.ui.core.format.DateFormat.getDateInstance({style:"medium"}).format(p.LastUpdated)}p.HasCurrencyTranslation=function(){var e=g.getQueryModel().getModelCapabilities();return(e.supportsCurrencyTranslation()||e.supportsQueryCurrencyTranslation())&&C&&g.getQueryModel().getCurrencyTranslationEnabledType()!=="NoCurrency"}();d=g.getQueryModel();var n=d.getSortingManager();function a(e){if(n.supportsDimensionSorting(e,null)){return e.getResultSetSorting().getDirection().getName()}else{return null}}p.Dimensions=f.reduce(u.arrayFromList(d.getDimensions()),function(e,t){var r=t.getAxis();if(t.getDimensionType().getName()===i.MeasureStructure){t.getExternalName=f.constant("MeasureStructure")}else if(t.getDimensionType().getName()===i.SecondaryStructure){t.getExternalName=f.constant("NonMeasureStructure")}e[t.getExternalName()||t.getName()]={Name:t.getExternalName()||t.getName(),TechName:t.getName(),Description:t.getText(),Axis:r.getName(),Type:t.getDimensionType().getName(),HierarchyActive:t.isHierarchyActive(),HasFilter:!!t.getFilter(),SortDirection:a(t),Position:r.getDimensionIndex(t.getName()),LastPosition:r.getDimensionCount()-1,IsStructure:t.getDimensionType().getName()===i.MeasureStructure||t.getDimensionType().getName()===i.SecondaryStructure,IsMeasureStructure:t.getDimensionType().getName()===i.MeasureStructure||t.getDimensionType().getName()===i.SecondaryStructure};if(t.getDimensionType().getName()===i.MeasureStructure||t.getDimensionType().getName()===i.SecondaryStructure){var n=t.getDisplayKeyField();e[t.getExternalName()||t.getName()].Members=f.map(u.arrayFromList(t.getAllStructureMembers()),function(e){return{Name:e.getFieldValue(t.getDisplayKeyField())?e.getFieldValue(n).getValue().getString():e.getName(),TechName:e.getName(),Description:e.getText()}})}return e},{});p.FreeDimensions=f.sortBy(f.filter(p.Dimensions,{Axis:r.Free}),"Description");p.ColumnsDimensions=f.sortBy(f.filter(p.Dimensions,{Axis:r.Columns}),"Position");p.RowsDimensions=f.sortBy(f.filter(p.Dimensions,{Axis:r.Rows}),"Postion");p.FlatDimensions=f.filter(f.concat(p.RowsDimensions,p.ColumnsDimensions),function(e){return!e.IsMeasureStructure});p.AllDimensions=f.sortBy(f.concat(p.RowsDimensions,p.ColumnsDimensions,p.FreeDimensions),"Description");if(!p.Chart.catDimension){p.Chart.catDimension=p.FlatDimensions.length?p.FlatDimensions[0].Name:null}if(!p.Chart.cat2Dimension){p.Chart.cat2Dimension=p.FlatDimensions.length>1?p.FlatDimensions[1].Name:null}var l=g.getQueryModel().getMeasureDimension().getExternalName()||g.getQueryModel().getMeasureDimension().getName();var c=g.getQueryModel().getMeasureDimension()?p.Dimensions[l]:null;if(!p.Chart.valDimension&&c){p.Chart.valDimension=c.Name}if(!p.Chart.val2Dimension&&c){p.Chart.val2Dimension=c.Name}p.Chart.vizProperties.title.text=p.QueryTitle||p.QueryName;var y=g.getQueryModel().getMeasureDimension()&&c.Members||[];if(t){p.FlatResultSet=t.FlatResultSet;p.Chart.Measures=t.Measures;p.Chart.Dimensions=t.Dimensions}else{p.Measures=y}p.Conditions=f.map(g.getQueryModel().getConditionManager()?u.arrayFromList(g.getQueryModel().getConditionManager()):[],function(e){return{Name:e.getName(),Description:e.getText(),StatusText:m.getText(e.isActive()?"ACTIVE":"INACTIVE"),active:e.isActive()}});p.Exceptions=f.map(g.getQueryModel().getExceptionManager()?u.arrayFromList(g.getQueryModel().getExceptionManager()):[],function(e){return{Name:e.getName(),Description:e.getText(),StatusText:m.getText(e.isActive()?"ACTIVE":"INACTIVE"),active:e.isActive()}})}T();p.setInputEnabled=function(e){g.getPlanningManager().setDataEntryEnabled(e);v=e;return p};(function(){var e=null;p.suppressUnit=function(t){e=t};p.getSuppressedUnit=function(){return e}})();p.openAxisDialog=function(){var e=sap.firefly.AldEntryPoint.createEntryPoint(s);var t;function r(e){t=e}e.openAldDialog(m.getText("QUERY_SETTINGS",[p.QueryTitle]),d,{onSubmit:function(){t(true);t=null},onClose:function(){if(t){t(false)}}});return new Promise(r)};p.openCellDialog=function(e,t,r,n){var i=p.Dimensions[e];if(!i||!i.IsStructure){throw new Error("Dimension is not a structure:"+e)}var a=g.getQueryModel().getDimensionByName(i.TechName).getDisplayKeyField();var o=f.find(u.arrayFromList(g.getQueryModel().getDimensionByName(p.Dimensions[e].TechName).getAllStructureMembers()),function(e){var r=e.getFieldValue(a);var n=r?r.getString():e.getName();return n===t});if(!o){throw new Error("Member "+t+" not found in structure: "+e)}var s;if(r){var l=p.Dimensions[r];if(!l||!l.IsStructure){throw new Error("Dimension is not a structure:"+r)}var c=g.getQueryModel().getDimensionByName(p.Dimensions[r].TechName).getDisplayKeyField();s=f.find(u.arrayFromList(g.getQueryModel().getDimensionByName(p.Dimensions[r].TechName).getAllStructureMembers()),function(e){var t=e.getFieldValue(c);var r=t?t.getString():e.getName();return r===n});if(!s){throw new Error("Member "+n+" not found in structure: "+r)}}var y;function d(e){y=e}var D=new Promise(d);var v=sap.firefly.DataCellDialogDragonflyEntryPoint.createEntryPoint(g);v.setI18nProvider(m,null);v.openDataCellPropertiesDialog({onDataCellOk:function(){var e=y;y=null;return e(true)},onDataCellClose:function(){if(y){y(false)}v.close()}},g,o.getName(),s?s.getName():null);return D};p.openDimDialog=function(e){return new Promise(function(t){var r=sap.firefly.ProgramRunner.createRunner(s.getProcess(),sap.firefly.OuDimensionDialog2.DEFAULT_PROGRAM_NAME);r.setObjectArgument(sap.firefly.DfOuDialogProgram.PARAM_QUERY_MANAGER,g);r.setArgument(sap.firefly.OuDimensionDialog2.PARAM_DIMENSION_NAME,p.Dimensions[e].TechName);r.setObjectArgument(sap.firefly.DfOuDialogProgram.PARAM_OK_PROCEDURE,{execute:function(){t(true)}});r.setObjectArgument(sap.firefly.DfOuDialogProgram.PARAM_CANCEL_PROCEDURE,{execute:function(){t(false)}});r.runProgram(null)})};p.setResultVisibility=function(e,t){d.getDimensionByName(p.Dimensions[e].TechName).setResultVisibility(sap.firefly.ResultVisibility[t]);return p.getResultSet()};p.setDimensionDisplay=function(e,t){var r=g.getQueryModel();var n=r.getDimensionByName(p.Dimensions[e].TechName);var i=n.getDisplayKeyField()||n.getKeyField();var o=n.getTextField();var s=n.getResultSetFields();var l=f.filter(u.arrayFromList(s).map(function(e){return e}),function(e){return e!==n.getKeyField()&&e!==n.getTextField()&&e!==n.getDisplayKeyField()});s.clear();switch(t){case a.Key:s.add(i);break;case a.Text:s.add(o);break;case a.KeyText:s.add(i);s.add(o);break;case a.TextKey:s.add(o);s.add(i);break}f.forEach(l,function(e){s.add(e)});return p.getResultSet()};p.isVariableInputEnabled=function(e){var t=N[e];if(!t){return false}var r=g.getQueryModel().getVariable(t);return!!r&&r.isInputEnabled&&r.isInputEnabled()};p.hasVariableValueHelp=function(e){var t=g.getQueryModel().getVariable(e);return!!t&&t.supportsValueHelp&&t.supportsValueHelp()};function h(e,t,r){if(t!=null&&r!=null){e.addSupplementValue(t.getName(),r)}}function E(e,t,r){var n=e.getKeyField();var i=e.getDisplayKeyField()!==n?e.getDisplayKeyField():null;var a=e.getTextField();t.addSupplementField(i);t.addSupplementField(a);for(var o=0;o<r.size();o++){var s=r.get(o);var l=t.addNewCartesianElement();l.setComparisonOperator(sap.firefly.ComparisonOperator.EQUAL);l.setField(n);var u=l.getLow();u.setValue(sap.firefly.XValueUtil.getValueFromString(s.getKey(),n.getValueType()));h(u,i,s.getDisplayKey());h(u,a,s.getText())}}function F(e){var t=N[e];if(!t){return false}return g.getQueryModel().getVariable(t)}p.applySelectionToVariable=function(e,t){var r=function(e){if(!e)return;if(e.getVariableType().isTypeOf(sap.firefly.VariableType.DIMENSION_MEMBER_VARIABLE)){var r=e.getDimension();var n=e.getMemberFilter();n.clear();E(r,n,t)}else{if(!t.isEmpty()){e.setValueByStringExt(t.get(0).getKey(),true)}}};return new Promise(function(t,r){var n=F(e);if(!n||!n.isInputEnabled()){t(null)}if(n&&n.isInputEnabled()){if(g.isReinitNeeded()){g.reInitVariablesAfterSubmit(sap.firefly.SyncType.NON_BLOCKING,function(e){return e.hasErrors()?r(l.reject(e.getErrors())):t(n)})}else{t(n)}}else{r(new Error("Variable is not input enabled"))}}).then(r)};p.openVariableSelector=function(e){var t=F(e);if(!(t&&t.supportsValueHelp&&t.supportsValueHelp())){throw new Error("No Value help for variable "+e)}if(g.isReinitNeeded()){g.reInitVariablesAfterSubmit(sap.firefly.SyncType.BLOCKING,null,null)}var r=t.getDimension();var n=sap.firefly.FdEntryPoint.createEntryPoint(s,m.getText("SELECTOR",[r.getText()]));var i=n.getConfiguration();i.setAlwaysShowSelectionContainer(true);i.setFunctionalValuesEnabled(true);i.setMultiSelection(t.supportsMultipleValues());i.setDetermineSelectionFromContext(true);n.getUiContext().getLocalization().setExternalLocalization(sap.firefly.OrcaI18nMapping.create(),m);var a;function o(e){a=e}n.openWithVariable(t,{onFilterDialogOk:function(e){a(e)},onFilterDialogCancel:function(){a(null)}});var l=new Promise(o);return l.then(function(e){if(!e){return false}return e})};p.openCurrencyTranslationDialog=function(){var e;function t(t){e=t}var r=sap.firefly.CtEntryPoint.createEntryPoint(s);r.setI18nProvider(m,null);r.openQCTDialog(m.getText("QCT_CURRENCY_TRANSLATION"),g.getQueryModel().getCurrencyTranslationManager(),{onSubmit:function(){e(true);e=null},onClose:function(){if(e){e(false)}}});return new Promise(t)};p.getFilterOfDim=function(e){var t=g.getQueryModel().getDimensionByName(p.Dimensions[e].TechName);function r(e){var r=t.getKeyField();var n=t.getDisplayKeyField()!==r?t.getDisplayKeyField():null;var i=t.getTextField();var a=e.getLow();var o=null;if(n!=null){o=a.getSupplementValueString(n.getName())}if(!o&&i){o=a.getSupplementValueString(i.getName())}return o}return f.map(u.arrayFromList(g.getQueryModel().getFilter().getDynamicFilter().getCartesianListByField(t.getKeyField())),function(e){return{ComparisonOperator:M(e.getComparisonOperator()),Text:r(e),Low:e.getLow().getString(),High:e.getHigh().getString(),IsExcluding:e.getSetSign()===sap.firefly.SetSign.EXCLUDING}})};p.openSelector=function(e){var t=g.getQueryModel().getDimensionByName(p.Dimensions[e].TechName);if(!d.getFilter().getDynamicFilter().isCartesianProduct()){throw new Error("Filter to complex")}var r;function n(e){r=e}return Promise.resolve(null).then(function(){var e=sap.firefly.FdEntryPoint.createEntryPoint(s,m.getText("SELECTOR",[t.getText()]));var i=e.getConfiguration();i.setFunctionalValuesEnabled(true);i.setMultiSelection(true);i.setDetermineSelectionFromContext(true);e.getUiContext().getLocalization().setExternalLocalization(sap.firefly.OrcaI18nMapping.create(),m);e.openWithDimension(t,{onFilterDialogOk:function(e){r(e)},onFilterDialogCancel:function(){r(false)}});var a=new Promise(n);return a.then(function(e){if(!e){return false}var r=t.getFilter();if(r!=null){r.clear()}else{var n=t.getQueryModel().getFilter().getDynamicFilter();r=n.getCartesianListWithDefault(t)}E(t,r,e);return true})})};p.setAxesLayout=function(e){f.forEach(f.map(p.FlatDimensions,"Name"),function(e){g.getQueryModel().getAxis(sap.firefly.AxisType.FREE).add(g.getQueryModel().getDimensionByName(p.Dimensions[e].TechName))});f.forEach(e.rows,function(e){A(sap.firefly.AxisType.ROWS,e)});f.forEach(e.columns,function(e){A(sap.firefly.AxisType.COLUMNS,e)});return p};p.removeDrilldown=function(e){g.getQueryModel().getAxis(sap.firefly.AxisType.FREE).add(g.getQueryModel().getDimensionByName(p.Dimensions[e].TechName));return p.getResultSet()};p.drilldown=function(e,t){var r=g.getQueryModel();if(e){var n=r.getDimensionByName(p.Dimensions[e].TechName);var i=r.getAxesManager().getRowsAxis().getDimensionCount()?n.getAxis():r.getAxesManager().getRowsAxis();var a=!i.getDimensionCount()?0:n.getDimension().getAxis().getDimensionIndex(n.getName())+1;i.insert(a,r.getDimensionByName(p.Dimensions[t].TechName))}else{r.getAxesManager().getRowsAxis().insert(r.getAxesManager().getRowsAxis().getDimensionCount(),r.getDimensionByName(p.Dimensions[t].TechName))}return p.getResultSet()};p.moveUp=function(e){var t=g.getQueryModel();var r=t.getDimensionByName(p.Dimensions[e].TechName);var n=r.getAxis();var i=n.getDimensionIndex(r.getName())-1;n.insert(i,r);return p};p.moveDown=function(e){var t=g.getQueryModel();var r=t.getDimensionByName(p.Dimensions[e].TechName);var n=r.getAxis();var i=n.getDimensionIndex(r.getName())+1;n.insert(i,r);return p};p.setDisplayHierarchy=function(e,t,r,n){var i=g.getQueryModel();var a=i.getDimensionByName(p.Dimensions[e].TechName);if(r){a.setHierarchyName(r);if(n){a.setHierarchyVersion(n)}}a.setHierarchyActive(t);return p};p.getScalingFactor=function(e,t){var r=p.Dimensions.MeasureStructure;if(!r){throw new Error("No measure Structure")}var n=t?p.Dimensions.NonMeasureStructure:null;var i=r.TechName;var a=u.arrayFromList(g.getQueryModel().getDimensionByName(i).getAllStructureMembers());var o=g.getQueryModel().getDimensionByName(i).getDisplayKeyField();var s=function(){var t=f.find(a,function(t){var r=t.getFieldValue(o);var n=r?r.getString():t.getName();return n===e});if(!t){throw new Error("Member "+e+" not found in structure: "+i)}return t}();if(!n){return s.getNumericShift()?-1*s.getNumericShift().getInteger():0}else{var l=n.TechName;var c=u.arrayFromList(g.getQueryModel().getDimensionByName(l).getAllStructureMembers());var m=g.getQueryModel().getDimensionByName(l).getDisplayKeyField();var y=function(){var r=f.find(c,function(e){var r=e.getFieldValue(m);var n=r?r.getString():e.getName();return n===t});if(!r){throw new Error("Member "+e+" not found in structure: "+i)}return r}();var d=u.arrayFromIter(g.getQueryModel().getQueryDataCells().getIterator());var D=f.find(d,function(e){return e.hasMemberReference(s)&&e.hasMemberReference(y)});if(!D){throw new Error("Invalid Query Cell")}return D.getScalingFactor()}};p.setScalingFactor=function(e,t,r){var n=p.Dimensions.MeasureStructure;if(!n){throw new Error("No measure Structure")}var i=r?p.Dimensions.NonMeasureStructure:null;var a=n.TechName;var o=u.arrayFromList(g.getQueryModel().getDimensionByName(a).getAllStructureMembers());var s=g.getQueryModel().getDimensionByName(a).getDisplayKeyField();var l=function(){var e=f.find(o,function(e){var r=e.getFieldValue(s);var n=r?r.getString():e.getName();return n===t});if(!e){throw new Error("Member "+t+" not found in structure: "+a)}return e}();if(!i){l.setNumericShift(-1*e);return p}else{var c=i.TechName;var m=u.arrayFromList(g.getQueryModel().getDimensionByName(c).getAllStructureMembers());s=g.getQueryModel().getDimensionByName(c).getDisplayKeyField();var y=function(){var e=f.find(m,function(e){var t=e.getFieldValue(s);var n=t?t.getString():e.getName();return n===r});if(!e){throw new Error("Member "+r+" not found in structure: "+c)}return e}();var d=u.arrayFromIter(g.getQueryModel().getQueryDataCells().getIterator());d=f.filter(d,function(e){return e.hasMemberReference(l)&&e.hasMemberReference(y)});if(!d||d.length<1){throw new Error("Invalid Query Cell")}return f.forEach(d,function(t){t.setScalingFactor(e)})}};p.setDecimalPlaces=function(e,t,r){var n=p.Dimensions.MeasureStructure;if(!n){throw new Error("No measure Structure")}var i=r?p.Dimensions.NonMeasureStructure:null;var a=n.TechName;var o=u.arrayFromList(g.getQueryModel().getDimensionByName(a).getAllStructureMembers());var s=g.getQueryModel().getDimensionByName(a).getDisplayKeyField();var l=function(){var e=f.find(o,function(e){var r=e.getFieldValue(s);var n=r?r.getString():e.getName();return n===t});if(!e){throw new Error("Member "+t+" not found in structure: "+a)}return e}();if(!i){l.setNumericScale(e);return p}else{var c=i.TechName;var m=u.arrayFromList(g.getQueryModel().getDimensionByName(c).getAllStructureMembers());s=g.getQueryModel().getDimensionByName(c).getDisplayKeyField();var y=function(){var e=f.find(m,function(e){var t=e.getFieldValue(s);var n=t?t.getString():e.getName();return n===r});if(!e){throw new Error("Member "+r+" not found in structure: "+c)}return e}();var d=u.arrayFromIter(g.getQueryModel().getQueryDataCells().getIterator());d=f.filter(d,function(e){return e.hasMemberReference(l)&&e.hasMemberReference(y)});if(!d||d.length<1){throw new Error("Invalid Query Cell")}return f.forEach(d,function(t){t.setDecimalPlaces(e)})}};p.getDecimalPlaces=function(e,t){var r=p.Dimensions.MeasureStructure;if(!r){throw new Error("No measure Structure")}var n=t?p.Dimensions.NonMeasureStructure:null;var i=r.TechName;var a=u.arrayFromList(g.getQueryModel().getDimensionByName(i).getAllStructureMembers());var o=g.getQueryModel().getDimensionByName(i).getDisplayKeyField();var s=function(){var t=f.find(a,function(t){var r=t.getFieldValue(o);var n=r?r.getString():t.getName();return n===e});if(!t){throw new Error("Member "+e+" not found in measureDim: "+i)}return t}();if(!n){return s.getNumericScale()}else{var l=n.TechName;var c=u.arrayFromList(g.getQueryModel().getDimensionByName(l).getAllStructureMembers());var m=g.getQueryModel().getDimensionByName(l).getDisplayKeyField();var y=function(){var e=f.find(c,function(e){var r=e.getFieldValue(m);var n=r?r.getString():e.getName();return n===t});if(!e){throw new Error("Member "+t+" not found in measureDim: "+l)}return e}();var d=u.arrayFromIter(g.getQueryModel().getQueryDataCells().getIterator());var D=f.find(d,function(e){return e.hasMemberReference(s)&&e.hasMemberReference(y)});if(!D){throw new Error("Invalid Query Cell")}return D.getDecimalPlaces()}};p.setFilter=function(e,t){var r=p.Dimensions[e];var n=[];if(typeof t==="string"){n.push(t)}else{n=t}sap.firefly.QFilterUtil.clearSelectionsInContainerByDimension(p.Dimensions[e].TechName,g.getQueryModel().getFilter().getDynamicFilter());var i=p.Dimensions[e].TechName;var a=g.getQueryModel().getDimensionByName(i);var o=r.IsStructure?u.arrayFromList(a.getAllStructureMembers()):[];var s=r.IsStructure?a.getDisplayKeyField():null;f.forEach(n,function(e){var t=r.IsStructure?function(){var t=f.find(o,function(t){var r=t.getFieldValue(s);var n=r?r.getString():t.getName();return n===e});if(!t){throw new Error("Member "+e+" not found in structure: "+i)}return t.getName()}():e;g.getQueryModel().getFilter().getDynamicFilter().addSingleMemberFilterByName(i,t,sap.firefly.ComparisonOperator.EQUAL)});return p};p.removeFilter=function(e){sap.firefly.QFilterUtil.clearSelectionsInContainerByDimension(p.Dimensions[e].TechName,g.getQueryModel().getFilter().getDynamicFilter());return p};p.sort=function(e,t,r,n){var i=g.getQueryModel().getDimensionByName(p.Dimensions[e].TechName);if(p.Dimensions[e].IsStructure){var a=g.getConvenienceCommands();a.clearSort(null,null);a.sortByMeasure(f.find(p.Dimensions[e].Members,function(e){return e.Name===n}).TechName,sap.firefly.XSortDirection[t])}else{i.getResultSetSorting().setDirection(sap.firefly.XSortDirection[t]);if(r){i.getResultSetSorting().setSortType(sap.firefly.SortType[r])}}return p};function A(e,t){var r=g.getQueryModel();var n=p.Dimensions[t].TechName;var i=r.getQueryModel().getDimensionByName(n);r.getAxis(e).add(i);var a=c.getFields(i);var o=i.getResultSetFields();var s=a.oTextField;if(s&&!o.contains(s)){o.add(s);s.setObtainability(sap.firefly.ObtainabilityType.USER_INTERFACE)}var l=a.oDisplayKeyField;if(!o.contains(l)){o.add(l);l.setObtainability(sap.firefly.ObtainabilityType.USER_INTERFACE)}}p.toRows=function(e){A(sap.firefly.AxisType.ROWS,e);return p};p.toColumns=function(e){A(sap.firefly.AxisType.COLUMNS,e);return p};p.drill=function(e,t,r){var n=g.getQueryModel().getDimensionByName(p.Dimensions[e].TechName);var i=D.getAxis(n.getAxisType()).getTupleAt(t).getTupleElementByDimension(n);i.setNextDrillState(i.getDrillState()!==sap.firefly.DrillState.COLLAPSED?sap.firefly.DrillState.COLLAPSED:sap.firefly.DrillState.EXPANDED);return p.getResultSet(r)};p.submitVariables=function(){return l.syncActionToPromise(g.submitVariables,g,[]).then(function(t){T();if(t&&t.getMessages().length){e.addMessages(u.arrayFromList(t.getMessages()).map(function(e){var t=e.getSeverity().getName();if(t==="Info"){t="Information"}return{Text:e.getText(),Severity:t,Code:e.getCode(),MessageClass:e.getMessageClass(),LongTextUri:e.getMessageClass()?["/sap/opu/odata/iwbep/message_text;o=LOCAL/T100_longtexts(MSGID='",encodeURIComponent(e.getMessageClass()),"',MSGNO='",encodeURIComponent(e.getCode()),",',MESSAGE_V1='',MESSAGE_V2='',MESSAGE_V3='',MESSAGE_V4='')/$value"].join(""):null}}))}}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);if(!t.getMessages){throw t}p.Grid=null})};var b;p.getResultSet=function(t){if(!t){p.setOffsetCol(0);p.setOffsetRow(0)}if(b){s.getSession().notifyInterruptStep(b,false)}if(g.hasChangedCells()){g.transferNewValues()}g.setOffsetColumns(p.virtualOffsetCol);g.setOffsetRows(p.virtualOffsetRow);g.setMaxRows(e.getLimit().RowLimit);g.setMaxColumns(e.getLimit().ColLimit);e.fireRequestSent({infoObject:p.Name});return l.syncActionToPromise(g.processQueryExecution,g,[]).then(function(t){b=sap.firefly.XInterruptStep.create();s.getSession().notifyInterruptStep(b,true);D=t.getClassicResultSet();var r=function(){var t=sap.firefly.FioriGridFactory.createFioriGrid(D);if(p.getSuppressedUnit()){t.setSuppressUnit(p.getSuppressedUnit())}f.map(e.getSemanticStyles(),function(e,r){t.addSemanticStyle(r,e)});return t.exportToFireflyGrid(p.SuppressRepetition)}();p.Grid=r.convertToNative();p.Grid.format=S;p.Grid.virtualOffsetCol=p.virtualOffsetCol;p.Grid.virtualOffsetRow=p.virtualOffsetRow;if(!p.Grid.Cells||p.Grid.Cells.length===0){p.Grid.Cells=[{Column:0,Row:0,DisplayValue:m.getText("no_data"),CellType:n.EMPTY}]}p.Grid.fixedRows=r.getIntegerByKey("FixedRows");p.Grid.fixedColumns=r.getIntegerByKey("FixedColumns");var i=D.getAxis(sap.firefly.AxisType.ROWS).getTuplesCountTotal();if(i===-1){i=D.getAxis(sap.firefly.AxisType.ROWS).getTuplesCount()}p.Grid.virtualRows=i;i=D.getAxis(sap.firefly.AxisType.COLUMNS).getTuplesCountTotal();if(i===-1){i=D.getAxis(sap.firefly.AxisType.COLUMNS).getTuplesCount()}p.Grid.virtualColumns=i;T(c.flatten(D,p));p._addMessagesToModel(D);e.checkUpdate();e.fireRequestCompleted({infoObject:p.Name});return p}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);if(!t.getMessages){throw t}e.checkUpdate(true);e.fireRequestFailed({});return p})};p.getRRITargets=function(e,t){var r=g.getRriTargetManager();if(!r){return Promise.resolve([])}r.setResultSetContext(e,t);var n,i;function a(e,t){n=e;i=t}r.processRriTargetResolution(sap.firefly.SyncType.NON_BLOCKING,{onRriTargetResolution:function(e){if(e.hasErrors()){i(e.getMessages())}else{var t=sap.ushell?sap.ushell.Container.getService("URLParsing"):{isIntentUrl:f.constant(false)};n(f.filter(e.getData().getListFromImplementation().map(function(e){return e.getParameters().getMapFromImplementation()}),function(e){return t.isIntentUrl(e.URL)||!!e.URL.match(/#/)}).map(function(e){e.URL=e.URL.split("#")[1];return e}))}}});return new Promise(a)};p.synchronize=function(t){e.clearMessages();return p.getResultSet(t)};p.getColumnSelection=function(e){return c.tupleToObject(D.getColumnsAxis().getTupleAt(e))};p.getRowSelection=function(e){return c.tupleToObject(D.getRowsAxis().getTupleAt(e))};p.getSelection=function(e,t){return f.assign(e>=0&&e<D.getRowsAxis().getTuplesCount()?c.tupleToObject(D.getRowsAxis().getTupleAt(e)):{},t>=0&&t<D.getColumnsAxis().getTuplesCount()?c.tupleToObject(D.getColumnsAxis().getTupleAt(t)):{})};p.readHierarchy=function(e,t){var r,n;function i(e,t){r=e;n=t}var a=g.getValueHelpProvider();var o=g.getQueryModel().getDimensionByName(p.Dimensions[e].TechName);var s=o.getInitialDrillLevel();o.setSelectorInitialDrillLevel(t);var u=new Promise(i);a.processValueHelp(o,sap.firefly.SyncType.NON_BLOCKING,{onValuehelpExecuted:function(e){return e.hasErrors()?n(l.reject(e.getErrors())):r(e.getData())}},null,null);return u.then(function(e){function t(e){if(!e){return{}}var r=e.getChildren();return{Name:e.getName(),Text:e.getDimensionMember().getText()||e.getDimensionMember(e.getDimension().getHierarchyDisplayKeyField()).getValue().getString(),hierNodes:r?f.map(r.getListFromImplementation(),t):null}}o.setSelectorInitialDrillLevel(s);var r=f.filter(e.getListFromImplementation(),function(e){return!e.getParentNode()});return r.length===1?t(r[0]):{Name:"$Root",Text:m.getText("ARTIFICIAL_ROOT"),hierNodes:f.map(r,t)}})};p.hasVariable=function(e){var t=F(e);return!!t&&t.isInputEnabled()};p.setVariableValue=function(e,t){return new Promise(function(t,r){var n=F(e);if(n&&n.isInputEnabled()){if(g.isReinitNeeded()){g.reInitVariablesAfterSubmit(sap.firefly.SyncType.NON_BLOCKING,function(e){return e.hasErrors()?r(l.reject(e.getErrors())):t(n)})}else{t(n)}}else{r(new Error("Variable is not input enabled"))}}).then(function(e){return new Promise(function(r){e.clear();if(!t){return p}var n=e.getMemberFilter?e.getMemberFilter():null;f.forEach(t,function(t){if(n){var r=n.addNewCartesianElement();var i=sap.firefly.XValueAccess.createWithType(e.getValueType());i.parseString(t.Low);r.getLow().setValue(i.getValue());if(t.High){i=sap.firefly.XValueAccess.createWithType(e.getValueType());i.parseString(t.High);r.getHigh().setValue(i.getValue())}r.setComparisonOperator(sap.firefly.ComparisonOperator[t.Comparison]);r.setSetSign(sap.firefly.SetSign[t.IsExcluding?"EXCLUDING":"INCLUDING"]);var a=e.getDimension().getFirstFieldByType(sap.firefly.PresentationType.KEY_NOT_COMPOUND);if(a){r.setField(a)}}else{e.setValueByStringExt(t.Low,true)}});r(e)})})};p._addMessagesToModel=function(t){if(t&&t.getMessages().length){e.addMessages(u.arrayFromList(t.getMessages()).map(function(e){var t=e.getSeverity().getName();if(t==="Info"){t="Information"}return{Text:e.getText(),Severity:t,Code:e.getCode(),MessageClass:e.getMessageClass(),LongTextUri:e.getMessageClass()?["/sap/opu/odata/iwbep/message_text;o=LOCAL/T100_longtexts(MSGID='",encodeURIComponent(e.getMessageClass()),"',MSGNO='",encodeURIComponent(e.getCode()),",',MESSAGE_V1='',MESSAGE_V2='',MESSAGE_V3='',MESSAGE_V4='')/$value"].join(""):null}}))}};p.createDocumentId=function(t,r){var n=g.getResultsetContainer().getDocumentIdManager();var i=sap.firefly.RsCellIndexInfo.create();i.initialize(t,r);return l.syncActionToPromise(n.createCellDocumentId,n,i).then(function(e){p._addMessagesToModel(e);return e.getData().isCellDocumentIdCreated()}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})};p.getDocumentId=function(t,r){var n=g.getResultsetContainer().getDocumentIdManager();var i=sap.firefly.RsCellIndexInfo.create();i.initialize(t,r);return l.syncActionToPromise(n.getCellDocumentId,n,i).then(function(e){p._addMessagesToModel(e);return e.getData().getCellDocumentId()}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})};p.deleteDocumentId=function(t,r){var n=g.getResultsetContainer().getDocumentIdManager();var i=sap.firefly.RsCellIndexInfo.create();i.initialize(t,r);return l.syncActionToPromise(n.deleteCellDocumentId,n,i).then(function(e){p._addMessagesToModel(e);return e.getData().isCellDocumentIdDeleted()}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})};function x(){return new Promise(function(e,t){if(g.isReinitNeeded()){g.reInitVariablesAfterSubmit(sap.firefly.SyncType.NON_BLOCKING,function(r){return r.hasErrors()?t(l.reject(r.getErrors())):e()})}else{e()}})}p.deserialize=function(e){return x().then(function(){g.getQueryModel().deserializeExt(sap.firefly.QModelFormat.INA_REPOSITORY,e)})};p.serialize=function(){return g.getQueryModel().serializeToContentExt(sap.firefly.QModelFormat.INA_REPOSITORY,null).getString()};p.getResultRequest=function(){return g.getResultsetContainer().getResultSetManager().getDataRequest().convertToNative()};p.getQueryView=function(){return g.getQueryModel().serializeToElement(sap.firefly.QModelFormat.INA_DATA).convertToNative()};p.addCondition=function(e){return Promise.resolve(null).then(function(){var t=["COND_",Date.now()].join("");var r=g.getQueryModel().getConditionManager().addNewCondition(t);r.setDescription(e.Description);r.setText(e.Description);var n=g.getQueryModel().getDimensionByName(p.Dimensions[e.Structure1Key].TechName);var i=f.find(p.Dimensions[e.Structure1Key].Members,function(t){return e.measure1===t.Name}).TechName;if(!i){throw new Error("Invalid measure")}r.setDimensionEvaluationType(sap.firefly.ConditionDimensionEvaluationType.ALL_IN_DRILL_DOWN);var a=r.createThreshold();var o=n.getStructureMember(i);if(!o){throw new Error("Invalid measure")}a.addMeasureCoordinate(o);a.setComparisonOperator(sap.firefly.ConditionComparisonOperator[e.operator]);a.getLow().setString(e.Value);return p})};p.resetToDefault=function(){return x().then(function(){g.getConvenienceCommands().resetToDefault()})};p.logoff=function(){return new Promise(function(e){g.processShutdown(sap.firefly.SyncType.NON_BLOCKING,{onQueryManagerRelease:function(t,r){sap.firefly.XObjectExt.release(r);e()}})})}};y.prototype.hasVariable=function(){};y.prototype.setAxesLayout=function(){};y.prototype.openCellDialog=function(){};y.prototype.openAxisDialog=function(){};y.prototype.openCurrencyTranslationDialog=function(){};y.prototype.openDimDialog=function(){};y.prototype.openSelector=function(){};y.prototype.setFilter=function(){};y.prototype.removeFilter=function(){};y.prototype.sort=function(){};y.prototype.toRows=function(){};y.prototype.toColumns=function(){};y.prototype.drill=function(){};y.prototype.submitVariables=function(){};y.prototype.getResultSet=function(){};y.prototype.getRRITargets=function(){};y.prototype.addCondition=function(){};y.prototype.moveUp=function(){};y.prototype.moveDown=function(){};y.prototype.setDisplayHierarchy=function(){};y.prototype.getFilterOfDim=function(){};y.prototype.synchronize=function(){};y.prototype.setFormat=function(){};y.prototype.getScalingFactor=function(){};y.prototype.setScalingFactor=function(){};y.prototype.getDecimalPlaces=function(){};y.prototype.setDecimalPlaces=function(){};y.prototype.suppressUnit=function(){};y.prototype.createDocumentId=function(){};y.prototype.getDocumentId=function(){};y.prototype.deleteDocumentId=function(){};return y});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/MultiDimDataProvider",["sap/base/Log","sap/ui/core/format/DateFormat","sap/sac/grid/Format","sap/sac/df/types/Axis","sap/sac/grid/CellType","sap/sac/df/types/DimensionType","sap/sac/df/types/DisplayType","sap/sac/df/types/ComparisonOperator","sap/sac/df/utils/SyncActionHelper","sap/sac/df/utils/ListHelper","sap/sac/df/utils/TokenHelper","sap/sac/df/utils/ResultSetHelper","sap/sac/df/utils/ResourceBundle","sap/sac/df/thirdparty/lodash","sap/sac/df/firefly/library"],function(e,t,r,n,i,a,o,s,u,l,g,c,m,f,p){"use strict";var d=function(e,s,g,d){var D=this;var v;var S=g.getQueryModel();var N;D.OffsetCol=0;D.Messages=[];D.Name=d;D.OffsetRow=0;D.SuppressRepetition=true;D.Variables={};var T={};var h=r.ExcelStyle;g.attachQueryExecutedListener({onQueryExecuted:function(t,r){if(t.hasErrors()){D._addMessagesToModel(t);e.fireRequestFailed({})}else{s.getSession().notifyInterruptStep(p.XInterruptStep.create(),true);N=r.getClassicResultSet();var n=function(){var t=p.FioriGridFactory.createFioriGrid(N);if(D.getSuppressedUnit()){t.setSuppressUnit(D.getSuppressedUnit())}f.map(e.getSemanticStyles(),function(e,r){t.addSemanticStyle(r,e)});return t.exportToFireflyGrid(D.SuppressRepetition)}();D.ClassicGrid=p.ReferenceGridFactory.createReferenceGridSimple(N).exportToAscii(50);D.Grid=n.convertToNative();D.Grid.format=h;D.Grid.virtualOffsetCol=D.virtualOffsetCol;D.Grid.virtualOffsetRow=D.virtualOffsetRow;if(!D.Grid.Cells||D.Grid.Cells.length===0){D.Grid.Cells=[{Column:0,Row:0,DisplayValue:m.getText("no_data"),CellType:i.EMPTY}]}D.Grid.fixedRows=n.getIntegerByKey("FixedRows");D.Grid.fixedColumns=n.getIntegerByKey("FixedColumns");var a=N.getAxis(p.AxisType.ROWS).getTuplesCountTotal();if(a===-1){a=N.getAxis(p.AxisType.ROWS).getTuplesCount()}D.Grid.virtualRows=a;a=N.getAxis(p.AxisType.COLUMNS).getTuplesCountTotal();if(a===-1){a=N.getAxis(p.AxisType.COLUMNS).getTuplesCount()}D.Grid.virtualColumns=a;b(c.flatten(N,D));D._addMessagesToModel(N);e.checkUpdate();e.fireRequestCompleted({infoObject:D.Name})}},isEqualTo:function(e){return this===e}});D.setFormat=function(t){h=t;if(D.Grid){D.Grid.format=h}e.checkUpdate()};D.setOffsetCol=function(e){D.virtualOffsetCol=e;return D};D.setOffsetRow=function(e){D.virtualOffsetRow=e;return D};D.getStructureMembers=function(e){var t=S.getDimensionByName(D.Dimensions[e].TechName);var r=t.getDisplayKeyField();var n=f.reduce(D.getFilterOfDim(e),function(e,t){e[t.Low]=true;return e},{});return f.map(l.arrayFromList(t.getAllStructureMembers()),function(e){return{Name:e.getFieldValue(r)?e.getFieldValue(r).getValue().getString():e.getName(),TechName:e.getName(),Description:e.getText(),isInFilter:!!n[e.getName()]}})};b();(function(){var e=null;D.suppressUnit=function(t){e=t};D.getSuppressedUnit=function(){return e}})();D.openCellDialog=function(e,t,r,n){var i=D.Dimensions[e];if(!i||!i.IsStructure){throw new Error("Dimension is not a structure:"+e)}var a=S.getDimensionByName(i.TechName).getDisplayKeyField();var o=f.find(l.arrayFromList(g.getQueryModel().getDimensionByName(D.Dimensions[e].TechName).getAllStructureMembers()),function(e){var r=e.getFieldValue(a);var n=r?r.getString():e.getName();return n===t});if(!o){throw new Error("Member "+t+" not found in structure: "+e)}var s;if(r){var u=D.Dimensions[r];if(!u||!u.IsStructure){throw new Error("Dimension is not a structure:"+r)}var c=S.getDimensionByName(D.Dimensions[r].TechName).getDisplayKeyField();s=f.find(l.arrayFromList(g.getQueryModel().getDimensionByName(D.Dimensions[r].TechName).getAllStructureMembers()),function(e){var t=e.getFieldValue(c);var r=t?t.getString():e.getName();return r===n});if(!s){throw new Error("Member "+n+" not found in structure: "+r)}}var d;function y(e){d=e}var v=new Promise(y);var N=p.DataCellDialogDragonflyEntryPoint.createEntryPoint(g);N.setI18nProvider(m,null);N.openDataCellPropertiesDialog({onDataCellOk:function(){var e=d;d=null;return e(true)},onDataCellClose:function(){if(d){d(false)}N.close()}},g,o.getName(),s?s.getName():null);return v};D.openDimDialog=function(e){return new Promise(function(t){var r=p.ProgramRunner.createRunner(s.getProcess(),p.OuDimensionDialog2.DEFAULT_PROGRAM_NAME);r.setObjectArgument(p.DfOuDialogProgram.PARAM_QUERY_MANAGER,g);r.setArgument(p.OuDimensionDialog2.PARAM_DIMENSION_NAME,D.Dimensions[e].TechName);r.setObjectArgument(p.DfOuDialogProgram.PARAM_OK_PROCEDURE,{execute:function(){t(true)}});r.setObjectArgument(p.DfOuDialogProgram.PARAM_CANCEL_PROCEDURE,{execute:function(){t(false)}});return r.runProgram(null)})};D.setResultVisibility=function(e,t){S.getDimensionByName(D.Dimensions[e].TechName).setResultVisibility(p.ResultVisibility[t]);return D.getResultSet()};D.setDimensionDisplay=function(e,t){var r=S.getDimensionByName(D.Dimensions[e].TechName);var n=r.getDisplayKeyField()||r.getKeyField();var i=r.getTextField();var a=r.getResultSetFields();var s=f.filter(l.arrayFromList(a).map(function(e){return e}),function(e){return e!==r.getKeyField()&&e!==r.getTextField()&&e!==r.getDisplayKeyField()});a.clear();switch(t){case o.Key:a.add(n);break;case o.Text:a.add(i);break;case o.KeyText:a.add(n);a.add(i);break;case o.TextKey:a.add(i);a.add(n);break}f.forEach(s,function(e){a.add(e)});return D.getResultSet()};D.isVariableInputEnabled=function(e){var t=T[e];if(!t){return false}var r=S.getVariable(t);return!!r&&r.isInputEnabled&&r.isInputEnabled()};D.hasVariableValueHelp=function(e){var t=S.getVariable(e);return!!t&&t.supportsValueHelp&&t.supportsValueHelp()};function M(e,t,r){if(t!=null&&r!=null){e.addSupplementValue(t.getName(),r)}}function C(e,t,r){var n=e.getKeyField();var i=e.getDisplayKeyField()!==n?e.getDisplayKeyField():null;var a=e.getTextField();t.addSupplementField(i);t.addSupplementField(a);for(var o=0;o<r.size();o++){var s=r.get(o);var u=t.addNewCartesianElement();u.setComparisonOperator(p.ComparisonOperator.EQUAL);u.setField(n);var l=u.getLow();l.setValue(p.XValueUtil.getValueFromString(s.getKey(),n.getValueType()));M(l,i,s.getDisplayKey());M(l,a,s.getText())}}function E(e){var t=T[e];if(!t){return false}return S.getVariable(t)}D.applySelectionToVariable=function(e,t){var r=function(e){if(!e){return}if(e.getVariableType().isTypeOf(p.VariableType.DIMENSION_MEMBER_VARIABLE)){var r=e.getDimension();var n=e.getMemberFilter();n.clear();C(r,n,t)}else{if(!t.isEmpty()){e.setValueByStringExt(t.get(0).getKey(),true)}}};return new Promise(function(t,r){var n=E(e);if(!n||!n.isInputEnabled()){t(null)}if(n&&n.isInputEnabled()){if(g.isReinitNeeded()){g.reInitVariablesAfterSubmit(p.SyncType.NON_BLOCKING,function(e){return e.hasErrors()?r(u.reject(e.getErrors())):t(n)})}else{t(n)}}else{r(new Error("Variable is not input enabled"))}}).then(r)};D.openVariableSelector=function(e){var t=E(e);if(!(t&&t.supportsValueHelp&&t.supportsValueHelp())){throw new Error("No Value help for variable "+e)}if(g.isReinitNeeded()){g.reInitVariablesAfterSubmit(p.SyncType.BLOCKING,null,null)}var r=p.FdEntryPoint.createEntryPoint(s,m.getText("SELECTOR",[t.getText()]));r.setI18nProvider(m,null);var n=r.getConfiguration();n.setAlwaysShowSelectionContainer(true);n.setMultiSelection(t.supportsMultipleValues());n.setDetermineSelectionFromContext(true);var i;function a(e){i=e}r.openWithVariable(t,{onFilterDialogOk:function(e){i(e)},onFilterDialogCancel:function(){i(null)}});var o=new Promise(a);return o.then(function(e){if(!e){return false}return e}).then(function(t){if(t){return D.applySelectionToVariable(e,t).then(function(){w();return t})}return t})};D.openCurrencyTranslationDialog=function(){return new Promise(function(e){var t=p.ProgramRunner.createRunner(s.getProcess(),p.OuCurrencyConversionDialog.DEFAULT_PROGRAM_NAME);t.setObjectArgument(p.DfOuDialogProgram.PARAM_QUERY_MANAGER,g);t.setObjectArgument(p.DfOuDialogProgram.PARAM_OK_PROCEDURE,{execute:function(){e(true)}});t.setObjectArgument(p.DfOuDialogProgram.PARAM_CANCEL_PROCEDURE,{execute:function(){e(false)}});return t.runProgram(null)})};D.getFilterOfDim=function(e){var t=S.getDimensionByName(D.Dimensions[e].TechName);function r(e){var r=t.getKeyField();var n=t.getDisplayKeyField()!==r?t.getDisplayKeyField():null;var i=t.getTextField();var a=e.getLow();var o=null;if(n!=null){o=a.getSupplementValueString(n.getName())}if(!o&&i){o=a.getSupplementValueString(i.getName())}return o}return f.map(l.arrayFromList(S.getFilter().getDynamicFilter().getCartesianListByField(t.getKeyField())),function(e){return{ComparisonOperator:y(e.getComparisonOperator()),Text:r(e),Low:e.getLow().getString(),High:e.getHigh().getString(),IsExcluding:e.getSetSign()===p.SetSign.EXCLUDING}})};D.openSelector=function(e){var t=S.getDimensionByName(D.Dimensions[e].TechName);if(!S.getFilter().getDynamicFilter().isCartesianProduct()){throw new Error("Filter to complex")}var r;function n(e){r=e}return Promise.resolve(null).then(function(){var e=p.FdEntryPoint.createEntryPoint(s,m.getText("SELECTOR",[t.getText()]));var i=e.getConfiguration();i.setMultiSelection(true);i.setDetermineSelectionFromContext(true);e.setI18nProvider(m,null);e.openWithDimension(t,{onFilterDialogOk:function(e){r(e)},onFilterDialogCancel:function(){r(false)}});var a=new Promise(n);return a.then(function(e){if(!e){return false}var r=t.getFilter();if(r!=null){r.clear()}else{var n=t.getQueryModel().getFilter().getDynamicFilter();r=n.getCartesianListWithDefault(t)}C(t,r,e);return true})})};D.setAxesLayout=function(e){f.forEach(f.map(D.Dimensions,"Name"),function(e){S.getAxis(p.AxisType.FREE).add(S.getDimensionByName(D.Dimensions[e].TechName))});f.forEach(e.rows,function(e){A(p.AxisType.ROWS,e,false)});f.forEach(e.columns,function(e){A(p.AxisType.COLUMNS,e,false)});return D};D.removeDrilldown=function(e){S.getAxis(p.AxisType.FREE).add(S.getDimensionByName(D.Dimensions[e].TechName));I();return D.getResultSet()};D.drilldown=function(e,t){var r=S;if(e){var n=r.getDimensionByName(D.Dimensions[e].TechName);var i=r.getAxesManager().getRowsAxis().getDimensionCount()?n.getAxis():r.getAxesManager().getRowsAxis();var a=!i.getDimensionCount()?0:n.getDimension().getAxis().getDimensionIndex(n.getName())+1;i.insert(a,r.getDimensionByName(D.Dimensions[t].TechName))}else{r.getAxesManager().getRowsAxis().insert(r.getAxesManager().getRowsAxis().getDimensionCount(),r.getDimensionByName(D.Dimensions[t].TechName))}I();return D.getResultSet()};D.moveUp=function(e){var t=S;var r=t.getDimensionByName(D.Dimensions[e].TechName);var n=r.getAxis();var i=n.getDimensionIndex(r.getName())-1;n.insert(i,r);I();return D};D.moveDown=function(e){var t=S;var r=t.getDimensionByName(D.Dimensions[e].TechName);var n=r.getAxis();var i=n.getDimensionIndex(r.getName())+1;n.insert(i,r);I();return D};D.setDisplayHierarchy=function(e,t,r,n){var i=S;var a=i.getDimensionByName(D.Dimensions[e].TechName);if(r){a.setHierarchyName(r);if(n){a.setHierarchyVersion(n)}}a.setHierarchyActive(t);I();return D};D.getScalingFactor=function(e,t){var r=D.Dimensions.MeasureStructure;if(!r){throw new Error("No measure Structure")}var n=t?D.Dimensions.NonMeasureStructure:null;var i=r.TechName;var a=l.arrayFromList(S.getDimensionByName(i).getAllStructureMembers());var o=S.getDimensionByName(i).getDisplayKeyField();var s=function(){var t=f.find(a,function(t){var r=t.getFieldValue(o);var n=r?r.getString():t.getName();return n===e});if(!t){throw new Error("Member "+e+" not found in structure: "+i)}return t}();if(!n){return s.getNumericShift()?-1*s.getNumericShift().getInteger():0}else{var u=n.TechName;var c=l.arrayFromList(S.getDimensionByName(u).getAllStructureMembers());var m=S.getDimensionByName(u).getDisplayKeyField();var p=function(){var r=f.find(c,function(e){var r=e.getFieldValue(m);var n=r?r.getString():e.getName();return n===t});if(!r){throw new Error("Member "+e+" not found in structure: "+i)}return r}();var d=l.arrayFromIter(g.getQueryModel().getQueryDataCells().getIterator());var y=f.find(d,function(e){return e.hasMemberReference(s)&&e.hasMemberReference(p)});if(!y){throw new Error("Invalid Query Cell")}return y.getScalingFactor()}};D.setScalingFactor=function(e,t,r){var n=D.Dimensions.MeasureStructure;if(!n){throw new Error("No measure Structure")}var i=r?D.Dimensions.NonMeasureStructure:null;var a=n.TechName;var o=l.arrayFromList(S.getDimensionByName(a).getAllStructureMembers());var s=S.getDimensionByName(a).getDisplayKeyField();var u=function(){var e=f.find(o,function(e){var r=e.getFieldValue(s);var n=r?r.getString():e.getName();return n===t});if(!e){throw new Error("Member "+t+" not found in structure: "+a)}return e}();if(!i){u.setNumericShift(-1*e);return D}else{var c=i.TechName;var m=l.arrayFromList(S.getDimensionByName(c).getAllStructureMembers());s=S.getDimensionByName(c).getDisplayKeyField();var p=function(){var e=f.find(m,function(e){var t=e.getFieldValue(s);var n=t?t.getString():e.getName();return n===r});if(!e){throw new Error("Member "+r+" not found in structure: "+c)}return e}();var d=l.arrayFromIter(g.getQueryModel().getQueryDataCells().getIterator());d=f.filter(d,function(e){return e.hasMemberReference(u)&&e.hasMemberReference(p)});if(!d||d.length<1){throw new Error("Invalid Query Cell")}return f.forEach(d,function(t){t.setScalingFactor(e)})}};D.setDecimalPlaces=function(e,t,r){var n=D.Dimensions.MeasureStructure;if(!n){throw new Error("No measure Structure")}var i=r?D.Dimensions.NonMeasureStructure:null;var a=n.TechName;var o=l.arrayFromList(S.getDimensionByName(a).getAllStructureMembers());var s=S.getDimensionByName(a).getDisplayKeyField();var u=function(){var e=f.find(o,function(e){var r=e.getFieldValue(s);var n=r?r.getString():e.getName();return n===t});if(!e){throw new Error("Member "+t+" not found in structure: "+a)}return e}();if(!i){u.setNumericScale(e);return D}else{var c=i.TechName;var m=l.arrayFromList(S.getDimensionByName(c).getAllStructureMembers());s=S.getDimensionByName(c).getDisplayKeyField();var p=function(){var e=f.find(m,function(e){var t=e.getFieldValue(s);var n=t?t.getString():e.getName();return n===r});if(!e){throw new Error("Member "+r+" not found in structure: "+c)}return e}();var d=l.arrayFromIter(g.getQueryModel().getQueryDataCells().getIterator());d=f.filter(d,function(e){return e.hasMemberReference(u)&&e.hasMemberReference(p)});if(!d||d.length<1){throw new Error("Invalid Query Cell")}return f.forEach(d,function(t){t.setDecimalPlaces(e)})}};D.getDecimalPlaces=function(e,t){var r=D.Dimensions.MeasureStructure;if(!r){throw new Error("No measure Structure")}var n=t?D.Dimensions.NonMeasureStructure:null;var i=r.TechName;var a=l.arrayFromList(S.getDimensionByName(i).getAllStructureMembers());var o=S.getDimensionByName(i).getDisplayKeyField();var s=function(){var t=f.find(a,function(t){var r=t.getFieldValue(o);var n=r?r.getString():t.getName();return n===e});if(!t){throw new Error("Member "+e+" not found in measureDim: "+i)}return t}();if(!n){return s.getNumericScale()}else{var u=n.TechName;var c=l.arrayFromList(S.getDimensionByName(u).getAllStructureMembers());var m=S.getDimensionByName(u).getDisplayKeyField();var p=function(){var e=f.find(c,function(e){var r=e.getFieldValue(m);var n=r?r.getString():e.getName();return n===t});if(!e){throw new Error("Member "+t+" not found in measureDim: "+u)}return e}();var d=l.arrayFromIter(g.getQueryModel().getQueryDataCells().getIterator());var y=f.find(d,function(e){return e.hasMemberReference(s)&&e.hasMemberReference(p)});if(!y){throw new Error("Invalid Query Cell")}return y.getDecimalPlaces()}};D.setFilter=function(e,t){var r=D.Dimensions[e];var n=[];if(typeof t==="string"){n.push(t)}else{n=t}p.QFilterUtil.clearSelectionsInContainerByDimension(D.Dimensions[e].TechName,S.getFilter().getDynamicFilter());var i=D.Dimensions[e].TechName;var a=S.getDimensionByName(i);var o=r.IsStructure?l.arrayFromList(a.getAllStructureMembers()):[];var s=r.IsStructure?a.getDisplayKeyField():null;f.forEach(n,function(e){var t=r.IsStructure?function(){var t=f.find(o,function(t){var r=t.getFieldValue(s);var n=r?r.getString():t.getName();return n===e});if(!t){throw new Error("Member "+e+" not found in structure: "+i)}return t.getName()}():e;S.getFilter().getDynamicFilter().addSingleMemberFilterByName(i,t,p.ComparisonOperator.EQUAL)});I();return D};D.removeFilter=function(e){p.QFilterUtil.clearSelectionsInContainerByDimension(D.Dimensions[e].TechName,S.getFilter().getDynamicFilter());I();return D};D.sort=function(e,t,r,n){var i=S.getDimensionByName(D.Dimensions[e].TechName);if(D.Dimensions[e].IsStructure){var a=g.getConvenienceCommands();a.clearSort(null,null);a.sortByMeasure(f.find(D.Dimensions[e].Members,function(e){return e.Name===n}).TechName,p.XSortDirection[t])}else{i.getResultSetSorting().setDirection(p.XSortDirection[t]);if(r){i.getResultSetSorting().setSortType(p.SortType[r])}}return D};function A(e,t,r){var n=r===undefined||r;var i=S;var a=D.Dimensions[t].TechName;var o=i.getQueryModel().getDimensionByName(a);i.getAxis(e).add(o);var s=c.getFields(o);var u=o.getResultSetFields();var l=s.oTextField;if(l&&!u.contains(l)){u.add(l);l.setObtainability(p.ObtainabilityType.USER_INTERFACE)}var g=s.oDisplayKeyField;if(!u.contains(g)){u.add(g);g.setObtainability(p.ObtainabilityType.USER_INTERFACE)}if(n){I()}}D.toRows=function(e){A(p.AxisType.ROWS,e);return D};D.toColumns=function(e){A(p.AxisType.COLUMNS,e);return D};D.drill=function(e,t,r){var n=S.getDimensionByName(D.Dimensions[e].TechName);var i=N.getAxis(n.getAxisType()).getTupleAt(t).getTupleElementByDimension(n);i.setNextDrillState(i.getDrillState()!==p.DrillState.COLLAPSED?p.DrillState.COLLAPSED:p.DrillState.EXPANDED);return D.getResultSet(r)};D.submitVariables=function(){return u.syncActionToPromise(g.submitVariables,g,[]).then(function(t){b();if(t&&t.getMessages().length){e.addMessages(l.arrayFromList(t.getMessages()).map(function(e){var t=e.getSeverity().getName();if(t==="Info"){t="Information"}return{Text:e.getText(),Severity:t,Code:e.getCode(),MessageClass:e.getMessageClass(),LongTextUri:e.getMessageClass()?["/sap/opu/odata/iwbep/message_text;o=LOCAL/T100_longtexts(MSGID='",encodeURIComponent(e.getMessageClass()),"',MSGNO='",encodeURIComponent(e.getCode()),",',MESSAGE_V1='',MESSAGE_V2='',MESSAGE_V3='',MESSAGE_V4='')/$value"].join(""):null}}))}}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);if(!t.getMessages){throw t}D.Grid=null})};D.getResultSet=function(t){if(!t){D.setOffsetCol(0);D.setOffsetRow(0)}if(g.hasChangedCells()){g.transferNewValues()}g.setOffsetColumns(D.virtualOffsetCol);g.setOffsetRows(D.virtualOffsetRow);g.setMaxRows(e.getLimit().RowLimit);g.setMaxColumns(e.getLimit().ColLimit);return F().then(function(){return e.propagateVariableGroupValues(D.Name)}).then(function(){e.fireRequestSent({infoObject:D.Name});return u.syncActionToPromise(g.processQueryExecution,g,[]).then(function(){return D}).catch(function(t){if(!t.getMessages){throw t}e.fireRequestFailed({infoObject:D.Name});return D})})};D.getRRITargets=function(e,t){var r=g.getRriTargetManager();if(!r){return Promise.resolve([])}r.setResultSetContext(e,t);var n,i;function a(e,t){n=e;i=t}r.processRriTargetResolution(p.SyncType.NON_BLOCKING,{onRriTargetResolution:function(e){if(e.hasErrors()){i(e.getMessages())}else{var t=sap.ushell?sap.ushell.Container.getService("URLParsing"):{isIntentUrl:f.constant(false)};n(f.filter(e.getData().getListFromImplementation().map(function(e){return e.getParameters().getMapFromImplementation()}),function(e){return t.isIntentUrl(e.URL)||!!e.URL.match(/#/)}).map(function(e){e.URL=e.URL.split("#")[1];return e}))}}});return new Promise(a)};D.synchronize=function(t){e.clearMessages();return D.getResultSet(t)};D.getColumnSelection=function(e){return c.tupleToObject(N.getColumnsAxis().getTupleAt(e))};D.getRowSelection=function(e){return c.tupleToObject(N.getRowsAxis().getTupleAt(e))};D.getSelection=function(e,t){return f.assign(e>=0&&e<N.getRowsAxis().getTuplesCount()?c.tupleToObject(N.getRowsAxis().getTupleAt(e)):{},t>=0&&t<N.getColumnsAxis().getTuplesCount()?c.tupleToObject(N.getColumnsAxis().getTupleAt(t)):{})};D.readHierarchy=function(e,t){var r=g.getValueHelpProvider();var n=S.getDimensionByName(D.Dimensions[e].TechName);var i=n.getInitialDrillLevel();n.setSelectorInitialDrillLevel(t);var a=new Promise(function(e,t){r.processValueHelp(n,p.SyncType.NON_BLOCKING,{onValuehelpExecuted:function(r){return r.hasErrors()?t(u.reject(r.getErrors())):e(r.getData())}},null,null)});return a.then(function(e){function t(e){if(!e){return{}}var r=e.getChildren();return{Name:e.getName(),Text:e.getDimensionMember().getText()||e.getDimensionMember(e.getDimension().getHierarchyDisplayKeyField()).getValue().getString(),hierNodes:r?f.map(r.getListFromImplementation(),t):null}}n.setSelectorInitialDrillLevel(i);var r=f.filter(e.getListFromImplementation(),function(e){return!e.getParentNode()});return r.length===1?t(r[0]):{Name:"$Root",Text:m.getText("ARTIFICIAL_ROOT"),hierNodes:f.map(r,t)}})};function F(){if(v){return v}v=new Promise(function(e,t){g.reInitVariablesAfterSubmit(p.SyncType.NON_BLOCKING,{onVariableProcessorExecuted:function(r){return r.hasErrors()?t(u.reject(r.getErrors())):e()}})});return v.then(function(){v=null})}D.setVariableValue=function(e,t){var r=E(e);if(!r&&!r.isInputEnabled()){return Promise.reject(new Error("Variable is not input enabled"))}return F().then(function(){return new Promise(function(e){r.clear();if(t){var n=r.getMemberFilter?r.getMemberFilter():null;f.forEach(t,function(e){if(n){var t=n.addNewCartesianElement();var i=p.XValueAccess.createWithType(r.getValueType());i.parseString(e.Low);t.getLow().setValue(i.getValue());if(e.High){i=p.XValueAccess.createWithType(r.getValueType());i.parseString(e.High);t.getHigh().setValue(i.getValue())}t.setComparisonOperator(p.ComparisonOperator[e.Comparison]);var a=p.SetSign[e.IsExcluding]||p.SetSign[e.IsExcluding?"EXCLUDING":"INCLUDING"];t.setSetSign(a);var o=r.getDimension().getFirstFieldByType(p.PresentationType.KEY_NOT_COMPOUND);o=o||r.getDimension().getKeyField(p.PresentationType.KEY);if(o){t.setField(o)}}else{r.setValueByStringExt(e.Low,true)}})}w();e()})})};function x(e,t,r){var n=e.getDimensionMember();var i={Key:n.getName(),Text:n.getText()};if(t){var a=e.getChildren();if(a&&a.hasElements()){var o=l.arrayFromList(a).map(function(e){return x(e,t,r)}).filter(function(e){return e!==null});if(o.length!==0){i.Children=o}}}if(r&&!i.Children){if(i.Key!==r&&i.Text!==r){return null}}return i}D.searchVariableValues=function(e,t,r,n,i){if(n===undefined){n=true}if(i===undefined){i=true}var a=E(e);if(!a){return Promise.reject(new Error("Variable "+e+" is not known"))}var o=p.XList.create();var s=p.XList.create();var u=a.getDimension();var l=u.getTextField();if(l){s.add(l);if(n){o.add(l)}}if(u.getDisplayKeyField()&&i){o.add(u.getDisplayKeyField())}return F().then(function(){return new Promise(function(e,n){p.OlapUiValueHelpVariable.create(a).processSearch(t,o,s,20,true,p.OlapUiReadMode.BOOKED,{onValuehelpExecuted:function(i){if(i.hasErrors()){n(R(i))}else{var o=a.getVariableType();var s=o!=null&&o.isTypeOf(p.VariableType.HIERARCHY_NODE_VARIABLE)?a.getHierarchyName():null;var u=i.getData().getIterator();var l=[];while(u.hasNext()){var g=u.next();if(!s||g.getDisplayLevel()===0){var c=x(g,s,!r?t:null);if(c){l.push(c)}}}e(l)}}})})})};function R(e){return l.arrayFromList(e.getMessages()).map(function(e){var t=e.getSeverity().getName();if(t==="Info"){t="Information"}return{Text:e.getText(),Severity:t,Code:e.getCode(),MessageClass:e.getMessageClass(),LongTextUri:e.getMessageClass()?["/sap/opu/odata/iwbep/message_text;o=LOCAL/T100_longtexts(MSGID='",encodeURIComponent(e.getMessageClass()),"',MSGNO='",encodeURIComponent(e.getCode()),",',MESSAGE_V1='',MESSAGE_V2='',MESSAGE_V3='',MESSAGE_V4='')/$value"].join(""):null}})}D._addMessagesToModel=function(t){if(t&&t.getMessages().length){e.addMessages(R(t))}};D.createDocumentId=function(t,r){var n=g.getResultsetContainer().getDocumentIdManager();var i=p.RsCellIndexInfo.create();i.initialize(t,r);return u.syncActionToPromise(n.createCellDocumentId,n,i).then(function(e){D._addMessagesToModel(e);return e.getData().getCellDocumentId()}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})};D.getDocumentId=function(t,r){var n=g.getResultsetContainer().getDocumentIdManager();var i=p.RsCellIndexInfo.create();i.initialize(t,r);return u.syncActionToPromise(n.getCellDocumentId,n,i).then(function(e){D._addMessagesToModel(e);return e.getData().getCellDocumentId()}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})};D.deleteDocumentId=function(t,r){var n=g.getResultsetContainer().getDocumentIdManager();var i=p.RsCellIndexInfo.create();i.initialize(t,r);return u.syncActionToPromise(n.deleteCellDocumentId,n,i).then(function(e){D._addMessagesToModel(e);return e.getData().isCellDocumentIdDeleted()}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})};D._extractProperties=function(e){if(e){var t=e.getContent();var r=e.getTimeStamp();return{version:e.getVersion(),owner:e.getOwner(),timestamp:r?r.toString():null,content:t?t.getStringContentExt():null}}return null};D.createDocument=function(e,t){if(!e){throw new Error("Cannot create document without document ID")}try{return D.updateDocument(e,t)}catch(e){return Promise.reject(e)}};D.retrieveDocument=function(t,r){if(!t){throw new Error("Cannot retrieve document without document ID")}var n=D.getQueryManager().getQueryModel().getDocumentsInfo();if(n){var i=n.getSupportsDocuments();if(i&&i.getName()!=="None"){var a=n.getOrCreateDocumentsStoreService(false);a.addToFetchList(t);return u.syncActionToPromise(a.performRequests,a,[null,null]).then(function(){var e=[];if(!r){var n=a.getDocumentVersionsForFile(t);if(n){n.forEach(function(t){var r=D._extractProperties(t);if(r){e.push(r)}})}}else{var i=a.getDocumentVersionForFileAndVersion(t,r);var o=D._extractProperties(i);if(o){e.push(o)}}return Promise.resolve({documentId:t,versions:e})}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})}else{throw new Error("No document support. Unable to retrieve document.")}}};D.retrieveMultipleDocuments=function(t){if(!t){throw new Error("Cannot retrieve documents without document IDs array")}else if(!Array.isArray(t)){t=[t]}var r=D.getQueryManager().getQueryModel().getDocumentsInfo();if(r){var n=r.getSupportsDocuments();if(n&&n.getName()!=="None"){var i=r.getOrCreateDocumentsStoreService(false);t.forEach(function(e){i.addToFetchList(e)});return u.syncActionToPromise(i.performRequests,i,[null,null]).then(function(){var e=[];t.forEach(function(t){var r=[];var n=i.getDocumentVersionsForFile(t);if(n){n.forEach(function(e){var t=D._extractProperties(e);if(t){r.push(t)}})}e.push({documentId:t,versions:r})});return Promise.resolve(e)}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})}else{throw new Error("No document support. Unable to retrieve documents.")}}};D.updateDocument=function(t,r){if(!t){throw new Error("Cannot update document without document ID")}var n=D.getQueryManager().getQueryModel().getDocumentsInfo();if(n){var i=n.getSupportsDocuments();if(i&&i.getName()==="ReadWrite"){var a=n.getOrCreateDocumentsStoreService(false);a.addToPutList(t,p.XContent.createStringContent(p.ContentType.TEXT_PLAIN,r));a.addToFetchList(t);return u.syncActionToPromise(a.performRequests,a,[null,null]).then(function(){var e=a.getContentForFile(t);return Promise.resolve(e?e.getStringContentExt()===r:e===r)}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})}else{throw new Error("No 'ReadWrite' document support. Unable to update document.")}}};D.deleteDocument=function(t){if(!t){throw new Error("Cannot delete document without document ID")}var r=D.getQueryManager().getQueryModel().getDocumentsInfo();if(r){var n=r.getSupportsDocuments();if(n&&n.getName()==="ReadWrite"){var i=r.getOrCreateDocumentsStoreService(false);i.addToDeleteList(t);return u.syncActionToPromise(i.performRequests,i,[null,null]).then(function(){i.evictAllDocuments();return Promise.resolve(true)}).catch(function(t){e.addMessages(t.getMessages?t.getMessages():[]);return Promise.reject(t)})}else{throw new Error("No 'ReadWrite' document support. Unable to delete document.")}}};D.deserialize=function(e){return F().then(function(){S.deserializeExt(p.QModelFormat.INA_REPOSITORY,e);b()})};D.serialize=function(){return S.serializeToContentExt(p.QModelFormat.INA_REPOSITORY,null).getString()};D.getResultRequest=function(){return g.getResultsetContainer().getResultSetManager().getDataRequest().convertToNative()};D.getQueryView=function(){return S.serializeToElement(p.QModelFormat.INA_DATA).convertToNative()};D.getQueryManager=function(){return g};D.callUpdateDimensionData=function(){I()};D.addCondition=function(e){return Promise.resolve(null).then(function(){var t=["COND_",Date.now()].join("");var r=S.getConditionManager().addNewCondition(t);r.setDescription(e.Description);r.setText(e.Description);var n=S.getDimensionByName(D.Dimensions[e.Structure1Key].TechName);var i=f.find(D.Dimensions[e.Structure1Key].Members,function(t){return e.measure1===t.Name}).TechName;if(!i){throw new Error("Invalid measure")}r.setDimensionEvaluationType(p.ConditionDimensionEvaluationType.ALL_IN_DRILL_DOWN);var a=r.createThreshold();var o=n.getStructureMember(i);if(!o){throw new Error("Invalid measure")}a.addMeasureCoordinate(o);a.setComparisonOperator(p.ConditionComparisonOperator[e.operator]);a.getLow().setString(e.Value);return D})};D.resetToDefault=function(){return F().then(function(){g.getConvenienceCommands().resetToDefault();b()})};D.logoff=function(){return new Promise(function(e){g.processShutdown(p.SyncType.NON_BLOCKING,{onQueryManagerRelease:function(t,r){p.XObjectExt.release(r);e()}})})};function w(){var e=f.map(l.arrayFromList(S.getVariables()),L).filter(function(e){return e.InputEnabled});D.Variables=f.reduce(e,function(e,t){e[t.Name]=t;return e},D.Variables);T=f.reduce(l.arrayFromIter(S.getVariables().getIterator()),function(e,t){e[t.getNameExternal()||t.getName()]=t.getName();return e},T)}function I(){function e(e){var t=S.getSortingManager();if(t.supportsDimensionSorting(e,null)){return e.getResultSetSorting().getDirection().getName()}else{return null}}D.Dimensions=f.reduce(l.arrayFromList(S.getDimensions()),function(t,r){var n=r.getAxisType();if(n!=p.AxisType.COLUMNS&&n!=p.AxisType.ROWS&&n!=p.AxisType.FREE){return t}var i=r.getAxis();if(r.getDimensionType().getName()===a.MeasureStructure){r.getExternalName=f.constant("MeasureStructure")}else if(r.getDimensionType().getName()===a.SecondaryStructure){r.getExternalName=f.constant("NonMeasureStructure")}if(!r.getExternalName()||r.getExternalName().trim()===""){r.getExternalName=r.getName}t[r.getExternalName()]={Name:r.getExternalName(),TechName:r.getName(),Description:r.getText(),Axis:i.getName(),Type:r.getDimensionType().getName(),HierarchyActive:r.isHierarchyActive(),HasFilter:!!r.getFilter(),SortDirection:e(r),Position:i.getDimensionIndex(r.getName()),LastPosition:i.getDimensionCount()-1,IsStructure:r.getDimensionType().getName()===a.MeasureStructure||r.getDimensionType().getName()===a.SecondaryStructure,IsMeasureStructure:r.getDimensionType().getName()===a.MeasureStructure||r.getDimensionType().getName()===a.SecondaryStructure};if(r.getDimensionType().getName()===a.MeasureStructure||r.getDimensionType().getName()===a.SecondaryStructure){var o=r.getDisplayKeyField();t[r.getExternalName()].Members=f.map(l.arrayFromList(r.getAllStructureMembers()),function(e){return{Name:e.getFieldValue(r.getDisplayKeyField())?e.getFieldValue(o).getValue().getString():e.getName(),TechName:e.getName(),Description:e.getText()}})}return t},{});D.FreeAxis={};D.FreeAxis.Dimensions=f.sortBy(f.filter(D.Dimensions,{Axis:n.Free}),"Description");D.ColumnsAxis={};D.ColumnsAxis.Dimensions=f.sortBy(f.filter(D.Dimensions,{Axis:n.Columns}),"Position");D.RowsAxis={};D.RowsAxis.Dimensions=f.sortBy(f.filter(D.Dimensions,{Axis:n.Rows}),"Position");D.UsedDimensions=f.filter(f.concat(D.RowsAxis.Dimensions,D.ColumnsAxis.Dimensions),function(e){return!e.IsMeasureStructure})}function b(e){O();w();D.HasVariables=S.getVariableContainer().hasVariables();I();var t=S.getMeasureDimension();var r=t?t.getExternalName():null;var n=t?D.Dimensions[r]:null;var i=t&&n.Members||[];if(e){D.FlatResultSet=e.FlatResultSet}else{D.Measures=i}D.Conditions=f.map(S.getConditionManager()?l.arrayFromList(g.getQueryModel().getConditionManager()):[],function(e){return{Name:e.getName(),Description:e.getText(),StatusText:m.getText(e.isActive()?"ACTIVE":"INACTIVE"),active:e.isActive()}});D.Exceptions=f.map(g.getQueryModel().getExceptionManager()?l.arrayFromList(g.getQueryModel().getExceptionManager()):[],function(e){return{Name:e.getName(),Description:e.getText(),StatusText:m.getText(e.isActive()?"ACTIVE":"INACTIVE"),active:e.isActive()}})}function O(){var e={};D.QueryInfo=e;e.QueryTitle=S.getText()||S.getDataSource().getName();e.QueryName=S.getDataSource().getName();e.QueryType=S.getDataSource().getType().getName();e.SystemName=g.getSystemDescription().getName();if(S.getCubeInfo()){e.CreatedBy=S.getCubeInfo().getCreatedBy();e.CreatedOn=function(){var e=S.getCubeInfo().getCreatedOn();return e?new Date([e.getYear(),e.getMonthOfYear(),e.getDayOfMonth()].join("-")):new Date}();e.CreatedOnText=e.QueryDueDateText=t.getDateInstance({style:"medium"}).format(e.CreatedOn);e.QueryDueDate=function(){var e=S.getCubeInfo().getDueDate();return e?new Date([e.getYear(),e.getMonthOfYear(),e.getDayOfMonth()].join("-")):new Date}();e.QueryDueDateText=t.getDateInstance({style:"medium"}).format(e.QueryDueDate);if(S.getResultAlignment()){e.ResultAlignmentRows=S.getResultAlignment().getName();e.ResultAlignmentColumns=S.getResultAlignment().getName()}e.LastUpdated=function(){var e=S.getCubeInfo().getUpdatedOn();return e?new Date([e.getYear(),e.getMonthOfYear(),e.getDayOfMonth()].join("-")):new Date}();e.LastUpdatedBy=S.getCubeInfo().getUpdatedBy();e.LastUpdatedText=t.getDateInstance({style:"medium"}).format(e.LastUpdated)}}function V(e){var t=e.getDimension();var r=t&&t.getTextField()&&e.getLow().getSupplementValueString(e.getDimension().getTextField().getName())?e.getLow().getSupplementValueString(e.getDimension().getTextField().getName()):e.getLow().getString();var n=t&&t.getTextField()&&e.getHigh().getSupplementValueString(e.getDimension().getTextField().getName())?e.getHigh().getSupplementValueString(e.getDimension().getTextField().getName()):e.getHigh().getString();var i=n?[r,n].join(" - "):r;if(e.getSetSign()===p.SetSign.EXCLUDING){i="!( "+i+")"}return{Low:e.getLow().getString(),High:e.getHigh().getString(),ComparisonOperator:e.getComparisonOperator().getName(),Text:i,IsExcluding:e.getSetSign().getName()}}function L(e){return{Name:e.getNameExternal()||e.getName(),Dimension:e.getDimension&&e.getDimension()&&(e.getDimension().getExternalName()||e.getDimension().getName()),ValueType:e.getValueType().getName(),VariableType:e.getVariableType().getName(),Description:e.getText(),Mandatory:e.isMandatory(),SupportsMultipleValues:e.supportsMultipleValues(),TechName:e.getName(),InputEnabled:e.isInputEnabled(),Position:e.getVariableOrder(),SupportsValueHelp:e.supportsValueHelp&&e.supportsValueHelp(),DataProviderName:d,MemberFilter:e.getMemberFilter?f.map(l.arrayFromList(e.getMemberFilter()),V):function(){var t=e.getValueByString();if(!t){return[]}return[{Low:t,ComparisionOperator:"EQUAL",Text:t,IsExcluding:false}]}()}}};function y(e){switch(e){case p.ComparisonOperator.EQUAL:return"EQ";case p.ComparisonOperator.LESS_THAN:return"LT";case p.ComparisonOperator.LESS_EQUAL:return"LE";case p.ComparisonOperator.GREATER_THAN:return"GT";case p.ComparisonOperator.GREATER_EQUAL:return"GE";case p.ComparisonOperator.BETWEEN:return"BT";case p.ComparisonOperator.NOT_EQUAL:return"NE";default:throw new Error("Invalid Operator: "+e.getName())}}d.prototype.hasVariable=function(){};d.prototype.setAxesLayout=function(){};d.prototype.openCellDialog=function(){};d.prototype.openAxisDialog=function(){};d.prototype.openCurrencyTranslationDialog=function(){};d.prototype.openDimDialog=function(){};d.prototype.openSelector=function(){};d.prototype.setFilter=function(){};d.prototype.removeFilter=function(){};d.prototype.sort=function(){};d.prototype.toRows=function(){};d.prototype.toColumns=function(){};d.prototype.drill=function(){};d.prototype.submitVariables=function(){};d.prototype.getResultSet=function(){};d.prototype.getRRITargets=function(){};d.prototype.addCondition=function(){};d.prototype.moveUp=function(){};d.prototype.moveDown=function(){};d.prototype.setDisplayHierarchy=function(){};d.prototype.getFilterOfDim=function(){};d.prototype.synchronize=function(){};d.prototype.setFormat=function(){};d.prototype.getScalingFactor=function(){};d.prototype.setScalingFactor=function(){};d.prototype.getDecimalPlaces=function(){};d.prototype.setDecimalPlaces=function(){};d.prototype.suppressUnit=function(){};d.prototype.createDocumentId=function(){};d.prototype.getDocumentId=function(){};d.prototype.deleteDocumentId=function(){};d.prototype.createDocument=function(){};d.prototype.retrieveDocument=function(){};d.prototype.retrieveMultipleDocuments=function(){};d.prototype.updateDocument=function(){};d.prototype.deleteDocument=function(){};return d});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/MultiDimModel",["sap/base/Log","sap/ui/model/Model","sap/ui/model/Context","sap/sac/df/types/ValueType","sap/sac/df/olap/SystemLandscape","sap/sac/df/utils/SyncActionHelper","sap/sac/df/utils/ResultSetHelper","sap/sac/df/utils/ListHelper","sap/sac/df/DFKernel","sap/sac/df/olap/OlapListBinding","sap/sac/df/olap/OlapListGridBinding","sap/sac/df/olap/OlapPropertyBinding","sap/sac/df/olap/MultiDimDataProvider","sap/sac/df/utils/ResourceBundle","sap/sac/df/thirdparty/lodash","sap/sac/df/firefly/library"],function(e,a,t,r,n,i,o,s,c,u,l,d,f,p,v,g){"use strict";var m=new RegExp("/","g");var y=c.extend("sap.sac.df.olap.MultiDimModel",{constructor:function(a){var r=this;var o=a||{};o.systemLandscape=o.systemLandscape||n;o.systemType=o.systemType||"BW";o.masterSystem=o.masterSystem||"local"+o.systemType;c.apply(r,[o]);var s=null;var y={};var h={};var S=r.init(o).then(function(){var e=r.getSession();e.setXVersion(g.XVersion.V190_METADATA_CUBE_RESPONSE_SUPPRESS_PROPERTIES);e.deactivateFeatureToggle(g.FeatureToggleOlap.FUSION_SERVICE);g.XStream.of(g.FeatureToggleOlap.getAllFeatureToggles()).forEach(function(a){var t=a.getXVersion();if(t>g.FeatureToggleOlap.FUSION_SERVICE.getXVersion()&&t<=g.XVersion.MAX){e.activateFeatureToggle(a)}});e.activateFeatureToggle(g.FeatureToggleOlap.METADATA_CACHING);g.UiLocalizationCenter.setExternalLocalizationProvider(p);g.UiLocalizationCenter.getCenter().setProductive(true)}).then(function(){s={ColLimit:50,RowLimit:150,DataProvider:{},VariableGroups:{},SemanticStyles:{},Messages:[]};r.checkUpdate()});r.setDataAccessLanguage=function(e){var a=r.getApplication().getSystemLandscape();var t=a.getSystemNames();for(var n=0;n<t.size();n++){a.getSystemDescription(t.get(n)).setLanguage(e)}};r.getLimit=function(){return{RowLimit:s.RowLimit,ColLimit:s.ColLimit}};r.addVariableGroup=function(e,a){s.VariableGroups[e]={Name:e,Rule:a,MergedVariable:null};b(e)};r.addQuery=function(e,a,t,n,o,c){var u=t||this.masterSystemName;return V(u).then(function(){var a=s.DataProvider[e];if(!a)return;return a.logoff()}).then(function(){var e=g.QueryServiceConfig.createWithDataSourceName(r.getApplication(),null,a);e.setMode(g.QueryManagerMode.DEFAULT);e.setProviderType(g.ProviderType.ANALYTICS);e.setSupportsDimensionLazyLoad(true);var t=["$[][][MY_DATA_AREA]/",c||"query",":","[",o?o:"","]","[",o||n?n:"","]","[",a,"]"].join("");e.setDataSourceByName(t);e.setSystemName(u);return i.syncActionToPromise(e.processQueryManagerCreation,e,[])}).then(function(a){s.DataProvider[e]=new f(r,r.getApplication(),a,e);b();r.fireEvent("queryAdded",{dataProviderName:e});return s.DataProvider[e]})};r.setVariableGroupValue=function(e,a){var t=s.VariableGroups[e];var n=t.MergedVariable.DataProviderName;return s.DataProvider[n].setVariableValue(t.MergedVariable.Name,a).then(function(){b(e);return r.checkUpdate()})};r.deserialize=function(e){s.DataProvider=s.DataProvider||{};s.SemanticStyles=e.SemanticStyles||[];return S.then(function(){var a=[];v.forEach(e.DataProvider,function(e,t){var n=s.DataProvider[t];if(!n){var o=g.QueryServiceConfig.createByDefinition(r.getApplication(),null,g.XContent.createStringContent(g.QModelFormat.INA_REPOSITORY,e));a.push(i.syncActionToPromise(o.processQueryManagerCreation,o,[]).then(function(e){s.DataProvider[t]=new f(r,r.getApplication(),e,t)}))}else{a.push(n.deserialize(e))}});return Promise.all(a)}).then(function(){b();return r.checkUpdate()})};r.serialize=function(){return{DataProvider:v.reduce(s.DataProvider,function(e,a){e[a.Name]=a.serialize();return e},{}),SemanticStyles:r.getSemanticStyles()}};r.openVariableSelector=function(e){return Promise.resolve(null).then(function(){var a=s.VariableGroups[e];if(!a){throw new Error("Invalid VariableGroup: "+e)}if(!a.MergedVariable){return false}var t=s.DataProvider[a.MergedVariable.DataProviderName];return t.openVariableSelector(a.MergedVariable.Name).then(function(a){if(!a){return false}b(e);r.checkUpdate();return true})})};r.searchVariableValues=function(e,a,t){return Promise.resolve(null).then(function(){var r=s.VariableGroups[e];if(!r){throw new Error("Invalid VariableGroup: "+e)}if(!r.MergedVariable){return false}var n=s.DataProvider[r.MergedVariable.DataProviderName];return n.searchVariableValues(r.MergedVariable.Name,a,t)})};r.logoff=function(){return Promise.all(v.invokeMap(s.DataProvider,"logoff"))};r.synchronize=function(e){var a=e?v.filter(s.DataProvider,function(a){return e.includes(a.Name)}):s.DataProvider;var t=v.invokeMap(a,"getResultSet");return Promise.all(t).then(function(){return r.checkUpdate()})};r.resetModel=function(){var e=[];v.forEach(s.DataProvider,function(a){e.push(a.resetToDefault())});return Promise.all(e).then(function(){b()})};r.getDataProvider=function(e){return s.DataProvider[e]};r.clearMessages=function(e){s.Messages=[];return e?r.checkUpdate():r};r.propagateVariableGroupValues=function(e){var a=[];var t=s.DataProvider[e];v.forEach(s.VariableGroups,function(r){var n=h[r.Name];v.forEach(n,function(n){if(n.DataProviderName===e&&!v.isEqual(r.MergedVariable.MemberFilter,n.MemberFilter)){a.push(t.setVariableValue(n.Name,r.MergedVariable.MemberFilter))}})});return Promise.all(a)};r.getProperty=function(e,a){return P(e,a)};r.setProperty=function(a,t){var n=false;var i=v.filter(a.split("/"),v.identity);try{var o=i.pop();var c=i.join(".");var u=v.get(s,c);if(o!=="vizProperties"||t){if(u){u[o]=t}else{e.warning("Failed to set "+t+" on: "+a)}}r.checkUpdate();n=true}catch(a){e.error(a)}return n};r.setSemanticStyles=function(e){s.SemanticStyles=v.clone(e)};r.getSemanticStyles=function(){return s.SemanticStyles};r.addMessages=function(e){s.Messages=v.map(v.groupBy(v.concat(s.Messages,e),"Text"),function(e){return e[0]});return r.checkUpdate()};r.bindProperty=function(e,a,t){var n=new d(r,e,a,t);y[n.getId()]=n;return n};r.bindList=function(e,a,t,n,i){if(e.match(/^(\/)?dataProvider\/(.)*\/Grid\/renderGrid/)){return new l(r,e,a,t,n,i)}else{return new u(r,e,a,t,n,i)}};function P(e,a){var r=a instanceof t?P(a.getPath()):s;if(e){var n=e.replace(m,".");if(n.startsWith(".")){n=n.replace(".","")}return v.get(r,n)}else{return r}}r.isList=function(e,a){return Array.isArray(P(r.resolve(e,a)))};r.checkUpdate=function(e){v.forEach(y,function(a,t){if(a){a.checkUpdate(e)}else{delete y[t]}},false);return r};r.checkMessages=function(){v.forEach(y,function(e){return e.checkDataState?e.checkDataState():null})};r.addBinding=function(e){y[e.getId()]=e;return r};r.removeBinding=function(e){delete y[e.getId()]};var D;function V(e,a){return S.then(function(){if(D){return D}if(e){return null}var t=g.QDataSource.create();t.setDataArea(a||"MY_DATA_AREA");var n=g.OlapApiModule.SERVICE_TYPE_PLANNING.createServiceConfig(r.getApplication());n.setDataSource(t);n.setSystemName(e||o.masterSystem);return i.syncActionToPromise(n.processServiceCreation,n,[]).then(function(e){D=e.getData();return D})})}r.getPlanningService=function(){return D};var M=S.then(function(){if(o&&o.SemanticStyles){r.setSemanticStyles(o.SemanticStyles)}var e=[];v.forEach(o.DataProvider||[],function(a,t){var n=r.addQuery(t,a.dataSourceName,a.systemName,a.packageName,a.schemaName,a.dataSourceType);e.push(a.synchronize?n.then(function(){return r.getDataProvider(t).synchronize()}):n)});return Promise.all(e)});r.dataLoaded=v.constant(M);r.loaded=r.dataLoaded;r.metadataLoaded=r.dataLoaded;r.annotationsLoaded=r.dataLoaded;r.getMetaModel=v.constant(r);r.attachMetadataFailed=v.constant(null);r.fireMetadataFailed=v.constant(null);r.getODataEntityContainer=v.constant(null);r.getODataEntityType=v.constant(r);r.createBindingContext=v.constant(null);r.getODataEntitySet=v.constant(r);r.attachRequestCompleted(function(e){var a=e.mParameters?e.mParameters.infoObject:undefined;var t=s.DataProvider[a];if(!t){return}else{t.callUpdateDimensionData();r.checkUpdate()}});function b(e){if(!e){v.forEach(s.VariableGroups,function(e){b(e.Name)})}else{h[e]=[];v.forEach(s.DataProvider,function(t){v.forEach(t.Variables,function(r){var n=s.VariableGroups[e];if(n){a(n,r,t.Name)}else{console.error("Group "+e+" not found")}})})}function a(e,a,t){if(e.Rule(a,t)){if(e.MergedVariable&&e.MergedVariable.DataProviderName!==t){if(e.MergedVariable.type!==a.type){throw new Error("Could not add variable '"+a.Name+"' for DataProvider='"+t+"'."+" The type="+a.type+" doesn't match type="+e.MergedVariable.type+" of previously added variables ")}}else{e.MergedVariable=a}h[e.Name].push(a)}}}}});return y});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/OlapListBinding",["sap/base/Log","jquery.sap.global","sap/ui/model/ChangeReason","sap/ui/model/ListBinding","sap/sac/df/olap/calculateId","sap/sac/df/thirdparty/lodash"],function(t,jQuery,n,e,r,i){"use strict";var a=e.extend("sap.sac.df.olap.OlapListBinding",{constructor:function(a,o,u,s,l,c){var p=this;var f=null;var d=[];var g=null;p.oContext=u;var h=null;var v=null;var C=null;var y=null;var x=null;e.apply(p,[a,o,p.oContext,s,l,c]);function w(n,e){var r=n;var u=e;if(!r){r=0}if(!u){u=f}var s=Math.min(r+u,d.length);var l=a.resolve(o,p.oContext);if(l&&!l.endsWith("/")){l+="/"}return i.map(i.range(r,s),function(n){try{return a.getContext(l+d[n])}catch(n){t.error(n)}})}p.setContext=function(t){if(p.oContext!==t){p.oContext=t;if(p.isRelative()){p.update();p._fireChange({reason:n.Context})}}};p.getLength=function(){return f};function L(){return d.length}p.updateIndices=function(){d=i.map(g,function(t,n){return n})};p.sort=function(){throw new Error("OlapListBinding does not support client side sort")};p.applySort=function(){throw new Error("OlapListBinding does not support client side sort")};p.filter=function(){throw new Error("OlapListBinding does not support client side filter")};p.applyFilter=function(){throw new Error("OlapListBinding does not support client side filter")};p.getDistinctValues=function(t){var n={};return i.reduce(g,function(e,r){var i=a.getProperty(t,r);if(!n[i]){n[i]=true;e.push(i)}return e},[])};p.getId=i.constant(r());p.getContexts=function(n,e){var r=e;var a=n;h=a;C=r;if(!a){a=0}if(!r){r=f}var o=w(a,r);var u=null;try{u=i.map(o,function(n){try{return p.getContextData(n)}catch(n){t.error(n)}});if(y&&a<v){delete o.diff}v=a+r;x=o.slice(0);y=u.slice(0)}catch(n){t.warning("OlapListBinding: Cyclic dependency");t.error(n);throw new Error("Cyclic dependeny")}return o};p.getCurrentContexts=function(){return x||[]};p.updateIndices=function(){d=i.map(g,function(t,n){return n})};p.update=function(){var t=a.getProperty(o,p.oContext);if(t){g=jQuery.extend(true,Array.isArray(t)?[]:{},t);p.updateIndices();f=L()}else{g=[];d=[];f=0}};p.checkUpdate=function(t){var e=null;if(p.bSuspended&&!p.bIgnoreSuspend&&!t){return}var r=false;e=a.getProperty(p.sPath,p.oContext);if(!(e&&e.length===0&&!g)&&(e&&(!g||g.length!==e.length))){r=true}if(!jQuery.sap.equal(g,e)){p.update()}var o=w(h,C);if(x){r=x.length!==o.length?true:i.some(y,function(t,n){return p.getContextData(o[n])!==t})}else{r=o&&o.length}if(r||t){p._fireChange({reason:n.Change})}};e.apply(p,arguments)}});return a});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/OlapListGridBinding",["jquery.sap.global","sap/ui/model/ChangeReason","sap/ui/model/Context","sap/ui/model/ListBinding","sap/sac/df/olap/calculateId","sap/sac/df/thirdparty/lodash"],function(jQuery,t,n,e,r,i){"use strict";function o(t){return t instanceof n||typeof t==="undefined"}var a=e.extend("sap.sac.df.olap.OlapListGridBinding",{constructor:function(n,a,s,p,u,d){var f=this;var c=s;var l=[];var g=[];e.apply(f,[n,a,c,p,u,d]);function h(){var t=n.resolve(a,c);var e=n.getProperty(t)||[];if(t&&!jQuery.sap.endsWith(t,"/")){t+="/"}var r=n.getLimit();return i.filter(i.range(e.length),function(t){return e[t].x<=r.ColLimit&&e[t].y<=r.RowLimit}).map(function(e){return n.getContext(t+e)})}f.setContext=function(n){if(!o(n)){throw new Error("Context expected ")}if(c!==n){c=n;if(f.isRelative()){f.update();f._fireChange({reason:t.Context})}}};f.getLength=function(){return h().length};f.sort=function(){throw new Error("OlapListBinding does not support client side sort")};f.applySort=function(){throw new Error("OlapListBinding does not support client side sort")};f.filter=function(){throw new Error("OlapListBinding does not support client side filter")};f.applyFilter=function(){throw new Error("OlapListBinding does not support client side filter")};f.getDistinctValues=function(){throw new Error("Not supported")};f.getId=i.constant(r());f.getContexts=function(){return h()};f.getCurrentContexts=function(){return g||[]};f.update=function(){l=n.getProperty(a,c);g=h()};f.checkUpdate=function(){var e=n.getProperty(f.sPath,f.oContext);var r=h();var o=!(e===l&&g===r);if(o){i.forEach(r,function(t){t.setUpdated(true)});f.update()}if(o){f._fireChange({reason:t.Change})}};e.apply(f,arguments)}});return a});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/OlapModel",["sap/base/Log","sap/sac/df/utils/Utilities","sap/ui/model/Model","sap/ui/model/Context","sap/sac/df/types/ValueType","sap/sac/df/olap/SystemLandscape","sap/sac/df/utils/SyncActionHelper","sap/sac/df/utils/ResultSetHelper","sap/sac/df/utils/ListHelper","sap/sac/df/utils/ApplicationHelper","sap/sac/df/olap/OlapListBinding","sap/sac/df/olap/OlapListGridBinding","sap/sac/df/olap/OlapPropertyBinding","sap/sac/df/olap/DataProvider","sap/sac/df/utils/ResourceBundle","sap/sac/df/thirdparty/lodash","sap/sac/df/firefly/library"],function(e,t,r,a,n,i,o,s,c,u,l,f,d,p,y,g){"use strict";var v=new RegExp("/","g");var m=r.extend("sap.sac.df.olap.OlapModel",{constructor:function(t){var n=this;r.apply(n);var m=g.clone(t||{});m.systemLandscape=m.systemLandscape||i;m.masterSystem=m.masterSystem||"localAbapAnalyticEngine";var h=null;var S=Promise.resolve(null).then(function(){return u.createApplication(m.systemLandscape,m.masterSystem)}).then(function(e){h=e;h.getSession().setXVersion(sap.firefly.XVersion.V190_METADATA_CUBE_RESPONSE_SUPPRESS_PROPERTIES);h.getSession().deactivateFeatureToggle(sap.firefly.FeatureToggleOlap.FUSION_SERVICE);sap.firefly.XStream.of(sap.firefly.FeatureToggleOlap.getAllFeatureToggles()).forEach(function(e){var t=e.getXVersion();if(t>sap.firefly.FeatureToggleOlap.FUSION_SERVICE.getXVersion()&&t<=sap.firefly.XVersion.MAX){h.getSession().activateFeatureToggle(e)}});h.getSession().activateFeatureToggle(sap.firefly.FeatureToggleOlap.METADATA_CACHING);sap.firefly.UiLocalizationCenter.setExternalLocalizationProvider({getText:function(e){return y.getText(e.substring(3))},getTextWithPlaceholder:function(e,t){return y.getText(e.substring(3),t)},getTextWithPlaceholder2:function(e,t,r){return y.getText(e.substring(3),[t,r])}});sap.firefly.UiLocalizationCenter.getCenter().getLocalizationProviderByName(sap.firefly.OuDimensionDialog2.DEFAULT_PROGRAM_NAME).m_isProductive=true}).then(function(){T({HasUndo:false,systems:g.map(c.arrayFromList(h.getSystemLandscape().getSystemNames()),function(e){var t=h.getConnectionPool();var r=t.getSystemLandscape().getSystemDescription(e);if(r.getSystemType().isTypeOf(sap.firefly.SystemType.BW)||r.getSystemType().isTypeOf(sap.firefly.SystemType.BPCS)){t.setMaximumSharedConnections(e,m.numberOfConnections||6)}return{name:e}}),colLimit:-1,rowLimit:125,dataProvider:{},variables:{},semanticStyles:{},messages:[],Functions:[]})});var P=null;var E={};function T(e){P=e;n.checkUpdate()}function b(e){if(P.HasUndo!==e){P.HasUndo=e;n.checkUpdate()}}n.setDataAccessLanguage=function(e){var t=h.getSystemLandscape();var r=t.getSystemNames();for(var a=0;a<r.size();a++){t.getSystemDescription(r.get(a)).setLanguage(e)}};n.bindProperty=function(e,t,r){var a=new d(n,e,t,r);E[a.getId()]=a;return a};n.bindList=function(e,t,r,a,i){if(e.match(/^(\/)?dataProvider\/(.)*\/Grid\/renderGrid/)){return new f(n,e,t,r,a,i)}else{return new l(n,e,t,r,a,i)}};function L(e,t){var r=t instanceof a?L(t.getPath()):P;if(e){var n=e.replace(v,".");if(n.startsWith(".")){n=n.replace(".","")}return g.get(r,n)}else{return r}}n.isList=function(e,t){return Array.isArray(L(n.resolve(e,t)))};n.getLimit=function(){return{rowLimit:P.rowLimit,colLimit:P.colLimit}};n.getProperty=function(e,t){return L(e,t)};n.setProperty=function(t,r){var a=false;var i=t.split("/");if(i[i.length-1]==="visibleWithPrio"){var o=P.FlatVariables[parseInt(i[2],10)];o.visibleWithPrio=r}else{var s=g.filter(t.split("/"),g.identity);try{var c=s.pop();var u=s.join(".");var l=g.get(P,u);if(c!=="vizProperties"||r){if(l){l[c]=r}else{e.warning("Failed to set "+r+" on: "+t)}}n.checkUpdate();a=true}catch(t){e.error(t)}}return a};n.undo=function(){return S.then(function(){var e;var t;if(!P.HasUndo){return Promise.resolve(n)}function r(r,a){e=r;t=a}var a=new Promise(r);h.getUndoManager().processUndo(sap.firefly.SyncType.NON_BLOCKING,{undoRedoActionFinished:function(r){if(r.hasErrors()){t(r.getErrors())}else{e(r)}}});return a.then(function(){var e=[];g.forEach(P.dataProvider,function(t){e.push(t.getResultSet(true))});return Promise.all(e)}).then(function(){return n})})};n.redo=function(){return S.then(function(){var e;var t;function r(r,a){e=r;t=a}var a=new Promise(r);h.getUndoManager().processRedo(sap.firefly.SyncType.NON_BLOCKING,{undoRedoActionFinished:function(r){if(r.hasErrors()){t(r.getErrors())}else{e(r)}}});return a.then(function(){var e=[];g.forEach(P.dataProvider,function(t){e.push(t.getResultSet(true))});return Promise.all(e)})})};n.setSemanticStyles=function(e){P.semanticStyles=g.clone(e)};n.getSemanticStyles=function(){return P.semanticStyles};n.addMessages=function(e){P.messages=g.map(g.groupBy(g.concat(P.messages,e),"Text"),function(e){return e[0]});return n.checkUpdate()};n.clearMessages=function(e){P.messages=[];return e?n.checkUpdate():n};n.checkUpdate=function(e){g.forEach(E,function(t,r){if(t){t.checkUpdate(e)}else{delete E[r]}},false);return n};n.checkMessages=function(){g.forEach(E,function(e){return e.checkDataState?e.checkDataState():null})};n.addBinding=function(e){E[e.getId()]=e;return n};n.removeBinding=function(e){delete E[e.getId()]};n.getSystemId=function(){return n.getProperty("/serverInfo/SystemId")};n.getDataProvider=function(e){return P.dataProvider[e]};function A(){var e=g.map(c.arrayFromList(h.getOlapEnvironment().getVariableProcessor().getVariables()),s.transformVariable).filter(function(e){return e.InputEnabled});P.variables=g.reduce(e,function(e,t){var r=e[t.Name];if(r){e[t.Name].visibleWithPrio=r.visibleWithPrio}e[t.Name]=t;return e},P.variables);P.FlatVariables=g.filter(P.variables,function(e){return e.InputEnabled})}n.addQuery=function(e,t,r,a,i,s){return M(r).then(function(){var t=P.dataProvider[e];if(!t)return;return t.logoff()}).then(function(){var e=sap.firefly.QueryServiceConfig.createWithDataSourceName(h,null,t);e.setMode(sap.firefly.QueryManagerMode.DEFAULT);e.setProviderType(sap.firefly.ProviderType.ANALYTICS);e.setSupportsDimensionLazyLoad(true);var n=["$[][][MY_DATA_AREA]/",s||"query",":","[",i?i:"","]","[",i||a?a:"","]","[",t,"]"].join("");e.setDataSourceByName(n);if(r){e.setSystemName(r)}return o.syncActionToPromise(e.processQueryManagerCreation,e,[])}).then(function(t){P.dataProvider[e]=new p(n,b,h,t,e);A()})};n.setVariableValue=function(e,t){var r=[];g(P.dataProvider).filter(function(t){return t.isVariableInputEnabled(e)}).forEach(function(a){r.push(a.setVariableValue(e,t))});return Promise.all(r).then(function(){A();return n.checkUpdate()})};n.deserialize=function(e){P.dataProvider=P.dataProvider||{};P.semanticStyles=e.semanticStyles||[];P.Functions=e.Functions||[];return S.then(function(){var t=[];g.forEach(e.DataProvider,function(e,r){var a=P.dataProvider[r];if(!a){var i=sap.firefly.QueryServiceConfig.createByDefinition(h,null,sap.firefly.XContent.createStringContent(sap.firefly.QModelFormat.INA_REPOSITORY,e));t.push(o.syncActionToPromise(i.processQueryManagerCreation,i,[]).then(function(e){P.dataProvider[r]=new p(n,b,h,e,r)}))}else{t.push(a.deserialize(e))}});return Promise.all(t)}).then(function(){A();return n.checkUpdate()})};n.serialize=function(){return{DataProvider:g.reduce(P.dataProvider,function(e,t){e[t.Name]=t.serialize();return e},{}),semanticStyles:n.getSemanticStyles(),Functions:P.Functions}};n.openVariableSelector=function(e){return Promise.resolve(null).then(function(){var t=g.find(P.dataProvider,function(t){return t.hasVariableValueHelp(P.variables[e].TechName)});if(!t){throw new Error("Invalid Variable: "+e)}return t.openVariableSelector(e).then(function(t){if(!t){return false}var r=[];g.forEach(P.dataProvider,function(a){r.push(a.applySelectionToVariable(e,t))});return Promise.all(r).then(function(){A();n.checkUpdate();return true})})})};n.submitVariables=function(){var e=g.invokeMap(P.dataProvider,"submitVariables");return Promise.all(e).then(function(){A();n.checkUpdate()})};n.logoff=function(){return Promise.all(g.invokeMap(P.dataProvider,"logoff"))};var D;function M(e,t){return S.then(function(){if(D){return D}if(e){return null}var r=sap.firefly.QDataSource.create();r.setDataArea(t||"MY_DATA_AREA");var a=sap.firefly.OlapApiModule.SERVICE_TYPE_PLANNING.createServiceConfig(h);a.setDataSource(r);a.setSystemName(e||m.masterSystem);return o.syncActionToPromise(a.processServiceCreation,a,[]).then(function(e){D=e.getData();return D})})}n.synchronize=function(e){var t=e?function(){var t=g.reduce(e,function(e,t){e[t]=true;return e},{});return g.filter(P.dataProvider,function(e,r){return t[r]===true})}():P.dataProvider;var r=g.invokeMap(t,"getResultSet");return Promise.all(r).then(function(){return n.checkUpdate()})};n.getPlanningService=function(){return D};(function(){var e=S.then(function(){if(t&&t.SemanticStyles){n.setSemanticStyles(t.SemanticStyles)}var e=[];g.forEach(m.dataProvider||[],function(t,r){var a=n.addQuery(r,t.dataSourceName,t.systemName,t.packageName,t.schemaName,t.dataSourceType);e.push(t.synchronize?a.then(function(){return n.getDataProvider(r).synchronize()}):a)});return Promise.all(e)});n.resetModel=function(){var e=[];g.forEach(P.dataProvider,function(t){e.push(t.resetToDefault())});return Promise.all(e).then(function(){A()})};n.dataLoaded=g.constant(e);n.loaded=n.dataLoaded;n.metadataLoaded=n.dataLoaded;n.annotationsLoaded=n.dataLoaded;n.getMetaModel=g.constant(n);n.attachMetadataFailed=g.constant(null);n.fireMetadataFailed=g.constant(null);n.getODataEntityContainer=g.constant(null);n.getODataEntityType=g.constant(n);n.createBindingContext=g.constant(null);n.getODataEntitySet=g.constant(n)})()},metadata:{publicMethods:["openVariableSelector","submitVariables","synchronize","addQuery","serialize","deserialize","getDataProvider"],events:{metadataFailed:{}}}});m.prototype.openVariableSelector=function(){};m.prototype.submitVariables=function(){};m.prototype.synchronize=function(){};m.prototype.getLimit=function(){};m.prototype.serialize=function(){};m.prototype.deserialize=function(){};m.prototype.addQuery=function(){};m.prototype.undo=function(){};m.prototype.getDataProvider=function(){};m.prototype.resetModel=function(){};m.prototype.setDataAccessLanguage=function(){};return m});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/OlapPropertyBinding",["sap/base/util/deepEqual","sap/ui/model/ChangeReason","sap/ui/model/PropertyBinding","sap/sac/df/olap/calculateId","sap/sac/df/thirdparty/lodash"],function(e,a,t,n,r){"use strict";var s=t.extend("sap.sac.df.olap.OlapPropertyBinding",{constructor:function(s,o,p,c){var i=this;var u=p;var l=null;t.apply(i,[s,o,u,c]);function d(){var e=s.resolve(o,u);return e?s.getProperty(e):null}i.getValue=function(){return l};i.setValue=function(e){var a=s.resolve(o,u);s.setProperty(a,e)};i.setContext=function(e){if(u!==e){sap.ui.getCore().getMessageManager().removeMessages(i.getDataState().getControlMessages(),true);u=e;i.checkUpdate()}else{i.checkUpdate()}};i.getId=r.constant(n());i.checkUpdate=function(t){var n=d();if(t||!e(n,l)){l=n;i.getDataState().setValue(l);i.checkDataState();i._fireChange({reason:a.Change})}}}});return s});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/SystemLandscape",[],function(){return{Systems:[{systemName:"localBW",systemType:"BW",protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",port:window.location.port,host:window.location.hostname,authentication:"NONE"},{systemName:"localHana",systemType:"HANA",protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",host:window.location.hostname,port:window.location.port,authentication:"NONE"},{systemName:"localDWC",systemType:"DWC",protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",host:window.location.hostname,port:window.location.port,authentication:"NONE"}]}});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/calculateId",[],function(){"use strict";var a=0;return function(){return++a}});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/Axis",[],function(){var s={Rows:"Rows",Columns:"Columns",Free:"Free",Repository:"Repository"};return s});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/CellValueType",[],function(){"use strict";var e={Data:"Data",Key:"MemberKey",Text:"MemberText"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/ComparisonOperator",[],function(){var E={AGGREGATED:"AGGREGATED",ALL:"ALL",BETWEEN:"BETWEEN",BETWEEN_EXCLUDING:"BETWEEN_EXCLUDING",EQUAL:"EQUAL",FUZZY:"FUZZY",GREATER_EQUAL:"GREATER_EQUAL",GREATER_THAN:"GREATER_THAN",IN:"IN",IS_NULL:"IS_NULL",LESS_EQUAL:"LESS_EQUAL",LESS_THAN:"LESS_THAN",LIKE:"LIKE",MATCH:"MATCH","NON-AGGREGATED":"NON-AGGREGATED",NOT_BETWEEN:"NOT_BETWEEN",NOT_BETWEEN_EXCLUDING:"NOT_BETWEEN_EXCLUDING",NOT_EQUAL:"NOT_EQUAL",NOT_MATCH:"NOT_MATCH",SEARCH:"SEARCH",undefined:"UNDEFINED"};return E});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/DataSourceType",[],function(){var e={query:"query",view:"view",inamodel:"inamodel",infoprovider:"infoprovider",cdsprojectionview:"cdsprojectionview"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/DimensionType",[],function(){var n={AbstractStructure:"AbstractStructure",AccountDimension:"AccountDimension",AttributeDimension:"AttributeDimension",CalculatedDimension:"CalculatedDimension",ContainerDimension:"ContainerDimension",CurrencyDimension:"CurrencyDimension",DateDimension:"DateDimension",Dimension:"Dimension",DimensionIncomplete:"DimensionIncomplete",FamCalculatedDimension:"FamCalculatedDimension",FormulaCalculatedDimension:"FormulaCalculatedDimension",GisDimension:"GisDimension",HierarchyNameDimension:"HierarchyNameDimension",HierarchyVersionDimension:"HierarchyVersionDimension",MbfCalculatedDimension:"MbfCalculatedDimension",MeasureStructure:"MeasureStructure",PresentationDimension:"PresentationDimension",SearchDimension:"SearchDimension",SearchResultDimension:"SearchResultDimension",SecondaryStructure:"SecondaryStructure",SuggestAttributeDimension:"SuggestAttributeDimension",SuggestScopeDimension:"SuggestScopeDimension",SuggestTermDimension:"SuggestTermDimension",TimeDimension:"TimeDimension",UnitDimension:"UnitDimension",VersionDimension:"VersionDimension"};return n});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/DisplayType",[],function(){var e={Key:"Key",Text:"Text",KeyText:"KeyText",TextKey:"TextKey",None:"None"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/MemberType",[],function(){var e={AbstractMember:"AbstractMember",BasicMeasure:"BasicMeasure",ConditionOthersResult:"ConditionOthersResult",ConditionResult:"ConditionResult",CurrencyMeasure:"CurrencyMeasure",DrillPathElement:"DrillPathElement",ExceptionAggregation:"ExceptionAggregation",FieldValue:"FieldValue",FormulaMember:"FormulaMember",HierarchyNode:"HierarchyNode",LiteralMember:"LiteralMember",Measure:"Measure",Member:"Member",MembersExit:"MembersExit",RestrictedMeasure:"RestrictedMeasure",ResultMember:"ResultMember",SelectValue:"SelectValue",ServerBasedFormula:"ServerBasedFormula",SingleMemberExit:"SingleMemberExit",TupleElement:"TupleElement",TupleElementAsMember:"TupleElementAsMember",TupleElementAsNode:"TupleElementAsNode",ValueHelpElement:"ValueHelpElement",ValueHelpLeaf:"ValueHelpLeaf",ValueHelpNode:"ValueHelpNode",ValueHelpRootNode:"ValueHelpRootNode",ValueHelpSplitterNode:"ValueHelpSplitterNode",ValueHelpWindowSplitterNode:"ValueHelpWindowSplitterNode",Variance:"Variance"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/NavigationCommandType",[],function(){"use strict";var e={HierarchyNavigation:"HierarchyNavigation",CellClick:"CellClick",ContextMenuCmd:"ContextMenuCmd",RowRequest:"RowRequest",ColumnRequest:"ColumnRequest"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/ProtocolType",[],function(){var T={HTTP:"HTTP",HTTPS:"HTTPS",WASABI:"WASABI"};return T});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SemanticRole",[],function(){var e={Actual:"Actual",Previous:"Previous",Budget:"Budget",Forecast:"Forecast"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SortDirection",[],function(){var N={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING",NONE:"NONE"};return N});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SortType",[],function(){var e={Filter:"FILTER",MemberKey:"MEMBER_KEY",MemberText:"MEMBER_TEXT",unset:"unset"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SystemType",[],function(){var A={BW:"BW",ABAP_MDS:"ABAP_MDS",DWC:"DWC",HANA:"HANA"};return A});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/ValueType",[],function(){var e={Amount:"Amount",Array:"Array",Boolean:"Boolean",ByteArray:"ByteArray",CalendarDate:"CalendarDate",CalendarDay:"CalendarDay",Char:"Char",Cuky:"Cuky",CurrentMember:"CurrentMember",Date:"Date",DateTime:"DateTime",DecimalFloat:"DecimalFloat",DimensionMember:"DimensionMember",Double:"Double",EnumConstant:"EnumConstant",Integer:"Integer",KeyValue:"KeyValue",Language:"Language",LineString:"LineString",List:"List",Long:"Long",LowerCaseString:"LowerCaseString",MultiLineString:"MultiLineString",MultiPoint:"MultiPoint",MultiPolygon:"MultiPolygon",Number:"Number",Numc:"Numc",Object:"Object",OptionList:"OptionList",OptionValue:"OptionValue",Percent:"Percent",Point:"Point",Polygon:"Polygon",Price:"Price",Properties:"Properties",Quantity:"Quantity",String:"String",Structure:"Structure",StructureList:"StructureList",Time:"Time",TimeSpan:"TimeSpan",UiColor:"UiColor",UiConstant:"UiConstant",UiControl:"UiControl",UiPosition:"UiPosition",UiSize:"UiSize",UiUnitValue:"UiUnitValue",Unit:"Unit",Unsupported:"Unsupported",UpperCaseString:"UpperCaseString",Uri:"Uri",Variable:"Variable"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/WidgetType",[],function(){var e={pivot:"pivot",bar:"bar",colum:"column",line:"line",pie:"pie",donut:"donut"};return e});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ApplicationHelper",["sap/base/Log","sap/sac/df/thirdparty/lodash"],function(e,t){"use strict";e.info("ApplicationHelper loaded");function s(){function e(e,t,s,i){var a=e.createSystem();a.setName(i.systemName);a.setTimeout(1e4);a.setAuthenticationType(sap.firefly.AuthenticationType[i.authentication||"NONE"]);var r=sap.firefly.SystemType[i.systemType];a.setSystemType(r);a.setProtocolType(sap.firefly.ProtocolType[i.protocol]);a.setHost(i.host);a.setPort(i.port);if(s>0){a.setKeepAliveIntervalMs(s*1e3);a.setKeepAliveDelayMs(s*2*1e3)}e.setSystemByDescription(a);if(r===sap.firefly.SystemType.BW){a.setSessionCarrierType(sap.firefly.SessionCarrierType.SAP_CONTEXT_ID_HEADER);t.getConnectionPool().setMaximumSharedConnections(i.systemName,10)}}this.createApplication=function(s,i,a){var r=new Promise(function(e,t){sap.firefly.ApplicationFactory.createApplicationForDragonfly(function(s){if(s.hasErrors()){t(s.getErrors())}else{e(s.getData())}})});return r.then(function(r){var n=r.getProcess().getKernel().getSubSystemContainer(sap.firefly.SubSystemType.SYSTEM_LANDSCAPE);var o=n.getMainApi();r.setSystemLandscape(o);t.forEach(s,e.bind(null,o,r,a));o.setMasterSystemName(i);return r})}}return new s});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ErrorHandler",["sap/base/Log","sap/m/MessageBox"],function(e,n){function r(){var r=this;r.handleWithPopUp=function(r,s){e.error(r);e.error(r.stack);var o,a;function i(e,n){o=e;a=n}n.error(r.message,{details:r.stack,actions:[n.Action.CLOSE],onClose:function(){if(s){a(r)}else{o(null)}}});return new Promise(i)}}return new r});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/FpaIcons",["sap/ui/core/IconPool"],function(a){a.addIcon("menu","fpa","fpa-icons","e600",true);a.addIcon("menu-options","fpa","fpa-icons","e601",true);a.addIcon("notifications","fpa","fpa-icons","e602",true);a.addIcon("settings","fpa","fpa-icons","e603",true);a.addIcon("preferences","fpa","fpa-icons","e604",true);a.addIcon("preferences-options","fpa","fpa-icons","e605",true);a.addIcon("reload","fpa","fpa-icons","e606",true);a.addIcon("search","fpa","fpa-icons","e607",true);a.addIcon("fullscreen","fpa","fpa-icons","e608",true);a.addIcon("new","fpa","fpa-icons","e609",true);a.addIcon("new-options","fpa","fpa-icons","e60a",true);a.addIcon("delete","fpa","fpa-icons","e60b",true);a.addIcon("delete-options","fpa","fpa-icons","e60c",true);a.addIcon("copy","fpa","fpa-icons","e60d",true);a.addIcon("copy-options","fpa","fpa-icons","e60e",true);a.addIcon("edit","fpa","fpa-icons","e60f",true);a.addIcon("folder","fpa","fpa-icons","e610",true);a.addIcon("print","fpa","fpa-icons","e611",true);a.addIcon("save","fpa","fpa-icons","e612",true);a.addIcon("save-options","fpa","fpa-icons","e613",true);a.addIcon("completed","fpa","fpa-icons","e614",true);a.addIcon("cancel","fpa","fpa-icons","e615",true);a.addIcon("undo","fpa","fpa-icons","e616",true);a.addIcon("redo","fpa","fpa-icons","e617",true);a.addIcon("import","fpa","fpa-icons","e618",true);a.addIcon("export","fpa","fpa-icons","e619",true);a.addIcon("calendar","fpa","fpa-icons","e61a",true);a.addIcon("pin","fpa","fpa-icons","e61b",true);a.addIcon("pin-options","fpa","fpa-icons","e61c",true);a.addIcon("attachment","fpa","fpa-icons","e61d",true);a.addIcon("attachment-options","fpa","fpa-icons","e61e",true);a.addIcon("share","fpa","fpa-icons","e61f",true);a.addIcon("publish","fpa","fpa-icons","e620",true);a.addIcon("security","fpa","fpa-icons","e621",true);a.addIcon("public","fpa","fpa-icons","e622",true);a.addIcon("photo","fpa","fpa-icons","e623",true);a.addIcon("up","fpa","fpa-icons","e624",true);a.addIcon("down","fpa","fpa-icons","e625",true);a.addIcon("previous","fpa","fpa-icons","e626",true);a.addIcon("next","fpa","fpa-icons","e627",true);a.addIcon("ascending","fpa","fpa-icons","e628",true);a.addIcon("descending","fpa","fpa-icons","e629",true);a.addIcon("truncation","fpa","fpa-icons","e62a",true);a.addIcon("truncation-options","fpa","fpa-icons","e62b",true);a.addIcon("star-filled","fpa","fpa-icons","e62c",true);a.addIcon("upload","fpa","fpa-icons","e62d",true);a.addIcon("download","fpa","fpa-icons","e62e",true);a.addIcon("grip-vertical","fpa","fpa-icons","e62f",true);a.addIcon("grip-horizontal","fpa","fpa-icons","e630",true);a.addIcon("designer","fpa","fpa-icons","e631",true);a.addIcon("properties","fpa","fpa-icons","e632",true);a.addIcon("preview","fpa","fpa-icons","e633",true);a.addIcon("details","fpa","fpa-icons","e634",true);a.addIcon("charts","fpa","fpa-icons","e635",true);a.addIcon("bookmarks","fpa","fpa-icons","e6d2",true);a.addIcon("success","fpa","fpa-icons","e636",true);a.addIcon("warning","fpa","fpa-icons","e637",true);a.addIcon("alert","fpa","fpa-icons","e638",true);a.addIcon("info","fpa","fpa-icons","e639",true);a.addIcon("help","fpa","fpa-icons","e63a",true);a.addIcon("smart-help","fpa","fpa-icons","e63b",true);a.addIcon("home","fpa","fpa-icons","e63c",true);a.addIcon("dashboards","fpa","fpa-icons","e63d",true);a.addIcon("models","fpa","fpa-icons","e63e",true);a.addIcon("perspectives","fpa","fpa-icons","e63f",true);a.addIcon("reports","fpa","fpa-icons","e640",true);a.addIcon("filter","fpa","fpa-icons","e641",true);a.addIcon("tag","fpa","fpa-icons","e642",true);a.addIcon("kpi","fpa","fpa-icons","e643",true);a.addIcon("style","fpa","fpa-icons","e644",true);a.addIcon("contextual-chart","fpa","fpa-icons","e645",true);a.addIcon("columns","fpa","fpa-icons","e646",true);a.addIcon("zoom-out","fpa","fpa-icons","e647",true);a.addIcon("versions","fpa","fpa-icons","e648",true);a.addIcon("versions-options","fpa","fpa-icons","e649",true);a.addIcon("merge-cells","fpa","fpa-icons","e64a",true);a.addIcon("unmerge-cells","fpa","fpa-icons","e64b",true);a.addIcon("show-hide-grid-dimension","fpa","fpa-icons","e64c",true);a.addIcon("bold","fpa","fpa-icons","e64d",true);a.addIcon("underline","fpa","fpa-icons","e64e",true);a.addIcon("strike","fpa","fpa-icons","e64f",true);a.addIcon("italic","fpa","fpa-icons","e650",true);a.addIcon("left-aligned","fpa","fpa-icons","e651",true);a.addIcon("centered","fpa","fpa-icons","e652",true);a.addIcon("right-aligned","fpa","fpa-icons","e653",true);a.addIcon("no-border","fpa","fpa-icons","e654",true);a.addIcon("left-border","fpa","fpa-icons","e655",true);a.addIcon("top-border","fpa","fpa-icons","e656",true);a.addIcon("right-border","fpa","fpa-icons","e657",true);a.addIcon("bottom-border","fpa","fpa-icons","e658",true);a.addIcon("outside-border","fpa","fpa-icons","e659",true);a.addIcon("all-borders","fpa","fpa-icons","e65a",true);a.addIcon("area","fpa","fpa-icons","e65b",true);a.addIcon("sankey","fpa","fpa-icons","e7fd",true);a.addIcon("font-color","fpa","fpa-icons","e65c",true);a.addIcon("fill-background-color","fpa","fpa-icons","e65d",true);a.addIcon("color","fpa","fpa-icons","e65e",true);a.addIcon("expand-all","fpa","fpa-icons","e65f",true);a.addIcon("collaps-all","fpa","fpa-icons","e660",true);a.addIcon("select-all-cells","fpa","fpa-icons","e661",true);a.addIcon("line","fpa","fpa-icons","e662",true);a.addIcon("bar-rows","fpa","fpa-icons","e663",true);a.addIcon("bar-columns","fpa","fpa-icons","e664",true);a.addIcon("stacked-bar-rows","fpa","fpa-icons","e665",true);a.addIcon("stacked-bar-columns","fpa","fpa-icons","e666",true);a.addIcon("map","fpa","fpa-icons","e667",true);a.addIcon("gauge-bar","fpa","fpa-icons","e668",true);a.addIcon("gauge-circle","fpa","fpa-icons","e669",true);a.addIcon("box-plot","fpa","fpa-icons","e66a",true);a.addIcon("auto-sync","fpa","fpa-icons","e66b",true);a.addIcon("files","fpa","fpa-icons","e66c",true);a.addIcon("cards","fpa","fpa-icons","e732",true);a.addIcon("deployment","fpa","fpa-icons","e66d",true);a.addIcon("conversations","fpa","fpa-icons","e66e",true);a.addIcon("comment","fpa","fpa-icons","e66f",true);a.addIcon("new-calculation","fpa","fpa-icons","e670",true);a.addIcon("send","fpa","fpa-icons","e671",true);a.addIcon("link","fpa","fpa-icons","e672",true);a.addIcon("unlink","fpa","fpa-icons","e673",true);a.addIcon("events","fpa","fpa-icons","e674",true);a.addIcon("task","fpa","fpa-icons","e675",true);a.addIcon("pending","fpa","fpa-icons","e676",true);a.addIcon("accept","fpa","fpa-icons","e677",true);a.addIcon("review","fpa","fpa-icons","e678",true);a.addIcon("approval","fpa","fpa-icons","e679",true);a.addIcon("reject","fpa","fpa-icons","e67a",true);a.addIcon("reminder","fpa","fpa-icons","e67b",true);a.addIcon("users","fpa","fpa-icons","e67c",true);a.addIcon("person","fpa","fpa-icons","e67d",true);a.addIcon("roles","fpa","fpa-icons","e67e",true);a.addIcon("request","fpa","fpa-icons","e67f",true);a.addIcon("history","fpa","fpa-icons","e680",true);a.addIcon("template","fpa","fpa-icons","e681",true);a.addIcon("options","fpa","fpa-icons","e682",true);a.addIcon("messages","fpa","fpa-icons","e683",true);a.addIcon("power","fpa","fpa-icons","e684",true);a.addIcon("activities","fpa","fpa-icons","e685",true);a.addIcon("geo","fpa","fpa-icons","e686",true);a.addIcon("summary","fpa","fpa-icons","e687",true);a.addIcon("variance","fpa","fpa-icons","e688",true);a.addIcon("variance-line","fpa","fpa-icons","e689",true);a.addIcon("data","fpa","fpa-icons","e68a",true);a.addIcon("scatter-plot","fpa","fpa-icons","e68b",true);a.addIcon("font-color-white","fpa","fpa-icons","e68c",true);a.addIcon("fill-background-color-white","fpa","fpa-icons","e68d",true);a.addIcon("text","fpa","fpa-icons","e68e",true);a.addIcon("profile","fpa","fpa-icons","e68f",true);a.addIcon("color-picker","fpa","fpa-icons","e690",true);a.addIcon("timeline","fpa","fpa-icons","e691",true);a.addIcon("import-options","fpa","fpa-icons","e692",true);a.addIcon("export-options","fpa","fpa-icons","e693",true);a.addIcon("color-white","fpa","fpa-icons","e694",true);a.addIcon("date","fpa","fpa-icons","e695",true);a.addIcon("currencies","fpa","fpa-icons","e696",true);a.addIcon("hierarchy","fpa","fpa-icons","e697",true);a.addIcon("number","fpa","fpa-icons","e698",true);a.addIcon("formula","fpa","fpa-icons","e699",true);a.addIcon("models-imported","fpa","fpa-icons","e69a",true);a.addIcon("shape","fpa","fpa-icons","e69b",true);a.addIcon("justified-aligned","fpa","fpa-icons","e69c",true);a.addIcon("vertical-align-top","fpa","fpa-icons","e69d",true);a.addIcon("vertical-align-mittle","fpa","fpa-icons","e69e",true);a.addIcon("vertical-align-bottom","fpa","fpa-icons","e69f",true);a.addIcon("list-bulleted","fpa","fpa-icons","e6a0",true);a.addIcon("list-numbered","fpa","fpa-icons","e6a1",true);a.addIcon("cell-reference","fpa","fpa-icons","e6a2",true);a.addIcon("waterfall-rows","fpa","fpa-icons","e6a3",true);a.addIcon("driver-tree","fpa","fpa-icons","e6a4",true);a.addIcon("fit-to-workspace","fpa","fpa-icons","e6a5",true);a.addIcon("trend","fpa","fpa-icons","e6a6",true);a.addIcon("normalscreen","fpa","fpa-icons","e6a7",true);a.addIcon("beginning","fpa","fpa-icons","e6a8",true);a.addIcon("end","fpa","fpa-icons","e6a9",true);a.addIcon("donut","fpa","fpa-icons","e6aa",true);a.addIcon("combined_column_line","fpa","fpa-icons","e6ab",true);a.addIcon("drill","fpa","fpa-icons","e6ac",true);a.addIcon("heat_map","fpa","fpa-icons","e6ad",true);a.addIcon("pie","fpa","fpa-icons","e6ae",true);a.addIcon("table","fpa","fpa-icons","e6af",true);a.addIcon("edit-options","fpa","fpa-icons","e6b0",true);a.addIcon("password","fpa","fpa-icons","e6b1",true);a.addIcon("stories","fpa","fpa-icons","e6b2",true);a.addIcon("allocation","fpa","fpa-icons","e6b3",true);a.addIcon("bring_to_front","fpa","fpa-icons","e6b4",true);a.addIcon("bring_forward","fpa","fpa-icons","e6b5",true);a.addIcon("bring_to_back","fpa","fpa-icons","e6b6",true);a.addIcon("bring_backward","fpa","fpa-icons","e6b7",true);a.addIcon("left-aligned-object","fpa","fpa-icons","e6b8",true);a.addIcon("vertically-aligned-object","fpa","fpa-icons","e6b9",true);a.addIcon("right-aligned-object","fpa","fpa-icons","e6ba",true);a.addIcon("top-aligned-object","fpa","fpa-icons","e6bb",true);a.addIcon("horizontally-aligned-object","fpa","fpa-icons","e6bc",true);a.addIcon("bottom-aligned-object","fpa","fpa-icons","e6bd",true);a.addIcon("fill_color","fpa","fpa-icons","e6be",true);a.addIcon("bridge","fpa","fpa-icons","e6bf",true);a.addIcon("expand_size","fpa","fpa-icons","e6c0",true);a.addIcon("all-primary-data","fpa","fpa-icons","e6c1",true);a.addIcon("sorted-options","fpa","fpa-icons","e6c2",true);a.addIcon("like","fpa","fpa-icons","e6c3",true);a.addIcon("like-filled","fpa","fpa-icons","e6c4",true);a.addIcon("rank","fpa","fpa-icons","e6c5",true);a.addIcon("showhide","fpa","fpa-icons","e678",true);a.addIcon("drill_up","fpa","fpa-icons","e6c6",true);a.addIcon("drill_down","fpa","fpa-icons","e6c7",true);a.addIcon("filter-options","fpa","fpa-icons","e6c8",true);a.addIcon("value-help","fpa","fpa-icons","e6c9",true);a.addIcon("ltnt-account","fpa","fpa-icons","e6e7",true);a.addIcon("connections","fpa","fpa-icons","e6ca",true);a.addIcon("reuse","fpa","fpa-icons","e6cb",true);a.addIcon("allocation-options","fpa","fpa-icons","e6cc",true);a.addIcon("data-changes","fpa","fpa-icons","e6cd",true);a.addIcon("input-form","fpa","fpa-icons","e6ce",true);a.addIcon("input-form-options","fpa","fpa-icons","e6cf",true);a.addIcon("archive","fpa","fpa-icons","e6d0",true);a.addIcon("line-double-axis","fpa","fpa-icons","e6d1",true);a.addIcon("bookmark","fpa","fpa-icons","e6d2",true);a.addIcon("color-picker-options","fpa","fpa-icons","e6d3",true);a.addIcon("variable","fpa","fpa-icons","e6d4",true);a.addIcon("variable-options","fpa","fpa-icons","e6d5",true);a.addIcon("network","fpa","fpa-icons","e6d6",true);a.addIcon("dimension-link","fpa","fpa-icons","e6d7",true);a.addIcon("feature","fpa","fpa-icons","e6d8",true);a.addIcon("marker","fpa","fpa-icons","e6d9",true);a.addIcon("circle","fpa","fpa-icons","e6da",true);a.addIcon("square","fpa","fpa-icons","e6db",true);a.addIcon("layers","fpa","fpa-icons","e6dc",true);a.addIcon("polygon-tool","fpa","fpa-icons","e6dd",true);a.addIcon("show","fpa","fpa-icons","e6de",true);a.addIcon("hide","fpa","fpa-icons","e6df",true);a.addIcon("server","fpa","fpa-icons","e6e0",true);a.addIcon("drill_leaves","fpa","fpa-icons","e6e1",true);a.addIcon("minus","fpa","fpa-icons","e6e2",true);a.addIcon("launch","fpa","fpa-icons","e6e3",true);a.addIcon("base_map","fpa","fpa-icons","e6e4",true);a.addIcon("organization","fpa","fpa-icons","e6e5",true);a.addIcon("generic","fpa","fpa-icons","e6e6",true);a.addIcon("cost_pool","fpa","fpa-icons","e6e7",true);a.addIcon("account","fpa","fpa-icons","e6e8",true);a.addIcon("time","fpa","fpa-icons","e6e9",true);a.addIcon("value-driver-tree","fpa","fpa-icons","e6ea",true);a.addIcon("split-view","fpa","fpa-icons","e6eb",true);a.addIcon("single-view","fpa","fpa-icons","e6ec",true);a.addIcon("hierarchy_deselected","fpa","fpa-icons","e6ed",true);a.addIcon("location-pin","fpa","fpa-icons","e6ee",true);a.addIcon("banknote","fpa","fpa-icons","e6ef",true);a.addIcon("eraser","fpa","fpa-icons","e6f0",true);a.addIcon("cross_table","fpa","fpa-icons","e6f1",true);a.addIcon("ibcs_table","fpa","fpa-icons","e6f2",true);a.addIcon("explore_view","fpa","fpa-icons","e6f3",true);a.addIcon("icicle","fpa","fpa-icons","e6f4",true);a.addIcon("monitor","fpa","fpa-icons","e6f5",true);a.addIcon("flip","fpa","fpa-icons","e6f6",true);a.addIcon("located","fpa","fpa-icons","e6f7",true);a.addIcon("cloud","fpa","fpa-icons","e6f8",true);a.addIcon("tree-map","fpa","fpa-icons","e6f9",true);a.addIcon("marimekko","fpa","fpa-icons","e6fa",true);a.addIcon("bubble","fpa","fpa-icons","e6fb",true);a.addIcon("radar","fpa","fpa-icons","e6fc",true);a.addIcon("combined_bar_line","fpa","fpa-icons","e6fd",true);a.addIcon("measure","fpa","fpa-icons","e6fe",true);a.addIcon("star","fpa","fpa-icons","e6ff",true);a.addIcon("file","fpa","fpa-icons","e700",true);a.addIcon("code","fpa","fpa-icons","e701",true);a.addIcon("light-bulb","fpa","fpa-icons","e702",true);a.addIcon("heat_map_geo","fpa","fpa-icons","e703",true);a.addIcon("boardroom","fpa","fpa-icons","e704",true);a.addIcon("agenda","fpa","fpa-icons","e705",true);a.addIcon("add_row_column","fpa","fpa-icons","e706",true);a.addIcon("remove_row_column","fpa","fpa-icons","e707",true);a.addIcon("merge","fpa","fpa-icons","e708",true);a.addIcon("reference-line","fpa","fpa-icons","e709",true);a.addIcon("play","fpa","fpa-icons","e70a",true);a.addIcon("explore","fpa","fpa-icons","e70b",true);a.addIcon("color-transparent","fpa","fpa-icons","e70c",true);a.addIcon("scatter-bubble","fpa","fpa-icons","e70d",true);a.addIcon("font","fpa","fpa-icons","e70e",true);a.addIcon("extract","fpa","fpa-icons","e70f",true);a.addIcon("bar-width","fpa","fpa-icons","e710",true);a.addIcon("broken-scale","fpa","fpa-icons","e711",true);a.addIcon("vector","fpa","fpa-icons","e712",true);a.addIcon("zoom-in","fpa","fpa-icons","e713",true);a.addIcon("all-secondary-data","fpa","fpa-icons","e714",true);a.addIcon("all-data","fpa","fpa-icons","e715",true);a.addIcon("intersecting-data","fpa","fpa-icons","e716",true);a.addIcon("input-control","fpa","fpa-icons","e717",true);a.addIcon("move-control-to-bar","fpa","fpa-icons","e718",true);a.addIcon("time-series","fpa","fpa-icons","e719",true);a.addIcon("lock-cell","fpa","fpa-icons","e71a",true);a.addIcon("clear-filter","fpa","fpa-icons","e71b",true);a.addIcon("new-filter","fpa","fpa-icons","e71c",true);a.addIcon("step","fpa","fpa-icons","e71d",true);a.addIcon("spread","fpa","fpa-icons","e71e",true);a.addIcon("distribute","fpa","fpa-icons","e71f",true);a.addIcon("break-axis","fpa","fpa-icons","e720",true);a.addIcon("group","fpa","fpa-icons","e721",true);a.addIcon("calculate","fpa","fpa-icons","e722",true);a.addIcon("growth-rate","fpa","fpa-icons","e723",true);a.addIcon("customise","fpa","fpa-icons","e724",true);a.addIcon("union","fpa","fpa-icons","e725",true);a.addIcon("flip-vertically","fpa","fpa-icons","e726",true);a.addIcon("ungroup","fpa","fpa-icons","e727",true);a.addIcon("transform","fpa","fpa-icons","e728",true);a.addIcon("cut","fpa","fpa-icons","e729",true);a.addIcon("fill-up","fpa","fpa-icons","e72a",true);a.addIcon("convert","fpa","fpa-icons","e72b",true);a.addIcon("replace","fpa","fpa-icons","e72c",true);a.addIcon("move","fpa","fpa-icons","e72d",true);a.addIcon("external-logic","fpa","fpa-icons","e72e",true);a.addIcon("online-meeting","fpa","fpa-icons","e72f",true);a.addIcon("phone","fpa","fpa-icons","e730",true);a.addIcon("hand","fpa","fpa-icons","e731",true);a.addIcon("tiles","fpa","fpa-icons","e732",true);a.addIcon("list","fpa","fpa-icons","e733",true);a.addIcon("item-arrangement","fpa","fpa-icons","e734",true);a.addIcon("outline-fill","fpa","fpa-icons","e735",true);a.addIcon("outline","fpa","fpa-icons","e736",true);a.addIcon("slash","fpa","fpa-icons","e737",true);a.addIcon("cell-height","fpa","fpa-icons","e738",true);a.addIcon("cell-width","fpa","fpa-icons","e739",true);a.addIcon("rotate-right-90","fpa","fpa-icons","e73a",true);a.addIcon("rotate-left-90","fpa","fpa-icons","e73b",true);a.addIcon("rotate-180","fpa","fpa-icons","e73c",true);a.addIcon("scale","fpa","fpa-icons","e73d",true);a.addIcon("inside-borders","fpa","fpa-icons","e73e",true);a.addIcon("inside-horizontal-border","fpa","fpa-icons","e73f",true);a.addIcon("inside-vertical-border","fpa","fpa-icons","e740",true);a.addIcon("diagonal-down-border","fpa","fpa-icons","e741",true);a.addIcon("diagonal-up-border","fpa","fpa-icons","e742",true);a.addIcon("sort","fpa","fpa-icons","e743",true);a.addIcon("sort-ascending","fpa","fpa-icons","e744",true);a.addIcon("sort-descending","fpa","fpa-icons","e745",true);a.addIcon("route","fpa","fpa-icons","e746",true);a.addIcon("open-new-window","fpa","fpa-icons","e747",true);a.addIcon("exclude","fpa","fpa-icons","e748",true);a.addIcon("edit-axis","fpa","fpa-icons","e749",true);a.addIcon("discover","fpa","fpa-icons","e74a",true);a.addIcon("fireworks","fpa","fpa-icons","e74b",true);a.addIcon("outlier","fpa","fpa-icons","e74c",true);a.addIcon("paste","fpa","fpa-icons","e74d",true);a.addIcon("dynamic-token","fpa","fpa-icons","e74e",true);a.addIcon("root-folder","fpa","fpa-icons","e74f",true);a.addIcon("bars-overlapping-1","fpa","fpa-icons","e750",true);a.addIcon("bars-overlapping-2","fpa","fpa-icons","e751",true);a.addIcon("bar-with-pointer","fpa","fpa-icons","e752",true);a.addIcon("bars-side-by-side","fpa","fpa-icons","e753",true);a.addIcon("process","fpa","fpa-icons","e754",true);a.addIcon("simulate","fpa","fpa-icons","e755",true);a.addIcon("annotation","fpa","fpa-icons","e756",true);a.addIcon("error-bar","fpa","fpa-icons","e757",true);a.addIcon("portrait-format","fpa","fpa-icons","e758",true);a.addIcon("landscape-format","fpa","fpa-icons","e759",true);a.addIcon("arrow-down","fpa","fpa-icons","e75a",true);a.addIcon("turtle","fpa","fpa-icons","e75b",true);a.addIcon("connection","fpa","fpa-icons","e75c",true);a.addIcon("tooltip","fpa","fpa-icons","e75d",true);a.addIcon("cluster","fpa","fpa-icons","e75e",true);a.addIcon("new-comment","fpa","fpa-icons","e75f",true);a.addIcon("delta-previous-year","fpa","fpa-icons","e760",true);a.addIcon("delta-first-year","fpa","fpa-icons","e761",true);a.addIcon("rows","fpa","fpa-icons","e762",true);a.addIcon("SQL","fpa","fpa-icons","e763",true);a.addIcon("r-language","fpa","fpa-icons","e764",true);a.addIcon("new-member","fpa","fpa-icons","e765",true);a.addIcon("member-order","fpa","fpa-icons","e766",true);a.addIcon("microphone","fpa","fpa-icons","e767",true);a.addIcon("edge","fpa","fpa-icons","e768",true);a.addIcon("percentage","fpa","fpa-icons","e769",true);a.addIcon("omega","fpa","fpa-icons","e76a",true);a.addIcon("support","fpa","fpa-icons","e76b",true);a.addIcon("mobile","fpa","fpa-icons","e76c",true);a.addIcon("devices","fpa","fpa-icons","e76d",true);a.addIcon("open","fpa","fpa-icons","e76e",true);a.addIcon("multi_selection","fpa","fpa-icons","e76f",true);a.addIcon("transfer_briefcase","fpa","fpa-icons","e770",true);a.addIcon("terminal","fpa","fpa-icons","e771",true);a.addIcon("layout","fpa","fpa-icons","e772",true);a.addIcon("device-orientation","fpa","fpa-icons","e773",true);a.addIcon("exception-data","fpa","fpa-icons","e774",true);a.addIcon("function","fpa","fpa-icons","e775",true);a.addIcon("analytic-hub","fpa","fpa-icons","e776",true);a.addIcon("book","fpa","fpa-icons","e777",true);a.addIcon("box-no-border","fpa","fpa-icons","e778",true);a.addIcon("box-left-border","fpa","fpa-icons","e779",true);a.addIcon("box-top-border","fpa","fpa-icons","e77a",true);a.addIcon("box-right-border","fpa","fpa-icons","e77b",true);a.addIcon("box-bottom-border","fpa","fpa-icons","e77c",true);a.addIcon("box-top-bottom-border","fpa","fpa-icons","e77d",true);a.addIcon("box-left-right-border","fpa","fpa-icons","e77e",true);a.addIcon("box-outside-border","fpa","fpa-icons","e77f",true);a.addIcon("leave","fpa","fpa-icons","e780",true);a.addIcon("top-and-bottom-border","fpa","fpa-icons","e781",true);a.addIcon("twitter","fpa","fpa-icons","e782",true);a.addIcon("feed","fpa","fpa-icons","e783",true);a.addIcon("store","fpa","fpa-icons","e784",true);a.addIcon("library","fpa","fpa-icons","e785",true);a.addIcon("books","fpa","fpa-icons","e786",true);a.addIcon("threshold-good","fpa","fpa-icons","e787",true);a.addIcon("threshold-warning","fpa","fpa-icons","e788",true);a.addIcon("threshold-alert","fpa","fpa-icons","e789",true);a.addIcon("text-abc","fpa","fpa-icons","e78a",true);a.addIcon("numbers-123","fpa","fpa-icons","e78b",true);a.addIcon("assign","fpa","fpa-icons","e78c",true);a.addIcon("time-calculation","fpa","fpa-icons","e78d",true);a.addIcon("edit-calculation","fpa","fpa-icons","e78e",true);a.addIcon("same_elements","fpa","fpa-icons","e78f",true);a.addIcon("different_elements","fpa","fpa-icons","e790",true);a.addIcon("conditional_formatting","fpa","fpa-icons","e791",true);a.addIcon("center","fpa","fpa-icons","e792",true);a.addIcon("no-edit","fpa","fpa-icons","e793",true);a.addIcon("lightning","fpa","fpa-icons","e794",true);a.addIcon("sum","fpa","fpa-icons","e795",true);a.addIcon("variance-bar","fpa","fpa-icons","e796",true);a.addIcon("percentage-pin","fpa","fpa-icons","e797",true);a.addIcon("alias","fpa","fpa-icons","e798",true);a.addIcon("new-table","fpa","fpa-icons","e799",true);a.addIcon("static-filter","fpa","fpa-icons","e79a",true);a.addIcon("temporary-filter","fpa","fpa-icons","e79b",true);a.addIcon("text-wrap","fpa","fpa-icons","e79c",true);a.addIcon("linked-model","fpa","fpa-icons","e79d",true);a.addIcon("linked-variable","fpa","fpa-icons","e79e",true);a.addIcon("dynamic-variable","fpa","fpa-icons","e66b",true);a.addIcon("histogram","fpa","fpa-icons","e79f",true);a.addIcon("binoculars","fpa","fpa-icons","e7a0",true);a.addIcon("new-model","fpa","fpa-icons","e7a1",true);a.addIcon("working-model","fpa","fpa-icons","e7a2",true);a.addIcon("data-set","fpa","fpa-icons","e7a3",true);a.addIcon("wrangling","fpa","fpa-icons","e7a4",true);a.addIcon("edit-wrangling","fpa","fpa-icons","e7a5",true);a.addIcon("edit-table","fpa","fpa-icons","e7a6",true);a.addIcon("mapping","fpa","fpa-icons","e7a7",true);a.addIcon("edit-mapping","fpa","fpa-icons","e7a8",true);a.addIcon("hierarchy-parent","fpa","fpa-icons","e7a9",true);a.addIcon("hierarchy-child","fpa","fpa-icons","e7aa",true);a.addIcon("hierarchy-grand-child","fpa","fpa-icons","e7ab",true);a.addIcon("slim-arrow-down","fpa","fpa-icons","e7ac",true);a.addIcon("slim-arrow-up","fpa","fpa-icons","e7ad",true);a.addIcon("slim-arrow-left","fpa","fpa-icons","e7ae",true);a.addIcon("slim-arrow-right","fpa","fpa-icons","e7af",true);a.addIcon("exit-save","fpa","fpa-icons","e7b0",true);a.addIcon("planning-sequence","fpa","fpa-icons","e7b1",true);a.addIcon("lock-drill","fpa","fpa-icons","e7b2",true);a.addIcon("screenshot","fpa","fpa-icons","e7b3",true);a.addIcon("resize-corner","fpa","fpa-icons","e7b4",true);a.addIcon("add-difference-marker","fpa","fpa-icons","e7b5",true);a.addIcon("dimension-member","fpa","fpa-icons","e7b6",true);a.addIcon("dimension-filter","fpa","fpa-icons","e7b7",true);a.addIcon("dimension-swap","fpa","fpa-icons","e7b8",true);a.addIcon("measure-filter","fpa","fpa-icons","e7b9",true);a.addIcon("measure-swap","fpa","fpa-icons","e7ba",true);a.addIcon("calculation-swap","fpa","fpa-icons","e7bb",true);a.addIcon("advanced-filter","fpa","fpa-icons","e7bc",true);a.addIcon("inspection","fpa","fpa-icons","e7bd",true);a.addIcon("new-note","fpa","fpa-icons","e7be",true);a.addIcon("tree","fpa","fpa-icons","e7bf",true);a.addIcon("clustering","fpa","fpa-icons","e7c0",true);a.addIcon("regression","fpa","fpa-icons","e7c1",true);a.addIcon("multi_selection_2","fpa","fpa-icons","e7c2",true);a.addIcon("play-process","fpa","fpa-icons","e7c3",true);a.addIcon("stop-process","fpa","fpa-icons","e7c4",true);a.addIcon("editor-comment","fpa","fpa-icons","e7c5",true);a.addIcon("radiobutton","fpa","fpa-icons","e7c6",true);a.addIcon("checkbox","fpa","fpa-icons","e7c7",true);a.addIcon("button","fpa","fpa-icons","e7c8",true);a.addIcon("dialog","fpa","fpa-icons","e7c9",true);a.addIcon("app-outline","fpa","fpa-icons","e7ca",true);a.addIcon("dropdown","fpa","fpa-icons","e7cb",true);a.addIcon("global-variables","fpa","fpa-icons","e7cc",true);a.addIcon("data-save","fpa","fpa-icons","e7cd",true);a.addIcon("max-screen","fpa","fpa-icons","e7ce",true);a.addIcon("small","fpa","fpa-icons","e7cf",true);a.addIcon("medium","fpa","fpa-icons","e7d0",true);a.addIcon("large","fpa","fpa-icons","e7d1",true);a.addIcon("duster-topics","fpa","fpa-icons","e7d2",true);a.addIcon("notes","fpa","fpa-icons","e7d3",true);a.addIcon("calendar-today","fpa","fpa-icons","e7d4",true);a.addIcon("layout-sorting","fpa","fpa-icons","e7d5",true);a.addIcon("full-name","fpa","fpa-icons","e7d6",true);a.addIcon("busy-indicator","fpa","fpa-icons","e7d7",true);a.addIcon("reject-assignee","fpa","fpa-icons","e7d8",true);a.addIcon("assignees-done","fpa","fpa-icons","e7d9",true);a.addIcon("event-process","fpa","fpa-icons","e7da",true);a.addIcon("new-member-edit","fpa","fpa-icons","e7db",true);a.addIcon("edit-member","fpa","fpa-icons","e7dc",true);a.addIcon("copy-data","fpa","fpa-icons","e7dd",true);a.addIcon("no-assignee","fpa","fpa-icons","e7de",true);a.addIcon("tri-state","fpa","fpa-icons","e7df",true);a.addIcon("distribute-spacing-vertically","fpa","fpa-icons","e7e0",true);a.addIcon("distribute-spacing-horizontally","fpa","fpa-icons","e7e1",true);a.addIcon("unique","fpa","fpa-icons","e7e2",true);a.addIcon("close-up","fpa","fpa-icons","e7e3",true);a.addIcon("number-decimals","fpa","fpa-icons","e7e4",true);a.addIcon("boolean","fpa","fpa-icons","e7e5",true);a.addIcon("translation","fpa","fpa-icons","e7e6",true);a.addIcon("dislike","fpa","fpa-icons","e7e7",true);a.addIcon("roambi","fpa","fpa-icons","e7e8",true);a.addIcon("sample-content","fpa","fpa-icons","e7e9",true);a.addIcon("business-content","fpa","fpa-icons","e7ea",true);a.addIcon("third-party-content","fpa","fpa-icons","e7eb",true);a.addIcon("team-folder","fpa","fpa-icons","e7ec",true);a.addIcon("auto-load-filter","fpa","fpa-icons","e7ed",true);a.addIcon("live-model","fpa","fpa-icons","e7ee",true);a.addIcon("comment-indicator","fpa","fpa-icons","e7ef",true);a.addIcon("comment-indicator-filled","fpa","fpa-icons","e7f0",true);a.addIcon("draft","fpa","fpa-icons","e7f1",true);a.addIcon("list-numbered-RTL","fpa","fpa-icons","e7f2",true);a.addIcon("multi_selection-RTL","fpa","fpa-icons","e7f3",true);a.addIcon("copy-data-2","fpa","fpa-icons","e7f4",true);a.addIcon("list-hierarchy","fpa","fpa-icons","e7f5",true);a.addIcon("folder-function","fpa","fpa-icons","e7f6",true);a.addIcon("canvas","fpa","fpa-icons","e7f7",true);a.addIcon("partially-completed","fpa","fpa-icons","e7f8",true);a.addIcon("stop-watch","fpa","fpa-icons","e7f9",true);a.addIcon("date-time","fpa","fpa-icons","e7fa",true);a.addIcon("apply-down","fpa","fpa-icons","e7fb",true);a.addIcon("unpivot-transformation","fpa","fpa-icons","e7fc",true);a.addIcon("sankey-chart","fpa","fpa-icons","e7fd",true);a.addIcon("performance","fpa","fpa-icons","e7fe",true);a.addIcon("google-sheets","fpa","fpa-icons","e7ff",true);a.addIcon("bpc-planning-sequence","fpa","fpa-icons","e800",true);a.addIcon("ruum","fpa","fpa-icons","e801",true);a.addIcon("range-slider","fpa","fpa-icons","e802",true);a.addIcon("slider","fpa","fpa-icons","e803",true);a.addIcon("backspace","fpa","fpa-icons","e804",true);a.addIcon("time-entry-request","fpa","fpa-icons","e805",true);a.addIcon("tab-container","fpa","fpa-icons","e807",true);a.addIcon("panel-container","fpa","fpa-icons","e808",true);a.addIcon("open-connectors","fpa","fpa-icons","e809",true);a.addIcon("moon","fpa","fpa-icons","e810",true);a.addIcon("snowflake","fpa","fpa-icons","e811",true);a.addIcon("live-table","fpa","fpa-icons","e812",true);a.addIcon("relationship-diagram","fpa","fpa-icons","e813",true);a.addIcon("fire","fpa","fpa-icons","e814",true);a.addIcon("table-view","fpa","fpa-icons","e815",true);a.addIcon("primary-key","fpa","fpa-icons","e816",true);a.addIcon("upload-to-cloud","fpa","fpa-icons","e817",true);a.addIcon("data-warehouse","fpa","fpa-icons","e818",true);a.addIcon("data-space-management","fpa","fpa-icons","e819",true);a.addIcon("table-builder","fpa","fpa-icons","e81a",true);a.addIcon("fact-view","fpa","fpa-icons","e81b",true);a.addIcon("new-view","fpa","fpa-icons","e81c",true);a.addIcon("live-data-set","fpa","fpa-icons","e81d",true);a.addIcon("temperature-cold","fpa","fpa-icons","e81e",true);a.addIcon("temperature-hot","fpa","fpa-icons","e81f",true);a.addIcon("feedback","fpa","fpa-icons","e820",true);a.addIcon("lock-archive","fpa","fpa-icons","e821",true);a.addIcon("carousel","fpa","fpa-icons","e822",true);a.addIcon("tracking","fpa","fpa-icons","e823",true);a.addIcon("toggle-switch","fpa","fpa-icons","e824",true);a.addIcon("responsive-panel","fpa","fpa-icons","e825",true);a.addIcon("move-top","fpa","fpa-icons","e826",true);a.addIcon("move-bottom","fpa","fpa-icons","e827",true);a.addIcon("association","fpa","fpa-icons","e828",true);a.addIcon("authorization-scenario","fpa","fpa-icons","e829",true);a.addIcon("consumption-model","fpa","fpa-icons","e82a",true);a.addIcon("fact-model","fpa","fpa-icons","e82b",true);a.addIcon("keyboard","fpa","fpa-icons","e82c",true);a.addIcon("data-flow","fpa","fpa-icons","e82d",true);a.addIcon("watchlist-add","fpa","fpa-icons","e82e",true);a.addIcon("watchlist","fpa","fpa-icons","e82f",true);a.addIcon("chart-table","fpa","fpa-icons","e830",true);a.addIcon("explore-table","fpa","fpa-icons","e831",true);a.addIcon("business-card","fpa","fpa-icons","e832",true);a.addIcon("permission","fpa","fpa-icons","e833",true);a.addIcon("diamond","fpa","fpa-icons","e834",true);a.addIcon("bullet-chart","fpa","fpa-icons","e835",true);a.addIcon("folder-search","fpa","fpa-icons","e836",true);a.addIcon("catalog","fpa","fpa-icons","e837",true);a.addIcon("retail-store-manager","fpa","fpa-icons","e838",true);a.addIcon("retail-store-share","fpa","fpa-icons","e839",true);a.addIcon("linked-analysis-tree","fpa","fpa-icons","e83a",true);a.addIcon("employee-rejections","fpa","fpa-icons","e83b",true);a.addIcon("employee-approvals","fpa","fpa-icons","e83c",true);a.addIcon("color-fill-square","fpa","fpa-icons","e83d",true);a.addIcon("color-white-square","fpa","fpa-icons","e83e",true);a.addIcon("object-mapper","fpa","fpa-icons","e83f",true);a.addIcon("replication-flow","fpa","fpa-icons","e840",true);a.addIcon("css-editor","fpa","fpa-icons","e841",true);a.addIcon("formula-measure","fpa","fpa-icons","e842",true);a.addIcon("formula-dimension","fpa","fpa-icons","e843",true);a.addIcon("formula-account","fpa","fpa-icons","e844",true);a.addIcon("fill-background-color-white-square","fpa","fpa-icons","e845",true);a.addIcon("fill-background-color-square","fpa","fpa-icons","e846",true);a.addIcon("numeric-ghoststate","fpa","fpa-icons","e847",true);a.addIcon("intelligent-lookup","fpa","fpa-icons","e848",true);a.addIcon("requirement-diagram","fpa","fpa-icons","e849",true);a.addIcon("boolean-circles","fpa","fpa-icons","e84a",true);a.addIcon("uuid","fpa","fpa-icons","e84b",true);a.addIcon("binary","fpa","fpa-icons","e84c",true);a.addIcon("person-key","fpa","fpa-icons","e84d",true);a.addIcon("business-entity","fpa","fpa-icons","e84e",true)});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ListHelper",[],function(){"use strict";function t(t){var r=[];while(t.hasNext()){r.push(t.next())}return r}function r(){this.arrayFromIter=t;this.arrayFromList=function(r){return t(r.getIterator())}}return new r});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ResourceBundle",["sap/sac/df/utils/ResourceModel"],function(e){"use strict";var t=e.getResourceBundle();t.getTextWithPlaceholder=function(e,u){return t.getText(e,u)};t.getTextWithPlaceholder2=function(e,u,r){return t.getText(e,[u,r])};return t});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ResourceModel",["sap/ui/model/resource/ResourceModel"],function(e){"use strict";return new e({bundleName:"sap/sac/df/i18n/localization"})});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ResultSetHelper",["sap/base/Log","sap/sac/df/types/ValueType","sap/sac/df/utils/ListHelper","sap/sac/df/types/MemberType","sap/sac/df/utils/ResourceBundle","sap/sac/df/thirdparty/lodash"],function(e,t,a,i,r,n){"use strict";e.info("ResultSetHelper loaded");function u(){var u=this;u.dimensionMembersToList=function(e,t){if(!t){return null}return n.filter(n.map(a.arrayFromIter(t.getAxis(e.getAxisType()).getTuplesIterator()),function(t){var a=t.getTupleElementByDimension(e);var i=a&&a.getDimensionMember();return i?{Name:e.isStructure()&&e.getAllStructureMembers().getByKey(i.getName()).getFieldValue(e.getDisplayKeyField())?e.getAllStructureMembers().getByKey(i.getName()).getFieldValue(e.getDisplayKeyField()).getValue().getString():i.getName(),TechName:i.getName(),Description:i.getText()}:null}),n.identity)};u.tupleToObject=function(e){return n.reduce(e.getElements().getListFromImplementation(),function(e,t){var a=t.getDimensionMember().getName();e[t.getDimension().getExternalName()||t.getDimension().getName()]=a;return e},{})};u.getFields=function(e){var t=e.getKeyField();var a=e.getDisplayKeyField()||t;var i=e.getTextField()||a;return{oKeyField:t,oDisplayKeyField:a,oTextField:i}};u.flatten=function(t){var r={};var s={};var l=t.getQueryModel().getMeasureDimension();function g(t){return{tuple:t,member:n.reduce(t.getElements().getListFromImplementation(),function(a,n){var g=n.getDimensionMember();var m=g.getDimension();var o=u.getFields(m);var p=o.oTextField;if(m!=l){if(a&&g.getMemberType().getName()==i.Member){var c=m.getExternalName()||m.getName();s[c]={Name:c,Description:p?g.getFieldValue(p).getString():""};a[c]=g.getFieldValue(p).getString();return a}else{return a}}else{if(m.isStructure()){var d=g.getKeyFieldValue();if(d){var y=m.getStructureMemberByKey(d.getString()).getFieldValue(o.oDisplayKeyField)||m.getStructureMemberByKey(d.getString()).getFieldValue(o.oKeyField);if(y){t.kyf=y.getString()}else{e.error("Structure member has no string representation")}}else{e.error("Structure member has no string representation")}}else{t.kyf=g.getFieldValue(o.oDisplayKeyField).getString()}r[t.kyf]={Name:t.kyf,Description:g.getFieldValue(p)?g.getFieldValue(p).getString():t.kyf};return a}},{})}}function m(e){return n.map(a.arrayFromIter(e.getTuplesIterator()),g)}function o(e){var t=null;var a=e.getDataCell().getReferenceStructureElement1();if(a){var i=a.getDimension().getDisplayKeyField();var r=a.getFieldValue(i);t=r?r.getString():a.getName()}if(!t){a=e.getDataCell().getReferenceStructureElement2();if(a){i=a.getDimension().getDisplayKeyField();r=a.getFieldValue(i);t=r?r.getString():a.getName()}}return t}function p(e){var t=e.getValueException();return t===sap.firefly.ValueException.NULL_VALUE||t===sap.firefly.ValueException.UNDEFINED}function c(e){var t=e.getValueType().isNumber();var a=t?0:"";return p(e)?a:t?e.getValue():e.getFormattedValue()}var d=n.filter(m(t.getColumnsAxis()),"member");var y=n.filter(m(t.getRowsAxis()),"member");var f=y.length>0?n.flatten(n.map(y,function(e){return n.map(d,function(a){var i=n.assign(n.clone(e.member),a.member);var r=t.getDataCellByTuples(a.tuple,e.tuple);if(r){if(r.getDataCell()){if(l){var u=o(r);i[u]=c(r)}}else if(e.tuple&&e.tuple.kyf||a.tuple&&a.tuple.kyf){i[e.tuple&&e.tuple.kyf||a.tuple&&a.tuple.kyf]=c(r)}}return i})})):d.length>0?n.map(d,function(e){var a=n.clone(e.member);var i=t.getDataCell(e.tuple.getAxisIndex(),0);if(i){if(i.getDataCell()){if(l){var r=o(i);a[r]=c(i)}}else if(e.tuple&&e.tuple.kyf){a[e.tuple&&e.tuple.kyf]=c(i)}}return a}):[];return{FlatResultSet:f,Measures:n.map(r,n.identity),Dimensions:n.map(s,n.identity)}};function s(e,t,a){if(e.length<1||t.length<1){return{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[1,1])}]}}return{Feeds:[{uid:"categoryAxis",type:"Dimension",values:[a.catDimension||e[0].Name]},{uid:"valueAxis",type:"Measure",values:n.map(t,function(e){return e.Name})}]}}function l(e,t){return e.length<1||t.length<1?{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[1,1])}]}:{Feeds:[{uid:"color",type:"Dimension",values:[e[0].Name]},{uid:"size",type:"Measure",values:[t[0].Name]}]}}function g(e,t,a){if(e.length<2||t.length<1){return{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[1,1])}]}}var i=[{uid:"categoryAxis",type:"Dimension",values:[a.catDimension||e[0].Name]},{uid:"color",type:"Measure",values:[t[0].Name]}];if(a.cat2Dimension){i.push({uid:"categoryAxis2",type:"Dimension",values:[a.cat2Dimension]})}return{Feeds:i}}function m(e,t,a){return e.length<1||t.length<1?{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[2,1])}]}:{Feeds:[{uid:"valueAxis",type:"Measure",values:[t[0].Name]},{uid:"categoryAxis",type:"Dimension",values:[a.catDimension||e[0].Name]},{uid:"color",type:"Dimension",values:[a.colDimension]}]}}function o(e,t){return e.length<1||t.length<3?{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[1,3])}]}:{Feeds:[{uid:"valueAxis",type:"Measure",values:[t[0].Name]},{uid:"valueAxis2",type:"Measure",values:[t[1].Name]},{uid:"bubbleWidth",type:"Measure",values:[t[2].Name]},{uid:"color",type:"Dimension",values:[e[0].Name]}]}}function p(e,t){return e.length<2||t.length<3?{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[2,2])}]}:{Feeds:[{uid:"title",type:"Dimension",values:[e[0].Name]},{uid:"title",type:"Dimension",values:[e[1].Name]},{uid:"color",type:"Measure",values:[t[0].Name]},{uid:"weight",type:"Measure",values:[t[1].Name]}]}}function c(e,t){return e.length<1||t.length<2?{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[1,2])}]}:{Feeds:[{uid:"valueAxis",type:"Measure",values:[t[0].Name]},{uid:"valueAxis2",type:"Measure",values:[t[1].Name]},{uid:"color",type:"Dimension",values:[e[0].Name]}]}}function d(e,t){return e.length<2||t.length<1?{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[2,1])}]}:{Feeds:[{uid:"valueAxis",type:"Measure",values:[t[0].Name]},{uid:"categoryAxis",type:"Dimension",values:[e[0].Name]},{uid:"waterfallType",type:"Dimension",values:[e[1].Name]}]}}function y(e,t){return e.length<1?{Messages:[{msgText:r.getText("CHARTTYPE_NEED_SUPPORTED",[1])}]}:{Feeds:[{uid:"categoryAxis",type:"Dimension",values:[e[0].Name]},{uid:"valueAxis",type:"Measure",values:n.map(t,function(e){return e.Name})}]}}function f(e,t){return e.length<1?{Messages:[{msgText:r.getText("CHARTTYPE_NEED_SUPPORTED",[1])}]}:{Feeds:[{uid:"timeAxis",type:"Dimension",values:[e[0].Name]},{uid:"valueAxis",type:"Measure",values:n.map(t,function(e){return e.Name})}]}}function T(e,t){if(e.length<1||t.length<3&&t.length<2){return{Messages:[{msgText:r.getText("CHARTTYPE_NEEDS_SUPPORTED",[1,2])}]}}var a=[{uid:"actualValues",type:"Measure",values:[t[0].Name]},{uid:"targetValues",type:"Measure",values:[t[1].Name]},{uid:"categoryAxis",type:"Dimension",values:[e[0].Name]}];if(t.length>2){a.push({uid:"additionalValues",type:"Measure",values:[t[2].Name]})}return{Feeds:a}}u.calculateFeeds=function e(t,a,i,n){switch(t){case"bar":return s(a,i,n);case"column":return s(a,i,n);case"bubble":return o(a,i);case"stacked_column":return m(a,i,n);case"pie":return l(a,i);case"donut":return l(a,i);case"stacked_bar":return m(a,i,n);case"vertical_bullet":return T(a,i);case"horizontal_bullet":return T(a,i);case"heatmap":return g(a,i,n);case"line":return y(a,i);case"time_line":return f(a,i);case"scatter":return c(a,i);case"waterfall":return d(a,i);case"horizontal_waterfall":return d(a,i);case"treemap":return p(a,i);default:return{Messages:[{msgText:r.getText("CHARTTYPE_NOT_SUPPORTED",[t])}]}}};u.transformVariable=function(e){return{Name:e.getNameExternal()||e.getName(),Dimension:e.getDimension&&e.getDimension()&&(e.getDimension().getExternalName()||e.getDimension().getName()),ValueType:e.getValueType().getName(),VariableType:e.getVariableType().getName(),Description:e.getText(),Mandatory:e.isMandatory(),SupportsMultipleValues:e.supportsMultipleValues(),TechName:e.getName(),InputEnabled:e.isInputEnabled(),Position:e.getVariableOrder(),SupportsValueHelp:e.supportsValueHelp&&e.supportsValueHelp(),Hints:{IsDate:e.getValueType().getName()===t.Date,IsNoDate:e.getValueType().getName()!==t.Date},MemberFilter:e.getMemberFilter?n.map(a.arrayFromList(e.getMemberFilter()),function(e){var t=e.getDimension();var a=t&&t.getTextField()&&e.getLow().getSupplementValueString(e.getDimension().getTextField().getName())?e.getLow().getSupplementValueString(e.getDimension().getTextField().getName()):e.getLow().getString();var i=t&&t.getTextField()&&e.getHigh().getSupplementValueString(e.getDimension().getTextField().getName())?e.getHigh().getSupplementValueString(e.getDimension().getTextField().getName()):e.getHigh().getString();var r=i?[a,i].join(" - "):a;if(e.getSetSign()===sap.firefly.SetSign.EXCLUDING){r="!( "+r+")"}return{Low:e.getLow().getString(),High:e.getHigh().getString(),ComparisonOperator:e.getComparisonOperator().getName(),Text:r,IsExcluding:e.getSetSign().getName()}}):function(){var t=e.getValueByString();if(!t){return[]}return[{Low:t,ComparisionOperator:"EQUAL",Text:t,IsExcluding:false}]}()}}}return new u});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/SyncActionHelper",["sap/base/Log","sap/sac/df/utils/ListHelper","sap/sac/df/thirdparty/lodash"],function(e,s,t){e.info("Load SyncAction Helper");function a(){var e=this;function a(e){var a=new Error(e.getSummary());a.getMessages=t.constant(s.arrayFromList(e.getMessages()).map(function(e){var s=e.getSeverity().getName();if(s==="Info"){s="Information"}return{Text:e.getText(),Severity:s,Code:e.getCode(),MessageClass:e.getMessageClass(),LongTextUri:e.getMessageClass()?["/sap/opu/odata/iwbep/message_text;message=LOCAL/T100_longtexts(MSGID='",encodeURIComponent(e.getMessageClass()),"',MSGNO='",encodeURIComponent(e.getCode()),"',MESSAGE_V1='',MESSAGE_V2='',MESSAGE_V3='',MESSAGE_V4='')/$value"].join(""):null}}));return a}e.reject=a;e.syncActionToPromise=function(e,s,n){var o,r;function i(e,s){o=e;r=s}function c(e){if(e.hasErrors()){r(a(e))}else{o(e.getData())}}var g=new Promise(i);e.apply(s,t.concat([sap.firefly.SyncType.NON_BLOCKING,c],n));return g}}return new a});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/TokenHelper",["sap/m/Token","sap/ui/core/CustomData","sap/sac/df/types/ComparisonOperator","sap/sac/df/thirdparty/lodash"],function(e,t,n,r){"use strict";function o(e,t){if(e){if(e==="<"){return t?n.LESS_EQUAL:n.LESS}else{return t?n.GREATER_EQUAL:n.GREATER}}else{return n.EQUAL}}function a(e){return new Date(e)}function i(e){if(typeof e!=="object"){throw new Error("Invalid date")}var t=e.getDate();var n=e.getMonth()+1;var r=e.getFullYear();return""+r+"-"+(n<=9?"0"+n:n)+"-"+(t<=9?"0"+t:t)}function s(){var s=this;s.dateToYMD=i;s.datsToDate=a;s.rangeToToken=function(n){return new e({key:n.Low,text:n.Text,customData:r.map(n,function(e,n){return new t({key:n,value:e})})})};this.tokenToRange=function(e){var t=e.data();if(t.ComparisonOperator){return{ComparisonOperator:t.ComparisonOperator,High:t.High,IsExcluding:t.IsExcluding,Low:e.getKey(),Text:e.getText()}}else{return{ComparisonOperator:n.EQUAL,Low:e.getKey(),IsExcluding:false,Text:e.getText()}}};this.stringToTokens=function(e){return r.map(e.split(","),this.stringToToken)};this.stringToToken=function(e){var t=null;var r=e.match(/(!)?(.+) - (.+)/);if(r){t={Low:r[2],High:r[3],IsExcluding:!!r[1],Text:e,ComparisonOperator:n.BETWEEN}}else{r=e.match(/(!)?(<|>)?(=)?(.+)/);if(r){t={Low:r[4],Text:e,IsExcluding:!!r[1],ComparisonOperator:o(r[2],r[3])}}}return s.rangeToToken(t)}}return new s});
sap.ui.require.preload({
	"sap/sac/df/InACard/fragment/InACard.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns:m="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:eg="sap.sac.df"\n    xmlns:viz="sap.viz.ui5.controls"\n    xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds"\n    xmlns:viz.data="sap.viz.ui5.data"\n    id="cardFrag"\n><m:VBox\n      id="vb1"\n      height="100%"\n      width="100%"\n      class="sapUiSmallMargin"\n      ><eg:PivotTable\n        id="PivotTable"\n        navigationCmd="onPress"\n        dataProviderName="{ovpCardProperties>/dataProviderName}"\n        visible="{=${ovpCardProperties>/widgetType}===\'pivot\'}"\n        /><viz:VizFrame\n      id="idVizFrame"\n      selectData="onChartPress"\n      uiConfig="{applicationSet:\'fiori\'}"\n      vizType="{om>/dataProvider/0/Chart/chartType}"\n      renderComplete="adjustHeight"\n      feeds="{om>/dataProvider/0/Chart/Feeds}"\n      vizProperties="{om>/dataProvider/0/Chart/vizProperties}"\n      visible="{=${ovpCardProperties>/widgetType}!==\'pivot\'}"\n      width="100%"\n      height="100%"><viz:dataset><viz.data:FlattenedDataset\n          id="flatDS"\n          data="{om>/dataProvider/0/FlatResultSet}"\n          dimensions="{om>/dataProvider/0/FlatDimensions}"\n          measures="{om>/dataProvider/0/Measures}"\n          ><viz.data:dimensions><viz.data:DimensionDefinition\n              id="chartViewDimDef"\n              name="{om>Description}"\n              identity="{om>Name}"\n              value="{om>Name}" /></viz.data:dimensions><viz.data:measures><viz.data:MeasureDefinition\n              id="chartViewMeasureDef"\n              name="{om>Description}"\n              identity="{om>Name}"\n              value="{om>Name}" /></viz.data:measures></viz.data:FlattenedDataset></viz:dataset><viz:feeds><viz.feeds:FeedItem\n          uid="{om>uid}"\n          type="{om>type}"\n          values="{om>values}"\n          /></viz:feeds></viz:VizFrame></m:VBox></core:FragmentDefinition>\n',
	"sap/sac/df/InACard/manifest.json":'{"_version":"1.8.0","sap.app":{"id":"sap.sac.df.InACard","title":"InA Card","type":"component","i18n":"messagebundle.properties","ach":"BI-RA-AD-EA","embeddedBy":"../","resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_belize","sap_hcb","sap_fiori_3"],"fullWidth":true},"sap.ui5":{"contentDensities":{"compact":true,"cozy":true},"resources":{"js":[{"uri":"Component.js"}]},"dependencies":{"libs":{"sap.sac.df":{"lazy":false},"sap.viz":{"lazy":false},"sap.m":{"lazy":false},"sap.ovp":{"lazy":false}}},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"sap.sac.df.messagebundle"}}}}}',
	"sap/sac/df/inatile/MicroBarChart.fragment.xml":'<core:FragmentDefinition\n    xmlns:m="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:mc="sap.suite.ui.microchart"\n    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n    id="microBarChart"><mc:ColumnMicroChart\n      size="L"\n      class="sapUiSmallMargin"\n      allowColumnLabels="true"\n      columns="{mc>/columns}"\n  ><mc:columns><mc:ColumnMicroChartData\n          value="{mc>value}"\n          label="{mc>label}"\n          displayValue="{mc>displayValue}"\n      /></mc:columns></mc:ColumnMicroChart></core:FragmentDefinition>\n',
	"sap/sac/df/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.sac.df","type":"library","embeds":["InACard"],"applicationVersion":{"version":"1.108.15"},"title":"Dragonfly library for visualizing the analytical multidimensional data","description":"Dragonfly library for visualizing the analytical multidimensional data","ach":"LOD-ANA-FLY-DF","resources":"resources.json","offline":true,"openSourceComponents":[{"name":"lodash","packagedWithMySelf":true,"version":"4.17.14"},{"name":"interactjs","packagedWithMySelf":true,"version":"1.10.5"}]},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_hcb","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.108","libs":{"sap.ui.core":{"minVersion":"1.108.27"},"sap.ui.layout":{"minVersion":"1.108.27"},"sap.ui.table":{"minVersion":"1.108.27"},"sap.f":{"minVersion":"1.108.27"},"sap.m":{"minVersion":"1.108.27"},"sap.sac.grid":{"minVersion":"1.108.15"},"sap.tnt":{"minVersion":"1.108.27"}}},"library":{"i18n":false,"content":{"controls":["sap.sac.df.PivotTable","sap.sac.df.inatile.InATile","sap.sac.df.DFProgram","sap.sac.df.FlexAnalysis"],"elements":["sap.sac.df.FlexAnalysisPanel"],"types":["sap.sac.df.types.SystemType"],"interfaces":[]}}}}',
	"sap/sac/df/view/Pivot.view.xml":'<mvc:View controllerName="sap.sac.df.controller.Pivot"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:eg="sap.sac.grid"\n    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n    busyIndicatorDelay="1"\n    height="100%"\n    id="PivotView"><eg:Grid id="theEasyGrid"\n        virtualRows="{om>/DataProvider/0/Grid/virtualRows}"\n        virtualColumns="{om>/DataProvider/0/Grid/virtualColumns}"\n        fixedRows="{om>/DataProvider/0/Grid/fixedRows}"\n        fixedColumns="{om>/DataProvider/0/Grid/fixedColumns}"\n        format="{om>/DataProvider/0/format}"\n        input="{om>/DataProvider/0/Grid/input}"\n        cells="{path:\'om>/DataProvider/0/Grid/Cells\',templateShareable:true}"\n        rightClick="onRightClick"\n        requestMoreRows="requestRows"\n        columnLimit="{om>/colLimit}"\n        rowLimit="{om>/rowLimit}"\n        requestMoreColumns="requestColumns"\n        drill="onDrill"><eg:Cell id="dataCell"\n            row="{om>Row}"\n            column="{om>Column}"\n            documentId="{om>DocumentId}"\n            inputEnabled="{om>Input}"\n            tooltip="{om>tooltip}"\n            displayValue="{om>DisplayValue}"\n            displayLevel="{om>DisplayLevel}"\n            cellType="{om>Semantic}"\n            alertLevel="{om>AlertLevel}"\n            valueState="{om>valueState}"\n            icon="{om>Icon}"\n            helpId="{om>DataValueId}"\n            app:cellMember="{om>Member}"\n            semanticClass="{om>SemanticClass}"\n            app:cellEltuid="{om>Member2}"\n            app:dataValueId="{om>DataValueId}"\n            app:cellValueType="{om>cellValueType}"\n            app:cellDimension="{om>Dimension}"\n            app:cellDimensionOther="{om>DimensionOther}"\n            app:cellAttribute="{om>cellAttribute}"\n            app:tupleIndex="{om>TupleIndex}"\n            app:dataCell="{om>dataCell}"\n            app:position="{om>position}"\n            app:dataRow="{om>DataRow}"\n            app:dataColumn="{om>DataColumn}" /></eg:Grid></mvc:View>\n'
});
//# sourceMappingURL=library-preload.js.map
