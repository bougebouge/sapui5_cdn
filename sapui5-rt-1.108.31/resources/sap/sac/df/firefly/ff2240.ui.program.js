/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff2220.ui.tools"],function(e){"use strict";e.SiWriterJava=function(){};e.SiWriterJava.prototype=new e.XObject;e.SiWriterJava.prototype._ff_c="SiWriterJava";e.SiWriterJava.create=function(){var t=new e.SiWriterJava;t.m_buffer=e.XStringBufferExt.create();return t};e.SiWriterJava.prototype.m_buffer=null;e.SiWriterJava.prototype.writeExpressionSequence=function(t){var n=t.getChildren();for(var i=0;i<n.size();i++){var r=n.get(i);r.write(this);if(r.getType()!==e.SiTokenType.CURLY_BRACKET){this.m_buffer.append(";")}}};e.SiWriterJava.prototype.writeBlock=function(t){this.m_buffer.append("{");var n=t.getChild();if(e.notNull(n)){n.write(this)}this.m_buffer.append("}")};e.SiWriterJava.prototype.writeFunction=function(t){this.m_buffer.append(t.getValue());this.m_buffer.append("(");var n=t.getChildren();if(e.notNull(n)){for(var i=0;i<n.size();i++){if(i>0){this.m_buffer.append(",")}var r=n.get(i);r.write(this)}}this.m_buffer.append(")")};e.SiWriterJava.prototype.writeIdentifier=function(e){this.m_buffer.append(e.getValue())};e.SiWriterJava.prototype.writeString=function(e){this.m_buffer.append("'");this.m_buffer.append(e.getValue());this.m_buffer.append("'")};e.SiWriterJava.prototype.writeInteger=function(e){this.m_buffer.append(e.getValue())};e.SiWriterJava.prototype.writeDouble=function(e){this.m_buffer.append(e.getValue())};e.SiWriterJava.prototype.writeOpDot=function(e){this.writeOp(e,".")};e.SiWriterJava.prototype.writeOpPlus=function(e){this.writeOp(e,"+")};e.SiWriterJava.prototype.writeOpMinus=function(e){this.writeOp(e,"-")};e.SiWriterJava.prototype.writeOpMult=function(e){this.writeOp(e,"*")};e.SiWriterJava.prototype.writeOpDiv=function(e){this.writeOp(e,"/")};e.SiWriterJava.prototype.writeOpLower=function(e){this.writeOp(e,"<")};e.SiWriterJava.prototype.writeOpLowerEqual=function(e){this.writeOp(e,"<=")};e.SiWriterJava.prototype.writeOpGreater=function(e){this.writeOp(e,">")};e.SiWriterJava.prototype.writeOpGreaterEqual=function(e){this.writeOp(e,">=")};e.SiWriterJava.prototype.writeOpEqual=function(e){this.writeOp(e,"==")};e.SiWriterJava.prototype.writeOpNotEqual=function(e){this.writeOp(e,"!=")};e.SiWriterJava.prototype.writeOpBoolAnd=function(e){this.writeOp(e,"&&")};e.SiWriterJava.prototype.writeOpBoolOr=function(e){this.writeOp(e,"||")};e.SiWriterJava.prototype.writeOp=function(e,t){var n=e.getLeft();n.write(this);this.m_buffer.append(t);var i=e.getRight();i.write(this)};e.SiWriterJava.prototype.writeDefault=function(e){};e.SiWriterJava.prototype.writeTrue=function(e){this.m_buffer.append("true")};e.SiWriterJava.prototype.writeFalse=function(e){this.m_buffer.append("false")};e.SiWriterJava.prototype.toString=function(){return this.m_buffer.toString()};e.CustomControlRegistration={s_controls:null,staticSetup:function(){e.CustomControlRegistration.s_controls=e.XHashMapByString.create()},setCustomControl:function(t,n){e.CustomControlRegistration.s_controls.put(t,n)},getCustomControl:function(t){return e.CustomControlRegistration.s_controls.getByKey(t)},getAllEntries:function(){return e.CustomControlRegistration.s_controls}};e.GlobalValueHolder=function(){};e.GlobalValueHolder.prototype=new e.XObject;e.GlobalValueHolder.prototype._ff_c="GlobalValueHolder";e.GlobalValueHolder.prototype.m_content=null;e.GlobalValueHolder.prototype.setContent=function(e){this.m_content=e};e.GlobalValueHolder.prototype.getContent=function(){return this.m_content};e.SxJsonDp=function(){};e.SxJsonDp.prototype=new e.XObject;e.SxJsonDp.prototype._ff_c="SxJsonDp";e.SxJsonDp.prototype.m_structure=null;e.SxJsonDp.prototype.m_name=null;e.SxJsonDp.prototype.m_tagging=null;e.SxJsonDp.prototype.getComponentType=function(){return e.QuasarComponentType.JSON_DATA_PROVIDER};e.SxJsonDp.prototype.getTagging=function(){return this.m_tagging};e.SxJsonDp.prototype.getDataProviderName=function(){return this.m_name};e.SxJsonDp.prototype.setDataProviderName=function(e){this.m_name=e};e.SxJsonDp.prototype.getElementByPath=function(t){var n=e.XStringTokenizer.splitString(t,"/");var i=this.m_structure;var r=0;for(;r<n.size()&&e.notNull(i);r++){var o=n.get(r);var a=i.getType();if(a===e.PrElementType.LIST){var p=i;var s=this.convertArray(o);if(s>=0&&s<p.size()){i=p.get(s)}else{i=null}}else if(a===e.PrElementType.STRUCTURE){var l=i;i=l.getByKey(o)}else{i=null}}var u=null;if(r===n.size()&&e.notNull(i)){u=i}return u};e.SxJsonDp.prototype.setElementByPath=function(t,n){var i;var r;var o;var a;var p;var s=e.XStringTokenizer.splitString(t,"/");var l=this.m_structure;var u=0;for(;u<s.size()-1&&e.notNull(l);u++){i=s.get(u);r=l.getType();if(r===e.PrElementType.LIST){o=l;p=this.convertArray(i);if(p>=0&&p<o.size()){l=o.get(p)}else{l=null}}else if(r===e.PrElementType.STRUCTURE){a=l;l=a.getByKey(i)}else{l=null}}if(e.notNull(l)){i=s.get(u);r=l.getType();if(r===e.PrElementType.LIST){o=l;p=this.convertArray(i);if(p>=0&&p<o.size()){l=o.get(p)}else{l=null}}else if(r===e.PrElementType.STRUCTURE){a=l;l=a.getByKey(i)}}};e.SxJsonDp.prototype.convertArray=function(t){var n=-1;if(e.XString.startsWith(t,"(")&&e.XString.endsWith(t," )")){var i=e.XString.size(t);var r=e.XString.substring(t,1,i-2);n=e.XInteger.convertFromStringWithDefault(r,-1)}return n};e.SxJsonDpBindingFactory=function(){};e.SxJsonDpBindingFactory.prototype=new e.DpBindingFactory;e.SxJsonDpBindingFactory.prototype._ff_c="SxJsonDpBindingFactory";e.SxJsonDpBindingFactory.staticSetupJsonBindingFactory=function(){e.DpBindingFactory.registerFactory(e.QuasarComponentType.JSON_DATA_PROVIDER,new e.SxJsonDpBindingFactory)};e.SxJsonDpBindingFactory.prototype.newBindingProvider=function(t,n){var i=t;return e.SxJsonDpBindingProvider.create(i,n)};e.SxJsonDpBindingProvider=function(){};e.SxJsonDpBindingProvider.prototype=new e.XObject;e.SxJsonDpBindingProvider.prototype._ff_c="SxJsonDpBindingProvider";e.SxJsonDpBindingProvider.create=function(t,n){var i=new e.SxJsonDpBindingProvider;i.m_dp=t;i.m_path=n;return i};e.SxJsonDpBindingProvider.prototype.m_dp=null;e.SxJsonDpBindingProvider.prototype.m_path=null;e.SxJsonDpBindingProvider.prototype.getSenderBindings=function(){var t=e.XList.create();t.add(e.SemanticBindingType.STRING);return t};e.SxJsonDpBindingProvider.prototype.getReceiverBindings=function(){var t=e.XList.create();t.add(e.SemanticBindingType.STRING);return t};e.SxJsonDpBindingProvider.prototype.getSenderProtocolBindings=function(t){var n=e.XList.create();n.add(e.ProtocolBindingType.STRING);return n};e.SxJsonDpBindingProvider.prototype.getReceiverProtocolBindings=function(t){var n=e.XList.create();n.add(e.ProtocolBindingType.STRING);return n};e.SxJsonDpBindingProvider.prototype.newSenderBinding=function(t,n){return e.SxJsonDpBindingSender.create(this.m_dp,this.m_path)};e.SxJsonDpBindingProvider.prototype.newReceiverBinding=function(t,n){return e.SxJsonDpBindingReceiver.create(this.m_dp,this.m_path)};e.SxRestDp=function(){};e.SxRestDp.prototype=new e.XObject;e.SxRestDp.prototype._ff_c="SxRestDp";e.SxRestDp.prototype.m_structure=null;e.SxRestDp.prototype.m_name=null;e.SxRestDp.prototype.m_httpClient=null;e.SxRestDp.prototype.m_application=null;e.SxRestDp.prototype.m_tagging=null;e.SxRestDp.prototype.m_dataRetrieved=false;e.SxRestDp.prototype.m_dataUpdateListener=null;e.SxRestDp.prototype.setupExt=function(t,n,i){this.setup();this.m_application=i;this.m_dataRetrieved=false;this.m_structure=e.PrStructure.create();this.setDataProviderName(t);this.setEndpointUrl(n);this.m_application.registerDataProvider(this)};e.SxRestDp.prototype.releaseObject=function(){this.m_application.unregisterDataProvider(this);this.m_application=null;this.m_httpClient=e.XObjectExt.release(this.m_httpClient);e.XObject.prototype.releaseObject.call(this)};e.SxRestDp.prototype.getComponentType=function(){return e.QuasarComponentType.REST_DATA_PROVIDER};e.SxRestDp.prototype.getTagging=function(){return this.m_tagging};e.SxRestDp.prototype.getDataProviderName=function(){return this.m_name};e.SxRestDp.prototype.setDataProviderName=function(e){this.m_name=e};e.SxRestDp.prototype.isDataReady=function(){return this.m_dataRetrieved};e.SxRestDp.prototype.registerDataUpdate=function(e){this.m_dataUpdateListener=e};e.SxRestDp.prototype.setEndpointUrl=function(t){if(e.XStringUtils.isNotNullAndNotEmpty(t)){var n=e.XUri.createFromUrl(t);if(e.notNull(n)){this.m_httpClient=e.HttpClientFactory.newInstanceByConnection(this.m_application.getSession(),n);if(e.notNull(this.m_httpClient)){var i=this.m_httpClient.getRequest();i.setFromUri(n);i.setCorsSecured(false)}}}};e.SxRestDp.prototype.updateData=function(){if(e.notNull(this.m_httpClient)){this.m_httpClient.processHttpRequest(e.SyncType.NON_BLOCKING,this,null)}};e.SxRestDp.prototype.onHttpResponse=function(t,n,i){if(t.isValid()){var r=t.getData();if(e.notNull(r)){var o=r.getJsonContent();if(e.notNull(o)){this.m_structure=o.asStructure();this.m_dataRetrieved=true;if(e.notNull(this.m_dataUpdateListener)){this.m_dataUpdateListener.onRestDataUpdate(this.m_structure,null)}}}}};e.SxRestDp.prototype.getElementByPath=function(t){var n=e.XStringTokenizer.splitString(t,"/");var i=this.m_structure;var r=0;for(;r<n.size()&&e.notNull(i);r++){var o=n.get(r);var a=i.getType();if(a===e.PrElementType.LIST){var p=i;var s=this.convertArray(o);if(s>=0&&s<p.size()){i=p.get(s)}else{i=null}}else if(a===e.PrElementType.STRUCTURE){var l=i;i=l.getByKey(o)}else{i=null}}var u=null;if(r===n.size()&&e.notNull(i)){u=i}return u};e.SxRestDp.prototype.setElementByPath=function(t,n){var i;var r;var o;var a;var p;var s=e.XStringTokenizer.splitString(t,"/");var l=this.m_structure;var u=0;for(;u<s.size()-1&&e.notNull(l);u++){i=s.get(u);r=l.getType();if(r===e.PrElementType.LIST){o=l;p=this.convertArray(i);if(p>=0&&p<o.size()){l=o.get(p)}else{l=null}}else if(r===e.PrElementType.STRUCTURE){a=l;l=a.getByKey(i)}else{l=null}}if(e.notNull(l)){i=s.get(u);r=l.getType();if(r===e.PrElementType.LIST){o=l;p=this.convertArray(i);if(p>=0&&p<o.size()){l=o.get(p)}else{l=null}}else if(r===e.PrElementType.STRUCTURE){a=l;l=a.getByKey(i)}}};e.SxRestDp.prototype.convertArray=function(t){var n=-1;if(e.XString.startsWith(t,"(")&&e.XString.endsWith(t," )")){var i=e.XString.size(t);var r=e.XString.substring(t,1,i-2);n=e.XInteger.convertFromStringWithDefault(r,-1)}return n};e.SxRestDpBindingFactory=function(){};e.SxRestDpBindingFactory.prototype=new e.DpBindingFactory;e.SxRestDpBindingFactory.prototype._ff_c="SxRestDpBindingFactory";e.SxRestDpBindingFactory.staticSetupJsonBindingFactory=function(){e.DpBindingFactory.registerFactory(e.QuasarComponentType.REST_DATA_PROVIDER,new e.SxRestDpBindingFactory)};e.SxRestDpBindingFactory.prototype.newBindingProvider=function(t,n){var i=t;return e.SxRestDpBindingProvider.create(i,n)};e.SxRestDpBindingProvider=function(){};e.SxRestDpBindingProvider.prototype=new e.XObject;e.SxRestDpBindingProvider.prototype._ff_c="SxRestDpBindingProvider";e.SxRestDpBindingProvider.create=function(t,n){var i=new e.SxRestDpBindingProvider;i.m_dp=t;i.m_path=n;return i};e.SxRestDpBindingProvider.prototype.m_dp=null;e.SxRestDpBindingProvider.prototype.m_path=null;e.SxRestDpBindingProvider.prototype.getSenderBindings=function(){var t=e.XList.create();t.add(e.SemanticBindingType.STRING);return t};e.SxRestDpBindingProvider.prototype.getReceiverBindings=function(){var t=e.XList.create();t.add(e.SemanticBindingType.STRING);return t};e.SxRestDpBindingProvider.prototype.getSenderProtocolBindings=function(t){var n=e.XList.create();n.add(e.ProtocolBindingType.STRING);return n};e.SxRestDpBindingProvider.prototype.getReceiverProtocolBindings=function(t){var n=e.XList.create();n.add(e.ProtocolBindingType.STRING);return n};e.SxRestDpBindingProvider.prototype.newSenderBinding=function(t,n){return e.SxRestDpBindingSender.create(this.m_dp,this.m_path)};e.SxRestDpBindingProvider.prototype.newReceiverBinding=function(e,t){return null};e.SiToken=function(){};e.SiToken.prototype=new e.XObject;e.SiToken.prototype._ff_c="SiToken";e.SiToken.create=function(t){return e.SiToken.createExt(t,-1,null,null)};e.SiToken.createWithValue=function(t,n){return e.SiToken.createExt(t,-1,n,null)};e.SiToken.createExt=function(t,n,i,r){var o=new e.SiToken;o.m_type=t;if(n!==-1){o.m_operatorLevel=n}else{o.m_operatorLevel=t.getOperatorLevel()}o.m_value=i;o.m_children=r;return o};e.SiToken.prototype.m_type=null;e.SiToken.prototype.m_value=null;e.SiToken.prototype.m_children=null;e.SiToken.prototype.m_operatorLevel=0;e.SiToken.prototype.add=function(t){if(e.isNull(this.m_children)){this.m_children=e.XList.create()}this.m_children.add(t);return this};e.SiToken.prototype.getType=function(){return this.m_type};e.SiToken.prototype.isEmpty=function(){return e.isNull(this.m_children)||this.m_children.size()===0};e.SiToken.prototype.hasElements=function(){return this.isEmpty()===false};e.SiToken.prototype.size=function(){if(e.isNull(this.m_children)){return 0}return this.m_children.size()};e.SiToken.prototype.getChildren=function(){return this.m_children};e.SiToken.prototype.getChild=function(){if(e.notNull(this.m_children)&&this.m_children.size()===1){return this.m_children.get(0)}return null};e.SiToken.prototype.getLeft=function(){if(e.notNull(this.m_children)&&this.m_children.size()>0){return this.m_children.get(0)}return null};e.SiToken.prototype.getRight=function(){if(e.notNull(this.m_children)&&this.m_children.size()>1){return this.m_children.get(1)}return null};e.SiToken.prototype.setChildren=function(e){this.m_children=e};e.SiToken.prototype.getValue=function(){return this.m_value};e.SiToken.prototype.setValue=function(e){this.m_value=e};e.SiToken.prototype.getOperatorLevel=function(){return this.m_operatorLevel};e.SiToken.prototype.toClassicString=function(){var t=e.XStringBuffer.create();if(this.m_type===e.SiTokenType.ROUND_BRACKET){t.append("(")}else{t.append(this.m_type.getName());if(e.notNull(this.m_value)){t.append(":");t.append(this.m_value)}}if(e.notNull(this.m_children)){t.append("[");for(var n=0;n<this.m_children.size();n++){if(n>0){t.append(", ")}t.append(this.m_children.get(n).toClassicString())}t.append("]")}if(this.m_type===e.SiTokenType.ROUND_BRACKET){t.append(")")}return t.toString()};e.SiToken.prototype.toJson=function(){var t=e.XStringBufferJson.create();this.toJsonInternal(t);return t.toString()};e.SiToken.prototype.toJsonInternal=function(t){if(this.m_type!==e.SiTokenType.ROUND_BRACKET){t.openStructure();t.appendLabelAndString("Name",this.m_type.getName());if(e.notNull(this.m_value)){t.appendLabelAndString("Value",this.m_value)}if(e.notNull(this.m_children)){t.appendLabel("Children")}}if(e.notNull(this.m_children)){t.openArray();for(var n=0;n<this.m_children.size();n++){var i=this.m_children.get(n);i.toJsonInternal(t)}t.closeArray()}if(this.m_type!==e.SiTokenType.ROUND_BRACKET){t.closeStructure()}return t};e.SiToken.prototype.write=function(t){if(this.m_type===e.SiTokenType.EXPR_SEQ){t.writeExpressionSequence(this)}else if(this.m_type===e.SiTokenType.FUNCTION){t.writeFunction(this)}else if(this.m_type===e.SiTokenType.STRING){t.writeString(this)}else if(this.m_type===e.SiTokenType.INTEGER){t.writeInteger(this)}else if(this.m_type===e.SiTokenType.DOUBLE){t.writeDouble(this)}else if(this.m_type===e.SiTokenType.IDENTIFIER){t.writeIdentifier(this)}else if(this.m_type===e.SiTokenType.CURLY_BRACKET){t.writeBlock(this)}else if(this.m_type===e.SiTokenType.OP_DOT){t.writeOpDot(this)}else if(this.m_type===e.SiTokenType.OP_PLUS){t.writeOpPlus(this)}else if(this.m_type===e.SiTokenType.OP_MINUS){t.writeOpMinus(this)}else if(this.m_type===e.SiTokenType.OP_MULT){t.writeOpMult(this)}else if(this.m_type===e.SiTokenType.OP_DIV){t.writeOpDiv(this)}else if(this.m_type===e.SiTokenType.OP_LOWER){t.writeOpLower(this)}else if(this.m_type===e.SiTokenType.OP_LOWER_EQUAL){t.writeOpLowerEqual(this)}else if(this.m_type===e.SiTokenType.OP_GREATER){t.writeOpGreater(this)}else if(this.m_type===e.SiTokenType.OP_GREATER_EQUAL){t.writeOpGreaterEqual(this)}else if(this.m_type===e.SiTokenType.OP_EQUAL){t.writeOpEqual(this)}else if(this.m_type===e.SiTokenType.OP_NOT_EQUAL){t.writeOpNotEqual(this)}else if(this.m_type===e.SiTokenType.OP_BOOL_AND){t.writeOpBoolAnd(this)}else if(this.m_type===e.SiTokenType.OP_BOOL_OR){t.writeOpBoolOr(this)}else if(this.m_type===e.SiTokenType.CONST_TRUE){t.writeTrue(this)}else if(this.m_type===e.SiTokenType.CONST_FALSE){t.writeFalse(this)}else{t.writeDefault(this)}};e.SiToken.prototype.toString=function(){return this.toClassicString()};e.UiBinding=function(){};e.UiBinding.prototype=new e.XObject;e.UiBinding.prototype._ff_c="UiBinding";e.UiBinding.prototype.m_context=null;e.UiBinding.prototype.setupExt=function(t){this.m_context=e.XWeakReferenceUtil.getWeakRef(t)};e.UiBinding.prototype.releaseObject=function(){this.m_context=null;e.XObject.prototype.releaseObject.call(this)};e.UiBinding.prototype.isReceiverReady=function(){return true};e.UiBinding.prototype.registerReceiverReadyListener=function(e,t){};e.UiBinding.prototype.unregisterReceiverReadyListener=function(e){};e.UiBinding.prototype.getUiContext=function(){return e.XWeakReferenceUtil.getHardRef(this.m_context)};e.UiBindingFactory=function(){};e.UiBindingFactory.prototype=new e.DpBindingFactory;e.UiBindingFactory.prototype._ff_c="UiBindingFactory";e.UiBindingFactory.staticSetupUiBindingFactory=function(){e.DpBindingFactory.registerFactory(e.UiComponentType.UI_CONTROL,new e.UiBindingFactory)};e.UiBindingFactory.prototype.newBindingProvider=function(t,n){if(e.XStringUtils.isNullOrEmpty(n)){return e.UiBindingProviderForStd.create(t,n)}else{return e.UiBindingProviderForAttributes.create(t,n)}};e.UiBindingProviderForAttributes=function(){};e.UiBindingProviderForAttributes.prototype=new e.XObject;e.UiBindingProviderForAttributes.prototype._ff_c="UiBindingProviderForAttributes";e.UiBindingProviderForAttributes.create=function(t,n){var i=new e.UiBindingProviderForAttributes;i.m_component=t;i.m_path=n;if(e.XString.isEqual(e.UiAggregation.ITEMS.getName(),n)){i.m_getterProperty=new e.UiClientPropItems;i.m_setterProperty=new e.UiClientPropItems}else{i.m_getterProperty=e.UiAllOperations.lookupGetterProperty(n);i.m_setterProperty=e.UiAllOperations.lookupSetterProperty(n)}return i};e.UiBindingProviderForAttributes.prototype.m_component=null;e.UiBindingProviderForAttributes.prototype.m_path=null;e.UiBindingProviderForAttributes.prototype.m_getterProperty=null;e.UiBindingProviderForAttributes.prototype.m_setterProperty=null;e.UiBindingProviderForAttributes.prototype.getSenderBindings=function(){var t=e.XList.create();var n=this.m_getterProperty.getComponentType();if(e.notNull(n)){if(n.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_STRING)){t.add(e.SemanticBindingType.STRING)}else if(n.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_JSON)){t.add(e.SemanticBindingType.JSON)}}return t};e.UiBindingProviderForAttributes.prototype.getReceiverBindings=function(){var t=e.XList.create();var n=this.m_setterProperty.getComponentType();if(e.notNull(n)){if(n.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_STRING)){t.add(e.SemanticBindingType.STRING)}else if(n.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_JSON)){t.add(e.SemanticBindingType.JSON)}}return t};e.UiBindingProviderForAttributes.prototype.getSenderProtocolBindings=function(t){var n=e.XList.create();var i=this.m_getterProperty.getComponentType();if(e.notNull(i)){if(i.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_STRING)){n.add(e.ProtocolBindingType.STRING)}else if(i.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_JSON)){n.add(e.ProtocolBindingType.JSON)}}return n};e.UiBindingProviderForAttributes.prototype.getReceiverProtocolBindings=function(t){var n=e.XList.create();var i=this.m_setterProperty.getComponentType();if(e.notNull(i)){if(i.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_STRING)){n.add(e.ProtocolBindingType.STRING)}else if(i.isTypeOf(e.UiComponentType.UI_PROPERTY_OP_JSON)){n.add(e.ProtocolBindingType.JSON)}}return n};e.UiBindingProviderForAttributes.prototype.newSenderBinding=function(t,n){var i=null;if(n===e.ProtocolBindingType.STRING){i=e.UiBindingSendPropString.create(this.m_component,this.m_getterProperty)}else if(n===e.ProtocolBindingType.JSON){i=e.UiBindingSendPropJson.create(this.m_component,this.m_getterProperty)}return i};e.UiBindingProviderForAttributes.prototype.newReceiverBinding=function(t,n){var i=null;if(n===e.ProtocolBindingType.STRING){i=e.UiBindingReceivePropString.create(this.m_component,this.m_setterProperty)}else if(n===e.ProtocolBindingType.JSON){i=e.UiBindingReceivePropJson.create(this.m_component,this.m_setterProperty)}return i};e.UiBindingProviderForAttributes.prototype.toString=function(){return this.m_path};e.UiBindingProviderForStd=function(){};e.UiBindingProviderForStd.prototype=new e.XObject;e.UiBindingProviderForStd.prototype._ff_c="UiBindingProviderForStd";e.UiBindingProviderForStd.create=function(t,n){var i=new e.UiBindingProviderForStd;i.m_component=t;i.m_path=n;return i};e.UiBindingProviderForStd.prototype.m_component=null;e.UiBindingProviderForStd.prototype.m_path=null;e.UiBindingProviderForStd.prototype.getSenderBindings=function(){var e=this.m_component;return e.getUiType().getSenderBindings()};e.UiBindingProviderForStd.prototype.getReceiverBindings=function(){var e=this.m_component;return e.getUiType().getReceiverBindings()};e.UiBindingProviderForStd.prototype.getSenderProtocolBindings=function(e){var t=this.m_component;return t.getUiType().getSenderProtocolBindings(e)};e.UiBindingProviderForStd.prototype.getReceiverProtocolBindings=function(e){var t=this.m_component;return t.getUiType().getReceiverProtocolBindings(e)};e.UiBindingProviderForStd.prototype.newSenderBinding=function(t,n){var i=this.m_component;if(t===e.SemanticBindingType.STRING){return e.UiBindingSendText.create(i)}return null};e.UiBindingProviderForStd.prototype.newReceiverBinding=function(t,n){var i=this.m_component;if(t.isTypeOf(e.SemanticBindingType.STRING)){return e.UiBindingReceiveText.create(i)}else if(t.isTypeOf(e.SemanticBindingType.JSON)){return e.UiBindingReceiveJson.create(i)}else{return null}};e.UiBindingProviderForStd.prototype.toString=function(){return this.m_path};e.UiPrgContainerFactory=function(){};e.UiPrgContainerFactory.prototype=new e.ProgramContainerFactory;e.UiPrgContainerFactory.prototype._ff_c="UiPrgContainerFactory";e.UiPrgContainerFactory.staticSetupUiContainerFactory=function(){e.ProgramContainerFactory.registerFactory(e.ProgramContainerType.CONSOLE,new e.UiPrgContainerFactory);e.ProgramContainerFactory.registerFactory(e.ProgramContainerType.WINDOW,new e.UiPrgContainerFactory);e.ProgramContainerFactory.registerFactory(e.ProgramContainerType.DIALOG,new e.UiPrgContainerFactory);e.ProgramContainerFactory.registerFactory(e.ProgramContainerType.STANDALONE,new e.UiPrgContainerFactory);e.ProgramContainerFactory.registerFactory(e.ProgramContainerType.CONTENT,new e.UiPrgContainerFactory)};e.UiPrgContainerFactory.prototype.newProgramContainer=function(t){var n=null;if(t===e.ProgramContainerType.CONSOLE){n=e.UiPrgContainerTerminal.createExt(null,null)}else if(t===e.ProgramContainerType.WINDOW){n=e.UiPrgContainerWindow.createExt(null,null)}else if(t===e.ProgramContainerType.DIALOG){n=e.UiPrgContainerDialog.createExt(null,null)}else if(t===e.ProgramContainerType.STANDALONE){n=e.UiPrgContainerStandalone.createExt(null,null)}else if(t===e.ProgramContainerType.CONTENT){n=e.UiPrgContainerContent.createExt(null,null)}return n};e.SxJsonDpBindingReceiver=function(){};e.SxJsonDpBindingReceiver.prototype=new e.XObject;e.SxJsonDpBindingReceiver.prototype._ff_c="SxJsonDpBindingReceiver";e.SxJsonDpBindingReceiver.create=function(t,n){var i=new e.SxJsonDpBindingReceiver;i.m_dp=t;i.m_path=n;return i};e.SxJsonDpBindingReceiver.prototype.m_dp=null;e.SxJsonDpBindingReceiver.prototype.m_path=null;e.SxJsonDpBindingReceiver.prototype.getComponentType=function(){return e.IoComponentType.BINDING_RECEIVER};e.SxJsonDpBindingReceiver.prototype.isReceiverReady=function(){return true};e.SxJsonDpBindingReceiver.prototype.registerReceiverReadyListener=function(e,t){};e.SxJsonDpBindingReceiver.prototype.unregisterReceiverReadyListener=function(e){};e.SxJsonDpBindingReceiver.prototype.setDataManifest=function(e){};e.SxJsonDpBindingReceiver.prototype.setElement=function(e){this.m_dp.setElementByPath(this.m_path,e)};e.SxJsonDpBindingReceiver.prototype.setString=function(t){var n=e.PrFactory.createString(t);this.setElement(n)};e.SxJsonDpBindingReceiver.prototype.getString=function(){var t=this.m_dp.getElementByPath(this.m_path);if(e.notNull(t)){var n=t.getType();if(n===e.PrElementType.STRING){return t.getString()}}return null};e.SxJsonDpBindingReceiver.prototype.setInteger=function(t){var n=e.PrFactory.createInteger(t);this.setElement(n)};e.SxJsonDpBindingReceiver.prototype.getInteger=function(){var t=this.m_dp.getElementByPath(this.m_path);if(e.notNull(t)){var n=t.getType();if(n===e.PrElementType.INTEGER){return t.getInteger()}}return 0};e.SxJsonDpBindingSender=function(){};e.SxJsonDpBindingSender.prototype=new e.XObject;e.SxJsonDpBindingSender.prototype._ff_c="SxJsonDpBindingSender";e.SxJsonDpBindingSender.create=function(t,n){var i=new e.SxJsonDpBindingSender;i.m_dp=t;i.m_path=n;return i};e.SxJsonDpBindingSender.prototype.m_dp=null;e.SxJsonDpBindingSender.prototype.m_path=null;e.SxJsonDpBindingSender.prototype.getComponentType=function(){return e.IoComponentType.BINDING_SENDER};e.SxJsonDpBindingSender.prototype.isSenderValueReady=function(){return true};e.SxJsonDpBindingSender.prototype.registerValueChangedListener=function(e,t){};e.SxJsonDpBindingSender.prototype.unregisterValueChangedListener=function(e){};e.SxJsonDpBindingSender.prototype.processSenderUpdate=function(){};e.SxJsonDpBindingSender.prototype.getDataManifest=function(){return null};e.SxJsonDpBindingSender.prototype.getElement=function(){return this.m_dp.getElementByPath(this.m_path)};e.SxJsonDpBindingSender.prototype.getInteger=function(){var t=this.getElement();if(e.notNull(t)&&t.getType()===e.PrElementType.INTEGER){return t.getInteger()}return 0};e.SxJsonDpBindingSender.prototype.getString=function(){var t=this.getElement();if(e.notNull(t)&&t.getType()===e.PrElementType.STRING){return t.getString()}return null};e.SxRestDpBindingSender=function(){};e.SxRestDpBindingSender.prototype=new e.XObject;e.SxRestDpBindingSender.prototype._ff_c="SxRestDpBindingSender";e.SxRestDpBindingSender.create=function(t,n){var i=new e.SxRestDpBindingSender;i.m_dp=t;i.m_path=n;t.registerDataUpdate(i);return i};e.SxRestDpBindingSender.prototype.m_dp=null;e.SxRestDpBindingSender.prototype.m_path=null;e.SxRestDpBindingSender.prototype.m_valueChangedListener=null;e.SxRestDpBindingSender.prototype.getComponentType=function(){return e.IoComponentType.BINDING_SENDER};e.SxRestDpBindingSender.prototype.isSenderValueReady=function(){return this.m_dp.isDataReady()};e.SxRestDpBindingSender.prototype.registerValueChangedListener=function(e,t){this.m_valueChangedListener=e};e.SxRestDpBindingSender.prototype.unregisterValueChangedListener=function(e){};e.SxRestDpBindingSender.prototype.processSenderUpdate=function(){this.m_dp.updateData()};e.SxRestDpBindingSender.prototype.getDataManifest=function(){return null};e.SxRestDpBindingSender.prototype.getElement=function(){return this.m_dp.getElementByPath(this.m_path)};e.SxRestDpBindingSender.prototype.getInteger=function(){var t=this.getElement();if(e.notNull(t)&&t.getType()===e.PrElementType.INTEGER){return t.getInteger()}return 0};e.SxRestDpBindingSender.prototype.getString=function(){var t=this.getElement();if(e.notNull(t)){if(t.getType()===e.PrElementType.STRING){return t.getString()}else{var n=t.asString();if(e.notNull(n)){return n.getString()}}}return null};e.SxRestDpBindingSender.prototype.onRestDataUpdate=function(t,n){if(e.notNull(this.m_valueChangedListener)){this.m_valueChangedListener.onSenderValueChanged(this,null)}};e.UiBindingReceiveJson=function(){};e.UiBindingReceiveJson.prototype=new e.UiBinding;e.UiBindingReceiveJson.prototype._ff_c="UiBindingReceiveJson";e.UiBindingReceiveJson.create=function(t){var n=new e.UiBindingReceiveJson;n.setupExt(t);return n};e.UiBindingReceiveJson.prototype.getComponentType=function(){return e.IoComponentType.BINDING_RECEIVER};e.UiBindingReceiveJson.prototype.setElement=function(t){var n=this.getUiContext();if(e.notNull(n)){n.setModelJson(t)}};e.UiBindingReceiveJson.prototype.setDataManifest=function(t){var n=this.getUiContext();if(e.notNull(n)){n.setDataManifest(t)}};e.UiBindingReceivePropJson=function(){};e.UiBindingReceivePropJson.prototype=new e.UiBinding;e.UiBindingReceivePropJson.prototype._ff_c="UiBindingReceivePropJson";e.UiBindingReceivePropJson.create=function(t,n){var i=new e.UiBindingReceivePropJson;i.setupExt(t);i.m_clientOp=n;return i};e.UiBindingReceivePropJson.prototype.m_clientOp=null;e.UiBindingReceivePropJson.prototype.getComponentType=function(){return e.IoComponentType.BINDING_RECEIVER};e.UiBindingReceivePropJson.prototype.setElement=function(t){var n=this.getUiContext();if(e.notNull(n)&&e.notNull(this.m_clientOp)){this.m_clientOp.setJsonValue(n,t)}};e.UiBindingReceivePropJson.prototype.setDataManifest=function(e){};e.UiBindingReceivePropString=function(){};e.UiBindingReceivePropString.prototype=new e.UiBinding;e.UiBindingReceivePropString.prototype._ff_c="UiBindingReceivePropString";e.UiBindingReceivePropString.create=function(t,n){var i=new e.UiBindingReceivePropString;i.setupExt(t);i.m_clientOp=n;return i};e.UiBindingReceivePropString.prototype.m_clientOp=null;e.UiBindingReceivePropString.prototype.getComponentType=function(){return e.IoComponentType.BINDING_RECEIVER};e.UiBindingReceivePropString.prototype.setString=function(t){var n=this.getUiContext();if(e.notNull(n)&&e.notNull(this.m_clientOp)){this.m_clientOp.setString(n,t)}};e.UiBindingReceivePropString.prototype.getString=function(){var t=this.getUiContext();if(e.isNull(t)){return null}return this.m_clientOp.getString(t)};e.UiBindingReceivePropString.prototype.setDataManifest=function(e){};e.UiBindingReceiveText=function(){};e.UiBindingReceiveText.prototype=new e.UiBinding;e.UiBindingReceiveText.prototype._ff_c="UiBindingReceiveText";e.UiBindingReceiveText.create=function(t){var n=new e.UiBindingReceiveText;n.setupExt(t);return n};e.UiBindingReceiveText.prototype.getComponentType=function(){return e.IoComponentType.BINDING_RECEIVER};e.UiBindingReceiveText.prototype.setString=function(t){var n=this.getUiContext();if(e.notNull(n)){n.setText(t)}};e.UiBindingReceiveText.prototype.getString=function(){var t=this.getUiContext();if(e.isNull(t)){return null}return t.getText()};e.UiBindingReceiveText.prototype.setDataManifest=function(e){};e.UiBindingSendPropJson=function(){};e.UiBindingSendPropJson.prototype=new e.XObject;e.UiBindingSendPropJson.prototype._ff_c="UiBindingSendPropJson";e.UiBindingSendPropJson.create=function(t,n){var i=new e.UiBindingSendPropJson;i.m_context=t;i.m_clientOp=n;return i};e.UiBindingSendPropJson.prototype.m_context=null;e.UiBindingSendPropJson.prototype.m_listener=null;e.UiBindingSendPropJson.prototype.m_customIdentifier=null;e.UiBindingSendPropJson.prototype.m_clientOp=null;e.UiBindingSendPropJson.prototype.releaseObject=function(){this.m_context=null;this.m_listener=null;this.m_customIdentifier=null;this.m_clientOp=null;e.XObject.prototype.releaseObject.call(this)};e.UiBindingSendPropJson.prototype.getComponentType=function(){return e.IoComponentType.BINDING_SENDER};e.UiBindingSendPropJson.prototype.isSenderValueReady=function(){return true};e.UiBindingSendPropJson.prototype.registerValueChangedListener=function(e,t){this.m_listener=e;this.m_customIdentifier=t;this.m_context.registerOnChange(this)};e.UiBindingSendPropJson.prototype.unregisterValueChangedListener=function(e){this.m_context.registerOnChange(null);this.m_listener=null;this.m_customIdentifier=null};e.UiBindingSendPropJson.prototype.onChange=function(t){if(e.notNull(this.m_listener)){this.m_listener.onSenderValueChanged(this,this.m_customIdentifier)}};e.UiBindingSendPropJson.prototype.processSenderUpdate=function(){};e.UiBindingSendPropJson.prototype.getDataManifest=function(){return null};e.UiBindingSendPropJson.prototype.getElement=function(){var e=this.m_clientOp.getJsonValue(this.m_context);return e};e.UiBindingSendPropString=function(){};e.UiBindingSendPropString.prototype=new e.XObject;e.UiBindingSendPropString.prototype._ff_c="UiBindingSendPropString";e.UiBindingSendPropString.create=function(t,n){var i=new e.UiBindingSendPropString;i.m_context=t;i.m_clientOp=n;return i};e.UiBindingSendPropString.prototype.m_context=null;e.UiBindingSendPropString.prototype.m_listener=null;e.UiBindingSendPropString.prototype.m_customIdentifier=null;e.UiBindingSendPropString.prototype.m_clientOp=null;e.UiBindingSendPropString.prototype.releaseObject=function(){this.m_context=null;this.m_listener=null;this.m_customIdentifier=null;this.m_clientOp=null;e.XObject.prototype.releaseObject.call(this)};e.UiBindingSendPropString.prototype.getComponentType=function(){return e.IoComponentType.BINDING_SENDER};e.UiBindingSendPropString.prototype.isSenderValueReady=function(){return true};e.UiBindingSendPropString.prototype.registerValueChangedListener=function(e,t){this.m_listener=e;this.m_customIdentifier=t;this.m_context.registerOnChange(this)};e.UiBindingSendPropString.prototype.unregisterValueChangedListener=function(e){this.m_context.registerOnChange(null);this.m_listener=null;this.m_customIdentifier=null};e.UiBindingSendPropString.prototype.onChange=function(t){if(e.notNull(this.m_listener)){this.m_listener.onSenderValueChanged(this,this.m_customIdentifier)}};e.UiBindingSendPropString.prototype.processSenderUpdate=function(){};e.UiBindingSendPropString.prototype.getString=function(){var e=this.m_clientOp.getString(this.m_context);return e};e.UiBindingSendPropString.prototype.getDataManifest=function(){return null};e.UiBindingSendText=function(){};e.UiBindingSendText.prototype=new e.XObject;e.UiBindingSendText.prototype._ff_c="UiBindingSendText";e.UiBindingSendText.create=function(t){var n=new e.UiBindingSendText;n.m_context=t;return n};e.UiBindingSendText.prototype.m_context=null;e.UiBindingSendText.prototype.m_listener=null;e.UiBindingSendText.prototype.m_customIdentifier=null;e.UiBindingSendText.prototype.releaseObject=function(){this.m_context=null;this.m_listener=null;this.m_customIdentifier=null;e.XObject.prototype.releaseObject.call(this)};e.UiBindingSendText.prototype.getComponentType=function(){return e.IoComponentType.BINDING_SENDER};e.UiBindingSendText.prototype.isSenderValueReady=function(){return true};e.UiBindingSendText.prototype.registerValueChangedListener=function(e,t){this.m_listener=e;this.m_customIdentifier=t;this.m_context.registerOnChange(this)};e.UiBindingSendText.prototype.unregisterValueChangedListener=function(e){this.m_context.registerOnChange(null);this.m_listener=null;this.m_customIdentifier=null};e.UiBindingSendText.prototype.onChange=function(t){if(e.notNull(this.m_listener)){this.m_listener.onSenderValueChanged(this,this.m_customIdentifier)}};e.UiBindingSendText.prototype.processSenderUpdate=function(){};e.UiBindingSendText.prototype.getString=function(){return this.m_context.getText()};e.UiBindingSendText.prototype.getDataManifest=function(){return null};e.SiProject=function(){};e.SiProject.prototype=new e.DfNameObject;e.SiProject.prototype._ff_c="SiProject";e.SiProject.create=function(t){var n=new e.SiProject;n._setupInternal(t);return n};e.SiProject.prototype.m_compilationUnits=null;e.SiProject.prototype.setup=function(){e.DfNameObject.prototype.setup.call(this);this.m_compilationUnits=e.XHashMapOfStringByString.create()};e.SiProject.prototype.load=function(t){var n=t.load();var i=n.getString();var r=t.getName();this.m_compilationUnits.put(r,i);this.logMulti("Parsing ").append(t.getNativePath()).flush();var o=e.SiParser2.create();o.parse(i,10)};e.UiClientPropItems=function(){};e.UiClientPropItems.prototype=new e.UiClientPropJson;e.UiClientPropItems.prototype._ff_c="UiClientPropItems";e.UiClientPropItems.NAME="Name";e.UiClientPropItems.TEXT="Text";e.UiClientPropItems.SCRIPT="Script";e.UiClientPropItems.ITEMS="Items";e.UiClientPropItems.prototype.setJsonValue=function(t,n){if(n.isStructure()&&t.hasAggregation(e.UiAggregation.ITEMS)){var i=n;t.clearItems();this.recursiveAdd(i,t)}};e.UiClientPropItems.prototype.recursiveAdd=function(t,n){var i=t.getListByKey(e.UiClientPropItems.ITEMS);for(var r=0;r<i.size();r++){var o=i.get(r);var a=o.containsKey(e.UiClientPropItems.ITEMS);var p=n.addNewItem();if(e.notNull(p)){n.add(p);var s=o.getStringByKey(e.UiClientPropItems.NAME);p.setName(s);var l=o.getStringByKey(e.UiClientPropItems.TEXT);p.setText(l);var u=o.getStringByKey(e.UiClientPropItems.SCRIPT);if(e.notNull(u)){var g=e.SxEventScripting.create(u);if(p.hasEvent(e.UiEvent.ON_PRESS)){p.registerOnPress(g)}else if(p.hasEvent(e.UiEvent.ON_CLICK)){p.registerOnClick(g)}}if(a){this.recursiveAdd(o,p)}}}};e.UiClientPropItems.prototype.getJsonValue=function(e){return null};e.ScriptEngine=function(){};e.ScriptEngine.prototype=new e.MessageManager;e.ScriptEngine.prototype._ff_c="ScriptEngine";e.ScriptEngine.create=function(){var t=new e.ScriptEngine;t.setupInterpreter(null,true);return t};e.ScriptEngine.prototype.m_virtualMachine=null;e.ScriptEngine.prototype.m_useNewParser=false;e.ScriptEngine.prototype.m_ast=null;e.ScriptEngine.prototype.setupInterpreter=function(t,n){e.MessageManager.prototype.setupSessionContext.call(this,t);this.m_virtualMachine=e.SiInterpreter.create();this.m_useNewParser=n};e.ScriptEngine.prototype.compileAndExecute=function(e){this.compile(e);this.execute()};e.ScriptEngine.prototype.execute=function(){this.m_virtualMachine.execute()};e.ScriptEngine.prototype.compile=function(t){var n;if(this.m_useNewParser){n=e.SiParser2.create()}else{n=e.SiParser.create()}this.m_ast=n.parse(t,-1);this.addAllMessages(n);if(this.isValid()){this.m_virtualMachine.setRoot(this.m_ast)}};e.ScriptEngine.prototype.setVmCallback=function(e){this.m_virtualMachine.setVmCallback(e)};e.ScriptEngine.prototype.setCustomObject=function(e,t){this.m_virtualMachine.setCustomObject(e,t)};e.ScriptEngine.prototype.getCustomObject=function(e){return this.m_virtualMachine.getCustomObject(e)};e.ScriptEngine.prototype.setInitialRegister=function(e){this.m_virtualMachine.setInitialRegister(e)};e.ScriptEngine.prototype.getAstAsJson=function(){if(this.isValid()){return this.m_virtualMachine.getAstAsJson()}return""};e.ScriptEngine.prototype.getAstRoot=function(){return this.m_ast};e.ScriptEngine.prototype.getStateAsJson=function(){return this.m_virtualMachine.getStateAsJson()};e.ScriptEngine.prototype.compileAllProjects=function(t,n){var i=e.DefaultSession.create();var r=e.XFile.createWithVars(i,t);this.loadProjects(r)};e.ScriptEngine.prototype.loadProjects=function(t){if(t.isDirectory()===true){var n=t.getChildren();for(var i=0;i<n.size();i++){var r=n.get(i);var o=r.getName();var a=e.SiProject.create(o);var p=r.newChild("java");this.log(o);this.loadRecursive(a,p)}}};e.ScriptEngine.prototype.loadRecursive=function(t,n){if(n.isDirectory()===true){var i=n.getChildren();for(var r=0;r<i.size();r++){var o=i.get(r);this.loadRecursive(t,o)}}else{var a=n.getName();if(e.XString.endsWith(a,".java")){t.load(n)}}};e.ScriptEngine.prototype.toString=function(){if(this.isValid()){return this.m_virtualMachine.toString()}return e.MessageManager.prototype.toString.call(this)};e.SiInterpreter=function(){};e.SiInterpreter.prototype=new e.MessageManager;e.SiInterpreter.prototype._ff_c="SiInterpreter";e.SiInterpreter.create=function(){var t=new e.SiInterpreter;t.setupSessionContext(null);return t};e.SiInterpreter.prototype.m_callback=null;e.SiInterpreter.prototype.m_registerHandler=null;e.SiInterpreter.prototype.m_root=null;e.SiInterpreter.prototype.m_customObjects=null;e.SiInterpreter.prototype.m_variables=null;e.SiInterpreter.prototype.m_stack=null;e.SiInterpreter.prototype.m_register=null;e.SiInterpreter.prototype.m_savedRegisters=null;e.SiInterpreter.prototype.setupSessionContext=function(t){e.MessageManager.prototype.setupSessionContext.call(this,t);this.m_customObjects=e.XHashMapByString.create();this.m_variables=e.XHashMapByString.create();this.m_registerHandler=this;this.m_savedRegisters=e.XList.create()};e.SiInterpreter.prototype.execute=function(){if(this.isValid()&&e.notNull(this.m_root)){this.m_stack=e.XList.create();this.m_register=null;this.m_callback.beforeScriptExecution(this);this.runOperations(this.m_root);this.m_callback.afterScriptExecution(this);this.m_stack=null;this.m_register=null}};e.SiInterpreter.prototype.setRoot=function(e){this.m_root=e};e.SiInterpreter.prototype.runOperations=function(t){if(e.notNull(t)){var n=t.getType();var i=t.getChildren();var r=t.getValue();if(n===e.SiTokenType.CURLY_BRACKET){for(var o=0;o<i.size();o++){var a=i.get(o);this.runOperations(a)}}else if(n===e.SiTokenType.EXPR_SEQ){for(var p=0;p<i.size();p++){this.runOperations(i.get(p))}}else if(n===e.SiTokenType.FUNCTION){var s=0;if(e.notNull(i)){s=i.size();if(s>0){this.m_registerHandler.pushRegisterOnStack(this);for(var l=0;l<s;l++){var u=i.get(l);this.runOperations(u);this.m_registerHandler.pushRegisterOnStack(this)}this.m_registerHandler.setStackToRegister(this,s)}}var g=this.m_callback.nativeCall(this,r,this.m_registerHandler.getRegister(),this.m_registerHandler.getStack(),s);this.m_savedRegisters.add(this.m_register);this.m_registerHandler.setRegister(g);if(s>0){this.m_registerHandler.pop(this,s+1)}}else if(n===e.SiTokenType.STRING||n===e.SiTokenType.CELL_SELECTION){this.m_registerHandler.setStringToRegister(this,r)}else if(n===e.SiTokenType.INTEGER){this.m_registerHandler.setIntegerToRegister(this,e.XInteger.convertFromString(r))}else if(n===e.SiTokenType.DOUBLE){this.m_registerHandler.setDoubleToRegister(this,e.XDouble.convertFromString(r))}else if(n===e.SiTokenType.CONST_FALSE){this.m_registerHandler.setBooleanToRegister(this,false)}else if(n===e.SiTokenType.CONST_TRUE){this.m_registerHandler.setBooleanToRegister(this,true)}else if(n===e.SiTokenType.OP_DOT){var c=t.getLeft();this.runOperations(c);var T=t.getRight();this.runOperations(T)}else if(n===e.SiTokenType.OP_ASSIGN){var S=t.getLeft().getValue();this.runOperations(t.getRight());this.pushRegisterToMemory(this,S)}else if(n===e.SiTokenType.OP_PLUS||n===e.SiTokenType.OP_MINUS||n===e.SiTokenType.OP_MULT||n===e.SiTokenType.OP_DIV||n===e.SiTokenType.OP_EQUAL||n===e.SiTokenType.OP_NOT_EQUAL||n===e.SiTokenType.OP_LOWER||n===e.SiTokenType.OP_LOWER_EQUAL||n===e.SiTokenType.OP_GREATER||n===e.SiTokenType.OP_GREATER_EQUAL){this.m_registerHandler.pushRegisterOnStack(this);this.runOperations(t.getLeft());this.m_registerHandler.pushRegisterOnStack(this);this.runOperations(t.getRight());this.m_registerHandler.pushRegisterOnStack(this);this.m_registerHandler.setStackToRegister(this,2);var y=this.m_registerHandler.getRegister();var d=this.m_registerHandler.getStack();var f=this.nativeCall(this,n.getName(),y,d,2);this.m_registerHandler.setRegister(f);this.m_registerHandler.pop(this,3)}else if(n===e.SiTokenType.IDENTIFIER){this.m_registerHandler.setVariableToRegister(this,r)}}};e.SiInterpreter.prototype.setVmCallback=function(e){this.m_callback=e};e.SiInterpreter.prototype.setCustomObject=function(e,t){this.m_customObjects.put(e,t)};e.SiInterpreter.prototype.getCustomObject=function(e){return this.m_customObjects.getByKey(e)};e.SiInterpreter.prototype.setInitialRegister=function(e){this.setRegister(e)};e.SiInterpreter.prototype.setRegister=function(e){this.m_register=e};e.SiInterpreter.prototype.getRegister=function(){return this.m_register};e.SiInterpreter.prototype.getStack=function(){return this.m_stack};e.SiInterpreter.prototype.pushRegisterOnStack=function(e){this.m_stack.add(this.m_register)};e.SiInterpreter.prototype.setStackToRegister=function(e,t){var n=this.m_stack.size()-1-t;this.m_register=this.m_stack.get(n)};e.SiInterpreter.prototype.pop=function(e,t){var n=this.m_stack.size()-t;for(var i=0;i<t;i++){this.m_stack.removeAt(n)}};e.SiInterpreter.prototype.setStringToRegister=function(t,n){this.m_register=e.XStringValue.create(n)};e.SiInterpreter.prototype.setBooleanToRegister=function(t,n){this.m_register=e.XBooleanValue.create(n)};e.SiInterpreter.prototype.setVariableToRegister=function(t,n){this.m_register=e.XStringValue.create(n)};e.SiInterpreter.prototype.setIntegerToRegister=function(t,n){this.m_register=e.XIntegerValue.create(n)};e.SiInterpreter.prototype.setDoubleToRegister=function(t,n){this.m_register=e.XDoubleValue.create(n)};e.SiInterpreter.prototype.pushRegisterToMemory=function(e,t){this.m_variables.put(t,this.m_register)};e.SiInterpreter.prototype.beforeScriptExecution=e.noSupport;e.SiInterpreter.prototype.afterScriptExecution=e.noSupport;e.SiInterpreter.prototype.nativeCall=function(t,n,i,r,o){var a=r.size()-o;var p=r.get(a);var s=p.getComponentType();var l=r.get(a+1);var u=l.getComponentType();var g=null;if(e.XString.isEqual(e.SiTokenType._OP_PLUS,n)||e.XString.isEqual(e.SiTokenType._OP_MINUS,n)||e.XString.isEqual(e.SiTokenType._OP_MULT,n)||e.XString.isEqual(e.SiTokenType._OP_DIV,n)){if(s===e.XValueType.INTEGER&&u===e.XValueType.INTEGER){var c=p.getInteger();var T=l.getInteger();if(e.XString.isEqual(e.SiTokenType._OP_PLUS,n)){g=e.XIntegerValue.create(c+T)}else if(e.XString.isEqual(e.SiTokenType._OP_MINUS,n)){g=e.XIntegerValue.create(c-T)}else if(e.XString.isEqual(e.SiTokenType._OP_MULT,n)){g=e.XIntegerValue.create(c*T)}else if(e.XString.isEqual(e.SiTokenType._OP_DIV,n)){g=e.XIntegerValue.create(c/T)}}else{var S=0;var y=0;if(s===e.XValueType.DOUBLE&&u===e.XValueType.DOUBLE){S=p.getDouble();y=l.getDouble()}else if(s===e.XValueType.DOUBLE&&u===e.XValueType.INTEGER){S=p.getDouble();y=l.getInteger()}else if(s===e.XValueType.INTEGER&&u===e.XValueType.DOUBLE){S=p.getInteger();y=l.getDouble()}if(e.XString.isEqual(e.SiTokenType._OP_PLUS,n)){g=e.XDoubleValue.create(S+y)}else if(e.XString.isEqual(e.SiTokenType._OP_MINUS,n)){g=e.XDoubleValue.create(S-y)}else if(e.XString.isEqual(e.SiTokenType._OP_MULT,n)){g=e.XDoubleValue.create(S*y)}else if(e.XString.isEqual(e.SiTokenType._OP_DIV,n)){g=e.XDoubleValue.create(S/y)}}}else if(e.XString.isEqual(e.SiTokenType._OP_EQUAL,n)||e.XString.isEqual(e.SiTokenType._OP_NOT_EQUAL,n)||e.XString.isEqual(e.SiTokenType._OP_LOWER,n)||e.XString.isEqual(e.SiTokenType._OP_LOWER_EQUAL,n)||e.XString.isEqual(e.SiTokenType._OP_GREATER,n)||e.XString.isEqual(e.SiTokenType._OP_GREATER_EQUAL,n)){if(s===e.XValueType.INTEGER&&u===e.XValueType.INTEGER){var d=p.getInteger();var f=l.getInteger();if(e.XString.isEqual(e.SiTokenType._OP_EQUAL,n)){g=e.XBooleanValue.create(d===f)}else if(e.XString.isEqual(e.SiTokenType._OP_NOT_EQUAL,n)){g=e.XBooleanValue.create(d!==f)}else if(e.XString.isEqual(e.SiTokenType._OP_LOWER,n)){g=e.XBooleanValue.create(d<f)}else if(e.XString.isEqual(e.SiTokenType._OP_LOWER_EQUAL,n)){g=e.XBooleanValue.create(d<=f)}else if(e.XString.isEqual(e.SiTokenType._OP_GREATER,n)){g=e.XBooleanValue.create(d>f)}else if(e.XString.isEqual(e.SiTokenType._OP_GREATER_EQUAL,n)){g=e.XBooleanValue.create(d>=f)}}}if(e.isNull(g)){g=e.XStringValue.create(e.XStringUtils.concatenate2("MyFuncResult",n))}return g};e.SiInterpreter.prototype.getStateAsJson=function(){var t=e.XStringBufferJson.create();var n=e.XListOfString.createFromReadOnlyList(this.m_variables.getKeysAsReadOnlyListOfString());n.sortByDirection(e.XSortDirection.ASCENDING);var i=n.getIterator();while(i.hasNext()===true){var r=i.next();var o=this.m_variables.getByKey(r);t.appendLabelAndString(r,o.toString())}return t.toString()};e.SiInterpreter.prototype.getAstAsJson=function(){if(this.isValid()&&e.notNull(this.m_root)){return this.m_root.toJson()}return""};e.SiInterpreter.prototype.getAstRoot=function(){return this.m_root};e.SiInterpreter.prototype.toString=function(){if(this.isValid()&&e.notNull(this.m_root)){return this.m_root.toString()}return e.MessageManager.prototype.toString.call(this)};e.SiParser=function(){};e.SiParser.prototype=new e.MessageManager;e.SiParser.prototype._ff_c="SiParser";e.SiParser.create=function(){var t=new e.SiParser;t.setupSessionContext(null);return t};e.SiParser.isExecutable=function(t){return t===e.SiTokenType.FUNCTION||t===e.SiTokenType.IDENTIFIER||t===e.SiTokenType.OP_DOT};e.SiParser.prototype.setupSessionContext=function(t){e.MessageManager.prototype.setupSessionContext.call(this,t)};e.SiParser.prototype.parse=function(e,t){var n=this.tokenize(e);var i=this.clusterExpressions(n);var r=this.clusterBrackets(i);var o=this.clusterComma(r);var a=this.clusterFunctions(o);var p=a;var s=this.clusterOperations(p);this.log(s.toString());if(s.size()===1){return p.get(0)}this.addError(0,"Syntax error");return null};e.SiParser.prototype.tokenize=function(t){var n=e.XList.create();var i=e.XString.size(t);var r=false;var o=false;var a=false;var p=false;var s=0;for(var l=0;l<=i;){var u;if(l===i){u=0}else{u=e.XString.getCharAt(t,l)}if(r){if(u===39||u===0){var g=e.XString.substring(t,s+1,l);n.add(e.SiToken.createWithValue(e.SiTokenType.STRING,g));r=false}l++}else if(p){if(u>=48&&u<=57){l++}else{var c=e.XString.substring(t,s,l);n.add(e.SiToken.createWithValue(e.SiTokenType.INTEGER,c));p=false}}else if(a){if(u===32){l++}else{n.add(e.SiToken.createWithValue(e.SiTokenType.SPACE,null));a=false}}else if(o){if(u!==0&&(u>=65&&u<=90||u>=97&&u<=122||u===95||u===36||u>=48&&u<=57)){l++}else{var T=e.XString.substring(t,s,l);if(e.XString.isEqual(T,"true")){n.add(e.SiToken.createWithValue(e.SiTokenType.CONST_TRUE,T))}else if(e.XString.isEqual(T,"false")){n.add(e.SiToken.createWithValue(e.SiTokenType.CONST_FALSE,T))}else{n.add(e.SiToken.createWithValue(e.SiTokenType.IDENTIFIER,T))}o=false}}else{if(u!==0){if(u===39){r=true;s=l}else if(u===32){a=true;s=l}else if(u>=65&&u<=90||u>=97&&u<=122||u===95||u===36){o=true;s=l}else if(u>=48&&u<=57){p=true;s=l}else{var S=e.XString.substring(t,l,l+1);var y=e.SiTokenType.lookup(S);if(e.isNull(y)){y=e.SiTokenType.UNDEFINED}n.add(e.SiToken.createWithValue(y,null))}}l++}}return n};e.SiParser.prototype.clusterExpressions=function(t){var n=e.SiToken.createWithValue(e.SiTokenType.EXPR_SEQ,null);var i=e.XList.create();var r=t.size();for(var o=0;o<r;o++){var a=t.get(o);if(a.getType()===e.SiTokenType.SEMICOLON){this.prepareSeq(i,n,false);i=e.XList.create()}else{i.add(a)}}this.prepareSeq(i,n,false);var p=e.XList.create();p.add(n);return p};e.SiParser.prototype.clusterBrackets=function(t){var n=t.size();for(var i=0;i<n;i++){var r=t.get(i);var o=r.getChildren();var a;if(r.getType()===e.SiTokenType.EXPR_SEQ){a=this.clusterBrackets(o)}else{a=this.resolveBrackets(o)}r.setChildren(a)}return t};e.SiParser.prototype.resolveBrackets=function(t){var n=e.XList.create();var i=e.XList.create();var r=t.size();for(var o=0;o<r;o++){var a=t.get(o);var p=a.getType();if(p===e.SiTokenType.ROUND_BRACKET_OPEN){i.add(n);n=e.XList.create()}else if(p===e.SiTokenType.ROUND_BRACKET_CLOSE){if(i.size()===0){return null}var s=e.SiToken.createWithValue(e.SiTokenType.ROUND_BRACKET,null);s.setChildren(n);n=i.removeAt(i.size()-1);n.add(s)}else{n.add(a)}}return n};e.SiParser.prototype.clusterComma=function(t){var n=e.XList.create();var i=t.size();var r=null;for(var o=0;o<i;o++){var a=t.get(o);var p=a.getType();if(p===e.SiTokenType.COMMA){if(e.isNull(r)){r=e.SiToken.createWithValue(e.SiTokenType.COMMA_LIST,null)}this.prepareSeq(n,r,true);n=e.XList.create()}else{var s=a.getChildren();if(e.notNull(s)){var l=this.clusterComma(s);a.setChildren(l)}n.add(a)}}if(e.notNull(r)){this.prepareSeq(n,r,true);var u=e.XList.create();u.add(r);return u}else if(t.size()>1){var g=e.SiToken.createWithValue(e.SiTokenType.TOKEN_SEQ,null);g.setChildren(n);var c=e.XList.create();c.add(g);return c}else{return t}};e.SiParser.prototype.prepareSeq=function(t,n,i){var r=t.size();if(r===0){if(i){n.add(e.SiToken.createWithValue(e.SiTokenType.EMPTY,null))}}else if(r===1){n.add(t.get(0))}else{var o=e.SiToken.createWithValue(e.SiTokenType.TOKEN_SEQ,null);o.setChildren(t);n.add(o)}};e.SiParser.prototype.clusterFunctions=function(t){var n=null;if(e.notNull(t)){n=e.XList.create();var i=t.size();for(var r=0;r<i;r++){var o=t.get(r);var a=o.getType();var p=null;var s=null;if(r+1<i){p=t.get(r+1);s=p.getType()}if(a===e.SiTokenType.IDENTIFIER&&e.notNull(p)&&s===e.SiTokenType.ROUND_BRACKET){var l=e.SiToken.createWithValue(e.SiTokenType.FUNCTION,o.getValue());var u=p.getChildren();if(e.notNull(u)&&u.size()!==0){if(u.size()!==1){var g=this.clusterFunctions(u);l.setChildren(g)}else{var c=u.get(0);var T;if(c.getType()!==e.SiTokenType.COMMA_LIST){T=e.XList.create();T.add(c)}else{T=c.getChildren()}l.setChildren(T)}}o=l;r++}var S=o.getChildren();S=this.clusterFunctions(S);o.setChildren(S);n.add(o)}}return n};e.SiParser.prototype.clusterOperations=function(t){var n=e.XList.create();var i=t.size();for(var r=0;r<i;r++){var o=t.get(r);var a=o.getType();var p=o.getChildren();if(e.notNull(p)){p=this.clusterOperations(p);o.setChildren(p)}if(a===e.SiTokenType.TOKEN_SEQ){o=this.resolveTokenSequence(o)}n.add(o)}return n};e.SiParser.prototype.resolveTokenSequence=function(t){var n=t.getChildren();var i=n.size();if(i===1){return n.get(0)}var r=null;var o=n.get(0);var a=1;while(true){var p=n.get(a);var s=n.get(a+1);var l=o.getType();var u=p.getType();var g=s.getType();if(e.SiParser.isExecutable(l)===false){this.addError(4,"Left operator not executable")}else if(e.SiParser.isExecutable(g)===false){this.addError(5,"Right operator not executable")}if(u===e.SiTokenType.DOT){r=e.SiToken.createWithValue(e.SiTokenType.OP_DOT,null);r.add(o);r.add(s)}else{this.addError(6,"Not supported operator");return null}a=a+2;if(a>=i){break}o=r}return r};e.SiParser2=function(){};e.SiParser2.prototype=new e.MessageManager;e.SiParser2.prototype._ff_c="SiParser2";e.SiParser2.create=function(){var t=new e.SiParser2;t.setupSessionContext(null);return t};e.SiParser2.addTo=function(t,n,i,r){var o=t;if(e.isNull(o)){o=e.XList.create()}if(e.notNull(n)){var a=r;if(r===-1){a=n.size()}for(var p=i;p<a;p++){o.add(n.get(p))}}return o};e.SiParser2.findLast=function(t,n){var i=-1;if(e.notNull(t)){for(var r=0;r<t.size();r++){if(t.get(r).getType()===n){i=r}}}return i};e.SiParser2.findFirst=function(t,n,i){var r=-1;if(e.notNull(t)){for(var o=i;o<t.size();o++){if(t.get(o).getType()===n){r=o;break}}}return r};e.SiParser2.findFirstLevel=function(t,n,i){var r=-1;if(e.notNull(t)){for(var o=i;o<t.size();o++){if(t.get(o).getOperatorLevel()===n){r=o;break}}}return r};e.SiParser2.findLastLevel=function(t,n,i){var r=-1;if(e.notNull(t)){for(var o=t.size()-1;o>=0;o--){if(t.get(o).getOperatorLevel()===n){r=o;break}}}return r};e.SiParser2.prototype.setupSessionContext=function(t){e.MessageManager.prototype.setupSessionContext.call(this,t)};e.SiParser2.prototype.parse=function(e,t){var n;var i=this.tokenize(e,t);if(t===-1||t>=10){n=this.parseCurlyBrackets(i)}else{n=null}return n};e.SiParser2.prototype.tokenize=function(t,n){var i=null;if(n===-1||n>0){var r=e.XString.replace(t,"\r","");if(n===-1||n>1){var o=e.XList.create();var a=false;var p=false;var s=false;var l=false;var u=false;var g=false;var c=e.XString.size(r);var T=0;for(var S=0;S<=c;){var y;var d;if(S===c){y=0;d=0}else{y=e.XString.getCharAt(r,S);if(S+1<c){d=e.XString.getCharAt(r,S+1)}else{d=0}}if(a){if(y===0||d===0){this.addError(0,"Unproper ending of multiline comment");break}if(y===42&&d===47){o.add(e.SiToken.createWithValue(e.SiTokenType.MULTI_LINE_COMMENT,e.XString.substring(r,T+2,S)));a=false;S=S+2}else{S++}}else if(p){if(y===10||y===0){o.add(e.SiToken.createWithValue(e.SiTokenType.SINGLE_LINE_COMMENT,e.XString.substring(r,T+2,S)));p=false}S++}else if(s){if(y===39||y===0){o.add(e.SiToken.createWithValue(e.SiTokenType.STRING,e.XString.substring(r,T+1,S)));s=false}S++}else if(g){if(y>=48&&y<=57){S++}else{var f=e.XString.substring(r,T,S);o.add(e.SiToken.createWithValue(e.SiTokenType.INTEGER,f));g=false}}else if(u){if(y===32){S++}else{o.add(e.SiToken.create(e.SiTokenType.SPACE));u=false}}else if(l){if(y!==0&&(y>=65&&y<=90||y>=97&&y<=122||y===95||y===36||y>=48&&y<=57)){S++}else{var _=e.XString.substring(r,T,S);if(e.XString.isEqual(_,"true")){o.add(e.SiToken.createWithValue(e.SiTokenType.CONST_TRUE,_))}else if(e.XString.isEqual(_,"false")){o.add(e.SiToken.createWithValue(e.SiTokenType.CONST_FALSE,_))}else if(e.XString.isEqual(_,"int")){o.add(e.SiToken.createWithValue(e.SiTokenType.TYPE_INT,_))}else{o.add(e.SiToken.createWithValue(e.SiTokenType.IDENTIFIER,_))}l=false}}else{if(y!==0){if(y===39){s=true;T=S}else if(y===32){u=true;T=S}else if(y>=65&&y<=90||y>=97&&y<=122||y===95||y===36){l=true;T=S}else if(y===46){o.add(e.SiToken.create(e.SiTokenType.OP_DOT))}else if(y===43){o.add(e.SiToken.create(e.SiTokenType.OP_PLUS))}else if(y===45){o.add(e.SiToken.create(e.SiTokenType.OP_MINUS))}else if(y===42){o.add(e.SiToken.create(e.SiTokenType.OP_MULT))}else if(y===47){if(d===47){p=true;T=S;S++}else if(d===42){a=true;T=S;S++}else{o.add(e.SiToken.create(e.SiTokenType.OP_DIV))}}else if(y===60){if(d===61){o.add(e.SiToken.create(e.SiTokenType.OP_LOWER_EQUAL));S++}else{o.add(e.SiToken.create(e.SiTokenType.OP_LOWER))}}else if(y===62){if(d===61){o.add(e.SiToken.create(e.SiTokenType.OP_GREATER_EQUAL));S++}else{o.add(e.SiToken.create(e.SiTokenType.OP_GREATER))}}else if(y===61){if(d===61){o.add(e.SiToken.create(e.SiTokenType.OP_EQUAL));S++}else{o.add(e.SiToken.create(e.SiTokenType.OP_ASSIGN))}}else if(y===33){if(d===61){o.add(e.SiToken.create(e.SiTokenType.OP_NOT_EQUAL));S++}else{o.add(e.SiToken.create(e.SiTokenType.OP_NOT))}}else if(y===38){if(d===38){o.add(e.SiToken.create(e.SiTokenType.OP_BOOL_AND));S++}else{o.add(e.SiToken.create(e.SiTokenType.OP_BIN_AND))}}else if(y===124){if(d===124){o.add(e.SiToken.create(e.SiTokenType.OP_BOOL_OR));S++}else{o.add(e.SiToken.create(e.SiTokenType.OP_BIN_OR))}}else if(y>=48&&y<=57){g=true;T=S}else{var m=e.XString.substring(r,S,S+1);var h=e.SiTokenType.lookup(m);if(e.isNull(h)){h=e.SiTokenType.UNDEFINED}o.add(e.SiToken.create(h))}}S++}}var P=this.spaceFreeTokens(o);var E=this.tokensWithDoublesAndCells(P);i=E}}return i};e.SiParser2.prototype.spaceFreeTokens=function(t){var n=e.XList.create();var i=t.size();var r;var o;for(var a=0;a<i;a++){r=t.get(a);o=r.getType();if(o!==e.SiTokenType.SPACE&&o!==e.SiTokenType.MULTI_LINE_COMMENT&&o!==e.SiTokenType.SINGLE_LINE_COMMENT){n.add(r)}}return n};e.SiParser2.prototype.tokensWithDoublesAndCells=function(t){var n=e.XList.create();var i=t.size();var r;for(var o=0;o<i;o++){r=t.get(o);var a=r.getType();var p=null;var s=null;var l=null;var u=null;if(o+2<i){p=t.get(o+1);s=p.getType();l=t.get(o+2);u=l.getType()}if(a===e.SiTokenType.INTEGER&&s===e.SiTokenType.OP_DOT&&u===e.SiTokenType.INTEGER&&e.notNull(l)){var g=e.XStringUtils.concatenate3(r.getValue(),".",l.getValue());var c=e.SiToken.createWithValue(e.SiTokenType.DOUBLE,g);n.add(c);o=o+2}else if(a===e.SiTokenType.IDENTIFIER&&s===e.SiTokenType.OP_COLON&&u===e.SiTokenType.IDENTIFIER&&e.notNull(l)){var T=e.XStringUtils.concatenate3(r.getValue(),":",l.getValue());var S=e.SiToken.createWithValue(e.SiTokenType.CELL_SELECTION,T);n.add(S);o=o+2}else{n.add(r)}}return n};e.SiParser2.prototype.parseCurlyBrackets=function(t){var n=e.SiParser2.findLast(t,e.SiTokenType.CURLY_BRACKET_OPEN);if(n===-1){var i=e.SiParser2.findFirst(t,e.SiTokenType.CURLY_BRACKET_CLOSE,0);if(i===-1){return this.parseExpressionSequences(t)}this.addError(0,"Closing curly bracket '}' not expected");return null}var r=e.SiParser2.findFirst(t,e.SiTokenType.CURLY_BRACKET_CLOSE,n);if(r===-1){this.addError(0,"Closing round bracket '}' not found");return null}var o=e.SiToken.create(e.SiTokenType.CURLY_BRACKET);var a=e.SiParser2.addTo(null,t,n+1,r);if(a.size()>0){var p=this.parseCurlyBrackets(a);o.add(p)}var s=e.SiParser2.addTo(null,t,0,n);s.add(o);e.SiParser2.addTo(s,t,r+1,-1);return this.parseCurlyBrackets(s)};e.SiParser2.prototype.parseExpressionSequences=function(t){var n=e.SiToken.create(e.SiTokenType.EXPR_SEQ);var i=0;var r;while(true){r=e.SiParser2.findFirst(t,e.SiTokenType.SEMICOLON,i);var o=e.SiParser2.addTo(null,t,i,r);if(o.size()>0){var a=this.parseBrackets(o);n.add(a)}if(r===-1){break}i=r+1}return n};e.SiParser2.prototype.parseBrackets=function(t){var n=e.SiParser2.findLast(t,e.SiTokenType.ROUND_BRACKET_OPEN);if(n===-1){var i=e.SiParser2.findFirst(t,e.SiTokenType.ROUND_BRACKET_CLOSE,0);if(i===-1){return this.parseCommaList(t)}this.addError(0,"Closing round bracket ')' not expected");return null}var r=e.SiParser2.findFirst(t,e.SiTokenType.ROUND_BRACKET_CLOSE,n);if(r===-1){this.addError(0,"Closing round bracket ')' not found");return null}var o=e.SiToken.create(e.SiTokenType.ROUND_BRACKET);var a=e.SiParser2.addTo(null,t,n+1,r);if(a.size()>0){var p=this.parseBrackets(a);o.add(p)}var s=e.SiParser2.addTo(null,t,0,n);s.add(o);e.SiParser2.addTo(s,t,r+1,-1);return this.parseBrackets(s)};e.SiParser2.prototype.parseCommaList=function(t){var n=e.SiToken.create(e.SiTokenType.COMMA_LIST);var i=0;var r;while(true){r=e.SiParser2.findFirst(t,e.SiTokenType.COMMA,i);var o=e.SiParser2.addTo(null,t,i,r);if(o.size()>0){var a=this.parseFunctionAndOperations(o);n.add(a)}else{n.add(e.SiToken.create(e.SiTokenType.EMPTY))}if(r===-1){break}i=r+1}if(n.size()===1){return n.getChild()}return n};e.SiParser2.prototype.parseFunctionAndOperations=function(e){var t=this.parseFunctions(e);var n=this.parseOperations(t);return n};e.SiParser2.prototype.parseFunctions=function(t){var n=null;if(e.notNull(t)){n=e.XList.create();var i=t.size();for(var r=0;r<i;r++){var o=t.get(r);var a=o.getType();var p=null;var s=null;if(r+1<i){p=t.get(r+1);s=p.getType()}if(a===e.SiTokenType.IDENTIFIER&&s===e.SiTokenType.ROUND_BRACKET&&e.notNull(p)){var l=e.SiToken.createWithValue(e.SiTokenType.FUNCTION,o.getValue());n.add(l);var u=p.getChild();if(e.notNull(u)){var g=u.getType();if(g===e.SiTokenType.COMMA_LIST){var c=u.getChildren();l.setChildren(c)}else{l.add(u)}}r++}else{n.add(o)}}}return n};e.SiParser2.prototype.parseOperations=function(t){if(e.isNull(t)){this.addError(0,"No children");return null}if(t.size()===1){return t.get(0)}else if(t.size()===0){return null}var n=e.XList.create();n.addAll(t);this.mergeSign(n);for(var i=10;i>=6;i--){while(n.size()>1){var r=e.SiParser2.findFirstLevel(n,i,0);if(r===-1){break}var o=n.get(r);var a=o.getType();this.merge(n,r,a,false)}}var p=this.parseAssignment(n);return p};e.SiParser2.prototype.mergeSign=function(t){var n=0;var i=null;var r=null;var o=null;while(n<t.size()){o=t.get(n);var a=o.getType();if(a.isNumber()&&e.notNull(r)){var p=r.getType();if(p===e.SiTokenType.OP_PLUS||p===e.SiTokenType.OP_MINUS){var s=null;if(e.notNull(i)){s=i.getType()}if(e.isNull(s)||s.isOperator()){var l;if(p===e.SiTokenType.OP_PLUS){l=e.XStringUtils.concatenate2("+",o.getValue())}else{l=e.XStringUtils.concatenate2("-",o.getValue())}o.setValue(l);t.removeAt(n-1);n--}}}i=r;r=o;n++}};e.SiParser2.prototype.parseAssignment=function(t){while(t.size()>1){var n=e.SiParser2.findLastLevel(t,5,0);if(n===-1){break}var i=t.get(n);var r=i.getType();this.merge(t,n,r,true)}return this.parseComplexDefinition(t)};e.SiParser2.prototype.parseComplexDefinition=function(t){if(t.size()!==1){for(var n=0;n<t.size()-1;n++){var i=t.get(n);var r=i.getType();if(r.isPrimitiveType()){var o=t.get(n+1);var a=o.getValue();var p=e.SiToken.createExt(e.SiTokenType.PRIMITIVE_TYPE_VAR_DEF,0,a,null);p.add(i);p.add(o);return p}}var s=e.SiToken.createExt(e.SiTokenType.TOKEN_SEQ,0,null,t);return s}else{return t.get(0)}};e.SiParser2.prototype.merge=function(t,n,i,r){if(n>0&&n+1<t.size()){var o=t.get(n-1);var a=t.get(n+1);var p=null;if(r===true){p=o.getValue()}var s=e.SiToken.createExt(i,0,p,null);s.add(o).add(a);t.set(n-1,s);t.removeAt(n);t.removeAt(n);return s}else{return null}};e.SiTokenType=function(){};e.SiTokenType.prototype=new e.XConstant;e.SiTokenType.prototype._ff_c="SiTokenType";e.SiTokenType.IDENTIFIER=null;e.SiTokenType.STRING=null;e.SiTokenType.INTEGER=null;e.SiTokenType.DOUBLE=null;e.SiTokenType.CONST_TRUE=null;e.SiTokenType.CONST_FALSE=null;e.SiTokenType.SPACE=null;e.SiTokenType.DOT=null;e.SiTokenType.PLUS=null;e.SiTokenType.MINUS=null;e.SiTokenType.MULT=null;e.SiTokenType.DIV=null;e.SiTokenType._OP_PLUS="OpPlus";e.SiTokenType.OP_PLUS=null;e.SiTokenType._OP_MINUS="OpMinus";e.SiTokenType.OP_MINUS=null;e.SiTokenType._OP_MULT="OpMult";e.SiTokenType.OP_MULT=null;e.SiTokenType._OP_DIV="OpDiv";e.SiTokenType.OP_DIV=null;e.SiTokenType.OP_COLON=null;e.SiTokenType.OP_DOT=null;e.SiTokenType._OP_LOWER="OpLower";e.SiTokenType.OP_LOWER=null;e.SiTokenType._OP_LOWER_EQUAL="OpLowerEqual";e.SiTokenType.OP_LOWER_EQUAL=null;e.SiTokenType._OP_GREATER="OpGreater";e.SiTokenType.OP_GREATER=null;e.SiTokenType._OP_GREATER_EQUAL="OpGreaterEqual";e.SiTokenType.OP_GREATER_EQUAL=null;e.SiTokenType._OP_EQUAL="OpEqual";e.SiTokenType.OP_EQUAL=null;e.SiTokenType._OP_NOT_EQUAL="OpNotEqual";e.SiTokenType.OP_NOT_EQUAL=null;e.SiTokenType._OP_ASSIGN="OpAssign";e.SiTokenType.OP_ASSIGN=null;e.SiTokenType._OP_NOT="OpBinNot";e.SiTokenType.OP_NOT=null;e.SiTokenType._OP_BIN_AND="OpBinAnd";e.SiTokenType.OP_BIN_AND=null;e.SiTokenType._OP_BOOL_AND="OpBoolAnd";e.SiTokenType.OP_BOOL_AND=null;e.SiTokenType._OP_BIN_OR="OpBinOr";e.SiTokenType.OP_BIN_OR=null;e.SiTokenType._OP_BOOL_OR="OpBoolOr";e.SiTokenType.OP_BOOL_OR=null;e.SiTokenType.TYPE_INT=null;e.SiTokenType.TYPE_DOUBLE=null;e.SiTokenType.TYPE_STRING=null;e.SiTokenType.TYPE_BOOLEAN=null;e.SiTokenType.PRIMITIVE_TYPE_VAR_DEF=null;e.SiTokenType.SEMICOLON=null;e.SiTokenType.COMMA=null;e.SiTokenType.COMMA_LIST=null;e.SiTokenType.FUNCTION=null;e.SiTokenType.ROUND_BRACKET_OPEN=null;e.SiTokenType.ROUND_BRACKET_CLOSE=null;e.SiTokenType.ROUND_BRACKET=null;e.SiTokenType.CURLY_BRACKET_OPEN=null;e.SiTokenType.CURLY_BRACKET_CLOSE=null;e.SiTokenType.CURLY_BRACKET=null;e.SiTokenType.CELL_SELECTION=null;e.SiTokenType.UNDEFINED=null;e.SiTokenType.TOKEN_SEQ=null;e.SiTokenType.EXPR_SEQ=null;e.SiTokenType.EMPTY=null;e.SiTokenType.MULTI_LINE_COMMENT=null;e.SiTokenType.SINGLE_LINE_COMMENT=null;e.SiTokenType.s_lookup=null;e.SiTokenType.staticSetup=function(){e.SiTokenType.s_lookup=e.XSetOfNameObject.create();e.SiTokenType.IDENTIFIER=e.SiTokenType.createType("Identifier");e.SiTokenType.STRING=e.SiTokenType.createType("String");e.SiTokenType.INTEGER=e.SiTokenType.createNumber("Integer");e.SiTokenType.DOUBLE=e.SiTokenType.createNumber("Double");e.SiTokenType.CONST_TRUE=e.SiTokenType.createType("True");e.SiTokenType.CONST_FALSE=e.SiTokenType.createType("False");e.SiTokenType.SPACE=e.SiTokenType.createType("Space");e.SiTokenType.UNDEFINED=e.SiTokenType.createType("Undefined");e.SiTokenType.SEMICOLON=e.SiTokenType.createType(";");e.SiTokenType.OP_COLON=e.SiTokenType.createType(":");e.SiTokenType.COMMA=e.SiTokenType.createType(",");e.SiTokenType.COMMA_LIST=e.SiTokenType.createType("CommaList");e.SiTokenType.FUNCTION=e.SiTokenType.createType("Function");e.SiTokenType.ROUND_BRACKET_OPEN=e.SiTokenType.createType("(");e.SiTokenType.ROUND_BRACKET_CLOSE=e.SiTokenType.createType(")");e.SiTokenType.ROUND_BRACKET=e.SiTokenType.createType("()");e.SiTokenType.CURLY_BRACKET_OPEN=e.SiTokenType.createType("{");e.SiTokenType.CURLY_BRACKET_CLOSE=e.SiTokenType.createType("}");e.SiTokenType.CURLY_BRACKET=e.SiTokenType.createType("{}");e.SiTokenType.TOKEN_SEQ=e.SiTokenType.createType("TokenSeq");e.SiTokenType.EXPR_SEQ=e.SiTokenType.createType("ExprSeq");e.SiTokenType.EMPTY=e.SiTokenType.createType("Empty");e.SiTokenType.DOT=e.SiTokenType.createOperator(".",10);e.SiTokenType.MULT=e.SiTokenType.createOperator("*",9);e.SiTokenType.DIV=e.SiTokenType.createOperator("/",9);e.SiTokenType.PLUS=e.SiTokenType.createOperator("+",8);e.SiTokenType.MINUS=e.SiTokenType.createOperator("-",8);e.SiTokenType.OP_DOT=e.SiTokenType.createOperator("OpDot",10);e.SiTokenType.OP_MULT=e.SiTokenType.createOperator(e.SiTokenType._OP_MULT,9);e.SiTokenType.OP_DIV=e.SiTokenType.createOperator(e.SiTokenType._OP_DIV,9);e.SiTokenType.OP_PLUS=e.SiTokenType.createOperator(e.SiTokenType._OP_PLUS,8);e.SiTokenType.OP_MINUS=e.SiTokenType.createOperator(e.SiTokenType._OP_MINUS,8);e.SiTokenType.OP_LOWER=e.SiTokenType.createOperator(e.SiTokenType._OP_LOWER,7);e.SiTokenType.OP_LOWER_EQUAL=e.SiTokenType.createOperator(e.SiTokenType._OP_LOWER_EQUAL,7);e.SiTokenType.OP_GREATER=e.SiTokenType.createOperator(e.SiTokenType._OP_GREATER,7);e.SiTokenType.OP_GREATER_EQUAL=e.SiTokenType.createOperator(e.SiTokenType._OP_GREATER_EQUAL,7);e.SiTokenType.OP_EQUAL=e.SiTokenType.createOperator(e.SiTokenType._OP_EQUAL,7);e.SiTokenType.OP_NOT_EQUAL=e.SiTokenType.createOperator(e.SiTokenType._OP_NOT_EQUAL,7);e.SiTokenType.OP_BOOL_OR=e.SiTokenType.createOperator(e.SiTokenType._OP_BOOL_OR,6);e.SiTokenType.OP_BOOL_AND=e.SiTokenType.createOperator(e.SiTokenType._OP_BOOL_AND,6);e.SiTokenType.OP_ASSIGN=e.SiTokenType.createOperator(e.SiTokenType._OP_ASSIGN,5);e.SiTokenType.OP_NOT=e.SiTokenType.createType(e.SiTokenType._OP_NOT);e.SiTokenType.OP_BIN_OR=e.SiTokenType.createType(e.SiTokenType._OP_BIN_OR);e.SiTokenType.OP_BIN_AND=e.SiTokenType.createType(e.SiTokenType._OP_BIN_AND);e.SiTokenType.CELL_SELECTION=e.SiTokenType.createType("CellSelection");e.SiTokenType.MULTI_LINE_COMMENT=e.SiTokenType.createType("MultiLineComment");e.SiTokenType.SINGLE_LINE_COMMENT=e.SiTokenType.createType("SingleLineComment");e.SiTokenType.TYPE_BOOLEAN=e.SiTokenType.createPrimitiveType("boolean");e.SiTokenType.TYPE_DOUBLE=e.SiTokenType.createPrimitiveType("double");e.SiTokenType.TYPE_INT=e.SiTokenType.createPrimitiveType("int");e.SiTokenType.TYPE_STRING=e.SiTokenType.createPrimitiveType("String");e.SiTokenType.PRIMITIVE_TYPE_VAR_DEF=e.SiTokenType.createType("PrimitiveTypeVarDef")};e.SiTokenType.createNumber=function(t){var n=e.SiTokenType.createType(t);n.m_isNumber=true;return n};e.SiTokenType.createType=function(t){var n=new e.SiTokenType;n._setupInternal(t);e.SiTokenType.s_lookup.add(n);return n};e.SiTokenType.createOperator=function(t,n){var i=new e.SiTokenType;i._setupInternal(t);i.m_operatorLevel=n;e.SiTokenType.s_lookup.add(i);return i};e.SiTokenType.createPrimitiveType=function(t){var n=new e.SiTokenType;n._setupInternal(t);n.m_isPrimitiveType=true;e.SiTokenType.s_lookup.add(n);return n};e.SiTokenType.lookup=function(t){return e.SiTokenType.s_lookup.getByKey(t)};e.SiTokenType.prototype.m_operatorLevel=0;e.SiTokenType.prototype.m_isPrimitiveType=false;e.SiTokenType.prototype.m_isNumber=false;e.SiTokenType.prototype.getOperatorLevel=function(){return this.m_operatorLevel};e.SiTokenType.prototype.isPrimitiveType=function(){return this.m_isPrimitiveType};e.SiTokenType.prototype.isOperator=function(){return this.m_operatorLevel>0};e.SiTokenType.prototype.isNumber=function(){return this.m_isNumber};e.UiPrgContainer=function(){};e.UiPrgContainer.prototype=new e.ProgramContainer;e.UiPrgContainer.prototype._ff_c="UiPrgContainer";e.UiPrgContainer.prototype.m_uiManager=null;e.UiPrgContainer.prototype.setupUiContainer=function(t,n){e.ProgramContainer.prototype.setupContainer.call(this,t,n)};e.UiPrgContainer.prototype.releaseObject=function(){this.closeContainerControl();this.notifyContainerClosed();this.internalCleanup();this.m_uiManager=null;e.ProgramContainer.prototype.releaseObject.call(this)};e.UiPrgContainer.prototype.shutdownContainer=function(){if(this.isContainerOpen()){this.closeContainerControl();this.notifyContainerClosed();this.internalCleanup()}};e.UiPrgContainer.prototype.setTitle=function(t){e.ProgramContainer.prototype.setTitle.call(this,t)};e.UiPrgContainer.prototype.getTitle=function(){var t=e.ProgramContainer.prototype.getTitle.call(this);if(e.XStringUtils.isNullOrEmpty(t)){var n=this.getStartCfg();t=n.getStartTitle()}return t};e.UiPrgContainer.prototype.runFull=function(){var t=this.getUiManager();if(e.notNull(t)){this.openAndRun(t)}};e.UiPrgContainer.prototype.openAndRun=function(e){this.m_uiManager=e};e.UiPrgContainer.prototype.isContainerOpen=function(){return false};e.UiPrgContainer.prototype.isUiContainer=function(){return true};e.UiPrgContainer.prototype.isModalContainer=function(){return false};e.UiPrgContainer.prototype.isFloatingContainer=function(){return false};e.UiPrgContainer.prototype.setContainerNameAndCssClass=function(t){if(e.notNull(t)){if(e.XStringUtils.isNotNullAndNotEmpty(this.getContainerName())){t.setName(this.getContainerName())}if(e.XStringUtils.isNotNullAndNotEmpty(this.getContainerCssClass())){t.addCssClass(this.getContainerCssClass())}}};e.UiPrgContainer.prototype.notifyContainerClosed=function(){if(this.getProgram()!==null&&this.getProgram().getContainerAfterCloseProcedure()!==null){this.getProgram().getContainerAfterCloseProcedure()()}};e.UiPrgContainer.prototype.notifyContainerOpened=function(){if(this.getProgram()!==null&&this.getProgram().getContainerAfterOpenProcedure()!==null){this.getProgram().getContainerAfterOpenProcedure()()}};e.UiPrgContainer.prototype.getUiManager=function(){if(e.isNull(this.m_uiManager)){var t=this.getProgram();var n=t.getProcess();this.m_uiManager=n.getUiManager();if(e.isNull(this.m_uiManager)){this.m_uiManager=n.openSubSystem(e.SubSystemType.GUI)}}return this.m_uiManager};e.UiPrgContainer.prototype.getGenesis=function(){if(e.notNull(this.m_uiManager)){return this.m_uiManager.getFreeGenesis()}return null};e.UiPrgContainer.prototype.terminateProgram=function(){var e=this.getProgram();e.terminate()};e.UiPrgContainer.prototype.killProgram=function(){var e=this.getProgram();e.kill()};e.UiPrgContainer.prototype.internalCleanup=function(){e.XObjectExt.release(this.getProgram())};e.UiPrgContainer.prototype.isUiProgram=function(){return this.getProgram()!==null&&this.getProcess().getProcessType()===e.ProcessType.PROGRAM&&this.getProgram().getComponentType().isTypeOf(e.UiComponentTypeExt.UI_PROGRAM)};e.UiPrgContainer.prototype.getUiProgram=function(){if(this.isUiProgram()){return this.getProgram()}return null};e.UiPrgContainer.prototype.getContainerName=function(){var e=null;if(this.getProgram().getResolvedProgramContainerType().isUiContainer()){var t=this.getUiProgram();e=t.getContainerName()}return e};e.UiPrgContainer.prototype.getContainerCssClass=function(){var e=null;if(this.getProgram().getResolvedProgramContainerType().isUiContainer()){var t=this.getUiProgram();e=t.getContainerCssClass()}return e};e.SxEventScripting=function(){};e.SxEventScripting.prototype=new e.XObject;e.SxEventScripting.prototype._ff_c="SxEventScripting";e.SxEventScripting.create=function(t){var n=new e.SxEventScripting;n.setupEventScripting(null,t);return n};e.SxEventScripting.prototype.m_uiManager=null;e.SxEventScripting.prototype.m_script=null;e.SxEventScripting.prototype.m_objCounter=0;e.SxEventScripting.prototype.m_map=null;e.SxEventScripting.prototype.setupEventScripting=function(t,n){this.m_uiManager=t;this.m_script=n;this.m_map=e.XHashMapByString.create()};e.SxEventScripting.prototype.onSelect=function(t){this.runEventScript(t,e.UiEvent.ON_SELECT)};e.SxEventScripting.prototype.onSelectionChange=function(t){this.runEventScript(t,e.UiEvent.ON_SELECTION_CHANGE)};e.SxEventScripting.prototype.onChange=function(t){this.runEventScript(t,e.UiEvent.ON_CHANGE)};e.SxEventScripting.prototype.onLiveChange=function(t){this.runEventScript(t,e.UiEvent.ON_LIVE_CHANGE)};e.SxEventScripting.prototype.onEnter=function(t){this.runEventScript(t,e.UiEvent.ON_ENTER)};e.SxEventScripting.prototype.onPress=function(t){this.runEventScript(t,e.UiEvent.ON_PRESS)};e.SxEventScripting.prototype.onEditingBegin=function(t){this.runEventScript(t,e.UiEvent.ON_EDITING_BEGIN)};e.SxEventScripting.prototype.onEditingEnd=function(t){this.runEventScript(t,e.UiEvent.ON_EDITING_END)};e.SxEventScripting.prototype.onBack=function(t){this.runEventScript(t,e.UiEvent.ON_BACK)};e.SxEventScripting.prototype.onRefresh=function(t){this.runEventScript(t,e.UiEvent.ON_REFRESH)};e.SxEventScripting.prototype.onOpen=function(t){this.runEventScript(t,e.UiEvent.ON_OPEN)};e.SxEventScripting.prototype.onClose=function(t){this.runEventScript(t,e.UiEvent.ON_CLOSE)};e.SxEventScripting.prototype.onBeforeOpen=function(t){this.runEventScript(t,e.UiEvent.ON_BEFORE_OPEN)};e.SxEventScripting.prototype.onBeforeClose=function(t){this.runEventScript(t,e.UiEvent.ON_BEFORE_CLOSE)};e.SxEventScripting.prototype.onAfterOpen=function(t){this.runEventScript(t,e.UiEvent.ON_AFTER_OPEN)};e.SxEventScripting.prototype.onAfterClose=function(t){this.runEventScript(t,e.UiEvent.ON_AFTER_CLOSE)};e.SxEventScripting.prototype.onClick=function(t){this.runEventScript(t,e.UiEvent.ON_CLICK)};e.SxEventScripting.prototype.onContextMenu=function(t){this.runEventScript(t,e.UiEvent.ON_CONTEXT_MENU)};e.SxEventScripting.prototype.onDoubleClick=function(t){this.runEventScript(t,e.UiEvent.ON_DOUBLE_CLICK)};e.SxEventScripting.prototype.onCollapse=function(t){this.runEventScript(t,e.UiEvent.ON_COLLAPSE)};e.SxEventScripting.prototype.onExpand=function(t){this.runEventScript(t,e.UiEvent.ON_EXPAND)};e.SxEventScripting.prototype.onLoadFinished=function(t){this.runEventScript(t,e.UiEvent.ON_LOAD_FINISHED)};e.SxEventScripting.prototype.onDelete=function(t){this.runEventScript(t,e.UiEvent.ON_DELETE)};e.SxEventScripting.prototype.onDetailPress=function(t){this.runEventScript(t,e.UiEvent.ON_DETAIL_PRESS)};e.SxEventScripting.prototype.onMove=function(t){this.runEventScript(t,e.UiEvent.ON_MOVE)};e.SxEventScripting.prototype.onMoveStart=function(t){this.runEventScript(t,e.UiEvent.ON_MOVE_START)};e.SxEventScripting.prototype.onMoveEnd=function(t){this.runEventScript(t,e.UiEvent.ON_MOVE_END)};e.SxEventScripting.prototype.onResize=function(t){this.runEventScript(t,e.UiEvent.ON_RESIZE)};e.SxEventScripting.prototype.onSuggestionSelect=function(t){this.runEventScript(t,e.UiEvent.ON_SUGGESTION_SELECT)};e.SxEventScripting.prototype.onScroll=function(t){this.runEventScript(t,e.UiEvent.ON_SCROLL)};e.SxEventScripting.prototype.onScrollLoad=function(t){this.runEventScript(t,e.UiEvent.ON_SCROLL_LOAD)};e.SxEventScripting.prototype.onHover=function(t){this.runEventScript(t,e.UiEvent.ON_HOVER)};e.SxEventScripting.prototype.onHoverEnd=function(t){this.runEventScript(t,e.UiEvent.ON_HOVER_END)};e.SxEventScripting.prototype.onPaste=function(t){this.runEventScript(t,e.UiEvent.ON_PASTE)};e.SxEventScripting.prototype.onSelectionFinish=function(t){this.runEventScript(t,e.UiEvent.ON_SELECTION_FINISH)};e.SxEventScripting.prototype.onSearch=function(t){this.runEventScript(t,e.UiEvent.ON_SEARCH)};e.SxEventScripting.prototype.onButtonPress=function(t){this.runEventScript(t,e.UiEvent.ON_BUTTON_PRESS)};e.SxEventScripting.prototype.onError=function(t){this.runEventScript(t,e.UiEvent.ON_ERROR)};e.SxEventScripting.prototype.onReadLineFinished=function(t){this.runEventScript(t,e.UiEvent.ON_READ_LINE_FINISHED)};e.SxEventScripting.prototype.onExecute=function(t){this.runEventScript(t,e.UiEvent.ON_EXECUTE)};e.SxEventScripting.prototype.onTerminate=function(t){this.runEventScript(t,e.UiEvent.ON_TERMINATE)};e.SxEventScripting.prototype.onFileDrop=function(t){this.runEventScript(t,e.UiEvent.ON_FILE_DROP)};e.SxEventScripting.prototype.onDrop=function(t){this.runEventScript(t,e.UiEvent.ON_DROP)};e.SxEventScripting.prototype.onItemClose=function(t){this.runEventScript(t,e.UiEvent.ON_ITEM_CLOSE)};e.SxEventScripting.prototype.onItemSelect=function(t){this.runEventScript(t,e.UiEvent.ON_ITEM_SELECT)};e.SxEventScripting.prototype.onTableDragAndDrop=function(t){this.runEventScript(t,e.UiEvent.ON_TABLE_DRAG_AND_DROP)};e.SxEventScripting.prototype.onMenuPress=function(t){this.runEventScript(t,e.UiEvent.ON_MENU_PRESS)};e.SxEventScripting.prototype.onValueHelpRequest=function(t){this.runEventScript(t,e.UiEvent.ON_VALUE_HELP_REQUEST)};e.SxEventScripting.prototype.onColumnResize=function(t){this.runEventScript(t,e.UiEvent.ON_COLUMN_RESIZE)};e.SxEventScripting.prototype.onRowResize=function(t){this.runEventScript(t,e.UiEvent.ON_ROW_RESIZE)};e.SxEventScripting.prototype.onItemPress=function(t){this.runEventScript(t,e.UiEvent.ON_ITEM_PRESS)};e.SxEventScripting.prototype.onDragStart=function(t){this.runEventScript(t,e.UiEvent.ON_DRAG_START)};e.SxEventScripting.prototype.onDragEnd=function(t){this.runEventScript(t,e.UiEvent.ON_DRAG_END)};e.SxEventScripting.prototype.onEscape=function(t){this.runEventScript(t,e.UiEvent.ON_ESCAPE)};e.SxEventScripting.prototype.runEventScript=function(t,n){if(e.isNull(n)){throw e.XException.createRuntimeException("Missing event! Please specify an event!")}var i=t.getControl();var r=this.m_script;if(e.notNull(i)){if(e.isNull(this.m_uiManager)){this.m_uiManager=i.getUiManager()}if(e.isNull(this.m_script)){var o=i.getCustomObject();r=o.getStringByKey(n.getName())}}var a=e.ScriptEngine.create();a.setVmCallback(this);a.setCustomObject("event",t);a.setCustomObject("uicontext",i);a.setInitialRegister(i);a.compile(r);a.execute()};e.SxEventScripting.prototype.nativeCall=function(t,n,i,r,o){var a=this.fillParameters(r,o);var p=e.XBooleanValue.create(false);var s=this.executeByKeyword(n,a,p);if(p.getBoolean()===false){var l=this.lookupComponent(t,i);if(false){var u=l.getComponentType();if(e.notNull(u)){s=this.executeOperation(u,l,n,a)}}else{var g=this.fillParameters2(r,o);var c;if(e.notNull(a)&&a.hasElements()){c=e.XReflection.invokeMethodWithArgs(l,n,g)}else{c=e.XReflection.invokeMethod(l,n)}s=c.getValue()}}return s};e.SxEventScripting.prototype.executeOperation=function(t,n,i,r){var o=null;if(t.isTypeOf(e.XComponentType._UI)){var a=n;var p=e.UiAllOperations.lookupOp(i);if(e.notNull(p)){o=p.executeOperation(this,a,r,0)}}return o};e.SxEventScripting.prototype.executeByKeyword=function(t,n,i){if(e.XString.isEqual(e.UiQuasarConstants.QSA_DOLLAR,t)){var r=n.getStringAtExt(0,null);var o=this.getUiManager().getSession();var a=o.getSelector();var p=a.selectComponentByExpr(r,e.SigSelDomain.UI,null,-1,true);i.setBoolean(true);return p}return null};e.SxEventScripting.prototype.lookupComponent=function(t,n){var i=n;if(e.isNull(i)){i=t.getCustomObject("uicontext")}return i};e.SxEventScripting.prototype.fillParameters=function(t,n){var i=e.PrFactory.createList();var r=t.size()-n;var o;var a;var p;for(var s=0;s<n;s++){o=t.get(r+s);if(e.notNull(o)){a=o;p=a.getComponentType();if(p===e.XValueType.STRING){i.addString(a.toString())}else if(p===e.XValueType.BOOLEAN){i.addBoolean(a.getBoolean())}else if(p===e.XValueType.INTEGER){i.addInteger(a.getInteger())}else if(p===e.XValueType.DOUBLE){i.addDouble(a.getDouble())}else if(p.isTypeOf(e.XComponentType._UI)){var l=this.newId();this.m_map.put(l,a);i.addString(l)}}else{i.add(null)}}return i};e.SxEventScripting.prototype.fillParameters2=function(t,n){var i=e.XList.create();var r=t.size()-n;var o;var a;var p;for(var s=0;s<n;s++){o=t.get(r+s);if(e.notNull(o)){a=o;p=a.getComponentType();if(p===e.XValueType.STRING){i.add(e.XReflectionParam.createString(a.toString()))}else if(p===e.XValueType.BOOLEAN){i.add(e.XReflectionParam.createBoolean(a.getBoolean()))}else if(p===e.XValueType.INTEGER){i.add(e.XReflectionParam.createInteger(a.getInteger()))}else if(p===e.XValueType.DOUBLE){i.add(e.XReflectionParam.createDouble(a.getDouble()))}else{i.add(e.XReflectionParam.create(a))}}else{i.add(e.XReflectionParam.create(null))}}return i};e.SxEventScripting.prototype.beforeScriptExecution=function(e){};e.SxEventScripting.prototype.afterScriptExecution=function(e){};e.SxEventScripting.prototype.getContext=function(t){var n=this.m_map.getByKey(t);if(e.notNull(n)){var i=n;i=i.getOrigin();return i}else{return null}};e.SxEventScripting.prototype.newId=function(){var t=e.XStringBuffer.create().append("Id").appendInt(this.m_objCounter).toString();this.m_objCounter++;return t};e.SxEventScripting.prototype.getUiManager=function(){return this.m_uiManager};e.SxEventScripting.prototype.getGenesis=function(){return this.m_uiManager.getGenesis()};e.UiPrgContainerEmbedded=function(){};e.UiPrgContainerEmbedded.prototype=new e.UiPrgContainer;e.UiPrgContainerEmbedded.prototype._ff_c="UiPrgContainerEmbedded";e.UiPrgContainerEmbedded.prototype.m_isContainerOpen=false;e.UiPrgContainerEmbedded.prototype.setupUiContainer=function(t,n){this.m_isContainerOpen=false;e.UiPrgContainer.prototype.setupContainer.call(this,t,n)};e.UiPrgContainerEmbedded.prototype.isContainerOpen=function(){return this.m_isContainerOpen};e.UiPrgContainerEmbedded.prototype.isModalContainer=function(){return false};e.UiPrgContainerEmbedded.prototype.isFloatingContainer=function(){return false};e.UiPrgContainerEmbedded.prototype.setContainerOpened=function(){this.m_isContainerOpen=true;this.notifyContainerOpened()};e.UiPrgContainerEmbedded.prototype.closeContainerControl=function(){this.m_isContainerOpen=false};e.UiPrgContainerEmbedded.prototype.openContainerControl=function(){this.m_isContainerOpen=true};e.UiPrgContainerFloating=function(){};e.UiPrgContainerFloating.prototype=new e.UiPrgContainer;e.UiPrgContainerFloating.prototype._ff_c="UiPrgContainerFloating";e.UiPrgContainerFloating.prototype.isFloatingContainer=function(){return true};e.UiPrgContainerFloating.prototype.getInitialContainerSize=function(){var t=this.getStartCfg();var n=null;var i=t.getInitialContainerCssWidth();var r=t.getInitialContainerCssHeight();if(e.XStringUtils.isNotNullAndNotEmpty(i)||e.XStringUtils.isNotNullAndNotEmpty(r)){n=e.UiSize.createByCss(i,r)}var o=this.getUiProgram();if(e.isNull(n)&&e.notNull(o)){if(o.getDefaultContainerSize()!==null){n=o.getDefaultContainerSize()}}return n};e.UiPrgContainerFloating.prototype.getInitialContainerPosition=function(){var t=this.getStartCfg();var n=null;var i=t.getInitialContainerCssPosX();var r=t.getInitialContainerCssPosY();if(e.XStringUtils.isNotNullAndNotEmpty(i)||e.XStringUtils.isNotNullAndNotEmpty(r)){n=e.UiPosition.createByCss(i,r)}var o=this.getUiProgram();if(e.isNull(n)&&e.notNull(o)){n=o.getDefaultContainerPosition()}return n};e.UiPrgContainerFloating.prototype.shouldContainerOpenMaximized=function(){var e=this.getStartCfg();var t=false;if(this.getUiProgram()!==null){t=this.getUiProgram().isOpenContainerMaximized()}if(e.isInitiallyContainerMaximized()){t=e.isInitiallyContainerMaximized()}return t};e.DfUiProgram=function(){};e.DfUiProgram.prototype=new e.DfApplicationProgram;e.DfUiProgram.prototype._ff_c="DfUiProgram";e.DfUiProgram.PRG_CONTENT_WRAPPER_NAME="ffPrgContentWrapper";e.DfUiProgram.PRG_MENU_BAR_NAME="ffPrgMenuBar";e.DfUiProgram.DEFAULT_MENU_BAR_PROGRAM_NAME_BTN_TAG="ffPrgDefaultMenuBarPrograNameBtnTag";e.DfUiProgram.DEFAULT_MENU_BAR_PROGRAM_NAME_MENU_TAG="ffPrgDefaultMenuBarProgramNameMenu";e.DfUiProgram.DEFAULT_MENU_BAR_PROGRAM_NAME_MENU_EXIT_BTN_TAG="ffPrgDefaultMenuBarProgramNameMenuExitBtn";e.DfUiProgram.runStandalone=function(t){e.XClass.initializeClass("com.oFF.UiDriverModule",true);var n=t.newProgram();n.runFull()};e.DfUiProgram.prototype.m_genesis=null;e.DfUiProgram.prototype.m_autoCreatedMenuBar=null;e.DfUiProgram.prototype.m_contentPage=null;e.DfUiProgram.prototype.getDefaultContainerType=function(){return e.ProgramContainerType.WINDOW};e.DfUiProgram.prototype.releaseObject=function(){this.m_autoCreatedMenuBar=e.XObjectExt.release(this.m_autoCreatedMenuBar);this.m_contentPage=e.XObjectExt.release(this.m_contentPage);this.m_genesis=e.XObjectExt.release(this.m_genesis);e.DfApplicationProgram.prototype.releaseObject.call(this)};e.DfUiProgram.prototype.getComponentType=function(){return e.UiComponentTypeExt.UI_PROGRAM};e.DfUiProgram.prototype.doSetupProgramMetadata=function(t){e.DfApplicationProgram.prototype.doSetupProgramMetadata.call(this,t)};e.DfUiProgram.prototype.evalArguments=function(){e.DfApplicationProgram.prototype.evalArguments.call(this)};e.DfUiProgram.prototype.initializeProgram=function(){e.DfApplicationProgram.prototype.initializeProgram.call(this)};e.DfUiProgram.prototype.runProcess=function(){return true};e.DfUiProgram.prototype.canTerminate=function(){return true};e.DfUiProgram.prototype.renderUi=function(t){if(e.isNull(t)){throw e.XException.createRuntimeException("Missing genesis object, cannot render the UI. Please specify a genesis container object!")}if(e.isNull(this.m_genesis)){this.m_genesis=t}if(this.shouldWrapContentInPage()){this.m_contentPage=t.newControl(e.UiType.PAGE);this.m_contentPage.setTag(e.DfUiProgram.PRG_CONTENT_WRAPPER_NAME);this.m_contentPage.useMaxSpace();this.m_contentPage.setShowHeader(false);this.m_contentPage.setShowNavButton(false);this.m_contentPage.setContentOnlyBusy(true);this.m_contentPage.setEnableScrolling(false);if(this.isShowMenuBar()){this.m_autoCreatedMenuBar=t.newControl(e.UiType.OVERFLOW_TOOLBAR);this.m_autoCreatedMenuBar.setTag(e.DfUiProgram.PRG_MENU_BAR_NAME);this.m_autoCreatedMenuBar.setToolbarDesign(e.UiToolbarDesign.SOLID);this.m_autoCreatedMenuBar.setWidth(e.UiCssLength.create("100%"));if(e.XStringUtils.isNotNullAndNotEmpty(this.getMenuBarDisplayName())&&!this.isEmbedded()){this.addMenuBarButton(this.getMenuBarDisplayName(),null,e.DfUiProgram.DEFAULT_MENU_BAR_PROGRAM_NAME_BTN_TAG,function(e){var t=e.getControl();this.createProgramMenuBarEntry(t)}.bind(this))}this.m_contentPage.setSubHeader(this.m_autoCreatedMenuBar)}t.setRoot(this.m_contentPage);var n=e.UiGenesis.create(this.m_contentPage);this.proceedWithStartup(n)}else{this.proceedWithStartup(t)}};e.DfUiProgram.prototype.proceedWithStartup=function(t){this.m_genesis=t;var n=this.setupProgram();if(e.isNull(n)){this.buildUi(t)}else{n.then(function(e){this.buildUi(t);return e}.bind(this),null)}};e.DfUiProgram.prototype.getUiManager=function(){var t=this.getProcess().getUiManager();if(e.isNull(t)){t=this.getProcess().openSubSystem(e.SubSystemType.GUI)}if(e.isNull(t)&&e.notNull(this.m_genesis)){t=this.m_genesis.getUiManager()}return t};e.DfUiProgram.prototype.getGenesis=function(){return this.m_genesis};e.DfUiProgram.prototype.setTitle=function(t){var n=this.getProgramContainer();if(e.notNull(n)){n.setTitle(t)}};e.DfUiProgram.prototype.getTitle=function(){var t=this.getProgramContainer();if(e.notNull(t)){return t.getTitle()}return""};e.DfUiProgram.prototype.setBusy=function(e){if(this.getGenesis()!==null&&this.getGenesis().getRoot()!==null){this.getGenesis().getRoot().setBusy(e)}};e.DfUiProgram.prototype.isBusy=function(){var e=false;if(this.getGenesis()!==null&&this.getGenesis().getRoot()!==null){e=this.getGenesis().getRoot().isBusy()}return e};e.DfUiProgram.prototype.presentExitConfirmPopup=function(t,n){var i=e.UiConfirmPopup.create(this.getGenesis(),t,n);i.setConfirmButtonText("Exit");i.setConfirmButtonIcon("delete");i.setConfirmButtonType(e.UiButtonType.DESTRUCTIVE);i.setConfirmProcedure(function(){this.kill()}.bind(this));i.open()};e.DfUiProgram.prototype.getMenuBar=function(){if(e.notNull(this.m_autoCreatedMenuBar)){return this.m_autoCreatedMenuBar}return e.UiContextDummy.getSingleton().getContent()};e.DfUiProgram.prototype.addMenuBarButton=function(t,n,i,r){if(e.notNull(this.m_autoCreatedMenuBar)){var o=this.getMenuBar().addNewItemOfType(e.UiType.BUTTON);o.setButtonType(e.UiButtonType.TRANSPARENT);o.setTag(i);o.setText(t);o.setIcon(n);o.registerOnPress(e.UiLambdaPressListener.create(r));return o}return e.UiContextDummy.getSingleton().getContent()};e.DfUiProgram.prototype.showMenuBar=function(t){if(e.notNull(this.m_contentPage)){this.m_contentPage.setShowSubHeader(t)}};e.DfUiProgram.prototype.isStandalone=function(){return this.getResolvedProgramContainerType()===e.ProgramContainerType.STANDALONE};e.DfUiProgram.prototype.isEmbedded=function(){return this.getResolvedProgramContainerType()!==null&&this.getResolvedProgramContainerType().isEmbeddedContainer()};e.DfUiProgram.prototype.getLocalization=function(){return e.UiLocalizationCenter.getCenter()};e.DfUiProgram.prototype.getTheme=function(){return e.UiTheme.getCurrentTheme()};e.DfUiProgram.prototype.setNativeAnchorId=function(e){this.getSession().setNativeAnchorId(e)};e.DfUiProgram.prototype.setNativeAnchorObject=function(e){this.getSession().setNativeAnchorObject(e)};e.DfUiProgram.prototype.shouldWrapContentInPage=function(){return this.getUiManager().getPlatform().isTypeOf(e.XPlatform.IOS)===false&&(this.getResolvedProgramContainerType()===e.ProgramContainerType.WINDOW||this.getResolvedProgramContainerType()===e.ProgramContainerType.STANDALONE||this.getResolvedProgramContainerType()===e.ProgramContainerType.CONTENT)};e.DfUiProgram.prototype.createProgramMenuBarEntry=function(t){if(e.notNull(t)){var n=this.m_genesis.newControl(e.UiType.MENU);n.setTag(e.DfUiProgram.DEFAULT_MENU_BAR_PROGRAM_NAME_MENU_TAG);n.addAllItems(this.getProgramMenuItemsInternal());if(!this.isEmbedded()){n.addNewItem().setTag(e.DfUiProgram.DEFAULT_MENU_BAR_PROGRAM_NAME_MENU_EXIT_BTN_TAG).setText("Exit").setIcon("decline").setSectionStart(true).registerOnPress(e.UiLambdaPressListener.create(function(e){this.terminate()}.bind(this)))}n.openAt(t)}};e.DfUiProgram.prototype.getProgramMenuItemsInternal=function(){var t=null;var n=this.getProgramMenuItems(this.getGenesis());if(e.notNull(n)&&n.size()>0){t=e.XList.create();var i=n.getIterator();while(i.hasNext()){var r=i.next();t.add(r)}}return t};e.DfUiProgram.prototype.getDefaultContainerSize=function(){return null};e.DfUiProgram.prototype.getDefaultContainerPosition=function(){return null};e.DfUiProgram.prototype.isOpenContainerMaximized=function(){return false};e.DfUiProgram.prototype.isShowMenuBar=function(){return false};e.DfUiProgram.prototype.getMenuBarDisplayName=function(){if(this.getProcess()!==null){var t=this.getProcess().getProgramCfg();if(e.notNull(t)){var n=t.getProgramManifest().getDisplayName();if(e.XStringUtils.isNullOrEmpty(n)){n=t.getProgramManifest().getProgramName()}return n}}return"PrgMenu"};e.DfUiProgram.prototype.getContainerName=function(){return null};e.DfUiProgram.prototype.getContainerCssClass=function(){return null};e.DfUiProgram.prototype.getProgramMenuItems=function(e){return null};e.DfUiProgram.prototype.getDialogButtons=function(e){return null};e.DfUiProgram.prototype.getWindowMenuItems=function(e){return null};e.DfUiProgram.prototype.isResizeAllowed=function(){return false};e.QuasarComponentType=function(){};e.QuasarComponentType.prototype=new e.XComponentType;e.QuasarComponentType.prototype._ff_c="QuasarComponentType";e.QuasarComponentType.JSON_DATA_PROVIDER=null;e.QuasarComponentType.REST_DATA_PROVIDER=null;e.QuasarComponentType.staticSetupQuasarType=function(){e.QuasarComponentType.JSON_DATA_PROVIDER=e.QuasarComponentType.createQuasarType("JsonDataProvider",e.IoComponentType.DATA_PROVIDER);e.QuasarComponentType.REST_DATA_PROVIDER=e.QuasarComponentType.createQuasarType("RestDataProvider",e.IoComponentType.DATA_PROVIDER)};e.QuasarComponentType.createQuasarType=function(t,n){var i=new e.QuasarComponentType;if(e.isNull(n)){i.setupExt(t,e.XComponentType._ROOT)}else{i.setupExt(t,n)}return i};e.UiPrgContainerGenericWindow=function(){};e.UiPrgContainerGenericWindow.prototype=new e.UiPrgContainerFloating;e.UiPrgContainerGenericWindow.prototype._ff_c="UiPrgContainerGenericWindow";e.UiPrgContainerGenericWindow.GEN_WIN_PRG_CON_TASKBAR_BTN_CONTEXT_MENU_NAME="windowTaskBarBtnContextMenu";e.UiPrgContainerGenericWindow.GEN_WIN_PRG_CON_TASKBAR_BTN_CONTEXT_MENU_CLOSE_NAME="windowTaskBarCloseMenuItem";e.UiPrgContainerGenericWindow.GEN_WIN_PRG_CON_TASKBAR_BTN_CONTEXT_MENU_VISIBILLITY_NAME="windowTaskBarToggleVisibillityMenuItem";e.UiPrgContainerGenericWindow.GEN_WIN_PRG_CON_TASKBAR_BTN_CONTEXT_MENU_SPLIT_LEFT_NAME="windowTaskBarSplitLeftMenuItem";e.UiPrgContainerGenericWindow.GEN_WIN_PRG_CON_TASKBAR_BTN_CONTEXT_MENU_SPLIT_RIGHT_NAME="windowTaskBarSplitRightMenuItem";e.UiPrgContainerGenericWindow.prototype.m_taskBarButton=null;e.UiPrgContainerGenericWindow.prototype.m_containerWindow=null;e.UiPrgContainerGenericWindow.prototype.releaseObject=function(){e.UiPrgContainerFloating.prototype.releaseObject.call(this);this.m_taskBarButton=null;this.m_containerWindow=e.XObjectExt.release(this.m_containerWindow)};e.UiPrgContainerGenericWindow.prototype.setTitle=function(t){e.UiPrgContainerFloating.prototype.setTitle.call(this,t);if(this.getWindow()!==null){this.getWindow().setTitle(t)}if(this.getTaskBarButton()!==null){this.getTaskBarButton().setText(t)}};e.UiPrgContainerGenericWindow.prototype.openAndRun=function(t){e.UiPrgContainerFloating.prototype.openAndRun.call(this,t)};e.UiPrgContainerGenericWindow.prototype.isContainerOpen=function(){if(this.getWindow()!==null){return this.getWindow().isOpen()}return false};e.UiPrgContainerGenericWindow.prototype.isModalContainer=function(){return false};e.UiPrgContainerGenericWindow.prototype.getWindow=function(){return this.m_containerWindow};e.UiPrgContainerGenericWindow.prototype.setTaskBarButton=function(t){if(e.notNull(t)){this.m_taskBarButton=t;this.m_taskBarButton.registerOnPress(this);this.m_taskBarButton.registerOnContextMenu(this)}};e.UiPrgContainerGenericWindow.prototype.closeContainerControl=function(){if(this.getWindow()!==null&&this.isContainerOpen()){this.getWindow().close()}};e.UiPrgContainerGenericWindow.prototype.openContainerControl=function(){if(this.getWindow()!==null&&!this.isContainerOpen()){this.getWindow().open()}};e.UiPrgContainerGenericWindow.prototype.getTaskBarButton=function(){return this.m_taskBarButton};e.UiPrgContainerGenericWindow.prototype.setContainerWindow=function(e){this.m_containerWindow=e;if(this.getInitialContainerSize()!==null){this.m_containerWindow.setSize(this.getInitialContainerSize())}if(this.getInitialContainerPosition()!==null){this.m_containerWindow.setPosition(this.getInitialContainerPosition())}if(this.shouldContainerOpenMaximized()){this.m_containerWindow.maximize(false)}this.createWindowMenuIfAvailable()};e.UiPrgContainerGenericWindow.prototype.toggleContainerWindowVisibillityState=function(){if(this.getWindow().isHidden()){this.getWindow().show(true,this.getTaskBarButton())}else{this.getWindow().hide(true,this.getTaskBarButton())}};e.UiPrgContainerGenericWindow.prototype.toggleContainerWindowMaximizedState=function(){if(this.getWindow().isMaximized()){this.getWindow().restore(true)}else{this.getWindow().maximize(true)}};e.UiPrgContainerGenericWindow.prototype.handleTaskBarbuttonPress=function(e){if(this.getWindow().isHidden()){this.getWindow().show(e,this.getTaskBarButton())}else{this.getWindow().bringToFront()}};e.UiPrgContainerGenericWindow.prototype.handleSplitWindowLeft=function(){this.handleTaskBarbuttonPress(false);this.getWindow().setFrameCss("0px","0px","50%","100%")};e.UiPrgContainerGenericWindow.prototype.handleSplitWindowRight=function(){this.handleTaskBarbuttonPress(false);this.getWindow().setFrameCss("50%","0px","50%","100%")};e.UiPrgContainerGenericWindow.prototype.internalCleanup=function(){this.removeTaskBarButtonFromParent();e.UiPrgContainerFloating.prototype.internalCleanup.call(this)};e.UiPrgContainerGenericWindow.prototype.createTaskBarButtonMenu=function(t){var n=this.getGenesis().newControl(e.UiType.MENU);n.setName(e.UiPrgContainerGenericWindow.GEN_WIN_PRG_CON_TASKBAR_BTN_CONTEXT_MENU_NAME);var i=n.addNewItem();i.setName(e.UiPrgContainerGenericWindow.GEN_WIN_PRG_CON_TASKBAR_BTN_CONTEXT_MENU_CLOSE_NAME);i.setText("Close program");i.setIcon("decline");i.registerOnPress(this);i.setCustomObject(t);var r=n.addNewItem();r.setName(e.UiPrgContainerGenericWindow.GEN_WIN_PRG_CON_TASKBAR_BTN_CONTEXT_MENU_VISIBILLITY_NAME);r.setText(this.getWindow().isHidden()?"Show":"Hide");r.setIcon(this.getWindow().isHidden()?"header":"minimize");r.registerOnPress(this);r.setCustomObject(t);var o=n.addNewItem();o.setName(e.UiPrgContainerGenericWindow.GEN_WIN_PRG_CON_TASKBAR_BTN_CONTEXT_MENU_SPLIT_LEFT_NAME);o.setText("Split left");o.setIcon("slim-arrow-left");o.registerOnPress(this);o.setCustomObject(t);var a=n.addNewItem();a.setName(e.UiPrgContainerGenericWindow.GEN_WIN_PRG_CON_TASKBAR_BTN_CONTEXT_MENU_SPLIT_RIGHT_NAME);a.setText("Split right");a.setIcon("slim-arrow-right");a.registerOnPress(this);a.setCustomObject(t);return n};e.UiPrgContainerGenericWindow.prototype.removeTaskBarButtonFromParent=function(){var t=this.getTaskBarButton();if(e.notNull(t)){var n=t.getParent();if(e.notNull(n)&&n.getUiType()===e.UiType.TASK_BAR){n.removeItem(t)}}};e.UiPrgContainerGenericWindow.prototype.getWindowMenuItems=function(){if(this.getProgram().getResolvedProgramContainerType().isUiContainer()){var t=this.getUiProgram();var n=t.getWindowMenuItems(this.getGenesis());var i=e.XList.create();e.XCollectionUtils.forEach(n,function(t){if(t.getUiType()===e.UiType.MENU_ITEM){i.add(t)}}.bind(this));return i}return null};e.UiPrgContainerGenericWindow.prototype.createWindowMenuIfAvailable=function(){var t=this.getWindowMenuItems();if(e.notNull(t)&&t.size()>0){this.getWindow().registerOnMenuPress(e.UiLambdaMenuPressListener.create(function(t){var n=t.getParameters().getIntegerByKeyExt(e.UiControlEvent.PARAM_MENU_X,-1);var i=t.getParameters().getIntegerByKeyExt(e.UiControlEvent.PARAM_MENU_Y,-1);var r=this.getGenesis().newControl(e.UiType.MENU);r.addAllItems(this.getWindowMenuItems());r.openAtPosition(n,i)}.bind(this)))}};e.UiPrgContainerGenericWindow.prototype.onOpen=function(e){this.notifyContainerOpened()};e.UiPrgContainerGenericWindow.prototype.onClose=function(e){this.killProgram()};e.UiPrgContainerGenericWindow.prototype.onMoveEnd=function(e){};e.UiPrgContainerGenericWindow.prototype.onResize=function(e){};e.UiPrgContainerGenericWindow.prototype.onButtonPress=function(t){var n=t.getParameters().getStringByKeyExt(e.UiControlEvent.PARAM_PRESSED_BUTTON_TYPE,null);var i=e.UiPressedButtonType.lookup(n);if(e.notNull(i)&&i===e.UiPressedButtonType.HIDE){this.toggleContainerWindowVisibillityState()}if(e.notNull(i)&&i===e.UiPressedButtonType.MAXIMIZE){this.toggleContainerWindowMaximizedState()}if(e.notNull(i)&&i===e.UiPressedButtonType.CLOSE){this.terminateProgram()}};e.UiPrgContainerGenericWindow.prototype.onPress=function(t){var n=t.getControl();var i=n.getName();if(n.getUiType()===e.UiType.TASK_BAR_BUTTON){this.handleTaskBarbuttonPress(true)}else if(n.getUiType()===e.UiType.MENU_ITEM){switch(i){case e.UiPrgContainerGenericWindow.GEN_WIN_PRG_CON_TASKBAR_BTN_CONTEXT_MENU_CLOSE_NAME:this.terminateProgram();break;case e.UiPrgContainerGenericWindow.GEN_WIN_PRG_CON_TASKBAR_BTN_CONTEXT_MENU_VISIBILLITY_NAME:this.toggleContainerWindowVisibillityState();break;case e.UiPrgContainerGenericWindow.GEN_WIN_PRG_CON_TASKBAR_BTN_CONTEXT_MENU_SPLIT_LEFT_NAME:this.handleSplitWindowLeft();break;case e.UiPrgContainerGenericWindow.GEN_WIN_PRG_CON_TASKBAR_BTN_CONTEXT_MENU_SPLIT_RIGHT_NAME:this.handleSplitWindowRight();break;default:}}};e.UiPrgContainerGenericWindow.prototype.onContextMenu=function(t){var n=t.getControl();var i=t.getParameters().getIntegerByKeyExt(e.UiControlEvent.PARAM_CLICK_X,0);var r=t.getParameters().getIntegerByKeyExt(e.UiControlEvent.PARAM_CLICK_Y,0);var o=null;if(n.getUiType()===e.UiType.TASK_BAR_BUTTON){o=this.createTaskBarButtonMenu(n)}if(e.notNull(o)){o.openAtPosition(i,r)}};e.UiPrgContainerContent=function(){};e.UiPrgContainerContent.prototype=new e.UiPrgContainerEmbedded;e.UiPrgContainerContent.prototype._ff_c="UiPrgContainerContent";e.UiPrgContainerContent.createExt=function(t,n){var i=new e.UiPrgContainerContent;i.setupContainer(t,n);return i};e.UiPrgContainerContent.prototype.m_contentControl=null;e.UiPrgContainerContent.prototype.runFull=function(){try{var t=this.getProcess();var n=t.getProgramCfg();this.m_contentControl=n.getAnchorContentControl()}catch(e){this.m_contentControl=null}if(e.isNull(this.m_contentControl)||!this.m_contentControl.hasProperty(e.UiProperty.CONTENT)){throw e.XException.createRuntimeException("Missing content control! A content program container requires a content based control to be specified!")}else{this.openAndRun(this.getUiManager())}};e.UiPrgContainerContent.prototype.openAndRun=function(t){var n=this.getUiProgram();n.evalArguments();n.initializeProgram();var i=e.UiGenesis.create(this.m_contentControl);i.clearUi();this.setContainerNameAndCssClass(this.m_contentControl);n.renderUi(i);this.setContainerOpened()};e.UiPrgContainerContent.prototype.getContainerType=function(){return e.ProgramContainerType.CONTENT};e.UiPrgContainerDialog=function(){};e.UiPrgContainerDialog.prototype=new e.UiPrgContainerFloating;e.UiPrgContainerDialog.prototype._ff_c="UiPrgContainerDialog";e.UiPrgContainerDialog.DIALOG_PRG_CONTAINER_TAG="ffDialogPrgContainer";e.UiPrgContainerDialog.createExt=function(t,n){var i=new e.UiPrgContainerDialog;i.setupContainer(t,n);return i};e.UiPrgContainerDialog.prototype.m_containerDialog=null;e.UiPrgContainerDialog.prototype.setupUiContainer=function(t,n){e.UiPrgContainerFloating.prototype.setupContainer.call(this,t,n)};e.UiPrgContainerDialog.prototype.releaseObject=function(){e.UiPrgContainerFloating.prototype.releaseObject.call(this);this.m_containerDialog=e.XObjectExt.release(this.m_containerDialog)};e.UiPrgContainerDialog.prototype.setTitle=function(t){e.UiPrgContainerFloating.prototype.setTitle.call(this,t);if(this.getDialog()!==null){this.getDialog().setTitle(t)}};e.UiPrgContainerDialog.prototype.openAndRun=function(t){e.UiPrgContainerFloating.prototype.openAndRun.call(this,t);var n=this.getProgram();var i=t.newControl(e.UiType.DIALOG);i.setTag(e.UiPrgContainerDialog.DIALOG_PRG_CONTAINER_TAG);i.setTitle(this.getTitle());i.setHeight(e.UiCssLength.create("500px"));i.setWidth(e.UiCssLength.create("600px"));i.registerOnAfterOpen(e.UiLambdaAfterOpenListener.create(function(e){this.notifyContainerOpened()}.bind(this)));i.registerOnAfterClose(e.UiLambdaAfterCloseListener.create(function(e){this.killProgram()}.bind(this)));i.registerOnEscape(e.UiLambdaEscapeListener.create(function(e){this.terminateProgram()}.bind(this)));i.setCustomObject(this);this.setContainerDialog(i);n.evalArguments();n.initializeProgram();i.setResizable(this.canResize());i.open();var r=e.UiGenesis.create(i);n.renderUi(r)};e.UiPrgContainerDialog.prototype.isContainerOpen=function(){if(this.getDialog()!==null){return this.getDialog().isOpen()}return false};e.UiPrgContainerDialog.prototype.isModalContainer=function(){return true};e.UiPrgContainerDialog.prototype.getContainerType=function(){return e.ProgramContainerType.DIALOG};e.UiPrgContainerDialog.prototype.getDialog=function(){return this.m_containerDialog};e.UiPrgContainerDialog.prototype.shake=function(){if(this.getDialog()!==null){this.getDialog().shake()}};e.UiPrgContainerDialog.prototype.closeContainerControl=function(){if(this.getDialog()!==null&&this.isContainerOpen()){this.getDialog().close()}};e.UiPrgContainerDialog.prototype.openContainerControl=function(){if(this.getDialog()!==null&&!this.isContainerOpen()){this.getDialog().open()}};e.UiPrgContainerDialog.prototype.setContainerDialog=function(t){this.m_containerDialog=t;this.setContainerNameAndCssClass(t);if(this.getInitialContainerSize()!==null){this.m_containerDialog.setSize(this.getInitialContainerSize())}var n=this.getDialogButtons();if(e.notNull(n)&&n.size()>0){this.getDialog().addAllDialogButtons(n)}else{this.addAutoCreatedCloseButton()}};e.UiPrgContainerDialog.prototype.addAutoCreatedCloseButton=function(){var t=this.getDialog().addNewDialogButton();t.setText("Close");t.registerOnPress(e.UiLambdaPressListener.create(function(e){this.terminateProgram()}.bind(this)))};e.UiPrgContainerDialog.prototype.getDialogButtons=function(){if(this.getUiProgram()!==null&&this.getProgram().getResolvedProgramContainerType().isUiContainer()){return this.getUiProgram().getDialogButtons(this.getGenesis())}return null};e.UiPrgContainerDialog.prototype.canResize=function(){if(this.getUiProgram()!==null&&this.getProgram().getResolvedProgramContainerType().isUiContainer()){return this.getUiProgram().isResizeAllowed()}return false};e.UiPrgContainerStandalone=function(){};e.UiPrgContainerStandalone.prototype=new e.UiPrgContainerEmbedded;e.UiPrgContainerStandalone.prototype._ff_c="UiPrgContainerStandalone";e.UiPrgContainerStandalone.createExt=function(t,n){var i=new e.UiPrgContainerStandalone;i.setupContainer(t,n);return i};e.UiPrgContainerStandalone.prototype.m_rootGuid=null;e.UiPrgContainerStandalone.prototype.runFull=function(){var t=this.getProcess();var n=this.getUiManager();if(e.notNull(n)){this.m_rootGuid=e.XGuid.getGuid();var i=t.getProgramCfg();var r=i.getNativeAnchorId();var o=i.getNativeAnchorObject();n.setNativeAnchor(this.m_rootGuid,r,o);n.invokeOnEventingThread(this)}};e.UiPrgContainerStandalone.prototype.openAndRun=function(t){var n=this.getProgram();var i;if(e.notNull(this.m_rootGuid)){i=t.getAnchorByName(this.m_rootGuid)}else{i=t.getAnchor()}n.evalArguments();n.initializeProgram();var r=e.UiGenesis.create(i);n.renderUi(r);this.setContainerOpened()};e.UiPrgContainerStandalone.prototype.getContainerType=function(){return e.ProgramContainerType.STANDALONE};e.UiPrgContainerStandalone.prototype.initializeUi=function(e){this.openAndRun(e)};e.DfUiDialogProgram=function(){};e.DfUiDialogProgram.prototype=new e.DfUiProgram;e.DfUiDialogProgram.prototype._ff_c="DfUiDialogProgram";e.DfUiDialogProgram.prototype.getDefaultContainerType=function(){return e.ProgramContainerType.DIALOG};e.DfUiDialogProgram.prototype.releaseObject=function(){e.DfUiProgram.prototype.releaseObject.call(this)};e.DfUiDialogProgram.prototype.getComponentType=function(){return e.UiComponentTypeExt.UI_DIALOG_PROGRAM};e.DfUiDialogProgram.prototype.shake=function(){try{var t=this.getProgramContainer();if(e.notNull(t)&&t.getContainerType()===e.ProgramContainerType.DIALOG){t.shake()}}catch(e){this.log("Not a dialog container")}};e.DfUiDialogProgram.prototype.getDialogButtons=function(e){return null};e.DfUiDialogProgram.prototype.isShowMenuBar=function(){return false};e.UiComponentTypeExt=function(){};e.UiComponentTypeExt.prototype=new e.UiComponentType;e.UiComponentTypeExt.prototype._ff_c="UiComponentTypeExt";e.UiComponentTypeExt.UI_STUDIO=null;e.UiComponentTypeExt.UI_PROGRAM=null;e.UiComponentTypeExt.UI_STUDIO_PROGRAM=null;e.UiComponentTypeExt.UI_DIALOG_PROGRAM=null;e.UiComponentTypeExt.staticSetupUiExtComponentType=function(){e.UiComponentTypeExt.UI_STUDIO=e.UiComponentType.createUiComponentType("UiStudio",e.XComponentType._UI);e.UiComponentTypeExt.UI_PROGRAM=e.UiComponentType.createUiComponentType("UiProgram",e.RuntimeComponentType.APPLICATION_PROGRAM);e.UiComponentTypeExt.UI_STUDIO_PROGRAM=e.UiComponentType.createUiComponentType("UiStudioProgram",e.UiComponentTypeExt.UI_PROGRAM);e.UiComponentTypeExt.UI_DIALOG_PROGRAM=e.UiComponentType.createUiComponentType("UiDialogProgram",e.UiComponentTypeExt.UI_PROGRAM)};e.UiPrgContainerTerminal=function(){};e.UiPrgContainerTerminal.prototype=new e.UiPrgContainerGenericWindow;e.UiPrgContainerTerminal.prototype._ff_c="UiPrgContainerTerminal";e.UiPrgContainerTerminal.TERMINAL_PRG_CONTAINER_TAG="ffTerminalWindow";e.UiPrgContainerTerminal.COMMAND_SEPERATOR=",";e.UiPrgContainerTerminal.TERMINAL_COMMAND_HISTORY_KEY="terminal_commandHistory";e.UiPrgContainerTerminal.MAX_COMMAND_HISTORY_SIZE=40;e.UiPrgContainerTerminal.createExt=function(t,n){var i=new e.UiPrgContainerTerminal;i.setupContainer(t,n);return i};e.UiPrgContainerTerminal.prototype.m_singleLineListener=null;e.UiPrgContainerTerminal.prototype.m_commandList=null;e.UiPrgContainerTerminal.prototype.releaseObject=function(){this.m_commandList=e.XObjectExt.release(this.m_commandList);e.UiPrgContainerGenericWindow.prototype.releaseObject.call(this)};e.UiPrgContainerTerminal.prototype.openAndRun=function(t){e.UiPrgContainerGenericWindow.prototype.openAndRun.call(this,t);var n=t.newControl(e.UiType.TERMINAL);n.setTag(e.UiPrgContainerTerminal.TERMINAL_PRG_CONTAINER_TAG);n.setTitle(this.getTitle());n.registerOnExecute(this);n.registerOnOpen(this);n.registerOnClose(this);n.registerOnButtonPress(this);n.registerOnMoveEnd(this);n.registerOnResize(this);n.setCustomObject(this);this.setContainerNameAndCssClass(n);this.setContainerWindow(n);this.initCommandHistory();var i=this.getProgram();var r=i.getSession();r.setStdin(this);r.setStdout(this);r.setStdlog(this);i.evalArguments();i.initializeProgram();n.open();i.runProgram()};e.UiPrgContainerTerminal.prototype.getContainerType=function(){return e.ProgramContainerType.CONSOLE};e.UiPrgContainerTerminal.prototype.onExecute=function(t){if(e.notNull(this.m_singleLineListener)){var n=this.m_singleLineListener;this.m_singleLineListener=null;var i=t.getParameters().getStringByKeyExt(e.UiControlEvent.PARAM_COMMAND,null);try{n.onLineRead(i);this.addCommandToHistory(i);i="";this.m_singleLineListener=n}catch(e){this.m_singleLineListener=n}}else{this.getTerminalContainer().println("404 Command not found. It got lost in the void...")}};e.UiPrgContainerTerminal.prototype.logExt=function(t,n,i,r){var o=e.DfLogWriter.createLogString(t,n,i,r);this.getTerminalContainer().println(o)};e.UiPrgContainerTerminal.prototype.isLogWritten=function(e,t){return true};e.UiPrgContainerTerminal.prototype.println=function(e){this.getTerminalContainer().println(e)};e.UiPrgContainerTerminal.prototype.print=function(e){this.getTerminalContainer().print(e)};e.UiPrgContainerTerminal.prototype.readLine=function(e){this.m_singleLineListener=e;return null};e.UiPrgContainerTerminal.prototype.supportsSyncType=function(t){if(t===e.SyncType.NON_BLOCKING){return true}else{return false}};e.UiPrgContainerTerminal.prototype.getTerminalContainer=function(){return this.getWindow()};e.UiPrgContainerTerminal.prototype.initCommandHistory=function(){if(this.getTerminalContainer()!==null){var t=e.XLocalStorage.getInstance().getStringByKeyExt(e.UiPrgContainerTerminal.TERMINAL_COMMAND_HISTORY_KEY,"");this.m_commandList=e.XStringTokenizer.splitString(t,e.UiPrgContainerTerminal.COMMAND_SEPERATOR);this.getTerminalContainer().setCommandHistory(this.m_commandList)}if(e.isNull(this.m_commandList)){this.m_commandList=e.XListOfString.create()}};e.UiPrgContainerTerminal.prototype.addCommandToHistory=function(t){if(e.XStringUtils.isNotNullAndNotEmpty(t)){if(e.notNull(this.m_commandList)){if(this.m_commandList.size()>0){var n=e.XCollectionUtils.lastString(this.m_commandList);if(e.XString.isEqual(t,n)){return}}this.m_commandList.add(t);if(this.m_commandList.size()>e.UiPrgContainerTerminal.MAX_COMMAND_HISTORY_SIZE){this.m_commandList.removeAt(0)}var i=e.XCollectionUtils.join(this.m_commandList,e.UiPrgContainerTerminal.COMMAND_SEPERATOR);e.XLocalStorage.getInstance().putString(e.UiPrgContainerTerminal.TERMINAL_COMMAND_HISTORY_KEY,i)}}};e.UiPrgContainerTerminal.prototype.setPath=function(e){this.getTerminalContainer().setPath(e)};e.UiPrgContainerTerminal.prototype.setPrompt=function(e){this.getTerminalContainer().setPrompt(e)};e.UiPrgContainerTerminal.prototype.startReadLine=function(e,t){this.getTerminalContainer().startReadLine(e,t)};e.UiPrgContainerTerminal.prototype.setBlocked=function(e){this.getTerminalContainer().setBusy(e)};e.UiPrgContainerTerminal.prototype.isBlocked=function(){return this.getTerminalContainer().isBusy()};e.UiPrgContainerTerminal.prototype.setReadLineFinishedConsumer=function(e){};e.UiPrgContainerWindow=function(){};e.UiPrgContainerWindow.prototype=new e.UiPrgContainerGenericWindow;e.UiPrgContainerWindow.prototype._ff_c="UiPrgContainerWindow";e.UiPrgContainerWindow.WINDOW_PRG_CONTAINER_TAG="ffProgramWindow";e.UiPrgContainerWindow.createExt=function(t,n){var i=new e.UiPrgContainerWindow;i.setupContainer(t,n);return i};e.UiPrgContainerWindow.prototype.openAndRun=function(t){e.UiPrgContainerGenericWindow.prototype.openAndRun.call(this,t);var n=this.getProgram();var i=t.newBasicControl(e.UiType.WINDOW,null,null,null);i.setTag(e.UiPrgContainerWindow.WINDOW_PRG_CONTAINER_TAG);i.setTitle(this.getTitle());i.registerOnOpen(this);i.registerOnClose(this);i.registerOnButtonPress(this);i.registerOnMoveEnd(this);i.registerOnResize(this);i.setCustomObject(this);this.setContainerNameAndCssClass(i);this.setContainerWindow(i);n.evalArguments();n.initializeProgram();i.open();var r=e.UiGenesis.create(i);n.renderUi(r)};e.UiPrgContainerWindow.prototype.getContainerType=function(){return e.ProgramContainerType.WINDOW};e.UiProgramModule=function(){};e.UiProgramModule.prototype=new e.DfModule;e.UiProgramModule.prototype._ff_c="UiProgramModule";e.UiProgramModule.s_module=null;e.UiProgramModule.getInstance=function(){if(e.isNull(e.UiProgramModule.s_module)){e.DfModule.checkInitialized(e.UiToolsModule.getInstance());e.UiProgramModule.s_module=e.DfModule.startExt(new e.UiProgramModule);e.UiBindingFactory.staticSetupUiBindingFactory();e.SiTokenType.staticSetup();e.QuasarComponentType.staticSetupQuasarType();e.SxJsonDpBindingFactory.staticSetupJsonBindingFactory();e.SxRestDpBindingFactory.staticSetupJsonBindingFactory();e.UiComponentTypeExt.staticSetupUiExtComponentType();e.UiPrgContainerFactory.staticSetupUiContainerFactory();e.CustomControlRegistration.staticSetup();e.DfModule.stopExt(e.UiProgramModule.s_module)}return e.UiProgramModule.s_module};e.UiProgramModule.prototype.getName=function(){return"ff2240.ui.program"};e.UiProgramModule.getInstance();return sap.firefly});
//# sourceMappingURL=ff2240.ui.program.js.map