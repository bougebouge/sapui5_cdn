sap.ui.define([],function(){"use strict";function t(t,e,a,n){var r,o,i;var c=new Promise(function(t){o=t});if(typeof t!=="string"){f(t)}n.managedControlWrappers=n.managedControlWrappers.map(a.getSuppressChangeEventWhenApplyingWrapper);n.managedControlWrappers.forEach(function(t){if(!t.bVMConnection){t.attachStateChanged(function(){r.currentVariantSetModified(true)})}});function f(t){r=t;o(r)}var d=n.managedControlWrappers.find(function(t){return t.setSVMWrapperCallbacks});if(d){d.setSVMWrapperCallbacks({getManagedControlStates:function(){var t=Object.create(null);n.managedControlWrappers.forEach(function(e){if(!e.bVMConnection){t[e.getLocalId()]=e.getState()}});return t},setManagedControlStates:function(t){n.managedControlWrappers.forEach(function(e){if(!e.bVMConnection){e.setState(t[e.getLocalId()])}})},setHeaderState:function(t){n.dynamicPageWrapper.setHeaderState(e,t)}})}function u(t){if(d){d.suppressSelection(true)}var a=n.managedControlWrappers[0].getLocalId();var o=e.getView().byId(a);if(o&&o.isA("sap.ui.comp.smarttable.SmartTable")){o.attachAfterVariantInitialise(function(){o.setCurrentVariantId(t);r.setModified(false)})}r.setCurrentVariantId(t);if(d){d.suppressSelection(false)}}function s(t){n.managedControlWrappers.forEach(function(e){e.setState(t.managedControlStates[e.getLocalId()])})}function p(){if(!r){return i}var t=Object.create(null);n.managedControlWrappers.forEach(function(e){t[e.getLocalId()]=e.getState()});return{variantId:r.getCurrentVariantId(),modified:r.currentVariantGetModified(),managedControlStates:t}}function l(t){i=t;c.then(function(){if(!i){u(r.getDefaultVariantId());return}if(i.modified){u("");r.currentVariantSetModified(true);s(i)}else{u(i.variantId);if(i.managedControlStates){if(i.variantId!==r.getCurrentVariantId()){r.currentVariantSetModified(true)}}}})}function g(t){c.then(function(){r.attachSelect(t);r.attachAfterSave(t);n.managedControlWrappers.forEach(function(e){e.attachStateChanged(t)})})}return{getState:p,setState:l,setControl:f,attachStateChanged:g}}return t});
//# sourceMappingURL=SmartVariantManagementWrapper.js.map