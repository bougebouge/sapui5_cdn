sap.ui.define(["sap/ui/dom/getFirstEditableInput","sap/suite/ui/generic/template/genericUtilities/FeLogger"],function(e,t){"use strict";var n=new t("genericUtilities.controlHelper");var i=n.getLogger();var r=sap.ui.getCore().byId;function a(e,t){var n=sap.ui.require(e);return typeof n==="function"&&t instanceof n}function l(e){for(;e;e=e.parentNode){if(e.hasAttribute&&e.hasAttribute("data-sap-ui")){return sap.ui.getCore().byId(e.id)}}}function o(e,t){if(e){i.debug("Set focus on control with id "+e.getId());if(!e.getVisible()){i.warning("Control is currently invisible")}if(e.getEnabled&&!e.getEnabled()){i.warning("Control is currently not enabled")}e.focus(t);var n=b();if(n!==e){i.warning(n?"Focus is now on control with id "+n.getId():"There is no focus now")}}}function u(e,t){var n=l(e);o(n,t)}function s(e,t){var n=e&&r(e);o(n,t)}function c(t){var n=t._getComputedMetadata();return n.then(function(){return t.getMode()==="edit"&&(t._getICRenderedPromise()||Promise.resolve()).then(function(){var n=e(t.getDomRef());return!(!n||n.type==="checkbox")})})}function b(){return l(document.activeElement)}function f(e){if(e.getVisible&&!e.getVisible()){return null}return e.getParent()||e.oContainer}function m(e,t,n){n=n||Function.prototype;var i=false;for(var a=(!t||t.getVisible())&&r(e);a&&!i;a=f(a)){var l=n(a);i=t?a===t:l}return i}function d(e,t){if(e.getSections){return e.getSections()}if(v.isObjectPageSection(e)){return e.getSubSections()}if(v.isObjectPageSubSection(e)){return e.getBlocks().concat(e.getMoreBlocks())}if(a("sap/ui/comp/smartform/Group",e)){return e.getFormElements()}if(a("sap/ui/table/Column",e)){var n=e.getMultiLabels();var i=e.getLabel();if(i){n.push(i)}return n}return t?[]:null}function p(e,t,n){if(t===n){return 0}var i=d(e,true);var r=i.indexOf(t);var a=i.indexOf(n);if(r<0&&a<0){var l=typeof t.getDomRef==="function"&&t.getDomRef();var o=typeof n.getDomRef==="function"&&n.getDomRef();if(l&&o){var u=l.compareDocumentPosition(o);if(u&Node.DOCUMENT_POSITION_PRECEDING){return 1}if(u&Node.DOCUMENT_POSITION_FOLLOWING){return-1}}return 1-2*(!l===!o?t.getId()<n.getId():!o)}return r>=0&&a>=0?r-a:a-r}function g(e){return a("sap/ui/table/Row",e)?e.getCells().some(function(e){return g(e)}):typeof e.getVisible==="function"&&e.getVisible()&&(typeof e.getEnabled!=="function"||e.getEnabled())}function S(e,t,n){e=e||Object.create(null);var i=t.getId();var r=e[i];if(r===2||!g(t)){return null}var a;if(r!==1){a=n(t);e[i]=1+(a===false)}if(!a&&a!==false){var l=d(t);if(!l){l=t.findElements(false);l.sort(p.bind(null,t))}l.some(function(t){a=S(e,t,n);return a})}if(a instanceof Promise){return a.then(function(r){if(r===false){e[i]=2;return null}return r||S(e,t,n)})}e[i]=2;return a||null}var v={byId:r,isView:a.bind(null,"sap/ui/core/mvc/View"),isSmartFilterBar:a.bind(null,"sap/ui/comp/smartfilterbar/SmartFilterBar"),isSmartForm:a.bind(null,"sap/ui/comp/smartform/SmartForm"),isSmartTable:a.bind(null,"sap/ui/comp/smarttable/SmartTable"),isSmartList:a.bind(null,"sap/ui/comp/smartlist/SmartList"),isSmartField:a.bind(null,"sap/ui/comp/smartfield/SmartField"),isSmartChart:a.bind(null,"sap/ui/comp/smartchart/SmartChart"),isSemanticObjectController:a.bind(null,"sap/ui/comp/navpopover/SemanticObjectController"),isSmartVariantManagement:a.bind(null,"sap/ui/comp/smartvariants/SmartVariantManagement"),isGrid:a.bind(null,"sap/ui/layout/Grid"),isUiTable:a.bind(null,"sap/ui/table/Table"),isAnalyticalTable:a.bind(null,"sap/ui/table/AnalyticalTable"),isTreeTable:a.bind(null,"sap/ui/table/TreeTable"),isMTable:a.bind(null,"sap/m/Table"),isSearchField:a.bind(null,"sap/m/SearchField"),isButton:a.bind(null,"sap/m/Button"),isOverflowToolbar:a.bind(null,"sap/m/OverflowToolbar"),isMultiInputField:a.bind(null,"sap/m/MultiInput"),isLink:a.bind(null,"sap/m/Link"),isColumnListItem:a.bind(null,"sap/m/ColumnListItem"),isDynamicPage:a.bind(null,"sap/f/DynamicPage"),isObjectPageSection:a.bind(null,"sap/uxap/ObjectPageSection"),isObjectPageSubSection:a.bind(null,"sap/uxap/ObjectPageSubSection"),isObjectObjectPageLayout:a.bind(null,"sap/uxap/ObjectPageLayout"),getUI5ControlForDomElement:l,focusControl:s,focusUI5Control:o,focusDom:u,getControlWithFocus:b,getSmartFieldIsFocussableForInputPromise:c,isElementVisibleOnView:m,sortChildControls:p,searchInTree:S.bind(null,null)};v.isTable=function(e){return v.isSmartTable(e)||v.isUiTable(e)||v.isMTable(e)};return v});
//# sourceMappingURL=controlHelper.js.map