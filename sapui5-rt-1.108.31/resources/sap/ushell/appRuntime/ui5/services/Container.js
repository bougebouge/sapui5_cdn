// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/Container","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer","sap/ushell/appRuntime/ui5/ui/UIProxy","sap/ushell/appRuntime/ui5/SessionHandlerAgent","sap/base/assert"],function(n,e,t,r,s,a){"use strict";function i(){var n,r=false,i=[],u=[],o=[],l=false;this.bootstrap=function(c,f){return sap.ushell.bootstrap(c,f).then(function(c){n=sap.ushell.Container._getAdapter();sap.ushell.Container.inAppRuntime=function(){return true};sap.ushell.Container.runningInIframe=sap.ushell.Container.inAppRuntime;sap.ushell.Container.getFLPUrl=function(n){return e.sendMessageToOuterShell("sap.ushell.services.Container.getFLPUrl",{bIncludeHash:n})};sap.ushell.Container.getFLPUrlAsync=function(n){return sap.ushell.Container.getFLPUrl(n)};sap.ushell.Container.getRenderer=function(){return t};sap.ushell.Container.logout=function(){return n.logout()};sap.ushell.Container.getFLPPlatform=function(){return e.sendMessageToOuterShell("sap.ushell.services.Container.getFLPPlatform")};sap.ushell.Container.extendSession=function(){s.userActivityHandler()};sap.ushell.Container.setDirtyFlag=function(n){r=n};sap.ushell.Container.getDirtyFlag=function(n){return r||sap.ushell.Container.handleDirtyStateProvider(n)};sap.ushell.Container.registerDirtyStateProvider=function(n){if(typeof n!=="function"){throw new Error("fnDirty must be a function")}i.push(n)};sap.ushell.Container.handleDirtyStateProvider=function(n){var e=false;if(i.length>0){for(var t=0;t<i.length&&e===false;t++){e=e||(i[t](n)||false)}}return e};sap.ushell.Container.deregisterDirtyStateProvider=function(n){if(typeof n!=="function"){throw new Error("fnDirty must be a function")}var e=-1;for(var t=i.length-1;t>=0;t--){if(i[t]===n){e=t;break}}if(e>=0){i.splice(e,1)}};sap.ushell.Container.cleanDirtyStateProviderArray=function(){i=[];r=false};sap.ushell.Container.setAsyncDirtyStateProvider=function(){};sap.ushell.Container.getAsyncDirtyStateProviders=function(){return i};sap.ushell.Container.setAsyncDirtyStateProviders=function(n){i=n};function f(n,e){var t=false;for(var r=0;r<n.length;r++){if(n[r]===e){t=true;break}}if(!t){n.push(e)}}sap.ushell.Container.attachLogoutEvent=function(n,t){a(typeof n==="function","Container.attachLogoutEvent: fnFunction must be a function");if(t===true){f(u,n)}else{f(o,n)}if(!l){l=true;return e.sendMessageToOuterShell("sap.ushell.services.Container.attachLogoutEvent",{})}};sap.ushell.Container._getAsyncFunctionsArray=function(){return u};sap.ushell.Container._getSyncFunctionsArray=function(){return u};sap.ushell.Container.executeAsyncAndSyncLogoutFunctions=function(){return new Promise(function(n,e){var t=[];if(o.length>0){for(var r=0;r<o.length;r++){o[r]()}}if(u.length>0){for(var s=0;s<u.length;s++){t.push(u[s]())}}Promise.all(t).then(n)})};function h(n,e){for(var t=0;t<n.length;t++){if(n[t]===e){n.splice(t,1);break}}}sap.ushell.Container.detachLogoutEvent=function(n){h(o,n);h(u,n)};sap.ushell.Container._getAsyncFunctionsArray=function(){return u};sap.ushell.Container._getSyncFunctionsArray=function(){return o};sap.ushell.Container._clearAsyncFunctionsArray=function(){u=[]};sap.ushell.Container._clearSyncFunctionsArray=function(){o=[]}})}}return new i},true);
//# sourceMappingURL=Container.js.map