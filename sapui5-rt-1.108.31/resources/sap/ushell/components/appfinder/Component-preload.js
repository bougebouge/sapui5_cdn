//@ui5-bundle sap/ushell/components/appfinder/Component-preload.js
sap.ui.require.preload({
	"sap/ushell/components/appfinder/AppFinder.controller.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/View","sap/ui/core/mvc/Controller","sap/ui/core/Component","sap/ushell/ui5service/ShellUIService","sap/ushell/EventHub","sap/ushell/components/CatalogsManager","sap/ushell/components/appfinder/VisualizationOrganizerHelper","sap/ui/core/routing/HashChanger","sap/ui/thirdparty/jquery","sap/ui/model/json/JSONModel","sap/ui/Device","sap/ui/thirdparty/hasher"],function(e,t,s,n,i,o,r,a,jQuery,l,u,h){"use strict";return t.extend("sap.ushell.components.appfinder.AppFinder",{onInit:function(){var t=s.getOwnerComponentFor(this.getView());this.oRouter=t.getRouter();var n=this.getView();var i=t.getModel();n.setModel(i);this.bEnableEasyAccessSAPMenu=i.getProperty("/enableEasyAccessSAPMenu");this.bEnableEasyAccessUserMenu=i.getProperty("/enableEasyAccessUserMenu");this.bEnableEasyAccesOnTablet=i.getProperty("/enableEasyAccessOnTablet");var l=this.bEnableEasyAccessSAPMenu||this.bEnableEasyAccessUserMenu;var h=!u.system.phone&&!u.system.tablet||u.system.tablet&&this.bEnableEasyAccesOnTablet||u.system.combi;this.bShowEasyAccessMenu=l&&h;sap.ushell.Container.getRenderer("fiori2").createExtendedShellState("appFinderExtendedShellState",function(){sap.ushell.Container.getRenderer("fiori2").showHeaderItem("backBtn",true)});this.oCatalogsManager=new o("catalogsMgr",{model:i});this.oVisualizationOrganizerHelper=r.getInstance();this.getView().setModel(this._getSubHeaderModel(),"subHeaderModel");this.oConfig=t.getComponentData().config;this.pCatalogView=e.create({id:"catalogView",viewName:"module:sap/ushell/components/appfinder/CatalogView",height:"100%",viewData:{parentComponent:t,subHeaderModel:this._getSubHeaderModel()}});this.oInitPromise=this.pCatalogView.then(function(e){e.addStyleClass("sapUiGlobalBackgroundColor sapUiGlobalBackgroundColorForce");return this.oVisualizationOrganizerHelper.loadAndUpdate()}.bind(this));this.oRouter.attachRouteMatched(this._handleAppFinderNavigation.bind(this));n.createSubHeader();u.resize.attachHandler(this._resizeHandler.bind(this));this.oRouter.oHashChanger=a.getInstance()},onExit:function(){this.pCatalogView.then(function(e){e.destroy()})},_resizeHandler:function(){var e=this._showOpenCloseSplitAppButton();var t=this.oSubHeaderModel.getProperty("/openCloseSplitAppButtonVisible");if(e!==t){this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonVisible",e);if(e){this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled",false)}}this._toggleViewWithToggleButtonClass(e)},_handleAppFinderNavigation:function(e){var t=jQuery.extend({},e);if(this.firstView!==false){if(!this.bShowEasyAccessMenu){this.pCatalogView.then(function(e){this.getView().oPage.addContent(e);setTimeout(function(){jQuery("#catalogSelect").focus()},0)}.bind(this))}this.firstView=false}this.pCatalogView.then(function(e){e.getController().customRouteMatched(t)});var s=this.getView();this._preloadAppHandler();this._getPathAndHandleGroupContext(e);this._toggleViewWithToggleButtonClass(this._showOpenCloseSplitAppButton());if(this.bShowEasyAccessMenu){this.onShow(e)}else if(s._showSearch("catalog")){s.updateSubHeader("catalog",false);this._toggleViewWithSearchAndTagsClasses("catalog")}sap.ui.getCore().getEventBus().publish("showCatalog");i.emit("CenterViewPointContentRendered","appFinder");i.emit("showCatalog",{sId:"showCatalog",oData:Date.now()});sap.ui.getCore().getEventBus().publish("launchpad","contentRendered")},_showOpenCloseSplitAppButton:function(){return!u.orientation.landscape||u.system.phone||this.oView.getModel().getProperty("/isPhoneWidth")},_resetSubHeaderModel:function(){this.oSubHeaderModel.setProperty("/activeMenu",null);this.oSubHeaderModel.setProperty("/search",{searchMode:false,searchTerm:null});this.oSubHeaderModel.setProperty("/tag",{tagMode:false,selectedTags:[]});this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonVisible",this._showOpenCloseSplitAppButton());this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled",false)},_getSubHeaderModel:function(){if(this.oSubHeaderModel){return this.oSubHeaderModel}this.oSubHeaderModel=new l;this._resetSubHeaderModel();return this.oSubHeaderModel},onTagsFilter:function(e){var t=e.getSource(),s=t.getModel("subHeaderModel"),n=e.getSource().getSelectedItems(),i=n.length>0,o={tagMode:i,selectedTags:[]};n.forEach(function(e){o.selectedTags.push(e.getText())});s.setProperty("/activeMenu",this.getCurrentMenuName());s.setProperty("/tag",o);this.pCatalogView.then(function(e){e.getController().onTag(o)})},searchHandler:function(e){var t=o.prototype.getInstance();t.loadCustomTilesKeyWords();var s=e.getSource().getValue(),n=false;if(s===null){return}var i=this.oSubHeaderModel.getProperty("/search");var r=this.oSubHeaderModel.getProperty("/activeMenu");if(this.getCurrentMenuName()!==r){r=this.getCurrentMenuName()}if(!i.searchMode&&!e.getParameter("clearButtonPressed")){i.searchMode=true}if(i.searchMode&&u.system.phone){this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled",false)}if(s!==i.searchTerm){if(this.containsOnlyWhitepaces(s)){s="*"}i.searchTerm=s;n=true}this.oSubHeaderModel.setProperty("/search",i);this.oSubHeaderModel.setProperty("/activeMenu",r);this.oSubHeaderModel.refresh(true);if(n){this.pCatalogView.then(function(e){e.getController().onSearch(i)})}},_preloadAppHandler:function(){setTimeout(function(){var e=h.getHash()||"";if(!e.startsWith("Shell-appfinder")){return}if(sap.ushell.Container){sap.ushell.Container.getRenderer("fiori2").applyExtendedShellState("appFinderExtendedShellState")}this._updateShellHeader(this.oView.oPage.getTitle())}.bind(this),0)},getCurrentMenuName:function(){return this.currentMenu},_navigateTo:function(e){var t=this.oVisualizationOrganizerHelper.getNavigationContextAsText.apply(this);if(t){this.oRouter.navTo(e,{filters:t},true)}else{this.oRouter.navTo(e,{},true)}},_filterSystemModelsOnTablet:function(e){var t=new jQuery.Deferred;if(this.bEnableEasyAccesOnTablet){sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(s){var n=e.reduce(function(e,t){var n;n=s.isNavigationSupported([{target:{semanticObject:"Shell",action:"startWDA"},params:{"sap-system":t.systemId,"sap-ui2-wd-app-id":"."}},{target:{semanticObject:"Shell",action:"startGUI"},params:{"sap-system":t.systemId,"sap-ui2-tcode":"."}}]);e.push(new Promise(function(e,s){n.then(function(s){var n={system:t,isSupported:false};if(s[0].supported||s[1].supported){n.isSupported=true}e(n)}).fail(function(){e({system:t,isSupported:false})})}));return e},[]);Promise.all(n).then(function(e){var s;s=e.reduce(function(e,t){if(t.isSupported){e.push(t.system)}return e},[]);t.resolve(s)})})}else{t.resolve(e)}return t.promise()},getGroupNavigationContext:function(){var e=this.oView.getModel().getProperty("/groupContext");var t=e?e.path:null;if(t){return JSON.stringify({targetGroup:encodeURIComponent(t)})}return null},getSystemsModels:function(){var e=this;if(this.getSystemsPromise){return this.getSystemsPromise}var t=new jQuery.Deferred;this.getSystemsPromise=t.promise();var s=["userMenu","sapMenu"].map(function(t){var s=new l;s.setProperty("/systemSelected",null);s.setProperty("/systemsList",[]);return e.getSystems(t).then(e._filterSystemModelsOnTablet.bind(e)).then(function(e){s.setProperty("/systemsList",e);return s})});jQuery.when.apply(jQuery,s).then(function(e,s){t.resolve(e,s)});return this.getSystemsPromise},onSegmentButtonClick:function(e){this.oSubHeaderModel.setProperty("/search/searchMode",false);this.oSubHeaderModel.setProperty("/search/searchTerm","");var t=e.getParameter("id");this._navigateTo(t)},onShow:function(t){var n=t.getParameter("name");if(n===this.getCurrentMenuName()){return}var i=this.getView();i._updateSearchWithPlaceHolder(n);this._updateCurrentMenuName(n);this.getSystemsModels().then(function(t,n){var o=n.getProperty("/systemsList");var r=t.getProperty("/systemsList");i.oPage.removeAllContent();var a=this.currentMenu==="sapMenu"?o:r;if(a&&a.length){i.updateSubHeader(this.currentMenu,true)}else if(i._showSearch(this.currentMenu)){i.updateSubHeader(this.currentMenu,false)}if(this.currentMenu==="catalog"){this.pCatalogView.then(function(e){i.oPage.addContent(e)})}else if(this.currentMenu==="userMenu"){if(!this.pUserMenuView){this.pUserMenuView=e.create({id:"userMenuView",viewName:"module:sap/ushell/components/appfinder/EasyAccessView",height:"100%",viewData:{menuName:"USER_MENU",easyAccessSystemsModel:t,parentComponent:s.getOwnerComponentFor(this.getView()),subHeaderModel:this._getSubHeaderModel(),enableSearch:this.getView()._showSearch("userMenu")}})}this.pUserMenuView.then(function(e){i.oPage.addContent(e)})}else if(this.currentMenu==="sapMenu"){if(!this.pSapMenuView){this.pSapMenuView=e.create({id:"sapMenuView",viewName:"module:sap/ushell/components/appfinder/EasyAccessView",height:"100%",viewData:{menuName:"SAP_MENU",easyAccessSystemsModel:n,parentComponent:s.getOwnerComponentFor(this.getView()),subHeaderModel:this._getSubHeaderModel(),enableSearch:this.getView()._showSearch("sapMenu")}})}this.pSapMenuView.then(function(e){i.oPage.addContent(e)})}this._setFocusToSegmentedButton(a);this.oSubHeaderModel.setProperty("/activeMenu",this.currentMenu);if(this.oSubHeaderModel.getProperty("/openCloseSplitAppButtonVisible")){this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled",false)}this.oSubHeaderModel.refresh(true)}.bind(this))},_updateCurrentMenuName:function(e){if(!this.bShowEasyAccessMenu||e==="sapMenu"&&!this.bEnableEasyAccessSAPMenu||e==="userMenu"&&!this.bEnableEasyAccessUserMenu){this.currentMenu="catalog"}else{this.currentMenu=e}this._toggleViewWithSearchAndTagsClasses(e)},_toggleViewWithSearchAndTagsClasses:function(e){var t=this.getView();if(t._showSearch(e)){t.oPage.addStyleClass("sapUshellAppFinderSearch")}else{t.oPage.removeStyleClass("sapUshellAppFinderSearch")}if(t._showSearchTag(e)){t.oPage.addStyleClass("sapUshellAppFinderTags")}else{t.oPage.removeStyleClass("sapUshellAppFinderTags")}},_toggleViewWithToggleButtonClass:function(e){var t=this.getView();if(e){t.oPage.addStyleClass("sapUshellAppFinderToggleButton")}else{t.oPage.removeStyleClass("sapUshellAppFinderToggleButton")}},_setFocusToSegmentedButton:function(e){var t=this.getView();if(e&&e.length){var s=t.segmentedButton.getSelectedButton();setTimeout(function(){jQuery("#"+s).focus()},0)}else{setTimeout(function(){jQuery("#catalogSelect").focus()},0)}},_getPathAndHandleGroupContext:function(e){var t=e.getParameter("arguments");var s=t.filters;var n;try{n=JSON.parse(s)}catch(e){n=s}this.oVisualizationOrganizerHelper.updateModelWithContext.apply(this,[n])},_updateModelWithGroupContext:function(e){var t=this.oView.getModel(),s=e&&decodeURIComponent(e.targetGroup)||"";var n=t.getProperty(s),i;s=s==="undefined"?undefined:s;i={path:s,id:"",title:n&&n.title};if(s&&s!==""){sap.ushell.Container.getServiceAsync("LaunchPage").then(function(e){var o=function(){var r=t.getProperty("/groups");if(r.length){n=t.getProperty(s);i.id=e.getGroupId(n.object);i.title=n.title||e.getGroupTitle(n.object);return}setTimeout(o,100)};o()})}t.setProperty("/groupContext",i)},getSystems:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(s){s.getEasyAccessSystems(e).done(function(e){var s=[];var n=Object.keys(e);for(var i=0;i<n.length;i++){var o=n[i];s[i]={systemName:e[o].text,systemId:o}}t.resolve(s)}).fail(function(e){t.reject("An error occurred while retrieving the systems: "+e)})}).catch(function(){t.reject("cannot get ClientSideTargetResolution service")});return t.promise()},_initializeShellUIService:function(){this.oShellUIService=new n({scopeObject:this.getOwnerComponent(),scopeType:"component"})},_updateShellHeader:function(e){if(!this.oShellUIService){this._initializeShellUIService()}this.oShellUIService.setTitle(e);this.oShellUIService.setHierarchy()},containsOnlyWhitepaces:function(e){if(!e||e===""){return false}return!e.replace(/\s/g,"").length}})});
},
	"sap/ushell/components/appfinder/AppFinderView.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/View","sap/ui/thirdparty/jquery","sap/ui/core/ListItem","sap/ui/model/Sorter","sap/m/MultiComboBox","sap/ui/model/BindingMode","sap/m/SearchField","sap/m/FlexBox","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/ToggleButton","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/m/Toolbar","sap/m/Page","sap/ushell/resources","sap/ui/Device"],function(e,jQuery,t,n,o,a,r,s,i,l,p,u,d,c,h,g){"use strict";return e.extend("sap.ushell.components.appfinder.AppFinderView",{createContent:function(){var e=h.i18n;this.oPage=new c("appFinderPage",{showHeader:false,showSubHeader:false,showFooter:false,showNavButton:false,enableScrolling:false,title:{parts:["/groupContext/title"],formatter:function(t){return!t?e.getText("appFinderTitle"):e.getText("appFinder_group_context_title",t)}}});return this.oPage},_showSearch:function(e){var t="enableCatalogSearch";if(e==="userMenu"){t="enableEasyAccessUserMenuSearch"}else if(e==="sapMenu"){t="enableEasyAccessSAPMenuSearch"}return this.getModel().getProperty("/"+t)},_showSearchTag:function(e){if(e==="userMenu"||e==="sapMenu"){return false}return this.getModel().getProperty("/enableCatalogTagFilter")},createSubHeader:function(){this.oToolbar=new d("appFinderSubHeader",{});if(g.system.desktop){this.oToolbar.addEventDelegate({onAfterRendering:function(){jQuery("#catalog-button").attr("accesskey","a")}})}this.oToolbar.addStyleClass("sapUshellAppFinderHeader");this.oPage.setSubHeader(this.oToolbar);this.oPage.setShowSubHeader(true);if(!this.openCloseSplitAppButton){this.openCloseSplitAppButton=new p("openCloseButtonAppFinderSubheader",{icon:"sap-icon://menu2",visible:"{/openCloseSplitAppButtonVisible}",pressed:"{/openCloseSplitAppButtonToggled}",press:function(e){this.getController().oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled",e.getSource().getPressed());this.openCloseSplitAppButton.setTooltip(e.getParameter("pressed")?h.i18n.getText("ToggleButtonHide"):h.i18n.getText("ToggleButtonShow"))}.bind(this),tooltip:h.i18n.getText("ToggleButtonShow")});this.openCloseSplitAppButton.setModel(this.getController().oSubHeaderModel);this.oToolbar.addContent(this.openCloseSplitAppButton)}},updateSubHeader:function(e,t){var n,o;this.oToolbar.removeAllContent();this.oToolbar.addContent(this.openCloseSplitAppButton);if(t){n=this.createSegmentedButtons(e);this.oPage.addStyleClass("sapUshellAppFinderWithEasyAccess");this.oToolbar.addContent(n)}if(this._showSearch(e)){o=this.createSearchControl(e);this.oToolbar.addContent(o)}this.getController()._updateCurrentMenuName(e)},createSegmentedButtons:function(e){if(this.segmentedButton){this.segmentedButton.setSelectedKey(e);return this.segmentedButton}var t=this.getController();var n=h.i18n;this.segmentedButton=new i("appFinderSegmentedButtons",{items:[new l("catalog",{text:n.getText("appFinderCatalogTitle"),key:"catalog",press:function(e){t.onSegmentButtonClick(e)},customData:[new u({key:"aria-controls",value:"catalogView",writeToDom:true}),new u({key:"aria-describedby",value:n.getText("AppFinder.SegmentedButton.Catalog.Describedby"),writeToDom:true})]})]});if(t.bEnableEasyAccessUserMenu){this.segmentedButton.addItem(new l("userMenu",{text:n.getText("appFinderUserMenuTitle"),key:"userMenu",press:function(e){t.onSegmentButtonClick(e)},customData:[new u({key:"aria-controls",value:"userMenuView",writeToDom:true}),new u({key:"aria-describedby",value:n.getText("AppFinder.SegmentedButton.UserMenu.Describedby"),writeToDom:true})]}))}if(t.bEnableEasyAccessSAPMenu){this.segmentedButton.addItem(new l("sapMenu",{text:n.getText("appFinderSapMenuTitle"),key:"sapMenu",press:function(e){t.onSegmentButtonClick(e)},customData:[new u({key:"aria-controls",value:"sapMenuView",writeToDom:true}),new u({key:"aria-describedby",value:n.getText("AppFinder.SegmentedButton.SAPMenu.Describedby"),writeToDom:true})]}))}this.segmentedButton.setSelectedKey(e);return this.segmentedButton},_handleSearch:function(){this.getController().searchHandler.apply(this.getController(),arguments);jQuery("#appFinderSearch input").select()},createSearchControl:function(e){if(!this.oAppFinderSearchContainer){this.oAppFinderSearchContainer=new s("appFinderSearchContainer")}this.oAppFinderSearchContainer.removeAllItems();if(e==="catalog"&&this._showSearchTag("catalog")){this.oAppFinderSearchContainer.addItem(this.createTagControl())}if(!this.oAppFinderSearchControl){this.oAppFinderSearchControl=new r("appFinderSearch",{search:this._handleSearch.bind(this),value:{path:"subHeaderModel>/search/searchTerm",mode:a.OneWay}}).addStyleClass("help-id-catalogSearch");this.oAppFinderSearchControl.addCustomData(new u({key:"aria-controls",value:"",writeToDom:true}));if(g.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler","sap/ushell/renderers/fiori2/AccessKeysHandler"],function(e,t){e.getInstance().then(function(e){this.oAppFinderSearchControl.addEventDelegate({onsaptabnext:function(n){var o=sap.ui.getCore().byId("openCloseButtonAppFinderSubheader");if(o.getVisible()&&!o.getPressed()){n.preventDefault();t.setIsFocusHandledByAnotherHandler(true);e.setFocusOnCatalogTile()}}})}.bind(this))}.bind(this))}}this.oAppFinderSearchContainer.addItem(this.oAppFinderSearchControl);this._updateSearchWithPlaceHolder(e);return this.oAppFinderSearchContainer},_updateSearchWithPlaceHolder:function(e){var t="";if(e==="catalog"){t="EasyAccessMenu_SearchPlaceHolder_Catalog"}else if(e==="userMenu"){t="EasyAccessMenu_SearchPlaceHolder_UserMenu"}else if(e==="sapMenu"){t="EasyAccessMenu_SearchPlaceHolder_SAPMenu"}if(t&&this.oAppFinderSearchControl){this.oAppFinderSearchControl.setPlaceholder(h.i18n.getText(t));this.oAppFinderSearchControl.setTooltip(h.i18n.getText(t))}},createTagControl:function(){if(this.oAppFinderTagFilter){return this.oAppFinderTagFilter}var e=this.getController();this.oAppFinderTagFilter=new o("appFinderTagFilter",{selectedKeys:{path:"subHeaderModel>/tag/selectedTags"},tooltip:"{i18n>catalogTilesTagfilter_tooltip}",placeholder:"{i18n>catalogTilesTagfilter_HintText}",visible:{path:"/tagList",formatter:function(e){return e.length>0}},items:{path:"/tagList",sorter:new n("tag",false,false),template:new t({text:"{tag}",key:"{tag}"})},selectionChange:[e.onTagsFilter,e]}).addStyleClass("help-id-catalogTagFilter");return this.oAppFinderTagFilter},getControllerName:function(){return"sap.ushell.components.appfinder.AppFinder"}})});
},
	"sap/ushell/components/appfinder/Catalog.controller.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/library","sap/ui/core/mvc/View","sap/ui/core/mvc/Controller","sap/ushell/components/_HomepageManager/PagingManager","sap/ushell/components/CatalogsManager","sap/ui/core/UIComponent","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/library","sap/ui/Device","sap/ui/core/library","sap/ui/model/Context","sap/m/MessageToast","sap/ushell/Config","sap/ushell/components/appfinder/VisualizationOrganizerHelper","sap/ushell/utils/WindowUtils"],function(e,t,i,r,a,o,jQuery,s,n,l,g,h,d,p,c,u,f,v){"use strict";var C=g.SplitAppMode;var y=e.AppType;return i.extend("sap.ushell.components.appfinder.Catalog",{oPopover:null,onInit:function(){sap.ushell.Container.getServiceAsync("LaunchPage").then(function(e){this.oLaunchPageService=e}.bind(this));this.categoryFilter="";this.preCategoryFilter="";var e=this.getView();this.oMainModel=e.getModel();this.oSubHeaderModel=e.getModel("subHeaderModel");this.resetPage=false;this.bIsInProcess=false;this.oVisualizationOrganizerHelper=e.oVisualizationOrganizerHelper;this.oCatalogsContainer=e.oCatalogsContainer;sap.ui.getCore().byId("catalogSelect").addEventDelegate({onBeforeRendering:this.onBeforeSelectRendering},this);this.timeoutId=0;document.subHeaderModel=this.oSubHeaderModel;document.mainModel=this.oMainModel;var t=this.oSubHeaderModel.bindProperty("/openCloseSplitAppButtonToggled");t.attachChange(this.handleToggleButtonModelChanged,this);e.oCatalogsContainer.setHandleSearchCallback(this.handleSearchModelChanged.bind(this))},customRouteMatched:function(e){this.onShow(e)},onBeforeRendering:function(){sap.ui.getCore().getEventBus().publish("renderCatalog")},onAfterRendering:function(){this.wasRendered=true;if(!this.PagingManager){this._setPagingManager()}if(this.PagingManager.currentPageIndex===0){this.allocateNextPage()}jQuery(window).resize(function(){var e=jQuery(window).width();var t=jQuery(window).height();this.PagingManager.setContainerSize(e,t)}.bind(this));this._handleAppFinderWithDocking();sap.ui.getCore().getEventBus().subscribe("launchpad","appFinderWithDocking",this._handleAppFinderWithDocking,this);sap.ui.getCore().getEventBus().subscribe("sap.ushell","appFinderAfterNavigate",this._handleAppFinderAfterNavigate,this)},_setPagingManager:function(){this.lastCatalogId=0;this.PagingManager=new r("catalogPaging",{supportedElements:{tile:{className:"sapUshellTile"}},containerHeight:window.innerHeight,containerWidth:window.innerWidth});this.oCatalogsContainer.setPagingManager(this.PagingManager)},_decodeUrlFilteringParameters:function(e){var t;try{t=JSON.parse(e)}catch(i){t=e}var i=t&&t.tagFilter&&t.tagFilter||[];if(i){try{this.tagFilter=JSON.parse(i)}catch(e){this.tagFilter=[]}}else{this.tagFilter=[]}this.categoryFilter=t&&t.catalogSelector&&t.catalogSelector||this.categoryFilter;if(this.categoryFilter){this.categoryFilter=window.decodeURIComponent(this.categoryFilter)}this.searchFilter=t&&t.tileFilter&&t.tileFilter||null;if(this.searchFilter){this.searchFilter=window.decodeURIComponent(this.searchFilter)}},_applyFilters:function(e){var t=false;if(this.categoryFilter){this.categoryFilter=s.i18n.getText("all")===this.categoryFilter?"":this.categoryFilter;if(this.categoryFilter!==this.preCategoryFilter){t=true}this.oView.setCategoryFilterSelection(this.categoryFilter,t)}else{t=true;this.oView.setCategoryFilterSelection("",t)}this.preCategoryFilter=this.categoryFilter;if(this.searchFilter&&this.searchFilter.length){this.searchFilter=this.searchFilter.replace(/\*/g,"");this.searchFilter=this.searchFilter.trim();this.oSubHeaderModel.setProperty("/search",{searchMode:true,searchTerm:this.searchFilter})}else if(e){this.oSubHeaderModel.setProperty("/search",{searchMode:false,searchTerm:""});this.resetPage=true}if(this.tagFilter&&this.tagFilter.length){this.oSubHeaderModel.setProperty("/tag",{tagMode:true,selectedTags:this.tagFilter})}else if(e){this.oSubHeaderModel.setProperty("/tag",{tagMode:false,selectedTags:[]});this.resetPage=true}this.handleSearchModelChanged()},_handleAppFinderAfterNavigate:function(){this.clearFilters()},clearFilters:function(){var e=false;if(this.categoryFilter!==this.preCategoryFilter){e=true}var t=this.oSubHeaderModel.getProperty("/search/searchMode");var i=this.oSubHeaderModel.getProperty("/tag/tagMode");if(t){this.oSubHeaderModel.setProperty("/search",{searchMode:true,searchTerm:""})}if(i){this.oSubHeaderModel.setProperty("/tag",{tagMode:true,selectedTags:[]})}if(this.categoryFilter&&this.categoryFilter!==""){this.selectedCategoryId=undefined;this.categoryFilter=undefined;this.getView().getModel().setProperty("/categoryFilter","");this.oView.setCategoryFilterSelection("",e)}this.preCategoryFilter=this.categoryFilter;this.handleSearchModelChanged()},onShow:function(e){var t=e.getParameter("arguments").filters;jQuery.extend(this.getView().getViewData(),e);this._decodeUrlFilteringParameters(t);if(this.wasRendered&&!t){this.clearFilters()}else{this._applyFilters(this.wasRendered)}},allocateNextPage:function(){if(!this.oCatalogsContainer.nAllocatedUnits||this.oCatalogsContainer.nAllocatedUnits===0){this.PagingManager.moveToNextPage();this.allocateTiles=this.PagingManager._calcElementsPerPage();this.oCatalogsContainer.applyPagingCategoryFilters(this.allocateTiles,this.categoryFilter)}},onBeforeSelectRendering:function(){var e=sap.ui.getCore().byId("catalogSelect");var t=jQuery.grep(e.getItems(),function(e){return e.getBindingContext().getObject().title===this.categoryFilter}.bind(this));if(!t.length&&e.getItems()[0]){t.push(e.getItems()[0])}},setTagsFilter:function(e){var t={catalogSelector:this.categoryFilter?this.categoryFilter:s.i18n.getText("all"),tileFilter:this.searchFilter&&this.searchFilter.length?encodeURIComponent(this.searchFilter):"",tagFilter:e.length?JSON.stringify(e):[]};this._addNavigationContextToFilter(t);this.getView().parentComponent.getRouter().navTo("catalog",{filters:JSON.stringify(t)})},setCategoryFilter:function(e){var t={catalogSelector:e,tileFilter:this.searchFilter?encodeURIComponent(this.searchFilter):"",tagFilter:this.tagFilter.length?JSON.stringify(this.tagFilter):[]};this._addNavigationContextToFilter(t);this.getView().parentComponent.getRouter().navTo("catalog",{filters:JSON.stringify(t)})},setSearchFilter:function(e){var t={catalogSelector:this.categoryFilter?this.categoryFilter:s.i18n.getText("all"),tileFilter:e?encodeURIComponent(e):"",tagFilter:this.tagFilter.length?JSON.stringify(this.tagFilter):[]};this._addNavigationContextToFilter(t);this.getView().parentComponent.getRouter().navTo("catalog",{filters:JSON.stringify(t)})},_addNavigationContextToFilter:function(e){var t=this.oVisualizationOrganizerHelper.getNavigationContext.apply(this);if(t){Object.keys(t).forEach(function(i){e[i]=t[i]})}return e},onSearch:function(e){var t=this.oSubHeaderModel.getProperty("/activeMenu");if(this.oView.getId().indexOf(t)!==-1){var i=e.searchTerm?e.searchTerm:"";this.setSearchFilter(i)}else{this._restoreSelectedMasterItem()}},onTag:function(e){var t=this.oSubHeaderModel.getProperty("/activeMenu");if(this.oView.getId().indexOf(t)!==-1){var i=e.selectedTags?e.selectedTags:[];this.setTagsFilter(i)}else{this._restoreSelectedMasterItem()}},getGroupContext:function(){var e=this.getView().getModel();var t=e.getProperty("/groupContext/path");return{targetGroup:encodeURIComponent(t||"")}},_isTagFilteringChanged:function(e){var t=e.length===this.tagFilter.length;var i=t;if(!i){return true}e.some(function(e){i=this.tagFilter&&Array.prototype.indexOf.call(this.tagFilter,e)!==-1;return!i}.bind(this));return i},_setUrlWithTagsAndSearchTerm:function(e,t){var i={tileFilter:e&&e.length?encodeURIComponent(e):"",tagFilter:t.length?JSON.stringify(t):[]};this._addNavigationContextToFilter(i);this.getView().parentComponent.getRouter().navTo("catalog",{filters:JSON.stringify(i)})},handleSearchModelChanged:function(){var e=this.oSubHeaderModel.getProperty("/search/searchMode");var t=this.oSubHeaderModel.getProperty("/tag/tagMode");var i=this.oSubHeaderModel.getProperty("/search/searchTerm");var r=this.oSubHeaderModel.getProperty("/tag/selectedTags");var a=[];var o,s,g,h,d;if(!this.PagingManager){this._setPagingManager()}this.PagingManager.resetCurrentPageIndex();this.nAllocatedTiles=0;this.PagingManager.moveToNextPage();this.allocateTiles=this.PagingManager._calcElementsPerPage();this.oView.oCatalogsContainer.updateAllocatedUnits(this.allocateTiles);this.oView.oCatalogsContainer.resetCatalogPagination();var p=sap.ui.getCore().byId("catalogTilesDetailedPage");if(p){p.scrollTo(0,0)}if(e||t||this.resetPage){if(r&&r.length>0){o=new n("tags","EQ","v");o.fnTest=function(e){var t,i;if(r.length===0){return true}for(t=0;t<r.length;t++){i=r[t];if(e.indexOf(i)===-1){return false}}return true};s=new n([o],true)}i=i?i.replace(/\*/g,""):i;if(i){var c=i.split(/[\s,]+/);var u=new n(jQuery.map(c,function(e){return e&&new n("keywords",l.Contains,e)}),true);var f=new n(jQuery.map(c,function(e){return e&&new n("title",l.Contains,e)}),true);var v=new n(jQuery.map(c,function(e){return e&&new n("subtitle",l.Contains,e)}),true);a.push(u);a.push(f);a.push(v);g=new n(a,false)}var C=this.oView.oCatalogsContainer.getCatalogs();this.oSearchResultsTotal=[];var y=this;if(s&&s.aFilters.length>0&&g){d=new n([g].concat([s]),true)}else if(s&&s.aFilters.length>0){d=new n([s],true)}else if(g&&g.aFilters.length>0){d=new n([g],true)}C.forEach(function(e){e.getBinding("customTilesContainer").filter(d);e.getBinding("appBoxesContainer").filter(d)});this.oView.oCatalogsContainer.bSearchResults=false;this.oView.oCatalogsContainer.applyPagingCategoryFilters(this.oView.oCatalogsContainer.nAllocatedUnits,this.categoryFilter);this.bSearchResults=this.oView.oCatalogsContainer.bSearchResults;this.oView.splitApp.toDetail(y.getView()._calculateDetailPageId());this.resetPage=false}else{this.oView.oCatalogsContainer.applyPagingCategoryFilters(this.oView.oCatalogsContainer.nAllocatedUnits,this.categoryFilter)}h=this.getView()._calculateDetailPageId();this.oView.splitApp.toDetail(h)},_handleAppFinderWithDocking:function(){if(jQuery(".sapUshellContainerDocked").length>0){if(jQuery("#mainShell").width()<710){if(window.innerWidth<1024){this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonVisible",false);this.oView.splitApp.setMode(C.ShowHideMode)}else{this.oView.splitApp.setMode(C.HideMode);this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonVisible",true)}}else{this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonVisible",false);this.oView.splitApp.setMode(C.ShowHideMode)}}},_restoreSelectedMasterItem:function(){var e=this.oView.splitApp.getMasterPage("catalogSelect");var t=sap.ui.getCore().byId(this.selectedCategoryId);if(t){this.categoryFilter=t.getTitle()}e.setSelectedItem(t)},handleToggleButtonModelChanged:function(){var e=this.oSubHeaderModel.getProperty("/openCloseSplitAppButtonVisible");var t=this.oSubHeaderModel.getProperty("/openCloseSplitAppButtonToggled");if(t!==this.bCurrentButtonToggled&&e){if(!h.system.phone){if(t&&!this.oView.splitApp.isMasterShown()){this.oView.splitApp.showMaster()}else if(this.oView.splitApp.isMasterShown()){this.oView.splitApp.hideMaster()}}else if(this.oView.splitApp.isMasterShown()){var i=sap.ui.getCore().byId(this.getView()._calculateDetailPageId());this.oView.splitApp.toDetail(i)}else if(t){var r=sap.ui.getCore().byId("catalogSelect");this.oView.splitApp.toMaster(r,"show")}}this.bCurrentButtonToggled=t},_handleCatalogListItemPress:function(e){this.onCategoryFilter(e);if(this.oSubHeaderModel.getProperty("/search/searchTerm")!==""){this.oSubHeaderModel.setProperty("/search/searchMode",true)}if(h.system.phone||h.system.tablet){this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled",!this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled"))}},onCategoryFilter:function(e){var t=e.getSource();var i=t.getSelectedItem();var r=i.getBindingContext();var a=r.getModel();if(a.getProperty("static",r)){a.setProperty("/showCatalogHeaders",true);this.setCategoryFilter();this.selectedCategoryId=undefined;this.categoryFilter=undefined}else{a.setProperty("/showCatalogHeaders",false);this.setCategoryFilter(window.encodeURIComponent(i.getBindingContext().getObject().title));this.categoryFilter=i.getTitle();this.selectedCategoryId=i.getId()}},onTileAfterRendering:function(e){var t=jQuery(e.oSource.getDomRef());var i=t.find(".sapMGT");i.attr("tabindex","-1")},catalogTilePress:function(){sap.ui.getCore().getEventBus().publish("launchpad","catalogTileClick")},onAppBoxPressed:function(e){var t=e.getSource();var i=t.getBindingContext().getObject();var r;if(e.mParameters.srcControl.$().closest(".sapUshellPinButton").length){return}r=this.oLaunchPageService.getAppBoxPressHandler(i);if(r){r(i)}else{var a=t.getProperty("url");if(a&&a.indexOf("#")===0){hasher.setHash(a)}else{var o=u.last("/core/shell/enableRecentActivity")&&u.last("/core/shell/enableRecentActivityLogging");if(o){var s={title:t.getProperty("title"),appType:y.URL,url:a,appId:a};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(s)}v.openURL(a,"_blank")}}},onTilePinButtonClick:function(e){var i=this.oLaunchPageService;var r=i.getDefaultGroup();r.done(function(r){var a=e.getSource();var o=a.getBindingContext();var s=this.getView().getModel();var n=s.getProperty("/groupContext/path");if(n){this._handleTileFooterClickInGroupContext(o,n)}else{var l=s.getProperty("/groups");var g=this.getCatalogTileDataFromModel(o);var h=g.tileData.associatedGroups;var d=[];var p=l.map(function(e){var t,a;t=i.getGroupId(e.object);a=!(h&&Array.prototype.indexOf.call(h,t)===-1);d.push({id:t,title:this._getGroupTitle(r,e.object),selected:a});return{selected:a,initiallySelected:a,oGroup:e}}.bind(this));var c;c=i.getCatalogTilePreviewTitle(s.getProperty(o.sPath).src);if(!c){c=i.getCatalogTileTitle(s.getProperty(o.sPath).src)}this.pPopoverView=t.create({id:"sapUshellGroupsPopover",viewName:"module:sap/ushell/components/appfinder/GroupListPopoverView",viewData:{title:c,enableHideGroups:s.getProperty("/enableHideGroups"),enableHelp:s.getProperty("/enableHelp"),sourceContext:o,catalogModel:this.getView().getModel(),catalogController:this}}).then(function(e){e.getController().initializeData({groupData:p});e.open(a).then(this._handlePopoverResponse.bind(this,o,g));this.getView().addDependent(e);return e}.bind(this))}}.bind(this))},_getGroupTitle:function(e,t){var i=this.oLaunchPageService;var r;if(e&&i.getGroupId(e)===i.getGroupId(t)){r=s.i18n.getText("my_group")}else{r=i.getGroupTitle(t)}return r},_handlePopoverResponse:function(e,t,i){if(!i.addToGroups.length&&!i.newGroups.length&&!i.removeFromGroups.length){return}var r=this.getView().getModel();var a=r.getProperty("/groups");var o=[];i.addToGroups.forEach(function(t){var i=a.indexOf(t);var s=new p(r,"/groups/"+i);o.push(this._addTile(e,s))}.bind(this));i.removeFromGroups.forEach(function(t){var i=e.getModel().getProperty(e.getPath()).id;var r=a.indexOf(t);o.push(this._removeTile(i,r))}.bind(this));i.newGroups.forEach(function(t){var i=t.length>0?t:s.i18n.getText("new_group_name");o.push(this._createGroupAndSaveTile(e,i))}.bind(this));jQuery.when.apply(jQuery,o).then(function(){var e=Array.prototype.slice.call(arguments);this._handlePopoverGroupsActionPromises(t,i,e)}.bind(this))},_handlePopoverGroupsActionPromises:function(e,t,i){var r=i.filter(function(e){return!e.status});if(r.length){var o=this.prepareErrorMessage(r,e.tileData.title);var s=a.prototype.getInstance();s.resetAssociationOnFailure(o.messageId,o.parameters);return}var n=[];var l=this.oLaunchPageService;t.allGroups.forEach(function(e){if(e.selected){var t=l.getGroupId(e.oGroup.object);n.push(t)}});var g=this.getView().getModel();if(t.newGroups.length){var h=g.getProperty("/groups");var d=h.slice(h.length-t.newGroups.length);d.forEach(function(e){var t=l.getGroupId(e.object);n.push(t)})}g.setProperty(e.bindingContextPath+"/associatedGroups",n);var p=t.addToGroups[0]?t.addToGroups[0].title:"";if(p.length===0&&t.newGroups.length){p=t.newGroups[0]}var u=t.removeFromGroups[0]?t.removeFromGroups[0].title:"";var f=t.addToGroups.length+t.newGroups.length;var v=t.removeFromGroups.length;var C=this.prepareDetailedMessage(e.tileData.title,f,v,p,u);c.show(C,{duration:3e3,width:"15em",my:"center bottom",at:"center bottom",of:window,offset:"0 -50",collision:"fit fit"})},_getCatalogTileIndexInModel:function(e){var t=e.sPath;var i=t.split("/");var r=i[i.length-1];return r},_handleTileFooterClickInGroupContext:function(e,t){var i=this.oLaunchPageService;var r=this.getView().getModel();var a=this.getCatalogTileDataFromModel(e);var o=a.tileData.associatedGroups;var s=r.getProperty(t);var n=i.getGroupId(s.object);var l=o?Array.prototype.indexOf.call(o,n):-1;var g=a.bindingContextPath;if(a.isBeingProcessed){return}r.setProperty(g+"/isBeingProcessed",true);var h;var d;if(l===-1){var c=new p(e.getModel(),t);h=this._addTile(e,c);d=true}else{var u=e.getModel().getProperty(e.getPath("id"));var f=parseInt(t.split("/")[2],10);h=this._removeTile(u,f);d=false}h.done(function(t){if(t.status){this._groupContextOperationSucceeded(e,a,s,d)}else{this._groupContextOperationFailed(a,s,d)}}.bind(this));h.always(function(){r.setProperty(g+"/isBeingProcessed",false)})},_groupContextOperationSucceeded:function(e,t,i,r){var a=this.oLaunchPageService;var o=a.getGroupId(i.object);var s=t.tileData.associatedGroups;var n;if(r){s.push(o);e.getModel().setProperty(t.bindingContextPath+"/associatedGroups",s);n=this.prepareDetailedMessage(t.tileData.title,1,0,i.title,"")}else{for(var l=0;l<s.length;l++){if(s[l]===o){s.splice(l,1);break}}e.getModel().setProperty(t.bindingContextPath+"/associatedGroups",s);n=this.prepareDetailedMessage(t.tileData.title,0,1,"",i.title)}c.show(n,{duration:3e3,width:"15em",my:"center bottom",at:"center bottom",of:window,offset:"0 -50",collision:"fit fit"})},_groupContextOperationFailed:function(e,t,i){var r=a.prototype.getInstance();var o;if(i){o=s.i18n.getText({messageId:"fail_tile_operation_add_to_group",parameters:[e.tileData.title,t.title]})}else{o=s.i18n.getText({messageId:"fail_tile_operation_remove_from_group",parameters:[e.tileData.title,t.title]})}r.notifyOnActionFailure(o.messageId,o.parameters)},prepareErrorMessage:function(e,t){var i,r,a,o,n;var l=0;var g=0;var h=false;for(var d in e){i=e[d].group;r=e[d].action;if(r==="add"){l++;if(l===1){a=i.title}}else if(r==="remove"){g++;if(g===1){o=i.title}}else if(r==="addTileToNewGroup"){l++;if(l===1){a=i.title}}else{h=true}}if(h){if(e.length===1){n=s.i18n.getText({messageId:"fail_tile_operation_create_new_group"})}else{n=s.i18n.getText({messageId:"fail_tile_operation_some_actions"})}}else if(e.length===1){if(l){n=s.i18n.getText({messageId:"fail_tile_operation_add_to_group",parameters:[t,a]})}else{n=s.i18n.getText({messageId:"fail_tile_operation_remove_from_group",parameters:[t,o]})}}else if(g===0){n=s.i18n.getText({messageId:"fail_tile_operation_add_to_several_groups",parameters:[t]})}else if(l===0){n=s.i18n.getText({messageId:"fail_tile_operation_remove_from_several_groups",parameters:[t]})}else{n=s.i18n.getText({messageId:"fail_tile_operation_some_actions"})}return n},prepareDetailedMessage:function(e,t,i,r,a){var o;if(t===0){if(i===1){o=s.i18n.getText("tileRemovedFromSingleGroup",[e,a])}else if(i>1){o=s.i18n.getText("tileRemovedFromSeveralGroups",[e,i])}}else if(t===1){if(i===0){o=s.i18n.getText("tileAddedToSingleGroup",[e,r])}else if(i===1){o=s.i18n.getText("tileAddedToSingleGroupAndRemovedFromSingleGroup",[e,r,a])}else if(i>1){o=s.i18n.getText("tileAddedToSingleGroupAndRemovedFromSeveralGroups",[e,r,i])}}else if(t>1){if(i===0){o=s.i18n.getText("tileAddedToSeveralGroups",[e,t])}else if(i===1){o=s.i18n.getText("tileAddedToSeveralGroupsAndRemovedFromSingleGroup",[e,t,a])}else if(i>1){o=s.i18n.getText("tileAddedToSeveralGroupsAndRemovedFromSeveralGroups",[e,t,i])}}return o},getCatalogTileDataFromModel:function(e){var t=e.getPath();var i=e.getModel();var r=i.getProperty(t);return{tileData:r,bindingContextPath:t,isBeingProcessed:r.isBeingProcessed}},_addTile:function(e,t){var i=a.prototype.getInstance();var r=jQuery.Deferred();var o=i.createTile({catalogTileContext:e,groupContext:t});o.done(function(e){r.resolve(e)});return r},_removeTile:function(e,t){var i=a.prototype.getInstance();var r=jQuery.Deferred();var o=i.deleteCatalogTileFromGroup({tileId:e,groupIndex:t});o.done(function(e){r.resolve(e)});return r},_createGroupAndSaveTile:function(e,t){var i=a.prototype.getInstance();var r=jQuery.Deferred();var o=i.createGroupAndSaveTile({catalogTileContext:e,newGroupName:t});o.done(function(e){r.resolve(e)});return r},onExit:function(){f.destroy();sap.ui.getCore().getEventBus().unsubscribe("launchpad","appFinderWithDocking",this._handleAppFinderWithDocking,this);sap.ui.getCore().getEventBus().unsubscribe("launchpad","appFinderAfterNavigate",this._handleAppFinderAfterNavigate,this)}})});
},
	"sap/ushell/components/appfinder/CatalogView.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/m/BusyIndicator","sap/m/library","sap/m/List","sap/m/MessagePage","sap/m/Page","sap/m/PageAccessibleLandmarkInfo","sap/m/SplitApp","sap/m/StandardListItem","sap/ui/core/Core","sap/ui/core/mvc/View","sap/ui/core/library","sap/ui/Device","sap/ui/performance/Measurement","sap/ui/thirdparty/jquery","sap/ushell/components/appfinder/VisualizationOrganizerHelper","sap/ushell/ui/appfinder/AppBox","sap/ushell/ui/appfinder/PinButton","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ushell/ui/launchpad/CatalogEntryContainer","sap/ushell/ui/launchpad/CatalogsContainer","sap/ushell/ui/launchpad/Tile","sap/ushell/resources"],function(e,t,a,o,i,s,n,l,r,p,u,g,c,jQuery,d,h,f,m,C,v,b,P){"use strict";var y=t.ListSeparators;var T=t.ListMode;var S=u.AccessibleLandmarkRole;return p.extend("sap.ushell.components.appfinder.CatalogView",{oController:null,oVisualizationOrganizerHelper:d.getInstance(),formatPinButtonTooltip:function(e,t){var a;if(t.path){var o=e?Array.prototype.indexOf.call(e,t.id):-1;a=o!==-1?"removeAssociatedTileFromContextGroup":"addAssociatedTileToContextGroup";return P.i18n.getText(a,t.title)}a=e&&e.length?"EasyAccessMenu_PinButton_Toggled_Tooltip":"EasyAccessMenu_PinButton_UnToggled_Tooltip";return P.i18n.getText(a)},formatPinButtonSelectState:function(e,t,a,o){if(a){var i=e?Array.prototype.indexOf.call(e,o):-1;return i!==-1}return!!t},createContent:function(t){var p=this;this.oViewData=this.getViewData();this.parentComponent=this.oViewData.parentComponent;var u=this.parentComponent.getModel();this.setModel(u);this.setModel(this.oViewData.subHeaderModel,"subHeaderModel");this.oVisualizationOrganizerHelper.setModel(u);this.oController=t;function d(e){return e!==null&&(e==="1x2"||e==="2x2")||false}var B=new f({icon:{path:"id",formatter:this.oVisualizationOrganizerHelper.formatPinButtonIcon},type:{path:"id",formatter:this.oVisualizationOrganizerHelper.formatPinButtonType},selected:{parts:["associatedGroups","associatedGroups/length","/groupContext/path","/groupContext/id"],formatter:this.oVisualizationOrganizerHelper.formatPinButtonSelectState.bind(this)},tooltip:{parts:["associatedGroups","/groupContext","id"],formatter:this.oVisualizationOrganizerHelper.formatPinButtonTooltip.bind(this)},press:[this.oVisualizationOrganizerHelper.onTilePinButtonClick,this],visible:false});var M=new f({icon:{path:"id",formatter:this.oVisualizationOrganizerHelper.formatPinButtonIcon},type:{path:"id",formatter:this.oVisualizationOrganizerHelper.formatPinButtonType},selected:{parts:["associatedGroups","associatedGroups/length","/groupContext/path","/groupContext/id"],formatter:this.oVisualizationOrganizerHelper.formatPinButtonSelectState.bind(this)},tooltip:{parts:["associatedGroups","/groupContext","id"],formatter:this.oVisualizationOrganizerHelper.formatPinButtonTooltip.bind(this)},press:[this.oVisualizationOrganizerHelper.onTilePinButtonClick,this],visible:false});this.oAppBoxesTemplate=new h({title:"{title}",icon:"{icon}",subtitle:"{subtitle}",url:"{url}",navigationMode:"{navigationMode}",pinButton:M,press:[t.onAppBoxPressed,t]});this.oVisualizationOrganizerHelper.shouldPinButtonBeVisible().then(function(e){M.setVisible(e);B.setVisible(e)});M.addCustomData(new m({key:"tabindex",value:"-1",writeToDom:true}));M.addStyleClass("sapUshellPinButton");B.addCustomData(new m({key:"tabindex",value:"-1",writeToDom:true}));B.addStyleClass("sapUshellPinButton");this.oTileTemplate=new b({tileViews:{path:"content",factory:function(e,t){return t.getObject()}},long:{path:"size",formatter:d},tileCatalogId:"{id}",tileCatalogIdStable:"{tileCatalogIdStable}",pinButton:B,press:[t.catalogTilePress,t],afterRendering:t.onTileAfterRendering});this.oCatalogSelect=new a("catalogSelect",{visible:"{/enableCatalogSelection}",rememberSelections:true,showSeparators:y.None,mode:T.SingleSelectMaster,items:{path:"/masterCatalogs",template:new l({type:"Active",title:"{title}"})},showNoData:false,itemPress:[t._handleCatalogListItemPress,t],selectionChange:[t._handleCatalogListItemPress,t]});this.getCatalogSelect=function(){return this.oCatalogSelect};var w=this.oCatalogSelect.onAfterRendering;if(g.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler","sap/ushell/renderers/fiori2/AccessKeysHandler"],function(e,t){e.getInstance().then(function(e){this.oCatalogSelect.addEventDelegate({onsaptabnext:function(a){try{a.preventDefault();t.setIsFocusHandledByAnotherHandler(true);e.setFocusOnCatalogTile()}catch(e){}},onsapskipforward:function(a){try{a.preventDefault();t.setIsFocusHandledByAnotherHandler(true);e.setFocusOnCatalogTile()}catch(e){}},onsapskipback:function(a){try{a.preventDefault();t.setIsFocusHandledByAnotherHandler(true);var o=r.byId("openCloseButtonAppFinderSubheader");if(o.getVisible()){o.focus()}else{e.appFinderFocusMenuButtons(a)}}catch(e){}}})}.bind(this))}.bind(this))}if(u.getProperty("/enableHelp")){this.oCatalogSelect.addStyleClass("help-id-catalogCategorySelect")}this.setCategoryFilterSelection=function(e,t){var a=p.getCatalogSelect();var o=a.getItems();var i=e;var s=0;if(!i||i===""){i=P.i18n.getText("all")}o.forEach(function(e,t){if(e.getTitle()===i){s=t;a.setSelectedItem(e)}});if(o.length!==0&&t){o[s].focus()}};this.oCatalogSelect.onAfterRendering=function(){var e=p.oController.categoryFilter||P.i18n.getText("all");p.setCategoryFilterSelection(e);if(w){w.apply(this,arguments)}if(!this.getSelectedItem()){this.setSelectedItem(this.getItems()[0])}setTimeout(function(){var e=jQuery("#catalog-button, #userMenu-button, #sapMenu-button").filter("[tabindex=0]");if(e.length){e.eq(0).focus()}else{jQuery("#catalog-button").focus()}},0)};var A=this.oCatalogSelect._onAfterRenderingPopover;this.oCatalogSelect._onAfterRenderingPopover=function(){if(this._oPopover){this._oPopover.setFollowOf(false)}if(A){A.apply(this,arguments)}};var x=r.getEventBus();var I;var D=function(){this.splitApp.toMaster("catalogSelect","show");if(!g.system.phone){I=this._calculateDetailPageId();if(I!==this.splitApp.getCurrentDetailPage().getId()){this.splitApp.toDetail(I)}}}.bind(this);x.subscribe("launchpad","catalogContentLoaded",function(){setTimeout(D,500)},this);x.subscribe("launchpad","afterCatalogSegment",D,this);var H=new C({header:"{title}",customTilesContainer:{path:"customTiles",template:this.oTileTemplate,templateShareable:true},appBoxesContainer:{path:"appBoxes",template:this.oAppBoxesTemplate,templateShareable:true}});this.oMessagePage=new o({visible:true,showHeader:false,text:P.i18n.getText("EasyAccessMenu_NoAppsToDisplayMessagePage_Text"),description:""}).addEventDelegate({onAfterRendering:function(){var e=this.oMessagePage.getDomRef();if(e){var t=e.getElementsByClassName("sapMMessagePageMainText");if(t.length){t[0].setAttribute("tabindex","0")}}}.bind(this),onBeforeRendering:function(){var e=this.oMessagePage.getDomRef();if(e){var t=e.getElementsByClassName("sapMMessagePageMainText");if(t.length){t[0].removeAttribute("tabindex")}}}.bind(this)});this.oCatalogsContainer=new v("catalogTiles",{categoryFilter:"{/categoryFilter}",catalogs:{path:"/catalogs",templateShareable:true,template:H},busy:true}).addStyleClass("sapUiTinyMarginTop");this.oCatalogsContainer.addStyleClass("sapUshellCatalogTileContainer");this.oCatalogsContainer.addEventDelegate({onsaptabprevious:function(e){var t=r.byId("openCloseButtonAppFinderSubheader");var a=jQuery(e.srcControl.getDomRef());if(t.getVisible()&&!t.getPressed()&&!a.hasClass("sapUshellPinButton")){e.preventDefault();var o=r.byId("appFinderSearch");o.focus()}},onsapskipback:function(e){var t=r.byId("openCloseButtonAppFinderSubheader");if(t.getVisible()&&!t.getPressed()){e.preventDefault();t.focus()}}});this.oCatalogsContainer.onAfterRendering=function(){var e=r.byId("catalogTilesDetailedPage");if(!this.getBusy()){e.setBusy(false);c.end("FLP:AppFinderLoadingStartToEnd")}else{e.setBusy(true)}jQuery("#catalogTilesDetailedPage-cont").scroll(function(){var e=r.byId("catalogTilesDetailedPage");var t=e.getScrollDelegate();var a=t.getScrollTop();var o=t.getMaxScrollTop();if(o-a<=30+3*p.oController.PagingManager.getTileHeight()&&p.oController.bIsInProcess===false){p.oController.bIsInProcess=true;p.oController.allocateNextPage();setTimeout(function(){p.oController.bIsInProcess=false},0)}})};var z=new i("catalogTilesDetailedPage",{showHeader:false,showFooter:false,showNavButton:false,content:[this.oCatalogsContainer.addStyleClass("sapUshellCatalogPage")],landmarkInfo:new s({contentLabel:P.i18n.getText("appFinderCatalogTitle"),contentRole:S.None,rootRole:S.None})});var V=new i("catalogMessagePage",{showHeader:false,showFooter:false,showNavButton:false,content:[this.oMessagePage]});var F=new e("catalogSelectBusyIndicator",{size:"1rem"});this.splitApp=new n("catalogViewMasterDetail",{masterPages:[F,this.oCatalogSelect],detailPages:[z,V],mode:"{= ${/isPhoneWidth} ? 'HideMode' : 'ShowHideMode'}"});return this.splitApp},_calculateDetailPageId:function(){var e=this.getModel("subHeaderModel");var t=e.getProperty("/search/searchMode");var a=e.getProperty("/tag/tagMode");var o=!!this.getModel().getProperty("/catalogsNoDataText");var i;if(t||a){i=this.getController().bSearchResults?"catalogTilesDetailedPage":"catalogMessagePage"}else if(o){i="catalogMessagePage"}else{i="catalogTilesDetailedPage"}return i},getControllerName:function(){return"sap.ushell.components.appfinder.Catalog"}})});
},
	"sap/ushell/components/appfinder/Component.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/UIComponent","sap/ui/thirdparty/hasher","sap/ushell/components/CatalogsManager","sap/ushell/resources","sap/ushell/Config","sap/ushell/bootstrap/common/common.load.model","sap/ushell/components/SharedComponentUtils","sap/base/util/UriParameters"],function(e,t,a,o,s,n,i,r){"use strict";return e.extend("sap.ushell.components.appfinder.Component",{metadata:{interfaces:["sap.ui.core.IAsyncContentCreation"],manifest:"json",library:"sap.ushell"},init:function(){e.prototype.init.apply(this,arguments);this.oModel=n.getModel();this.setModel(this.oModel);var r,l,p;var h=s.last("/core/shell/enablePersonalization");if(h){i.getEffectiveHomepageSetting("/core/home/homePageGroupDisplay","/core/home/enableHomePageSettings")}this.oCatalogsManager=new a("dashboardMgr",{model:this.oModel});this.setModel(o.i18nModel,"i18n");i.toggleUserActivityLog();r=t.getHash();Promise.all([sap.ushell.Container.getServiceAsync("ShellNavigation"),sap.ushell.Container.getServiceAsync("URLParsing")]).then(function(e){var t=e[0];var a=e[1];var o=a.parseShellHash(r);if(o&&o.semanticObject==="shell"&&o.action==="catalog"){l=this.parseOldCatalogParams(r);p=this.getMetadata().getConfig();t.toExternal({target:{semanticObject:p.semanticObject,action:p.action}});this.getRouter().navTo("catalog",{filters:JSON.stringify(l)})}}.bind(this))},parseOldCatalogParams:function(e){var t=r.fromURL(e).mParams;var a,o;for(o in t){if(t.hasOwnProperty(o)){a=t[o][0];t[o]=a.indexOf("/")!==-1?encodeURIComponent(a):a}}return t},destroy:function(){e.prototype.destroy.apply(this);this.oCatalogsManager.destroy()}})});
},
	"sap/ushell/components/appfinder/EasyAccess.controller.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/mvc/View","sap/base/Log","sap/ui/model/odata/ODataUtils","sap/ui/thirdparty/datajs","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ui/model/json/JSONModel","sap/ushell/components/HomepageManager","sap/ui/core/library","sap/ushell/ui/launchpad/AccessibilityCustomData"],function(e,t,s,r,i,jQuery,a,n,o,l,u){"use strict";return e.extend("sap.ushell.components.appfinder.EasyAccess",{DEFAULT_URL:"/sap/opu/odata/UI2",DEFAULT_NUMBER_OF_LEVELS:3,SEARCH_RESULTS_PER_REQUEST:100,onInit:function(){var e=this;this.translationBundle=a.i18n;this.oView=this.getView();var t=this.oView.getModel("easyAccessSystemsModel");var r=t.bindProperty("/systemSelected");r.attachChange(e.adjustUiOnSystemChange.bind(this));this.menuName=this.oView.getViewData().menuName;this.systemId=null;this.easyAccessCache={};this.easyAccessModel=new n;Promise.all([this.oView.pHierarchyFolders,this.oView.pHierarchyApps]).then(function(e){e[0].setModel(this.easyAccessModel,"easyAccess");e[1].setModel(this.easyAccessModel,"easyAccess")}.bind(this));var i=this.getView().getModel();if(!i.getProperty("/catalogs")){if(!i.getProperty("/groups")||i.getProperty("/groups").length===0){var l=o.prototype.getInstance();if(l){this.oHomepageManager=l;this.oHomepageManager.loadPersonalizedGroups()}else{s.error("The homepage manager was not initialized. Tiles in user and sap menu cannot be added to groups.")}}}var u=this.oView.getModel("subHeaderModel");var h=u.bindProperty("/openCloseSplitAppButtonToggled");h.attachChange(e.handleToggleButtonModelChanged.bind(this));if(this.oView.getViewData().enableSearch){var c=u.bindProperty("/search");c.attachChange(e.handleSearchModelChanged.bind(this))}this.checkIfSystemSelectedAndLoadData()},checkIfSystemSelectedAndLoadData:function(){var e=this.oView.getModel("easyAccessSystemsModel").getProperty("/systemSelected");if(e){this.systemId=e.systemId;this.loadMenuItemsFirstTime(this.oView.getViewData().menuName,e)}},navigateHierarchy:function(e,t){Promise.all([this.oView.pHierarchyFolders,this.oView.pHierarchyApps]).then(function(s){var r=s[0];var i=s[1];r.setBusy(false);var a=this.easyAccessModel.getProperty(e||"/");if(typeof a.folders!=="undefined"){r.updatePageBindings(e,t);i.getController().updatePageBindings(e);return}r.setBusy(true);this.getMenuItems(this.menuName,this.systemId,a.id,a.level).then(function(e,s){this.easyAccessModel.setProperty(e+"/folders",s.folders);this.easyAccessModel.setProperty(e+"/apps",s.apps);r.updatePageBindings(e,t);i.getController().updatePageBindings(e);r.setBusy(false)}.bind(this,e),function(e){this.handleGetMenuItemsError(e)}.bind(this))}.bind(this))},handleSearch:function(e){var s=!this.pHierarchyAppsSearchResults;if(s){this.pHierarchyAppsSearchResults=t.create({id:this.getView().getId()+"hierarchyAppsSearchResults",viewName:"module:sap/ushell/components/appfinder/HierarchyAppsView",height:"100%",viewData:{easyAccessSystemsModel:this.oView.getModel("easyAccessSystemsModel"),getMoreSearchResults:this.getMoreSearchResults.bind(this)}}).then(function(e){this.easyAccessSearchResultsModel=new n;this.easyAccessSearchResultsModel.setSizeLimit(1e4);e.setModel(this.easyAccessSearchResultsModel,"easyAccess");e.addStyleClass(" sapUshellAppsView sapMShellGlobalInnerBackground");e.addCustomData(new u({key:"role",value:"region",writeToDom:true}));e.addCustomData(new u({key:"aria-label",value:this.oView.oResourceBundle.getText("easyAccessTileContainer"),writeToDom:true}));return e}.bind(this))}this.pHierarchyAppsSearchResults.then(function(t){this.searchResultFrom=0;this.oView.splitApp.getCurrentDetailPage().setBusy(true);this.easyAccessSearchResultsModel.setProperty("/apps",[]);this.easyAccessSearchResultsModel.setProperty("/total",0);this._getSearchResults(e,this.searchResultFrom).then(function(e){sap.ushell.Container.getServiceAsync("Bookmark").then(function(r){e.results.forEach(function(e){r.countBookmarks(e.url).then(function(t){e.bookmarkCount=t})});this.easyAccessSearchResultsModel.setProperty("/apps",e.results);this.easyAccessSearchResultsModel.setProperty("/total",e.count);this.searchResultFrom=e.results.length;if(s){this.oView.splitApp.addDetailPage(t)}t.updateResultSetMessage(parseInt(e.count,10),true);this.oView.splitApp.getCurrentDetailPage().setBusy(false);if(this.oView.splitApp.getCurrentDetailPage()!==t){this.oView.splitApp.toDetail(this.getView().getId()+"hierarchyAppsSearchResults")}}.bind(this))}.bind(this),function(e){this.handleGetMenuItemsError(e);this.oView.splitApp.getCurrentDetailPage().setBusy(false)}.bind(this));return t}.bind(this))},getMoreSearchResults:function(){if(this.oView.splitApp.getCurrentDetailPage().setShowMoreResultsBusy){this.oView.splitApp.getCurrentDetailPage().setShowMoreResultsBusy(true)}var e=this.oView.getModel("subHeaderModel");var t=e.getProperty("/search/searchTerm");this._getSearchResults(t,this.searchResultFrom).then(function(e){var t=this.easyAccessSearchResultsModel.getProperty("/apps");var s=t.slice();Array.prototype.push.apply(s,e.results);this.easyAccessSearchResultsModel.setProperty("/apps",s);if(this.oView.splitApp.getCurrentDetailPage().setShowMoreResultsBusy){this.oView.splitApp.getCurrentDetailPage().setShowMoreResultsBusy(false)}this.searchResultFrom=s.length}.bind(this),function(e){this.handleGetMenuItemsError(e);if(this.oView.splitApp.getCurrentDetailPage().setShowMoreResultsBusy){this.oView.splitApp.getCurrentDetailPage().setShowMoreResultsBusy(true)}}.bind(this))},_getSearchResults:function(e,t){var s=new jQuery.Deferred;var r=this._getODataRequestForSearchUrl(this.menuName,this.systemId,e,t);var i={requestUri:r};var a=this._callODataService(i,this.handleSuccessOnReadFilterResults);a.done(function(e){s.resolve(e)});a.fail(function(e){s.reject(e)});return s.promise()},getSystemNameOrId:function(){var e=this.oView.getModel("easyAccessSystemsModel").getProperty("/systemSelected");if(e){return e.name||e.id}return undefined},adjustUiOnSystemChange:function(){var e=this.easyAccessModel.getData();if(this.systemId&&e&&e.id){this.easyAccessCache[this.systemId]=e}var t=this.oView.getModel("easyAccessSystemsModel").getProperty("/systemSelected");if(t){this.systemId=t.systemId;var s=this.easyAccessCache[this.systemId];if(s){this.easyAccessModel.setData(s);this.navigateHierarchy("",false)}else{Promise.all([this.oView.pHierarchyFolders,this.oView.pHierarchyApps]).then(function(e){e[0].setBusy(true);e[1].setBusy(true)});this.loadMenuItemsFirstTime(this.menuName,t)}}},handleToggleButtonModelChanged:function(){var e=this.oView.getModel("subHeaderModel");var t=e.getProperty("/openCloseSplitAppButtonVisible");var s=e.getProperty("/openCloseSplitAppButtonToggled");var r=this.getView().splitApp;if(t){if(s&&!r.isMasterShown()){r.showMaster()}else if(r.isMasterShown()){r.hideMaster()}}},handleSearchModelChanged:function(){var e=this.oView.getModel("subHeaderModel");var t=e.getProperty("/activeMenu");if(this.getView().getId().indexOf(t)===-1){return}var s=e.getProperty("/search/searchTerm");var r=e.getProperty("/search/searchMode");if(r){sap.ui.getCore().byId("appFinderSearch").getCustomData()[0].setValue(this.getView().getId()+"hierarchyAppsSearchResults");if(s){this.handleSearch(s)}}else{sap.ui.getCore().byId("appFinderSearch").getCustomData()[0].setValue("");this.oView.splitApp.toDetail(this.getView().getId()+"hierarchyApps")}},loadMenuItemsFirstTime:function(e,t){return this.getMenuItems(e,t.systemId,"",0).then(function(e){e.text=t.systemName||t.systemId;this.easyAccessModel.setData(e);Promise.all([this.oView.pHierarchyFolders,this.oView.pHierarchyApps]).then(function(e){e[0].setBusy(false);e[1].setBusy(false)});this.navigateHierarchy("",false)}.bind(this),function(e){this.handleGetMenuItemsError(e);Promise.all([this.oView.pHierarchyFolders,this.oView.pHierarchyApps]).then(function(e){e[0].updatePageBindings("/",false);e[1].getController().updatePageBindings("/")})}.bind(this))},handleGetMenuItemsError:function(e){var t=this.getErrorMessage(e);sap.ui.require(["sap/m/MessageBox"],function(e){e.error(t)});this.easyAccessModel.setData("");this.oView.hierarchyFolders.setBusy(false);this.oView.hierarchyApps.setBusy(false)},_getErrorDetails:function(e){try{var t=JSON.parse(e.response.body);return t.error.message.value}catch(e){return null}},getErrorMessage:function(e){var t="";if(this.menuName==="SAP_MENU"){t=this.translationBundle.getText("easyAccessSapMenuNameParameter")}else if(this.menuName==="USER_MENU"){t=this.translationBundle.getText("easyAccessUserMenuNameParameter")}if(e){if(e.message){var s=this._getErrorDetails(e);if(s){return this.translationBundle.getText("easyAccessErrorGetDataErrorMsgWithDetails",[t,e.message,s])}return this.translationBundle.getText("easyAccessErrorGetDataErrorMsg",[t,e.message])}return this.translationBundle.getText("easyAccessErrorGetDataErrorMsg",[t,e])}return this.translationBundle.getText("easyAccessErrorGetDataErrorMsgNoReason",t)},getMenuItems:function(e,t,s,r,i){var a=new jQuery.Deferred;if(e!=="SAP_MENU"&&e!=="USER_MENU"){a.reject("Invalid menuType parameter");return a.promise()}if(typeof t!=="string"||t===""){a.reject("Invalid systemId parameter");return a.promise()}if(typeof s!=="string"){a.reject("Invalid entityId parameter");return a.promise()}if(typeof r!=="number"){a.reject("Invalid entityLevel parameter");return a.promise()}if(i&&typeof i!=="number"){a.reject("Invalid numberOfNextLevels parameter");return a.promise()}if(s===""){r=0}var n;var o=this.getView().getModel();var l=o.getProperty("/easyAccessNumbersOfLevels");if(l){n=l}else if(i){n=i}else{n=this.DEFAULT_NUMBER_OF_LEVELS}var u=r+n+1;var h=this._getODataRequestUrl(e,t,s,u);var c={requestUri:h};var d=this._callODataService(c,this.handleSuccessOnReadMenuItems,{systemId:t,entityId:s,iLevelFilter:u});d.done(function(e){a.resolve(e)});d.fail(function(e){a.reject(e)});return a.promise()},_callODataService:function(e,t,s){var r;var a;var n=new jQuery.Deferred;if(sap.ushell.Container){r=sap.ushell.Container.getUser().getLanguage();if(r&&e.requestUri.indexOf("sap-language=")<0){e.requestUri+=(e.requestUri.indexOf("?")>=0?"&":"?")+"sap-language="+r}var o=sap.ushell.Container.getLogonSystem();a=o&&o.getClient()}sap.ui.require(["sap/ui/thirdparty/datajs"],function(){i.read({requestUri:e.requestUri,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","Accept-Language":sap.ui.getCore().getConfiguration().getLanguage()||"","sap-client":a||"","sap-language":r||""}},function(e,r){if(e&&e.results&&r&&r.statusCode===200){var i=t.bind(this,e,s||{})();n.resolve(i)}}.bind(this),function(e){n.reject(e)})}.bind(this));return n.promise()},handleSuccessOnReadMenuItems:function(e,t){var s=this._oDataResultFormatter(e.results,t.systemId,t.entityId,t.iLevelFilter);return s},handleSuccessOnReadFilterResults:function(e){var t;e.results.forEach(function(e,s){t=this._appendSystemToUrl(e,this.systemId);e.url=t}.bind(this));return{results:e.results,count:e.__count}},_appendSystemToUrl:function(e,t){if(e.url){return e.url+(e.url.indexOf("?")>0?"&":"?")+"sap-system="+t}},_oDataResultFormatter:function(e,t,s,r){var i={};var a={};if(s===""){a={id:"root",text:"root",level:0,folders:[],apps:[]};i.root=a}else{a={id:s,folders:[],apps:[]};i[s]=a}var n;for(var o=0;o<e.length;o++){n=e[o];var l;if(n.level==="01"){l=i.root}else{l=i[n.parentId]}var u={id:n.Id,text:n.text,subtitle:n.subtitle,icon:n.icon,level:parseInt(n.level,10)};if(n.type==="FL"){u.folders=[];u.apps=[];if(n.level==r-1){u.folders=undefined;u.apps=undefined}if(l&&l.folders){l.folders.push(u)}i[n.Id]=u}else{u.url=this._appendSystemToUrl(n,t);if(l&&l.apps){l.apps.push(u)}}}return a},_getODataRequestUrl:function(e,t,s,r){var i=this._getServiceUrl(e);var a;if(r<10){a="0"+r}else{a=r.toString()}var n="";if(s){if(decodeURIComponent(s)===s){s=encodeURIComponent(s)}n="('"+s+"')/AllChildren"}i=i+";o="+t+"/MenuItems"+n+"?$filter=level lt '"+a+"'&$orderby=level,text";return i},_getODataRequestForSearchUrl:function(e,t,s,i){var a=this._getServiceUrl(e);var n=this.SEARCH_RESULTS_PER_REQUEST;s=this._removeWildCards(s);s=encodeURIComponent(s);i=!i?0:i;s=r.formatValue(s,"Edm.String");a=a+";o="+t+"/MenuItems?$filter=type ne 'FL' and ("+"substringof("+s+", text) or "+"substringof("+s+", subtitle) or "+"substringof("+s+", url)"+")"+"&$orderby=text,subtitle,url&$inlinecount=allpages&$skip="+i+"&$top="+n;return a},_getServiceUrl:function(e){var t;var s=this.getView().getModel();if(e==="SAP_MENU"){var r=s.getProperty("/sapMenuServiceUrl");if(r){t=r}else{t=this.DEFAULT_URL+"/EASY_ACCESS_MENU"}}else if(e==="USER_MENU"){var i=s.getProperty("/userMenuServiceUrl");if(i){t=i}else{t=this.DEFAULT_URL+"/USER_MENU"}}return t},_removeWildCards:function(e){return e.replace(/\*/g,"")}})});
},
	"sap/ushell/components/appfinder/EasyAccessView.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/View","sap/m/SplitApp","sap/ushell/resources"],function(e,s,t){"use strict";return e.extend("sap.ushell.components.appfinder.EasyAccessView",{createContent:function(i){this.oResourceBundle=t.i18n;this.setModel(this.getViewData().easyAccessSystemsModel,"easyAccessSystemsModel");this.setModel(this.getViewData().subHeaderModel,"subHeaderModel");this.setModel(this.getViewData().parentComponent.getModel());this.pHierarchyFolders=e.create({viewName:"module:sap/ushell/components/appfinder/HierarchyFoldersView",height:"100%",viewData:{navigateHierarchy:this.oController.navigateHierarchy.bind(i),easyAccessSystemsModel:this.getModel("easyAccessSystemsModel"),subHeaderModel:this.getModel("subHeaderModel")}}).then(function(e){this.hierarchyFolders=e;this.hierarchyFolders.addStyleClass("sapUshellHierarchyFolders");return e}.bind(this));var a=this.getViewData();this.pHierarchyApps=e.create({id:this.getId()+"hierarchyApps",viewName:"module:sap/ushell/components/appfinder/HierarchyAppsView",height:"100%",viewData:{navigateHierarchy:this.oController.navigateHierarchy.bind(i),menuName:a.menuName}}).then(function(e){this.hierarchyApps=e;return e}.bind(this));this.splitApp=new s;Promise.all([this.pHierarchyFolders,this.pHierarchyApps]).then(function(e){this.splitApp.addMasterPage(e[0]);this.splitApp.addDetailPage(e[1]);this.splitApp.setInitialMaster(e[0]);this.splitApp.setInitialDetail(e[1])}.bind(this));return this.splitApp},getControllerName:function(){return"sap.ushell.components.appfinder.EasyAccess"}})});
},
	"sap/ushell/components/appfinder/GroupListPopover.controller.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/library","sap/ushell/resources","sap/ui/Device","sap/ui/model/json/JSONModel"],function(e,o,t,r,i){"use strict";var s=o.ListMode;return e.extend("sap.ushell.components.appfinder.GroupListPopover",{onExit:function(){var e=this.getView();if(e._oListContainer){e._oListContainer.destroy()}if(e._oNewGroupItem){e._oNewGroupItem.destroy()}if(e._oNewGroupNameInput){e._oNewGroupNameInput.destroy()}if(e._oNewGroupHeader){e._oNewGroupHeader.destroy()}},initializeData:function(e){this.oPopoverModel=new i({userGroupList:e.groupData});this.oPopoverModel.setSizeLimit(9999);this.getView().oPopover.setModel(this.oPopoverModel)},_cancelButtonPress:function(){this.getView().oPopover.close()},_groupListItemClickHandler:function(e){var o=e.getParameter("listItem");if(o.data("newGroupItem")){this._navigateToCreateNewGroupPane();return}var t=e.getSource();if(t.getMode()===s.SingleSelectMaster){var r=this.getView();r.oPopover.close()}else{o.setSelected(!o.getSelected())}},_okayCancelButtonPress:function(){var e=this.getView();var o=e._getNewGroupInput();var t=o.getValue();if(t.length>0){this.sNewGroupId=t}e.oPopover.close()},_navigateToCreateNewGroupPane:function(){var e=this.getView();var o=e._getNewGroupHeader();var r=e._getNewGroupInput();e.oPopover.removeAllContent();e.oPopover.addContent(r);e.oPopover.setCustomHeader(o);e.oPopover.setContentHeight("");var i=e.oPopover.getEndButton();if(i){i.setVisible(true)}else{i=e._getCancelButton();e.oPopover.setEndButton(i)}e.oPopover.getBeginButton().setText(t.i18n.getText("okDialogBtn"));i.setText(t.i18n.getText("cancelBtn"));if(e.getViewData().singleGroupSelection){this._setFooterVisibility(true)}setTimeout(function(){r.focus()},0)},_afterCloseHandler:function(){var e=this.oPopoverModel.getProperty("/userGroupList");var o={addToGroups:[],removeFromGroups:[],newGroups:this.sNewGroupId?[this.sNewGroupId]:[],allGroups:e};var t;for(var r=0,i=e.length;r<i;++r){t=e[r];if(t.selected===t.initiallySelected){continue}if(t.selected){o.addToGroups.push(t.oGroup)}else{o.removeFromGroups.push(t.oGroup)}}var s=this.getView();s.deferred.resolve(o);s.destroy()},_backButtonHandler:function(){var e=this.getView();e.oPopover.removeAllContent();if(e.getViewData().singleGroupSelection){this._setFooterVisibility(false)}if(!r.system.phone){e.oPopover.setContentHeight("192px")}else{e.oPopover.setContentHeight("100%")}e.oPopover.setVerticalScrolling(true);e.oPopover.setHorizontalScrolling(false);e.oPopover.addContent(e._getListContainer());e.oPopover.setTitle(t.i18n.getText("addTileToGroups_popoverTitle"));e.oPopover.setCustomHeader();e._getNewGroupInput().setValue("");e.oPopover.getEndButton().setVisible(false);e.oPopover.getBeginButton().setText(t.i18n.getText("close"))},_setFooterVisibility:function(e){var o=sap.ui.getCore().byId("groupsPopover-footer");if(o){o.setVisible(e)}}})});
},
	"sap/ushell/components/appfinder/GroupListPopoverView.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/core/mvc/View","sap/m/ResponsivePopover","sap/ushell/resources","sap/m/ScrollContainer","sap/ui/Device","sap/m/StandardListItem","sap/m/List","sap/m/Input","sap/m/Button","sap/ui/core/IconPool","sap/m/Bar","sap/m/Label","sap/m/DisplayListItem","sap/m/library","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(jQuery,e,t,o,i,n,r,s,u,a,p,l,c,h,d,_,g){"use strict";var m=d.ListMode;var G=d.ListType;return e.extend("sap.ushell.components.appfinder.GroupListPopoverView",{getControllerName:function(){return"sap.ushell.components.appfinder.GroupListPopover"},createContent:function(e){this.oPopover=new t({id:"groupsPopover",placement:"Auto",title:o.i18n.getText("addTileToGroups_popoverTitle"),contentWidth:"20rem",beginButton:this._getCloseButton(),content:this._getListContainer(),afterClose:[e._afterCloseHandler,e]}).addStyleClass("sapContrastPlus");this.addDependent(this.oPopover);this.oPopover.setInitialFocus(this._getNewGroupListItem())},open:function(e){if(document.body.clientHeight-e.getDomRef().getBoundingClientRect().bottom>=310){this.oPopover.setPlacement("Bottom")}this.oPopover.openBy(e);if(this.getViewData().singleGroupSelection){this.getController()._setFooterVisibility(false)}this.deferred=jQuery.Deferred();return this.deferred.promise()},_getListContainer:function(){if(!this._oListContainer){var e=this._getGroupList();this._oListContainer=new i({id:"popoverContainer",horizontal:false,vertical:true,content:[e],height:n.system.phone?"100%":"190px"})}return this._oListContainer},_getNewGroupInput:function(){if(!this._oNewGroupNameInput){this._oNewGroupNameInput=new u("newGroupNameInput",{type:"Text",placeholder:o.i18n.getText("new_group_name")})}return this._oNewGroupNameInput},_getNewGroupHeader:function(){if(!this._oNewGroupHeader){var e=this.getController();var t=new a({icon:p.getIconURI("nav-back"),press:[e._backButtonHandler,e],tooltip:o.i18n.getText("newGroupGoBackBtn_tooltip")});t.addStyleClass("sapUshellCatalogNewGroupBackButton");this._oNewGroupHeader=new l("oHeadBar",{contentLeft:[t],contentMiddle:[new c({text:o.i18n.getText("newGroup_popoverTitle")})]})}return this._oNewGroupHeader},_getGroupList:function(){if(!this._oGroupList){var e=this.getController();var t=new h({label:"{oGroup/title}",selected:"{selected}",tooltip:"{oGroup/title}",type:G.Active});var o=[new _("oGroup/isGroupLocked",g.EQ,false)];var i=this.getViewData();if(i.enableHideGroups){o.push(new _("oGroup/isGroupVisible",g.EQ,true))}this._oGroupList=new s({mode:i.singleGroupSelection?m.SingleSelectMaster:m.MultiSelect,items:{path:"/userGroupList",template:t,filters:o,templateShareable:false},itemPress:[e._groupListItemClickHandler,e]});var n=this._getNewGroupListItem();this._oGroupList.addEventDelegate({onBeforeRendering:function(){this._oGroupList.insertAggregation("items",n,0,true)}.bind(this),onAfterRendering:function(){this._oGroupList.removeAggregation("items",n,true)}.bind(this)})}return this._oGroupList},_getNewGroupListItem:function(){if(!this._oNewGroupItem){this._oNewGroupItem=new r("newGroupItem",{title:o.i18n.getText("newGroup_listItemText"),type:G.Navigation});this._oNewGroupItem.data("newGroupItem",true);this._oNewGroupItem.getList=function(){return this._oGroupList}.bind(this);this._oNewGroupItem.getModeControl=function(){return null};this._oNewGroupItem.onsapspace=function(e){e.preventDefault();e.isMarked()};this._oNewGroupItem.addEventDelegate({onsaptabnext:function(e){e.preventDefault();e._bIsStopHandlers=true;this._getCloseButton().focus()}})}return this._oNewGroupItem},_getCancelButton:function(){if(!this._oCancelButton){var e=this.getController();this._oCancelButton=new a("cancelButton",{press:[e._cancelButtonPress,e],text:o.i18n.getText("cancelBtn")})}return this._oCancelButton},_getCloseButton:function(){if(!this._oCloseButton){var e=this.getController();this._oCloseButton=new a("closeButton",{press:[e._okayCancelButtonPress,e],text:o.i18n.getText("closeBtn")})}return this._oCloseButton}})});
},
	"sap/ushell/components/appfinder/HierarchyApps.controller.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/View","sap/ui/core/mvc/Controller","sap/ushell/components/CatalogsManager","sap/ui/thirdparty/jquery","sap/ui/core/library","sap/m/MessageToast","sap/ushell/resources"],function(e,t,r,jQuery,o,s,a){"use strict";return t.extend("sap.ushell.components.appfinder.HierarchyApps",{onInit:function(){var e=this.getView().getViewData().easyAccessSystemsModel;if(e){this.getView().setModel(e,"easyAccessSystems")}},getCrumbsData:function(e,t){var r=e.split("/");r.splice(r.length-2,2);var o=[];while(r.length){var s=r.join("/");var a=t.getProperty(s+"/text");o.unshift({text:a,path:s});r.splice(r.length-2,2)}return o},_updateAppBoxedWithPinStatuses:function(e){var t=this.getView();if(!e){e=t.layout.getBinding("items").getPath()}var r=t.getModel("easyAccess");var o=r.getProperty(e)?r.getProperty(e):[];this.getView().oVisualizationOrganizerHelper.updateBookmarkCount.call(this,o).then(function(t){r.setProperty(e,t)})},updateBookmarkCount:function(e){return sap.ushell.Container.getServiceAsync("Bookmark").then(function(t){var r=e.map(function(e){return t.countBookmarks(e.url).then(function(t){e.bookmarkCount=t;return e})});return new Promise(function(e){jQuery.when.apply(jQuery,r).then(function(){var t=Array.prototype.slice.call(arguments);e(t)})})})},updatePageBindings:function(e){this.getView().layout.bindAggregation("items","easyAccess>"+e+"/apps",this.getView().oItemTemplate);this._updateAppBoxedWithPinStatuses(e+"/apps");this.getView().breadcrumbs.bindProperty("currentLocationText","easyAccess>"+e+"/text");var t=this.getCrumbsData(e,this.getView().getModel("easyAccess"));this.getView().crumbsModel.setProperty("/crumbs",t);var r=this.getView().getModel("easyAccess").getProperty(e+"/apps");this.getView().updateResultSetMessage(r.length,false)},onAppBoxPressed:function(e){if(e.mParameters.srcControl.$().closest(".sapUshellPinButton").length){return}var t=e.getSource().getProperty("url");if(t&&t.indexOf("#")===0){hasher.setHash(t)}},_handleSuccessMessage:function(e,t){var r;var o=t.addToGroups?t.addToGroups.length:0;var n=t.newGroups?t.newGroups.length:0;var i=o+n;if(i===1){var u;if(o===1){u=t.addToGroups[0].title}else{u=t.newGroups[0]}r=a.i18n.getText("appAddedToSingleGroup",[e.text,u])}else{r=a.i18n.getText("appAddedToSeveralGroups",[e.text,i])}if(i>0){s.show(r,{duration:3e3,width:"15em",my:"center bottom",at:"center bottom",of:window,offset:"0 -50",collision:"fit fit"})}return r},_prepareErrorMessage:function(e,t){var r,o,s,n=0,i=false,u;for(var p in e){r=e[p].group;o=e[p].action;if(o==="addBookmark_ToExistingGroup"){n++;if(n===1){s=r.title}}else if(o==="addBookmark_ToNewGroup"){n++;if(n===1){s=r}}else{i=true}}if(i){if(e.length===1){u=a.i18n.getText({messageId:"fail_tile_operation_create_new_group"})}else{u=a.i18n.getText({messageId:"fail_tile_operation_some_actions"})}}else if(e.length===1){u=a.i18n.getText({messageId:"fail_app_operation_add_to_group",parameters:[t,s]})}else{u=a.i18n.getText({messageId:"fail_app_operation_add_to_several_groups",parameters:[t]})}return u},_handleBookmarkAppPopoverResponse:function(e,t){var r=[];t.newGroups.forEach(function(t){r.push(this._createGroupAndAddBookmark(t,e))}.bind(this));t.addToGroups.forEach(function(t){r.push(this._addBookmark(t,e))}.bind(this));return jQuery.when.apply(jQuery,r).then(function(){var r=Array.prototype.slice.call(arguments);this._handlePopoverGroupsActionPromises(e,t,r)}.bind(this))},_handlePopoverGroupsActionPromises:function(e,t,o){var s=o.filter(function(e,t,r){return!e.status});if(s.length){var a=this._prepareErrorMessage(s,e.text);var n=r.prototype.getInstance();n.notifyOnActionFailure(a.messageId,a.parameters);return}this._updateAppBoxedWithPinStatuses();this._handleSuccessMessage(e,t)},_createGroupAndAddBookmark:function(e,t){var o=r.prototype.getInstance();var s=jQuery.Deferred(),a={};var n=o.createGroup(e);n.done(function(r){var o=this._addBookmark(r.getObject(),t,true);o.done(function(e){s.resolve(e)}).fail(function(){a={group:e,status:0,action:"addBookmark_ToNewGroup"};s.resolve(a)})}.bind(this)).fail(function(){a={group:e,status:0,action:"addBookmark_NewGroupCreation"};s.resolve(a)});return s.promise()},_addBookmark:function(e,t,r){var o=jQuery.Deferred(),s={};sap.ushell.Container.getServiceAsync("Bookmark").then(function(a){var n=a.addBookmark({url:t.url,title:t.text,subtitle:t.subtitle,icon:t.icon},e.object);var i=r?"addBookmark_ToNewGroup":"addBookmark_ToExistingGroup";n.done(function(){s={group:e,status:1,action:i};o.resolve(s)}).fail(function(){s={group:e,status:0,action:i};o.resolve(s)})});return o.promise()},showSaveAppPopover:function(e){this.getView().oVisualizationOrganizerHelper.onHierarchyAppsPinButtonClick.call(this,e).then(function(e){if(e){this._updateAppBoxedWithPinStatuses()}}.bind(this))},showGroupListPopover:function(t){var r=this.getView().getModel();var o=t.oSource.getParent().getBinding("title").getContext().getObject();var s=t.oSource;if(r.getProperty("/groupContext").path){var a=r.getProperty("/groupContext").path;var n=r.getProperty(a);var i={newGroups:[],addToGroups:[n]};this._handleBookmarkAppPopoverResponse(o,i);return}var u=r.getProperty("/groups").map(function(e){return{selected:false,initiallySelected:false,oGroup:e}});e.create({viewName:"module:sap/ushell/components/appfinder/GroupListPopoverView",viewData:{enableHideGroups:r.getProperty("/enableHideGroups"),enableHelp:r.getProperty("/enableHelp"),singleGroupSelection:true}}).then(function(e){e.getController().initializeData({groupData:u});var t=e.open(s);t.then(this._handleBookmarkAppPopoverResponse.bind(this,o));this.getView().addDependent(e);return e}.bind(this))},resultTextFormatter:function(e,t){var r=a.i18n;if(e){var o=e.systemName?e.systemName:e.systemId;var s="";if(t){s=r.getText("search_easy_access_results",[t,o])}return s}return""},showMoreResultsVisibilityFormatter:function(e,t){if(e&&e.length<t){return true}return false},showMoreResultsTextFormatter:function(e,t){if(!e||!t){return""}var r=e.length;return a.i18n.getText("EasyAccessSearchResults_ShowMoreResults",[r,t])}})},true);
},
	"sap/ushell/components/appfinder/HierarchyAppsView.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/library","sap/ui/core/mvc/View","sap/ushell/ui/appfinder/AppBox","sap/ushell/ui/appfinder/PinButton","sap/ushell/resources","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/m/FlexBox","sap/m/library","sap/m/Page","sap/m/PageAccessibleLandmarkInfo","sap/m/MessagePage","sap/ui/model/json/JSONModel","sap/m/Link","sap/m/Breadcrumbs","sap/m/Text","sap/m/Title","sap/m/Button","sap/ushell/components/appfinder/VisualizationOrganizerHelper"],function(e,t,s,a,i,o,r,n,l,p,u,c,h,m,d,g,y,f){"use strict";var b=n.ButtonType;var T=n.FlexWrap;var x=e.TitleLevel;var A=e.AccessibleLandmarkRole;return t.extend("sap.ushell.components.appfinder.HierarchyAppsView",{oVisualizationOrganizerHelper:f.getInstance(),createContent:function(e){this.oController=e;var t=new a({icon:{path:"easyAccess>bookmarkCount",formatter:this.oVisualizationOrganizerHelper.formatBookmarkPinButtonIcon},type:{path:"easyAccess>bookmarkCount",formatter:this.oVisualizationOrganizerHelper.formatBookmarkPinButtonType},selected:{path:"easyAccess>bookmarkCount",formatter:this.oVisualizationOrganizerHelper.formatBookmarkPinButtonSelectState.bind(this)},tooltip:{parts:["associatedGroups","easyAccess>bookmarkCount","/groupContext/path","/groupContext/id","/groupContext/title"],formatter:this.oVisualizationOrganizerHelper.formatBookmarkPinButtonTooltip.bind(this)},press:e.showSaveAppPopover.bind(e)});t.addCustomData(new o({key:"tabindex",value:"-1",writeToDom:true}));t.addStyleClass("sapUshellPinButton");this.oItemTemplate=new s({title:"{easyAccess>text}",subtitle:"{easyAccess>subtitle}",url:"{easyAccess>url}",icon:"{easyAccess>icon}",pinButton:t,press:[e.onAppBoxPressed,e]});this.oItemTemplate.addCustomData(new o({key:"tabindex",value:"-1",writeToDom:true}));this.layout=new r(this.getId()+"_hierarchyAppsLayout",{items:{path:"easyAccess>/apps",template:this.oItemTemplate},wrap:T.Wrap});this.layout.addDelegate({onAfterRendering:function(){var e=this.getItems();var t=function(e){if(e.getKey()==="tabindex"){e.setValue("0")}};if(e.length){e[0].getCustomData().forEach(t);e[0].getPinButton().getCustomData().forEach(t)}}.bind(this.layout)});this.oMessagePage=new u({visible:false,showHeader:false,text:i.i18n.getText("EasyAccessMenu_NoAppsToDisplayMessagePage_Text"),description:""});var n=this.getViewData();var d=n.menuName==="USER_MENU"?"appFinderUserMenuTitle":"appFinderSapMenuTitle";var f=new l({showHeader:false,landmarkInfo:new p({contentLabel:i.i18n.getText(d),contentRole:A.Region})}).addStyleClass("sapUshellAppsView sapUiContentPadding");if(n&&n.navigateHierarchy){this.crumbsModel=new c({crumbs:[]});this.linkTemplate=new h({text:"{crumbs>text}",press:function(e){var t=e.oSource.getBinding("text").getContext().getObject();n.navigateHierarchy(t.path,false)}});this.breadcrumbs=new m({links:{path:"crumbs>/crumbs",template:this.linkTemplate},currentLocationText:"{/text}"});this.breadcrumbs.setModel(this.crumbsModel,"crumbs");f.addContent(this.breadcrumbs)}else{this.resultText=new g({text:{parts:[{path:"easyAccessSystemsModel>/systemSelected"},{path:"easyAccess>/total"}],formatter:e.resultTextFormatter.bind(e)},level:x.H3}).addStyleClass("sapUiTinyMarginTop sapUiSmallMarginBottom sapUshellEasyAccessSearchResultText");f.addContent(this.resultText);this.showMoreResultsLink=new y({text:{parts:[{path:"easyAccess>/apps"},{path:"easyAccess>/total"}],formatter:e.showMoreResultsTextFormatter.bind(e)},press:n.getMoreSearchResults,visible:{parts:[{path:"easyAccess>/apps"},{path:"easyAccess>/total"}],formatter:e.showMoreResultsVisibilityFormatter.bind(e)},type:b.Transparent})}f.addContent(this.oMessagePage);f.addContent(this.layout);if(this.showMoreResultsLink){f.addContent(this.showMoreResultsLink)}return f},formatPinButtonTooltip:function(e,t,s,a,o){var r=i.i18n,n;if(s){var l=e?Array.prototype.indexOf.call(e,a):-1;var p=l!==-1?"removeAssociatedTileFromContextGroup":"addAssociatedTileToContextGroup";n=r.getText(p,o)}else{n=t?r.getText("EasyAccessMenu_PinButton_Toggled_Tooltip"):r.getText("EasyAccessMenu_PinButton_UnToggled_Tooltip")}return n},updateResultSetMessage:function(e,t){var s;if(t){s="noFilteredItems"}else{s="EasyAccessMenu_NoAppsToDisplayMessagePage_Text"}if(e){if(t){this.resultText.updateProperty("text");this.resultText.setVisible(true)}this.layout.setVisible(true);this.oMessagePage.setVisible(false)}else{if(t){this.resultText.setVisible(false)}this.layout.setVisible(false);this.oMessagePage.setVisible(true);var a=i.i18n.getText(s);this.oMessagePage.setText(a)}},setShowMoreResultsBusy:function(e){if(this.showMoreResultsLink){this.showMoreResultsLink.setBusy(e)}},getControllerName:function(){return"sap.ushell.components.appfinder.HierarchyApps"}})},true);
},
	"sap/ushell/components/appfinder/HierarchyFolders.controller.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/Controller","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/model/FilterOperator","sap/ui/model/Filter","sap/m/StandardListItem","sap/m/SelectDialog","sap/ui/core/Component"],function(e,t,jQuery,s,i,r,n,o){"use strict";return e.extend("sap.ushell.components.appfinder.HierarchyFolders",{onInit:function(){this.oDialog=null;this.getView().setModel(this.getView().getViewData().easyAccessSystemsModel,"easyAccessSystems");this.getView().setModel(this.getView().getViewData().subHeaderModel,"subHeaderModel");this.getSelectedSystem().then(function(e){if(e){this.setSystemSelected(e)}else{this.setSystemSelected(undefined);this.onSystemSelectionPress()}}.bind(this),function(){this.setSystemSelected(undefined);this.onSystemSelectionPress()})},onExit:function(){if(this.oDialog){this.destroyDialog()}},onAfterRendering:function(){var e=jQuery("#"+this.getView().getId());e.on("click",function(){this.exitSearchMode()}.bind(this))},getPersonalizer:function(){if(!this.oPersonalizerPromise){this.oPersonalizerPromise=sap.ushell.Container.getServiceAsync("Personalization").then(function(e){var t=o.getOwnerComponentFor(this),s={keyCategory:e.constants.keyCategory.FIXED_KEY,writeFrequency:e.constants.writeFrequency.LOW,clientStorageAllowed:true},i={container:"appfinder.HierarchyFolders",item:"lastSelectedSystem"};return e.getPersonalizer(i,s,t)}.bind(this))}return this.oPersonalizerPromise},getSelectedSystem:function(){var e=new jQuery.Deferred,t=this.getView().getModel("easyAccessSystems").getProperty("/systemsList");if(t&&t.length&&t.length===1){var s=t[0];this.setSystemSelectedInPersonalization(s);e.resolve(s)}else{this.getSelectedSystemInPersonalization().then(function(s){if(s){var i=false;for(var r=0;r<t.length;r++){if(t[r].systemName&&t[r].systemName===s.systemName||t[r].systemId===s.systemId){i=true;e.resolve(s)}}if(!i){e.resolve();this.setSystemSelectedInPersonalization()}}else{e.resolve()}}.bind(this))}return e.promise()},setSystemSelected:function(e){this.getView().getModel("easyAccessSystems").setProperty("/systemSelected",e);this.setSystemSelectedInPersonalization(e)},getSelectedSystemInPersonalization:function(){var e=new jQuery.Deferred;this.getPersonalizer().then(function(s){s.getPersData().then(function(t){if(t){e.resolve(t)}else{e.resolve()}},function(s){t.error("Failed to get selected system from the personalization",s,"sap.ushell.components.appfinder.HierarchyFolders");e.reject()})});return e.promise()},setSystemSelectedInPersonalization:function(e){this.getPersonalizer().then(function(s){s.setPersData(e).fail(function(e){t.error("Failed to save selected system in the personalization",e,"sap.ushell.components.appfinder.HierarchyFolders")})})},onSystemSelectionPress:function(){var e=this.getView().getModel("easyAccessSystems").getProperty("/systemsList");if(e&&e.length&&e.length<=1){return}var t=this.createDialog();t.open()},createDialog:function(){var e=this;if(!this.oDialog){this.oDialog=new n({id:"systemSelectionDialog",title:e.getView().translationBundle.getText("easyAccessSelectSystemDialogTitle"),multiSelect:false,contentHeight:"20rem",items:{path:"/systemsList",template:new r({adaptTitleSize:false,title:{parts:["systemName","systemId"],formatter:e.titleFormatter},description:{parts:["systemName","systemId"],formatter:e.descriptionFormatter},selected:{parts:["systemName","systemId"],formatter:e.selectedFormatter.bind(this)}})},confirm:e.systemConfirmHandler.bind(e),search:e.systemSearchHandler.bind(e),cancel:e.destroyDialog.bind(e)});this.oDialog.setModel(this.getView().getModel("easyAccessSystems"))}return this.oDialog},destroyDialog:function(){this.oDialog.destroyItems();this.oDialog.destroy();this.oDialog=null},systemConfirmHandler:function(e){var t=e.getParameters().selectedItem,s=t.getBindingContext().getObject();this.setSystemSelected(s);this.destroyDialog()},systemSearchHandler:function(e){var t=e.getParameter("value"),r=new sap.ui.model.Filter("systemName",s.Contains,t),n=new sap.ui.model.Filter("systemId",s.Contains,t),o=new i({filters:[n,r],and:false}),a=e.getSource().getBinding("items");a.filter(o)},titleFormatter:function(e,t){return e||t},descriptionFormatter:function(e,t){if(e){return t}return null},selectedFormatter:function(e,t){var s=this.getView().getModel("easyAccessSystems").getProperty("/systemSelected");if(!s){return false}if(e){return s.systemName===e&&s.systemId===t}return s.systemId===t},systemSelectorTextFormatter:function(e){if(e){if(e.systemName){return e.systemName}return e.systemId}return this.getView().translationBundle.getText("easyAccessSelectSystemTextWithoutSystem")},exitSearchMode:function(){var e=this.getView().getModel("subHeaderModel");e.setProperty("/search/searchMode",false);e.refresh(true)}})},true);
},
	"sap/ushell/components/appfinder/HierarchyFoldersView.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/View","sap/m/Button","sap/m/Label","sap/m/Bar","sap/m/Page","sap/m/library","sap/m/List","sap/m/StandardListItem","sap/m/Text","sap/ushell/resources"],function(e,t,s,a,n,i,o,r,l,c){"use strict";var h=i.ButtonType;var d=i.ListSeparators;return e.extend("sap.ushell.components.appfinder.HierarchyFoldersView",{createContent:function(e){var i=this;this.translationBundle=c.i18n;this.treePath="";this.lastFocusID=document.URL.substring(document.URL.lastIndexOf("&/")+2)+"-button";this.systemSelectorText=new l({text:{path:"easyAccessSystemsModel>/systemSelected",formatter:e.systemSelectorTextFormatter.bind(e)}});this.oItemTemplate=new r({title:"{easyAccess>text}",type:"Navigation",press:function(){var e=i.pageMenu.$().find(".sapMBarLeft button");if(!e.length){i.lastFocusID=document.activeElement.getAttribute("id")}var t=this.getBindingContextPath();i.getViewData().navigateHierarchy(t,true)}});this.oList=new o({showSeparators:d.None,items:{path:"easyAccess>"+this.treePath+"/folders",template:this.oItemTemplate},updateFinished:function(){var e=this.getItems();i.finishEasyAccessAnimation(true);e.forEach(function(e){e.onsapspace=e.onsapenter})},noDataText:{path:"easyAccessSystemsModel>/systemSelected",formatter:function(e){if(e){return i.translationBundle.getText("easyAccessFolderWithNoItems")}}}});this._navBackButton=new t({tooltip:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("PAGE_NAVBUTTON_TEXT"),type:h.Back,visible:false,press:function(){var e=this.treePath.split("/");var t=e.slice(0,e.length-2);this.getViewData().navigateHierarchy(t.join("/"),false)}.bind(this)});this.pageMenu=new n({enableScrolling:true,headerContent:new a({contentLeft:[this._navBackButton,new s({text:{parts:["easyAccessSystemsModel>/systemSelected"],formatter:e.systemSelectorTextFormatter.bind(e)}})],contentRight:[new t({text:this.translationBundle.getText("easyAccessSelectSystemDialogTitle"),type:h.Transparent,visible:{path:"easyAccessSystemsModel>/systemsList",formatter:function(e){return e.length>1}},press:[e.onSystemSelectionPress,e]})]}).addStyleClass("sapUshellEasyAccessMasterPageHeader"),content:this.oList});return this.pageMenu},getControllerName:function(){return"sap.ushell.components.appfinder.HierarchyFolders"},finishEasyAccessAnimation:function(){if(!this.jqFolderClone){return}if(this.forwardAnimation){this.pageMenu.$().addClass("forwardToViewAnimation");this.jqFolderClone.addClass("forwardOutOfViewAnimation")}else{this.pageMenu.$().addClass("backToViewAnimation");this.jqFolderClone.addClass("backOutOfViewAnimation")}this.jqFolderClone.on("animationend",function(){this.pageMenu.$().removeClass("forwardToViewAnimation backToViewAnimation");var e=this.pageMenu.$().find(".sapMBarLeft button");if(e.length){e.focus()}else{setTimeout(function(){document.querySelector("#"+this.lastFocusID).focus()}.bind(this))}if(this.jqFolderClone){this.jqFolderClone.remove()}}.bind(this))},prepareEasyAccessAnimation:function(e){this.forwardAnimation=e;this.jqFolderClone=this.pageMenu.$().clone().removeAttr("data-sap-ui").css("z-index","1");this.jqFolderClone.find("*").removeAttr("id");this.pageMenu.$().parent().append(this.jqFolderClone)},updatePageBindings:function(e,t){var s=e.split("/").length>2;this.treePath=e;this._navBackButton.setVisible(s);this.pageMenu.setShowSubHeader(!s);this.prepareEasyAccessAnimation(t);this.oList.bindItems("easyAccess>"+e+"/folders",this.oItemTemplate)}})},true);
},
	"sap/ushell/components/appfinder/VisualizationOrganizerHelper.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/m/library","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources"],function(t,n,e,i){"use strict";var o=t.ButtonType;var r;function u(){return sap.ui.getCore().byId("catalogView")}function s(){return sap.ui.getCore().byId("appFinderView")}function a(){var t,r,a=null;function l(){return n.last("/core/spaces/enabled")}function f(){if(t){return Promise.resolve(t)}r=r||new Promise(function(n){sap.ui.require(["sap/ushell/components/visualizationOrganizer/Component"],function(e){t=new e;n(t)})});return r}function c(){var n=u();if(!n){return}n.setBusy(true);return f().then(function(t){return t.requestData()}).then(function(){if(this.oModel){this.oModel.updateBindings(true)}var n=s();if(n&&t.getPersonalizablePages().length===1){var e=i.i18n.getText("VisualizationOrganizer.PageContextTitle",t.getPersonalizablePages()[0].title);n.getController()._updateShellHeader(e)}}.bind(this)).finally(function(){n.setBusy(false)})}if(l()){this.oDoable=e.on("trackHashChange").do(function(t){if(l()&&t==="Shell-appFinder"){c.call(this)}}.bind(this))}this.setModel=function(t){this.oModel=t};this.loadAndUpdate=function(){return c.call(this)};this.formatPinButtonTooltip=function(n,e,i){if(!l()){return this.formatPinButtonTooltip(n,e)}return t.formatPinButtonTooltip(i,a)};this.formatPinButtonSelectState=function(){if(!l()){return this.formatPinButtonSelectState.apply(this,arguments)}return false};this.formatPinButtonIcon=function(n){if(!l()){return"sap-icon://pushpin-off"}return t.formatPinButtonIcon(n,!!a)};this.formatPinButtonType=function(n){if(!l()){return o.Default}return t.formatPinButtonType(n,!!a)};this.onTilePinButtonClick=function(n){if(!l()){this.getController().onTilePinButtonClick(n);return}t.onTilePinButtonClick(n,a)};this.getNavigationContext=function(){if(!l()){return this.getGroupContext.apply(this,arguments)}if(a){return{pageID:encodeURIComponent(a.pageID),sectionID:encodeURIComponent(a.sectionID)}}return null};this.getNavigationContextAsText=function(){if(!l()){return this.getGroupNavigationContext.apply(this,arguments)}if(a){return JSON.stringify({pageID:encodeURIComponent(a.pageID),sectionID:encodeURIComponent(a.sectionID)})}return null};this.updateModelWithContext=function(n){if(!l()){this._updateModelWithGroupContext.apply(this,arguments);return Promise.resolve()}return f().then(function(){return t.loadSectionContext(n)}).then(function(t){a=t;this.oView.getModel().updateBindings(true);if(a){var n=a.sectionTitle?i.i18n.getText("VisualizationOrganizer.AppFinderSectionContextTitle",a.sectionTitle):i.i18n.getText("VisualizationOrganizer.AppFinderSectionContextTitle",a.pageTitle);this.oView.oPage.setTitle(n);if(this._updateShellHeader){return new Promise(function(t){setTimeout(function(){this._updateShellHeader(n);t()}.bind(this),0)}.bind(this))}}return Promise.resolve()}.bind(this))};this._loadVisualizationOrganizer=f;this._setSectionContext=function(t){a=t};this.exit=function(){if(this.oDoable){this.oDoable.off();this.oDoable=null}};this.onHierarchyAppsPinButtonClick=function(n){if(!l()){this.showGroupListPopover(n);return Promise.resolve(false)}return t.onHierarchyAppsPinButtonClick(n,a)};this.formatBookmarkPinButtonTooltip=function(n,e,i,o,r){if(!l()){return this.formatPinButtonTooltip(n,e,i,o,r)}return t.formatBookmarkPinButtonTooltip(e,a)};this.formatBookmarkPinButtonSelectState=function(t){if(!l()){return!!t}return false};this.formatBookmarkPinButtonIcon=function(t){if(!l()){return"sap-icon://pushpin-off"}return t>0?"sap-icon://accept":"sap-icon://add"};this.formatBookmarkPinButtonType=function(t){if(!l()){return o.Default}return t>0?o.Emphasized:o.Default};this.updateBookmarkCount=function(n){if(!l()){return this.updateBookmarkCount(n)}return t.updateBookmarkCount(n,a)};this.shouldPinButtonBeVisible=function(){return new Promise(function(t){var e=n.last("/core/shell/enablePersonalization");if(!l()||e){t(e)}else if(!n.last("/core/spaces/myHome/enabled")){t(false)}else{sap.ushell.Container.getServiceAsync("UserInfo").then(function(n){t(n.getUser().getShowMyHome())})}})}}return{getInstance:function(){if(!r){r=new a}return r},_getConstructor:function(){return a},destroy:function(){if(r){r.exit()}r=null}}});
},
	"sap/ushell/components/appfinder/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ushell.components.appfinder","applicationVersion":{"version":"1.108.31"},"i18n":{"bundleUrl":"../../renderers/fiori2/resources/resources.properties","fallbackLocale":"en"},"ach":"CA-FLP-FE-COR","type":"component","title":"{{Component.AppFinder.Title}}","resources":"resources.json"},"sap.ui":{"fullWidth":true,"hideLightBackground":true,"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"componentName":"sap.ushell.components.appfinder","rootView":{"viewName":"module:sap/ushell/components/appfinder/AppFinderView","async":true},"dependencies":{"minUI5Version":"1.30","libs":{"sap.ui.core":{},"sap.m":{}}},"routing":{"config":{"routerClass":"sap.m.routing.Router","controlId":"catalogViewMasterDetail","controlAggregation":"detailPages","clearAggregation":false,"async":true},"routes":[{"name":"userMenu","pattern":"userMenu/:filters:"},{"name":"sapMenu","pattern":"sapMenu/:filters:"},{"name":"catalog","pattern":["catalog/:filters:","",":filters:"]}]},"contentDensities":{"compact":true,"cozy":true}}}'
});
//# sourceMappingURL=Component-preload.js.map
