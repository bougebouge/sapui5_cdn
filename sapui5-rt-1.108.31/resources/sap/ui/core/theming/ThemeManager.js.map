{"version":3,"file":"ThemeManager.js","names":["sap","ui","define","Global","Element","Configuration","Device","EventProvider","Log","assert","each","LoaderExtensions","ActivityDetection","includeStylesheet","ThemeHelper","oThemeManager","maxThemeCheckCycles","mAllLoadedLibraries","CUSTOMCSSCHECK","ThemeManager","extend","constructor","apply","this","arguments","_iCount","_CUSTOMID","_customCSSAdded","_themeCheckedForCustom","_sFallbackTheme","_mThemeFallback","setupThemes","themeLoaded","metadata","events","ThemeChanged","checkThemeChanged","reset","delayedCheckTheme","_sThemeCheckId","fireThemeChanged","prototype","clearTimeout","checkTheme","sThemeName","getTheme","sPath","_getThemePath","bIsStandardTheme","indexOf","res","aFailedLibs","checkLib","lib","sStyleId","currentRes","checkAndRemoveStyle","prefix","id","document","getElementById","checkCustom","sCustomCssPath","sLibCssQueryParams","getLibraryCssQueryParams","debug","oCustomCssLink","querySelector","remove","oStyle","getAttribute","sheet","hasSheetCssRules","push","length","sLib","oThemeMetaData","getMetadata","Extends","forEach","warning","updateThemeUrl","cssFile","window","style","getComputedStyle","content","getPropertyValue","browser","safari","html","documentElement","classList","add","substring","e","error","aRules","safeAccessSheetCssRules","i","test","selectorText","bFirst","bEmergencyExit","iDelay","setTimeout","fnAddFoucmarker","sLinkId","oLink","dataset","sapUiFoucmarker","_includeLibraryThemeAndEnsureThemeRoot","oLibThemingInfo","sLibName","name","_ensureThemeRoot","getValue","includeLibraryTheme","variant","sVariant","vQueryOrLibInfo","undefined","sQuery","sCssVars","sRtl","getRTL","sLibFileName","sLibId","sSkeletonLinkId","bCssVariables","sCssBasePath","URL","sTheme","baseURI","toString","oTmpLink","createElement","href","sCssPathAndName","sCssVariablesPathAndName","info","Parameters","require","_addLibraryTheme","toUrl","replace","_mThemeRoots","path","registerResourcePath","setThemeRoot","aLibraryNames","sThemeBaseUrl","bForceUpdate","Array","isArray","slice","_updateThemeUrls","bSuppressFOUC","oQueryResult","querySelectorAll","call","oHTMLElement","iQueryIndex","search","sStandardLibFilePrefix","sRTL","sHref","pos","mLinkId","exec","lastIndexOf","applyTheme","bForce","sCurrentTheme","setTheme","oLibInfo","version","versioninfo","mThemeRoots","themeName","themeRoot","notifyContentDensityChanged","oParameters","ThemeParameters","_reset","theme","sEventId","oEvent","jQuery","Event","registry","oElement","_handleEvent","refresh","fireEvent"],"sources":["ThemeManager-dbg.js"],"mappings":"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"}