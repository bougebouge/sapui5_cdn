/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/util/ObjectPath","sap/base/util/UriParameters","sap/fe/core/helpers/ClassSupport","sap/fe/placeholder/library","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/Placeholder"],function(e,t,r,o,a,i,l){"use strict";var n,c,p,s,u,h,d,f,b,g;var P=r.publicExtension;var y=r.defineUI5Class;function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}function m(e,t){m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return m(e,t)}function O(e,t,r,o,a){var i={};Object.keys(o).forEach(function(e){i[e]=o[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=r.slice().reverse().reduce(function(r,o){return o(e,t,r)||r},i);if(a&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(a):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}var C=(n=y("sap.fe.core.controllerextensions.Placeholder"),c=P(),p=P(),s=P(),u=P(),h=P(),d=P(),f=P(),n(b=(g=function(r){v(o,r);function o(){return r.apply(this,arguments)||this}var i=o.prototype;i.attachHideCallback=function e(){if(this.isPlaceholderEnabled()){var r=this.base.getView();var o=r.getParent()&&r.getParent().oContainer;var a=o&&o.getParent();if(!a){return}var i={onAfterShow:function(e){if(e.isBackToPage){a.hidePlaceholder()}else if(t.fromQuery(window.location.hash.replace(/#.*\?/,"")).get("restoreHistory")==="true"){a.hidePlaceholder()}}};o.addEventDelegate(i);var l=r.getController().pageReady;var n=["pageReady"];if(r.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"){n.push("heroesBatchReceived")}n.forEach(function(e){l.attachEvent(e,null,function(){a.hidePlaceholder()},null)})}};i.attachRouteMatchers=function e(){this._init()};i._init=function e(){this.oAppComponent=this.base.getAppComponent();this.oRootContainer=this.oAppComponent.getRootContainer();this.oPlaceholders={};if(this.isPlaceholderEnabled()){l.registerProvider(function(e){switch(e.name){case"sap.fe.templates.ListReport":return{html:"sap/fe/placeholder/view/PlaceholderLR.fragment.html",autoClose:false};case"sap.fe.templates.ObjectPage":return{html:"sap/fe/placeholder/view/PlaceholderOP.fragment.html",autoClose:false};default:}})}if(this.isPlaceholderDebugEnabled()){this.initPlaceholderDebug()}};i.initPlaceholderDebug=function e(){var t=this;this.resetPlaceholderDebugStats();var r={apply:function(e){if(t.oRootContainer._placeholder&&t.oRootContainer._placeholder.placeholder){t.debugStats.iHidePlaceholderTimestamp=Date.now()}return e.bind(t.oRootContainer)()}};var o=new Proxy(this.oRootContainer.hidePlaceholder,r);this.oRootContainer.hidePlaceholder=o};i.isPlaceholderDebugEnabled=function e(){if(t.fromQuery(window.location.search).get("sap-ui-xx-placeholder-debug")==="true"){return true}return false};i.resetPlaceholderDebugStats=function e(){this.debugStats={iHidePlaceholderTimestamp:0,iPageReadyEventTimestamp:0,iHeroesBatchReceivedEventTimestamp:0}};i.getPlaceholderDebugStats=function e(){return this.debugStats};i.isPlaceholderEnabled=function t(){var r=e.get("sap-ushell-config.apps.placeholder.enabled");if(r===false){return false}return a.getConfiguration().getPlaceholder()};return o}(i),O(g.prototype,"attachHideCallback",[c],Object.getOwnPropertyDescriptor(g.prototype,"attachHideCallback"),g.prototype),O(g.prototype,"attachRouteMatchers",[p],Object.getOwnPropertyDescriptor(g.prototype,"attachRouteMatchers"),g.prototype),O(g.prototype,"initPlaceholderDebug",[s],Object.getOwnPropertyDescriptor(g.prototype,"initPlaceholderDebug"),g.prototype),O(g.prototype,"isPlaceholderDebugEnabled",[u],Object.getOwnPropertyDescriptor(g.prototype,"isPlaceholderDebugEnabled"),g.prototype),O(g.prototype,"resetPlaceholderDebugStats",[h],Object.getOwnPropertyDescriptor(g.prototype,"resetPlaceholderDebugStats"),g.prototype),O(g.prototype,"getPlaceholderDebugStats",[d],Object.getOwnPropertyDescriptor(g.prototype,"getPlaceholderDebugStats"),g.prototype),O(g.prototype,"isPlaceholderEnabled",[f],Object.getOwnPropertyDescriptor(g.prototype,"isPlaceholderEnabled"),g.prototype),g))||b);return C},false);
//# sourceMappingURL=Placeholder.js.map