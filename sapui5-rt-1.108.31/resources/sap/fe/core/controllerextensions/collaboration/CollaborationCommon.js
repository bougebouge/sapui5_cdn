/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/ui/core/Component","sap/ui/core/Core"],function(e,t){"use strict";var r={};var n;(function(e){e[e["NotYetInvited"]=0]="NotYetInvited";e[e["NoChangesMade"]=1]="NoChangesMade";e[e["ChangesMade"]=2]="ChangesMade";e[e["CurrentlyEditing"]=3]="CurrentlyEditing"})(n||(n={}));r.UserStatus=n;var o;(function(e){e["NoChanges"]="N";e["InProgress"]="P"})(o||(o={}));r.UserEditingState=o;var a;(function(e){e["Join"]="JOIN";e["JoinEcho"]="JOINECHO";e["Leave"]="LEAVE";e["Change"]="CHANGE";e["Create"]="CREATE";e["Delete"]="DELETE";e["Action"]="ACTION";e["LiveChange"]="LIVECHANGE";e["Activate"]="ACTIVATE";e["Discard"]="DISCARD";e["Undo"]="UNDO"})(a||(a={}));r.Activity=a;function i(e){var t=["Dr.","Prof.","Prof. Dr.","B.A.","MBA","Ph.D."];t.forEach(function(t){e=e.replace(t,"")});var r;var n=e.trimStart().split(" ");if(n.length>1){var o,a;r=((n===null||n===void 0?void 0:(o=n.shift())===null||o===void 0?void 0:o.charAt(0))||"")+((a=n.pop())===null||a===void 0?void 0:a.charAt(0))}else{r=e.substring(0,2)}return r.toUpperCase()}function u(e,t,r){var n=t.find(function(t){return t.id===e});if(n){return n.color}else{var o=function(e){if(t.findIndex(function(t){return t.color===e})===-1&&r.findIndex(function(t){return t.color===e})===-1){return{v:e}}};for(var a=1;a<=10;a++){var i=o(a);if(typeof i==="object")return i.v}return 10}}function c(t){if(t.isA("sap.fe.core.AppComponent")){return t}var r=e.getOwnerComponentFor(t);if(!r){return t}else{return c(r)}}function s(e){var t=c(e).getShellServices();if(!t||!t.hasUShell()){throw"No Shell... No User"}return{initials:t.getUser().getInitials(),id:t.getUser().getId(),name:"".concat(t.getUser().getFullName()," (").concat(l("C_COLLABORATIONDRAFT_YOU"),")"),initialName:t.getUser().getFullName(),color:6,me:true,status:n.CurrentlyEditing}}function l(e){var r=t.getLibraryResourceBundle("sap.fe.core");for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++){o[a-1]=arguments[a]}return r.getText(e,o)}r.getText=l;var v={formatInitials:i,getUserColor:u,getMe:s,getAppComponent:c,getText:l};r.CollaborationUtils=v;function f(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var r=e.getModel();var n=r.getMetaModel();var o=n.getMetaPath(e);var a=n.getObject("".concat(o,"@com.sap.vocabularies.Common.v1.DraftRoot/ShareAction"));var i=r.bindContext("".concat(a,"(...)"),e);i.setParameter("Users",t);i.setParameter("ShareAll",true);return i.execute()}r.shareObject=f;return r},false);
//# sourceMappingURL=CollaborationCommon.js.map