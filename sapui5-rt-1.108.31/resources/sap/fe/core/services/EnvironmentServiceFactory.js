/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/ui/core/Core","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/VersionInfo","../converters/MetaModelConverter"],function(e,t,i,n,r){"use strict";var a={};var o=r.DefaultEnvironmentCapabilities;function s(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return c(e,t)}var u=function(t){s(i,t);function i(){return t.apply(this,arguments)||this}a.EnvironmentCapabilitiesService=i;var r=i.prototype;r.init=function e(){var t=this;this.initPromise=new Promise(function(e,i){t.resolveFn=e;t.rejectFn=i});var i=this.getContext();this.environmentCapabilities=Object.assign({},o);n.load().then(function(e){t.environmentCapabilities.Chart=!!e.libraries.find(function(e){return e.name==="sap.viz"});t.environmentCapabilities.MicroChart=!!e.libraries.find(function(e){return e.name==="sap.suite.ui.microchart"});t.environmentCapabilities.UShell=!!(sap&&sap.ushell&&sap.ushell.Container);t.environmentCapabilities.IntentBasedNavigation=!!(sap&&sap.ushell&&sap.ushell.Container);t.environmentCapabilities=Object.assign(t.environmentCapabilities,i.settings);t.resolveFn(t)}).catch(this.rejectFn)};r.resolveLibrary=function t(i){return new Promise(function(t){try{e.loadLibrary("".concat(i.replace(/\./g,"/")),{async:true}).then(function(){t(true)}).catch(function(){t(false)})}catch(e){t(false)}})};r.setCapabilities=function e(t){this.environmentCapabilities=t};r.setCapability=function e(t,i){this.environmentCapabilities[t]=i};r.getCapabilities=function e(){return this.environmentCapabilities};r.getInterface=function e(){return this};return i}(t);a.EnvironmentCapabilitiesService=u;var p=function(e){s(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i.createInstance=function e(t){var i=new u(t);return i.initPromise};return t}(i);return p},false);
//# sourceMappingURL=EnvironmentServiceFactory.js.map