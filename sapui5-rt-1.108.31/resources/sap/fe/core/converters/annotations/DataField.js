/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/PropertyHelper"],function(a,e){"use strict";var t={};var i=e.isProperty;var o=e.getAssociatedUnitProperty;var n=e.getAssociatedTimezoneProperty;var r=e.getAssociatedCurrencyProperty;var l=a.getDisplayMode;function v(a){return a.hasOwnProperty("Action")}t.isDataFieldForActionAbstract=v;function d(a){return a.hasOwnProperty("Value")}t.isDataFieldTypes=d;function u(a){var e,t,i,o,n,r,l;return((e=a.annotations)===null||e===void 0?void 0:(t=e.UI)===null||t===void 0?void 0:(i=t.Hidden)===null||i===void 0?void 0:i.valueOf())===true||d(a)&&((o=a.Value)===null||o===void 0?void 0:(n=o.$target)===null||n===void 0?void 0:(r=n.annotations)===null||r===void 0?void 0:(l=r.UI)===null||l===void 0?void 0:l.Hidden)===true}t.isDataFieldAlwaysHidden=u;function c(a,e){if(typeof e==="object"){var t;if(d(e)&&(t=e.Value)!==null&&t!==void 0&&t.$target){var o,n,r;var l=(o=e.Value)===null||o===void 0?void 0:o.$target;if((l===null||l===void 0?void 0:(n=l.annotations)===null||n===void 0?void 0:(r=n.Common)===null||r===void 0?void 0:r.SemanticObject)!==undefined){return a.getEntitySetBasedAnnotationPath(l===null||l===void 0?void 0:l.fullyQualifiedName)}}else if(i(e)){var v,u;if((e===null||e===void 0?void 0:(v=e.annotations)===null||v===void 0?void 0:(u=v.Common)===null||u===void 0?void 0:u.SemanticObject)!==undefined){return a.getEntitySetBasedAnnotationPath(e===null||e===void 0?void 0:e.fullyQualifiedName)}}}return undefined}t.getSemanticObjectPath=c;function s(a){return a.indexOf("/")>-1?a.substring(0,a.lastIndexOf("/")+1):""}function p(a,e,t,i){if(t==="AnalyticalTable"){var o,n,r;var l=(o=a.annotations)===null||o===void 0?void 0:(n=o.UI)===null||n===void 0?void 0:n.Hidden;if(l!==null&&l!==void 0&&l.path&&((r=l.$target)===null||r===void 0?void 0:r._type)==="Property"){var v=e+l.path;i.additionalProperties[v]=l.$target}}return i}function g(a,e,t,i,v){var d=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{properties:{},additionalProperties:{},textOnlyPropertiesFromTextAnnotation:[]};var u=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;function c(a,e){if(!d.properties.hasOwnProperty(a)){d.properties[a]=e}return Object.keys(d.properties).indexOf(a)}function g(a){d.exportSettingsTemplate=d.exportSettingsTemplate?"".concat(d.exportSettingsTemplate).concat(a):"".concat(a)}if(a&&e){var f,m;var T=s(a);var y=(f=e.annotations)===null||f===void 0?void 0:(m=f.Common)===null||m===void 0?void 0:m.Text;var b;var $;var h;var D;if(d.exportSettingsTemplate){g("\n");d.exportSettingsWrapping=true}if(y!==null&&y!==void 0&&y.path&&y!==null&&y!==void 0&&y.$target){var F=t.getDataModelObjectPath();var I=T+y.path;var U=l(e,F);var P;switch(U){case"Value":b=c(a,e);g("{".concat(b,"}"));break;case"Description":P=c(I,y.$target);g("{".concat(P,"}"));d.textOnlyPropertiesFromTextAnnotation.push(y.path);break;case"ValueDescription":b=c(a,e);P=c(I,y.$target);g("{".concat(b,"} ({").concat(P,"})"));break;case"DescriptionValue":b=c(a,e);P=c(I,y.$target);g("{".concat(P,"} ({").concat(b,"})"));break}}else{var x,V,A,k,O,S,C,N,W,j,w,B,M;var z=r(e)||o(e);var H=(e===null||e===void 0?void 0:(x=e.annotations)===null||x===void 0?void 0:(V=x.Measures)===null||V===void 0?void 0:V.ISOCurrency)||(e===null||e===void 0?void 0:(A=e.annotations)===null||A===void 0?void 0:(k=A.Measures)===null||k===void 0?void 0:k.Unit);var E=n(e);var R=e===null||e===void 0?void 0:(O=e.annotations)===null||O===void 0?void 0:(S=O.Common)===null||S===void 0?void 0:S.Timezone;if(z&&H!==null&&H!==void 0&&H.$target){b=c(a,e);h=c(T+H.path,H.$target);if(u){g("{".concat(b,"}  {").concat(h,"}"))}else{d.exportUnitName=T+H.path}}else if(E&&R!==null&&R!==void 0&&R.$target){b=c(a,e);D=c(T+R.path,R.$target);if(u){g("{".concat(b,"}  {").concat(D,"}"))}else{d.exportTimezoneName=T+R.path}}else if((C=e.Target)!==null&&C!==void 0&&(N=C.$target)!==null&&N!==void 0&&N.Visualization){var Q=e.Target.$target.Value.$target;b=c(a,Q);c(e.Target.value,e.Target.$target);$=(e.Target.$target.TargetValue||e.Target.$target.MaximumValue).toString();g("{".concat(b,"}/").concat($))}else if(((W=e.annotations)===null||W===void 0?void 0:(j=W.UI)===null||j===void 0?void 0:(w=j.DataFieldDefault)===null||w===void 0?void 0:(B=w.Target)===null||B===void 0?void 0:(M=B.$target)===null||M===void 0?void 0:M.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){var G=e.annotations.UI.DataFieldDefault;b=c(a,e);c(G.Target.value,e);$=(G.Target.$target.TargetValue||G.Target.$target.TargetValue.MaximumValue).toString();g("{".concat(b,"}/").concat($))}else if(e.$Type==="com.sap.vocabularies.Communication.v1.ContactType"){var _,q;var J=(_=e.fn)===null||_===void 0?void 0:_.$target;var K=(q=e.fn)===null||q===void 0?void 0:q.path;b=c(T?T+K:K,J);g("{".concat(b,"}"))}else if(!i){b=c(a,e);g("{".concat(b,"}"));if(H){d.exportUnitString="".concat(H)}else if(R){d.exportTimezoneString="".concat(R)}}}d=p(e,T,v,d);if(Object.keys(d.additionalProperties).length>0&&Object.keys(d.properties).length===0){b=c(a,e);g("{".concat(b,"}"))}}return d}t.collectRelatedProperties=g;function f(a,e,t){var i,o,n;var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{properties:{},additionalProperties:{},textOnlyPropertiesFromTextAnnotation:[]};var l=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;switch(a===null||a===void 0?void 0:a.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":if(a.Value){var v=a.Value;r=g(v.path,v.$target,e,false,t,r,l);var d=s(v.path);r=p(a,d,t,r)}break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":switch((i=a.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.$Type){case"com.sap.vocabularies.UI.v1.FieldGroupType":(n=a.Target.$target.Data)===null||n===void 0?void 0:n.forEach(function(a){r=f(a,e,t,r,true)});break;case"com.sap.vocabularies.UI.v1.DataPointType":r=g(a.Target.$target.Value.path,a,e,false,t,r,l);break;case"com.sap.vocabularies.Communication.v1.ContactType":var u=a.Target.$target;r=g(a.Target.value,u,e,false,t,r,l);break;default:break}break;default:break}return r}t.collectRelatedPropertiesRecursively=f;var m=function(a){var e,t,i;var o=a.$Type;switch(o){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":o=undefined;break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":o=a===null||a===void 0?void 0:(e=a.Value)===null||e===void 0?void 0:(t=e.$target)===null||t===void 0?void 0:t.type;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":default:var n=(i=a.Target)===null||i===void 0?void 0:i.$target.$Type;if(n){var r,l;if(((r=a.Target)===null||r===void 0?void 0:r.$target.$Type)==="com.sap.vocabularies.Communication.v1.ContactType"){var v,d,u;o=(v=((d=a.Target)===null||d===void 0?void 0:(u=d.$target)===null||u===void 0?void 0:u.fn).$target)===null||v===void 0?void 0:v.type}else if(((l=a.Target)===null||l===void 0?void 0:l.$target.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){var c,s,p,g,f,m,T;o=((c=a.Target)===null||c===void 0?void 0:(s=c.$target)===null||s===void 0?void 0:(p=s.Value)===null||p===void 0?void 0:(g=p.$Path)===null||g===void 0?void 0:g.$Type)||((f=a.Target)===null||f===void 0?void 0:(m=f.$target)===null||m===void 0?void 0:(T=m.Value)===null||T===void 0?void 0:T.$target.type)}else{var y;o=((y=a.Target)===null||y===void 0?void 0:y.$target.$Type)==="com.sap.vocabularies.UI.v1.ChartDefinitionType"?undefined:"Edm.Boolean"}}else{o=undefined}break}return o};t.getDataFieldDataType=m;return t},false);
//# sourceMappingURL=DataField.js.map