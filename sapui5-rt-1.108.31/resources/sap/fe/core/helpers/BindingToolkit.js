/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["./AnnotationEnum"],function(e){"use strict";var r={};var n=e.resolveEnumValue;function t(e,r){return u(e)||o(e,r)||v(e,r)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o,u,i=[],s=!0,f=!1;try{if(o=(n=n.call(e)).next,0===r){if(Object(n)!==n)return;s=!1}else for(;!(s=(t=o.call(n)).done)&&(i.push(t.value),i.length!==r);s=!0){}}catch(e){f=!0,a=e}finally{try{if(!s&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(f)throw a}}return i}}function u(e){if(Array.isArray(e))return e}function i(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach(function(r){f(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f(e,r,n){r=c(r);if(r in e){Object.defineProperty(e,r,{value:n,enumerable:true,configurable:true,writable:true})}else{e[r]=n}return e}function c(e){var r=l(e,"string");return typeof r==="symbol"?r:String(r)}function l(e,r){if(typeof e!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var t=n.call(e,r||"default");if(typeof t!=="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function p(e){return m(e)||y(e)||v(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,r){if(!e)return;if(typeof e==="string")return h(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,r)}function y(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m(e){if(Array.isArray(e))return h(e)}function h(e,r){if(r==null||r>e.length)r=e.length;for(var n=0,t=new Array(r);n<r;n++){t[n]=e[n]}return t}var g={_type:"Unresolvable"};r.unresolveableExpression=g;function b(e){return e.replace(/'/g,"\\'")}function O(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}return r.find(function(e){return e._type==="Unresolvable"})!==undefined}r.hasUnresolveableExpression=O;function E(e,r){if(e._type!==r._type){return false}switch(e._type){case"Unresolvable":return false;case"Constant":case"EmbeddedBinding":case"EmbeddedExpressionBinding":return e.value===r.value;case"Not":return E(e.operand,r.operand);case"Truthy":return E(e.operand,r.operand);case"Set":return e.operator===r.operator&&e.operands.length===r.operands.length&&e.operands.every(function(e){return r.operands.some(function(r){return E(e,r)})});case"IfElse":return E(e.condition,r.condition)&&E(e.onTrue,r.onTrue)&&E(e.onFalse,r.onFalse);case"Comparison":return e.operator===r.operator&&E(e.operand1,r.operand1)&&E(e.operand2,r.operand2);case"Concat":var n=e.expressions;var t=r.expressions;if(n.length!==t.length){return false}return n.every(function(e,r){return E(e,t[r])});case"Length":return E(e.pathInModel,r.pathInModel);case"PathInModel":return e.modelName===r.modelName&&e.path===r.path&&e.targetEntitySet===r.targetEntitySet;case"Formatter":return e.fn===r.fn&&e.parameters.length===r.parameters.length&&e.parameters.every(function(e,n){return E(r.parameters[n],e)});case"ComplexType":return e.type===r.type&&e.bindingParameters.length===r.bindingParameters.length&&e.bindingParameters.every(function(e,n){return E(r.bindingParameters[n],e)});case"Function":var a=r;if(e.obj===undefined||a.obj===undefined){return e.obj===a}return e.fn===a.fn&&E(e.obj,a.obj)&&e.parameters.length===a.parameters.length&&e.parameters.every(function(e,r){return E(a.parameters[r],e)});case"Ref":return e.ref===r.ref}return false}r._checkExpressionsAreEqual=E;function _(e){return e.operands.reduce(function(r,n){var t=n._type==="Set"&&n.operator===e.operator?n.operands:[n];t.forEach(function(e){if(r.operands.every(function(r){return!E(r,e)})){r.operands.push(e)}});return r},{_type:"Set",operator:e.operator,operands:[]})}function P(e){var r=e.map($);return e.some(function(e,n){for(var t=n+1;t<r.length;t++){if(E(e,r[t])){return true}}return false})}function j(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}var t=_({_type:"Set",operator:"&&",operands:r.map(F)}).operands;if(O.apply(void 0,p(t))){return g}var a=false;var o=t.filter(function(e){if(L(e)){a=true}return!M(e)});if(a){return T(false)}else if(o.length===0){var u=t.reduce(function(e,r){return e&&k(r)},true);return T(u)}else if(o.length===1){return o[0]}else if(P(o)){return T(false)}else{return{_type:"Set",operator:"&&",operands:o}}}r.and=j;function w(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}var t=_({_type:"Set",operator:"||",operands:r.map(F)}).operands;if(O.apply(void 0,p(t))){return g}var a=false;var o=t.filter(function(e){if(k(e)){a=true}return!M(e)||e.value});if(a){return T(true)}else if(o.length===0){var u=t.reduce(function(e,r){return e&&k(r)},true);return T(u)}else if(o.length===1){return o[0]}else if(P(o)){return T(true)}else{return{_type:"Set",operator:"||",operands:o}}}r.or=w;function $(e){e=F(e);if(O(e)){return g}else if(M(e)){return T(!e.value)}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="||"&&e.operands.every(function(e){return M(e)||U(e)})){return j.apply(void 0,p(e.operands.map(function(e){return $(e)})))}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="&&"&&e.operands.every(function(e){return M(e)||U(e)})){return w.apply(void 0,p(e.operands.map(function(e){return $(e)})))}else if(U(e)){switch(e.operator){case"!==":return s(s({},e),{},{operator:"==="});case"<":return s(s({},e),{},{operator:">="});case"<=":return s(s({},e),{},{operator:">"});case"===":return s(s({},e),{},{operator:"!=="});case">":return s(s({},e),{},{operator:"<="});case">=":return s(s({},e),{},{operator:"<"})}}else if(e._type==="Not"){return e.operand}return{_type:"Not",operand:e}}r.not=$;function I(e){if(M(e)){return T(!!e.value)}else{return{_type:"Truthy",operand:e}}}r.isTruthy=I;function S(e,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var t=arguments.length>3?arguments[3]:undefined;return x(e,r,n,t)}r.bindingExpression=S;function x(e,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var t=arguments.length>3?arguments[3]:undefined;if(e===undefined){return g}var a;if(t){a=t(e);if(a===undefined){return g}}else{var o=n.concat();o.push(e);a=o.join("/")}return{_type:"PathInModel",modelName:r,path:a}}r.pathInModel=x;function T(e){var r;if(typeof e==="object"&&e!==null&&e!==undefined){if(Array.isArray(e)){r=e.map(F)}else if(D(e)){r=e.valueOf()}else{r=Object.entries(e).reduce(function(e,r){var n=t(r,2),a=n[0],o=n[1];var u=F(o);if(u._type!=="Constant"||u.value!==undefined){e[a]=u}return e},{})}}else{r=e}return{_type:"Constant",value:r}}r.constant=T;function C(e,r){if(e!==undefined&&typeof e==="string"&&e.startsWith("{")){if(e.startsWith("{=")){return{_type:"EmbeddedExpressionBinding",value:e}}else{return{_type:"EmbeddedBinding",value:e}}}else if(r==="boolean"&&typeof e==="string"&&(e==="true"||e==="false")){return T(e==="true")}else if(r==="number"&&typeof e==="string"&&(!isNaN(Number(e))||e==="NaN")){return T(Number(e))}else{return T(e)}}r.resolveBindingString=C;function A(e){return{_type:"Ref",ref:e}}r.ref=A;function N(e){return e!==null&&typeof e==="object"&&e._type!==undefined}function F(e){if(N(e)){return e}return T(e)}function M(e){return typeof e!=="object"||e._type==="Constant"}r.isConstant=M;function k(e){return M(e)&&e.value===true}function L(e){return M(e)&&e.value===false}function q(e){return typeof e==="object"&&e._type==="PathInModel"}r.isPathInModelExpression=q;function G(e){return typeof e==="object"&&e._type==="ComplexType"}r.isComplexTypeExpression=G;function B(e){return typeof e==="object"&&e._type==="Concat"}function U(e){return e._type==="Comparison"}function D(e){switch(e.constructor.name){case"String":case"Number":case"Boolean":return true;default:return false}}function R(e){return typeof e==="object"&&!D(e)}function J(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2?arguments[2]:undefined;var t=arguments.length>3?arguments[3]:undefined;return W(e,r,n,t)}r.annotationExpression=J;function W(e){var r;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var t=arguments.length>2?arguments[2]:undefined;var a=arguments.length>3?arguments[3]:undefined;if(e===undefined){return F(t)}e=(r=e)===null||r===void 0?void 0:r.valueOf();if(!R(e)){return T(e)}switch(e.type){case"Path":return x(e.path,undefined,n,a);case"If":return z(e.If,n,a);case"Not":return $(V(e.Not,n,a));case"Eq":return X(V(e.Eq[0],n,a),V(e.Eq[1],n,a));case"Ne":return Y(V(e.Ne[0],n,a),V(e.Ne[1],n,a));case"Gt":return ee(V(e.Gt[0],n,a),V(e.Gt[1],n,a));case"Ge":return Z(V(e.Ge[0],n,a),V(e.Ge[1],n,a));case"Lt":return ne(V(e.Lt[0],n,a),V(e.Lt[1],n,a));case"Le":return re(V(e.Le[0],n,a),V(e.Le[1],n,a));case"Or":return w.apply(void 0,p(e.Or.map(function(e){return V(e,n,a)})));case"And":return j.apply(void 0,p(e.And.map(function(e){return V(e,n,a)})));case"Apply":return H(e,n,a)}return g}r.getExpressionFromAnnotation=W;function V(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var t=arguments.length>2?arguments[2]:undefined;if(e===null||typeof e!=="object"){return T(e)}else if(e.hasOwnProperty("$Or")){return w.apply(void 0,p(e.$Or.map(function(e){return V(e,r,t)})))}else if(e.hasOwnProperty("$And")){return j.apply(void 0,p(e.$And.map(function(e){return V(e,r,t)})))}else if(e.hasOwnProperty("$Not")){return $(V(e.$Not,r,t))}else if(e.hasOwnProperty("$Eq")){return X(V(e.$Eq[0],r,t),V(e.$Eq[1],r,t))}else if(e.hasOwnProperty("$Ne")){return Y(V(e.$Ne[0],r,t),V(e.$Ne[1],r,t))}else if(e.hasOwnProperty("$Gt")){return ee(V(e.$Gt[0],r,t),V(e.$Gt[1],r,t))}else if(e.hasOwnProperty("$Ge")){return Z(V(e.$Ge[0],r,t),V(e.$Ge[1],r,t))}else if(e.hasOwnProperty("$Lt")){return ne(V(e.$Lt[0],r,t),V(e.$Lt[1],r,t))}else if(e.hasOwnProperty("$Le")){return re(V(e.$Le[0],r,t),V(e.$Le[1],r,t))}else if(e.hasOwnProperty("$Path")){return x(e.$Path,undefined,r,t)}else if(e.hasOwnProperty("$Apply")){return W({type:"Apply",Function:e.$Function,Apply:e.$Apply},r,undefined,t)}else if(e.hasOwnProperty("$If")){return W({type:"If",If:e.$If},r,undefined,t)}else if(e.hasOwnProperty("$EnumMember")){return T(n(e.$EnumMember))}return T(false)}function z(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2?arguments[2]:undefined;return te(V(e[0],r,n),V(e[1],r,n),V(e[2],r,n))}r.annotationIfExpression=z;function H(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2?arguments[2]:undefined;switch(e.Function){case"odata.concat":return fe.apply(void 0,p(e.Apply.map(function(e){var t=e;if(e.hasOwnProperty("$Path")){t={type:"Path",path:e.$Path}}else if(e.hasOwnProperty("$If")){t={type:"If",If:e.$If}}else if(e.hasOwnProperty("$Apply")){t={type:"Apply",Function:e.$Function,Apply:e.$Apply}}return W(t,r,undefined,n)})))}return g}r.annotationApplyExpression=H;function K(e,r,n){var t=F(r);var a=F(n);if(O(t,a)){return g}if(M(t)&&M(a)){switch(e){case"!==":return T(t.value!==a.value);case"<":return T(t.value<a.value);case"<=":return T(t.value<=a.value);case">":return T(t.value>a.value);case">=":return T(t.value>=a.value);case"===":return T(t.value===a.value)}}else{return{_type:"Comparison",operator:e,operand1:t,operand2:a}}}function Q(e){if(e._type==="Unresolvable"){return e}return{_type:"Length",pathInModel:e}}r.length=Q;function X(e,r){var n;var t=F(e);var a=F(r);if(O(t,a)){return g}if(E(t,a)){return T(true)}function o(e,r){if(e._type==="Comparison"&&k(r)){return e}else if(e._type==="Comparison"&&L(r)){return $(e)}else if(e._type==="IfElse"&&E(e.onTrue,r)){return w(e.condition,X(e.onFalse,r))}else if(e._type==="IfElse"&&E(e.onFalse,r)){return w($(e.condition),X(e.onTrue,r))}else if(e._type==="IfElse"&&M(e.onTrue)&&M(e.onFalse)&&M(r)&&!E(e.onTrue,r)&&!E(e.onFalse,r)){return T(false)}return undefined}var u=(n=o(t,a))!==null&&n!==void 0?n:o(a,t);return u!==null&&u!==void 0?u:K("===",t,a)}r.equal=X;function Y(e,r){return $(X(e,r))}r.notEqual=Y;function Z(e,r){return K(">=",e,r)}r.greaterOrEqual=Z;function ee(e,r){return K(">",e,r)}r.greaterThan=ee;function re(e,r){return K("<=",e,r)}r.lessOrEqual=re;function ne(e,r){return K("<",e,r)}r.lessThan=ne;function te(e,r,n){var t=F(e);var a=F(r);var o=F(n);if(O(t,a,o)){return g}if(t._type==="Not"){var u=[o,a];a=u[0];o=u[1];t=$(t)}if(a._type==="IfElse"&&E(t,a.condition)){a=a.onTrue}if(o._type==="IfElse"&&E(t,o.condition)){o=o.onFalse}if(M(t)){return t.value?a:o}if(E(a,o)){return a}if(L(o)){return j(t,a)}if(k(o)){return w($(t),a)}if(L(a)){return j($(t),o)}if(k(a)){return w(t,o)}if(G(e)||G(r)||G(n)){var i=0;var s=oe([e,r,n],"sap.fe.core.formatters.StandardFormatter#ifElse");var f=[];ce(s,"PathInModel",function(e){f.push(e);return x("$".concat(i++),"$")},true);f.unshift(T(JSON.stringify(s)));return oe(f,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"IfElse",condition:t,onTrue:a,onFalse:o}}r.ifElse=te;function ae(e){switch(e._type){case"Constant":case"Formatter":case"ComplexType":return false;case"Set":return e.operands.some(ae);case"PathInModel":return e.modelName===undefined;case"Comparison":return ae(e.operand1)||ae(e.operand2);case"IfElse":return ae(e.condition)||ae(e.onTrue)||ae(e.onFalse);case"Not":case"Truthy":return ae(e.operand);default:return false}}function oe(e,r,n){var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var o=e.map(F);if(O.apply(void 0,p(o))){return g}if(n){if(!o.some(ae)){n.keys.forEach(function(e){return o.push(x(e.name,""))})}}var u="";if(typeof r==="string"){u=r}else{u=r.__functionName}var i=u.split("#"),s=t(i,2),f=s[0],c=s[1];if(!a&&(o.some(G)||o.some(B))){var l=0;var d=oe(o,u,undefined,true);var v=[];ce(d,"PathInModel",function(e){v.push(e);return x("$".concat(l++),"$")});v.unshift(T(JSON.stringify(d)));return oe(v,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}else if(!!c&&c.length>0){o.unshift(T(c))}return{_type:"Formatter",fn:f,parameters:o}}r.formatResult=oe;function ue(e,r,n,t){var a,o,u,i,s,f;var c=e.map(F);if(O.apply(void 0,p(c))){return g}if(c.length===1&&M(c[0])&&!n){return c[0]}else if(n){if(!c.some(ae)){n.keys.forEach(function(e){return c.push(x(e.name,""))})}}if(!(t&&t.showNumber===false)&&(((a=e[0])===null||a===void 0?void 0:(o=a.type)===null||o===void 0?void 0:o.indexOf("sap.ui.model.odata.type.Int"))===0||((u=e[0])===null||u===void 0?void 0:(i=u.type)===null||i===void 0?void 0:i.indexOf("sap.ui.model.odata.type.Decimal"))===0||((s=e[0])===null||s===void 0?void 0:(f=s.type)===null||f===void 0?void 0:f.indexOf("sap.ui.model.odata.type.Double"))===0)){var l,d;if(((l=e[0])===null||l===void 0?void 0:l.type)==="sap.ui.model.odata.type.Int64"||((d=e[0])===null||d===void 0?void 0:d.type)==="sap.ui.model.odata.type.Decimal"){var v;t=((v=t)===null||v===void 0?void 0:v.showMeasure)===false?{emptyString:"",showMeasure:false}:{emptyString:""}}else{var y;t=((y=t)===null||y===void 0?void 0:y.showMeasure)===false?{parseAsString:false,emptyString:"",showMeasure:false}:{parseAsString:false,emptyString:""}}}if(r==="sap.ui.model.odata.type.Unit"){var m=x("/##@@requestUnitsOfMeasure");m.targetType="any";m.mode="OneTime";c.push(m)}else if(r==="sap.ui.model.odata.type.Currency"){var h=x("/##@@requestCurrencyCodes");h.targetType="any";h.mode="OneTime";c.push(h)}return{_type:"ComplexType",type:r,formatOptions:t||{},parameters:{},bindingParameters:c}}r.addTypeInformation=ue;function ie(e,r,n){var t=typeof e==="string"?e:e.__functionName;return{_type:"Function",obj:n!==undefined?F(n):undefined,fn:t,parameters:r.map(F)}}r.fn=ie;function se(e){var r=[];ce(e,"PathInModel",function(e){r.push(w(X(e,""),X(e,undefined),X(e,null)));return e});return j.apply(void 0,r)}r.isEmpty=se;function fe(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}var t=r.map(F);if(O.apply(void 0,p(t))){return g}if(t.every(M)){return T(t.reduce(function(e,r){if(r.value!==undefined){return e+r.value.toString()}return e},""))}else if(t.some(G)){var a=0;var o=oe(t,"sap.fe.core.formatters.StandardFormatter#concat",undefined,true);var u=[];ce(o,"PathInModel",function(e){u.push(e);return x("$".concat(a++),"$")});u.unshift(T(JSON.stringify(o)));return oe(u,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"Concat",expressions:t}}r.concat=fe;function ce(e,r,n){var t=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var a=e;switch(a._type){case"Function":case"Formatter":a.parameters=a.parameters.map(function(e){return ce(e,r,n,t)});break;case"Concat":a.expressions=a.expressions.map(function(e){return ce(e,r,n,t)});a=fe.apply(void 0,p(a.expressions));break;case"ComplexType":a.bindingParameters=a.bindingParameters.map(function(e){return ce(e,r,n,t)});break;case"IfElse":var o=ce(a.onTrue,r,n,t);var u=ce(a.onFalse,r,n,t);var i=a.condition;if(t){i=ce(a.condition,r,n,t)}a=te(i,o,u);break;case"Not":if(t){var s=ce(a.operand,r,n,t);a=$(s)}break;case"Truthy":break;case"Set":if(t){var f=a.operands.map(function(e){return ce(e,r,n,t)});a=a.operator==="||"?w.apply(void 0,p(f)):j.apply(void 0,p(f))}break;case"Comparison":if(t){var c=ce(a.operand1,r,n,t);var l=ce(a.operand2,r,n,t);a=K(a.operator,c,l)}break;case"Ref":case"Length":case"PathInModel":case"Constant":case"EmbeddedBinding":case"EmbeddedExpressionBinding":case"Unresolvable":break}if(r===a._type){a=n(e)}return a}r.transformRecursively=ce;var le=function(e){return!M(e)&&!q(e)&&N(e)&&e._type!=="IfElse"&&e._type!=="Function"};function pe(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(r&&Object.keys(e.value).length===0){return""}var n=e.value;var t=[];Object.keys(n).forEach(function(e){var a=n[e];var o=he(a,true,false,r);if(o&&o.length>0){t.push("".concat(e,": ").concat(o))}});return"{".concat(t.join(", "),"}")}function de(e,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var t=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(e.value===null){return t?null:"null"}if(e.value===undefined){return t?undefined:"undefined"}if(typeof e.value==="object"){if(Array.isArray(e.value)){var a=e.value.map(function(e){return he(e,true)});return"[".concat(a.join(", "),"]")}else{return pe(e,n)}}if(r){switch(typeof e.value){case"number":case"bigint":case"boolean":return e.value.toString();case"string":return"'".concat(b(e.value.toString()),"'");default:return""}}else{return t?e.value:e.value.toString()}}r.compileConstant=de;function ve(e,r,n){if(e.type||e.parameters||e.targetType||e.formatOptions||e.constraints){var t={path:_e(e),type:e.type,targetType:e.targetType,parameters:e.parameters,formatOptions:e.formatOptions,constraints:e.constraints};var a=he(t,false,false,true);if(r){return"".concat(n).concat(a)}return a}else if(r){return"".concat(n,"{").concat(_e(e),"}")}else{return"{".concat(_e(e),"}")}}function ye(e){if(e.bindingParameters.length===1){return"{".concat(Oe(e.bindingParameters[0],true),", type: '").concat(e.type,"'}")}var r="], type: '".concat(e.type,"'");if(Ee(e.formatOptions)){r+=", formatOptions: ".concat(he(e.formatOptions))}if(Ee(e.parameters)){r+=", parameters: ".concat(he(e.parameters))}r+="}";return"{mode:'TwoWay', parts:[".concat(e.bindingParameters.map(function(e){return Oe(e)}).join(",")).concat(r)}function me(e,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(r){if(n){return"(".concat(e,")")}else{return e}}else{return"{= ".concat(e,"}")}}function he(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var t=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var a=F(e);var o=n?"$":"%";switch(a._type){case"Unresolvable":return undefined;case"Constant":return de(a,r,t);case"Ref":return a.ref||"null";case"Function":var u="".concat(a.parameters.map(function(e){return he(e,true)}).join(", "));return a.obj===undefined?"".concat(a.fn,"(").concat(u,")"):"".concat(he(a.obj,true),".").concat(a.fn,"(").concat(u,")");case"EmbeddedExpressionBinding":return r?"(".concat(a.value.substr(2,a.value.length-3),")"):"".concat(a.value);case"EmbeddedBinding":return r?"".concat(o).concat(a.value):"".concat(a.value);case"PathInModel":return ve(a,r,o);case"Comparison":var i=ge(a);return me(i,r);case"IfElse":var s="".concat(he(a.condition,true)," ? ").concat(he(a.onTrue,true)," : ").concat(he(a.onFalse,true));return me(s,r,true);case"Set":var f=a.operands.map(function(e){return he(e,true)}).join(" ".concat(a.operator," "));return me(f,r,true);case"Concat":var c=a.expressions.map(function(e){return he(e,true,true)}).join(" + ");return me(c,r);case"Length":var l="".concat(he(a.pathInModel,true),".length");return me(l,r);case"Not":var p="!".concat(he(a.operand,true));return me(p,r);case"Truthy":var d="!!".concat(he(a.operand,true));return me(d,r);case"Formatter":var v=be(a);return r?"$".concat(v):v;case"ComplexType":var y=ye(a);return r?"$".concat(y):y;default:return""}}r.compileExpression=he;function ge(e){function r(e){var r;var n=(r=he(e,true))!==null&&r!==void 0?r:"undefined";return me(n,true,le(e))}return"".concat(r(e.operand1)," ").concat(e.operator," ").concat(r(e.operand2))}function be(e){if(e.parameters.length===1){return"{".concat(Oe(e.parameters[0],true),", formatter: '").concat(e.fn,"'}")}else{var r=e.parameters.map(function(e){if(e._type==="ComplexType"){return ye(e)}else{return Oe(e)}});return"{parts: [".concat(r.join(", "),"], formatter: '").concat(e.fn,"'}")}}function Oe(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n="";if(e._type==="Constant"){if(e.value===undefined){n="value: 'undefined'"}else{n="value: ".concat(de(e,true))}}else if(e._type==="PathInModel"){n="path: '".concat(_e(e),"'");n+=e.type?", type: '".concat(e.type,"'"):", targetType: 'any'";if(Ee(e.mode)){n+=", mode: '".concat(he(e.mode),"'")}if(Ee(e.constraints)){n+=", constraints: ".concat(he(e.constraints))}if(Ee(e.formatOptions)){n+=", formatOptions: ".concat(he(e.formatOptions))}if(Ee(e.parameters)){n+=", parameters: ".concat(he(e.parameters))}}else{return""}return r?n:"{".concat(n,"}")}function Ee(e){return e&&Object.keys(e).length>0}function _e(e){return"".concat(e.modelName?"".concat(e.modelName,">"):"").concat(e.path)}return r},false);
//# sourceMappingURL=BindingToolkit.js.map